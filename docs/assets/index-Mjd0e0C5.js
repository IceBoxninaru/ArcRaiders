(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))a(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function i(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function a(l){if(l.ep)return;l.ep=!0;const c=i(l);fetch(l.href,c)}})();function Hv(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var zd={exports:{}},kl={};var $_;function Bb(){if($_)return kl;$_=1;var s=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function i(a,l,c){var d=null;if(c!==void 0&&(d=""+c),l.key!==void 0&&(d=""+l.key),"key"in l){c={};for(var p in l)p!=="key"&&(c[p]=l[p])}else c=l;return l=c.ref,{$$typeof:s,type:a,key:d,ref:l!==void 0?l:null,props:c}}return kl.Fragment=t,kl.jsx=i,kl.jsxs=i,kl}var Z_;function qb(){return Z_||(Z_=1,zd.exports=Bb()),zd.exports}var j=qb(),jd={exports:{}},wt={};var J_;function Hb(){if(J_)return wt;J_=1;var s=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),A=Symbol.for("react.activity"),M=Symbol.iterator;function F(x){return x===null||typeof x!="object"?null:(x=M&&x[M]||x["@@iterator"],typeof x=="function"?x:null)}var tt={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},it=Object.assign,et={};function pt(x,K,st){this.props=x,this.context=K,this.refs=et,this.updater=st||tt}pt.prototype.isReactComponent={},pt.prototype.setState=function(x,K){if(typeof x!="object"&&typeof x!="function"&&x!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,x,K,"setState")},pt.prototype.forceUpdate=function(x){this.updater.enqueueForceUpdate(this,x,"forceUpdate")};function _t(){}_t.prototype=pt.prototype;function yt(x,K,st){this.props=x,this.context=K,this.refs=et,this.updater=st||tt}var Ft=yt.prototype=new _t;Ft.constructor=yt,it(Ft,pt.prototype),Ft.isPureReactComponent=!0;var ee=Array.isArray;function Ot(){}var C={H:null,A:null,T:null,S:null},S=Object.prototype.hasOwnProperty;function R(x,K,st){var at=st.ref;return{$$typeof:s,type:x,key:K,ref:at!==void 0?at:null,props:st}}function O(x,K){return R(x.type,K,x.props)}function D(x){return typeof x=="object"&&x!==null&&x.$$typeof===s}function U(x){var K={"=":"=0",":":"=2"};return"$"+x.replace(/[=:]/g,function(st){return K[st]})}var w=/\/+/g;function $t(x,K){return typeof x=="object"&&x!==null&&x.key!=null?U(""+x.key):K.toString(36)}function ye(x){switch(x.status){case"fulfilled":return x.value;case"rejected":throw x.reason;default:switch(typeof x.status=="string"?x.then(Ot,Ot):(x.status="pending",x.then(function(K){x.status==="pending"&&(x.status="fulfilled",x.value=K)},function(K){x.status==="pending"&&(x.status="rejected",x.reason=K)})),x.status){case"fulfilled":return x.value;case"rejected":throw x.reason}}throw x}function G(x,K,st,at,Tt){var It=typeof x;(It==="undefined"||It==="boolean")&&(x=null);var Bt=!1;if(x===null)Bt=!0;else switch(It){case"bigint":case"string":case"number":Bt=!0;break;case"object":switch(x.$$typeof){case s:case t:Bt=!0;break;case b:return Bt=x._init,G(Bt(x._payload),K,st,at,Tt)}}if(Bt)return Tt=Tt(x),Bt=at===""?"."+$t(x,0):at,ee(Tt)?(st="",Bt!=null&&(st=Bt.replace(w,"$&/")+"/"),G(Tt,K,st,"",function(Rr){return Rr})):Tt!=null&&(D(Tt)&&(Tt=O(Tt,st+(Tt.key==null||x&&x.key===Tt.key?"":(""+Tt.key).replace(w,"$&/")+"/")+Bt)),K.push(Tt)),1;Bt=0;var Me=at===""?".":at+":";if(ee(x))for(var le=0;le<x.length;le++)at=x[le],It=Me+$t(at,le),Bt+=G(at,K,st,It,Tt);else if(le=F(x),typeof le=="function")for(x=le.call(x),le=0;!(at=x.next()).done;)at=at.value,It=Me+$t(at,le++),Bt+=G(at,K,st,It,Tt);else if(It==="object"){if(typeof x.then=="function")return G(ye(x),K,st,at,Tt);throw K=String(x),Error("Objects are not valid as a React child (found: "+(K==="[object Object]"?"object with keys {"+Object.keys(x).join(", ")+"}":K)+"). If you meant to render a collection of children, use an array instead.")}return Bt}function rt(x,K,st){if(x==null)return x;var at=[],Tt=0;return G(x,at,"","",function(It){return K.call(st,It,Tt++)}),at}function dt(x){if(x._status===-1){var K=x._result;K=K(),K.then(function(st){(x._status===0||x._status===-1)&&(x._status=1,x._result=st)},function(st){(x._status===0||x._status===-1)&&(x._status=2,x._result=st)}),x._status===-1&&(x._status=0,x._result=K)}if(x._status===1)return x._result.default;throw x._result}var Vt=typeof reportError=="function"?reportError:function(x){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var K=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof x=="object"&&x!==null&&typeof x.message=="string"?String(x.message):String(x),error:x});if(!window.dispatchEvent(K))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",x);return}console.error(x)},Yt={map:rt,forEach:function(x,K,st){rt(x,function(){K.apply(this,arguments)},st)},count:function(x){var K=0;return rt(x,function(){K++}),K},toArray:function(x){return rt(x,function(K){return K})||[]},only:function(x){if(!D(x))throw Error("React.Children.only expected to receive a single React element child.");return x}};return wt.Activity=A,wt.Children=Yt,wt.Component=pt,wt.Fragment=i,wt.Profiler=l,wt.PureComponent=yt,wt.StrictMode=a,wt.Suspense=y,wt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=C,wt.__COMPILER_RUNTIME={__proto__:null,c:function(x){return C.H.useMemoCache(x)}},wt.cache=function(x){return function(){return x.apply(null,arguments)}},wt.cacheSignal=function(){return null},wt.cloneElement=function(x,K,st){if(x==null)throw Error("The argument must be a React element, but you passed "+x+".");var at=it({},x.props),Tt=x.key;if(K!=null)for(It in K.key!==void 0&&(Tt=""+K.key),K)!S.call(K,It)||It==="key"||It==="__self"||It==="__source"||It==="ref"&&K.ref===void 0||(at[It]=K[It]);var It=arguments.length-2;if(It===1)at.children=st;else if(1<It){for(var Bt=Array(It),Me=0;Me<It;Me++)Bt[Me]=arguments[Me+2];at.children=Bt}return R(x.type,Tt,at)},wt.createContext=function(x){return x={$$typeof:d,_currentValue:x,_currentValue2:x,_threadCount:0,Provider:null,Consumer:null},x.Provider=x,x.Consumer={$$typeof:c,_context:x},x},wt.createElement=function(x,K,st){var at,Tt={},It=null;if(K!=null)for(at in K.key!==void 0&&(It=""+K.key),K)S.call(K,at)&&at!=="key"&&at!=="__self"&&at!=="__source"&&(Tt[at]=K[at]);var Bt=arguments.length-2;if(Bt===1)Tt.children=st;else if(1<Bt){for(var Me=Array(Bt),le=0;le<Bt;le++)Me[le]=arguments[le+2];Tt.children=Me}if(x&&x.defaultProps)for(at in Bt=x.defaultProps,Bt)Tt[at]===void 0&&(Tt[at]=Bt[at]);return R(x,It,Tt)},wt.createRef=function(){return{current:null}},wt.forwardRef=function(x){return{$$typeof:p,render:x}},wt.isValidElement=D,wt.lazy=function(x){return{$$typeof:b,_payload:{_status:-1,_result:x},_init:dt}},wt.memo=function(x,K){return{$$typeof:_,type:x,compare:K===void 0?null:K}},wt.startTransition=function(x){var K=C.T,st={};C.T=st;try{var at=x(),Tt=C.S;Tt!==null&&Tt(st,at),typeof at=="object"&&at!==null&&typeof at.then=="function"&&at.then(Ot,Vt)}catch(It){Vt(It)}finally{K!==null&&st.types!==null&&(K.types=st.types),C.T=K}},wt.unstable_useCacheRefresh=function(){return C.H.useCacheRefresh()},wt.use=function(x){return C.H.use(x)},wt.useActionState=function(x,K,st){return C.H.useActionState(x,K,st)},wt.useCallback=function(x,K){return C.H.useCallback(x,K)},wt.useContext=function(x){return C.H.useContext(x)},wt.useDebugValue=function(){},wt.useDeferredValue=function(x,K){return C.H.useDeferredValue(x,K)},wt.useEffect=function(x,K){return C.H.useEffect(x,K)},wt.useEffectEvent=function(x){return C.H.useEffectEvent(x)},wt.useId=function(){return C.H.useId()},wt.useImperativeHandle=function(x,K,st){return C.H.useImperativeHandle(x,K,st)},wt.useInsertionEffect=function(x,K){return C.H.useInsertionEffect(x,K)},wt.useLayoutEffect=function(x,K){return C.H.useLayoutEffect(x,K)},wt.useMemo=function(x,K){return C.H.useMemo(x,K)},wt.useOptimistic=function(x,K){return C.H.useOptimistic(x,K)},wt.useReducer=function(x,K,st){return C.H.useReducer(x,K,st)},wt.useRef=function(x){return C.H.useRef(x)},wt.useState=function(x){return C.H.useState(x)},wt.useSyncExternalStore=function(x,K,st){return C.H.useSyncExternalStore(x,K,st)},wt.useTransition=function(){return C.H.useTransition()},wt.version="19.2.0",wt}var W_;function Lm(){return W_||(W_=1,jd.exports=Hb()),jd.exports}var ot=Lm();const Fb=Hv(ot);var Bd={exports:{}},Ul={},qd={exports:{}},Hd={};var t0;function Gb(){return t0||(t0=1,(function(s){function t(G,rt){var dt=G.length;G.push(rt);t:for(;0<dt;){var Vt=dt-1>>>1,Yt=G[Vt];if(0<l(Yt,rt))G[Vt]=rt,G[dt]=Yt,dt=Vt;else break t}}function i(G){return G.length===0?null:G[0]}function a(G){if(G.length===0)return null;var rt=G[0],dt=G.pop();if(dt!==rt){G[0]=dt;t:for(var Vt=0,Yt=G.length,x=Yt>>>1;Vt<x;){var K=2*(Vt+1)-1,st=G[K],at=K+1,Tt=G[at];if(0>l(st,dt))at<Yt&&0>l(Tt,st)?(G[Vt]=Tt,G[at]=dt,Vt=at):(G[Vt]=st,G[K]=dt,Vt=K);else if(at<Yt&&0>l(Tt,dt))G[Vt]=Tt,G[at]=dt,Vt=at;else break t}}return rt}function l(G,rt){var dt=G.sortIndex-rt.sortIndex;return dt!==0?dt:G.id-rt.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;s.unstable_now=function(){return c.now()}}else{var d=Date,p=d.now();s.unstable_now=function(){return d.now()-p}}var y=[],_=[],b=1,A=null,M=3,F=!1,tt=!1,it=!1,et=!1,pt=typeof setTimeout=="function"?setTimeout:null,_t=typeof clearTimeout=="function"?clearTimeout:null,yt=typeof setImmediate<"u"?setImmediate:null;function Ft(G){for(var rt=i(_);rt!==null;){if(rt.callback===null)a(_);else if(rt.startTime<=G)a(_),rt.sortIndex=rt.expirationTime,t(y,rt);else break;rt=i(_)}}function ee(G){if(it=!1,Ft(G),!tt)if(i(y)!==null)tt=!0,Ot||(Ot=!0,U());else{var rt=i(_);rt!==null&&ye(ee,rt.startTime-G)}}var Ot=!1,C=-1,S=5,R=-1;function O(){return et?!0:!(s.unstable_now()-R<S)}function D(){if(et=!1,Ot){var G=s.unstable_now();R=G;var rt=!0;try{t:{tt=!1,it&&(it=!1,_t(C),C=-1),F=!0;var dt=M;try{e:{for(Ft(G),A=i(y);A!==null&&!(A.expirationTime>G&&O());){var Vt=A.callback;if(typeof Vt=="function"){A.callback=null,M=A.priorityLevel;var Yt=Vt(A.expirationTime<=G);if(G=s.unstable_now(),typeof Yt=="function"){A.callback=Yt,Ft(G),rt=!0;break e}A===i(y)&&a(y),Ft(G)}else a(y);A=i(y)}if(A!==null)rt=!0;else{var x=i(_);x!==null&&ye(ee,x.startTime-G),rt=!1}}break t}finally{A=null,M=dt,F=!1}rt=void 0}}finally{rt?U():Ot=!1}}}var U;if(typeof yt=="function")U=function(){yt(D)};else if(typeof MessageChannel<"u"){var w=new MessageChannel,$t=w.port2;w.port1.onmessage=D,U=function(){$t.postMessage(null)}}else U=function(){pt(D,0)};function ye(G,rt){C=pt(function(){G(s.unstable_now())},rt)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(G){G.callback=null},s.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<G?Math.floor(1e3/G):5},s.unstable_getCurrentPriorityLevel=function(){return M},s.unstable_next=function(G){switch(M){case 1:case 2:case 3:var rt=3;break;default:rt=M}var dt=M;M=rt;try{return G()}finally{M=dt}},s.unstable_requestPaint=function(){et=!0},s.unstable_runWithPriority=function(G,rt){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var dt=M;M=G;try{return rt()}finally{M=dt}},s.unstable_scheduleCallback=function(G,rt,dt){var Vt=s.unstable_now();switch(typeof dt=="object"&&dt!==null?(dt=dt.delay,dt=typeof dt=="number"&&0<dt?Vt+dt:Vt):dt=Vt,G){case 1:var Yt=-1;break;case 2:Yt=250;break;case 5:Yt=1073741823;break;case 4:Yt=1e4;break;default:Yt=5e3}return Yt=dt+Yt,G={id:b++,callback:rt,priorityLevel:G,startTime:dt,expirationTime:Yt,sortIndex:-1},dt>Vt?(G.sortIndex=dt,t(_,G),i(y)===null&&G===i(_)&&(it?(_t(C),C=-1):it=!0,ye(ee,dt-Vt))):(G.sortIndex=Yt,t(y,G),tt||F||(tt=!0,Ot||(Ot=!0,U()))),G},s.unstable_shouldYield=O,s.unstable_wrapCallback=function(G){var rt=M;return function(){var dt=M;M=rt;try{return G.apply(this,arguments)}finally{M=dt}}}})(Hd)),Hd}var e0;function Qb(){return e0||(e0=1,qd.exports=Gb()),qd.exports}var Fd={exports:{}},cn={};var n0;function Yb(){if(n0)return cn;n0=1;var s=Lm();function t(y){var _="https://react.dev/errors/"+y;if(1<arguments.length){_+="?args[]="+encodeURIComponent(arguments[1]);for(var b=2;b<arguments.length;b++)_+="&args[]="+encodeURIComponent(arguments[b])}return"Minified React error #"+y+"; visit "+_+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var a={d:{f:i,r:function(){throw Error(t(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},l=Symbol.for("react.portal");function c(y,_,b){var A=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:A==null?null:""+A,children:y,containerInfo:_,implementation:b}}var d=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(y,_){if(y==="font")return"";if(typeof _=="string")return _==="use-credentials"?_:""}return cn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,cn.createPortal=function(y,_){var b=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_||_.nodeType!==1&&_.nodeType!==9&&_.nodeType!==11)throw Error(t(299));return c(y,_,null,b)},cn.flushSync=function(y){var _=d.T,b=a.p;try{if(d.T=null,a.p=2,y)return y()}finally{d.T=_,a.p=b,a.d.f()}},cn.preconnect=function(y,_){typeof y=="string"&&(_?(_=_.crossOrigin,_=typeof _=="string"?_==="use-credentials"?_:"":void 0):_=null,a.d.C(y,_))},cn.prefetchDNS=function(y){typeof y=="string"&&a.d.D(y)},cn.preinit=function(y,_){if(typeof y=="string"&&_&&typeof _.as=="string"){var b=_.as,A=p(b,_.crossOrigin),M=typeof _.integrity=="string"?_.integrity:void 0,F=typeof _.fetchPriority=="string"?_.fetchPriority:void 0;b==="style"?a.d.S(y,typeof _.precedence=="string"?_.precedence:void 0,{crossOrigin:A,integrity:M,fetchPriority:F}):b==="script"&&a.d.X(y,{crossOrigin:A,integrity:M,fetchPriority:F,nonce:typeof _.nonce=="string"?_.nonce:void 0})}},cn.preinitModule=function(y,_){if(typeof y=="string")if(typeof _=="object"&&_!==null){if(_.as==null||_.as==="script"){var b=p(_.as,_.crossOrigin);a.d.M(y,{crossOrigin:b,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0})}}else _==null&&a.d.M(y)},cn.preload=function(y,_){if(typeof y=="string"&&typeof _=="object"&&_!==null&&typeof _.as=="string"){var b=_.as,A=p(b,_.crossOrigin);a.d.L(y,b,{crossOrigin:A,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0,type:typeof _.type=="string"?_.type:void 0,fetchPriority:typeof _.fetchPriority=="string"?_.fetchPriority:void 0,referrerPolicy:typeof _.referrerPolicy=="string"?_.referrerPolicy:void 0,imageSrcSet:typeof _.imageSrcSet=="string"?_.imageSrcSet:void 0,imageSizes:typeof _.imageSizes=="string"?_.imageSizes:void 0,media:typeof _.media=="string"?_.media:void 0})}},cn.preloadModule=function(y,_){if(typeof y=="string")if(_){var b=p(_.as,_.crossOrigin);a.d.m(y,{as:typeof _.as=="string"&&_.as!=="script"?_.as:void 0,crossOrigin:b,integrity:typeof _.integrity=="string"?_.integrity:void 0})}else a.d.m(y)},cn.requestFormReset=function(y){a.d.r(y)},cn.unstable_batchedUpdates=function(y,_){return y(_)},cn.useFormState=function(y,_,b){return d.H.useFormState(y,_,b)},cn.useFormStatus=function(){return d.H.useHostTransitionStatus()},cn.version="19.2.0",cn}var i0;function Kb(){if(i0)return Fd.exports;i0=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(t){console.error(t)}}return s(),Fd.exports=Yb(),Fd.exports}var r0;function Xb(){if(r0)return Ul;r0=1;var s=Qb(),t=Lm(),i=Kb();function a(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)n+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function c(e){var n=e,r=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(r=n.return),e=n.return;while(e)}return n.tag===3?r:null}function d(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function p(e){if(e.tag===31){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function y(e){if(c(e)!==e)throw Error(a(188))}function _(e){var n=e.alternate;if(!n){if(n=c(e),n===null)throw Error(a(188));return n!==e?null:e}for(var r=e,o=n;;){var h=r.return;if(h===null)break;var f=h.alternate;if(f===null){if(o=h.return,o!==null){r=o;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===r)return y(h),e;if(f===o)return y(h),n;f=f.sibling}throw Error(a(188))}if(r.return!==o.return)r=h,o=f;else{for(var g=!1,E=h.child;E;){if(E===r){g=!0,r=h,o=f;break}if(E===o){g=!0,o=h,r=f;break}E=E.sibling}if(!g){for(E=f.child;E;){if(E===r){g=!0,r=f,o=h;break}if(E===o){g=!0,o=f,r=h;break}E=E.sibling}if(!g)throw Error(a(189))}}if(r.alternate!==o)throw Error(a(190))}if(r.tag!==3)throw Error(a(188));return r.stateNode.current===r?e:n}function b(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=b(e),n!==null)return n;e=e.sibling}return null}var A=Object.assign,M=Symbol.for("react.element"),F=Symbol.for("react.transitional.element"),tt=Symbol.for("react.portal"),it=Symbol.for("react.fragment"),et=Symbol.for("react.strict_mode"),pt=Symbol.for("react.profiler"),_t=Symbol.for("react.consumer"),yt=Symbol.for("react.context"),Ft=Symbol.for("react.forward_ref"),ee=Symbol.for("react.suspense"),Ot=Symbol.for("react.suspense_list"),C=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),O=Symbol.for("react.memo_cache_sentinel"),D=Symbol.iterator;function U(e){return e===null||typeof e!="object"?null:(e=D&&e[D]||e["@@iterator"],typeof e=="function"?e:null)}var w=Symbol.for("react.client.reference");function $t(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===w?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case it:return"Fragment";case pt:return"Profiler";case et:return"StrictMode";case ee:return"Suspense";case Ot:return"SuspenseList";case R:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case tt:return"Portal";case yt:return e.displayName||"Context";case _t:return(e._context.displayName||"Context")+".Consumer";case Ft:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case C:return n=e.displayName||null,n!==null?n:$t(e.type)||"Memo";case S:n=e._payload,e=e._init;try{return $t(e(n))}catch{}}return null}var ye=Array.isArray,G=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,rt=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,dt={pending:!1,data:null,method:null,action:null},Vt=[],Yt=-1;function x(e){return{current:e}}function K(e){0>Yt||(e.current=Vt[Yt],Vt[Yt]=null,Yt--)}function st(e,n){Yt++,Vt[Yt]=e.current,e.current=n}var at=x(null),Tt=x(null),It=x(null),Bt=x(null);function Me(e,n){switch(st(It,n),st(Tt,e),st(at,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?v_(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=v_(n),e=E_(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}K(at),st(at,e)}function le(){K(at),K(Tt),K(It)}function Rr(e){e.memoizedState!==null&&st(Bt,e);var n=at.current,r=E_(n,e.type);n!==r&&(st(Tt,e),st(at,r))}function Is(e){Tt.current===e&&(K(at),K(Tt)),Bt.current===e&&(K(Bt),xl._currentValue=dt)}var un,Tn;function fe(e){if(un===void 0)try{throw Error()}catch(r){var n=r.stack.trim().match(/\n( *(at )?)/);un=n&&n[1]||"",Tn=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+un+e+Tn}var Qi=!1;function Ai(e,n){if(!e||Qi)return"";Qi=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(n){var X=function(){throw Error()};if(Object.defineProperty(X.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(X,[])}catch(H){var B=H}Reflect.construct(e,[],X)}else{try{X.call()}catch(H){B=H}e.call(X.prototype)}}else{try{throw Error()}catch(H){B=H}(X=e())&&typeof X.catch=="function"&&X.catch(function(){})}}catch(H){if(H&&B&&typeof H.stack=="string")return[H.stack,B.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=o.DetermineComponentFrameRoot(),g=f[0],E=f[1];if(g&&E){var I=g.split(`
`),z=E.split(`
`);for(h=o=0;o<I.length&&!I[o].includes("DetermineComponentFrameRoot");)o++;for(;h<z.length&&!z[h].includes("DetermineComponentFrameRoot");)h++;if(o===I.length||h===z.length)for(o=I.length-1,h=z.length-1;1<=o&&0<=h&&I[o]!==z[h];)h--;for(;1<=o&&0<=h;o--,h--)if(I[o]!==z[h]){if(o!==1||h!==1)do if(o--,h--,0>h||I[o]!==z[h]){var Q=`
`+I[o].replace(" at new "," at ");return e.displayName&&Q.includes("<anonymous>")&&(Q=Q.replace("<anonymous>",e.displayName)),Q}while(1<=o&&0<=h);break}}}finally{Qi=!1,Error.prepareStackTrace=r}return(r=e?e.displayName||e.name:"")?fe(r):""}function Cs(e,n){switch(e.tag){case 26:case 27:case 5:return fe(e.type);case 16:return fe("Lazy");case 13:return e.child!==n&&n!==null?fe("Suspense Fallback"):fe("Suspense");case 19:return fe("SuspenseList");case 0:case 15:return Ai(e.type,!1);case 11:return Ai(e.type.render,!1);case 1:return Ai(e.type,!0);case 31:return fe("Activity");default:return""}}function Ns(e){try{var n="",r=null;do n+=Cs(e,r),r=e,e=e.return;while(e);return n}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var de=Object.prototype.hasOwnProperty,_e=s.unstable_scheduleCallback,hi=s.unstable_cancelCallback,_a=s.unstable_shouldYield,va=s.unstable_requestPaint,Ze=s.unstable_now,Si=s.unstable_getCurrentPriorityLevel,Yn=s.unstable_ImmediatePriority,Ir=s.unstable_UserBlockingPriority,gn=s.unstable_NormalPriority,Ea=s.unstable_LowPriority,Ta=s.unstable_IdlePriority,Ds=s.log,ba=s.unstable_setDisableYieldValue,Ie=null,Oe=null;function pn(e){if(typeof Ds=="function"&&ba(e),Oe&&typeof Oe.setStrictMode=="function")try{Oe.setStrictMode(Ie,e)}catch{}}var ve=Math.clz32?Math.clz32:Ms,xs=Math.log,Yi=Math.LN2;function Ms(e){return e>>>=0,e===0?32:31-(xs(e)/Yi|0)|0}var Mn=256,wi=262144,Te=4194304;function On(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Kn(e,n,r){var o=e.pendingLanes;if(o===0)return 0;var h=0,f=e.suspendedLanes,g=e.pingedLanes;e=e.warmLanes;var E=o&134217727;return E!==0?(o=E&~f,o!==0?h=On(o):(g&=E,g!==0?h=On(g):r||(r=E&~e,r!==0&&(h=On(r))))):(E=o&~f,E!==0?h=On(E):g!==0?h=On(g):r||(r=o&~e,r!==0&&(h=On(r)))),h===0?0:n!==0&&n!==h&&(n&f)===0&&(f=h&-h,r=n&-n,f>=r||f===32&&(r&4194048)!==0)?n:h}function Vn(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function Os(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Aa(){var e=Te;return Te<<=1,(Te&62914560)===0&&(Te=4194304),e}function Xn(e){for(var n=[],r=0;31>r;r++)n.push(e);return n}function Ki(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Bo(e,n,r,o,h,f){var g=e.pendingLanes;e.pendingLanes=r,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=r,e.entangledLanes&=r,e.errorRecoveryDisabledLanes&=r,e.shellSuspendCounter=0;var E=e.entanglements,I=e.expirationTimes,z=e.hiddenUpdates;for(r=g&~r;0<r;){var Q=31-ve(r),X=1<<Q;E[Q]=0,I[Q]=-1;var B=z[Q];if(B!==null)for(z[Q]=null,Q=0;Q<B.length;Q++){var H=B[Q];H!==null&&(H.lane&=-536870913)}r&=~X}o!==0&&Ri(e,o,0),f!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=f&~(g&~n))}function Ri(e,n,r){e.pendingLanes|=n,e.suspendedLanes&=~n;var o=31-ve(n);e.entangledLanes|=n,e.entanglements[o]=e.entanglements[o]|1073741824|r&261930}function Cr(e,n){var r=e.entangledLanes|=n;for(e=e.entanglements;r;){var o=31-ve(r),h=1<<o;h&n|e[o]&n&&(e[o]|=n),r&=~h}}function Vs(e,n){var r=n&-n;return r=(r&42)!==0?1:Xi(r),(r&(e.suspendedLanes|n))!==0?0:r}function Xi(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function $n(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Sa(){var e=rt.p;return e!==0?e:(e=window.event,e===void 0?32:H_(e.type))}function kn(e,n){var r=rt.p;try{return rt.p=e,n()}finally{rt.p=r}}var Un=Math.random().toString(36).slice(2),be="__reactFiber$"+Un,Ve="__reactProps$"+Un,Zn="__reactContainer$"+Un,Nr="__reactEvents$"+Un,qo="__reactListeners$"+Un,wa="__reactHandles$"+Un,Ra="__reactResources$"+Un,ke="__reactMarker$"+Un;function $i(e){delete e[be],delete e[Ve],delete e[Nr],delete e[qo],delete e[wa]}function Ln(e){var n=e[be];if(n)return n;for(var r=e.parentNode;r;){if(n=r[Zn]||r[be]){if(r=n.alternate,n.child!==null||r!==null&&r.child!==null)for(e=I_(e);e!==null;){if(r=e[be])return r;e=I_(e)}return n}e=r,r=e.parentNode}return null}function yn(e){if(e=e[be]||e[Zn]){var n=e.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return e}return null}function _n(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(a(33))}function Pn(e){var n=e[Ra];return n||(n=e[Ra]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Ae(e){e[ke]=!0}var V=new Set,J={};function W(e,n){ft(e,n),ft(e+"Capture",n)}function ft(e,n){for(J[e]=n,e=0;e<n.length;e++)V.add(n[e])}var bt=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),me={},Ye={};function bn(e){return de.call(Ye,e)?!0:de.call(me,e)?!1:bt.test(e)?Ye[e]=!0:(me[e]=!0,!1)}function Ke(e,n,r){if(bn(n))if(r===null)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var o=n.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+r)}}function Je(e,n,r){if(r===null)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+r)}}function Se(e,n,r,o){if(o===null)e.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(r);return}e.setAttributeNS(n,r,""+o)}}function Ue(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Dr(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Ho(e,n,r){var o=Object.getOwnPropertyDescriptor(e.constructor.prototype,n);if(!e.hasOwnProperty(n)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var h=o.get,f=o.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return h.call(this)},set:function(g){r=""+g,f.call(this,g)}}),Object.defineProperty(e,n,{enumerable:o.enumerable}),{getValue:function(){return r},setValue:function(g){r=""+g},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function Jt(e){if(!e._valueTracker){var n=Dr(e)?"checked":"value";e._valueTracker=Ho(e,n,""+e[n])}}function ks(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var r=n.getValue(),o="";return e&&(o=Dr(e)?e.checked?"true":"false":e.value),e=o,e!==r?(n.setValue(e),!0):!1}function Ii(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Us=/[\n"\\]/g;function An(e){return e.replace(Us,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function Ia(e,n,r,o,h,f,g,E){e.name="",g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"?e.type=g:e.removeAttribute("type"),n!=null?g==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+Ue(n)):e.value!==""+Ue(n)&&(e.value=""+Ue(n)):g!=="submit"&&g!=="reset"||e.removeAttribute("value"),n!=null?Fo(e,g,Ue(n)):r!=null?Fo(e,g,Ue(r)):o!=null&&e.removeAttribute("value"),h==null&&f!=null&&(e.defaultChecked=!!f),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?e.name=""+Ue(E):e.removeAttribute("name")}function Eu(e,n,r,o,h,f,g,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.type=f),n!=null||r!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){Jt(e);return}r=r!=null?""+Ue(r):"",n=n!=null?""+Ue(n):r,E||n===e.value||(e.value=n),e.defaultValue=n}o=o??h,o=typeof o!="function"&&typeof o!="symbol"&&!!o,e.checked=E?e.checked:!!o,e.defaultChecked=!!o,g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(e.name=g),Jt(e)}function Fo(e,n,r){n==="number"&&Ii(e.ownerDocument)===e||e.defaultValue===""+r||(e.defaultValue=""+r)}function xr(e,n,r,o){if(e=e.options,n){n={};for(var h=0;h<r.length;h++)n["$"+r[h]]=!0;for(r=0;r<e.length;r++)h=n.hasOwnProperty("$"+e[r].value),e[r].selected!==h&&(e[r].selected=h),h&&o&&(e[r].defaultSelected=!0)}else{for(r=""+Ue(r),n=null,h=0;h<e.length;h++){if(e[h].value===r){e[h].selected=!0,o&&(e[h].defaultSelected=!0);return}n!==null||e[h].disabled||(n=e[h])}n!==null&&(n.selected=!0)}}function Tu(e,n,r){if(n!=null&&(n=""+Ue(n),n!==e.value&&(e.value=n),r==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=r!=null?""+Ue(r):""}function Mr(e,n,r,o){if(n==null){if(o!=null){if(r!=null)throw Error(a(92));if(ye(o)){if(1<o.length)throw Error(a(93));o=o[0]}r=o}r==null&&(r=""),n=r}r=Ue(n),e.defaultValue=r,o=e.textContent,o===r&&o!==""&&o!==null&&(e.value=o),Jt(e)}function Sn(e,n){if(n){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=n;return}}e.textContent=n}var bu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Go(e,n,r){var o=n.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?o?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":o?e.setProperty(n,r):typeof r!="number"||r===0||bu.has(n)?n==="float"?e.cssFloat=r:e[n]=(""+r).trim():e[n]=r+"px"}function Qo(e,n,r){if(n!=null&&typeof n!="object")throw Error(a(62));if(e=e.style,r!=null){for(var o in r)!r.hasOwnProperty(o)||n!=null&&n.hasOwnProperty(o)||(o.indexOf("--")===0?e.setProperty(o,""):o==="float"?e.cssFloat="":e[o]="");for(var h in n)o=n[h],n.hasOwnProperty(h)&&r[h]!==o&&Go(e,h,o)}else for(var f in n)n.hasOwnProperty(f)&&Go(e,f,n[f])}function Ca(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Au=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Or=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Na(e){return Or.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function fi(){}var Yo=null;function Jn(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Vr=null,Ci=null;function Ls(e){var n=yn(e);if(n&&(e=n.stateNode)){var r=e[Ve]||null;t:switch(e=n.stateNode,n.type){case"input":if(Ia(e,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),n=r.name,r.type==="radio"&&n!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+An(""+n)+'"][type="radio"]'),n=0;n<r.length;n++){var o=r[n];if(o!==e&&o.form===e.form){var h=o[Ve]||null;if(!h)throw Error(a(90));Ia(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<r.length;n++)o=r[n],o.form===e.form&&ks(o)}break t;case"textarea":Tu(e,r.value,r.defaultValue);break t;case"select":n=r.value,n!=null&&xr(e,!!r.multiple,n,!1)}}}var Da=!1;function kr(e,n,r){if(Da)return e(n,r);Da=!0;try{var o=e(n);return o}finally{if(Da=!1,(Vr!==null||Ci!==null)&&(pc(),Vr&&(n=Vr,e=Ci,Ci=Vr=null,Ls(n),e)))for(n=0;n<e.length;n++)Ls(e[n])}}function di(e,n){var r=e.stateNode;if(r===null)return null;var o=r[Ve]||null;if(o===null)return null;r=o[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break t;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(a(231,n,typeof r));return r}var Wn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ps=!1;if(Wn)try{var ne={};Object.defineProperty(ne,"passive",{get:function(){Ps=!0}}),window.addEventListener("test",ne,ne),window.removeEventListener("test",ne,ne)}catch{Ps=!1}var Ni=null,Ko=null,zs=null;function Xo(){if(zs)return zs;var e,n=Ko,r=n.length,o,h="value"in Ni?Ni.value:Ni.textContent,f=h.length;for(e=0;e<r&&n[e]===h[e];e++);var g=r-e;for(o=1;o<=g&&n[r-o]===h[f-o];o++);return zs=h.slice(e,1<o?1-o:void 0)}function js(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function Zi(){return!0}function mi(){return!1}function We(e){function n(r,o,h,f,g){this._reactName=r,this._targetInst=h,this.type=o,this.nativeEvent=f,this.target=g,this.currentTarget=null;for(var E in e)e.hasOwnProperty(E)&&(r=e[E],this[E]=r?r(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Zi:mi,this.isPropagationStopped=mi,this}return A(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Zi)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Zi)},persist:function(){},isPersistent:Zi}),n}var Ji={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Di=We(Ji),Ur=A({},Ji,{view:0,detail:0}),$o=We(Ur),Lr,xa,xi,Ma=A({},Ur,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Pr,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==xi&&(xi&&e.type==="mousemove"?(Lr=e.screenX-xi.screenX,xa=e.screenY-xi.screenY):xa=Lr=0,xi=e),Lr)},movementY:function(e){return"movementY"in e?e.movementY:xa}}),Zo=We(Ma),Bs=A({},Ma,{dataTransfer:0}),Su=We(Bs),wu=A({},Ur,{relatedTarget:0}),qs=We(wu),Jo=A({},Ji,{animationName:0,elapsedTime:0,pseudoElement:0}),Ru=We(Jo),Oa=A({},Ji,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Iu=We(Oa),Cu=A({},Ji,{data:0}),Mi=We(Cu),Nu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Du={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},xu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Mu(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=xu[e])?!!n[e]:!1}function Pr(){return Mu}var vn=A({},Ur,{key:function(e){if(e.key){var n=Nu[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=js(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Du[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Pr,charCode:function(e){return e.type==="keypress"?js(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?js(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Ou=We(vn),Vu=A({},Ma,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Wi=We(Vu),u=A({},Ur,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Pr}),m=We(u),v=A({},Ji,{propertyName:0,elapsedTime:0,pseudoElement:0}),T=We(v),L=A({},Ma,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),q=We(L),nt=A({},Ji,{newState:0,oldState:0}),Ct=We(nt),Ce=[9,13,27,32],Kt=Wn&&"CompositionEvent"in window,ge=null;Wn&&"documentMode"in document&&(ge=document.documentMode);var ti=Wn&&"TextEvent"in window&&!ge,Oi=Wn&&(!Kt||ge&&8<ge&&11>=ge),gi=" ",pi=!1;function Hs(e,n){switch(e){case"keyup":return Ce.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Va(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ka=!1;function hT(e,n){switch(e){case"compositionend":return Va(n);case"keypress":return n.which!==32?null:(pi=!0,gi);case"textInput":return e=n.data,e===gi&&pi?null:e;default:return null}}function fT(e,n){if(ka)return e==="compositionend"||!Kt&&Hs(e,n)?(e=Xo(),zs=Ko=Ni=null,ka=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return Oi&&n.locale!=="ko"?null:n.data;default:return null}}var dT={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Dg(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!dT[e.type]:n==="textarea"}function xg(e,n,r,o){Vr?Ci?Ci.push(o):Ci=[o]:Vr=o,n=Ac(n,"onChange"),0<n.length&&(r=new Di("onChange","change",null,r,o),e.push({event:r,listeners:n}))}var Wo=null,tl=null;function mT(e){d_(e,0)}function ku(e){var n=_n(e);if(ks(n))return e}function Mg(e,n){if(e==="change")return n}var Og=!1;if(Wn){var Gh;if(Wn){var Qh="oninput"in document;if(!Qh){var Vg=document.createElement("div");Vg.setAttribute("oninput","return;"),Qh=typeof Vg.oninput=="function"}Gh=Qh}else Gh=!1;Og=Gh&&(!document.documentMode||9<document.documentMode)}function kg(){Wo&&(Wo.detachEvent("onpropertychange",Ug),tl=Wo=null)}function Ug(e){if(e.propertyName==="value"&&ku(tl)){var n=[];xg(n,tl,e,Jn(e)),kr(mT,n)}}function gT(e,n,r){e==="focusin"?(kg(),Wo=n,tl=r,Wo.attachEvent("onpropertychange",Ug)):e==="focusout"&&kg()}function pT(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return ku(tl)}function yT(e,n){if(e==="click")return ku(n)}function _T(e,n){if(e==="input"||e==="change")return ku(n)}function vT(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var zn=typeof Object.is=="function"?Object.is:vT;function el(e,n){if(zn(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var r=Object.keys(e),o=Object.keys(n);if(r.length!==o.length)return!1;for(o=0;o<r.length;o++){var h=r[o];if(!de.call(n,h)||!zn(e[h],n[h]))return!1}return!0}function Lg(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Pg(e,n){var r=Lg(e);e=0;for(var o;r;){if(r.nodeType===3){if(o=e+r.textContent.length,e<=n&&o>=n)return{node:r,offset:n-e};e=o}t:{for(;r;){if(r.nextSibling){r=r.nextSibling;break t}r=r.parentNode}r=void 0}r=Lg(r)}}function zg(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?zg(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function jg(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=Ii(e.document);n instanceof e.HTMLIFrameElement;){try{var r=typeof n.contentWindow.location.href=="string"}catch{r=!1}if(r)e=n.contentWindow;else break;n=Ii(e.document)}return n}function Yh(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var ET=Wn&&"documentMode"in document&&11>=document.documentMode,Ua=null,Kh=null,nl=null,Xh=!1;function Bg(e,n,r){var o=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Xh||Ua==null||Ua!==Ii(o)||(o=Ua,"selectionStart"in o&&Yh(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),nl&&el(nl,o)||(nl=o,o=Ac(Kh,"onSelect"),0<o.length&&(n=new Di("onSelect","select",null,n,r),e.push({event:n,listeners:o}),n.target=Ua)))}function Fs(e,n){var r={};return r[e.toLowerCase()]=n.toLowerCase(),r["Webkit"+e]="webkit"+n,r["Moz"+e]="moz"+n,r}var La={animationend:Fs("Animation","AnimationEnd"),animationiteration:Fs("Animation","AnimationIteration"),animationstart:Fs("Animation","AnimationStart"),transitionrun:Fs("Transition","TransitionRun"),transitionstart:Fs("Transition","TransitionStart"),transitioncancel:Fs("Transition","TransitionCancel"),transitionend:Fs("Transition","TransitionEnd")},$h={},qg={};Wn&&(qg=document.createElement("div").style,"AnimationEvent"in window||(delete La.animationend.animation,delete La.animationiteration.animation,delete La.animationstart.animation),"TransitionEvent"in window||delete La.transitionend.transition);function Gs(e){if($h[e])return $h[e];if(!La[e])return e;var n=La[e],r;for(r in n)if(n.hasOwnProperty(r)&&r in qg)return $h[e]=n[r];return e}var Hg=Gs("animationend"),Fg=Gs("animationiteration"),Gg=Gs("animationstart"),TT=Gs("transitionrun"),bT=Gs("transitionstart"),AT=Gs("transitioncancel"),Qg=Gs("transitionend"),Yg=new Map,Zh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Zh.push("scrollEnd");function yi(e,n){Yg.set(e,n),W(n,[e])}var Uu=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},ei=[],Pa=0,Jh=0;function Lu(){for(var e=Pa,n=Jh=Pa=0;n<e;){var r=ei[n];ei[n++]=null;var o=ei[n];ei[n++]=null;var h=ei[n];ei[n++]=null;var f=ei[n];if(ei[n++]=null,o!==null&&h!==null){var g=o.pending;g===null?h.next=h:(h.next=g.next,g.next=h),o.pending=h}f!==0&&Kg(r,h,f)}}function Pu(e,n,r,o){ei[Pa++]=e,ei[Pa++]=n,ei[Pa++]=r,ei[Pa++]=o,Jh|=o,e.lanes|=o,e=e.alternate,e!==null&&(e.lanes|=o)}function Wh(e,n,r,o){return Pu(e,n,r,o),zu(e)}function Qs(e,n){return Pu(e,null,null,n),zu(e)}function Kg(e,n,r){e.lanes|=r;var o=e.alternate;o!==null&&(o.lanes|=r);for(var h=!1,f=e.return;f!==null;)f.childLanes|=r,o=f.alternate,o!==null&&(o.childLanes|=r),f.tag===22&&(e=f.stateNode,e===null||e._visibility&1||(h=!0)),e=f,f=f.return;return e.tag===3?(f=e.stateNode,h&&n!==null&&(h=31-ve(r),e=f.hiddenUpdates,o=e[h],o===null?e[h]=[n]:o.push(n),n.lane=r|536870912),f):null}function zu(e){if(50<Sl)throw Sl=0,ud=null,Error(a(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var za={};function ST(e,n,r,o){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function jn(e,n,r,o){return new ST(e,n,r,o)}function tf(e){return e=e.prototype,!(!e||!e.isReactComponent)}function tr(e,n){var r=e.alternate;return r===null?(r=jn(e.tag,n,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=n,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&65011712,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,n=e.dependencies,r.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r.refCleanup=e.refCleanup,r}function Xg(e,n){e.flags&=65011714;var r=e.alternate;return r===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=r.childLanes,e.lanes=r.lanes,e.child=r.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=r.memoizedProps,e.memoizedState=r.memoizedState,e.updateQueue=r.updateQueue,e.type=r.type,n=r.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function ju(e,n,r,o,h,f){var g=0;if(o=e,typeof e=="function")tf(e)&&(g=1);else if(typeof e=="string")g=Nb(e,r,at.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case R:return e=jn(31,r,n,h),e.elementType=R,e.lanes=f,e;case it:return Ys(r.children,h,f,n);case et:g=8,h|=24;break;case pt:return e=jn(12,r,n,h|2),e.elementType=pt,e.lanes=f,e;case ee:return e=jn(13,r,n,h),e.elementType=ee,e.lanes=f,e;case Ot:return e=jn(19,r,n,h),e.elementType=Ot,e.lanes=f,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case yt:g=10;break t;case _t:g=9;break t;case Ft:g=11;break t;case C:g=14;break t;case S:g=16,o=null;break t}g=29,r=Error(a(130,e===null?"null":typeof e,"")),o=null}return n=jn(g,r,n,h),n.elementType=e,n.type=o,n.lanes=f,n}function Ys(e,n,r,o){return e=jn(7,e,o,n),e.lanes=r,e}function ef(e,n,r){return e=jn(6,e,null,n),e.lanes=r,e}function $g(e){var n=jn(18,null,null,0);return n.stateNode=e,n}function nf(e,n,r){return n=jn(4,e.children!==null?e.children:[],e.key,n),n.lanes=r,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var Zg=new WeakMap;function ni(e,n){if(typeof e=="object"&&e!==null){var r=Zg.get(e);return r!==void 0?r:(n={value:e,source:n,stack:Ns(n)},Zg.set(e,n),n)}return{value:e,source:n,stack:Ns(n)}}var ja=[],Ba=0,Bu=null,il=0,ii=[],ri=0,zr=null,Vi=1,ki="";function er(e,n){ja[Ba++]=il,ja[Ba++]=Bu,Bu=e,il=n}function Jg(e,n,r){ii[ri++]=Vi,ii[ri++]=ki,ii[ri++]=zr,zr=e;var o=Vi;e=ki;var h=32-ve(o)-1;o&=~(1<<h),r+=1;var f=32-ve(n)+h;if(30<f){var g=h-h%5;f=(o&(1<<g)-1).toString(32),o>>=g,h-=g,Vi=1<<32-ve(n)+h|r<<h|o,ki=f+e}else Vi=1<<f|r<<h|o,ki=e}function rf(e){e.return!==null&&(er(e,1),Jg(e,1,0))}function sf(e){for(;e===Bu;)Bu=ja[--Ba],ja[Ba]=null,il=ja[--Ba],ja[Ba]=null;for(;e===zr;)zr=ii[--ri],ii[ri]=null,ki=ii[--ri],ii[ri]=null,Vi=ii[--ri],ii[ri]=null}function Wg(e,n){ii[ri++]=Vi,ii[ri++]=ki,ii[ri++]=zr,Vi=n.id,ki=n.overflow,zr=e}var tn=null,ue=null,qt=!1,jr=null,si=!1,af=Error(a(519));function Br(e){var n=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw rl(ni(n,e)),af}function tp(e){var n=e.stateNode,r=e.type,o=e.memoizedProps;switch(n[be]=e,n[Ve]=o,r){case"dialog":Mt("cancel",n),Mt("close",n);break;case"iframe":case"object":case"embed":Mt("load",n);break;case"video":case"audio":for(r=0;r<Rl.length;r++)Mt(Rl[r],n);break;case"source":Mt("error",n);break;case"img":case"image":case"link":Mt("error",n),Mt("load",n);break;case"details":Mt("toggle",n);break;case"input":Mt("invalid",n),Eu(n,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":Mt("invalid",n);break;case"textarea":Mt("invalid",n),Mr(n,o.value,o.defaultValue,o.children)}r=o.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||n.textContent===""+r||o.suppressHydrationWarning===!0||y_(n.textContent,r)?(o.popover!=null&&(Mt("beforetoggle",n),Mt("toggle",n)),o.onScroll!=null&&Mt("scroll",n),o.onScrollEnd!=null&&Mt("scrollend",n),o.onClick!=null&&(n.onclick=fi),n=!0):n=!1,n||Br(e,!0)}function ep(e){for(tn=e.return;tn;)switch(tn.tag){case 5:case 31:case 13:si=!1;return;case 27:case 3:si=!0;return;default:tn=tn.return}}function qa(e){if(e!==tn)return!1;if(!qt)return ep(e),qt=!0,!1;var n=e.tag,r;if((r=n!==3&&n!==27)&&((r=n===5)&&(r=e.type,r=!(r!=="form"&&r!=="button")||Sd(e.type,e.memoizedProps)),r=!r),r&&ue&&Br(e),ep(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));ue=R_(e)}else if(n===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));ue=R_(e)}else n===27?(n=ue,es(e.type)?(e=Nd,Nd=null,ue=e):ue=n):ue=tn?oi(e.stateNode.nextSibling):null;return!0}function Ks(){ue=tn=null,qt=!1}function of(){var e=jr;return e!==null&&(Cn===null?Cn=e:Cn.push.apply(Cn,e),jr=null),e}function rl(e){jr===null?jr=[e]:jr.push(e)}var lf=x(null),Xs=null,nr=null;function qr(e,n,r){st(lf,n._currentValue),n._currentValue=r}function ir(e){e._currentValue=lf.current,K(lf)}function uf(e,n,r){for(;e!==null;){var o=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,o!==null&&(o.childLanes|=n)):o!==null&&(o.childLanes&n)!==n&&(o.childLanes|=n),e===r)break;e=e.return}}function cf(e,n,r,o){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var f=h.dependencies;if(f!==null){var g=h.child;f=f.firstContext;t:for(;f!==null;){var E=f;f=h;for(var I=0;I<n.length;I++)if(E.context===n[I]){f.lanes|=r,E=f.alternate,E!==null&&(E.lanes|=r),uf(f.return,r,e),o||(g=null);break t}f=E.next}}else if(h.tag===18){if(g=h.return,g===null)throw Error(a(341));g.lanes|=r,f=g.alternate,f!==null&&(f.lanes|=r),uf(g,r,e),g=null}else g=h.child;if(g!==null)g.return=h;else for(g=h;g!==null;){if(g===e){g=null;break}if(h=g.sibling,h!==null){h.return=g.return,g=h;break}g=g.return}h=g}}function Ha(e,n,r,o){e=null;for(var h=n,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var g=h.alternate;if(g===null)throw Error(a(387));if(g=g.memoizedProps,g!==null){var E=h.type;zn(h.pendingProps.value,g.value)||(e!==null?e.push(E):e=[E])}}else if(h===Bt.current){if(g=h.alternate,g===null)throw Error(a(387));g.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(xl):e=[xl])}h=h.return}e!==null&&cf(n,e,r,o),n.flags|=262144}function qu(e){for(e=e.firstContext;e!==null;){if(!zn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function $s(e){Xs=e,nr=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function en(e){return np(Xs,e)}function Hu(e,n){return Xs===null&&$s(e),np(e,n)}function np(e,n){var r=n._currentValue;if(n={context:n,memoizedValue:r,next:null},nr===null){if(e===null)throw Error(a(308));nr=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else nr=nr.next=n;return r}var wT=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(r,o){e.push(o)}};this.abort=function(){n.aborted=!0,e.forEach(function(r){return r()})}},RT=s.unstable_scheduleCallback,IT=s.unstable_NormalPriority,Le={$$typeof:yt,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function hf(){return{controller:new wT,data:new Map,refCount:0}}function sl(e){e.refCount--,e.refCount===0&&RT(IT,function(){e.controller.abort()})}var al=null,ff=0,Fa=0,Ga=null;function CT(e,n){if(al===null){var r=al=[];ff=0,Fa=gd(),Ga={status:"pending",value:void 0,then:function(o){r.push(o)}}}return ff++,n.then(ip,ip),n}function ip(){if(--ff===0&&al!==null){Ga!==null&&(Ga.status="fulfilled");var e=al;al=null,Fa=0,Ga=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function NT(e,n){var r=[],o={status:"pending",value:null,reason:null,then:function(h){r.push(h)}};return e.then(function(){o.status="fulfilled",o.value=n;for(var h=0;h<r.length;h++)(0,r[h])(n)},function(h){for(o.status="rejected",o.reason=h,h=0;h<r.length;h++)(0,r[h])(void 0)}),o}var rp=G.S;G.S=function(e,n){By=Ze(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&CT(e,n),rp!==null&&rp(e,n)};var Zs=x(null);function df(){var e=Zs.current;return e!==null?e:ae.pooledCache}function Fu(e,n){n===null?st(Zs,Zs.current):st(Zs,n.pool)}function sp(){var e=df();return e===null?null:{parent:Le._currentValue,pool:e}}var Qa=Error(a(460)),mf=Error(a(474)),Gu=Error(a(542)),Qu={then:function(){}};function ap(e){return e=e.status,e==="fulfilled"||e==="rejected"}function op(e,n,r){switch(r=e[r],r===void 0?e.push(n):r!==n&&(n.then(fi,fi),n=r),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,up(e),e;default:if(typeof n.status=="string")n.then(fi,fi);else{if(e=ae,e!==null&&100<e.shellSuspendCounter)throw Error(a(482));e=n,e.status="pending",e.then(function(o){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=o}},function(o){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=o}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,up(e),e}throw Ws=n,Qa}}function Js(e){try{var n=e._init;return n(e._payload)}catch(r){throw r!==null&&typeof r=="object"&&typeof r.then=="function"?(Ws=r,Qa):r}}var Ws=null;function lp(){if(Ws===null)throw Error(a(459));var e=Ws;return Ws=null,e}function up(e){if(e===Qa||e===Gu)throw Error(a(483))}var Ya=null,ol=0;function Yu(e){var n=ol;return ol+=1,Ya===null&&(Ya=[]),op(Ya,e,n)}function ll(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function Ku(e,n){throw n.$$typeof===M?Error(a(525)):(e=Object.prototype.toString.call(n),Error(a(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function cp(e){function n(k,N){if(e){var P=k.deletions;P===null?(k.deletions=[N],k.flags|=16):P.push(N)}}function r(k,N){if(!e)return null;for(;N!==null;)n(k,N),N=N.sibling;return null}function o(k){for(var N=new Map;k!==null;)k.key!==null?N.set(k.key,k):N.set(k.index,k),k=k.sibling;return N}function h(k,N){return k=tr(k,N),k.index=0,k.sibling=null,k}function f(k,N,P){return k.index=P,e?(P=k.alternate,P!==null?(P=P.index,P<N?(k.flags|=67108866,N):P):(k.flags|=67108866,N)):(k.flags|=1048576,N)}function g(k){return e&&k.alternate===null&&(k.flags|=67108866),k}function E(k,N,P,Y){return N===null||N.tag!==6?(N=ef(P,k.mode,Y),N.return=k,N):(N=h(N,P),N.return=k,N)}function I(k,N,P,Y){var mt=P.type;return mt===it?Q(k,N,P.props.children,Y,P.key):N!==null&&(N.elementType===mt||typeof mt=="object"&&mt!==null&&mt.$$typeof===S&&Js(mt)===N.type)?(N=h(N,P.props),ll(N,P),N.return=k,N):(N=ju(P.type,P.key,P.props,null,k.mode,Y),ll(N,P),N.return=k,N)}function z(k,N,P,Y){return N===null||N.tag!==4||N.stateNode.containerInfo!==P.containerInfo||N.stateNode.implementation!==P.implementation?(N=nf(P,k.mode,Y),N.return=k,N):(N=h(N,P.children||[]),N.return=k,N)}function Q(k,N,P,Y,mt){return N===null||N.tag!==7?(N=Ys(P,k.mode,Y,mt),N.return=k,N):(N=h(N,P),N.return=k,N)}function X(k,N,P){if(typeof N=="string"&&N!==""||typeof N=="number"||typeof N=="bigint")return N=ef(""+N,k.mode,P),N.return=k,N;if(typeof N=="object"&&N!==null){switch(N.$$typeof){case F:return P=ju(N.type,N.key,N.props,null,k.mode,P),ll(P,N),P.return=k,P;case tt:return N=nf(N,k.mode,P),N.return=k,N;case S:return N=Js(N),X(k,N,P)}if(ye(N)||U(N))return N=Ys(N,k.mode,P,null),N.return=k,N;if(typeof N.then=="function")return X(k,Yu(N),P);if(N.$$typeof===yt)return X(k,Hu(k,N),P);Ku(k,N)}return null}function B(k,N,P,Y){var mt=N!==null?N.key:null;if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return mt!==null?null:E(k,N,""+P,Y);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case F:return P.key===mt?I(k,N,P,Y):null;case tt:return P.key===mt?z(k,N,P,Y):null;case S:return P=Js(P),B(k,N,P,Y)}if(ye(P)||U(P))return mt!==null?null:Q(k,N,P,Y,null);if(typeof P.then=="function")return B(k,N,Yu(P),Y);if(P.$$typeof===yt)return B(k,N,Hu(k,P),Y);Ku(k,P)}return null}function H(k,N,P,Y,mt){if(typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint")return k=k.get(P)||null,E(N,k,""+Y,mt);if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case F:return k=k.get(Y.key===null?P:Y.key)||null,I(N,k,Y,mt);case tt:return k=k.get(Y.key===null?P:Y.key)||null,z(N,k,Y,mt);case S:return Y=Js(Y),H(k,N,P,Y,mt)}if(ye(Y)||U(Y))return k=k.get(P)||null,Q(N,k,Y,mt,null);if(typeof Y.then=="function")return H(k,N,P,Yu(Y),mt);if(Y.$$typeof===yt)return H(k,N,P,Hu(N,Y),mt);Ku(N,Y)}return null}function ct(k,N,P,Y){for(var mt=null,Gt=null,ht=N,Dt=N=0,Ut=null;ht!==null&&Dt<P.length;Dt++){ht.index>Dt?(Ut=ht,ht=null):Ut=ht.sibling;var Qt=B(k,ht,P[Dt],Y);if(Qt===null){ht===null&&(ht=Ut);break}e&&ht&&Qt.alternate===null&&n(k,ht),N=f(Qt,N,Dt),Gt===null?mt=Qt:Gt.sibling=Qt,Gt=Qt,ht=Ut}if(Dt===P.length)return r(k,ht),qt&&er(k,Dt),mt;if(ht===null){for(;Dt<P.length;Dt++)ht=X(k,P[Dt],Y),ht!==null&&(N=f(ht,N,Dt),Gt===null?mt=ht:Gt.sibling=ht,Gt=ht);return qt&&er(k,Dt),mt}for(ht=o(ht);Dt<P.length;Dt++)Ut=H(ht,k,Dt,P[Dt],Y),Ut!==null&&(e&&Ut.alternate!==null&&ht.delete(Ut.key===null?Dt:Ut.key),N=f(Ut,N,Dt),Gt===null?mt=Ut:Gt.sibling=Ut,Gt=Ut);return e&&ht.forEach(function(as){return n(k,as)}),qt&&er(k,Dt),mt}function vt(k,N,P,Y){if(P==null)throw Error(a(151));for(var mt=null,Gt=null,ht=N,Dt=N=0,Ut=null,Qt=P.next();ht!==null&&!Qt.done;Dt++,Qt=P.next()){ht.index>Dt?(Ut=ht,ht=null):Ut=ht.sibling;var as=B(k,ht,Qt.value,Y);if(as===null){ht===null&&(ht=Ut);break}e&&ht&&as.alternate===null&&n(k,ht),N=f(as,N,Dt),Gt===null?mt=as:Gt.sibling=as,Gt=as,ht=Ut}if(Qt.done)return r(k,ht),qt&&er(k,Dt),mt;if(ht===null){for(;!Qt.done;Dt++,Qt=P.next())Qt=X(k,Qt.value,Y),Qt!==null&&(N=f(Qt,N,Dt),Gt===null?mt=Qt:Gt.sibling=Qt,Gt=Qt);return qt&&er(k,Dt),mt}for(ht=o(ht);!Qt.done;Dt++,Qt=P.next())Qt=H(ht,k,Dt,Qt.value,Y),Qt!==null&&(e&&Qt.alternate!==null&&ht.delete(Qt.key===null?Dt:Qt.key),N=f(Qt,N,Dt),Gt===null?mt=Qt:Gt.sibling=Qt,Gt=Qt);return e&&ht.forEach(function(jb){return n(k,jb)}),qt&&er(k,Dt),mt}function se(k,N,P,Y){if(typeof P=="object"&&P!==null&&P.type===it&&P.key===null&&(P=P.props.children),typeof P=="object"&&P!==null){switch(P.$$typeof){case F:t:{for(var mt=P.key;N!==null;){if(N.key===mt){if(mt=P.type,mt===it){if(N.tag===7){r(k,N.sibling),Y=h(N,P.props.children),Y.return=k,k=Y;break t}}else if(N.elementType===mt||typeof mt=="object"&&mt!==null&&mt.$$typeof===S&&Js(mt)===N.type){r(k,N.sibling),Y=h(N,P.props),ll(Y,P),Y.return=k,k=Y;break t}r(k,N);break}else n(k,N);N=N.sibling}P.type===it?(Y=Ys(P.props.children,k.mode,Y,P.key),Y.return=k,k=Y):(Y=ju(P.type,P.key,P.props,null,k.mode,Y),ll(Y,P),Y.return=k,k=Y)}return g(k);case tt:t:{for(mt=P.key;N!==null;){if(N.key===mt)if(N.tag===4&&N.stateNode.containerInfo===P.containerInfo&&N.stateNode.implementation===P.implementation){r(k,N.sibling),Y=h(N,P.children||[]),Y.return=k,k=Y;break t}else{r(k,N);break}else n(k,N);N=N.sibling}Y=nf(P,k.mode,Y),Y.return=k,k=Y}return g(k);case S:return P=Js(P),se(k,N,P,Y)}if(ye(P))return ct(k,N,P,Y);if(U(P)){if(mt=U(P),typeof mt!="function")throw Error(a(150));return P=mt.call(P),vt(k,N,P,Y)}if(typeof P.then=="function")return se(k,N,Yu(P),Y);if(P.$$typeof===yt)return se(k,N,Hu(k,P),Y);Ku(k,P)}return typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint"?(P=""+P,N!==null&&N.tag===6?(r(k,N.sibling),Y=h(N,P),Y.return=k,k=Y):(r(k,N),Y=ef(P,k.mode,Y),Y.return=k,k=Y),g(k)):r(k,N)}return function(k,N,P,Y){try{ol=0;var mt=se(k,N,P,Y);return Ya=null,mt}catch(ht){if(ht===Qa||ht===Gu)throw ht;var Gt=jn(29,ht,null,k.mode);return Gt.lanes=Y,Gt.return=k,Gt}finally{}}}var ta=cp(!0),hp=cp(!1),Hr=!1;function gf(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function pf(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Fr(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Gr(e,n,r){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,(Xt&2)!==0){var h=o.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),o.pending=n,n=zu(e),Kg(e,null,r),n}return Pu(e,o,n,r),zu(e)}function ul(e,n,r){if(n=n.updateQueue,n!==null&&(n=n.shared,(r&4194048)!==0)){var o=n.lanes;o&=e.pendingLanes,r|=o,n.lanes=r,Cr(e,r)}}function yf(e,n){var r=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,r===o)){var h=null,f=null;if(r=r.firstBaseUpdate,r!==null){do{var g={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};f===null?h=f=g:f=f.next=g,r=r.next}while(r!==null);f===null?h=f=n:f=f.next=n}else h=f=n;r={baseState:o.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:o.shared,callbacks:o.callbacks},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=n:e.next=n,r.lastBaseUpdate=n}var _f=!1;function cl(){if(_f){var e=Ga;if(e!==null)throw e}}function hl(e,n,r,o){_f=!1;var h=e.updateQueue;Hr=!1;var f=h.firstBaseUpdate,g=h.lastBaseUpdate,E=h.shared.pending;if(E!==null){h.shared.pending=null;var I=E,z=I.next;I.next=null,g===null?f=z:g.next=z,g=I;var Q=e.alternate;Q!==null&&(Q=Q.updateQueue,E=Q.lastBaseUpdate,E!==g&&(E===null?Q.firstBaseUpdate=z:E.next=z,Q.lastBaseUpdate=I))}if(f!==null){var X=h.baseState;g=0,Q=z=I=null,E=f;do{var B=E.lane&-536870913,H=B!==E.lane;if(H?(kt&B)===B:(o&B)===B){B!==0&&B===Fa&&(_f=!0),Q!==null&&(Q=Q.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var ct=e,vt=E;B=n;var se=r;switch(vt.tag){case 1:if(ct=vt.payload,typeof ct=="function"){X=ct.call(se,X,B);break t}X=ct;break t;case 3:ct.flags=ct.flags&-65537|128;case 0:if(ct=vt.payload,B=typeof ct=="function"?ct.call(se,X,B):ct,B==null)break t;X=A({},X,B);break t;case 2:Hr=!0}}B=E.callback,B!==null&&(e.flags|=64,H&&(e.flags|=8192),H=h.callbacks,H===null?h.callbacks=[B]:H.push(B))}else H={lane:B,tag:E.tag,payload:E.payload,callback:E.callback,next:null},Q===null?(z=Q=H,I=X):Q=Q.next=H,g|=B;if(E=E.next,E===null){if(E=h.shared.pending,E===null)break;H=E,E=H.next,H.next=null,h.lastBaseUpdate=H,h.shared.pending=null}}while(!0);Q===null&&(I=X),h.baseState=I,h.firstBaseUpdate=z,h.lastBaseUpdate=Q,f===null&&(h.shared.lanes=0),$r|=g,e.lanes=g,e.memoizedState=X}}function fp(e,n){if(typeof e!="function")throw Error(a(191,e));e.call(n)}function dp(e,n){var r=e.callbacks;if(r!==null)for(e.callbacks=null,e=0;e<r.length;e++)fp(r[e],n)}var Ka=x(null),Xu=x(0);function mp(e,n){e=fr,st(Xu,e),st(Ka,n),fr=e|n.baseLanes}function vf(){st(Xu,fr),st(Ka,Ka.current)}function Ef(){fr=Xu.current,K(Ka),K(Xu)}var Bn=x(null),ai=null;function Qr(e){var n=e.alternate;st(Ne,Ne.current&1),st(Bn,e),ai===null&&(n===null||Ka.current!==null||n.memoizedState!==null)&&(ai=e)}function Tf(e){st(Ne,Ne.current),st(Bn,e),ai===null&&(ai=e)}function gp(e){e.tag===22?(st(Ne,Ne.current),st(Bn,e),ai===null&&(ai=e)):Yr()}function Yr(){st(Ne,Ne.current),st(Bn,Bn.current)}function qn(e){K(Bn),ai===e&&(ai=null),K(Ne)}var Ne=x(0);function $u(e){for(var n=e;n!==null;){if(n.tag===13){var r=n.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||Id(r)||Cd(r)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var rr=0,Nt=null,ie=null,Pe=null,Zu=!1,Xa=!1,ea=!1,Ju=0,fl=0,$a=null,DT=0;function we(){throw Error(a(321))}function bf(e,n){if(n===null)return!1;for(var r=0;r<n.length&&r<e.length;r++)if(!zn(e[r],n[r]))return!1;return!0}function Af(e,n,r,o,h,f){return rr=f,Nt=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,G.H=e===null||e.memoizedState===null?Jp:Pf,ea=!1,f=r(o,h),ea=!1,Xa&&(f=yp(n,r,o,h)),pp(e),f}function pp(e){G.H=gl;var n=ie!==null&&ie.next!==null;if(rr=0,Pe=ie=Nt=null,Zu=!1,fl=0,$a=null,n)throw Error(a(300));e===null||ze||(e=e.dependencies,e!==null&&qu(e)&&(ze=!0))}function yp(e,n,r,o){Nt=e;var h=0;do{if(Xa&&($a=null),fl=0,Xa=!1,25<=h)throw Error(a(301));if(h+=1,Pe=ie=null,e.updateQueue!=null){var f=e.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}G.H=Wp,f=n(r,o)}while(Xa);return f}function xT(){var e=G.H,n=e.useState()[0];return n=typeof n.then=="function"?dl(n):n,e=e.useState()[0],(ie!==null?ie.memoizedState:null)!==e&&(Nt.flags|=1024),n}function Sf(){var e=Ju!==0;return Ju=0,e}function wf(e,n,r){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~r}function Rf(e){if(Zu){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}Zu=!1}rr=0,Pe=ie=Nt=null,Xa=!1,fl=Ju=0,$a=null}function En(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Pe===null?Nt.memoizedState=Pe=e:Pe=Pe.next=e,Pe}function De(){if(ie===null){var e=Nt.alternate;e=e!==null?e.memoizedState:null}else e=ie.next;var n=Pe===null?Nt.memoizedState:Pe.next;if(n!==null)Pe=n,ie=e;else{if(e===null)throw Nt.alternate===null?Error(a(467)):Error(a(310));ie=e,e={memoizedState:ie.memoizedState,baseState:ie.baseState,baseQueue:ie.baseQueue,queue:ie.queue,next:null},Pe===null?Nt.memoizedState=Pe=e:Pe=Pe.next=e}return Pe}function Wu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function dl(e){var n=fl;return fl+=1,$a===null&&($a=[]),e=op($a,e,n),n=Nt,(Pe===null?n.memoizedState:Pe.next)===null&&(n=n.alternate,G.H=n===null||n.memoizedState===null?Jp:Pf),e}function tc(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return dl(e);if(e.$$typeof===yt)return en(e)}throw Error(a(438,String(e)))}function If(e){var n=null,r=Nt.updateQueue;if(r!==null&&(n=r.memoCache),n==null){var o=Nt.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(n={data:o.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),r===null&&(r=Wu(),Nt.updateQueue=r),r.memoCache=n,r=n.data[n.index],r===void 0)for(r=n.data[n.index]=Array(e),o=0;o<e;o++)r[o]=O;return n.index++,r}function sr(e,n){return typeof n=="function"?n(e):n}function ec(e){var n=De();return Cf(n,ie,e)}function Cf(e,n,r){var o=e.queue;if(o===null)throw Error(a(311));o.lastRenderedReducer=r;var h=e.baseQueue,f=o.pending;if(f!==null){if(h!==null){var g=h.next;h.next=f.next,f.next=g}n.baseQueue=h=f,o.pending=null}if(f=e.baseState,h===null)e.memoizedState=f;else{n=h.next;var E=g=null,I=null,z=n,Q=!1;do{var X=z.lane&-536870913;if(X!==z.lane?(kt&X)===X:(rr&X)===X){var B=z.revertLane;if(B===0)I!==null&&(I=I.next={lane:0,revertLane:0,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null}),X===Fa&&(Q=!0);else if((rr&B)===B){z=z.next,B===Fa&&(Q=!0);continue}else X={lane:0,revertLane:z.revertLane,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},I===null?(E=I=X,g=f):I=I.next=X,Nt.lanes|=B,$r|=B;X=z.action,ea&&r(f,X),f=z.hasEagerState?z.eagerState:r(f,X)}else B={lane:X,revertLane:z.revertLane,gesture:z.gesture,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},I===null?(E=I=B,g=f):I=I.next=B,Nt.lanes|=X,$r|=X;z=z.next}while(z!==null&&z!==n);if(I===null?g=f:I.next=E,!zn(f,e.memoizedState)&&(ze=!0,Q&&(r=Ga,r!==null)))throw r;e.memoizedState=f,e.baseState=g,e.baseQueue=I,o.lastRenderedState=f}return h===null&&(o.lanes=0),[e.memoizedState,o.dispatch]}function Nf(e){var n=De(),r=n.queue;if(r===null)throw Error(a(311));r.lastRenderedReducer=e;var o=r.dispatch,h=r.pending,f=n.memoizedState;if(h!==null){r.pending=null;var g=h=h.next;do f=e(f,g.action),g=g.next;while(g!==h);zn(f,n.memoizedState)||(ze=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),r.lastRenderedState=f}return[f,o]}function _p(e,n,r){var o=Nt,h=De(),f=qt;if(f){if(r===void 0)throw Error(a(407));r=r()}else r=n();var g=!zn((ie||h).memoizedState,r);if(g&&(h.memoizedState=r,ze=!0),h=h.queue,Mf(Tp.bind(null,o,h,e),[e]),h.getSnapshot!==n||g||Pe!==null&&Pe.memoizedState.tag&1){if(o.flags|=2048,Za(9,{destroy:void 0},Ep.bind(null,o,h,r,n),null),ae===null)throw Error(a(349));f||(rr&127)!==0||vp(o,n,r)}return r}function vp(e,n,r){e.flags|=16384,e={getSnapshot:n,value:r},n=Nt.updateQueue,n===null?(n=Wu(),Nt.updateQueue=n,n.stores=[e]):(r=n.stores,r===null?n.stores=[e]:r.push(e))}function Ep(e,n,r,o){n.value=r,n.getSnapshot=o,bp(n)&&Ap(e)}function Tp(e,n,r){return r(function(){bp(n)&&Ap(e)})}function bp(e){var n=e.getSnapshot;e=e.value;try{var r=n();return!zn(e,r)}catch{return!0}}function Ap(e){var n=Qs(e,2);n!==null&&Nn(n,e,2)}function Df(e){var n=En();if(typeof e=="function"){var r=e;if(e=r(),ea){pn(!0);try{r()}finally{pn(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:sr,lastRenderedState:e},n}function Sp(e,n,r,o){return e.baseState=r,Cf(e,ie,typeof o=="function"?o:sr)}function MT(e,n,r,o,h){if(rc(e))throw Error(a(485));if(e=n.action,e!==null){var f={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(g){f.listeners.push(g)}};G.T!==null?r(!0):f.isTransition=!1,o(f),r=n.pending,r===null?(f.next=n.pending=f,wp(n,f)):(f.next=r.next,n.pending=r.next=f)}}function wp(e,n){var r=n.action,o=n.payload,h=e.state;if(n.isTransition){var f=G.T,g={};G.T=g;try{var E=r(h,o),I=G.S;I!==null&&I(g,E),Rp(e,n,E)}catch(z){xf(e,n,z)}finally{f!==null&&g.types!==null&&(f.types=g.types),G.T=f}}else try{f=r(h,o),Rp(e,n,f)}catch(z){xf(e,n,z)}}function Rp(e,n,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(o){Ip(e,n,o)},function(o){return xf(e,n,o)}):Ip(e,n,r)}function Ip(e,n,r){n.status="fulfilled",n.value=r,Cp(n),e.state=r,n=e.pending,n!==null&&(r=n.next,r===n?e.pending=null:(r=r.next,n.next=r,wp(e,r)))}function xf(e,n,r){var o=e.pending;if(e.pending=null,o!==null){o=o.next;do n.status="rejected",n.reason=r,Cp(n),n=n.next;while(n!==o)}e.action=null}function Cp(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function Np(e,n){return n}function Dp(e,n){if(qt){var r=ae.formState;if(r!==null){t:{var o=Nt;if(qt){if(ue){e:{for(var h=ue,f=si;h.nodeType!==8;){if(!f){h=null;break e}if(h=oi(h.nextSibling),h===null){h=null;break e}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){ue=oi(h.nextSibling),o=h.data==="F!";break t}}Br(o)}o=!1}o&&(n=r[0])}}return r=En(),r.memoizedState=r.baseState=n,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Np,lastRenderedState:n},r.queue=o,r=Xp.bind(null,Nt,o),o.dispatch=r,o=Df(!1),f=Lf.bind(null,Nt,!1,o.queue),o=En(),h={state:n,dispatch:null,action:e,pending:null},o.queue=h,r=MT.bind(null,Nt,h,f,r),h.dispatch=r,o.memoizedState=e,[n,r,!1]}function xp(e){var n=De();return Mp(n,ie,e)}function Mp(e,n,r){if(n=Cf(e,n,Np)[0],e=ec(sr)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var o=dl(n)}catch(g){throw g===Qa?Gu:g}else o=n;n=De();var h=n.queue,f=h.dispatch;return r!==n.memoizedState&&(Nt.flags|=2048,Za(9,{destroy:void 0},OT.bind(null,h,r),null)),[o,f,e]}function OT(e,n){e.action=n}function Op(e){var n=De(),r=ie;if(r!==null)return Mp(n,r,e);De(),n=n.memoizedState,r=De();var o=r.queue.dispatch;return r.memoizedState=e,[n,o,!1]}function Za(e,n,r,o){return e={tag:e,create:r,deps:o,inst:n,next:null},n=Nt.updateQueue,n===null&&(n=Wu(),Nt.updateQueue=n),r=n.lastEffect,r===null?n.lastEffect=e.next=e:(o=r.next,r.next=e,e.next=o,n.lastEffect=e),e}function Vp(){return De().memoizedState}function nc(e,n,r,o){var h=En();Nt.flags|=e,h.memoizedState=Za(1|n,{destroy:void 0},r,o===void 0?null:o)}function ic(e,n,r,o){var h=De();o=o===void 0?null:o;var f=h.memoizedState.inst;ie!==null&&o!==null&&bf(o,ie.memoizedState.deps)?h.memoizedState=Za(n,f,r,o):(Nt.flags|=e,h.memoizedState=Za(1|n,f,r,o))}function kp(e,n){nc(8390656,8,e,n)}function Mf(e,n){ic(2048,8,e,n)}function VT(e){Nt.flags|=4;var n=Nt.updateQueue;if(n===null)n=Wu(),Nt.updateQueue=n,n.events=[e];else{var r=n.events;r===null?n.events=[e]:r.push(e)}}function Up(e){var n=De().memoizedState;return VT({ref:n,nextImpl:e}),function(){if((Xt&2)!==0)throw Error(a(440));return n.impl.apply(void 0,arguments)}}function Lp(e,n){return ic(4,2,e,n)}function Pp(e,n){return ic(4,4,e,n)}function zp(e,n){if(typeof n=="function"){e=e();var r=n(e);return function(){typeof r=="function"?r():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function jp(e,n,r){r=r!=null?r.concat([e]):null,ic(4,4,zp.bind(null,n,e),r)}function Of(){}function Bp(e,n){var r=De();n=n===void 0?null:n;var o=r.memoizedState;return n!==null&&bf(n,o[1])?o[0]:(r.memoizedState=[e,n],e)}function qp(e,n){var r=De();n=n===void 0?null:n;var o=r.memoizedState;if(n!==null&&bf(n,o[1]))return o[0];if(o=e(),ea){pn(!0);try{e()}finally{pn(!1)}}return r.memoizedState=[o,n],o}function Vf(e,n,r){return r===void 0||(rr&1073741824)!==0&&(kt&261930)===0?e.memoizedState=n:(e.memoizedState=r,e=Hy(),Nt.lanes|=e,$r|=e,r)}function Hp(e,n,r,o){return zn(r,n)?r:Ka.current!==null?(e=Vf(e,r,o),zn(e,n)||(ze=!0),e):(rr&42)===0||(rr&1073741824)!==0&&(kt&261930)===0?(ze=!0,e.memoizedState=r):(e=Hy(),Nt.lanes|=e,$r|=e,n)}function Fp(e,n,r,o,h){var f=rt.p;rt.p=f!==0&&8>f?f:8;var g=G.T,E={};G.T=E,Lf(e,!1,n,r);try{var I=h(),z=G.S;if(z!==null&&z(E,I),I!==null&&typeof I=="object"&&typeof I.then=="function"){var Q=NT(I,o);ml(e,n,Q,Gn(e))}else ml(e,n,o,Gn(e))}catch(X){ml(e,n,{then:function(){},status:"rejected",reason:X},Gn())}finally{rt.p=f,g!==null&&E.types!==null&&(g.types=E.types),G.T=g}}function kT(){}function kf(e,n,r,o){if(e.tag!==5)throw Error(a(476));var h=Gp(e).queue;Fp(e,h,n,dt,r===null?kT:function(){return Qp(e),r(o)})}function Gp(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:dt,baseState:dt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:sr,lastRenderedState:dt},next:null};var r={};return n.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:sr,lastRenderedState:r},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function Qp(e){var n=Gp(e);n.next===null&&(n=e.alternate.memoizedState),ml(e,n.next.queue,{},Gn())}function Uf(){return en(xl)}function Yp(){return De().memoizedState}function Kp(){return De().memoizedState}function UT(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var r=Gn();e=Fr(r);var o=Gr(n,e,r);o!==null&&(Nn(o,n,r),ul(o,n,r)),n={cache:hf()},e.payload=n;return}n=n.return}}function LT(e,n,r){var o=Gn();r={lane:o,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},rc(e)?$p(n,r):(r=Wh(e,n,r,o),r!==null&&(Nn(r,e,o),Zp(r,n,o)))}function Xp(e,n,r){var o=Gn();ml(e,n,r,o)}function ml(e,n,r,o){var h={lane:o,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null};if(rc(e))$p(n,h);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var g=n.lastRenderedState,E=f(g,r);if(h.hasEagerState=!0,h.eagerState=E,zn(E,g))return Pu(e,n,h,0),ae===null&&Lu(),!1}catch{}finally{}if(r=Wh(e,n,h,o),r!==null)return Nn(r,e,o),Zp(r,n,o),!0}return!1}function Lf(e,n,r,o){if(o={lane:2,revertLane:gd(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},rc(e)){if(n)throw Error(a(479))}else n=Wh(e,r,o,2),n!==null&&Nn(n,e,2)}function rc(e){var n=e.alternate;return e===Nt||n!==null&&n===Nt}function $p(e,n){Xa=Zu=!0;var r=e.pending;r===null?n.next=n:(n.next=r.next,r.next=n),e.pending=n}function Zp(e,n,r){if((r&4194048)!==0){var o=n.lanes;o&=e.pendingLanes,r|=o,n.lanes=r,Cr(e,r)}}var gl={readContext:en,use:tc,useCallback:we,useContext:we,useEffect:we,useImperativeHandle:we,useLayoutEffect:we,useInsertionEffect:we,useMemo:we,useReducer:we,useRef:we,useState:we,useDebugValue:we,useDeferredValue:we,useTransition:we,useSyncExternalStore:we,useId:we,useHostTransitionStatus:we,useFormState:we,useActionState:we,useOptimistic:we,useMemoCache:we,useCacheRefresh:we};gl.useEffectEvent=we;var Jp={readContext:en,use:tc,useCallback:function(e,n){return En().memoizedState=[e,n===void 0?null:n],e},useContext:en,useEffect:kp,useImperativeHandle:function(e,n,r){r=r!=null?r.concat([e]):null,nc(4194308,4,zp.bind(null,n,e),r)},useLayoutEffect:function(e,n){return nc(4194308,4,e,n)},useInsertionEffect:function(e,n){nc(4,2,e,n)},useMemo:function(e,n){var r=En();n=n===void 0?null:n;var o=e();if(ea){pn(!0);try{e()}finally{pn(!1)}}return r.memoizedState=[o,n],o},useReducer:function(e,n,r){var o=En();if(r!==void 0){var h=r(n);if(ea){pn(!0);try{r(n)}finally{pn(!1)}}}else h=n;return o.memoizedState=o.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},o.queue=e,e=e.dispatch=LT.bind(null,Nt,e),[o.memoizedState,e]},useRef:function(e){var n=En();return e={current:e},n.memoizedState=e},useState:function(e){e=Df(e);var n=e.queue,r=Xp.bind(null,Nt,n);return n.dispatch=r,[e.memoizedState,r]},useDebugValue:Of,useDeferredValue:function(e,n){var r=En();return Vf(r,e,n)},useTransition:function(){var e=Df(!1);return e=Fp.bind(null,Nt,e.queue,!0,!1),En().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,r){var o=Nt,h=En();if(qt){if(r===void 0)throw Error(a(407));r=r()}else{if(r=n(),ae===null)throw Error(a(349));(kt&127)!==0||vp(o,n,r)}h.memoizedState=r;var f={value:r,getSnapshot:n};return h.queue=f,kp(Tp.bind(null,o,f,e),[e]),o.flags|=2048,Za(9,{destroy:void 0},Ep.bind(null,o,f,r,n),null),r},useId:function(){var e=En(),n=ae.identifierPrefix;if(qt){var r=ki,o=Vi;r=(o&~(1<<32-ve(o)-1)).toString(32)+r,n="_"+n+"R_"+r,r=Ju++,0<r&&(n+="H"+r.toString(32)),n+="_"}else r=DT++,n="_"+n+"r_"+r.toString(32)+"_";return e.memoizedState=n},useHostTransitionStatus:Uf,useFormState:Dp,useActionState:Dp,useOptimistic:function(e){var n=En();n.memoizedState=n.baseState=e;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=r,n=Lf.bind(null,Nt,!0,r),r.dispatch=n,[e,n]},useMemoCache:If,useCacheRefresh:function(){return En().memoizedState=UT.bind(null,Nt)},useEffectEvent:function(e){var n=En(),r={impl:e};return n.memoizedState=r,function(){if((Xt&2)!==0)throw Error(a(440));return r.impl.apply(void 0,arguments)}}},Pf={readContext:en,use:tc,useCallback:Bp,useContext:en,useEffect:Mf,useImperativeHandle:jp,useInsertionEffect:Lp,useLayoutEffect:Pp,useMemo:qp,useReducer:ec,useRef:Vp,useState:function(){return ec(sr)},useDebugValue:Of,useDeferredValue:function(e,n){var r=De();return Hp(r,ie.memoizedState,e,n)},useTransition:function(){var e=ec(sr)[0],n=De().memoizedState;return[typeof e=="boolean"?e:dl(e),n]},useSyncExternalStore:_p,useId:Yp,useHostTransitionStatus:Uf,useFormState:xp,useActionState:xp,useOptimistic:function(e,n){var r=De();return Sp(r,ie,e,n)},useMemoCache:If,useCacheRefresh:Kp};Pf.useEffectEvent=Up;var Wp={readContext:en,use:tc,useCallback:Bp,useContext:en,useEffect:Mf,useImperativeHandle:jp,useInsertionEffect:Lp,useLayoutEffect:Pp,useMemo:qp,useReducer:Nf,useRef:Vp,useState:function(){return Nf(sr)},useDebugValue:Of,useDeferredValue:function(e,n){var r=De();return ie===null?Vf(r,e,n):Hp(r,ie.memoizedState,e,n)},useTransition:function(){var e=Nf(sr)[0],n=De().memoizedState;return[typeof e=="boolean"?e:dl(e),n]},useSyncExternalStore:_p,useId:Yp,useHostTransitionStatus:Uf,useFormState:Op,useActionState:Op,useOptimistic:function(e,n){var r=De();return ie!==null?Sp(r,ie,e,n):(r.baseState=e,[e,r.queue.dispatch])},useMemoCache:If,useCacheRefresh:Kp};Wp.useEffectEvent=Up;function zf(e,n,r,o){n=e.memoizedState,r=r(o,n),r=r==null?n:A({},n,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var jf={enqueueSetState:function(e,n,r){e=e._reactInternals;var o=Gn(),h=Fr(o);h.payload=n,r!=null&&(h.callback=r),n=Gr(e,h,o),n!==null&&(Nn(n,e,o),ul(n,e,o))},enqueueReplaceState:function(e,n,r){e=e._reactInternals;var o=Gn(),h=Fr(o);h.tag=1,h.payload=n,r!=null&&(h.callback=r),n=Gr(e,h,o),n!==null&&(Nn(n,e,o),ul(n,e,o))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var r=Gn(),o=Fr(r);o.tag=2,n!=null&&(o.callback=n),n=Gr(e,o,r),n!==null&&(Nn(n,e,r),ul(n,e,r))}};function ty(e,n,r,o,h,f,g){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,f,g):n.prototype&&n.prototype.isPureReactComponent?!el(r,o)||!el(h,f):!0}function ey(e,n,r,o){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(r,o),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(r,o),n.state!==e&&jf.enqueueReplaceState(n,n.state,null)}function na(e,n){var r=n;if("ref"in n){r={};for(var o in n)o!=="ref"&&(r[o]=n[o])}if(e=e.defaultProps){r===n&&(r=A({},r));for(var h in e)r[h]===void 0&&(r[h]=e[h])}return r}function ny(e){Uu(e)}function iy(e){console.error(e)}function ry(e){Uu(e)}function sc(e,n){try{var r=e.onUncaughtError;r(n.value,{componentStack:n.stack})}catch(o){setTimeout(function(){throw o})}}function sy(e,n,r){try{var o=e.onCaughtError;o(r.value,{componentStack:r.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Bf(e,n,r){return r=Fr(r),r.tag=3,r.payload={element:null},r.callback=function(){sc(e,n)},r}function ay(e){return e=Fr(e),e.tag=3,e}function oy(e,n,r,o){var h=r.type.getDerivedStateFromError;if(typeof h=="function"){var f=o.value;e.payload=function(){return h(f)},e.callback=function(){sy(n,r,o)}}var g=r.stateNode;g!==null&&typeof g.componentDidCatch=="function"&&(e.callback=function(){sy(n,r,o),typeof h!="function"&&(Zr===null?Zr=new Set([this]):Zr.add(this));var E=o.stack;this.componentDidCatch(o.value,{componentStack:E!==null?E:""})})}function PT(e,n,r,o,h){if(r.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(n=r.alternate,n!==null&&Ha(n,r,h,!0),r=Bn.current,r!==null){switch(r.tag){case 31:case 13:return ai===null?yc():r.alternate===null&&Re===0&&(Re=3),r.flags&=-257,r.flags|=65536,r.lanes=h,o===Qu?r.flags|=16384:(n=r.updateQueue,n===null?r.updateQueue=new Set([o]):n.add(o),fd(e,o,h)),!1;case 22:return r.flags|=65536,o===Qu?r.flags|=16384:(n=r.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([o])},r.updateQueue=n):(r=n.retryQueue,r===null?n.retryQueue=new Set([o]):r.add(o)),fd(e,o,h)),!1}throw Error(a(435,r.tag))}return fd(e,o,h),yc(),!1}if(qt)return n=Bn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,o!==af&&(e=Error(a(422),{cause:o}),rl(ni(e,r)))):(o!==af&&(n=Error(a(423),{cause:o}),rl(ni(n,r))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,o=ni(o,r),h=Bf(e.stateNode,o,h),yf(e,h),Re!==4&&(Re=2)),!1;var f=Error(a(520),{cause:o});if(f=ni(f,r),Al===null?Al=[f]:Al.push(f),Re!==4&&(Re=2),n===null)return!0;o=ni(o,r),r=n;do{switch(r.tag){case 3:return r.flags|=65536,e=h&-h,r.lanes|=e,e=Bf(r.stateNode,o,e),yf(r,e),!1;case 1:if(n=r.type,f=r.stateNode,(r.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Zr===null||!Zr.has(f))))return r.flags|=65536,h&=-h,r.lanes|=h,h=ay(h),oy(h,e,r,o),yf(r,h),!1}r=r.return}while(r!==null);return!1}var qf=Error(a(461)),ze=!1;function nn(e,n,r,o){n.child=e===null?hp(n,null,r,o):ta(n,e.child,r,o)}function ly(e,n,r,o,h){r=r.render;var f=n.ref;if("ref"in o){var g={};for(var E in o)E!=="ref"&&(g[E]=o[E])}else g=o;return $s(n),o=Af(e,n,r,g,f,h),E=Sf(),e!==null&&!ze?(wf(e,n,h),ar(e,n,h)):(qt&&E&&rf(n),n.flags|=1,nn(e,n,o,h),n.child)}function uy(e,n,r,o,h){if(e===null){var f=r.type;return typeof f=="function"&&!tf(f)&&f.defaultProps===void 0&&r.compare===null?(n.tag=15,n.type=f,cy(e,n,f,o,h)):(e=ju(r.type,null,o,n,n.mode,h),e.ref=n.ref,e.return=n,n.child=e)}if(f=e.child,!$f(e,h)){var g=f.memoizedProps;if(r=r.compare,r=r!==null?r:el,r(g,o)&&e.ref===n.ref)return ar(e,n,h)}return n.flags|=1,e=tr(f,o),e.ref=n.ref,e.return=n,n.child=e}function cy(e,n,r,o,h){if(e!==null){var f=e.memoizedProps;if(el(f,o)&&e.ref===n.ref)if(ze=!1,n.pendingProps=o=f,$f(e,h))(e.flags&131072)!==0&&(ze=!0);else return n.lanes=e.lanes,ar(e,n,h)}return Hf(e,n,r,o,h)}function hy(e,n,r,o){var h=o.children,f=e!==null?e.memoizedState:null;if(e===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|r:r,e!==null){for(o=n.child=e.child,h=0;o!==null;)h=h|o.lanes|o.childLanes,o=o.sibling;o=h&~f}else o=0,n.child=null;return fy(e,n,f,r,o)}if((r&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&Fu(n,f!==null?f.cachePool:null),f!==null?mp(n,f):vf(),gp(n);else return o=n.lanes=536870912,fy(e,n,f!==null?f.baseLanes|r:r,r,o)}else f!==null?(Fu(n,f.cachePool),mp(n,f),Yr(),n.memoizedState=null):(e!==null&&Fu(n,null),vf(),Yr());return nn(e,n,h,r),n.child}function pl(e,n){return e!==null&&e.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function fy(e,n,r,o,h){var f=df();return f=f===null?null:{parent:Le._currentValue,pool:f},n.memoizedState={baseLanes:r,cachePool:f},e!==null&&Fu(n,null),vf(),gp(n),e!==null&&Ha(e,n,o,!0),n.childLanes=h,null}function ac(e,n){return n=lc({mode:n.mode,children:n.children},e.mode),n.ref=e.ref,e.child=n,n.return=e,n}function dy(e,n,r){return ta(n,e.child,null,r),e=ac(n,n.pendingProps),e.flags|=2,qn(n),n.memoizedState=null,e}function zT(e,n,r){var o=n.pendingProps,h=(n.flags&128)!==0;if(n.flags&=-129,e===null){if(qt){if(o.mode==="hidden")return e=ac(n,o),n.lanes=536870912,pl(null,e);if(Tf(n),(e=ue)?(e=w_(e,si),e=e!==null&&e.data==="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:zr!==null?{id:Vi,overflow:ki}:null,retryLane:536870912,hydrationErrors:null},r=$g(e),r.return=n,n.child=r,tn=n,ue=null)):e=null,e===null)throw Br(n);return n.lanes=536870912,null}return ac(n,o)}var f=e.memoizedState;if(f!==null){var g=f.dehydrated;if(Tf(n),h)if(n.flags&256)n.flags&=-257,n=dy(e,n,r);else if(n.memoizedState!==null)n.child=e.child,n.flags|=128,n=null;else throw Error(a(558));else if(ze||Ha(e,n,r,!1),h=(r&e.childLanes)!==0,ze||h){if(o=ae,o!==null&&(g=Vs(o,r),g!==0&&g!==f.retryLane))throw f.retryLane=g,Qs(e,g),Nn(o,e,g),qf;yc(),n=dy(e,n,r)}else e=f.treeContext,ue=oi(g.nextSibling),tn=n,qt=!0,jr=null,si=!1,e!==null&&Wg(n,e),n=ac(n,o),n.flags|=4096;return n}return e=tr(e.child,{mode:o.mode,children:o.children}),e.ref=n.ref,n.child=e,e.return=n,e}function oc(e,n){var r=n.ref;if(r===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof r!="function"&&typeof r!="object")throw Error(a(284));(e===null||e.ref!==r)&&(n.flags|=4194816)}}function Hf(e,n,r,o,h){return $s(n),r=Af(e,n,r,o,void 0,h),o=Sf(),e!==null&&!ze?(wf(e,n,h),ar(e,n,h)):(qt&&o&&rf(n),n.flags|=1,nn(e,n,r,h),n.child)}function my(e,n,r,o,h,f){return $s(n),n.updateQueue=null,r=yp(n,o,r,h),pp(e),o=Sf(),e!==null&&!ze?(wf(e,n,f),ar(e,n,f)):(qt&&o&&rf(n),n.flags|=1,nn(e,n,r,f),n.child)}function gy(e,n,r,o,h){if($s(n),n.stateNode===null){var f=za,g=r.contextType;typeof g=="object"&&g!==null&&(f=en(g)),f=new r(o,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=jf,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=o,f.state=n.memoizedState,f.refs={},gf(n),g=r.contextType,f.context=typeof g=="object"&&g!==null?en(g):za,f.state=n.memoizedState,g=r.getDerivedStateFromProps,typeof g=="function"&&(zf(n,r,g,o),f.state=n.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(g=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),g!==f.state&&jf.enqueueReplaceState(f,f.state,null),hl(n,o,f,h),cl(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!0}else if(e===null){f=n.stateNode;var E=n.memoizedProps,I=na(r,E);f.props=I;var z=f.context,Q=r.contextType;g=za,typeof Q=="object"&&Q!==null&&(g=en(Q));var X=r.getDerivedStateFromProps;Q=typeof X=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,Q||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||z!==g)&&ey(n,f,o,g),Hr=!1;var B=n.memoizedState;f.state=B,hl(n,o,f,h),cl(),z=n.memoizedState,E||B!==z||Hr?(typeof X=="function"&&(zf(n,r,X,o),z=n.memoizedState),(I=Hr||ty(n,r,I,o,B,z,g))?(Q||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=o,n.memoizedState=z),f.props=o,f.state=z,f.context=g,o=I):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!1)}else{f=n.stateNode,pf(e,n),g=n.memoizedProps,Q=na(r,g),f.props=Q,X=n.pendingProps,B=f.context,z=r.contextType,I=za,typeof z=="object"&&z!==null&&(I=en(z)),E=r.getDerivedStateFromProps,(z=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(g!==X||B!==I)&&ey(n,f,o,I),Hr=!1,B=n.memoizedState,f.state=B,hl(n,o,f,h),cl();var H=n.memoizedState;g!==X||B!==H||Hr||e!==null&&e.dependencies!==null&&qu(e.dependencies)?(typeof E=="function"&&(zf(n,r,E,o),H=n.memoizedState),(Q=Hr||ty(n,r,Q,o,B,H,I)||e!==null&&e.dependencies!==null&&qu(e.dependencies))?(z||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(o,H,I),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(o,H,I)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||g===e.memoizedProps&&B===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&B===e.memoizedState||(n.flags|=1024),n.memoizedProps=o,n.memoizedState=H),f.props=o,f.state=H,f.context=I,o=Q):(typeof f.componentDidUpdate!="function"||g===e.memoizedProps&&B===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&B===e.memoizedState||(n.flags|=1024),o=!1)}return f=o,oc(e,n),o=(n.flags&128)!==0,f||o?(f=n.stateNode,r=o&&typeof r.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,e!==null&&o?(n.child=ta(n,e.child,null,h),n.child=ta(n,null,r,h)):nn(e,n,r,h),n.memoizedState=f.state,e=n.child):e=ar(e,n,h),e}function py(e,n,r,o){return Ks(),n.flags|=256,nn(e,n,r,o),n.child}var Ff={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Gf(e){return{baseLanes:e,cachePool:sp()}}function Qf(e,n,r){return e=e!==null?e.childLanes&~r:0,n&&(e|=Fn),e}function yy(e,n,r){var o=n.pendingProps,h=!1,f=(n.flags&128)!==0,g;if((g=f)||(g=e!==null&&e.memoizedState===null?!1:(Ne.current&2)!==0),g&&(h=!0,n.flags&=-129),g=(n.flags&32)!==0,n.flags&=-33,e===null){if(qt){if(h?Qr(n):Yr(),(e=ue)?(e=w_(e,si),e=e!==null&&e.data!=="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:zr!==null?{id:Vi,overflow:ki}:null,retryLane:536870912,hydrationErrors:null},r=$g(e),r.return=n,n.child=r,tn=n,ue=null)):e=null,e===null)throw Br(n);return Cd(e)?n.lanes=32:n.lanes=536870912,null}var E=o.children;return o=o.fallback,h?(Yr(),h=n.mode,E=lc({mode:"hidden",children:E},h),o=Ys(o,h,r,null),E.return=n,o.return=n,E.sibling=o,n.child=E,o=n.child,o.memoizedState=Gf(r),o.childLanes=Qf(e,g,r),n.memoizedState=Ff,pl(null,o)):(Qr(n),Yf(n,E))}var I=e.memoizedState;if(I!==null&&(E=I.dehydrated,E!==null)){if(f)n.flags&256?(Qr(n),n.flags&=-257,n=Kf(e,n,r)):n.memoizedState!==null?(Yr(),n.child=e.child,n.flags|=128,n=null):(Yr(),E=o.fallback,h=n.mode,o=lc({mode:"visible",children:o.children},h),E=Ys(E,h,r,null),E.flags|=2,o.return=n,E.return=n,o.sibling=E,n.child=o,ta(n,e.child,null,r),o=n.child,o.memoizedState=Gf(r),o.childLanes=Qf(e,g,r),n.memoizedState=Ff,n=pl(null,o));else if(Qr(n),Cd(E)){if(g=E.nextSibling&&E.nextSibling.dataset,g)var z=g.dgst;g=z,o=Error(a(419)),o.stack="",o.digest=g,rl({value:o,source:null,stack:null}),n=Kf(e,n,r)}else if(ze||Ha(e,n,r,!1),g=(r&e.childLanes)!==0,ze||g){if(g=ae,g!==null&&(o=Vs(g,r),o!==0&&o!==I.retryLane))throw I.retryLane=o,Qs(e,o),Nn(g,e,o),qf;Id(E)||yc(),n=Kf(e,n,r)}else Id(E)?(n.flags|=192,n.child=e.child,n=null):(e=I.treeContext,ue=oi(E.nextSibling),tn=n,qt=!0,jr=null,si=!1,e!==null&&Wg(n,e),n=Yf(n,o.children),n.flags|=4096);return n}return h?(Yr(),E=o.fallback,h=n.mode,I=e.child,z=I.sibling,o=tr(I,{mode:"hidden",children:o.children}),o.subtreeFlags=I.subtreeFlags&65011712,z!==null?E=tr(z,E):(E=Ys(E,h,r,null),E.flags|=2),E.return=n,o.return=n,o.sibling=E,n.child=o,pl(null,o),o=n.child,E=e.child.memoizedState,E===null?E=Gf(r):(h=E.cachePool,h!==null?(I=Le._currentValue,h=h.parent!==I?{parent:I,pool:I}:h):h=sp(),E={baseLanes:E.baseLanes|r,cachePool:h}),o.memoizedState=E,o.childLanes=Qf(e,g,r),n.memoizedState=Ff,pl(e.child,o)):(Qr(n),r=e.child,e=r.sibling,r=tr(r,{mode:"visible",children:o.children}),r.return=n,r.sibling=null,e!==null&&(g=n.deletions,g===null?(n.deletions=[e],n.flags|=16):g.push(e)),n.child=r,n.memoizedState=null,r)}function Yf(e,n){return n=lc({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function lc(e,n){return e=jn(22,e,null,n),e.lanes=0,e}function Kf(e,n,r){return ta(n,e.child,null,r),e=Yf(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function _y(e,n,r){e.lanes|=n;var o=e.alternate;o!==null&&(o.lanes|=n),uf(e.return,n,r)}function Xf(e,n,r,o,h,f){var g=e.memoizedState;g===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:o,tail:r,tailMode:h,treeForkCount:f}:(g.isBackwards=n,g.rendering=null,g.renderingStartTime=0,g.last=o,g.tail=r,g.tailMode=h,g.treeForkCount=f)}function vy(e,n,r){var o=n.pendingProps,h=o.revealOrder,f=o.tail;o=o.children;var g=Ne.current,E=(g&2)!==0;if(E?(g=g&1|2,n.flags|=128):g&=1,st(Ne,g),nn(e,n,o,r),o=qt?il:0,!E&&e!==null&&(e.flags&128)!==0)t:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&_y(e,r,n);else if(e.tag===19)_y(e,r,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break t;for(;e.sibling===null;){if(e.return===null||e.return===n)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(h){case"forwards":for(r=n.child,h=null;r!==null;)e=r.alternate,e!==null&&$u(e)===null&&(h=r),r=r.sibling;r=h,r===null?(h=n.child,n.child=null):(h=r.sibling,r.sibling=null),Xf(n,!1,h,r,f,o);break;case"backwards":case"unstable_legacy-backwards":for(r=null,h=n.child,n.child=null;h!==null;){if(e=h.alternate,e!==null&&$u(e)===null){n.child=h;break}e=h.sibling,h.sibling=r,r=h,h=e}Xf(n,!0,r,null,f,o);break;case"together":Xf(n,!1,null,null,void 0,o);break;default:n.memoizedState=null}return n.child}function ar(e,n,r){if(e!==null&&(n.dependencies=e.dependencies),$r|=n.lanes,(r&n.childLanes)===0)if(e!==null){if(Ha(e,n,r,!1),(r&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(a(153));if(n.child!==null){for(e=n.child,r=tr(e,e.pendingProps),n.child=r,r.return=n;e.sibling!==null;)e=e.sibling,r=r.sibling=tr(e,e.pendingProps),r.return=n;r.sibling=null}return n.child}function $f(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&qu(e)))}function jT(e,n,r){switch(n.tag){case 3:Me(n,n.stateNode.containerInfo),qr(n,Le,e.memoizedState.cache),Ks();break;case 27:case 5:Rr(n);break;case 4:Me(n,n.stateNode.containerInfo);break;case 10:qr(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,Tf(n),null;break;case 13:var o=n.memoizedState;if(o!==null)return o.dehydrated!==null?(Qr(n),n.flags|=128,null):(r&n.child.childLanes)!==0?yy(e,n,r):(Qr(n),e=ar(e,n,r),e!==null?e.sibling:null);Qr(n);break;case 19:var h=(e.flags&128)!==0;if(o=(r&n.childLanes)!==0,o||(Ha(e,n,r,!1),o=(r&n.childLanes)!==0),h){if(o)return vy(e,n,r);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),st(Ne,Ne.current),o)break;return null;case 22:return n.lanes=0,hy(e,n,r,n.pendingProps);case 24:qr(n,Le,e.memoizedState.cache)}return ar(e,n,r)}function Ey(e,n,r){if(e!==null)if(e.memoizedProps!==n.pendingProps)ze=!0;else{if(!$f(e,r)&&(n.flags&128)===0)return ze=!1,jT(e,n,r);ze=(e.flags&131072)!==0}else ze=!1,qt&&(n.flags&1048576)!==0&&Jg(n,il,n.index);switch(n.lanes=0,n.tag){case 16:t:{var o=n.pendingProps;if(e=Js(n.elementType),n.type=e,typeof e=="function")tf(e)?(o=na(e,o),n.tag=1,n=gy(null,n,e,o,r)):(n.tag=0,n=Hf(null,n,e,o,r));else{if(e!=null){var h=e.$$typeof;if(h===Ft){n.tag=11,n=ly(null,n,e,o,r);break t}else if(h===C){n.tag=14,n=uy(null,n,e,o,r);break t}}throw n=$t(e)||e,Error(a(306,n,""))}}return n;case 0:return Hf(e,n,n.type,n.pendingProps,r);case 1:return o=n.type,h=na(o,n.pendingProps),gy(e,n,o,h,r);case 3:t:{if(Me(n,n.stateNode.containerInfo),e===null)throw Error(a(387));o=n.pendingProps;var f=n.memoizedState;h=f.element,pf(e,n),hl(n,o,null,r);var g=n.memoizedState;if(o=g.cache,qr(n,Le,o),o!==f.cache&&cf(n,[Le],r,!0),cl(),o=g.element,f.isDehydrated)if(f={element:o,isDehydrated:!1,cache:g.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=py(e,n,o,r);break t}else if(o!==h){h=ni(Error(a(424)),n),rl(h),n=py(e,n,o,r);break t}else{switch(e=n.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(ue=oi(e.firstChild),tn=n,qt=!0,jr=null,si=!0,r=hp(n,null,o,r),n.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling}else{if(Ks(),o===h){n=ar(e,n,r);break t}nn(e,n,o,r)}n=n.child}return n;case 26:return oc(e,n),e===null?(r=x_(n.type,null,n.pendingProps,null))?n.memoizedState=r:qt||(r=n.type,e=n.pendingProps,o=Sc(It.current).createElement(r),o[be]=n,o[Ve]=e,rn(o,r,e),Ae(o),n.stateNode=o):n.memoizedState=x_(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return Rr(n),e===null&&qt&&(o=n.stateNode=C_(n.type,n.pendingProps,It.current),tn=n,si=!0,h=ue,es(n.type)?(Nd=h,ue=oi(o.firstChild)):ue=h),nn(e,n,n.pendingProps.children,r),oc(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&qt&&((h=o=ue)&&(o=pb(o,n.type,n.pendingProps,si),o!==null?(n.stateNode=o,tn=n,ue=oi(o.firstChild),si=!1,h=!0):h=!1),h||Br(n)),Rr(n),h=n.type,f=n.pendingProps,g=e!==null?e.memoizedProps:null,o=f.children,Sd(h,f)?o=null:g!==null&&Sd(h,g)&&(n.flags|=32),n.memoizedState!==null&&(h=Af(e,n,xT,null,null,r),xl._currentValue=h),oc(e,n),nn(e,n,o,r),n.child;case 6:return e===null&&qt&&((e=r=ue)&&(r=yb(r,n.pendingProps,si),r!==null?(n.stateNode=r,tn=n,ue=null,e=!0):e=!1),e||Br(n)),null;case 13:return yy(e,n,r);case 4:return Me(n,n.stateNode.containerInfo),o=n.pendingProps,e===null?n.child=ta(n,null,o,r):nn(e,n,o,r),n.child;case 11:return ly(e,n,n.type,n.pendingProps,r);case 7:return nn(e,n,n.pendingProps,r),n.child;case 8:return nn(e,n,n.pendingProps.children,r),n.child;case 12:return nn(e,n,n.pendingProps.children,r),n.child;case 10:return o=n.pendingProps,qr(n,n.type,o.value),nn(e,n,o.children,r),n.child;case 9:return h=n.type._context,o=n.pendingProps.children,$s(n),h=en(h),o=o(h),n.flags|=1,nn(e,n,o,r),n.child;case 14:return uy(e,n,n.type,n.pendingProps,r);case 15:return cy(e,n,n.type,n.pendingProps,r);case 19:return vy(e,n,r);case 31:return zT(e,n,r);case 22:return hy(e,n,r,n.pendingProps);case 24:return $s(n),o=en(Le),e===null?(h=df(),h===null&&(h=ae,f=hf(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=r),h=f),n.memoizedState={parent:o,cache:h},gf(n),qr(n,Le,h)):((e.lanes&r)!==0&&(pf(e,n),hl(n,null,null,r),cl()),h=e.memoizedState,f=n.memoizedState,h.parent!==o?(h={parent:o,cache:o},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),qr(n,Le,o)):(o=f.cache,qr(n,Le,o),o!==h.cache&&cf(n,[Le],r,!0))),nn(e,n,n.pendingProps.children,r),n.child;case 29:throw n.pendingProps}throw Error(a(156,n.tag))}function or(e){e.flags|=4}function Zf(e,n,r,o,h){if((n=(e.mode&32)!==0)&&(n=!1),n){if(e.flags|=16777216,(h&335544128)===h)if(e.stateNode.complete)e.flags|=8192;else if(Yy())e.flags|=8192;else throw Ws=Qu,mf}else e.flags&=-16777217}function Ty(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!U_(n))if(Yy())e.flags|=8192;else throw Ws=Qu,mf}function uc(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?Aa():536870912,e.lanes|=n,eo|=n)}function yl(e,n){if(!qt)switch(e.tailMode){case"hidden":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var o=null;r!==null;)r.alternate!==null&&(o=r),r=r.sibling;o===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function ce(e){var n=e.alternate!==null&&e.alternate.child===e.child,r=0,o=0;if(n)for(var h=e.child;h!==null;)r|=h.lanes|h.childLanes,o|=h.subtreeFlags&65011712,o|=h.flags&65011712,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)r|=h.lanes|h.childLanes,o|=h.subtreeFlags,o|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=o,e.childLanes=r,n}function BT(e,n,r){var o=n.pendingProps;switch(sf(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ce(n),null;case 1:return ce(n),null;case 3:return r=n.stateNode,o=null,e!==null&&(o=e.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),ir(Le),le(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(qa(n)?or(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,of())),ce(n),null;case 26:var h=n.type,f=n.memoizedState;return e===null?(or(n),f!==null?(ce(n),Ty(n,f)):(ce(n),Zf(n,h,null,o,r))):f?f!==e.memoizedState?(or(n),ce(n),Ty(n,f)):(ce(n),n.flags&=-16777217):(e=e.memoizedProps,e!==o&&or(n),ce(n),Zf(n,h,e,o,r)),null;case 27:if(Is(n),r=It.current,h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&or(n);else{if(!o){if(n.stateNode===null)throw Error(a(166));return ce(n),null}e=at.current,qa(n)?tp(n):(e=C_(h,o,r),n.stateNode=e,or(n))}return ce(n),null;case 5:if(Is(n),h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&or(n);else{if(!o){if(n.stateNode===null)throw Error(a(166));return ce(n),null}if(f=at.current,qa(n))tp(n);else{var g=Sc(It.current);switch(f){case 1:f=g.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:f=g.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":f=g.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":f=g.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":f=g.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof o.is=="string"?g.createElement("select",{is:o.is}):g.createElement("select"),o.multiple?f.multiple=!0:o.size&&(f.size=o.size);break;default:f=typeof o.is=="string"?g.createElement(h,{is:o.is}):g.createElement(h)}}f[be]=n,f[Ve]=o;t:for(g=n.child;g!==null;){if(g.tag===5||g.tag===6)f.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===n)break t;for(;g.sibling===null;){if(g.return===null||g.return===n)break t;g=g.return}g.sibling.return=g.return,g=g.sibling}n.stateNode=f;t:switch(rn(f,h,o),h){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break t;case"img":o=!0;break t;default:o=!1}o&&or(n)}}return ce(n),Zf(n,n.type,e===null?null:e.memoizedProps,n.pendingProps,r),null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==o&&or(n);else{if(typeof o!="string"&&n.stateNode===null)throw Error(a(166));if(e=It.current,qa(n)){if(e=n.stateNode,r=n.memoizedProps,o=null,h=tn,h!==null)switch(h.tag){case 27:case 5:o=h.memoizedProps}e[be]=n,e=!!(e.nodeValue===r||o!==null&&o.suppressHydrationWarning===!0||y_(e.nodeValue,r)),e||Br(n,!0)}else e=Sc(e).createTextNode(o),e[be]=n,n.stateNode=e}return ce(n),null;case 31:if(r=n.memoizedState,e===null||e.memoizedState!==null){if(o=qa(n),r!==null){if(e===null){if(!o)throw Error(a(318));if(e=n.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(557));e[be]=n}else Ks(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ce(n),e=!1}else r=of(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=r),e=!0;if(!e)return n.flags&256?(qn(n),n):(qn(n),null);if((n.flags&128)!==0)throw Error(a(558))}return ce(n),null;case 13:if(o=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=qa(n),o!==null&&o.dehydrated!==null){if(e===null){if(!h)throw Error(a(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(a(317));h[be]=n}else Ks(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ce(n),h=!1}else h=of(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(qn(n),n):(qn(n),null)}return qn(n),(n.flags&128)!==0?(n.lanes=r,n):(r=o!==null,e=e!==null&&e.memoizedState!==null,r&&(o=n.child,h=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(h=o.alternate.memoizedState.cachePool.pool),f=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),f!==h&&(o.flags|=2048)),r!==e&&r&&(n.child.flags|=8192),uc(n,n.updateQueue),ce(n),null);case 4:return le(),e===null&&vd(n.stateNode.containerInfo),ce(n),null;case 10:return ir(n.type),ce(n),null;case 19:if(K(Ne),o=n.memoizedState,o===null)return ce(n),null;if(h=(n.flags&128)!==0,f=o.rendering,f===null)if(h)yl(o,!1);else{if(Re!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(f=$u(e),f!==null){for(n.flags|=128,yl(o,!1),e=f.updateQueue,n.updateQueue=e,uc(n,e),n.subtreeFlags=0,e=r,r=n.child;r!==null;)Xg(r,e),r=r.sibling;return st(Ne,Ne.current&1|2),qt&&er(n,o.treeForkCount),n.child}e=e.sibling}o.tail!==null&&Ze()>mc&&(n.flags|=128,h=!0,yl(o,!1),n.lanes=4194304)}else{if(!h)if(e=$u(f),e!==null){if(n.flags|=128,h=!0,e=e.updateQueue,n.updateQueue=e,uc(n,e),yl(o,!0),o.tail===null&&o.tailMode==="hidden"&&!f.alternate&&!qt)return ce(n),null}else 2*Ze()-o.renderingStartTime>mc&&r!==536870912&&(n.flags|=128,h=!0,yl(o,!1),n.lanes=4194304);o.isBackwards?(f.sibling=n.child,n.child=f):(e=o.last,e!==null?e.sibling=f:n.child=f,o.last=f)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=Ze(),e.sibling=null,r=Ne.current,st(Ne,h?r&1|2:r&1),qt&&er(n,o.treeForkCount),e):(ce(n),null);case 22:case 23:return qn(n),Ef(),o=n.memoizedState!==null,e!==null?e.memoizedState!==null!==o&&(n.flags|=8192):o&&(n.flags|=8192),o?(r&536870912)!==0&&(n.flags&128)===0&&(ce(n),n.subtreeFlags&6&&(n.flags|=8192)):ce(n),r=n.updateQueue,r!==null&&uc(n,r.retryQueue),r=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(r=e.memoizedState.cachePool.pool),o=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),o!==r&&(n.flags|=2048),e!==null&&K(Zs),null;case 24:return r=null,e!==null&&(r=e.memoizedState.cache),n.memoizedState.cache!==r&&(n.flags|=2048),ir(Le),ce(n),null;case 25:return null;case 30:return null}throw Error(a(156,n.tag))}function qT(e,n){switch(sf(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return ir(Le),le(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return Is(n),null;case 31:if(n.memoizedState!==null){if(qn(n),n.alternate===null)throw Error(a(340));Ks()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 13:if(qn(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(a(340));Ks()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return K(Ne),null;case 4:return le(),null;case 10:return ir(n.type),null;case 22:case 23:return qn(n),Ef(),e!==null&&K(Zs),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return ir(Le),null;case 25:return null;default:return null}}function by(e,n){switch(sf(n),n.tag){case 3:ir(Le),le();break;case 26:case 27:case 5:Is(n);break;case 4:le();break;case 31:n.memoizedState!==null&&qn(n);break;case 13:qn(n);break;case 19:K(Ne);break;case 10:ir(n.type);break;case 22:case 23:qn(n),Ef(),e!==null&&K(Zs);break;case 24:ir(Le)}}function _l(e,n){try{var r=n.updateQueue,o=r!==null?r.lastEffect:null;if(o!==null){var h=o.next;r=h;do{if((r.tag&e)===e){o=void 0;var f=r.create,g=r.inst;o=f(),g.destroy=o}r=r.next}while(r!==h)}}catch(E){te(n,n.return,E)}}function Kr(e,n,r){try{var o=n.updateQueue,h=o!==null?o.lastEffect:null;if(h!==null){var f=h.next;o=f;do{if((o.tag&e)===e){var g=o.inst,E=g.destroy;if(E!==void 0){g.destroy=void 0,h=n;var I=r,z=E;try{z()}catch(Q){te(h,I,Q)}}}o=o.next}while(o!==f)}}catch(Q){te(n,n.return,Q)}}function Ay(e){var n=e.updateQueue;if(n!==null){var r=e.stateNode;try{dp(n,r)}catch(o){te(e,e.return,o)}}}function Sy(e,n,r){r.props=na(e.type,e.memoizedProps),r.state=e.memoizedState;try{r.componentWillUnmount()}catch(o){te(e,n,o)}}function vl(e,n){try{var r=e.ref;if(r!==null){switch(e.tag){case 26:case 27:case 5:var o=e.stateNode;break;case 30:o=e.stateNode;break;default:o=e.stateNode}typeof r=="function"?e.refCleanup=r(o):r.current=o}}catch(h){te(e,n,h)}}function Ui(e,n){var r=e.ref,o=e.refCleanup;if(r!==null)if(typeof o=="function")try{o()}catch(h){te(e,n,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(h){te(e,n,h)}else r.current=null}function wy(e){var n=e.type,r=e.memoizedProps,o=e.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":r.autoFocus&&o.focus();break t;case"img":r.src?o.src=r.src:r.srcSet&&(o.srcset=r.srcSet)}}catch(h){te(e,e.return,h)}}function Jf(e,n,r){try{var o=e.stateNode;cb(o,e.type,r,n),o[Ve]=n}catch(h){te(e,e.return,h)}}function Ry(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&es(e.type)||e.tag===4}function Wf(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||Ry(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&es(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function td(e,n,r){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r).insertBefore(e,n):(n=r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,n.appendChild(e),r=r._reactRootContainer,r!=null||n.onclick!==null||(n.onclick=fi));else if(o!==4&&(o===27&&es(e.type)&&(r=e.stateNode,n=null),e=e.child,e!==null))for(td(e,n,r),e=e.sibling;e!==null;)td(e,n,r),e=e.sibling}function cc(e,n,r){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?r.insertBefore(e,n):r.appendChild(e);else if(o!==4&&(o===27&&es(e.type)&&(r=e.stateNode),e=e.child,e!==null))for(cc(e,n,r),e=e.sibling;e!==null;)cc(e,n,r),e=e.sibling}function Iy(e){var n=e.stateNode,r=e.memoizedProps;try{for(var o=e.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);rn(n,o,r),n[be]=e,n[Ve]=r}catch(f){te(e,e.return,f)}}var lr=!1,je=!1,ed=!1,Cy=typeof WeakSet=="function"?WeakSet:Set,Xe=null;function HT(e,n){if(e=e.containerInfo,bd=xc,e=jg(e),Yh(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else t:{r=(r=e.ownerDocument)&&r.defaultView||window;var o=r.getSelection&&r.getSelection();if(o&&o.rangeCount!==0){r=o.anchorNode;var h=o.anchorOffset,f=o.focusNode;o=o.focusOffset;try{r.nodeType,f.nodeType}catch{r=null;break t}var g=0,E=-1,I=-1,z=0,Q=0,X=e,B=null;e:for(;;){for(var H;X!==r||h!==0&&X.nodeType!==3||(E=g+h),X!==f||o!==0&&X.nodeType!==3||(I=g+o),X.nodeType===3&&(g+=X.nodeValue.length),(H=X.firstChild)!==null;)B=X,X=H;for(;;){if(X===e)break e;if(B===r&&++z===h&&(E=g),B===f&&++Q===o&&(I=g),(H=X.nextSibling)!==null)break;X=B,B=X.parentNode}X=H}r=E===-1||I===-1?null:{start:E,end:I}}else r=null}r=r||{start:0,end:0}}else r=null;for(Ad={focusedElem:e,selectionRange:r},xc=!1,Xe=n;Xe!==null;)if(n=Xe,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,Xe=e;else for(;Xe!==null;){switch(n=Xe,f=n.alternate,e=n.flags,n.tag){case 0:if((e&4)!==0&&(e=n.updateQueue,e=e!==null?e.events:null,e!==null))for(r=0;r<e.length;r++)h=e[r],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&f!==null){e=void 0,r=n,h=f.memoizedProps,f=f.memoizedState,o=r.stateNode;try{var ct=na(r.type,h);e=o.getSnapshotBeforeUpdate(ct,f),o.__reactInternalSnapshotBeforeUpdate=e}catch(vt){te(r,r.return,vt)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,r=e.nodeType,r===9)Rd(e);else if(r===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Rd(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(a(163))}if(e=n.sibling,e!==null){e.return=n.return,Xe=e;break}Xe=n.return}}function Ny(e,n,r){var o=r.flags;switch(r.tag){case 0:case 11:case 15:cr(e,r),o&4&&_l(5,r);break;case 1:if(cr(e,r),o&4)if(e=r.stateNode,n===null)try{e.componentDidMount()}catch(g){te(r,r.return,g)}else{var h=na(r.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(h,n,e.__reactInternalSnapshotBeforeUpdate)}catch(g){te(r,r.return,g)}}o&64&&Ay(r),o&512&&vl(r,r.return);break;case 3:if(cr(e,r),o&64&&(e=r.updateQueue,e!==null)){if(n=null,r.child!==null)switch(r.child.tag){case 27:case 5:n=r.child.stateNode;break;case 1:n=r.child.stateNode}try{dp(e,n)}catch(g){te(r,r.return,g)}}break;case 27:n===null&&o&4&&Iy(r);case 26:case 5:cr(e,r),n===null&&o&4&&wy(r),o&512&&vl(r,r.return);break;case 12:cr(e,r);break;case 31:cr(e,r),o&4&&My(e,r);break;case 13:cr(e,r),o&4&&Oy(e,r),o&64&&(e=r.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(r=JT.bind(null,r),_b(e,r))));break;case 22:if(o=r.memoizedState!==null||lr,!o){n=n!==null&&n.memoizedState!==null||je,h=lr;var f=je;lr=o,(je=n)&&!f?hr(e,r,(r.subtreeFlags&8772)!==0):cr(e,r),lr=h,je=f}break;case 30:break;default:cr(e,r)}}function Dy(e){var n=e.alternate;n!==null&&(e.alternate=null,Dy(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&$i(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var pe=null,wn=!1;function ur(e,n,r){for(r=r.child;r!==null;)xy(e,n,r),r=r.sibling}function xy(e,n,r){if(Oe&&typeof Oe.onCommitFiberUnmount=="function")try{Oe.onCommitFiberUnmount(Ie,r)}catch{}switch(r.tag){case 26:je||Ui(r,n),ur(e,n,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:je||Ui(r,n);var o=pe,h=wn;es(r.type)&&(pe=r.stateNode,wn=!1),ur(e,n,r),Cl(r.stateNode),pe=o,wn=h;break;case 5:je||Ui(r,n);case 6:if(o=pe,h=wn,pe=null,ur(e,n,r),pe=o,wn=h,pe!==null)if(wn)try{(pe.nodeType===9?pe.body:pe.nodeName==="HTML"?pe.ownerDocument.body:pe).removeChild(r.stateNode)}catch(f){te(r,n,f)}else try{pe.removeChild(r.stateNode)}catch(f){te(r,n,f)}break;case 18:pe!==null&&(wn?(e=pe,A_(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,r.stateNode),uo(e)):A_(pe,r.stateNode));break;case 4:o=pe,h=wn,pe=r.stateNode.containerInfo,wn=!0,ur(e,n,r),pe=o,wn=h;break;case 0:case 11:case 14:case 15:Kr(2,r,n),je||Kr(4,r,n),ur(e,n,r);break;case 1:je||(Ui(r,n),o=r.stateNode,typeof o.componentWillUnmount=="function"&&Sy(r,n,o)),ur(e,n,r);break;case 21:ur(e,n,r);break;case 22:je=(o=je)||r.memoizedState!==null,ur(e,n,r),je=o;break;default:ur(e,n,r)}}function My(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{uo(e)}catch(r){te(n,n.return,r)}}}function Oy(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{uo(e)}catch(r){te(n,n.return,r)}}function FT(e){switch(e.tag){case 31:case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new Cy),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new Cy),n;default:throw Error(a(435,e.tag))}}function hc(e,n){var r=FT(e);n.forEach(function(o){if(!r.has(o)){r.add(o);var h=WT.bind(null,e,o);o.then(h,h)}})}function Rn(e,n){var r=n.deletions;if(r!==null)for(var o=0;o<r.length;o++){var h=r[o],f=e,g=n,E=g;t:for(;E!==null;){switch(E.tag){case 27:if(es(E.type)){pe=E.stateNode,wn=!1;break t}break;case 5:pe=E.stateNode,wn=!1;break t;case 3:case 4:pe=E.stateNode.containerInfo,wn=!0;break t}E=E.return}if(pe===null)throw Error(a(160));xy(f,g,h),pe=null,wn=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)Vy(n,e),n=n.sibling}var _i=null;function Vy(e,n){var r=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Rn(n,e),In(e),o&4&&(Kr(3,e,e.return),_l(3,e),Kr(5,e,e.return));break;case 1:Rn(n,e),In(e),o&512&&(je||r===null||Ui(r,r.return)),o&64&&lr&&(e=e.updateQueue,e!==null&&(o=e.callbacks,o!==null&&(r=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=r===null?o:r.concat(o))));break;case 26:var h=_i;if(Rn(n,e),In(e),o&512&&(je||r===null||Ui(r,r.return)),o&4){var f=r!==null?r.memoizedState:null;if(o=e.memoizedState,r===null)if(o===null)if(e.stateNode===null){t:{o=e.type,r=e.memoizedProps,h=h.ownerDocument||h;e:switch(o){case"title":f=h.getElementsByTagName("title")[0],(!f||f[ke]||f[be]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(o),h.head.insertBefore(f,h.querySelector("head > title"))),rn(f,o,r),f[be]=e,Ae(f),o=f;break t;case"link":var g=V_("link","href",h).get(o+(r.href||""));if(g){for(var E=0;E<g.length;E++)if(f=g[E],f.getAttribute("href")===(r.href==null||r.href===""?null:r.href)&&f.getAttribute("rel")===(r.rel==null?null:r.rel)&&f.getAttribute("title")===(r.title==null?null:r.title)&&f.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){g.splice(E,1);break e}}f=h.createElement(o),rn(f,o,r),h.head.appendChild(f);break;case"meta":if(g=V_("meta","content",h).get(o+(r.content||""))){for(E=0;E<g.length;E++)if(f=g[E],f.getAttribute("content")===(r.content==null?null:""+r.content)&&f.getAttribute("name")===(r.name==null?null:r.name)&&f.getAttribute("property")===(r.property==null?null:r.property)&&f.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&f.getAttribute("charset")===(r.charSet==null?null:r.charSet)){g.splice(E,1);break e}}f=h.createElement(o),rn(f,o,r),h.head.appendChild(f);break;default:throw Error(a(468,o))}f[be]=e,Ae(f),o=f}e.stateNode=o}else k_(h,e.type,e.stateNode);else e.stateNode=O_(h,o,e.memoizedProps);else f!==o?(f===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):f.count--,o===null?k_(h,e.type,e.stateNode):O_(h,o,e.memoizedProps)):o===null&&e.stateNode!==null&&Jf(e,e.memoizedProps,r.memoizedProps)}break;case 27:Rn(n,e),In(e),o&512&&(je||r===null||Ui(r,r.return)),r!==null&&o&4&&Jf(e,e.memoizedProps,r.memoizedProps);break;case 5:if(Rn(n,e),In(e),o&512&&(je||r===null||Ui(r,r.return)),e.flags&32){h=e.stateNode;try{Sn(h,"")}catch(ct){te(e,e.return,ct)}}o&4&&e.stateNode!=null&&(h=e.memoizedProps,Jf(e,h,r!==null?r.memoizedProps:h)),o&1024&&(ed=!0);break;case 6:if(Rn(n,e),In(e),o&4){if(e.stateNode===null)throw Error(a(162));o=e.memoizedProps,r=e.stateNode;try{r.nodeValue=o}catch(ct){te(e,e.return,ct)}}break;case 3:if(Ic=null,h=_i,_i=wc(n.containerInfo),Rn(n,e),_i=h,In(e),o&4&&r!==null&&r.memoizedState.isDehydrated)try{uo(n.containerInfo)}catch(ct){te(e,e.return,ct)}ed&&(ed=!1,ky(e));break;case 4:o=_i,_i=wc(e.stateNode.containerInfo),Rn(n,e),In(e),_i=o;break;case 12:Rn(n,e),In(e);break;case 31:Rn(n,e),In(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,hc(e,o)));break;case 13:Rn(n,e),In(e),e.child.flags&8192&&e.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(dc=Ze()),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,hc(e,o)));break;case 22:h=e.memoizedState!==null;var I=r!==null&&r.memoizedState!==null,z=lr,Q=je;if(lr=z||h,je=Q||I,Rn(n,e),je=Q,lr=z,In(e),o&8192)t:for(n=e.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(r===null||I||lr||je||ia(e)),r=null,n=e;;){if(n.tag===5||n.tag===26){if(r===null){I=r=n;try{if(f=I.stateNode,h)g=f.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none";else{E=I.stateNode;var X=I.memoizedProps.style,B=X!=null&&X.hasOwnProperty("display")?X.display:null;E.style.display=B==null||typeof B=="boolean"?"":(""+B).trim()}}catch(ct){te(I,I.return,ct)}}}else if(n.tag===6){if(r===null){I=n;try{I.stateNode.nodeValue=h?"":I.memoizedProps}catch(ct){te(I,I.return,ct)}}}else if(n.tag===18){if(r===null){I=n;try{var H=I.stateNode;h?S_(H,!0):S_(I.stateNode,!1)}catch(ct){te(I,I.return,ct)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break t;for(;n.sibling===null;){if(n.return===null||n.return===e)break t;r===n&&(r=null),n=n.return}r===n&&(r=null),n.sibling.return=n.return,n=n.sibling}o&4&&(o=e.updateQueue,o!==null&&(r=o.retryQueue,r!==null&&(o.retryQueue=null,hc(e,r))));break;case 19:Rn(n,e),In(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,hc(e,o)));break;case 30:break;case 21:break;default:Rn(n,e),In(e)}}function In(e){var n=e.flags;if(n&2){try{for(var r,o=e.return;o!==null;){if(Ry(o)){r=o;break}o=o.return}if(r==null)throw Error(a(160));switch(r.tag){case 27:var h=r.stateNode,f=Wf(e);cc(e,f,h);break;case 5:var g=r.stateNode;r.flags&32&&(Sn(g,""),r.flags&=-33);var E=Wf(e);cc(e,E,g);break;case 3:case 4:var I=r.stateNode.containerInfo,z=Wf(e);td(e,z,I);break;default:throw Error(a(161))}}catch(Q){te(e,e.return,Q)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function ky(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;ky(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function cr(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Ny(e,n.alternate,n),n=n.sibling}function ia(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:Kr(4,n,n.return),ia(n);break;case 1:Ui(n,n.return);var r=n.stateNode;typeof r.componentWillUnmount=="function"&&Sy(n,n.return,r),ia(n);break;case 27:Cl(n.stateNode);case 26:case 5:Ui(n,n.return),ia(n);break;case 22:n.memoizedState===null&&ia(n);break;case 30:ia(n);break;default:ia(n)}e=e.sibling}}function hr(e,n,r){for(r=r&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var o=n.alternate,h=e,f=n,g=f.flags;switch(f.tag){case 0:case 11:case 15:hr(h,f,r),_l(4,f);break;case 1:if(hr(h,f,r),o=f,h=o.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(z){te(o,o.return,z)}if(o=f,h=o.updateQueue,h!==null){var E=o.stateNode;try{var I=h.shared.hiddenCallbacks;if(I!==null)for(h.shared.hiddenCallbacks=null,h=0;h<I.length;h++)fp(I[h],E)}catch(z){te(o,o.return,z)}}r&&g&64&&Ay(f),vl(f,f.return);break;case 27:Iy(f);case 26:case 5:hr(h,f,r),r&&o===null&&g&4&&wy(f),vl(f,f.return);break;case 12:hr(h,f,r);break;case 31:hr(h,f,r),r&&g&4&&My(h,f);break;case 13:hr(h,f,r),r&&g&4&&Oy(h,f);break;case 22:f.memoizedState===null&&hr(h,f,r),vl(f,f.return);break;case 30:break;default:hr(h,f,r)}n=n.sibling}}function nd(e,n){var r=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(r=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==r&&(e!=null&&e.refCount++,r!=null&&sl(r))}function id(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&sl(e))}function vi(e,n,r,o){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Uy(e,n,r,o),n=n.sibling}function Uy(e,n,r,o){var h=n.flags;switch(n.tag){case 0:case 11:case 15:vi(e,n,r,o),h&2048&&_l(9,n);break;case 1:vi(e,n,r,o);break;case 3:vi(e,n,r,o),h&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&sl(e)));break;case 12:if(h&2048){vi(e,n,r,o),e=n.stateNode;try{var f=n.memoizedProps,g=f.id,E=f.onPostCommit;typeof E=="function"&&E(g,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(I){te(n,n.return,I)}}else vi(e,n,r,o);break;case 31:vi(e,n,r,o);break;case 13:vi(e,n,r,o);break;case 23:break;case 22:f=n.stateNode,g=n.alternate,n.memoizedState!==null?f._visibility&2?vi(e,n,r,o):El(e,n):f._visibility&2?vi(e,n,r,o):(f._visibility|=2,Ja(e,n,r,o,(n.subtreeFlags&10256)!==0||!1)),h&2048&&nd(g,n);break;case 24:vi(e,n,r,o),h&2048&&id(n.alternate,n);break;default:vi(e,n,r,o)}}function Ja(e,n,r,o,h){for(h=h&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=e,g=n,E=r,I=o,z=g.flags;switch(g.tag){case 0:case 11:case 15:Ja(f,g,E,I,h),_l(8,g);break;case 23:break;case 22:var Q=g.stateNode;g.memoizedState!==null?Q._visibility&2?Ja(f,g,E,I,h):El(f,g):(Q._visibility|=2,Ja(f,g,E,I,h)),h&&z&2048&&nd(g.alternate,g);break;case 24:Ja(f,g,E,I,h),h&&z&2048&&id(g.alternate,g);break;default:Ja(f,g,E,I,h)}n=n.sibling}}function El(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var r=e,o=n,h=o.flags;switch(o.tag){case 22:El(r,o),h&2048&&nd(o.alternate,o);break;case 24:El(r,o),h&2048&&id(o.alternate,o);break;default:El(r,o)}n=n.sibling}}var Tl=8192;function Wa(e,n,r){if(e.subtreeFlags&Tl)for(e=e.child;e!==null;)Ly(e,n,r),e=e.sibling}function Ly(e,n,r){switch(e.tag){case 26:Wa(e,n,r),e.flags&Tl&&e.memoizedState!==null&&Db(r,_i,e.memoizedState,e.memoizedProps);break;case 5:Wa(e,n,r);break;case 3:case 4:var o=_i;_i=wc(e.stateNode.containerInfo),Wa(e,n,r),_i=o;break;case 22:e.memoizedState===null&&(o=e.alternate,o!==null&&o.memoizedState!==null?(o=Tl,Tl=16777216,Wa(e,n,r),Tl=o):Wa(e,n,r));break;default:Wa(e,n,r)}}function Py(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function bl(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var o=n[r];Xe=o,jy(o,e)}Py(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)zy(e),e=e.sibling}function zy(e){switch(e.tag){case 0:case 11:case 15:bl(e),e.flags&2048&&Kr(9,e,e.return);break;case 3:bl(e);break;case 12:bl(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,fc(e)):bl(e);break;default:bl(e)}}function fc(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var o=n[r];Xe=o,jy(o,e)}Py(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:Kr(8,n,n.return),fc(n);break;case 22:r=n.stateNode,r._visibility&2&&(r._visibility&=-3,fc(n));break;default:fc(n)}e=e.sibling}}function jy(e,n){for(;Xe!==null;){var r=Xe;switch(r.tag){case 0:case 11:case 15:Kr(8,r,n);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var o=r.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:sl(r.memoizedState.cache)}if(o=r.child,o!==null)o.return=r,Xe=o;else t:for(r=e;Xe!==null;){o=Xe;var h=o.sibling,f=o.return;if(Dy(o),o===r){Xe=null;break t}if(h!==null){h.return=f,Xe=h;break t}Xe=f}}}var GT={getCacheForType:function(e){var n=en(Le),r=n.data.get(e);return r===void 0&&(r=e(),n.data.set(e,r)),r},cacheSignal:function(){return en(Le).controller.signal}},QT=typeof WeakMap=="function"?WeakMap:Map,Xt=0,ae=null,xt=null,kt=0,Wt=0,Hn=null,Xr=!1,to=!1,rd=!1,fr=0,Re=0,$r=0,ra=0,sd=0,Fn=0,eo=0,Al=null,Cn=null,ad=!1,dc=0,By=0,mc=1/0,gc=null,Zr=null,Ge=0,Jr=null,no=null,dr=0,od=0,ld=null,qy=null,Sl=0,ud=null;function Gn(){return(Xt&2)!==0&&kt!==0?kt&-kt:G.T!==null?gd():Sa()}function Hy(){if(Fn===0)if((kt&536870912)===0||qt){var e=wi;wi<<=1,(wi&3932160)===0&&(wi=262144),Fn=e}else Fn=536870912;return e=Bn.current,e!==null&&(e.flags|=32),Fn}function Nn(e,n,r){(e===ae&&(Wt===2||Wt===9)||e.cancelPendingCommit!==null)&&(io(e,0),Wr(e,kt,Fn,!1)),Ki(e,r),((Xt&2)===0||e!==ae)&&(e===ae&&((Xt&2)===0&&(ra|=r),Re===4&&Wr(e,kt,Fn,!1)),Li(e))}function Fy(e,n,r){if((Xt&6)!==0)throw Error(a(327));var o=!r&&(n&127)===0&&(n&e.expiredLanes)===0||Vn(e,n),h=o?XT(e,n):hd(e,n,!0),f=o;do{if(h===0){to&&!o&&Wr(e,n,0,!1);break}else{if(r=e.current.alternate,f&&!YT(r)){h=hd(e,n,!1),f=!1;continue}if(h===2){if(f=n,e.errorRecoveryDisabledLanes&f)var g=0;else g=e.pendingLanes&-536870913,g=g!==0?g:g&536870912?536870912:0;if(g!==0){n=g;t:{var E=e;h=Al;var I=E.current.memoizedState.isDehydrated;if(I&&(io(E,g).flags|=256),g=hd(E,g,!1),g!==2){if(rd&&!I){E.errorRecoveryDisabledLanes|=f,ra|=f,h=4;break t}f=Cn,Cn=h,f!==null&&(Cn===null?Cn=f:Cn.push.apply(Cn,f))}h=g}if(f=!1,h!==2)continue}}if(h===1){io(e,0),Wr(e,n,0,!0);break}t:{switch(o=e,f=h,f){case 0:case 1:throw Error(a(345));case 4:if((n&4194048)!==n)break;case 6:Wr(o,n,Fn,!Xr);break t;case 2:Cn=null;break;case 3:case 5:break;default:throw Error(a(329))}if((n&62914560)===n&&(h=dc+300-Ze(),10<h)){if(Wr(o,n,Fn,!Xr),Kn(o,0,!0)!==0)break t;dr=n,o.timeoutHandle=T_(Gy.bind(null,o,r,Cn,gc,ad,n,Fn,ra,eo,Xr,f,"Throttled",-0,0),h);break t}Gy(o,r,Cn,gc,ad,n,Fn,ra,eo,Xr,f,null,-0,0)}}break}while(!0);Li(e)}function Gy(e,n,r,o,h,f,g,E,I,z,Q,X,B,H){if(e.timeoutHandle=-1,X=n.subtreeFlags,X&8192||(X&16785408)===16785408){X={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:fi},Ly(n,f,X);var ct=(f&62914560)===f?dc-Ze():(f&4194048)===f?By-Ze():0;if(ct=xb(X,ct),ct!==null){dr=f,e.cancelPendingCommit=ct(Wy.bind(null,e,n,f,r,o,h,g,E,I,Q,X,null,B,H)),Wr(e,f,g,!z);return}}Wy(e,n,f,r,o,h,g,E,I)}function YT(e){for(var n=e;;){var r=n.tag;if((r===0||r===11||r===15)&&n.flags&16384&&(r=n.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var o=0;o<r.length;o++){var h=r[o],f=h.getSnapshot;h=h.value;try{if(!zn(f(),h))return!1}catch{return!1}}if(r=n.child,n.subtreeFlags&16384&&r!==null)r.return=n,n=r;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Wr(e,n,r,o){n&=~sd,n&=~ra,e.suspendedLanes|=n,e.pingedLanes&=~n,o&&(e.warmLanes|=n),o=e.expirationTimes;for(var h=n;0<h;){var f=31-ve(h),g=1<<f;o[f]=-1,h&=~g}r!==0&&Ri(e,r,n)}function pc(){return(Xt&6)===0?(wl(0),!1):!0}function cd(){if(xt!==null){if(Wt===0)var e=xt.return;else e=xt,nr=Xs=null,Rf(e),Ya=null,ol=0,e=xt;for(;e!==null;)by(e.alternate,e),e=e.return;xt=null}}function io(e,n){var r=e.timeoutHandle;r!==-1&&(e.timeoutHandle=-1,db(r)),r=e.cancelPendingCommit,r!==null&&(e.cancelPendingCommit=null,r()),dr=0,cd(),ae=e,xt=r=tr(e.current,null),kt=n,Wt=0,Hn=null,Xr=!1,to=Vn(e,n),rd=!1,eo=Fn=sd=ra=$r=Re=0,Cn=Al=null,ad=!1,(n&8)!==0&&(n|=n&32);var o=e.entangledLanes;if(o!==0)for(e=e.entanglements,o&=n;0<o;){var h=31-ve(o),f=1<<h;n|=e[h],o&=~f}return fr=n,Lu(),r}function Qy(e,n){Nt=null,G.H=gl,n===Qa||n===Gu?(n=lp(),Wt=3):n===mf?(n=lp(),Wt=4):Wt=n===qf?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,Hn=n,xt===null&&(Re=1,sc(e,ni(n,e.current)))}function Yy(){var e=Bn.current;return e===null?!0:(kt&4194048)===kt?ai===null:(kt&62914560)===kt||(kt&536870912)!==0?e===ai:!1}function Ky(){var e=G.H;return G.H=gl,e===null?gl:e}function Xy(){var e=G.A;return G.A=GT,e}function yc(){Re=4,Xr||(kt&4194048)!==kt&&Bn.current!==null||(to=!0),($r&134217727)===0&&(ra&134217727)===0||ae===null||Wr(ae,kt,Fn,!1)}function hd(e,n,r){var o=Xt;Xt|=2;var h=Ky(),f=Xy();(ae!==e||kt!==n)&&(gc=null,io(e,n)),n=!1;var g=Re;t:do try{if(Wt!==0&&xt!==null){var E=xt,I=Hn;switch(Wt){case 8:cd(),g=6;break t;case 3:case 2:case 9:case 6:Bn.current===null&&(n=!0);var z=Wt;if(Wt=0,Hn=null,ro(e,E,I,z),r&&to){g=0;break t}break;default:z=Wt,Wt=0,Hn=null,ro(e,E,I,z)}}KT(),g=Re;break}catch(Q){Qy(e,Q)}while(!0);return n&&e.shellSuspendCounter++,nr=Xs=null,Xt=o,G.H=h,G.A=f,xt===null&&(ae=null,kt=0,Lu()),g}function KT(){for(;xt!==null;)$y(xt)}function XT(e,n){var r=Xt;Xt|=2;var o=Ky(),h=Xy();ae!==e||kt!==n?(gc=null,mc=Ze()+500,io(e,n)):to=Vn(e,n);t:do try{if(Wt!==0&&xt!==null){n=xt;var f=Hn;e:switch(Wt){case 1:Wt=0,Hn=null,ro(e,n,f,1);break;case 2:case 9:if(ap(f)){Wt=0,Hn=null,Zy(n);break}n=function(){Wt!==2&&Wt!==9||ae!==e||(Wt=7),Li(e)},f.then(n,n);break t;case 3:Wt=7;break t;case 4:Wt=5;break t;case 7:ap(f)?(Wt=0,Hn=null,Zy(n)):(Wt=0,Hn=null,ro(e,n,f,7));break;case 5:var g=null;switch(xt.tag){case 26:g=xt.memoizedState;case 5:case 27:var E=xt;if(g?U_(g):E.stateNode.complete){Wt=0,Hn=null;var I=E.sibling;if(I!==null)xt=I;else{var z=E.return;z!==null?(xt=z,_c(z)):xt=null}break e}}Wt=0,Hn=null,ro(e,n,f,5);break;case 6:Wt=0,Hn=null,ro(e,n,f,6);break;case 8:cd(),Re=6;break t;default:throw Error(a(462))}}$T();break}catch(Q){Qy(e,Q)}while(!0);return nr=Xs=null,G.H=o,G.A=h,Xt=r,xt!==null?0:(ae=null,kt=0,Lu(),Re)}function $T(){for(;xt!==null&&!_a();)$y(xt)}function $y(e){var n=Ey(e.alternate,e,fr);e.memoizedProps=e.pendingProps,n===null?_c(e):xt=n}function Zy(e){var n=e,r=n.alternate;switch(n.tag){case 15:case 0:n=my(r,n,n.pendingProps,n.type,void 0,kt);break;case 11:n=my(r,n,n.pendingProps,n.type.render,n.ref,kt);break;case 5:Rf(n);default:by(r,n),n=xt=Xg(n,fr),n=Ey(r,n,fr)}e.memoizedProps=e.pendingProps,n===null?_c(e):xt=n}function ro(e,n,r,o){nr=Xs=null,Rf(n),Ya=null,ol=0;var h=n.return;try{if(PT(e,h,n,r,kt)){Re=1,sc(e,ni(r,e.current)),xt=null;return}}catch(f){if(h!==null)throw xt=h,f;Re=1,sc(e,ni(r,e.current)),xt=null;return}n.flags&32768?(qt||o===1?e=!0:to||(kt&536870912)!==0?e=!1:(Xr=e=!0,(o===2||o===9||o===3||o===6)&&(o=Bn.current,o!==null&&o.tag===13&&(o.flags|=16384))),Jy(n,e)):_c(n)}function _c(e){var n=e;do{if((n.flags&32768)!==0){Jy(n,Xr);return}e=n.return;var r=BT(n.alternate,n,fr);if(r!==null){xt=r;return}if(n=n.sibling,n!==null){xt=n;return}xt=n=e}while(n!==null);Re===0&&(Re=5)}function Jy(e,n){do{var r=qT(e.alternate,e);if(r!==null){r.flags&=32767,xt=r;return}if(r=e.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!n&&(e=e.sibling,e!==null)){xt=e;return}xt=e=r}while(e!==null);Re=6,xt=null}function Wy(e,n,r,o,h,f,g,E,I){e.cancelPendingCommit=null;do vc();while(Ge!==0);if((Xt&6)!==0)throw Error(a(327));if(n!==null){if(n===e.current)throw Error(a(177));if(f=n.lanes|n.childLanes,f|=Jh,Bo(e,r,f,g,E,I),e===ae&&(xt=ae=null,kt=0),no=n,Jr=e,dr=r,od=f,ld=h,qy=o,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,tb(gn,function(){return r_(),null})):(e.callbackNode=null,e.callbackPriority=0),o=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||o){o=G.T,G.T=null,h=rt.p,rt.p=2,g=Xt,Xt|=4;try{HT(e,n,r)}finally{Xt=g,rt.p=h,G.T=o}}Ge=1,t_(),e_(),n_()}}function t_(){if(Ge===1){Ge=0;var e=Jr,n=no,r=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||r){r=G.T,G.T=null;var o=rt.p;rt.p=2;var h=Xt;Xt|=4;try{Vy(n,e);var f=Ad,g=jg(e.containerInfo),E=f.focusedElem,I=f.selectionRange;if(g!==E&&E&&E.ownerDocument&&zg(E.ownerDocument.documentElement,E)){if(I!==null&&Yh(E)){var z=I.start,Q=I.end;if(Q===void 0&&(Q=z),"selectionStart"in E)E.selectionStart=z,E.selectionEnd=Math.min(Q,E.value.length);else{var X=E.ownerDocument||document,B=X&&X.defaultView||window;if(B.getSelection){var H=B.getSelection(),ct=E.textContent.length,vt=Math.min(I.start,ct),se=I.end===void 0?vt:Math.min(I.end,ct);!H.extend&&vt>se&&(g=se,se=vt,vt=g);var k=Pg(E,vt),N=Pg(E,se);if(k&&N&&(H.rangeCount!==1||H.anchorNode!==k.node||H.anchorOffset!==k.offset||H.focusNode!==N.node||H.focusOffset!==N.offset)){var P=X.createRange();P.setStart(k.node,k.offset),H.removeAllRanges(),vt>se?(H.addRange(P),H.extend(N.node,N.offset)):(P.setEnd(N.node,N.offset),H.addRange(P))}}}}for(X=[],H=E;H=H.parentNode;)H.nodeType===1&&X.push({element:H,left:H.scrollLeft,top:H.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<X.length;E++){var Y=X[E];Y.element.scrollLeft=Y.left,Y.element.scrollTop=Y.top}}xc=!!bd,Ad=bd=null}finally{Xt=h,rt.p=o,G.T=r}}e.current=n,Ge=2}}function e_(){if(Ge===2){Ge=0;var e=Jr,n=no,r=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||r){r=G.T,G.T=null;var o=rt.p;rt.p=2;var h=Xt;Xt|=4;try{Ny(e,n.alternate,n)}finally{Xt=h,rt.p=o,G.T=r}}Ge=3}}function n_(){if(Ge===4||Ge===3){Ge=0,va();var e=Jr,n=no,r=dr,o=qy;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Ge=5:(Ge=0,no=Jr=null,i_(e,e.pendingLanes));var h=e.pendingLanes;if(h===0&&(Zr=null),$n(r),n=n.stateNode,Oe&&typeof Oe.onCommitFiberRoot=="function")try{Oe.onCommitFiberRoot(Ie,n,void 0,(n.current.flags&128)===128)}catch{}if(o!==null){n=G.T,h=rt.p,rt.p=2,G.T=null;try{for(var f=e.onRecoverableError,g=0;g<o.length;g++){var E=o[g];f(E.value,{componentStack:E.stack})}}finally{G.T=n,rt.p=h}}(dr&3)!==0&&vc(),Li(e),h=e.pendingLanes,(r&261930)!==0&&(h&42)!==0?e===ud?Sl++:(Sl=0,ud=e):Sl=0,wl(0)}}function i_(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,sl(n)))}function vc(){return t_(),e_(),n_(),r_()}function r_(){if(Ge!==5)return!1;var e=Jr,n=od;od=0;var r=$n(dr),o=G.T,h=rt.p;try{rt.p=32>r?32:r,G.T=null,r=ld,ld=null;var f=Jr,g=dr;if(Ge=0,no=Jr=null,dr=0,(Xt&6)!==0)throw Error(a(331));var E=Xt;if(Xt|=4,zy(f.current),Uy(f,f.current,g,r),Xt=E,wl(0,!1),Oe&&typeof Oe.onPostCommitFiberRoot=="function")try{Oe.onPostCommitFiberRoot(Ie,f)}catch{}return!0}finally{rt.p=h,G.T=o,i_(e,n)}}function s_(e,n,r){n=ni(r,n),n=Bf(e.stateNode,n,2),e=Gr(e,n,2),e!==null&&(Ki(e,2),Li(e))}function te(e,n,r){if(e.tag===3)s_(e,e,r);else for(;n!==null;){if(n.tag===3){s_(n,e,r);break}else if(n.tag===1){var o=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Zr===null||!Zr.has(o))){e=ni(r,e),r=ay(2),o=Gr(n,r,2),o!==null&&(oy(r,o,n,e),Ki(o,2),Li(o));break}}n=n.return}}function fd(e,n,r){var o=e.pingCache;if(o===null){o=e.pingCache=new QT;var h=new Set;o.set(n,h)}else h=o.get(n),h===void 0&&(h=new Set,o.set(n,h));h.has(r)||(rd=!0,h.add(r),e=ZT.bind(null,e,n,r),n.then(e,e))}function ZT(e,n,r){var o=e.pingCache;o!==null&&o.delete(n),e.pingedLanes|=e.suspendedLanes&r,e.warmLanes&=~r,ae===e&&(kt&r)===r&&(Re===4||Re===3&&(kt&62914560)===kt&&300>Ze()-dc?(Xt&2)===0&&io(e,0):sd|=r,eo===kt&&(eo=0)),Li(e)}function a_(e,n){n===0&&(n=Aa()),e=Qs(e,n),e!==null&&(Ki(e,n),Li(e))}function JT(e){var n=e.memoizedState,r=0;n!==null&&(r=n.retryLane),a_(e,r)}function WT(e,n){var r=0;switch(e.tag){case 31:case 13:var o=e.stateNode,h=e.memoizedState;h!==null&&(r=h.retryLane);break;case 19:o=e.stateNode;break;case 22:o=e.stateNode._retryCache;break;default:throw Error(a(314))}o!==null&&o.delete(n),a_(e,r)}function tb(e,n){return _e(e,n)}var Ec=null,so=null,dd=!1,Tc=!1,md=!1,ts=0;function Li(e){e!==so&&e.next===null&&(so===null?Ec=so=e:so=so.next=e),Tc=!0,dd||(dd=!0,nb())}function wl(e,n){if(!md&&Tc){md=!0;do for(var r=!1,o=Ec;o!==null;){if(e!==0){var h=o.pendingLanes;if(h===0)var f=0;else{var g=o.suspendedLanes,E=o.pingedLanes;f=(1<<31-ve(42|e)+1)-1,f&=h&~(g&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(r=!0,c_(o,f))}else f=kt,f=Kn(o,o===ae?f:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(f&3)===0||Vn(o,f)||(r=!0,c_(o,f));o=o.next}while(r);md=!1}}function eb(){o_()}function o_(){Tc=dd=!1;var e=0;ts!==0&&fb()&&(e=ts);for(var n=Ze(),r=null,o=Ec;o!==null;){var h=o.next,f=l_(o,n);f===0?(o.next=null,r===null?Ec=h:r.next=h,h===null&&(so=r)):(r=o,(e!==0||(f&3)!==0)&&(Tc=!0)),o=h}Ge!==0&&Ge!==5||wl(e),ts!==0&&(ts=0)}function l_(e,n){for(var r=e.suspendedLanes,o=e.pingedLanes,h=e.expirationTimes,f=e.pendingLanes&-62914561;0<f;){var g=31-ve(f),E=1<<g,I=h[g];I===-1?((E&r)===0||(E&o)!==0)&&(h[g]=Os(E,n)):I<=n&&(e.expiredLanes|=E),f&=~E}if(n=ae,r=kt,r=Kn(e,e===n?r:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o=e.callbackNode,r===0||e===n&&(Wt===2||Wt===9)||e.cancelPendingCommit!==null)return o!==null&&o!==null&&hi(o),e.callbackNode=null,e.callbackPriority=0;if((r&3)===0||Vn(e,r)){if(n=r&-r,n===e.callbackPriority)return n;switch(o!==null&&hi(o),$n(r)){case 2:case 8:r=Ir;break;case 32:r=gn;break;case 268435456:r=Ta;break;default:r=gn}return o=u_.bind(null,e),r=_e(r,o),e.callbackPriority=n,e.callbackNode=r,n}return o!==null&&o!==null&&hi(o),e.callbackPriority=2,e.callbackNode=null,2}function u_(e,n){if(Ge!==0&&Ge!==5)return e.callbackNode=null,e.callbackPriority=0,null;var r=e.callbackNode;if(vc()&&e.callbackNode!==r)return null;var o=kt;return o=Kn(e,e===ae?o:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o===0?null:(Fy(e,o,n),l_(e,Ze()),e.callbackNode!=null&&e.callbackNode===r?u_.bind(null,e):null)}function c_(e,n){if(vc())return null;Fy(e,n,!0)}function nb(){mb(function(){(Xt&6)!==0?_e(Yn,eb):o_()})}function gd(){if(ts===0){var e=Fa;e===0&&(e=Mn,Mn<<=1,(Mn&261888)===0&&(Mn=256)),ts=e}return ts}function h_(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Na(""+e)}function f_(e,n){var r=n.ownerDocument.createElement("input");return r.name=n.name,r.value=n.value,e.id&&r.setAttribute("form",e.id),n.parentNode.insertBefore(r,n),e=new FormData(e),r.parentNode.removeChild(r),e}function ib(e,n,r,o,h){if(n==="submit"&&r&&r.stateNode===h){var f=h_((h[Ve]||null).action),g=o.submitter;g&&(n=(n=g[Ve]||null)?h_(n.formAction):g.getAttribute("formAction"),n!==null&&(f=n,g=null));var E=new Di("action","action",null,o,h);e.push({event:E,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(ts!==0){var I=g?f_(h,g):new FormData(h);kf(r,{pending:!0,data:I,method:h.method,action:f},null,I)}}else typeof f=="function"&&(E.preventDefault(),I=g?f_(h,g):new FormData(h),kf(r,{pending:!0,data:I,method:h.method,action:f},f,I))},currentTarget:h}]})}}for(var pd=0;pd<Zh.length;pd++){var yd=Zh[pd],rb=yd.toLowerCase(),sb=yd[0].toUpperCase()+yd.slice(1);yi(rb,"on"+sb)}yi(Hg,"onAnimationEnd"),yi(Fg,"onAnimationIteration"),yi(Gg,"onAnimationStart"),yi("dblclick","onDoubleClick"),yi("focusin","onFocus"),yi("focusout","onBlur"),yi(TT,"onTransitionRun"),yi(bT,"onTransitionStart"),yi(AT,"onTransitionCancel"),yi(Qg,"onTransitionEnd"),ft("onMouseEnter",["mouseout","mouseover"]),ft("onMouseLeave",["mouseout","mouseover"]),ft("onPointerEnter",["pointerout","pointerover"]),ft("onPointerLeave",["pointerout","pointerover"]),W("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),W("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),W("onBeforeInput",["compositionend","keypress","textInput","paste"]),W("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),W("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),W("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Rl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ab=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Rl));function d_(e,n){n=(n&4)!==0;for(var r=0;r<e.length;r++){var o=e[r],h=o.event;o=o.listeners;t:{var f=void 0;if(n)for(var g=o.length-1;0<=g;g--){var E=o[g],I=E.instance,z=E.currentTarget;if(E=E.listener,I!==f&&h.isPropagationStopped())break t;f=E,h.currentTarget=z;try{f(h)}catch(Q){Uu(Q)}h.currentTarget=null,f=I}else for(g=0;g<o.length;g++){if(E=o[g],I=E.instance,z=E.currentTarget,E=E.listener,I!==f&&h.isPropagationStopped())break t;f=E,h.currentTarget=z;try{f(h)}catch(Q){Uu(Q)}h.currentTarget=null,f=I}}}}function Mt(e,n){var r=n[Nr];r===void 0&&(r=n[Nr]=new Set);var o=e+"__bubble";r.has(o)||(m_(n,e,2,!1),r.add(o))}function _d(e,n,r){var o=0;n&&(o|=4),m_(r,e,o,n)}var bc="_reactListening"+Math.random().toString(36).slice(2);function vd(e){if(!e[bc]){e[bc]=!0,V.forEach(function(r){r!=="selectionchange"&&(ab.has(r)||_d(r,!1,e),_d(r,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[bc]||(n[bc]=!0,_d("selectionchange",!1,n))}}function m_(e,n,r,o){switch(H_(n)){case 2:var h=Vb;break;case 8:h=kb;break;default:h=Vd}r=h.bind(null,n,r,e),h=void 0,!Ps||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),o?h!==void 0?e.addEventListener(n,r,{capture:!0,passive:h}):e.addEventListener(n,r,!0):h!==void 0?e.addEventListener(n,r,{passive:h}):e.addEventListener(n,r,!1)}function Ed(e,n,r,o,h){var f=o;if((n&1)===0&&(n&2)===0&&o!==null)t:for(;;){if(o===null)return;var g=o.tag;if(g===3||g===4){var E=o.stateNode.containerInfo;if(E===h)break;if(g===4)for(g=o.return;g!==null;){var I=g.tag;if((I===3||I===4)&&g.stateNode.containerInfo===h)return;g=g.return}for(;E!==null;){if(g=Ln(E),g===null)return;if(I=g.tag,I===5||I===6||I===26||I===27){o=f=g;continue t}E=E.parentNode}}o=o.return}kr(function(){var z=f,Q=Jn(r),X=[];t:{var B=Yg.get(e);if(B!==void 0){var H=Di,ct=e;switch(e){case"keypress":if(js(r)===0)break t;case"keydown":case"keyup":H=Ou;break;case"focusin":ct="focus",H=qs;break;case"focusout":ct="blur",H=qs;break;case"beforeblur":case"afterblur":H=qs;break;case"click":if(r.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":H=Zo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":H=Su;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":H=m;break;case Hg:case Fg:case Gg:H=Ru;break;case Qg:H=T;break;case"scroll":case"scrollend":H=$o;break;case"wheel":H=q;break;case"copy":case"cut":case"paste":H=Iu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":H=Wi;break;case"toggle":case"beforetoggle":H=Ct}var vt=(n&4)!==0,se=!vt&&(e==="scroll"||e==="scrollend"),k=vt?B!==null?B+"Capture":null:B;vt=[];for(var N=z,P;N!==null;){var Y=N;if(P=Y.stateNode,Y=Y.tag,Y!==5&&Y!==26&&Y!==27||P===null||k===null||(Y=di(N,k),Y!=null&&vt.push(Il(N,Y,P))),se)break;N=N.return}0<vt.length&&(B=new H(B,ct,null,r,Q),X.push({event:B,listeners:vt}))}}if((n&7)===0){t:{if(B=e==="mouseover"||e==="pointerover",H=e==="mouseout"||e==="pointerout",B&&r!==Yo&&(ct=r.relatedTarget||r.fromElement)&&(Ln(ct)||ct[Zn]))break t;if((H||B)&&(B=Q.window===Q?Q:(B=Q.ownerDocument)?B.defaultView||B.parentWindow:window,H?(ct=r.relatedTarget||r.toElement,H=z,ct=ct?Ln(ct):null,ct!==null&&(se=c(ct),vt=ct.tag,ct!==se||vt!==5&&vt!==27&&vt!==6)&&(ct=null)):(H=null,ct=z),H!==ct)){if(vt=Zo,Y="onMouseLeave",k="onMouseEnter",N="mouse",(e==="pointerout"||e==="pointerover")&&(vt=Wi,Y="onPointerLeave",k="onPointerEnter",N="pointer"),se=H==null?B:_n(H),P=ct==null?B:_n(ct),B=new vt(Y,N+"leave",H,r,Q),B.target=se,B.relatedTarget=P,Y=null,Ln(Q)===z&&(vt=new vt(k,N+"enter",ct,r,Q),vt.target=P,vt.relatedTarget=se,Y=vt),se=Y,H&&ct)e:{for(vt=ob,k=H,N=ct,P=0,Y=k;Y;Y=vt(Y))P++;Y=0;for(var mt=N;mt;mt=vt(mt))Y++;for(;0<P-Y;)k=vt(k),P--;for(;0<Y-P;)N=vt(N),Y--;for(;P--;){if(k===N||N!==null&&k===N.alternate){vt=k;break e}k=vt(k),N=vt(N)}vt=null}else vt=null;H!==null&&g_(X,B,H,vt,!1),ct!==null&&se!==null&&g_(X,se,ct,vt,!0)}}t:{if(B=z?_n(z):window,H=B.nodeName&&B.nodeName.toLowerCase(),H==="select"||H==="input"&&B.type==="file")var Gt=Mg;else if(Dg(B))if(Og)Gt=_T;else{Gt=pT;var ht=gT}else H=B.nodeName,!H||H.toLowerCase()!=="input"||B.type!=="checkbox"&&B.type!=="radio"?z&&Ca(z.elementType)&&(Gt=Mg):Gt=yT;if(Gt&&(Gt=Gt(e,z))){xg(X,Gt,r,Q);break t}ht&&ht(e,B,z),e==="focusout"&&z&&B.type==="number"&&z.memoizedProps.value!=null&&Fo(B,"number",B.value)}switch(ht=z?_n(z):window,e){case"focusin":(Dg(ht)||ht.contentEditable==="true")&&(Ua=ht,Kh=z,nl=null);break;case"focusout":nl=Kh=Ua=null;break;case"mousedown":Xh=!0;break;case"contextmenu":case"mouseup":case"dragend":Xh=!1,Bg(X,r,Q);break;case"selectionchange":if(ET)break;case"keydown":case"keyup":Bg(X,r,Q)}var Dt;if(Kt)t:{switch(e){case"compositionstart":var Ut="onCompositionStart";break t;case"compositionend":Ut="onCompositionEnd";break t;case"compositionupdate":Ut="onCompositionUpdate";break t}Ut=void 0}else ka?Hs(e,r)&&(Ut="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(Ut="onCompositionStart");Ut&&(Oi&&r.locale!=="ko"&&(ka||Ut!=="onCompositionStart"?Ut==="onCompositionEnd"&&ka&&(Dt=Xo()):(Ni=Q,Ko="value"in Ni?Ni.value:Ni.textContent,ka=!0)),ht=Ac(z,Ut),0<ht.length&&(Ut=new Mi(Ut,e,null,r,Q),X.push({event:Ut,listeners:ht}),Dt?Ut.data=Dt:(Dt=Va(r),Dt!==null&&(Ut.data=Dt)))),(Dt=ti?hT(e,r):fT(e,r))&&(Ut=Ac(z,"onBeforeInput"),0<Ut.length&&(ht=new Mi("onBeforeInput","beforeinput",null,r,Q),X.push({event:ht,listeners:Ut}),ht.data=Dt)),ib(X,e,z,r,Q)}d_(X,n)})}function Il(e,n,r){return{instance:e,listener:n,currentTarget:r}}function Ac(e,n){for(var r=n+"Capture",o=[];e!==null;){var h=e,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=di(e,r),h!=null&&o.unshift(Il(e,h,f)),h=di(e,n),h!=null&&o.push(Il(e,h,f))),e.tag===3)return o;e=e.return}return[]}function ob(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function g_(e,n,r,o,h){for(var f=n._reactName,g=[];r!==null&&r!==o;){var E=r,I=E.alternate,z=E.stateNode;if(E=E.tag,I!==null&&I===o)break;E!==5&&E!==26&&E!==27||z===null||(I=z,h?(z=di(r,f),z!=null&&g.unshift(Il(r,z,I))):h||(z=di(r,f),z!=null&&g.push(Il(r,z,I)))),r=r.return}g.length!==0&&e.push({event:n,listeners:g})}var lb=/\r\n?/g,ub=/\u0000|\uFFFD/g;function p_(e){return(typeof e=="string"?e:""+e).replace(lb,`
`).replace(ub,"")}function y_(e,n){return n=p_(n),p_(e)===n}function re(e,n,r,o,h,f){switch(r){case"children":typeof o=="string"?n==="body"||n==="textarea"&&o===""||Sn(e,o):(typeof o=="number"||typeof o=="bigint")&&n!=="body"&&Sn(e,""+o);break;case"className":Je(e,"class",o);break;case"tabIndex":Je(e,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":Je(e,r,o);break;case"style":Qo(e,o,f);break;case"data":if(n!=="object"){Je(e,"data",o);break}case"src":case"href":if(o===""&&(n!=="a"||r!=="href")){e.removeAttribute(r);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(r);break}o=Na(""+o),e.setAttribute(r,o);break;case"action":case"formAction":if(typeof o=="function"){e.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(r==="formAction"?(n!=="input"&&re(e,n,"name",h.name,h,null),re(e,n,"formEncType",h.formEncType,h,null),re(e,n,"formMethod",h.formMethod,h,null),re(e,n,"formTarget",h.formTarget,h,null)):(re(e,n,"encType",h.encType,h,null),re(e,n,"method",h.method,h,null),re(e,n,"target",h.target,h,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(r);break}o=Na(""+o),e.setAttribute(r,o);break;case"onClick":o!=null&&(e.onclick=fi);break;case"onScroll":o!=null&&Mt("scroll",e);break;case"onScrollEnd":o!=null&&Mt("scrollend",e);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(a(61));if(r=o.__html,r!=null){if(h.children!=null)throw Error(a(60));e.innerHTML=r}}break;case"multiple":e.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":e.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){e.removeAttribute("xlink:href");break}r=Na(""+o),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(r,""+o):e.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(r,""):e.removeAttribute(r);break;case"capture":case"download":o===!0?e.setAttribute(r,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(r,o):e.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?e.setAttribute(r,o):e.removeAttribute(r);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?e.removeAttribute(r):e.setAttribute(r,o);break;case"popover":Mt("beforetoggle",e),Mt("toggle",e),Ke(e,"popover",o);break;case"xlinkActuate":Se(e,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":Se(e,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":Se(e,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":Se(e,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":Se(e,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":Se(e,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":Se(e,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":Se(e,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":Se(e,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":Ke(e,"is",o);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=Au.get(r)||r,Ke(e,r,o))}}function Td(e,n,r,o,h,f){switch(r){case"style":Qo(e,o,f);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(a(61));if(r=o.__html,r!=null){if(h.children!=null)throw Error(a(60));e.innerHTML=r}}break;case"children":typeof o=="string"?Sn(e,o):(typeof o=="number"||typeof o=="bigint")&&Sn(e,""+o);break;case"onScroll":o!=null&&Mt("scroll",e);break;case"onScrollEnd":o!=null&&Mt("scrollend",e);break;case"onClick":o!=null&&(e.onclick=fi);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!J.hasOwnProperty(r))t:{if(r[0]==="o"&&r[1]==="n"&&(h=r.endsWith("Capture"),n=r.slice(2,h?r.length-7:void 0),f=e[Ve]||null,f=f!=null?f[r]:null,typeof f=="function"&&e.removeEventListener(n,f,h),typeof o=="function")){typeof f!="function"&&f!==null&&(r in e?e[r]=null:e.hasAttribute(r)&&e.removeAttribute(r)),e.addEventListener(n,o,h);break t}r in e?e[r]=o:o===!0?e.setAttribute(r,""):Ke(e,r,o)}}}function rn(e,n,r){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Mt("error",e),Mt("load",e);var o=!1,h=!1,f;for(f in r)if(r.hasOwnProperty(f)){var g=r[f];if(g!=null)switch(f){case"src":o=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:re(e,n,f,g,r,null)}}h&&re(e,n,"srcSet",r.srcSet,r,null),o&&re(e,n,"src",r.src,r,null);return;case"input":Mt("invalid",e);var E=f=g=h=null,I=null,z=null;for(o in r)if(r.hasOwnProperty(o)){var Q=r[o];if(Q!=null)switch(o){case"name":h=Q;break;case"type":g=Q;break;case"checked":I=Q;break;case"defaultChecked":z=Q;break;case"value":f=Q;break;case"defaultValue":E=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(a(137,n));break;default:re(e,n,o,Q,r,null)}}Eu(e,f,E,I,z,g,h,!1);return;case"select":Mt("invalid",e),o=g=f=null;for(h in r)if(r.hasOwnProperty(h)&&(E=r[h],E!=null))switch(h){case"value":f=E;break;case"defaultValue":g=E;break;case"multiple":o=E;default:re(e,n,h,E,r,null)}n=f,r=g,e.multiple=!!o,n!=null?xr(e,!!o,n,!1):r!=null&&xr(e,!!o,r,!0);return;case"textarea":Mt("invalid",e),f=h=o=null;for(g in r)if(r.hasOwnProperty(g)&&(E=r[g],E!=null))switch(g){case"value":o=E;break;case"defaultValue":h=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(a(91));break;default:re(e,n,g,E,r,null)}Mr(e,o,h,f);return;case"option":for(I in r)if(r.hasOwnProperty(I)&&(o=r[I],o!=null))switch(I){case"selected":e.selected=o&&typeof o!="function"&&typeof o!="symbol";break;default:re(e,n,I,o,r,null)}return;case"dialog":Mt("beforetoggle",e),Mt("toggle",e),Mt("cancel",e),Mt("close",e);break;case"iframe":case"object":Mt("load",e);break;case"video":case"audio":for(o=0;o<Rl.length;o++)Mt(Rl[o],e);break;case"image":Mt("error",e),Mt("load",e);break;case"details":Mt("toggle",e);break;case"embed":case"source":case"link":Mt("error",e),Mt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(z in r)if(r.hasOwnProperty(z)&&(o=r[z],o!=null))switch(z){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:re(e,n,z,o,r,null)}return;default:if(Ca(n)){for(Q in r)r.hasOwnProperty(Q)&&(o=r[Q],o!==void 0&&Td(e,n,Q,o,r,void 0));return}}for(E in r)r.hasOwnProperty(E)&&(o=r[E],o!=null&&re(e,n,E,o,r,null))}function cb(e,n,r,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,g=null,E=null,I=null,z=null,Q=null;for(H in r){var X=r[H];if(r.hasOwnProperty(H)&&X!=null)switch(H){case"checked":break;case"value":break;case"defaultValue":I=X;default:o.hasOwnProperty(H)||re(e,n,H,null,o,X)}}for(var B in o){var H=o[B];if(X=r[B],o.hasOwnProperty(B)&&(H!=null||X!=null))switch(B){case"type":f=H;break;case"name":h=H;break;case"checked":z=H;break;case"defaultChecked":Q=H;break;case"value":g=H;break;case"defaultValue":E=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(a(137,n));break;default:H!==X&&re(e,n,B,H,o,X)}}Ia(e,g,E,I,z,Q,f,h);return;case"select":H=g=E=B=null;for(f in r)if(I=r[f],r.hasOwnProperty(f)&&I!=null)switch(f){case"value":break;case"multiple":H=I;default:o.hasOwnProperty(f)||re(e,n,f,null,o,I)}for(h in o)if(f=o[h],I=r[h],o.hasOwnProperty(h)&&(f!=null||I!=null))switch(h){case"value":B=f;break;case"defaultValue":E=f;break;case"multiple":g=f;default:f!==I&&re(e,n,h,f,o,I)}n=E,r=g,o=H,B!=null?xr(e,!!r,B,!1):!!o!=!!r&&(n!=null?xr(e,!!r,n,!0):xr(e,!!r,r?[]:"",!1));return;case"textarea":H=B=null;for(E in r)if(h=r[E],r.hasOwnProperty(E)&&h!=null&&!o.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:re(e,n,E,null,o,h)}for(g in o)if(h=o[g],f=r[g],o.hasOwnProperty(g)&&(h!=null||f!=null))switch(g){case"value":B=h;break;case"defaultValue":H=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(a(91));break;default:h!==f&&re(e,n,g,h,o,f)}Tu(e,B,H);return;case"option":for(var ct in r)if(B=r[ct],r.hasOwnProperty(ct)&&B!=null&&!o.hasOwnProperty(ct))switch(ct){case"selected":e.selected=!1;break;default:re(e,n,ct,null,o,B)}for(I in o)if(B=o[I],H=r[I],o.hasOwnProperty(I)&&B!==H&&(B!=null||H!=null))switch(I){case"selected":e.selected=B&&typeof B!="function"&&typeof B!="symbol";break;default:re(e,n,I,B,o,H)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var vt in r)B=r[vt],r.hasOwnProperty(vt)&&B!=null&&!o.hasOwnProperty(vt)&&re(e,n,vt,null,o,B);for(z in o)if(B=o[z],H=r[z],o.hasOwnProperty(z)&&B!==H&&(B!=null||H!=null))switch(z){case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(a(137,n));break;default:re(e,n,z,B,o,H)}return;default:if(Ca(n)){for(var se in r)B=r[se],r.hasOwnProperty(se)&&B!==void 0&&!o.hasOwnProperty(se)&&Td(e,n,se,void 0,o,B);for(Q in o)B=o[Q],H=r[Q],!o.hasOwnProperty(Q)||B===H||B===void 0&&H===void 0||Td(e,n,Q,B,o,H);return}}for(var k in r)B=r[k],r.hasOwnProperty(k)&&B!=null&&!o.hasOwnProperty(k)&&re(e,n,k,null,o,B);for(X in o)B=o[X],H=r[X],!o.hasOwnProperty(X)||B===H||B==null&&H==null||re(e,n,X,B,o,H)}function __(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function hb(){if(typeof performance.getEntriesByType=="function"){for(var e=0,n=0,r=performance.getEntriesByType("resource"),o=0;o<r.length;o++){var h=r[o],f=h.transferSize,g=h.initiatorType,E=h.duration;if(f&&E&&__(g)){for(g=0,E=h.responseEnd,o+=1;o<r.length;o++){var I=r[o],z=I.startTime;if(z>E)break;var Q=I.transferSize,X=I.initiatorType;Q&&__(X)&&(I=I.responseEnd,g+=Q*(I<E?1:(E-z)/(I-z)))}if(--o,n+=8*(f+g)/(h.duration/1e3),e++,10<e)break}}if(0<e)return n/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var bd=null,Ad=null;function Sc(e){return e.nodeType===9?e:e.ownerDocument}function v_(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function E_(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function Sd(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var wd=null;function fb(){var e=window.event;return e&&e.type==="popstate"?e===wd?!1:(wd=e,!0):(wd=null,!1)}var T_=typeof setTimeout=="function"?setTimeout:void 0,db=typeof clearTimeout=="function"?clearTimeout:void 0,b_=typeof Promise=="function"?Promise:void 0,mb=typeof queueMicrotask=="function"?queueMicrotask:typeof b_<"u"?function(e){return b_.resolve(null).then(e).catch(gb)}:T_;function gb(e){setTimeout(function(){throw e})}function es(e){return e==="head"}function A_(e,n){var r=n,o=0;do{var h=r.nextSibling;if(e.removeChild(r),h&&h.nodeType===8)if(r=h.data,r==="/$"||r==="/&"){if(o===0){e.removeChild(h),uo(n);return}o--}else if(r==="$"||r==="$?"||r==="$~"||r==="$!"||r==="&")o++;else if(r==="html")Cl(e.ownerDocument.documentElement);else if(r==="head"){r=e.ownerDocument.head,Cl(r);for(var f=r.firstChild;f;){var g=f.nextSibling,E=f.nodeName;f[ke]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&f.rel.toLowerCase()==="stylesheet"||r.removeChild(f),f=g}}else r==="body"&&Cl(e.ownerDocument.body);r=h}while(r);uo(n)}function S_(e,n){var r=e;e=0;do{var o=r.nextSibling;if(r.nodeType===1?n?(r._stashedDisplay=r.style.display,r.style.display="none"):(r.style.display=r._stashedDisplay||"",r.getAttribute("style")===""&&r.removeAttribute("style")):r.nodeType===3&&(n?(r._stashedText=r.nodeValue,r.nodeValue=""):r.nodeValue=r._stashedText||""),o&&o.nodeType===8)if(r=o.data,r==="/$"){if(e===0)break;e--}else r!=="$"&&r!=="$?"&&r!=="$~"&&r!=="$!"||e++;r=o}while(r)}function Rd(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var r=n;switch(n=n.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":Rd(r),$i(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}e.removeChild(r)}}function pb(e,n,r,o){for(;e.nodeType===1;){var h=r;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!o&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(o){if(!e[ke])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(f=e.getAttribute("rel"),f==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(f!==h.rel||e.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(f=e.getAttribute("src"),(f!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===f)return e}else return e;if(e=oi(e.nextSibling),e===null)break}return null}function yb(e,n,r){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!r||(e=oi(e.nextSibling),e===null))return null;return e}function w_(e,n){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=oi(e.nextSibling),e===null))return null;return e}function Id(e){return e.data==="$?"||e.data==="$~"}function Cd(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function _b(e,n){var r=e.ownerDocument;if(e.data==="$~")e._reactRetry=n;else if(e.data!=="$?"||r.readyState!=="loading")n();else{var o=function(){n(),r.removeEventListener("DOMContentLoaded",o)};r.addEventListener("DOMContentLoaded",o),e._reactRetry=o}}function oi(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return e}var Nd=null;function R_(e){e=e.nextSibling;for(var n=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"||r==="/&"){if(n===0)return oi(e.nextSibling);n--}else r!=="$"&&r!=="$!"&&r!=="$?"&&r!=="$~"&&r!=="&"||n++}e=e.nextSibling}return null}function I_(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"){if(n===0)return e;n--}else r!=="/$"&&r!=="/&"||n++}e=e.previousSibling}return null}function C_(e,n,r){switch(n=Sc(r),e){case"html":if(e=n.documentElement,!e)throw Error(a(452));return e;case"head":if(e=n.head,!e)throw Error(a(453));return e;case"body":if(e=n.body,!e)throw Error(a(454));return e;default:throw Error(a(451))}}function Cl(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);$i(e)}var li=new Map,N_=new Set;function wc(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var mr=rt.d;rt.d={f:vb,r:Eb,D:Tb,C:bb,L:Ab,m:Sb,X:Rb,S:wb,M:Ib};function vb(){var e=mr.f(),n=pc();return e||n}function Eb(e){var n=yn(e);n!==null&&n.tag===5&&n.type==="form"?Qp(n):mr.r(e)}var ao=typeof document>"u"?null:document;function D_(e,n,r){var o=ao;if(o&&typeof n=="string"&&n){var h=An(n);h='link[rel="'+e+'"][href="'+h+'"]',typeof r=="string"&&(h+='[crossorigin="'+r+'"]'),N_.has(h)||(N_.add(h),e={rel:e,crossOrigin:r,href:n},o.querySelector(h)===null&&(n=o.createElement("link"),rn(n,"link",e),Ae(n),o.head.appendChild(n)))}}function Tb(e){mr.D(e),D_("dns-prefetch",e,null)}function bb(e,n){mr.C(e,n),D_("preconnect",e,n)}function Ab(e,n,r){mr.L(e,n,r);var o=ao;if(o&&e&&n){var h='link[rel="preload"][as="'+An(n)+'"]';n==="image"&&r&&r.imageSrcSet?(h+='[imagesrcset="'+An(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(h+='[imagesizes="'+An(r.imageSizes)+'"]')):h+='[href="'+An(e)+'"]';var f=h;switch(n){case"style":f=oo(e);break;case"script":f=lo(e)}li.has(f)||(e=A({rel:"preload",href:n==="image"&&r&&r.imageSrcSet?void 0:e,as:n},r),li.set(f,e),o.querySelector(h)!==null||n==="style"&&o.querySelector(Nl(f))||n==="script"&&o.querySelector(Dl(f))||(n=o.createElement("link"),rn(n,"link",e),Ae(n),o.head.appendChild(n)))}}function Sb(e,n){mr.m(e,n);var r=ao;if(r&&e){var o=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+An(o)+'"][href="'+An(e)+'"]',f=h;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=lo(e)}if(!li.has(f)&&(e=A({rel:"modulepreload",href:e},n),li.set(f,e),r.querySelector(h)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(Dl(f)))return}o=r.createElement("link"),rn(o,"link",e),Ae(o),r.head.appendChild(o)}}}function wb(e,n,r){mr.S(e,n,r);var o=ao;if(o&&e){var h=Pn(o).hoistableStyles,f=oo(e);n=n||"default";var g=h.get(f);if(!g){var E={loading:0,preload:null};if(g=o.querySelector(Nl(f)))E.loading=5;else{e=A({rel:"stylesheet",href:e,"data-precedence":n},r),(r=li.get(f))&&Dd(e,r);var I=g=o.createElement("link");Ae(I),rn(I,"link",e),I._p=new Promise(function(z,Q){I.onload=z,I.onerror=Q}),I.addEventListener("load",function(){E.loading|=1}),I.addEventListener("error",function(){E.loading|=2}),E.loading|=4,Rc(g,n,o)}g={type:"stylesheet",instance:g,count:1,state:E},h.set(f,g)}}}function Rb(e,n){mr.X(e,n);var r=ao;if(r&&e){var o=Pn(r).hoistableScripts,h=lo(e),f=o.get(h);f||(f=r.querySelector(Dl(h)),f||(e=A({src:e,async:!0},n),(n=li.get(h))&&xd(e,n),f=r.createElement("script"),Ae(f),rn(f,"link",e),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function Ib(e,n){mr.M(e,n);var r=ao;if(r&&e){var o=Pn(r).hoistableScripts,h=lo(e),f=o.get(h);f||(f=r.querySelector(Dl(h)),f||(e=A({src:e,async:!0,type:"module"},n),(n=li.get(h))&&xd(e,n),f=r.createElement("script"),Ae(f),rn(f,"link",e),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function x_(e,n,r,o){var h=(h=It.current)?wc(h):null;if(!h)throw Error(a(446));switch(e){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(n=oo(r.href),r=Pn(h).hoistableStyles,o=r.get(n),o||(o={type:"style",instance:null,count:0,state:null},r.set(n,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){e=oo(r.href);var f=Pn(h).hoistableStyles,g=f.get(e);if(g||(h=h.ownerDocument||h,g={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(e,g),(f=h.querySelector(Nl(e)))&&!f._p&&(g.instance=f,g.state.loading=5),li.has(e)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},li.set(e,r),f||Cb(h,e,r,g.state))),n&&o===null)throw Error(a(528,""));return g}if(n&&o!==null)throw Error(a(529,""));return null;case"script":return n=r.async,r=r.src,typeof r=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=lo(r),r=Pn(h).hoistableScripts,o=r.get(n),o||(o={type:"script",instance:null,count:0,state:null},r.set(n,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,e))}}function oo(e){return'href="'+An(e)+'"'}function Nl(e){return'link[rel="stylesheet"]['+e+"]"}function M_(e){return A({},e,{"data-precedence":e.precedence,precedence:null})}function Cb(e,n,r,o){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?o.loading=1:(n=e.createElement("link"),o.preload=n,n.addEventListener("load",function(){return o.loading|=1}),n.addEventListener("error",function(){return o.loading|=2}),rn(n,"link",r),Ae(n),e.head.appendChild(n))}function lo(e){return'[src="'+An(e)+'"]'}function Dl(e){return"script[async]"+e}function O_(e,n,r){if(n.count++,n.instance===null)switch(n.type){case"style":var o=e.querySelector('style[data-href~="'+An(r.href)+'"]');if(o)return n.instance=o,Ae(o),o;var h=A({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return o=(e.ownerDocument||e).createElement("style"),Ae(o),rn(o,"style",h),Rc(o,r.precedence,e),n.instance=o;case"stylesheet":h=oo(r.href);var f=e.querySelector(Nl(h));if(f)return n.state.loading|=4,n.instance=f,Ae(f),f;o=M_(r),(h=li.get(h))&&Dd(o,h),f=(e.ownerDocument||e).createElement("link"),Ae(f);var g=f;return g._p=new Promise(function(E,I){g.onload=E,g.onerror=I}),rn(f,"link",o),n.state.loading|=4,Rc(f,r.precedence,e),n.instance=f;case"script":return f=lo(r.src),(h=e.querySelector(Dl(f)))?(n.instance=h,Ae(h),h):(o=r,(h=li.get(f))&&(o=A({},r),xd(o,h)),e=e.ownerDocument||e,h=e.createElement("script"),Ae(h),rn(h,"link",o),e.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(a(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(o=n.instance,n.state.loading|=4,Rc(o,r.precedence,e));return n.instance}function Rc(e,n,r){for(var o=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=o.length?o[o.length-1]:null,f=h,g=0;g<o.length;g++){var E=o[g];if(E.dataset.precedence===n)f=E;else if(f!==h)break}f?f.parentNode.insertBefore(e,f.nextSibling):(n=r.nodeType===9?r.head:r,n.insertBefore(e,n.firstChild))}function Dd(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function xd(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var Ic=null;function V_(e,n,r){if(Ic===null){var o=new Map,h=Ic=new Map;h.set(r,o)}else h=Ic,o=h.get(r),o||(o=new Map,h.set(r,o));if(o.has(e))return o;for(o.set(e,null),r=r.getElementsByTagName(e),h=0;h<r.length;h++){var f=r[h];if(!(f[ke]||f[be]||e==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var g=f.getAttribute(n)||"";g=e+g;var E=o.get(g);E?E.push(f):o.set(g,[f])}}return o}function k_(e,n,r){e=e.ownerDocument||e,e.head.insertBefore(r,n==="title"?e.querySelector("head > title"):null)}function Nb(e,n,r){if(r===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return e=n.disabled,typeof n.precedence=="string"&&e==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function U_(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function Db(e,n,r,o){if(r.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var h=oo(o.href),f=n.querySelector(Nl(h));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(e.count++,e=Cc.bind(e),n.then(e,e)),r.state.loading|=4,r.instance=f,Ae(f);return}f=n.ownerDocument||n,o=M_(o),(h=li.get(h))&&Dd(o,h),f=f.createElement("link"),Ae(f);var g=f;g._p=new Promise(function(E,I){g.onload=E,g.onerror=I}),rn(f,"link",o),r.instance=f}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(r,n),(n=r.state.preload)&&(r.state.loading&3)===0&&(e.count++,r=Cc.bind(e),n.addEventListener("load",r),n.addEventListener("error",r))}}var Md=0;function xb(e,n){return e.stylesheets&&e.count===0&&Dc(e,e.stylesheets),0<e.count||0<e.imgCount?function(r){var o=setTimeout(function(){if(e.stylesheets&&Dc(e,e.stylesheets),e.unsuspend){var f=e.unsuspend;e.unsuspend=null,f()}},6e4+n);0<e.imgBytes&&Md===0&&(Md=62500*hb());var h=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Dc(e,e.stylesheets),e.unsuspend)){var f=e.unsuspend;e.unsuspend=null,f()}},(e.imgBytes>Md?50:800)+n);return e.unsuspend=r,function(){e.unsuspend=null,clearTimeout(o),clearTimeout(h)}}:null}function Cc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Dc(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Nc=null;function Dc(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Nc=new Map,n.forEach(Mb,e),Nc=null,Cc.call(e))}function Mb(e,n){if(!(n.state.loading&4)){var r=Nc.get(e);if(r)var o=r.get(null);else{r=new Map,Nc.set(e,r);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var g=h[f];(g.nodeName==="LINK"||g.getAttribute("media")!=="not all")&&(r.set(g.dataset.precedence,g),o=g)}o&&r.set(null,o)}h=n.instance,g=h.getAttribute("data-precedence"),f=r.get(g)||o,f===o&&r.set(null,h),r.set(g,h),this.count++,o=Cc.bind(this),h.addEventListener("load",o),h.addEventListener("error",o),f?f.parentNode.insertBefore(h,f.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),n.state.loading|=4}}var xl={$$typeof:yt,Provider:null,Consumer:null,_currentValue:dt,_currentValue2:dt,_threadCount:0};function Ob(e,n,r,o,h,f,g,E,I){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Xn(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Xn(0),this.hiddenUpdates=Xn(null),this.identifierPrefix=o,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=g,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=I,this.incompleteTransitions=new Map}function L_(e,n,r,o,h,f,g,E,I,z,Q,X){return e=new Ob(e,n,r,g,I,z,Q,X,E),n=1,f===!0&&(n|=24),f=jn(3,null,null,n),e.current=f,f.stateNode=e,n=hf(),n.refCount++,e.pooledCache=n,n.refCount++,f.memoizedState={element:o,isDehydrated:r,cache:n},gf(f),e}function P_(e){return e?(e=za,e):za}function z_(e,n,r,o,h,f){h=P_(h),o.context===null?o.context=h:o.pendingContext=h,o=Fr(n),o.payload={element:r},f=f===void 0?null:f,f!==null&&(o.callback=f),r=Gr(e,o,n),r!==null&&(Nn(r,e,n),ul(r,e,n))}function j_(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<n?r:n}}function Od(e,n){j_(e,n),(e=e.alternate)&&j_(e,n)}function B_(e){if(e.tag===13||e.tag===31){var n=Qs(e,67108864);n!==null&&Nn(n,e,67108864),Od(e,67108864)}}function q_(e){if(e.tag===13||e.tag===31){var n=Gn();n=Xi(n);var r=Qs(e,n);r!==null&&Nn(r,e,n),Od(e,n)}}var xc=!0;function Vb(e,n,r,o){var h=G.T;G.T=null;var f=rt.p;try{rt.p=2,Vd(e,n,r,o)}finally{rt.p=f,G.T=h}}function kb(e,n,r,o){var h=G.T;G.T=null;var f=rt.p;try{rt.p=8,Vd(e,n,r,o)}finally{rt.p=f,G.T=h}}function Vd(e,n,r,o){if(xc){var h=kd(o);if(h===null)Ed(e,n,o,Mc,r),F_(e,o);else if(Lb(h,e,n,r,o))o.stopPropagation();else if(F_(e,o),n&4&&-1<Ub.indexOf(e)){for(;h!==null;){var f=yn(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var g=On(f.pendingLanes);if(g!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;g;){var I=1<<31-ve(g);E.entanglements[1]|=I,g&=~I}Li(f),(Xt&6)===0&&(mc=Ze()+500,wl(0))}}break;case 31:case 13:E=Qs(f,2),E!==null&&Nn(E,f,2),pc(),Od(f,2)}if(f=kd(o),f===null&&Ed(e,n,o,Mc,r),f===h)break;h=f}h!==null&&o.stopPropagation()}else Ed(e,n,o,null,r)}}function kd(e){return e=Jn(e),Ud(e)}var Mc=null;function Ud(e){if(Mc=null,e=Ln(e),e!==null){var n=c(e);if(n===null)e=null;else{var r=n.tag;if(r===13){if(e=d(n),e!==null)return e;e=null}else if(r===31){if(e=p(n),e!==null)return e;e=null}else if(r===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return Mc=e,null}function H_(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Si()){case Yn:return 2;case Ir:return 8;case gn:case Ea:return 32;case Ta:return 268435456;default:return 32}default:return 32}}var Ld=!1,ns=null,is=null,rs=null,Ml=new Map,Ol=new Map,ss=[],Ub="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function F_(e,n){switch(e){case"focusin":case"focusout":ns=null;break;case"dragenter":case"dragleave":is=null;break;case"mouseover":case"mouseout":rs=null;break;case"pointerover":case"pointerout":Ml.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ol.delete(n.pointerId)}}function Vl(e,n,r,o,h,f){return e===null||e.nativeEvent!==f?(e={blockedOn:n,domEventName:r,eventSystemFlags:o,nativeEvent:f,targetContainers:[h]},n!==null&&(n=yn(n),n!==null&&B_(n)),e):(e.eventSystemFlags|=o,n=e.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),e)}function Lb(e,n,r,o,h){switch(n){case"focusin":return ns=Vl(ns,e,n,r,o,h),!0;case"dragenter":return is=Vl(is,e,n,r,o,h),!0;case"mouseover":return rs=Vl(rs,e,n,r,o,h),!0;case"pointerover":var f=h.pointerId;return Ml.set(f,Vl(Ml.get(f)||null,e,n,r,o,h)),!0;case"gotpointercapture":return f=h.pointerId,Ol.set(f,Vl(Ol.get(f)||null,e,n,r,o,h)),!0}return!1}function G_(e){var n=Ln(e.target);if(n!==null){var r=c(n);if(r!==null){if(n=r.tag,n===13){if(n=d(r),n!==null){e.blockedOn=n,kn(e.priority,function(){q_(r)});return}}else if(n===31){if(n=p(r),n!==null){e.blockedOn=n,kn(e.priority,function(){q_(r)});return}}else if(n===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Oc(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var r=kd(e.nativeEvent);if(r===null){r=e.nativeEvent;var o=new r.constructor(r.type,r);Yo=o,r.target.dispatchEvent(o),Yo=null}else return n=yn(r),n!==null&&B_(n),e.blockedOn=r,!1;n.shift()}return!0}function Q_(e,n,r){Oc(e)&&r.delete(n)}function Pb(){Ld=!1,ns!==null&&Oc(ns)&&(ns=null),is!==null&&Oc(is)&&(is=null),rs!==null&&Oc(rs)&&(rs=null),Ml.forEach(Q_),Ol.forEach(Q_)}function Vc(e,n){e.blockedOn===n&&(e.blockedOn=null,Ld||(Ld=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,Pb)))}var kc=null;function Y_(e){kc!==e&&(kc=e,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){kc===e&&(kc=null);for(var n=0;n<e.length;n+=3){var r=e[n],o=e[n+1],h=e[n+2];if(typeof o!="function"){if(Ud(o||r)===null)continue;break}var f=yn(r);f!==null&&(e.splice(n,3),n-=3,kf(f,{pending:!0,data:h,method:r.method,action:o},o,h))}}))}function uo(e){function n(I){return Vc(I,e)}ns!==null&&Vc(ns,e),is!==null&&Vc(is,e),rs!==null&&Vc(rs,e),Ml.forEach(n),Ol.forEach(n);for(var r=0;r<ss.length;r++){var o=ss[r];o.blockedOn===e&&(o.blockedOn=null)}for(;0<ss.length&&(r=ss[0],r.blockedOn===null);)G_(r),r.blockedOn===null&&ss.shift();if(r=(e.ownerDocument||e).$$reactFormReplay,r!=null)for(o=0;o<r.length;o+=3){var h=r[o],f=r[o+1],g=h[Ve]||null;if(typeof f=="function")g||Y_(r);else if(g){var E=null;if(f&&f.hasAttribute("formAction")){if(h=f,g=f[Ve]||null)E=g.formAction;else if(Ud(h)!==null)continue}else E=g.action;typeof E=="function"?r[o+1]=E:(r.splice(o,3),o-=3),Y_(r)}}}function K_(){function e(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(g){return h=g})},focusReset:"manual",scroll:"manual"})}function n(){h!==null&&(h(),h=null),o||setTimeout(r,20)}function r(){if(!o&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,h=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(r,100),function(){o=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),h!==null&&(h(),h=null)}}}function Pd(e){this._internalRoot=e}Uc.prototype.render=Pd.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(a(409));var r=n.current,o=Gn();z_(r,o,e,n,null,null)},Uc.prototype.unmount=Pd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;z_(e.current,2,null,e,null,null),pc(),n[Zn]=null}};function Uc(e){this._internalRoot=e}Uc.prototype.unstable_scheduleHydration=function(e){if(e){var n=Sa();e={blockedOn:null,target:e,priority:n};for(var r=0;r<ss.length&&n!==0&&n<ss[r].priority;r++);ss.splice(r,0,e),r===0&&G_(e)}};var X_=t.version;if(X_!=="19.2.0")throw Error(a(527,X_,"19.2.0"));rt.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(a(188)):(e=Object.keys(e).join(","),Error(a(268,e)));return e=_(n),e=e!==null?b(e):null,e=e===null?null:e.stateNode,e};var zb={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:G,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Lc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Lc.isDisabled&&Lc.supportsFiber)try{Ie=Lc.inject(zb),Oe=Lc}catch{}}return Ul.createRoot=function(e,n){if(!l(e))throw Error(a(299));var r=!1,o="",h=ny,f=iy,g=ry;return n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(g=n.onRecoverableError)),n=L_(e,1,!1,null,null,r,o,null,h,f,g,K_),e[Zn]=n.current,vd(e),new Pd(n)},Ul.hydrateRoot=function(e,n,r){if(!l(e))throw Error(a(299));var o=!1,h="",f=ny,g=iy,E=ry,I=null;return r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(h=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(g=r.onCaughtError),r.onRecoverableError!==void 0&&(E=r.onRecoverableError),r.formState!==void 0&&(I=r.formState)),n=L_(e,1,!0,n,r??null,o,h,I,f,g,E,K_),n.context=P_(null),r=n.current,o=Gn(),o=Xi(o),h=Fr(o),h.callback=null,Gr(r,h,o),r=o,n.current.lanes=r,Ki(n,r),Li(n),e[Zn]=n.current,vd(e),new Uc(n)},Ul.version="19.2.0",Ul}var s0;function $b(){if(s0)return Bd.exports;s0=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(t){console.error(t)}}return s(),Bd.exports=Xb(),Bd.exports}var Zb=$b();const Jb=Hv(Zb),Wb=()=>{};var a0={};const Fv=function(s){const t=[];let i=0;for(let a=0;a<s.length;a++){let l=s.charCodeAt(a);l<128?t[i++]=l:l<2048?(t[i++]=l>>6|192,t[i++]=l&63|128):(l&64512)===55296&&a+1<s.length&&(s.charCodeAt(a+1)&64512)===56320?(l=65536+((l&1023)<<10)+(s.charCodeAt(++a)&1023),t[i++]=l>>18|240,t[i++]=l>>12&63|128,t[i++]=l>>6&63|128,t[i++]=l&63|128):(t[i++]=l>>12|224,t[i++]=l>>6&63|128,t[i++]=l&63|128)}return t},tA=function(s){const t=[];let i=0,a=0;for(;i<s.length;){const l=s[i++];if(l<128)t[a++]=String.fromCharCode(l);else if(l>191&&l<224){const c=s[i++];t[a++]=String.fromCharCode((l&31)<<6|c&63)}else if(l>239&&l<365){const c=s[i++],d=s[i++],p=s[i++],y=((l&7)<<18|(c&63)<<12|(d&63)<<6|p&63)-65536;t[a++]=String.fromCharCode(55296+(y>>10)),t[a++]=String.fromCharCode(56320+(y&1023))}else{const c=s[i++],d=s[i++];t[a++]=String.fromCharCode((l&15)<<12|(c&63)<<6|d&63)}}return t.join("")},Gv={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,t){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let l=0;l<s.length;l+=3){const c=s[l],d=l+1<s.length,p=d?s[l+1]:0,y=l+2<s.length,_=y?s[l+2]:0,b=c>>2,A=(c&3)<<4|p>>4;let M=(p&15)<<2|_>>6,F=_&63;y||(F=64,d||(M=64)),a.push(i[b],i[A],i[M],i[F])}return a.join("")},encodeString(s,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(s):this.encodeByteArray(Fv(s),t)},decodeString(s,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(s):tA(this.decodeStringToByteArray(s,t))},decodeStringToByteArray(s,t){this.init_();const i=t?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let l=0;l<s.length;){const c=i[s.charAt(l++)],p=l<s.length?i[s.charAt(l)]:0;++l;const _=l<s.length?i[s.charAt(l)]:64;++l;const A=l<s.length?i[s.charAt(l)]:64;if(++l,c==null||p==null||_==null||A==null)throw new eA;const M=c<<2|p>>4;if(a.push(M),_!==64){const F=p<<4&240|_>>2;if(a.push(F),A!==64){const tt=_<<6&192|A;a.push(tt)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class eA extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const nA=function(s){const t=Fv(s);return Gv.encodeByteArray(t,!0)},sh=function(s){return nA(s).replace(/\./g,"")},Qv=function(s){try{return Gv.decodeString(s,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function iA(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const rA=()=>iA().__FIREBASE_DEFAULTS__,sA=()=>{if(typeof process>"u"||typeof a0>"u")return;const s=a0.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},aA=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=s&&Qv(s[1]);return t&&JSON.parse(t)},Rh=()=>{try{return Wb()||rA()||sA()||aA()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},Yv=s=>Rh()?.emulatorHosts?.[s],oA=s=>{const t=Yv(s);if(!t)return;const i=t.lastIndexOf(":");if(i<=0||i+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const a=parseInt(t.substring(i+1),10);return t[0]==="["?[t.substring(1,i-1),a]:[t.substring(0,i),a]},Kv=()=>Rh()?.config,Xv=s=>Rh()?.[`_${s}`];class lA{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}wrapCallback(t){return(i,a)=>{i?this.reject(i):this.resolve(a),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(i):t(i,a))}}}function Oo(s){try{return(s.startsWith("http://")||s.startsWith("https://")?new URL(s).hostname:s).endsWith(".cloudworkstations.dev")}catch{return!1}}async function $v(s){return(await fetch(s,{credentials:"include"})).ok}function uA(s,t){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},a=t||"demo-project",l=s.iat||0,c=s.sub||s.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${a}`,aud:a,iat:l,exp:l+3600,auth_time:l,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...s};return[sh(JSON.stringify(i)),sh(JSON.stringify(d)),""].join(".")}const Fl={};function cA(){const s={prod:[],emulator:[]};for(const t of Object.keys(Fl))Fl[t]?s.emulator.push(t):s.prod.push(t);return s}function hA(s){let t=document.getElementById(s),i=!1;return t||(t=document.createElement("div"),t.setAttribute("id",s),i=!0),{created:i,element:t}}let o0=!1;function Zv(s,t){if(typeof window>"u"||typeof document>"u"||!Oo(window.location.host)||Fl[s]===t||Fl[s]||o0)return;Fl[s]=t;function i(M){return`__firebase__banner__${M}`}const a="__firebase__banner",c=cA().prod.length>0;function d(){const M=document.getElementById(a);M&&M.remove()}function p(M){M.style.display="flex",M.style.background="#7faaf0",M.style.position="fixed",M.style.bottom="5px",M.style.left="5px",M.style.padding=".5em",M.style.borderRadius="5px",M.style.alignItems="center"}function y(M,F){M.setAttribute("width","24"),M.setAttribute("id",F),M.setAttribute("height","24"),M.setAttribute("viewBox","0 0 24 24"),M.setAttribute("fill","none"),M.style.marginLeft="-6px"}function _(){const M=document.createElement("span");return M.style.cursor="pointer",M.style.marginLeft="16px",M.style.fontSize="24px",M.innerHTML=" &times;",M.onclick=()=>{o0=!0,d()},M}function b(M,F){M.setAttribute("id",F),M.innerText="Learn more",M.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",M.setAttribute("target","__blank"),M.style.paddingLeft="5px",M.style.textDecoration="underline"}function A(){const M=hA(a),F=i("text"),tt=document.getElementById(F)||document.createElement("span"),it=i("learnmore"),et=document.getElementById(it)||document.createElement("a"),pt=i("preprendIcon"),_t=document.getElementById(pt)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(M.created){const yt=M.element;p(yt),b(et,it);const Ft=_();y(_t,pt),yt.append(_t,tt,et,Ft),document.body.appendChild(yt)}c?(tt.innerText="Preview backend disconnected.",_t.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(_t.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,tt.innerText="Preview backend running in this workspace."),tt.setAttribute("id",F)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",A):A()}function mn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function fA(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(mn())}function dA(){const s=Rh()?.forceEnvironment;if(s==="node")return!0;if(s==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function mA(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function gA(){const s=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof s=="object"&&s.id!==void 0}function pA(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function yA(){const s=mn();return s.indexOf("MSIE ")>=0||s.indexOf("Trident/")>=0}function _A(){return!dA()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function vA(){try{return typeof indexedDB=="object"}catch{return!1}}function EA(){return new Promise((s,t)=>{try{let i=!0;const a="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(a);l.onsuccess=()=>{l.result.close(),i||self.indexedDB.deleteDatabase(a),s(!0)},l.onupgradeneeded=()=>{i=!1},l.onerror=()=>{t(l.error?.message||"")}}catch(i){t(i)}})}const TA="FirebaseError";class wr extends Error{constructor(t,i,a){super(i),this.code=t,this.customData=a,this.name=TA,Object.setPrototypeOf(this,wr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,au.prototype.create)}}class au{constructor(t,i,a){this.service=t,this.serviceName=i,this.errors=a}create(t,...i){const a=i[0]||{},l=`${this.service}/${t}`,c=this.errors[t],d=c?bA(c,a):"Error",p=`${this.serviceName}: ${d} (${l}).`;return new wr(l,p,a)}}function bA(s,t){return s.replace(AA,(i,a)=>{const l=t[a];return l!=null?String(l):`<${a}?>`})}const AA=/\{\$([^}]+)}/g;function SA(s){for(const t in s)if(Object.prototype.hasOwnProperty.call(s,t))return!1;return!0}function ha(s,t){if(s===t)return!0;const i=Object.keys(s),a=Object.keys(t);for(const l of i){if(!a.includes(l))return!1;const c=s[l],d=t[l];if(l0(c)&&l0(d)){if(!ha(c,d))return!1}else if(c!==d)return!1}for(const l of a)if(!i.includes(l))return!1;return!0}function l0(s){return s!==null&&typeof s=="object"}function ou(s){const t=[];for(const[i,a]of Object.entries(s))Array.isArray(a)?a.forEach(l=>{t.push(encodeURIComponent(i)+"="+encodeURIComponent(l))}):t.push(encodeURIComponent(i)+"="+encodeURIComponent(a));return t.length?"&"+t.join("&"):""}function wA(s,t){const i=new RA(s,t);return i.subscribe.bind(i)}class RA{constructor(t,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{t(this)}).catch(a=>{this.error(a)})}next(t){this.forEachObserver(i=>{i.next(t)})}error(t){this.forEachObserver(i=>{i.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,i,a){let l;if(t===void 0&&i===void 0&&a===void 0)throw new Error("Missing Observer.");IA(t,["next","error","complete"])?l=t:l={next:t,error:i,complete:a},l.next===void 0&&(l.next=Gd),l.error===void 0&&(l.error=Gd),l.complete===void 0&&(l.complete=Gd);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),c}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,t)}sendOne(t,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{i(this.observers[t])}catch(a){typeof console<"u"&&console.error&&console.error(a)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function IA(s,t){if(typeof s!="object"||s===null)return!1;for(const i of t)if(i in s&&typeof s[i]=="function")return!0;return!1}function Gd(){}function on(s){return s&&s._delegate?s._delegate:s}class fa{constructor(t,i,a){this.name=t,this.instanceFactory=i,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const aa="[DEFAULT]";class CA{constructor(t,i){this.name=t,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const i=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(i)){const a=new lA;if(this.instancesDeferred.set(i,a),this.isInitialized(i)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:i});l&&a.resolve(l)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(t){const i=this.normalizeInstanceIdentifier(t?.identifier),a=t?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(l){if(a)return null;throw l}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(DA(t))try{this.getOrInitializeService({instanceIdentifier:aa})}catch{}for(const[i,a]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:l});a.resolve(c)}catch{}}}}clearInstance(t=aa){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...t.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=aa){return this.instances.has(t)}getOptions(t=aa){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:i={}}=t,a=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:a,options:i});for(const[c,d]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(c);a===p&&d.resolve(l)}return l}onInit(t,i){const a=this.normalizeInstanceIdentifier(i),l=this.onInitCallbacks.get(a)??new Set;l.add(t),this.onInitCallbacks.set(a,l);const c=this.instances.get(a);return c&&t(c,a),()=>{l.delete(t)}}invokeOnInitCallbacks(t,i){const a=this.onInitCallbacks.get(i);if(a)for(const l of a)try{l(t,i)}catch{}}getOrInitializeService({instanceIdentifier:t,options:i={}}){let a=this.instances.get(t);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:NA(t),options:i}),this.instances.set(t,a),this.instancesOptions.set(t,i),this.invokeOnInitCallbacks(a,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,a)}catch{}return a||null}normalizeInstanceIdentifier(t=aa){return this.component?this.component.multipleInstances?t:aa:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function NA(s){return s===aa?void 0:s}function DA(s){return s.instantiationMode==="EAGER"}class xA{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const i=this.getProvider(t.name);if(i.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);i.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const i=new CA(t,this);return this.providers.set(t,i),i}getProviders(){return Array.from(this.providers.values())}}var Lt;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(Lt||(Lt={}));const MA={debug:Lt.DEBUG,verbose:Lt.VERBOSE,info:Lt.INFO,warn:Lt.WARN,error:Lt.ERROR,silent:Lt.SILENT},OA=Lt.INFO,VA={[Lt.DEBUG]:"log",[Lt.VERBOSE]:"log",[Lt.INFO]:"info",[Lt.WARN]:"warn",[Lt.ERROR]:"error"},kA=(s,t,...i)=>{if(t<s.logLevel)return;const a=new Date().toISOString(),l=VA[t];if(l)console[l](`[${a}]  ${s.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Pm{constructor(t){this.name=t,this._logLevel=OA,this._logHandler=kA,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Lt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?MA[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Lt.DEBUG,...t),this._logHandler(this,Lt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Lt.VERBOSE,...t),this._logHandler(this,Lt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Lt.INFO,...t),this._logHandler(this,Lt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Lt.WARN,...t),this._logHandler(this,Lt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Lt.ERROR,...t),this._logHandler(this,Lt.ERROR,...t)}}const UA=(s,t)=>t.some(i=>s instanceof i);let u0,c0;function LA(){return u0||(u0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function PA(){return c0||(c0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Jv=new WeakMap,om=new WeakMap,Wv=new WeakMap,Qd=new WeakMap,zm=new WeakMap;function zA(s){const t=new Promise((i,a)=>{const l=()=>{s.removeEventListener("success",c),s.removeEventListener("error",d)},c=()=>{i(ds(s.result)),l()},d=()=>{a(s.error),l()};s.addEventListener("success",c),s.addEventListener("error",d)});return t.then(i=>{i instanceof IDBCursor&&Jv.set(i,s)}).catch(()=>{}),zm.set(t,s),t}function jA(s){if(om.has(s))return;const t=new Promise((i,a)=>{const l=()=>{s.removeEventListener("complete",c),s.removeEventListener("error",d),s.removeEventListener("abort",d)},c=()=>{i(),l()},d=()=>{a(s.error||new DOMException("AbortError","AbortError")),l()};s.addEventListener("complete",c),s.addEventListener("error",d),s.addEventListener("abort",d)});om.set(s,t)}let lm={get(s,t,i){if(s instanceof IDBTransaction){if(t==="done")return om.get(s);if(t==="objectStoreNames")return s.objectStoreNames||Wv.get(s);if(t==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return ds(s[t])},set(s,t,i){return s[t]=i,!0},has(s,t){return s instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in s}};function BA(s){lm=s(lm)}function qA(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...i){const a=s.call(Yd(this),t,...i);return Wv.set(a,t.sort?t.sort():[t]),ds(a)}:PA().includes(s)?function(...t){return s.apply(Yd(this),t),ds(Jv.get(this))}:function(...t){return ds(s.apply(Yd(this),t))}}function HA(s){return typeof s=="function"?qA(s):(s instanceof IDBTransaction&&jA(s),UA(s,LA())?new Proxy(s,lm):s)}function ds(s){if(s instanceof IDBRequest)return zA(s);if(Qd.has(s))return Qd.get(s);const t=HA(s);return t!==s&&(Qd.set(s,t),zm.set(t,s)),t}const Yd=s=>zm.get(s);function FA(s,t,{blocked:i,upgrade:a,blocking:l,terminated:c}={}){const d=indexedDB.open(s,t),p=ds(d);return a&&d.addEventListener("upgradeneeded",y=>{a(ds(d.result),y.oldVersion,y.newVersion,ds(d.transaction),y)}),i&&d.addEventListener("blocked",y=>i(y.oldVersion,y.newVersion,y)),p.then(y=>{c&&y.addEventListener("close",()=>c()),l&&y.addEventListener("versionchange",_=>l(_.oldVersion,_.newVersion,_))}).catch(()=>{}),p}const GA=["get","getKey","getAll","getAllKeys","count"],QA=["put","add","delete","clear"],Kd=new Map;function h0(s,t){if(!(s instanceof IDBDatabase&&!(t in s)&&typeof t=="string"))return;if(Kd.get(t))return Kd.get(t);const i=t.replace(/FromIndex$/,""),a=t!==i,l=QA.includes(i);if(!(i in(a?IDBIndex:IDBObjectStore).prototype)||!(l||GA.includes(i)))return;const c=async function(d,...p){const y=this.transaction(d,l?"readwrite":"readonly");let _=y.store;return a&&(_=_.index(p.shift())),(await Promise.all([_[i](...p),l&&y.done]))[0]};return Kd.set(t,c),c}BA(s=>({...s,get:(t,i,a)=>h0(t,i)||s.get(t,i,a),has:(t,i)=>!!h0(t,i)||s.has(t,i)}));class YA{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(KA(i)){const a=i.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(i=>i).join(" ")}}function KA(s){return s.getComponent()?.type==="VERSION"}const um="@firebase/app",f0="0.14.6";const vr=new Pm("@firebase/app"),XA="@firebase/app-compat",$A="@firebase/analytics-compat",ZA="@firebase/analytics",JA="@firebase/app-check-compat",WA="@firebase/app-check",tS="@firebase/auth",eS="@firebase/auth-compat",nS="@firebase/database",iS="@firebase/data-connect",rS="@firebase/database-compat",sS="@firebase/functions",aS="@firebase/functions-compat",oS="@firebase/installations",lS="@firebase/installations-compat",uS="@firebase/messaging",cS="@firebase/messaging-compat",hS="@firebase/performance",fS="@firebase/performance-compat",dS="@firebase/remote-config",mS="@firebase/remote-config-compat",gS="@firebase/storage",pS="@firebase/storage-compat",yS="@firebase/firestore",_S="@firebase/ai",vS="@firebase/firestore-compat",ES="firebase",TS="12.6.0";const cm="[DEFAULT]",bS={[um]:"fire-core",[XA]:"fire-core-compat",[ZA]:"fire-analytics",[$A]:"fire-analytics-compat",[WA]:"fire-app-check",[JA]:"fire-app-check-compat",[tS]:"fire-auth",[eS]:"fire-auth-compat",[nS]:"fire-rtdb",[iS]:"fire-data-connect",[rS]:"fire-rtdb-compat",[sS]:"fire-fn",[aS]:"fire-fn-compat",[oS]:"fire-iid",[lS]:"fire-iid-compat",[uS]:"fire-fcm",[cS]:"fire-fcm-compat",[hS]:"fire-perf",[fS]:"fire-perf-compat",[dS]:"fire-rc",[mS]:"fire-rc-compat",[gS]:"fire-gcs",[pS]:"fire-gcs-compat",[yS]:"fire-fst",[vS]:"fire-fst-compat",[_S]:"fire-vertex","fire-js":"fire-js",[ES]:"fire-js-all"};const ah=new Map,AS=new Map,hm=new Map;function d0(s,t){try{s.container.addComponent(t)}catch(i){vr.debug(`Component ${t.name} failed to register with FirebaseApp ${s.name}`,i)}}function wo(s){const t=s.name;if(hm.has(t))return vr.debug(`There were multiple attempts to register component ${t}.`),!1;hm.set(t,s);for(const i of ah.values())d0(i,s);for(const i of AS.values())d0(i,s);return!0}function jm(s,t){const i=s.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),s.container.getProvider(t)}function ui(s){return s==null?!1:s.settings!==void 0}const SS={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ms=new au("app","Firebase",SS);class wS{constructor(t,i,a){this._isDeleted=!1,this._options={...t},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new fa("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw ms.create("app-deleted",{appName:this._name})}}const Vo=TS;function t1(s,t={}){let i=s;typeof t!="object"&&(t={name:t});const a={name:cm,automaticDataCollectionEnabled:!0,...t},l=a.name;if(typeof l!="string"||!l)throw ms.create("bad-app-name",{appName:String(l)});if(i||(i=Kv()),!i)throw ms.create("no-options");const c=ah.get(l);if(c){if(ha(i,c.options)&&ha(a,c.config))return c;throw ms.create("duplicate-app",{appName:l})}const d=new xA(l);for(const y of hm.values())d.addComponent(y);const p=new wS(i,a,d);return ah.set(l,p),p}function e1(s=cm){const t=ah.get(s);if(!t&&s===cm&&Kv())return t1();if(!t)throw ms.create("no-app",{appName:s});return t}function gs(s,t,i){let a=bS[s]??s;i&&(a+=`-${i}`);const l=a.match(/\s|\//),c=t.match(/\s|\//);if(l||c){const d=[`Unable to register library "${a}" with version "${t}":`];l&&d.push(`library name "${a}" contains illegal characters (whitespace or "/")`),l&&c&&d.push("and"),c&&d.push(`version name "${t}" contains illegal characters (whitespace or "/")`),vr.warn(d.join(" "));return}wo(new fa(`${a}-version`,()=>({library:a,version:t}),"VERSION"))}const RS="firebase-heartbeat-database",IS=1,$l="firebase-heartbeat-store";let Xd=null;function n1(){return Xd||(Xd=FA(RS,IS,{upgrade:(s,t)=>{switch(t){case 0:try{s.createObjectStore($l)}catch(i){console.warn(i)}}}}).catch(s=>{throw ms.create("idb-open",{originalErrorMessage:s.message})})),Xd}async function CS(s){try{const i=(await n1()).transaction($l),a=await i.objectStore($l).get(i1(s));return await i.done,a}catch(t){if(t instanceof wr)vr.warn(t.message);else{const i=ms.create("idb-get",{originalErrorMessage:t?.message});vr.warn(i.message)}}}async function m0(s,t){try{const a=(await n1()).transaction($l,"readwrite");await a.objectStore($l).put(t,i1(s)),await a.done}catch(i){if(i instanceof wr)vr.warn(i.message);else{const a=ms.create("idb-set",{originalErrorMessage:i?.message});vr.warn(a.message)}}}function i1(s){return`${s.name}!${s.options.appId}`}const NS=1024,DS=30;class xS{constructor(t){this.container=t,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new OS(i),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=g0();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(l=>l.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>DS){const l=VS(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){vr.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=g0(),{heartbeatsToSend:i,unsentEntries:a}=MS(this._heartbeatsCache.heartbeats),l=sh(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return vr.warn(t),""}}}function g0(){return new Date().toISOString().substring(0,10)}function MS(s,t=NS){const i=[];let a=s.slice();for(const l of s){const c=i.find(d=>d.agent===l.agent);if(c){if(c.dates.push(l.date),p0(i)>t){c.dates.pop();break}}else if(i.push({agent:l.agent,dates:[l.date]}),p0(i)>t){i.pop();break}a=a.slice(1)}return{heartbeatsToSend:i,unsentEntries:a}}class OS{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return vA()?EA().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await CS(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const a=await this.read();return m0(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const a=await this.read();return m0(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...t.heartbeats]})}else return}}function p0(s){return sh(JSON.stringify({version:2,heartbeats:s})).length}function VS(s){if(s.length===0)return-1;let t=0,i=s[0].date;for(let a=1;a<s.length;a++)s[a].date<i&&(i=s[a].date,t=a);return t}function kS(s){wo(new fa("platform-logger",t=>new YA(t),"PRIVATE")),wo(new fa("heartbeat",t=>new xS(t),"PRIVATE")),gs(um,f0,s),gs(um,f0,"esm2020"),gs("fire-js","")}kS("");var US="firebase",LS="12.6.0";gs(US,LS,"app");function r1(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const PS=r1,s1=new au("auth","Firebase",r1());const oh=new Pm("@firebase/auth");function zS(s,...t){oh.logLevel<=Lt.WARN&&oh.warn(`Auth (${Vo}): ${s}`,...t)}function Yc(s,...t){oh.logLevel<=Lt.ERROR&&oh.error(`Auth (${Vo}): ${s}`,...t)}function Er(s,...t){throw Bm(s,...t)}function zi(s,...t){return Bm(s,...t)}function a1(s,t,i){const a={...PS(),[t]:i};return new au("auth","Firebase",a).create(t,{appName:s.name})}function _r(s){return a1(s,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Bm(s,...t){if(typeof s!="string"){const i=t[0],a=[...t.slice(1)];return a[0]&&(a[0].appName=s.name),s._errorFactory.create(i,...a)}return s1.create(s,...t)}function At(s,t,...i){if(!s)throw Bm(t,...i)}function pr(s){const t="INTERNAL ASSERTION FAILED: "+s;throw Yc(t),new Error(t)}function Tr(s,t){s||pr(t)}function fm(){return typeof self<"u"&&self.location?.href||""}function jS(){return y0()==="http:"||y0()==="https:"}function y0(){return typeof self<"u"&&self.location?.protocol||null}function BS(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(jS()||gA()||"connection"in navigator)?navigator.onLine:!0}function qS(){if(typeof navigator>"u")return null;const s=navigator;return s.languages&&s.languages[0]||s.language||null}class lu{constructor(t,i){this.shortDelay=t,this.longDelay=i,Tr(i>t,"Short delay should be less than long delay!"),this.isMobile=fA()||pA()}get(){return BS()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function qm(s,t){Tr(s.emulator,"Emulator should always be set here");const{url:i}=s.emulator;return t?`${i}${t.startsWith("/")?t.slice(1):t}`:i}class o1{static initialize(t,i,a){this.fetchImpl=t,i&&(this.headersImpl=i),a&&(this.responseImpl=a)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;pr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;pr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;pr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const HS={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const FS=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],GS=new lu(3e4,6e4);function uu(s,t){return s.tenantId&&!t.tenantId?{...t,tenantId:s.tenantId}:t}async function ko(s,t,i,a,l={}){return l1(s,l,async()=>{let c={},d={};a&&(t==="GET"?d=a:c={body:JSON.stringify(a)});const p=ou({key:s.config.apiKey,...d}).slice(1),y=await s._getAdditionalHeaders();y["Content-Type"]="application/json",s.languageCode&&(y["X-Firebase-Locale"]=s.languageCode);const _={method:t,headers:y,...c};return mA()||(_.referrerPolicy="no-referrer"),s.emulatorConfig&&Oo(s.emulatorConfig.host)&&(_.credentials="include"),o1.fetch()(await u1(s,s.config.apiHost,i,p),_)})}async function l1(s,t,i){s._canInitEmulator=!1;const a={...HS,...t};try{const l=new QS(s),c=await Promise.race([i(),l.promise]);l.clearNetworkTimeout();const d=await c.json();if("needConfirmation"in d)throw Pc(s,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const p=c.ok?d.errorMessage:d.error.message,[y,_]=p.split(" : ");if(y==="FEDERATED_USER_ID_ALREADY_LINKED")throw Pc(s,"credential-already-in-use",d);if(y==="EMAIL_EXISTS")throw Pc(s,"email-already-in-use",d);if(y==="USER_DISABLED")throw Pc(s,"user-disabled",d);const b=a[y]||y.toLowerCase().replace(/[_\s]+/g,"-");if(_)throw a1(s,b,_);Er(s,b)}}catch(l){if(l instanceof wr)throw l;Er(s,"network-request-failed",{message:String(l)})}}async function Hm(s,t,i,a,l={}){const c=await ko(s,t,i,a,l);return"mfaPendingCredential"in c&&Er(s,"multi-factor-auth-required",{_serverResponse:c}),c}async function u1(s,t,i,a){const l=`${t}${i}?${a}`,c=s,d=c.config.emulator?qm(s.config,l):`${s.config.apiScheme}://${l}`;return FS.includes(i)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(d).toString():d}class QS{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((i,a)=>{this.timer=setTimeout(()=>a(zi(this.auth,"network-request-failed")),GS.get())})}}function Pc(s,t,i){const a={appName:s.name};i.email&&(a.email=i.email),i.phoneNumber&&(a.phoneNumber=i.phoneNumber);const l=zi(s,t,a);return l.customData._tokenResponse=i,l}async function YS(s,t){return ko(s,"POST","/v1/accounts:delete",t)}async function lh(s,t){return ko(s,"POST","/v1/accounts:lookup",t)}function Gl(s){if(s)try{const t=new Date(Number(s));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function KS(s,t=!1){const i=on(s),a=await i.getIdToken(t),l=Fm(a);At(l&&l.exp&&l.auth_time&&l.iat,i.auth,"internal-error");const c=typeof l.firebase=="object"?l.firebase:void 0,d=c?.sign_in_provider;return{claims:l,token:a,authTime:Gl($d(l.auth_time)),issuedAtTime:Gl($d(l.iat)),expirationTime:Gl($d(l.exp)),signInProvider:d||null,signInSecondFactor:c?.sign_in_second_factor||null}}function $d(s){return Number(s)*1e3}function Fm(s){const[t,i,a]=s.split(".");if(t===void 0||i===void 0||a===void 0)return Yc("JWT malformed, contained fewer than 3 sections"),null;try{const l=Qv(i);return l?JSON.parse(l):(Yc("Failed to decode base64 JWT payload"),null)}catch(l){return Yc("Caught error parsing JWT payload as JSON",l?.toString()),null}}function _0(s){const t=Fm(s);return At(t,"internal-error"),At(typeof t.exp<"u","internal-error"),At(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}async function Zl(s,t,i=!1){if(i)return t;try{return await t}catch(a){throw a instanceof wr&&XS(a)&&s.auth.currentUser===s&&await s.auth.signOut(),a}}function XS({code:s}){return s==="auth/user-disabled"||s==="auth/user-token-expired"}class $S{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const a=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,a)}}schedule(t=!1){if(!this.isRunning)return;const i=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class dm{constructor(t,i){this.createdAt=t,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=Gl(this.lastLoginAt),this.creationTime=Gl(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function uh(s){const t=s.auth,i=await s.getIdToken(),a=await Zl(s,lh(t,{idToken:i}));At(a?.users.length,t,"internal-error");const l=a.users[0];s._notifyReloadListener(l);const c=l.providerUserInfo?.length?c1(l.providerUserInfo):[],d=JS(s.providerData,c),p=s.isAnonymous,y=!(s.email&&l.passwordHash)&&!d?.length,_=p?y:!1,b={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:d,metadata:new dm(l.createdAt,l.lastLoginAt),isAnonymous:_};Object.assign(s,b)}async function ZS(s){const t=on(s);await uh(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function JS(s,t){return[...s.filter(a=>!t.some(l=>l.providerId===a.providerId)),...t]}function c1(s){return s.map(({providerId:t,...i})=>({providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}async function WS(s,t){const i=await l1(s,{},async()=>{const a=ou({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:l,apiKey:c}=s.config,d=await u1(s,l,"/v1/token",`key=${c}`),p=await s._getAdditionalHeaders();p["Content-Type"]="application/x-www-form-urlencoded";const y={method:"POST",headers:p,body:a};return s.emulatorConfig&&Oo(s.emulatorConfig.host)&&(y.credentials="include"),o1.fetch()(d,y)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function t2(s,t){return ko(s,"POST","/v2/accounts:revokeToken",uu(s,t))}class vo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){At(t.idToken,"internal-error"),At(typeof t.idToken<"u","internal-error"),At(typeof t.refreshToken<"u","internal-error");const i="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):_0(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,i)}updateFromIdToken(t){At(t.length!==0,"internal-error");const i=_0(t);this.updateTokensAndExpiration(t,null,i)}async getToken(t,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(At(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,i){const{accessToken:a,refreshToken:l,expiresIn:c}=await WS(t,i);this.updateTokensAndExpiration(a,l,Number(c))}updateTokensAndExpiration(t,i,a){this.refreshToken=i||null,this.accessToken=t||null,this.expirationTime=Date.now()+a*1e3}static fromJSON(t,i){const{refreshToken:a,accessToken:l,expirationTime:c}=i,d=new vo;return a&&(At(typeof a=="string","internal-error",{appName:t}),d.refreshToken=a),l&&(At(typeof l=="string","internal-error",{appName:t}),d.accessToken=l),c&&(At(typeof c=="number","internal-error",{appName:t}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new vo,this.toJSON())}_performRefresh(){return pr("not implemented")}}function os(s,t){At(typeof s=="string"||typeof s>"u","internal-error",{appName:t})}class Ei{constructor({uid:t,auth:i,stsTokenManager:a,...l}){this.providerId="firebase",this.proactiveRefresh=new $S(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new dm(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(t){const i=await Zl(this,this.stsTokenManager.getToken(this.auth,t));return At(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(t){return KS(this,t)}reload(){return ZS(this)}_assign(t){this!==t&&(At(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(i=>({...i})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const i=new Ei({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(t){At(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,i=!1){let a=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),a=!0),i&&await uh(this),await this.auth._persistUserIfCurrent(this),a&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ui(this.auth.app))return Promise.reject(_r(this.auth));const t=await this.getIdToken();return await Zl(this,YS(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,i){const a=i.displayName??void 0,l=i.email??void 0,c=i.phoneNumber??void 0,d=i.photoURL??void 0,p=i.tenantId??void 0,y=i._redirectEventId??void 0,_=i.createdAt??void 0,b=i.lastLoginAt??void 0,{uid:A,emailVerified:M,isAnonymous:F,providerData:tt,stsTokenManager:it}=i;At(A&&it,t,"internal-error");const et=vo.fromJSON(this.name,it);At(typeof A=="string",t,"internal-error"),os(a,t.name),os(l,t.name),At(typeof M=="boolean",t,"internal-error"),At(typeof F=="boolean",t,"internal-error"),os(c,t.name),os(d,t.name),os(p,t.name),os(y,t.name),os(_,t.name),os(b,t.name);const pt=new Ei({uid:A,auth:t,email:l,emailVerified:M,displayName:a,isAnonymous:F,photoURL:d,phoneNumber:c,tenantId:p,stsTokenManager:et,createdAt:_,lastLoginAt:b});return tt&&Array.isArray(tt)&&(pt.providerData=tt.map(_t=>({..._t}))),y&&(pt._redirectEventId=y),pt}static async _fromIdTokenResponse(t,i,a=!1){const l=new vo;l.updateFromServerResponse(i);const c=new Ei({uid:i.localId,auth:t,stsTokenManager:l,isAnonymous:a});return await uh(c),c}static async _fromGetAccountInfoResponse(t,i,a){const l=i.users[0];At(l.localId!==void 0,"internal-error");const c=l.providerUserInfo!==void 0?c1(l.providerUserInfo):[],d=!(l.email&&l.passwordHash)&&!c?.length,p=new vo;p.updateFromIdToken(a);const y=new Ei({uid:l.localId,auth:t,stsTokenManager:p,isAnonymous:d}),_={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:c,metadata:new dm(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!c?.length};return Object.assign(y,_),y}}const v0=new Map;function yr(s){Tr(s instanceof Function,"Expected a class definition");let t=v0.get(s);return t?(Tr(t instanceof s,"Instance stored in cache mismatched with class"),t):(t=new s,v0.set(s,t),t)}class h1{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,i){this.storage[t]=i}async _get(t){const i=this.storage[t];return i===void 0?null:i}async _remove(t){delete this.storage[t]}_addListener(t,i){}_removeListener(t,i){}}h1.type="NONE";const E0=h1;function Kc(s,t,i){return`firebase:${s}:${t}:${i}`}class Eo{constructor(t,i,a){this.persistence=t,this.auth=i,this.userKey=a;const{config:l,name:c}=this.auth;this.fullUserKey=Kc(this.userKey,l.apiKey,c),this.fullPersistenceKey=Kc("persistence",l.apiKey,c),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const i=await lh(this.auth,{idToken:t}).catch(()=>{});return i?Ei._fromGetAccountInfoResponse(this.auth,i,t):null}return Ei._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,i,a="authUser"){if(!i.length)return new Eo(yr(E0),t,a);const l=(await Promise.all(i.map(async _=>{if(await _._isAvailable())return _}))).filter(_=>_);let c=l[0]||yr(E0);const d=Kc(a,t.config.apiKey,t.name);let p=null;for(const _ of i)try{const b=await _._get(d);if(b){let A;if(typeof b=="string"){const M=await lh(t,{idToken:b}).catch(()=>{});if(!M)break;A=await Ei._fromGetAccountInfoResponse(t,M,b)}else A=Ei._fromJSON(t,b);_!==c&&(p=A),c=_;break}}catch{}const y=l.filter(_=>_._shouldAllowMigration);return!c._shouldAllowMigration||!y.length?new Eo(c,t,a):(c=y[0],p&&await c._set(d,p.toJSON()),await Promise.all(i.map(async _=>{if(_!==c)try{await _._remove(d)}catch{}})),new Eo(c,t,a))}}function T0(s){const t=s.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(g1(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(f1(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(y1(t))return"Blackberry";if(_1(t))return"Webos";if(d1(t))return"Safari";if((t.includes("chrome/")||m1(t))&&!t.includes("edge/"))return"Chrome";if(p1(t))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,a=s.match(i);if(a?.length===2)return a[1]}return"Other"}function f1(s=mn()){return/firefox\//i.test(s)}function d1(s=mn()){const t=s.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function m1(s=mn()){return/crios\//i.test(s)}function g1(s=mn()){return/iemobile/i.test(s)}function p1(s=mn()){return/android/i.test(s)}function y1(s=mn()){return/blackberry/i.test(s)}function _1(s=mn()){return/webos/i.test(s)}function Gm(s=mn()){return/iphone|ipad|ipod/i.test(s)||/macintosh/i.test(s)&&/mobile/i.test(s)}function e2(s=mn()){return Gm(s)&&!!window.navigator?.standalone}function n2(){return yA()&&document.documentMode===10}function v1(s=mn()){return Gm(s)||p1(s)||_1(s)||y1(s)||/windows phone/i.test(s)||g1(s)}function E1(s,t=[]){let i;switch(s){case"Browser":i=T0(mn());break;case"Worker":i=`${T0(mn())}-${s}`;break;default:i=s}const a=t.length?t.join(","):"FirebaseCore-web";return`${i}/JsCore/${Vo}/${a}`}class i2{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,i){const a=c=>new Promise((d,p)=>{try{const y=t(c);d(y)}catch(y){p(y)}});a.onAbort=i,this.queue.push(a);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const i=[];try{for(const a of this.queue)await a(t),a.onAbort&&i.push(a.onAbort)}catch(a){i.reverse();for(const l of i)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:a?.message})}}}async function r2(s,t={}){return ko(s,"GET","/v2/passwordPolicy",uu(s,t))}const s2=6;class a2{constructor(t){const i=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??s2,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,i),this.validatePasswordCharacterOptions(t,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(t,i){const a=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;a&&(i.meetsMinPasswordLength=t.length>=a),l&&(i.meetsMaxPasswordLength=t.length<=l)}validatePasswordCharacterOptions(t,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let a;for(let l=0;l<t.length;l++)a=t.charAt(l),this.updatePasswordCharacterOptionsStatuses(i,a>="a"&&a<="z",a>="A"&&a<="Z",a>="0"&&a<="9",this.allowedNonAlphanumericCharacters.includes(a))}updatePasswordCharacterOptionsStatuses(t,i,a,l,c){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=a)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=c))}}class o2{constructor(t,i,a,l){this.app=t,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=a,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new b0(this),this.idTokenSubscription=new b0(this),this.beforeStateQueue=new i2(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=s1,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(t,i){return i&&(this._popupRedirectResolver=yr(i)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Eo.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const i=await lh(this,{idToken:t}),a=await Ei._fromGetAccountInfoResponse(this,i,t);await this.directlySetCurrentUser(a)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(ui(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let a=i,l=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,d=a?._redirectEventId,p=await this.tryRedirectSignIn(t);(!c||c===d)&&p?.user&&(a=p.user,l=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(a)}catch(c){a=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return At(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(t){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(t){try{await uh(t)}catch(i){if(i?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=qS()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(ui(this.app))return Promise.reject(_r(this));const i=t?on(t):null;return i&&At(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(t,i=!1){if(!this._deleted)return t&&At(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return ui(this.app)?Promise.reject(_r(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return ui(this.app)?Promise.reject(_r(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(yr(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await r2(this),i=new a2(t);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new au("auth","Firebase",t())}onAuthStateChanged(t,i,a){return this.registerStateListener(this.authStateSubscription,t,i,a)}beforeAuthStateChanged(t,i){return this.beforeStateQueue.pushCallback(t,i)}onIdTokenChanged(t,i,a){return this.registerStateListener(this.idTokenSubscription,t,i,a)}authStateReady(){return new Promise((t,i)=>{if(this.currentUser)t();else{const a=this.onAuthStateChanged(()=>{a(),t()},i)}})}async revokeAccessToken(t){if(this.currentUser){const i=await this.currentUser.getIdToken(),a={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:i};this.tenantId!=null&&(a.tenantId=this.tenantId),await t2(this,a)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,i){const a=await this.getOrInitRedirectPersistenceManager(i);return t===null?a.removeCurrentUser():a.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const i=t&&yr(t)||this._popupRedirectResolver;At(i,this,"argument-error"),this.redirectPersistenceManager=await Eo.create(this,[yr(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,i,a,l){if(this._deleted)return()=>{};const c=typeof i=="function"?i:i.next.bind(i);let d=!1;const p=this._isInitialized?Promise.resolve():this._initializationPromise;if(At(p,this,"internal-error"),p.then(()=>{d||c(this.currentUser)}),typeof i=="function"){const y=t.addObserver(i,a,l);return()=>{d=!0,y()}}else{const y=t.addObserver(i);return()=>{d=!0,y()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return At(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=E1(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();i&&(t["X-Firebase-Client"]=i);const a=await this._getAppCheckToken();return a&&(t["X-Firebase-AppCheck"]=a),t}async _getAppCheckToken(){if(ui(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&zS(`Error while retrieving App Check token: ${t.error}`),t?.token}}function cu(s){return on(s)}class b0{constructor(t){this.auth=t,this.observer=null,this.addObserver=wA(i=>this.observer=i)}get next(){return At(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Qm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function l2(s){Qm=s}function u2(s){return Qm.loadJS(s)}function c2(){return Qm.gapiScript}function h2(s){return`__${s}${Math.floor(Math.random()*1e6)}`}function f2(s,t){const i=jm(s,"auth");if(i.isInitialized()){const l=i.getImmediate(),c=i.getOptions();if(ha(c,t??{}))return l;Er(l,"already-initialized")}return i.initialize({options:t})}function d2(s,t){const i=t?.persistence||[],a=(Array.isArray(i)?i:[i]).map(yr);t?.errorMap&&s._updateErrorMap(t.errorMap),s._initializeWithPersistence(a,t?.popupRedirectResolver)}function m2(s,t,i){const a=cu(s);At(/^https?:\/\//.test(t),a,"invalid-emulator-scheme");const l=!1,c=T1(t),{host:d,port:p}=g2(t),y=p===null?"":`:${p}`,_={url:`${c}//${d}${y}/`},b=Object.freeze({host:d,port:p,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!a._canInitEmulator){At(a.config.emulator&&a.emulatorConfig,a,"emulator-config-failed"),At(ha(_,a.config.emulator)&&ha(b,a.emulatorConfig),a,"emulator-config-failed");return}a.config.emulator=_,a.emulatorConfig=b,a.settings.appVerificationDisabledForTesting=!0,Oo(d)?($v(`${c}//${d}${y}`),Zv("Auth",!0)):p2()}function T1(s){const t=s.indexOf(":");return t<0?"":s.substr(0,t+1)}function g2(s){const t=T1(s),i=/(\/\/)?([^?#/]+)/.exec(s.substr(t.length));if(!i)return{host:"",port:null};const a=i[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(a);if(l){const c=l[1];return{host:c,port:A0(a.substr(c.length+1))}}else{const[c,d]=a.split(":");return{host:c,port:A0(d)}}}function A0(s){if(!s)return null;const t=Number(s);return isNaN(t)?null:t}function p2(){function s(){const t=document.createElement("p"),i=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",s):s())}class b1{constructor(t,i){this.providerId=t,this.signInMethod=i}toJSON(){return pr("not implemented")}_getIdTokenResponse(t){return pr("not implemented")}_linkToIdToken(t,i){return pr("not implemented")}_getReauthenticationResolver(t){return pr("not implemented")}}async function To(s,t){return Hm(s,"POST","/v1/accounts:signInWithIdp",uu(s,t))}const y2="http://localhost";class da extends b1{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const i=new da(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(i.idToken=t.idToken),t.accessToken&&(i.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(i.nonce=t.nonce),t.pendingToken&&(i.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(i.accessToken=t.oauthToken,i.secret=t.oauthTokenSecret):Er("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const i=typeof t=="string"?JSON.parse(t):t,{providerId:a,signInMethod:l,...c}=i;if(!a||!l)return null;const d=new da(a,l);return d.idToken=c.idToken||void 0,d.accessToken=c.accessToken||void 0,d.secret=c.secret,d.nonce=c.nonce,d.pendingToken=c.pendingToken||null,d}_getIdTokenResponse(t){const i=this.buildRequest();return To(t,i)}_linkToIdToken(t,i){const a=this.buildRequest();return a.idToken=i,To(t,a)}_getReauthenticationResolver(t){const i=this.buildRequest();return i.autoCreate=!1,To(t,i)}buildRequest(){const t={requestUri:y2,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),t.postBody=ou(i)}return t}}class A1{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}class hu extends A1{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}class ls extends hu{constructor(){super("facebook.com")}static credential(t){return da._fromParams({providerId:ls.PROVIDER_ID,signInMethod:ls.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return ls.credentialFromTaggedObject(t)}static credentialFromError(t){return ls.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return ls.credential(t.oauthAccessToken)}catch{return null}}}ls.FACEBOOK_SIGN_IN_METHOD="facebook.com";ls.PROVIDER_ID="facebook.com";class us extends hu{constructor(){super("google.com"),this.addScope("profile")}static credential(t,i){return da._fromParams({providerId:us.PROVIDER_ID,signInMethod:us.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:i})}static credentialFromResult(t){return us.credentialFromTaggedObject(t)}static credentialFromError(t){return us.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:i,oauthAccessToken:a}=t;if(!i&&!a)return null;try{return us.credential(i,a)}catch{return null}}}us.GOOGLE_SIGN_IN_METHOD="google.com";us.PROVIDER_ID="google.com";class cs extends hu{constructor(){super("github.com")}static credential(t){return da._fromParams({providerId:cs.PROVIDER_ID,signInMethod:cs.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return cs.credentialFromTaggedObject(t)}static credentialFromError(t){return cs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return cs.credential(t.oauthAccessToken)}catch{return null}}}cs.GITHUB_SIGN_IN_METHOD="github.com";cs.PROVIDER_ID="github.com";class hs extends hu{constructor(){super("twitter.com")}static credential(t,i){return da._fromParams({providerId:hs.PROVIDER_ID,signInMethod:hs.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:i})}static credentialFromResult(t){return hs.credentialFromTaggedObject(t)}static credentialFromError(t){return hs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:i,oauthTokenSecret:a}=t;if(!i||!a)return null;try{return hs.credential(i,a)}catch{return null}}}hs.TWITTER_SIGN_IN_METHOD="twitter.com";hs.PROVIDER_ID="twitter.com";async function _2(s,t){return Hm(s,"POST","/v1/accounts:signUp",uu(s,t))}class br{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,i,a,l=!1){const c=await Ei._fromIdTokenResponse(t,a,l),d=S0(a);return new br({user:c,providerId:d,_tokenResponse:a,operationType:i})}static async _forOperation(t,i,a){await t._updateTokensIfNecessary(a,!0);const l=S0(a);return new br({user:t,providerId:l,_tokenResponse:a,operationType:i})}}function S0(s){return s.providerId?s.providerId:"phoneNumber"in s?"phone":null}async function v2(s){if(ui(s.app))return Promise.reject(_r(s));const t=cu(s);if(await t._initializationPromise,t.currentUser?.isAnonymous)return new br({user:t.currentUser,providerId:null,operationType:"signIn"});const i=await _2(t,{returnSecureToken:!0}),a=await br._fromIdTokenResponse(t,"signIn",i,!0);return await t._updateCurrentUser(a.user),a}class ch extends wr{constructor(t,i,a,l){super(i.code,i.message),this.operationType=a,this.user=l,Object.setPrototypeOf(this,ch.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:a}}static _fromErrorAndOperation(t,i,a,l){return new ch(t,i,a,l)}}function S1(s,t,i,a){return(t==="reauthenticate"?i._getReauthenticationResolver(s):i._getIdTokenResponse(s)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?ch._fromErrorAndOperation(s,c,t,a):c})}async function E2(s,t,i=!1){const a=await Zl(s,t._linkToIdToken(s.auth,await s.getIdToken()),i);return br._forOperation(s,"link",a)}async function T2(s,t,i=!1){const{auth:a}=s;if(ui(a.app))return Promise.reject(_r(a));const l="reauthenticate";try{const c=await Zl(s,S1(a,l,t,s),i);At(c.idToken,a,"internal-error");const d=Fm(c.idToken);At(d,a,"internal-error");const{sub:p}=d;return At(s.uid===p,a,"user-mismatch"),br._forOperation(s,l,c)}catch(c){throw c?.code==="auth/user-not-found"&&Er(a,"user-mismatch"),c}}async function b2(s,t,i=!1){if(ui(s.app))return Promise.reject(_r(s));const a="signIn",l=await S1(s,a,t),c=await br._fromIdTokenResponse(s,a,l);return i||await s._updateCurrentUser(c.user),c}async function A2(s,t){return Hm(s,"POST","/v1/accounts:signInWithCustomToken",uu(s,t))}async function S2(s,t){if(ui(s.app))return Promise.reject(_r(s));const i=cu(s),a=await A2(i,{token:t,returnSecureToken:!0}),l=await br._fromIdTokenResponse(i,"signIn",a);return await i._updateCurrentUser(l.user),l}function w2(s,t,i,a){return on(s).onIdTokenChanged(t,i,a)}function R2(s,t,i){return on(s).beforeAuthStateChanged(t,i)}function I2(s,t,i,a){return on(s).onAuthStateChanged(t,i,a)}const hh="__sak";class w1{constructor(t,i){this.storageRetriever=t,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(hh,"1"),this.storage.removeItem(hh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,i){return this.storage.setItem(t,JSON.stringify(i)),Promise.resolve()}_get(t){const i=this.storage.getItem(t);return Promise.resolve(i?JSON.parse(i):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}const C2=1e3,N2=10;class R1 extends w1{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,i)=>this.onStorageEvent(t,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=v1(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const i of Object.keys(this.listeners)){const a=this.storage.getItem(i),l=this.localCache[i];a!==l&&t(i,l,a)}}onStorageEvent(t,i=!1){if(!t.key){this.forAllChangedKeys((d,p,y)=>{this.notifyListeners(d,y)});return}const a=t.key;i?this.detachListener():this.stopPolling();const l=()=>{const d=this.storage.getItem(a);!i&&this.localCache[a]===d||this.notifyListeners(a,d)},c=this.storage.getItem(a);n2()&&c!==t.newValue&&t.newValue!==t.oldValue?setTimeout(l,N2):l()}notifyListeners(t,i){this.localCache[t]=i;const a=this.listeners[t];if(a)for(const l of Array.from(a))l(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,i,a)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:i,newValue:a}),!0)})},C2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,i){await super._set(t,i),this.localCache[t]=JSON.stringify(i)}async _get(t){const i=await super._get(t);return this.localCache[t]=JSON.stringify(i),i}async _remove(t){await super._remove(t),delete this.localCache[t]}}R1.type="LOCAL";const D2=R1;class I1 extends w1{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,i){}_removeListener(t,i){}}I1.type="SESSION";const C1=I1;function x2(s){return Promise.all(s.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(i){return{fulfilled:!1,reason:i}}}))}class Ih{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const i=this.receivers.find(l=>l.isListeningto(t));if(i)return i;const a=new Ih(t);return this.receivers.push(a),a}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const i=t,{eventId:a,eventType:l,data:c}=i.data,d=this.handlersMap[l];if(!d?.size)return;i.ports[0].postMessage({status:"ack",eventId:a,eventType:l});const p=Array.from(d).map(async _=>_(i.origin,c)),y=await x2(p);i.ports[0].postMessage({status:"done",eventId:a,eventType:l,response:y})}_subscribe(t,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(i)}_unsubscribe(t,i){this.handlersMap[t]&&i&&this.handlersMap[t].delete(i),(!i||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Ih.receivers=[];function Ym(s="",t=10){let i="";for(let a=0;a<t;a++)i+=Math.floor(Math.random()*10);return s+i}class M2{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,i,a=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let c,d;return new Promise((p,y)=>{const _=Ym("",20);l.port1.start();const b=setTimeout(()=>{y(new Error("unsupported_event"))},a);d={messageChannel:l,onMessage(A){const M=A;if(M.data.eventId===_)switch(M.data.status){case"ack":clearTimeout(b),c=setTimeout(()=>{y(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),p(M.data.response);break;default:clearTimeout(b),clearTimeout(c),y(new Error("invalid_response"));break}}},this.handlers.add(d),l.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:t,eventId:_,data:i},[l.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}function ji(){return window}function O2(s){ji().location.href=s}function N1(){return typeof ji().WorkerGlobalScope<"u"&&typeof ji().importScripts=="function"}async function V2(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function k2(){return navigator?.serviceWorker?.controller||null}function U2(){return N1()?self:null}const D1="firebaseLocalStorageDb",L2=1,fh="firebaseLocalStorage",x1="fbase_key";class fu{constructor(t){this.request=t}toPromise(){return new Promise((t,i)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function Ch(s,t){return s.transaction([fh],t?"readwrite":"readonly").objectStore(fh)}function P2(){const s=indexedDB.deleteDatabase(D1);return new fu(s).toPromise()}function mm(){const s=indexedDB.open(D1,L2);return new Promise((t,i)=>{s.addEventListener("error",()=>{i(s.error)}),s.addEventListener("upgradeneeded",()=>{const a=s.result;try{a.createObjectStore(fh,{keyPath:x1})}catch(l){i(l)}}),s.addEventListener("success",async()=>{const a=s.result;a.objectStoreNames.contains(fh)?t(a):(a.close(),await P2(),t(await mm()))})})}async function w0(s,t,i){const a=Ch(s,!0).put({[x1]:t,value:i});return new fu(a).toPromise()}async function z2(s,t){const i=Ch(s,!1).get(t),a=await new fu(i).toPromise();return a===void 0?null:a.value}function R0(s,t){const i=Ch(s,!0).delete(t);return new fu(i).toPromise()}const j2=800,B2=3;class M1{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await mm(),this.db)}async _withRetries(t){let i=0;for(;;)try{const a=await this._openDb();return await t(a)}catch(a){if(i++>B2)throw a;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return N1()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Ih._getInstance(U2()),this.receiver._subscribe("keyChanged",async(t,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(t,i)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await V2(),!this.activeServiceWorker)return;this.sender=new M2(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||k2()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await mm();return await w0(t,hh,"1"),await R0(t,hh),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,i){return this._withPendingWrite(async()=>(await this._withRetries(a=>w0(a,t,i)),this.localCache[t]=i,this.notifyServiceWorker(t)))}async _get(t){const i=await this._withRetries(a=>z2(a,t));return this.localCache[t]=i,i}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(i=>R0(i,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(l=>{const c=Ch(l,!1).getAll();return new fu(c).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const i=[],a=new Set;if(t.length!==0)for(const{fbase_key:l,value:c}of t)a.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(c)&&(this.notifyListeners(l,c),i.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!a.has(l)&&(this.notifyListeners(l,null),i.push(l));return i}notifyListeners(t,i){this.localCache[t]=i;const a=this.listeners[t];if(a)for(const l of Array.from(a))l(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),j2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}M1.type="LOCAL";const q2=M1;new lu(3e4,6e4);function H2(s,t){return t?yr(t):(At(s._popupRedirectResolver,s,"argument-error"),s._popupRedirectResolver)}class Km extends b1{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return To(t,this._buildIdpRequest())}_linkToIdToken(t,i){return To(t,this._buildIdpRequest(i))}_getReauthenticationResolver(t){return To(t,this._buildIdpRequest())}_buildIdpRequest(t){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(i.idToken=t),i}}function F2(s){return b2(s.auth,new Km(s),s.bypassAuthState)}function G2(s){const{auth:t,user:i}=s;return At(i,t,"internal-error"),T2(i,new Km(s),s.bypassAuthState)}async function Q2(s){const{auth:t,user:i}=s;return At(i,t,"internal-error"),E2(i,new Km(s),s.bypassAuthState)}class O1{constructor(t,i,a,l,c=!1){this.auth=t,this.resolver=a,this.user=l,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(t,i)=>{this.pendingPromise={resolve:t,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(a){this.reject(a)}})}async onAuthEvent(t){const{urlResponse:i,sessionId:a,postBody:l,tenantId:c,error:d,type:p}=t;if(d){this.reject(d);return}const y={auth:this.auth,requestUri:i,sessionId:a,tenantId:c||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(p)(y))}catch(_){this.reject(_)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return F2;case"linkViaPopup":case"linkViaRedirect":return Q2;case"reauthViaPopup":case"reauthViaRedirect":return G2;default:Er(this.auth,"internal-error")}}resolve(t){Tr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){Tr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Y2=new lu(2e3,1e4);class yo extends O1{constructor(t,i,a,l,c){super(t,i,l,c),this.provider=a,this.authWindow=null,this.pollId=null,yo.currentPopupAction&&yo.currentPopupAction.cancel(),yo.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return At(t,this.auth,"internal-error"),t}async onExecution(){Tr(this.filter.length===1,"Popup operations only handle one event");const t=Ym();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(zi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(zi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,yo.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(zi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,Y2.get())};t()}}yo.currentPopupAction=null;const K2="pendingRedirect",Xc=new Map;class X2 extends O1{constructor(t,i,a=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,a),this.eventId=null}async execute(){let t=Xc.get(this.auth._key());if(!t){try{const a=await $2(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(a)}catch(i){t=()=>Promise.reject(i)}Xc.set(this.auth._key(),t)}return this.bypassAuthState||Xc.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const i=await this.auth._redirectUserForId(t.eventId);if(i)return this.user=i,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function $2(s,t){const i=W2(t),a=J2(s);if(!await a._isAvailable())return!1;const l=await a._get(i)==="true";return await a._remove(i),l}function Z2(s,t){Xc.set(s._key(),t)}function J2(s){return yr(s._redirectPersistence)}function W2(s){return Kc(K2,s.config.apiKey,s.name)}async function tw(s,t,i=!1){if(ui(s.app))return Promise.reject(_r(s));const a=cu(s),l=H2(a,t),d=await new X2(a,l,i).execute();return d&&!i&&(delete d.user._redirectEventId,await a._persistUserIfCurrent(d.user),await a._setRedirectUser(null,t)),d}const ew=600*1e3;class nw{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let i=!1;return this.consumers.forEach(a=>{this.isEventForConsumer(t,a)&&(i=!0,this.sendToConsumer(t,a),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!iw(t)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=t,i=!0)),i}sendToConsumer(t,i){if(t.error&&!V1(t)){const a=t.error.code?.split("auth/")[1]||"internal-error";i.onError(zi(this.auth,a))}else i.onAuthEvent(t)}isEventForConsumer(t,i){const a=i.eventId===null||!!t.eventId&&t.eventId===i.eventId;return i.filter.includes(t.type)&&a}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=ew&&this.cachedEventUids.clear(),this.cachedEventUids.has(I0(t))}saveEventToCache(t){this.cachedEventUids.add(I0(t)),this.lastProcessedEventTime=Date.now()}}function I0(s){return[s.type,s.eventId,s.sessionId,s.tenantId].filter(t=>t).join("-")}function V1({type:s,error:t}){return s==="unknown"&&t?.code==="auth/no-auth-event"}function iw(s){switch(s.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return V1(s);default:return!1}}async function rw(s,t={}){return ko(s,"GET","/v1/projects",t)}const sw=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,aw=/^https?/;async function ow(s){if(s.config.emulator)return;const{authorizedDomains:t}=await rw(s);for(const i of t)try{if(lw(i))return}catch{}Er(s,"unauthorized-domain")}function lw(s){const t=fm(),{protocol:i,hostname:a}=new URL(t);if(s.startsWith("chrome-extension://")){const d=new URL(s);return d.hostname===""&&a===""?i==="chrome-extension:"&&s.replace("chrome-extension://","")===t.replace("chrome-extension://",""):i==="chrome-extension:"&&d.hostname===a}if(!aw.test(i))return!1;if(sw.test(s))return a===s;const l=s.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(a)}const uw=new lu(3e4,6e4);function C0(){const s=ji().___jsl;if(s?.H){for(const t of Object.keys(s.H))if(s.H[t].r=s.H[t].r||[],s.H[t].L=s.H[t].L||[],s.H[t].r=[...s.H[t].L],s.CP)for(let i=0;i<s.CP.length;i++)s.CP[i]=null}}function cw(s){return new Promise((t,i)=>{function a(){C0(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{C0(),i(zi(s,"network-request-failed"))},timeout:uw.get()})}if(ji().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(ji().gapi?.load)a();else{const l=h2("iframefcb");return ji()[l]=()=>{gapi.load?a():i(zi(s,"network-request-failed"))},u2(`${c2()}?onload=${l}`).catch(c=>i(c))}}).catch(t=>{throw $c=null,t})}let $c=null;function hw(s){return $c=$c||cw(s),$c}const fw=new lu(5e3,15e3),dw="__/auth/iframe",mw="emulator/auth/iframe",gw={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},pw=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function yw(s){const t=s.config;At(t.authDomain,s,"auth-domain-config-required");const i=t.emulator?qm(t,mw):`https://${s.config.authDomain}/${dw}`,a={apiKey:t.apiKey,appName:s.name,v:Vo},l=pw.get(s.config.apiHost);l&&(a.eid=l);const c=s._getFrameworks();return c.length&&(a.fw=c.join(",")),`${i}?${ou(a).slice(1)}`}async function _w(s){const t=await hw(s),i=ji().gapi;return At(i,s,"internal-error"),t.open({where:document.body,url:yw(s),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:gw,dontclear:!0},a=>new Promise(async(l,c)=>{await a.restyle({setHideOnLeave:!1});const d=zi(s,"network-request-failed"),p=ji().setTimeout(()=>{c(d)},fw.get());function y(){ji().clearTimeout(p),l(a)}a.ping(y).then(y,()=>{c(d)})}))}const vw={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Ew=500,Tw=600,bw="_blank",Aw="http://localhost";class N0{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Sw(s,t,i,a=Ew,l=Tw){const c=Math.max((window.screen.availHeight-l)/2,0).toString(),d=Math.max((window.screen.availWidth-a)/2,0).toString();let p="";const y={...vw,width:a.toString(),height:l.toString(),top:c,left:d},_=mn().toLowerCase();i&&(p=m1(_)?bw:i),f1(_)&&(t=t||Aw,y.scrollbars="yes");const b=Object.entries(y).reduce((M,[F,tt])=>`${M}${F}=${tt},`,"");if(e2(_)&&p!=="_self")return ww(t||"",p),new N0(null);const A=window.open(t||"",p,b);At(A,s,"popup-blocked");try{A.focus()}catch{}return new N0(A)}function ww(s,t){const i=document.createElement("a");i.href=s,i.target=t;const a=document.createEvent("MouseEvent");a.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(a)}const Rw="__/auth/handler",Iw="emulator/auth/handler",Cw=encodeURIComponent("fac");async function D0(s,t,i,a,l,c){At(s.config.authDomain,s,"auth-domain-config-required"),At(s.config.apiKey,s,"invalid-api-key");const d={apiKey:s.config.apiKey,appName:s.name,authType:i,redirectUrl:a,v:Vo,eventId:l};if(t instanceof A1){t.setDefaultLanguage(s.languageCode),d.providerId=t.providerId||"",SA(t.getCustomParameters())||(d.customParameters=JSON.stringify(t.getCustomParameters()));for(const[b,A]of Object.entries({}))d[b]=A}if(t instanceof hu){const b=t.getScopes().filter(A=>A!=="");b.length>0&&(d.scopes=b.join(","))}s.tenantId&&(d.tid=s.tenantId);const p=d;for(const b of Object.keys(p))p[b]===void 0&&delete p[b];const y=await s._getAppCheckToken(),_=y?`#${Cw}=${encodeURIComponent(y)}`:"";return`${Nw(s)}?${ou(p).slice(1)}${_}`}function Nw({config:s}){return s.emulator?qm(s,Iw):`https://${s.authDomain}/${Rw}`}const Zd="webStorageSupport";class Dw{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=C1,this._completeRedirectFn=tw,this._overrideRedirectResult=Z2}async _openPopup(t,i,a,l){Tr(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const c=await D0(t,i,a,fm(),l);return Sw(t,c,Ym())}async _openRedirect(t,i,a,l){await this._originValidation(t);const c=await D0(t,i,a,fm(),l);return O2(c),new Promise(()=>{})}_initialize(t){const i=t._key();if(this.eventManagers[i]){const{manager:l,promise:c}=this.eventManagers[i];return l?Promise.resolve(l):(Tr(c,"If manager is not set, promise should be"),c)}const a=this.initAndGetManager(t);return this.eventManagers[i]={promise:a},a.catch(()=>{delete this.eventManagers[i]}),a}async initAndGetManager(t){const i=await _w(t),a=new nw(t);return i.register("authEvent",l=>(At(l?.authEvent,t,"invalid-auth-event"),{status:a.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:a},this.iframes[t._key()]=i,a}_isIframeWebStorageSupported(t,i){this.iframes[t._key()].send(Zd,{type:Zd},l=>{const c=l?.[0]?.[Zd];c!==void 0&&i(!!c),Er(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const i=t._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=ow(t)),this.originValidationPromises[i]}get _shouldInitProactively(){return v1()||d1()||Gm()}}const xw=Dw;var x0="@firebase/auth",M0="1.11.1";class Mw{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const i=this.auth.onIdTokenChanged(a=>{t(a?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,i),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const i=this.internalListeners.get(t);i&&(this.internalListeners.delete(t),i(),this.updateProactiveRefresh())}assertAuthConfigured(){At(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function Ow(s){switch(s){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Vw(s){wo(new fa("auth",(t,{options:i})=>{const a=t.getProvider("app").getImmediate(),l=t.getProvider("heartbeat"),c=t.getProvider("app-check-internal"),{apiKey:d,authDomain:p}=a.options;At(d&&!d.includes(":"),"invalid-api-key",{appName:a.name});const y={apiKey:d,authDomain:p,clientPlatform:s,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:E1(s)},_=new o2(a,l,c,y);return d2(_,i),_},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,i,a)=>{t.getProvider("auth-internal").initialize()})),wo(new fa("auth-internal",t=>{const i=cu(t.getProvider("auth").getImmediate());return(a=>new Mw(a))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),gs(x0,M0,Ow(s)),gs(x0,M0,"esm2020")}const kw=300,Uw=Xv("authIdTokenMaxAge")||kw;let O0=null;const Lw=s=>async t=>{const i=t&&await t.getIdTokenResult(),a=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(a&&a>Uw)return;const l=i?.token;O0!==l&&(O0=l,await fetch(s,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function Pw(s=e1()){const t=jm(s,"auth");if(t.isInitialized())return t.getImmediate();const i=f2(s,{popupRedirectResolver:xw,persistence:[q2,D2,C1]}),a=Xv("authTokenSyncURL");if(a&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(a,location.origin);if(location.origin===c.origin){const d=Lw(c.toString());R2(i,d,()=>d(i.currentUser)),w2(i,p=>d(p))}}const l=Yv("auth");return l&&m2(i,`http://${l}`),i}function zw(){return document.getElementsByTagName("head")?.[0]??document}l2({loadJS(s){return new Promise((t,i)=>{const a=document.createElement("script");a.setAttribute("src",s),a.onload=t,a.onerror=l=>{const c=zi("internal-error");c.customData=l,i(c)},a.type="text/javascript",a.charset="UTF-8",zw().appendChild(a)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Vw("Browser");var V0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var ps,k1;(function(){var s;function t(C,S){function R(){}R.prototype=S.prototype,C.F=S.prototype,C.prototype=new R,C.prototype.constructor=C,C.D=function(O,D,U){for(var w=Array(arguments.length-2),$t=2;$t<arguments.length;$t++)w[$t-2]=arguments[$t];return S.prototype[D].apply(O,w)}}function i(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(a,i),a.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(C,S,R){R||(R=0);const O=Array(16);if(typeof S=="string")for(var D=0;D<16;++D)O[D]=S.charCodeAt(R++)|S.charCodeAt(R++)<<8|S.charCodeAt(R++)<<16|S.charCodeAt(R++)<<24;else for(D=0;D<16;++D)O[D]=S[R++]|S[R++]<<8|S[R++]<<16|S[R++]<<24;S=C.g[0],R=C.g[1],D=C.g[2];let U=C.g[3],w;w=S+(U^R&(D^U))+O[0]+3614090360&4294967295,S=R+(w<<7&4294967295|w>>>25),w=U+(D^S&(R^D))+O[1]+3905402710&4294967295,U=S+(w<<12&4294967295|w>>>20),w=D+(R^U&(S^R))+O[2]+606105819&4294967295,D=U+(w<<17&4294967295|w>>>15),w=R+(S^D&(U^S))+O[3]+3250441966&4294967295,R=D+(w<<22&4294967295|w>>>10),w=S+(U^R&(D^U))+O[4]+4118548399&4294967295,S=R+(w<<7&4294967295|w>>>25),w=U+(D^S&(R^D))+O[5]+1200080426&4294967295,U=S+(w<<12&4294967295|w>>>20),w=D+(R^U&(S^R))+O[6]+2821735955&4294967295,D=U+(w<<17&4294967295|w>>>15),w=R+(S^D&(U^S))+O[7]+4249261313&4294967295,R=D+(w<<22&4294967295|w>>>10),w=S+(U^R&(D^U))+O[8]+1770035416&4294967295,S=R+(w<<7&4294967295|w>>>25),w=U+(D^S&(R^D))+O[9]+2336552879&4294967295,U=S+(w<<12&4294967295|w>>>20),w=D+(R^U&(S^R))+O[10]+4294925233&4294967295,D=U+(w<<17&4294967295|w>>>15),w=R+(S^D&(U^S))+O[11]+2304563134&4294967295,R=D+(w<<22&4294967295|w>>>10),w=S+(U^R&(D^U))+O[12]+1804603682&4294967295,S=R+(w<<7&4294967295|w>>>25),w=U+(D^S&(R^D))+O[13]+4254626195&4294967295,U=S+(w<<12&4294967295|w>>>20),w=D+(R^U&(S^R))+O[14]+2792965006&4294967295,D=U+(w<<17&4294967295|w>>>15),w=R+(S^D&(U^S))+O[15]+1236535329&4294967295,R=D+(w<<22&4294967295|w>>>10),w=S+(D^U&(R^D))+O[1]+4129170786&4294967295,S=R+(w<<5&4294967295|w>>>27),w=U+(R^D&(S^R))+O[6]+3225465664&4294967295,U=S+(w<<9&4294967295|w>>>23),w=D+(S^R&(U^S))+O[11]+643717713&4294967295,D=U+(w<<14&4294967295|w>>>18),w=R+(U^S&(D^U))+O[0]+3921069994&4294967295,R=D+(w<<20&4294967295|w>>>12),w=S+(D^U&(R^D))+O[5]+3593408605&4294967295,S=R+(w<<5&4294967295|w>>>27),w=U+(R^D&(S^R))+O[10]+38016083&4294967295,U=S+(w<<9&4294967295|w>>>23),w=D+(S^R&(U^S))+O[15]+3634488961&4294967295,D=U+(w<<14&4294967295|w>>>18),w=R+(U^S&(D^U))+O[4]+3889429448&4294967295,R=D+(w<<20&4294967295|w>>>12),w=S+(D^U&(R^D))+O[9]+568446438&4294967295,S=R+(w<<5&4294967295|w>>>27),w=U+(R^D&(S^R))+O[14]+3275163606&4294967295,U=S+(w<<9&4294967295|w>>>23),w=D+(S^R&(U^S))+O[3]+4107603335&4294967295,D=U+(w<<14&4294967295|w>>>18),w=R+(U^S&(D^U))+O[8]+1163531501&4294967295,R=D+(w<<20&4294967295|w>>>12),w=S+(D^U&(R^D))+O[13]+2850285829&4294967295,S=R+(w<<5&4294967295|w>>>27),w=U+(R^D&(S^R))+O[2]+4243563512&4294967295,U=S+(w<<9&4294967295|w>>>23),w=D+(S^R&(U^S))+O[7]+1735328473&4294967295,D=U+(w<<14&4294967295|w>>>18),w=R+(U^S&(D^U))+O[12]+2368359562&4294967295,R=D+(w<<20&4294967295|w>>>12),w=S+(R^D^U)+O[5]+4294588738&4294967295,S=R+(w<<4&4294967295|w>>>28),w=U+(S^R^D)+O[8]+2272392833&4294967295,U=S+(w<<11&4294967295|w>>>21),w=D+(U^S^R)+O[11]+1839030562&4294967295,D=U+(w<<16&4294967295|w>>>16),w=R+(D^U^S)+O[14]+4259657740&4294967295,R=D+(w<<23&4294967295|w>>>9),w=S+(R^D^U)+O[1]+2763975236&4294967295,S=R+(w<<4&4294967295|w>>>28),w=U+(S^R^D)+O[4]+1272893353&4294967295,U=S+(w<<11&4294967295|w>>>21),w=D+(U^S^R)+O[7]+4139469664&4294967295,D=U+(w<<16&4294967295|w>>>16),w=R+(D^U^S)+O[10]+3200236656&4294967295,R=D+(w<<23&4294967295|w>>>9),w=S+(R^D^U)+O[13]+681279174&4294967295,S=R+(w<<4&4294967295|w>>>28),w=U+(S^R^D)+O[0]+3936430074&4294967295,U=S+(w<<11&4294967295|w>>>21),w=D+(U^S^R)+O[3]+3572445317&4294967295,D=U+(w<<16&4294967295|w>>>16),w=R+(D^U^S)+O[6]+76029189&4294967295,R=D+(w<<23&4294967295|w>>>9),w=S+(R^D^U)+O[9]+3654602809&4294967295,S=R+(w<<4&4294967295|w>>>28),w=U+(S^R^D)+O[12]+3873151461&4294967295,U=S+(w<<11&4294967295|w>>>21),w=D+(U^S^R)+O[15]+530742520&4294967295,D=U+(w<<16&4294967295|w>>>16),w=R+(D^U^S)+O[2]+3299628645&4294967295,R=D+(w<<23&4294967295|w>>>9),w=S+(D^(R|~U))+O[0]+4096336452&4294967295,S=R+(w<<6&4294967295|w>>>26),w=U+(R^(S|~D))+O[7]+1126891415&4294967295,U=S+(w<<10&4294967295|w>>>22),w=D+(S^(U|~R))+O[14]+2878612391&4294967295,D=U+(w<<15&4294967295|w>>>17),w=R+(U^(D|~S))+O[5]+4237533241&4294967295,R=D+(w<<21&4294967295|w>>>11),w=S+(D^(R|~U))+O[12]+1700485571&4294967295,S=R+(w<<6&4294967295|w>>>26),w=U+(R^(S|~D))+O[3]+2399980690&4294967295,U=S+(w<<10&4294967295|w>>>22),w=D+(S^(U|~R))+O[10]+4293915773&4294967295,D=U+(w<<15&4294967295|w>>>17),w=R+(U^(D|~S))+O[1]+2240044497&4294967295,R=D+(w<<21&4294967295|w>>>11),w=S+(D^(R|~U))+O[8]+1873313359&4294967295,S=R+(w<<6&4294967295|w>>>26),w=U+(R^(S|~D))+O[15]+4264355552&4294967295,U=S+(w<<10&4294967295|w>>>22),w=D+(S^(U|~R))+O[6]+2734768916&4294967295,D=U+(w<<15&4294967295|w>>>17),w=R+(U^(D|~S))+O[13]+1309151649&4294967295,R=D+(w<<21&4294967295|w>>>11),w=S+(D^(R|~U))+O[4]+4149444226&4294967295,S=R+(w<<6&4294967295|w>>>26),w=U+(R^(S|~D))+O[11]+3174756917&4294967295,U=S+(w<<10&4294967295|w>>>22),w=D+(S^(U|~R))+O[2]+718787259&4294967295,D=U+(w<<15&4294967295|w>>>17),w=R+(U^(D|~S))+O[9]+3951481745&4294967295,C.g[0]=C.g[0]+S&4294967295,C.g[1]=C.g[1]+(D+(w<<21&4294967295|w>>>11))&4294967295,C.g[2]=C.g[2]+D&4294967295,C.g[3]=C.g[3]+U&4294967295}a.prototype.v=function(C,S){S===void 0&&(S=C.length);const R=S-this.blockSize,O=this.C;let D=this.h,U=0;for(;U<S;){if(D==0)for(;U<=R;)l(this,C,U),U+=this.blockSize;if(typeof C=="string"){for(;U<S;)if(O[D++]=C.charCodeAt(U++),D==this.blockSize){l(this,O),D=0;break}}else for(;U<S;)if(O[D++]=C[U++],D==this.blockSize){l(this,O),D=0;break}}this.h=D,this.o+=S},a.prototype.A=function(){var C=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);C[0]=128;for(var S=1;S<C.length-8;++S)C[S]=0;S=this.o*8;for(var R=C.length-8;R<C.length;++R)C[R]=S&255,S/=256;for(this.v(C),C=Array(16),S=0,R=0;R<4;++R)for(let O=0;O<32;O+=8)C[S++]=this.g[R]>>>O&255;return C};function c(C,S){var R=p;return Object.prototype.hasOwnProperty.call(R,C)?R[C]:R[C]=S(C)}function d(C,S){this.h=S;const R=[];let O=!0;for(let D=C.length-1;D>=0;D--){const U=C[D]|0;O&&U==S||(R[D]=U,O=!1)}this.g=R}var p={};function y(C){return-128<=C&&C<128?c(C,function(S){return new d([S|0],S<0?-1:0)}):new d([C|0],C<0?-1:0)}function _(C){if(isNaN(C)||!isFinite(C))return A;if(C<0)return et(_(-C));const S=[];let R=1;for(let O=0;C>=R;O++)S[O]=C/R|0,R*=4294967296;return new d(S,0)}function b(C,S){if(C.length==0)throw Error("number format error: empty string");if(S=S||10,S<2||36<S)throw Error("radix out of range: "+S);if(C.charAt(0)=="-")return et(b(C.substring(1),S));if(C.indexOf("-")>=0)throw Error('number format error: interior "-" character');const R=_(Math.pow(S,8));let O=A;for(let U=0;U<C.length;U+=8){var D=Math.min(8,C.length-U);const w=parseInt(C.substring(U,U+D),S);D<8?(D=_(Math.pow(S,D)),O=O.j(D).add(_(w))):(O=O.j(R),O=O.add(_(w)))}return O}var A=y(0),M=y(1),F=y(16777216);s=d.prototype,s.m=function(){if(it(this))return-et(this).m();let C=0,S=1;for(let R=0;R<this.g.length;R++){const O=this.i(R);C+=(O>=0?O:4294967296+O)*S,S*=4294967296}return C},s.toString=function(C){if(C=C||10,C<2||36<C)throw Error("radix out of range: "+C);if(tt(this))return"0";if(it(this))return"-"+et(this).toString(C);const S=_(Math.pow(C,6));var R=this;let O="";for(;;){const D=Ft(R,S).g;R=pt(R,D.j(S));let U=((R.g.length>0?R.g[0]:R.h)>>>0).toString(C);if(R=D,tt(R))return U+O;for(;U.length<6;)U="0"+U;O=U+O}},s.i=function(C){return C<0?0:C<this.g.length?this.g[C]:this.h};function tt(C){if(C.h!=0)return!1;for(let S=0;S<C.g.length;S++)if(C.g[S]!=0)return!1;return!0}function it(C){return C.h==-1}s.l=function(C){return C=pt(this,C),it(C)?-1:tt(C)?0:1};function et(C){const S=C.g.length,R=[];for(let O=0;O<S;O++)R[O]=~C.g[O];return new d(R,~C.h).add(M)}s.abs=function(){return it(this)?et(this):this},s.add=function(C){const S=Math.max(this.g.length,C.g.length),R=[];let O=0;for(let D=0;D<=S;D++){let U=O+(this.i(D)&65535)+(C.i(D)&65535),w=(U>>>16)+(this.i(D)>>>16)+(C.i(D)>>>16);O=w>>>16,U&=65535,w&=65535,R[D]=w<<16|U}return new d(R,R[R.length-1]&-2147483648?-1:0)};function pt(C,S){return C.add(et(S))}s.j=function(C){if(tt(this)||tt(C))return A;if(it(this))return it(C)?et(this).j(et(C)):et(et(this).j(C));if(it(C))return et(this.j(et(C)));if(this.l(F)<0&&C.l(F)<0)return _(this.m()*C.m());const S=this.g.length+C.g.length,R=[];for(var O=0;O<2*S;O++)R[O]=0;for(O=0;O<this.g.length;O++)for(let D=0;D<C.g.length;D++){const U=this.i(O)>>>16,w=this.i(O)&65535,$t=C.i(D)>>>16,ye=C.i(D)&65535;R[2*O+2*D]+=w*ye,_t(R,2*O+2*D),R[2*O+2*D+1]+=U*ye,_t(R,2*O+2*D+1),R[2*O+2*D+1]+=w*$t,_t(R,2*O+2*D+1),R[2*O+2*D+2]+=U*$t,_t(R,2*O+2*D+2)}for(C=0;C<S;C++)R[C]=R[2*C+1]<<16|R[2*C];for(C=S;C<2*S;C++)R[C]=0;return new d(R,0)};function _t(C,S){for(;(C[S]&65535)!=C[S];)C[S+1]+=C[S]>>>16,C[S]&=65535,S++}function yt(C,S){this.g=C,this.h=S}function Ft(C,S){if(tt(S))throw Error("division by zero");if(tt(C))return new yt(A,A);if(it(C))return S=Ft(et(C),S),new yt(et(S.g),et(S.h));if(it(S))return S=Ft(C,et(S)),new yt(et(S.g),S.h);if(C.g.length>30){if(it(C)||it(S))throw Error("slowDivide_ only works with positive integers.");for(var R=M,O=S;O.l(C)<=0;)R=ee(R),O=ee(O);var D=Ot(R,1),U=Ot(O,1);for(O=Ot(O,2),R=Ot(R,2);!tt(O);){var w=U.add(O);w.l(C)<=0&&(D=D.add(R),U=w),O=Ot(O,1),R=Ot(R,1)}return S=pt(C,D.j(S)),new yt(D,S)}for(D=A;C.l(S)>=0;){for(R=Math.max(1,Math.floor(C.m()/S.m())),O=Math.ceil(Math.log(R)/Math.LN2),O=O<=48?1:Math.pow(2,O-48),U=_(R),w=U.j(S);it(w)||w.l(C)>0;)R-=O,U=_(R),w=U.j(S);tt(U)&&(U=M),D=D.add(U),C=pt(C,w)}return new yt(D,C)}s.B=function(C){return Ft(this,C).h},s.and=function(C){const S=Math.max(this.g.length,C.g.length),R=[];for(let O=0;O<S;O++)R[O]=this.i(O)&C.i(O);return new d(R,this.h&C.h)},s.or=function(C){const S=Math.max(this.g.length,C.g.length),R=[];for(let O=0;O<S;O++)R[O]=this.i(O)|C.i(O);return new d(R,this.h|C.h)},s.xor=function(C){const S=Math.max(this.g.length,C.g.length),R=[];for(let O=0;O<S;O++)R[O]=this.i(O)^C.i(O);return new d(R,this.h^C.h)};function ee(C){const S=C.g.length+1,R=[];for(let O=0;O<S;O++)R[O]=C.i(O)<<1|C.i(O-1)>>>31;return new d(R,C.h)}function Ot(C,S){const R=S>>5;S%=32;const O=C.g.length-R,D=[];for(let U=0;U<O;U++)D[U]=S>0?C.i(U+R)>>>S|C.i(U+R+1)<<32-S:C.i(U+R);return new d(D,C.h)}a.prototype.digest=a.prototype.A,a.prototype.reset=a.prototype.u,a.prototype.update=a.prototype.v,k1=a,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=_,d.fromString=b,ps=d}).apply(typeof V0<"u"?V0:typeof self<"u"?self:typeof window<"u"?window:{});var zc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var U1,zl,L1,Zc,gm,P1,z1,j1;(function(){var s,t=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof zc=="object"&&zc];for(var m=0;m<u.length;++m){var v=u[m];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var a=i(this);function l(u,m){if(m)t:{var v=a;u=u.split(".");for(var T=0;T<u.length-1;T++){var L=u[T];if(!(L in v))break t;v=v[L]}u=u[u.length-1],T=v[u],m=m(T),m!=T&&m!=null&&t(v,u,{configurable:!0,writable:!0,value:m})}}l("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),l("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),l("Object.entries",function(u){return u||function(m){var v=[],T;for(T in m)Object.prototype.hasOwnProperty.call(m,T)&&v.push([T,m[T]]);return v}});var c=c||{},d=this||self;function p(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function y(u,m,v){return u.call.apply(u.bind,arguments)}function _(u,m,v){return _=y,_.apply(null,arguments)}function b(u,m){var v=Array.prototype.slice.call(arguments,1);return function(){var T=v.slice();return T.push.apply(T,arguments),u.apply(this,T)}}function A(u,m){function v(){}v.prototype=m.prototype,u.Z=m.prototype,u.prototype=new v,u.prototype.constructor=u,u.Ob=function(T,L,q){for(var nt=Array(arguments.length-2),Ct=2;Ct<arguments.length;Ct++)nt[Ct-2]=arguments[Ct];return m.prototype[L].apply(T,nt)}}var M=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function F(u){const m=u.length;if(m>0){const v=Array(m);for(let T=0;T<m;T++)v[T]=u[T];return v}return[]}function tt(u,m){for(let T=1;T<arguments.length;T++){const L=arguments[T];var v=typeof L;if(v=v!="object"?v:L?Array.isArray(L)?"array":v:"null",v=="array"||v=="object"&&typeof L.length=="number"){v=u.length||0;const q=L.length||0;u.length=v+q;for(let nt=0;nt<q;nt++)u[v+nt]=L[nt]}else u.push(L)}}class it{constructor(m,v){this.i=m,this.j=v,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function et(u){d.setTimeout(()=>{throw u},0)}function pt(){var u=C;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class _t{constructor(){this.h=this.g=null}add(m,v){const T=yt.get();T.set(m,v),this.h?this.h.next=T:this.g=T,this.h=T}}var yt=new it(()=>new Ft,u=>u.reset());class Ft{constructor(){this.next=this.g=this.h=null}set(m,v){this.h=m,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let ee,Ot=!1,C=new _t,S=()=>{const u=Promise.resolve(void 0);ee=()=>{u.then(R)}};function R(){for(var u;u=pt();){try{u.h.call(u.g)}catch(v){et(v)}var m=yt;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}Ot=!1}function O(){this.u=this.u,this.C=this.C}O.prototype.u=!1,O.prototype.dispose=function(){this.u||(this.u=!0,this.N())},O.prototype[Symbol.dispose]=function(){this.dispose()},O.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function D(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}D.prototype.h=function(){this.defaultPrevented=!0};var U=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const v=()=>{};d.addEventListener("test",v,m),d.removeEventListener("test",v,m)}catch{}return u})();function w(u){return/^[\s\xa0]*$/.test(u)}function $t(u,m){D.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}A($t,D),$t.prototype.init=function(u,m){const v=this.type=u.type,T=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(v=="mouseover"?m=u.fromElement:v=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&$t.Z.h.call(this)},$t.prototype.h=function(){$t.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var ye="closure_listenable_"+(Math.random()*1e6|0),G=0;function rt(u,m,v,T,L){this.listener=u,this.proxy=null,this.src=m,this.type=v,this.capture=!!T,this.ha=L,this.key=++G,this.da=this.fa=!1}function dt(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Vt(u,m,v){for(const T in u)m.call(v,u[T],T,u)}function Yt(u,m){for(const v in u)m.call(void 0,u[v],v,u)}function x(u){const m={};for(const v in u)m[v]=u[v];return m}const K="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function st(u,m){let v,T;for(let L=1;L<arguments.length;L++){T=arguments[L];for(v in T)u[v]=T[v];for(let q=0;q<K.length;q++)v=K[q],Object.prototype.hasOwnProperty.call(T,v)&&(u[v]=T[v])}}function at(u){this.src=u,this.g={},this.h=0}at.prototype.add=function(u,m,v,T,L){const q=u.toString();u=this.g[q],u||(u=this.g[q]=[],this.h++);const nt=It(u,m,T,L);return nt>-1?(m=u[nt],v||(m.fa=!1)):(m=new rt(m,this.src,q,!!T,L),m.fa=v,u.push(m)),m};function Tt(u,m){const v=m.type;if(v in u.g){var T=u.g[v],L=Array.prototype.indexOf.call(T,m,void 0),q;(q=L>=0)&&Array.prototype.splice.call(T,L,1),q&&(dt(m),u.g[v].length==0&&(delete u.g[v],u.h--))}}function It(u,m,v,T){for(let L=0;L<u.length;++L){const q=u[L];if(!q.da&&q.listener==m&&q.capture==!!v&&q.ha==T)return L}return-1}var Bt="closure_lm_"+(Math.random()*1e6|0),Me={};function le(u,m,v,T,L){if(Array.isArray(m)){for(let q=0;q<m.length;q++)le(u,m[q],v,T,L);return null}return v=Ns(v),u&&u[ye]?u.J(m,v,p(T)?!!T.capture:!1,L):Rr(u,m,v,!1,T,L)}function Rr(u,m,v,T,L,q){if(!m)throw Error("Invalid event type");const nt=p(L)?!!L.capture:!!L;let Ct=Ai(u);if(Ct||(u[Bt]=Ct=new at(u)),v=Ct.add(m,v,T,nt,q),v.proxy)return v;if(T=Is(),v.proxy=T,T.src=u,T.listener=v,u.addEventListener)U||(L=nt),L===void 0&&(L=!1),u.addEventListener(m.toString(),T,L);else if(u.attachEvent)u.attachEvent(fe(m.toString()),T);else if(u.addListener&&u.removeListener)u.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return v}function Is(){function u(v){return m.call(u.src,u.listener,v)}const m=Qi;return u}function un(u,m,v,T,L){if(Array.isArray(m))for(var q=0;q<m.length;q++)un(u,m[q],v,T,L);else T=p(T)?!!T.capture:!!T,v=Ns(v),u&&u[ye]?(u=u.i,q=String(m).toString(),q in u.g&&(m=u.g[q],v=It(m,v,T,L),v>-1&&(dt(m[v]),Array.prototype.splice.call(m,v,1),m.length==0&&(delete u.g[q],u.h--)))):u&&(u=Ai(u))&&(m=u.g[m.toString()],u=-1,m&&(u=It(m,v,T,L)),(v=u>-1?m[u]:null)&&Tn(v))}function Tn(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[ye])Tt(m.i,u);else{var v=u.type,T=u.proxy;m.removeEventListener?m.removeEventListener(v,T,u.capture):m.detachEvent?m.detachEvent(fe(v),T):m.addListener&&m.removeListener&&m.removeListener(T),(v=Ai(m))?(Tt(v,u),v.h==0&&(v.src=null,m[Bt]=null)):dt(u)}}}function fe(u){return u in Me?Me[u]:Me[u]="on"+u}function Qi(u,m){if(u.da)u=!0;else{m=new $t(m,this);const v=u.listener,T=u.ha||u.src;u.fa&&Tn(u),u=v.call(T,m)}return u}function Ai(u){return u=u[Bt],u instanceof at?u:null}var Cs="__closure_events_fn_"+(Math.random()*1e9>>>0);function Ns(u){return typeof u=="function"?u:(u[Cs]||(u[Cs]=function(m){return u.handleEvent(m)}),u[Cs])}function de(){O.call(this),this.i=new at(this),this.M=this,this.G=null}A(de,O),de.prototype[ye]=!0,de.prototype.removeEventListener=function(u,m,v,T){un(this,u,m,v,T)};function _e(u,m){var v,T=u.G;if(T)for(v=[];T;T=T.G)v.push(T);if(u=u.M,T=m.type||m,typeof m=="string")m=new D(m,u);else if(m instanceof D)m.target=m.target||u;else{var L=m;m=new D(T,u),st(m,L)}L=!0;let q,nt;if(v)for(nt=v.length-1;nt>=0;nt--)q=m.g=v[nt],L=hi(q,T,!0,m)&&L;if(q=m.g=u,L=hi(q,T,!0,m)&&L,L=hi(q,T,!1,m)&&L,v)for(nt=0;nt<v.length;nt++)q=m.g=v[nt],L=hi(q,T,!1,m)&&L}de.prototype.N=function(){if(de.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const v=u.g[m];for(let T=0;T<v.length;T++)dt(v[T]);delete u.g[m],u.h--}}this.G=null},de.prototype.J=function(u,m,v,T){return this.i.add(String(u),m,!1,v,T)},de.prototype.K=function(u,m,v,T){return this.i.add(String(u),m,!0,v,T)};function hi(u,m,v,T){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let L=!0;for(let q=0;q<m.length;++q){const nt=m[q];if(nt&&!nt.da&&nt.capture==v){const Ct=nt.listener,Ce=nt.ha||nt.src;nt.fa&&Tt(u.i,nt),L=Ct.call(Ce,T)!==!1&&L}}return L&&!T.defaultPrevented}function _a(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=_(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(u,m||0)}function va(u){u.g=_a(()=>{u.g=null,u.i&&(u.i=!1,va(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class Ze extends O{constructor(m,v){super(),this.m=m,this.l=v,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:va(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Si(u){O.call(this),this.h=u,this.g={}}A(Si,O);var Yn=[];function Ir(u){Vt(u.g,function(m,v){this.g.hasOwnProperty(v)&&Tn(m)},u),u.g={}}Si.prototype.N=function(){Si.Z.N.call(this),Ir(this)},Si.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var gn=d.JSON.stringify,Ea=d.JSON.parse,Ta=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function Ds(){}function ba(){}var Ie={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Oe(){D.call(this,"d")}A(Oe,D);function pn(){D.call(this,"c")}A(pn,D);var ve={},xs=null;function Yi(){return xs=xs||new de}ve.Ia="serverreachability";function Ms(u){D.call(this,ve.Ia,u)}A(Ms,D);function Mn(u){const m=Yi();_e(m,new Ms(m))}ve.STAT_EVENT="statevent";function wi(u,m){D.call(this,ve.STAT_EVENT,u),this.stat=m}A(wi,D);function Te(u){const m=Yi();_e(m,new wi(m,u))}ve.Ja="timingevent";function On(u,m){D.call(this,ve.Ja,u),this.size=m}A(On,D);function Kn(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function Vn(){this.g=!0}Vn.prototype.ua=function(){this.g=!1};function Os(u,m,v,T,L,q){u.info(function(){if(u.g)if(q){var nt="",Ct=q.split("&");for(let Kt=0;Kt<Ct.length;Kt++){var Ce=Ct[Kt].split("=");if(Ce.length>1){const ge=Ce[0];Ce=Ce[1];const ti=ge.split("_");nt=ti.length>=2&&ti[1]=="type"?nt+(ge+"="+Ce+"&"):nt+(ge+"=redacted&")}}}else nt=null;else nt=q;return"XMLHTTP REQ ("+T+") [attempt "+L+"]: "+m+`
`+v+`
`+nt})}function Aa(u,m,v,T,L,q,nt){u.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+L+"]: "+m+`
`+v+`
`+q+" "+nt})}function Xn(u,m,v,T){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Bo(u,v)+(T?" "+T:"")})}function Ki(u,m){u.info(function(){return"TIMEOUT: "+m})}Vn.prototype.info=function(){};function Bo(u,m){if(!u.g)return m;if(!m)return null;try{const q=JSON.parse(m);if(q){for(u=0;u<q.length;u++)if(Array.isArray(q[u])){var v=q[u];if(!(v.length<2)){var T=v[1];if(Array.isArray(T)&&!(T.length<1)){var L=T[0];if(L!="noop"&&L!="stop"&&L!="close")for(let nt=1;nt<T.length;nt++)T[nt]=""}}}}return gn(q)}catch{return m}}var Ri={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Cr={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Vs;function Xi(){}A(Xi,Ds),Xi.prototype.g=function(){return new XMLHttpRequest},Vs=new Xi;function $n(u){return encodeURIComponent(String(u))}function Sa(u){var m=1;u=u.split(":");const v=[];for(;m>0&&u.length;)v.push(u.shift()),m--;return u.length&&v.push(u.join(":")),v}function kn(u,m,v,T){this.j=u,this.i=m,this.l=v,this.S=T||1,this.V=new Si(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Un}function Un(){this.i=null,this.g="",this.h=!1}var be={},Ve={};function Zn(u,m,v){u.M=1,u.A=ks(Se(m)),u.u=v,u.R=!0,Nr(u,null)}function Nr(u,m){u.F=Date.now(),ke(u),u.B=Se(u.A);var v=u.B,T=u.S;Array.isArray(T)||(T=[String(T)]),Ca(v.i,"t",T),u.C=0,v=u.j.L,u.h=new Un,u.g=xu(u.j,v?m:null,!u.u),u.P>0&&(u.O=new Ze(_(u.Y,u,u.g),u.P)),m=u.V,v=u.g,T=u.ba;var L="readystatechange";Array.isArray(L)||(L&&(Yn[0]=L.toString()),L=Yn);for(let q=0;q<L.length;q++){const nt=le(v,L[q],T||m.handleEvent,!1,m.h||m);if(!nt)break;m.g[nt.key]=nt}m=u.J?x(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),Mn(),Os(u.i,u.v,u.B,u.l,u.S,u.u)}kn.prototype.ba=function(u){u=u.target;const m=this.O;m&&mi(u)==3?m.j():this.Y(u)},kn.prototype.Y=function(u){try{if(u==this.g)t:{const Ct=mi(this.g),Ce=this.g.ya(),Kt=this.g.ca();if(!(Ct<3)&&(Ct!=3||this.g&&(this.h.h||this.g.la()||We(this.g)))){this.K||Ct!=4||Ce==7||(Ce==8||Kt<=0?Mn(3):Mn(2)),Ln(this);var m=this.g.ca();this.X=m;var v=qo(this);if(this.o=m==200,Aa(this.i,this.v,this.B,this.l,this.S,Ct,m),this.o){if(this.U&&!this.L){e:{if(this.g){var T,L=this.g;if((T=L.g?L.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!w(T)){var q=T;break e}}q=null}if(u=q)Xn(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Pn(this,u);else{this.o=!1,this.m=3,Te(12),_n(this),yn(this);break t}}if(this.R){u=!0;let ge;for(;!this.K&&this.C<v.length;)if(ge=Ra(this,v),ge==Ve){Ct==4&&(this.m=4,Te(14),u=!1),Xn(this.i,this.l,null,"[Incomplete Response]");break}else if(ge==be){this.m=4,Te(15),Xn(this.i,this.l,v,"[Invalid Chunk]"),u=!1;break}else Xn(this.i,this.l,ge,null),Pn(this,ge);if(wa(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ct!=4||v.length!=0||this.h.h||(this.m=1,Te(16),u=!1),this.o=this.o&&u,!u)Xn(this.i,this.l,v,"[Invalid Chunked Response]"),_n(this),yn(this);else if(v.length>0&&!this.W){this.W=!0;var nt=this.j;nt.g==this&&nt.aa&&!nt.P&&(nt.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),Jo(nt),nt.P=!0,Te(11))}}else Xn(this.i,this.l,v,null),Pn(this,v);Ct==4&&_n(this),this.o&&!this.K&&(Ct==4?Iu(this.j,this):(this.o=!1,ke(this)))}else Ji(this.g),m==400&&v.indexOf("Unknown SID")>0?(this.m=3,Te(12)):(this.m=0,Te(13)),_n(this),yn(this)}}}catch{}finally{}};function qo(u){if(!wa(u))return u.g.la();const m=We(u.g);if(m==="")return"";let v="";const T=m.length,L=mi(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return _n(u),yn(u),"";u.h.i=new d.TextDecoder}for(let q=0;q<T;q++)u.h.h=!0,v+=u.h.i.decode(m[q],{stream:!(L&&q==T-1)});return m.length=0,u.h.g+=v,u.C=0,u.h.g}function wa(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function Ra(u,m){var v=u.C,T=m.indexOf(`
`,v);return T==-1?Ve:(v=Number(m.substring(v,T)),isNaN(v)?be:(T+=1,T+v>m.length?Ve:(m=m.slice(T,T+v),u.C=T+v,m)))}kn.prototype.cancel=function(){this.K=!0,_n(this)};function ke(u){u.T=Date.now()+u.H,$i(u,u.H)}function $i(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=Kn(_(u.aa,u),m)}function Ln(u){u.D&&(d.clearTimeout(u.D),u.D=null)}kn.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(Ki(this.i,this.B),this.M!=2&&(Mn(),Te(17)),_n(this),this.m=2,yn(this)):$i(this,this.T-u)};function yn(u){u.j.I==0||u.K||Iu(u.j,u)}function _n(u){Ln(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,Ir(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function Pn(u,m){try{var v=u.j;if(v.I!=0&&(v.g==u||ft(v.h,u))){if(!u.L&&ft(v.h,u)&&v.I==3){try{var T=v.Ba.g.parse(m)}catch{T=null}if(Array.isArray(T)&&T.length==3){var L=T;if(L[0]==0){t:if(!v.v){if(v.g)if(v.g.F+3e3<u.F)Oa(v),Lr(v);else break t;qs(v),Te(18)}}else v.xa=L[1],0<v.xa-v.K&&L[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=Kn(_(v.Va,v),6e3));W(v.h)<=1&&v.ta&&(v.ta=void 0)}else Mi(v,11)}else if((u.L||v.g==u)&&Oa(v),!w(m))for(L=v.Ba.g.parse(m),m=0;m<L.length;m++){let Kt=L[m];const ge=Kt[0];if(!(ge<=v.K))if(v.K=ge,Kt=Kt[1],v.I==2)if(Kt[0]=="c"){v.M=Kt[1],v.ba=Kt[2];const ti=Kt[3];ti!=null&&(v.ka=ti,v.j.info("VER="+v.ka));const Oi=Kt[4];Oi!=null&&(v.za=Oi,v.j.info("SVER="+v.za));const gi=Kt[5];gi!=null&&typeof gi=="number"&&gi>0&&(T=1.5*gi,v.O=T,v.j.info("backChannelRequestTimeoutMs_="+T)),T=v;const pi=u.g;if(pi){const Hs=pi.g?pi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Hs){var q=T.h;q.g||Hs.indexOf("spdy")==-1&&Hs.indexOf("quic")==-1&&Hs.indexOf("h2")==-1||(q.j=q.l,q.g=new Set,q.h&&(bt(q,q.h),q.h=null))}if(T.G){const Va=pi.g?pi.g.getResponseHeader("X-HTTP-Session-Id"):null;Va&&(T.wa=Va,Jt(T.J,T.G,Va))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-u.F,v.j.info("Handshake RTT: "+v.T+"ms")),T=v;var nt=u;if(T.na=Du(T,T.L?T.ba:null,T.W),nt.L){me(T.h,nt);var Ct=nt,Ce=T.O;Ce&&(Ct.H=Ce),Ct.D&&(Ln(Ct),ke(Ct)),T.g=nt}else wu(T);v.i.length>0&&xi(v)}else Kt[0]!="stop"&&Kt[0]!="close"||Mi(v,7);else v.I==3&&(Kt[0]=="stop"||Kt[0]=="close"?Kt[0]=="stop"?Mi(v,7):$o(v):Kt[0]!="noop"&&v.l&&v.l.qa(Kt),v.A=0)}}Mn(4)}catch{}}var Ae=class{constructor(u,m){this.g=u,this.map=m}};function V(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function J(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function W(u){return u.h?1:u.g?u.g.size:0}function ft(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function bt(u,m){u.g?u.g.add(m):u.h=m}function me(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}V.prototype.cancel=function(){if(this.i=Ye(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Ye(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const v of u.g.values())m=m.concat(v.G);return m}return F(u.i)}var bn=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ke(u,m){if(u){u=u.split("&");for(let v=0;v<u.length;v++){const T=u[v].indexOf("=");let L,q=null;T>=0?(L=u[v].substring(0,T),q=u[v].substring(T+1)):L=u[v],m(L,q?decodeURIComponent(q.replace(/\+/g," ")):"")}}}function Je(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof Je?(this.l=u.l,Ue(this,u.j),this.o=u.o,this.g=u.g,Dr(this,u.u),this.h=u.h,Ho(this,Au(u.i)),this.m=u.m):u&&(m=String(u).match(bn))?(this.l=!1,Ue(this,m[1]||"",!0),this.o=Ii(m[2]||""),this.g=Ii(m[3]||"",!0),Dr(this,m[4]),this.h=Ii(m[5]||"",!0),Ho(this,m[6]||"",!0),this.m=Ii(m[7]||"")):(this.l=!1,this.i=new Mr(null,this.l))}Je.prototype.toString=function(){const u=[];var m=this.j;m&&u.push(Us(m,Ia,!0),":");var v=this.g;return(v||m=="file")&&(u.push("//"),(m=this.o)&&u.push(Us(m,Ia,!0),"@"),u.push($n(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&u.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&u.push("/"),u.push(Us(v,v.charAt(0)=="/"?Fo:Eu,!0))),(v=this.i.toString())&&u.push("?",v),(v=this.m)&&u.push("#",Us(v,Tu)),u.join("")},Je.prototype.resolve=function(u){const m=Se(this);let v=!!u.j;v?Ue(m,u.j):v=!!u.o,v?m.o=u.o:v=!!u.g,v?m.g=u.g:v=u.u!=null;var T=u.h;if(v)Dr(m,u.u);else if(v=!!u.h){if(T.charAt(0)!="/")if(this.g&&!this.h)T="/"+T;else{var L=m.h.lastIndexOf("/");L!=-1&&(T=m.h.slice(0,L+1)+T)}if(L=T,L==".."||L==".")T="";else if(L.indexOf("./")!=-1||L.indexOf("/.")!=-1){T=L.lastIndexOf("/",0)==0,L=L.split("/");const q=[];for(let nt=0;nt<L.length;){const Ct=L[nt++];Ct=="."?T&&nt==L.length&&q.push(""):Ct==".."?((q.length>1||q.length==1&&q[0]!="")&&q.pop(),T&&nt==L.length&&q.push("")):(q.push(Ct),T=!0)}T=q.join("/")}else T=L}return v?m.h=T:v=u.i.toString()!=="",v?Ho(m,Au(u.i)):v=!!u.m,v&&(m.m=u.m),m};function Se(u){return new Je(u)}function Ue(u,m,v){u.j=v?Ii(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function Dr(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function Ho(u,m,v){m instanceof Mr?(u.i=m,Na(u.i,u.l)):(v||(m=Us(m,xr)),u.i=new Mr(m,u.l))}function Jt(u,m,v){u.i.set(m,v)}function ks(u){return Jt(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function Ii(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Us(u,m,v){return typeof u=="string"?(u=encodeURI(u).replace(m,An),v&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function An(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var Ia=/[#\/\?@]/g,Eu=/[#\?:]/g,Fo=/[#\?]/g,xr=/[#\?@]/g,Tu=/#/g;function Mr(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function Sn(u){u.g||(u.g=new Map,u.h=0,u.i&&Ke(u.i,function(m,v){u.add(decodeURIComponent(m.replace(/\+/g," ")),v)}))}s=Mr.prototype,s.add=function(u,m){Sn(this),this.i=null,u=Or(this,u);let v=this.g.get(u);return v||this.g.set(u,v=[]),v.push(m),this.h+=1,this};function bu(u,m){Sn(u),m=Or(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function Go(u,m){return Sn(u),m=Or(u,m),u.g.has(m)}s.forEach=function(u,m){Sn(this),this.g.forEach(function(v,T){v.forEach(function(L){u.call(m,L,T,this)},this)},this)};function Qo(u,m){Sn(u);let v=[];if(typeof m=="string")Go(u,m)&&(v=v.concat(u.g.get(Or(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)v=v.concat(u[m]);return v}s.set=function(u,m){return Sn(this),this.i=null,u=Or(this,u),Go(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},s.get=function(u,m){return u?(u=Qo(this,u),u.length>0?String(u[0]):m):m};function Ca(u,m,v){bu(u,m),v.length>0&&(u.i=null,u.g.set(Or(u,m),F(v)),u.h+=v.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let T=0;T<m.length;T++){var v=m[T];const L=$n(v);v=Qo(this,v);for(let q=0;q<v.length;q++){let nt=L;v[q]!==""&&(nt+="="+$n(v[q])),u.push(nt)}}return this.i=u.join("&")};function Au(u){const m=new Mr;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function Or(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function Na(u,m){m&&!u.j&&(Sn(u),u.i=null,u.g.forEach(function(v,T){const L=T.toLowerCase();T!=L&&(bu(this,T),Ca(this,L,v))},u)),u.j=m}function fi(u,m){const v=new Vn;if(d.Image){const T=new Image;T.onload=b(Jn,v,"TestLoadImage: loaded",!0,m,T),T.onerror=b(Jn,v,"TestLoadImage: error",!1,m,T),T.onabort=b(Jn,v,"TestLoadImage: abort",!1,m,T),T.ontimeout=b(Jn,v,"TestLoadImage: timeout",!1,m,T),d.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=u}else m(!1)}function Yo(u,m){const v=new Vn,T=new AbortController,L=setTimeout(()=>{T.abort(),Jn(v,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:T.signal}).then(q=>{clearTimeout(L),q.ok?Jn(v,"TestPingServer: ok",!0,m):Jn(v,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(L),Jn(v,"TestPingServer: error",!1,m)})}function Jn(u,m,v,T,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),T(v)}catch{}}function Vr(){this.g=new Ta}function Ci(u){this.i=u.Sb||null,this.h=u.ab||!1}A(Ci,Ds),Ci.prototype.g=function(){return new Ls(this.i,this.h)};function Ls(u,m){de.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}A(Ls,de),s=Ls.prototype,s.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,di(this)},s.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,kr(this)),this.readyState=0},s.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,di(this)),this.g&&(this.readyState=3,di(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Da(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function Da(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}s.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?kr(this):di(this),this.readyState==3&&Da(this)}},s.Oa=function(u){this.g&&(this.response=this.responseText=u,kr(this))},s.Na=function(u){this.g&&(this.response=u,kr(this))},s.ga=function(){this.g&&kr(this)};function kr(u){u.readyState=4,u.l=null,u.j=null,u.B=null,di(u)}s.setRequestHeader=function(u,m){this.A.append(u,m)},s.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var v=m.next();!v.done;)v=v.value,u.push(v[0]+": "+v[1]),v=m.next();return u.join(`\r
`)};function di(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Ls.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Wn(u){let m="";return Vt(u,function(v,T){m+=T,m+=":",m+=v,m+=`\r
`}),m}function Ps(u,m,v){t:{for(T in v){var T=!1;break t}T=!0}T||(v=Wn(v),typeof u=="string"?v!=null&&$n(v):Jt(u,m,v))}function ne(u){de.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}A(ne,de);var Ni=/^https?$/i,Ko=["POST","PUT"];s=ne.prototype,s.Fa=function(u){this.H=u},s.ea=function(u,m,v,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Vs.g(),this.g.onreadystatechange=M(_(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(q){zs(this,q);return}if(u=v||"",v=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var L in T)v.set(L,T[L]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const q of T.keys())v.set(q,T.get(q));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(v.keys()).find(q=>q.toLowerCase()=="content-type"),L=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call(Ko,m,void 0)>=0)||T||L||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[q,nt]of v)this.g.setRequestHeader(q,nt);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(q){zs(this,q)}};function zs(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,Xo(u),Zi(u)}function Xo(u){u.A||(u.A=!0,_e(u,"complete"),_e(u,"error"))}s.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,_e(this,"complete"),_e(this,"abort"),Zi(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Zi(this,!0)),ne.Z.N.call(this)},s.Ca=function(){this.u||(this.B||this.v||this.j?js(this):this.Xa())},s.Xa=function(){js(this)};function js(u){if(u.h&&typeof c<"u"){if(u.v&&mi(u)==4)setTimeout(u.Ca.bind(u),0);else if(_e(u,"readystatechange"),mi(u)==4){u.h=!1;try{const q=u.ca();t:switch(q){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var v;if(!(v=m)){var T;if(T=q===0){let nt=String(u.D).match(bn)[1]||null;!nt&&d.self&&d.self.location&&(nt=d.self.location.protocol.slice(0,-1)),T=!Ni.test(nt?nt.toLowerCase():"")}v=T}if(v)_e(u,"complete"),_e(u,"success");else{u.o=6;try{var L=mi(u)>2?u.g.statusText:""}catch{L=""}u.l=L+" ["+u.ca()+"]",Xo(u)}}finally{Zi(u)}}}}function Zi(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const v=u.g;u.g=null,m||_e(u,"ready");try{v.onreadystatechange=null}catch{}}}s.isActive=function(){return!!this.g};function mi(u){return u.g?u.g.readyState:0}s.ca=function(){try{return mi(this)>2?this.g.status:-1}catch{return-1}},s.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),Ea(m)}};function We(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Ji(u){const m={};u=(u.g&&mi(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<u.length;T++){if(w(u[T]))continue;var v=Sa(u[T]);const L=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const q=m[L]||[];m[L]=q,q.push(v)}Yt(m,function(T){return T.join(", ")})}s.ya=function(){return this.o},s.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Di(u,m,v){return v&&v.internalChannelParams&&v.internalChannelParams[u]||m}function Ur(u){this.za=0,this.i=[],this.j=new Vn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Di("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Di("baseRetryDelayMs",5e3,u),this.Za=Di("retryDelaySeedMs",1e4,u),this.Ta=Di("forwardChannelMaxRetries",2,u),this.va=Di("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new V(u&&u.concurrentRequestLimit),this.Ba=new Vr,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}s=Ur.prototype,s.ka=8,s.I=1,s.connect=function(u,m,v,T){Te(0),this.W=u,this.H=m||{},v&&T!==void 0&&(this.H.OSID=v,this.H.OAID=T),this.F=this.X,this.J=Du(this,null,this.W),xi(this)};function $o(u){if(xa(u),u.I==3){var m=u.V++,v=Se(u.J);if(Jt(v,"SID",u.M),Jt(v,"RID",m),Jt(v,"TYPE","terminate"),Bs(u,v),m=new kn(u,u.j,m),m.M=2,m.A=ks(Se(v)),v=!1,d.navigator&&d.navigator.sendBeacon)try{v=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!v&&d.Image&&(new Image().src=m.A,v=!0),v||(m.g=xu(m.j,null),m.g.ea(m.A)),m.F=Date.now(),ke(m)}Nu(u)}function Lr(u){u.g&&(Jo(u),u.g.cancel(),u.g=null)}function xa(u){Lr(u),u.v&&(d.clearTimeout(u.v),u.v=null),Oa(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function xi(u){if(!J(u.h)&&!u.m){u.m=!0;var m=u.Ea;ee||S(),Ot||(ee(),Ot=!0),C.add(m,u),u.D=0}}function Ma(u,m){return W(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=Kn(_(u.Ea,u,m),Cu(u,u.D)),u.D++,!0)}s.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const L=new kn(this,this.j,u);let q=this.o;if(this.U&&(q?(q=x(q),st(q,this.U)):q=this.U),this.u!==null||this.R||(L.J=q,q=null),this.S)t:{for(var m=0,v=0;v<this.i.length;v++){e:{var T=this.i[v];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break e}T=void 0}if(T===void 0)break;if(m+=T,m>4096){m=v;break t}if(m===4096||v===this.i.length-1){m=v+1;break t}}m=1e3}else m=1e3;m=Su(this,L,m),v=Se(this.J),Jt(v,"RID",u),Jt(v,"CVER",22),this.G&&Jt(v,"X-HTTP-Session-Id",this.G),Bs(this,v),q&&(this.R?m="headers="+$n(Wn(q))+"&"+m:this.u&&Ps(v,this.u,q)),bt(this.h,L),this.Ra&&Jt(v,"TYPE","init"),this.S?(Jt(v,"$req",m),Jt(v,"SID","null"),L.U=!0,Zn(L,v,null)):Zn(L,v,m),this.I=2}}else this.I==3&&(u?Zo(this,u):this.i.length==0||J(this.h)||Zo(this))};function Zo(u,m){var v;m?v=m.l:v=u.V++;const T=Se(u.J);Jt(T,"SID",u.M),Jt(T,"RID",v),Jt(T,"AID",u.K),Bs(u,T),u.u&&u.o&&Ps(T,u.u,u.o),v=new kn(u,u.j,v,u.D+1),u.u===null&&(v.J=u.o),m&&(u.i=m.G.concat(u.i)),m=Su(u,v,1e3),v.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),bt(u.h,v),Zn(v,T,m)}function Bs(u,m){u.H&&Vt(u.H,function(v,T){Jt(m,T,v)}),u.l&&Vt({},function(v,T){Jt(m,T,v)})}function Su(u,m,v){v=Math.min(u.i.length,v);const T=u.l?_(u.l.Ka,u.l,u):null;t:{var L=u.i;let Ct=-1;for(;;){const Ce=["count="+v];Ct==-1?v>0?(Ct=L[0].g,Ce.push("ofs="+Ct)):Ct=0:Ce.push("ofs="+Ct);let Kt=!0;for(let ge=0;ge<v;ge++){var q=L[ge].g;const ti=L[ge].map;if(q-=Ct,q<0)Ct=Math.max(0,L[ge].g-100),Kt=!1;else try{q="req"+q+"_"||"";try{var nt=ti instanceof Map?ti:Object.entries(ti);for(const[Oi,gi]of nt){let pi=gi;p(gi)&&(pi=gn(gi)),Ce.push(q+Oi+"="+encodeURIComponent(pi))}}catch(Oi){throw Ce.push(q+"type="+encodeURIComponent("_badmap")),Oi}}catch{T&&T(ti)}}if(Kt){nt=Ce.join("&");break t}}nt=void 0}return u=u.i.splice(0,v),m.G=u,nt}function wu(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;ee||S(),Ot||(ee(),Ot=!0),C.add(m,u),u.A=0}}function qs(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=Kn(_(u.Da,u),Cu(u,u.A)),u.A++,!0)}s.Da=function(){if(this.v=null,Ru(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=Kn(_(this.Wa,this),u)}},s.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Te(10),Lr(this),Ru(this))};function Jo(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function Ru(u){u.g=new kn(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=Se(u.na);Jt(m,"RID","rpc"),Jt(m,"SID",u.M),Jt(m,"AID",u.K),Jt(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&Jt(m,"TO",u.ia),Jt(m,"TYPE","xmlhttp"),Bs(u,m),u.u&&u.o&&Ps(m,u.u,u.o),u.O&&(u.g.H=u.O);var v=u.g;u=u.ba,v.M=1,v.A=ks(Se(m)),v.u=null,v.R=!0,Nr(v,u)}s.Va=function(){this.C!=null&&(this.C=null,Lr(this),qs(this),Te(19))};function Oa(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function Iu(u,m){var v=null;if(u.g==m){Oa(u),Jo(u),u.g=null;var T=2}else if(ft(u.h,m))v=m.G,me(u.h,m),T=1;else return;if(u.I!=0){if(m.o)if(T==1){v=m.u?m.u.length:0,m=Date.now()-m.F;var L=u.D;T=Yi(),_e(T,new On(T,v)),xi(u)}else wu(u);else if(L=m.m,L==3||L==0&&m.X>0||!(T==1&&Ma(u,m)||T==2&&qs(u)))switch(v&&v.length>0&&(m=u.h,m.i=m.i.concat(v)),L){case 1:Mi(u,5);break;case 4:Mi(u,10);break;case 3:Mi(u,6);break;default:Mi(u,2)}}}function Cu(u,m){let v=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(v*=2),v*m}function Mi(u,m){if(u.j.info("Error code "+m),m==2){var v=_(u.bb,u),T=u.Ua;const L=!T;T=new Je(T||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Ue(T,"https"),ks(T),L?fi(T.toString(),v):Yo(T.toString(),v)}else Te(2);u.I=0,u.l&&u.l.pa(m),Nu(u),xa(u)}s.bb=function(u){u?(this.j.info("Successfully pinged google.com"),Te(2)):(this.j.info("Failed to ping google.com"),Te(1))};function Nu(u){if(u.I=0,u.ja=[],u.l){const m=Ye(u.h);(m.length!=0||u.i.length!=0)&&(tt(u.ja,m),tt(u.ja,u.i),u.h.i.length=0,F(u.i),u.i.length=0),u.l.oa()}}function Du(u,m,v){var T=v instanceof Je?Se(v):new Je(v);if(T.g!="")m&&(T.g=m+"."+T.g),Dr(T,T.u);else{var L=d.location;T=L.protocol,m=m?m+"."+L.hostname:L.hostname,L=+L.port;const q=new Je(null);T&&Ue(q,T),m&&(q.g=m),L&&Dr(q,L),v&&(q.h=v),T=q}return v=u.G,m=u.wa,v&&m&&Jt(T,v,m),Jt(T,"VER",u.ka),Bs(u,T),T}function xu(u,m,v){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new ne(new Ci({ab:v})):new ne(u.ma),m.Fa(u.L),m}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function Mu(){}s=Mu.prototype,s.ra=function(){},s.qa=function(){},s.pa=function(){},s.oa=function(){},s.isActive=function(){return!0},s.Ka=function(){};function Pr(){}Pr.prototype.g=function(u,m){return new vn(u,m)};function vn(u,m){de.call(this),this.g=new Ur(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!w(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!w(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Wi(this)}A(vn,de),vn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},vn.prototype.close=function(){$o(this.g)},vn.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var v={};v.__data__=u,u=v}else this.v&&(v={},v.__data__=gn(u),u=v);m.i.push(new Ae(m.Ya++,u)),m.I==3&&xi(m)},vn.prototype.N=function(){this.g.l=null,delete this.j,$o(this.g),delete this.g,vn.Z.N.call(this)};function Ou(u){Oe.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){t:{for(const v in m){u=v;break t}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}A(Ou,Oe);function Vu(){pn.call(this),this.status=1}A(Vu,pn);function Wi(u){this.g=u}A(Wi,Mu),Wi.prototype.ra=function(){_e(this.g,"a")},Wi.prototype.qa=function(u){_e(this.g,new Ou(u))},Wi.prototype.pa=function(u){_e(this.g,new Vu)},Wi.prototype.oa=function(){_e(this.g,"b")},Pr.prototype.createWebChannel=Pr.prototype.g,vn.prototype.send=vn.prototype.o,vn.prototype.open=vn.prototype.m,vn.prototype.close=vn.prototype.close,j1=function(){return new Pr},z1=function(){return Yi()},P1=ve,gm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Ri.NO_ERROR=0,Ri.TIMEOUT=8,Ri.HTTP_ERROR=6,Zc=Ri,Cr.COMPLETE="complete",L1=Cr,ba.EventType=Ie,Ie.OPEN="a",Ie.CLOSE="b",Ie.ERROR="c",Ie.MESSAGE="d",de.prototype.listen=de.prototype.J,zl=ba,ne.prototype.listenOnce=ne.prototype.K,ne.prototype.getLastError=ne.prototype.Ha,ne.prototype.getLastErrorCode=ne.prototype.ya,ne.prototype.getStatus=ne.prototype.ca,ne.prototype.getResponseJson=ne.prototype.La,ne.prototype.getResponseText=ne.prototype.la,ne.prototype.send=ne.prototype.ea,ne.prototype.setWithCredentials=ne.prototype.Fa,U1=ne}).apply(typeof zc<"u"?zc:typeof self<"u"?self:typeof window<"u"?window:{});const k0="@firebase/firestore",U0="4.9.2";let fn=class{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}};fn.UNAUTHENTICATED=new fn(null),fn.GOOGLE_CREDENTIALS=new fn("google-credentials-uid"),fn.FIRST_PARTY=new fn("first-party-uid"),fn.MOCK_USER=new fn("mock-user");let Uo="12.3.0";const ma=new Pm("@firebase/firestore");function fo(){return ma.logLevel}function lt(s,...t){if(ma.logLevel<=Lt.DEBUG){const i=t.map(Xm);ma.debug(`Firestore (${Uo}): ${s}`,...i)}}function Ar(s,...t){if(ma.logLevel<=Lt.ERROR){const i=t.map(Xm);ma.error(`Firestore (${Uo}): ${s}`,...i)}}function Ro(s,...t){if(ma.logLevel<=Lt.WARN){const i=t.map(Xm);ma.warn(`Firestore (${Uo}): ${s}`,...i)}}function Xm(s){if(typeof s=="string")return s;try{return(function(i){return JSON.stringify(i)})(s)}catch{return s}}function Et(s,t,i){let a="Unexpected state";typeof t=="string"?a=t:i=t,B1(s,a,i)}function B1(s,t,i){let a=`FIRESTORE (${Uo}) INTERNAL ASSERTION FAILED: ${t} (ID: ${s.toString(16)})`;if(i!==void 0)try{a+=" CONTEXT: "+JSON.stringify(i)}catch{a+=" CONTEXT: "+i}throw Ar(a),new Error(a)}function Zt(s,t,i,a){let l="Unexpected state";typeof i=="string"?l=i:a=i,s||B1(t,l,a)}function Rt(s,t){return s}const $={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ut extends wr{constructor(t,i){super(t,i),this.code=t,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class ua{constructor(){this.promise=new Promise(((t,i)=>{this.resolve=t,this.reject=i}))}}class q1{constructor(t,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class jw{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,i){t.enqueueRetryable((()=>i(fn.UNAUTHENTICATED)))}shutdown(){}}class Bw{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,i){this.changeListener=i,t.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class qw{constructor(t){this.t=t,this.currentUser=fn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,i){Zt(this.o===void 0,42304);let a=this.i;const l=y=>this.i!==a?(a=this.i,i(y)):Promise.resolve();let c=new ua;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new ua,t.enqueueRetryable((()=>l(this.currentUser)))};const d=()=>{const y=c;t.enqueueRetryable((async()=>{await y.promise,await l(this.currentUser)}))},p=y=>{lt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=y,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((y=>p(y))),setTimeout((()=>{if(!this.auth){const y=this.t.getImmediate({optional:!0});y?p(y):(lt("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new ua)}}),0),d()}getToken(){const t=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((a=>this.i!==t?(lt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(Zt(typeof a.accessToken=="string",31837,{l:a}),new q1(a.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Zt(t===null||typeof t=="string",2055,{h:t}),new fn(t)}}class Hw{constructor(t,i,a){this.P=t,this.T=i,this.I=a,this.type="FirstParty",this.user=fn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class Fw{constructor(t,i,a){this.P=t,this.T=i,this.I=a}getToken(){return Promise.resolve(new Hw(this.P,this.T,this.I))}start(t,i){t.enqueueRetryable((()=>i(fn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class L0{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Gw{constructor(t,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,ui(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,i){Zt(this.o===void 0,3512);const a=c=>{c.error!=null&&lt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.m;return this.m=c.token,lt("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(c.token):Promise.resolve()};this.o=c=>{t.enqueueRetryable((()=>a(c)))};const l=c=>{lt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>l(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?l(c):lt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new L0(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((i=>i?(Zt(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new L0(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function Qw(s){const t=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(s);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(i);else for(let a=0;a<s;a++)i[a]=Math.floor(256*Math.random());return i}class $m{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const l=Qw(40);for(let c=0;c<l.length;++c)a.length<20&&l[c]<i&&(a+=t.charAt(l[c]%62))}return a}}function Pt(s,t){return s<t?-1:s>t?1:0}function pm(s,t){const i=Math.min(s.length,t.length);for(let a=0;a<i;a++){const l=s.charAt(a),c=t.charAt(a);if(l!==c)return Jd(l)===Jd(c)?Pt(l,c):Jd(l)?1:-1}return Pt(s.length,t.length)}const Yw=55296,Kw=57343;function Jd(s){const t=s.charCodeAt(0);return t>=Yw&&t<=Kw}function Io(s,t,i){return s.length===t.length&&s.every(((a,l)=>i(a,t[l])))}const P0="__name__";class Pi{constructor(t,i,a){i===void 0?i=0:i>t.length&&Et(637,{offset:i,range:t.length}),a===void 0?a=t.length-i:a>t.length-i&&Et(1746,{length:a,range:t.length-i}),this.segments=t,this.offset=i,this.len=a}get length(){return this.len}isEqual(t){return Pi.comparator(this,t)===0}child(t){const i=this.segments.slice(this.offset,this.limit());return t instanceof Pi?t.forEach((a=>{i.push(a)})):i.push(t),this.construct(i)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}forEach(t){for(let i=this.offset,a=this.limit();i<a;i++)t(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,i){const a=Math.min(t.length,i.length);for(let l=0;l<a;l++){const c=Pi.compareSegments(t.get(l),i.get(l));if(c!==0)return c}return Pt(t.length,i.length)}static compareSegments(t,i){const a=Pi.isNumericId(t),l=Pi.isNumericId(i);return a&&!l?-1:!a&&l?1:a&&l?Pi.extractNumericId(t).compare(Pi.extractNumericId(i)):pm(t,i)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return ps.fromString(t.substring(4,t.length-2))}}class oe extends Pi{construct(t,i,a){return new oe(t,i,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const i=[];for(const a of t){if(a.indexOf("//")>=0)throw new ut($.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);i.push(...a.split("/").filter((l=>l.length>0)))}return new oe(i)}static emptyPath(){return new oe([])}}const Xw=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class an extends Pi{construct(t,i,a){return new an(t,i,a)}static isValidIdentifier(t){return Xw.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),an.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===P0}static keyField(){return new an([P0])}static fromServerFormat(t){const i=[];let a="",l=0;const c=()=>{if(a.length===0)throw new ut($.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(a),a=""};let d=!1;for(;l<t.length;){const p=t[l];if(p==="\\"){if(l+1===t.length)throw new ut($.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const y=t[l+1];if(y!=="\\"&&y!=="."&&y!=="`")throw new ut($.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);a+=y,l+=2}else p==="`"?(d=!d,l++):p!=="."||d?(a+=p,l++):(c(),l++)}if(c(),d)throw new ut($.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new an(i)}static emptyPath(){return new an([])}}class gt{constructor(t){this.path=t}static fromPath(t){return new gt(oe.fromString(t))}static fromName(t){return new gt(oe.fromString(t).popFirst(5))}static empty(){return new gt(oe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&oe.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,i){return oe.comparator(t.path,i.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new gt(new oe(t.slice()))}}function H1(s,t,i){if(!i)throw new ut($.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${t}.`)}function $w(s,t,i,a){if(t===!0&&a===!0)throw new ut($.INVALID_ARGUMENT,`${s} and ${i} cannot be used together.`)}function z0(s){if(!gt.isDocumentKey(s))throw new ut($.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function j0(s){if(gt.isDocumentKey(s))throw new ut($.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${s} has ${s.length}.`)}function F1(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}function Nh(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const t=(function(a){return a.constructor?a.constructor.name:null})(s);return t?`a custom ${t} object`:"an object"}}return typeof s=="function"?"a function":Et(12329,{type:typeof s})}function ys(s,t){if("_delegate"in s&&(s=s._delegate),!(s instanceof t)){if(t.name===s.constructor.name)throw new ut($.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=Nh(s);throw new ut($.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${i}`)}}return s}function He(s,t){const i={typeString:s};return t&&(i.value=t),i}function du(s,t){if(!F1(s))throw new ut($.INVALID_ARGUMENT,"JSON must be an object");let i;for(const a in t)if(t[a]){const l=t[a].typeString,c="value"in t[a]?{value:t[a].value}:void 0;if(!(a in s)){i=`JSON missing required field: '${a}'`;break}const d=s[a];if(l&&typeof d!==l){i=`JSON field '${a}' must be a ${l}.`;break}if(c!==void 0&&d!==c.value){i=`Expected '${a}' field to equal '${c.value}'`;break}}if(i)throw new ut($.INVALID_ARGUMENT,i);return!0}const B0=-62135596800,q0=1e6;class he{static now(){return he.fromMillis(Date.now())}static fromDate(t){return he.fromMillis(t.getTime())}static fromMillis(t){const i=Math.floor(t/1e3),a=Math.floor((t-1e3*i)*q0);return new he(i,a)}constructor(t,i){if(this.seconds=t,this.nanoseconds=i,i<0)throw new ut($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new ut($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(t<B0)throw new ut($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new ut($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/q0}_compareTo(t){return this.seconds===t.seconds?Pt(this.nanoseconds,t.nanoseconds):Pt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:he._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(du(t,he._jsonSchema))return new he(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-B0;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}he._jsonSchemaVersion="firestore/timestamp/1.0",he._jsonSchema={type:He("string",he._jsonSchemaVersion),seconds:He("number"),nanoseconds:He("number")};class St{static fromTimestamp(t){return new St(t)}static min(){return new St(new he(0,0))}static max(){return new St(new he(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Jl=-1;function Zw(s,t){const i=s.toTimestamp().seconds,a=s.toTimestamp().nanoseconds+1,l=St.fromTimestamp(a===1e9?new he(i+1,0):new he(i,a));return new vs(l,gt.empty(),t)}function Jw(s){return new vs(s.readTime,s.key,Jl)}class vs{constructor(t,i,a){this.readTime=t,this.documentKey=i,this.largestBatchId=a}static min(){return new vs(St.min(),gt.empty(),Jl)}static max(){return new vs(St.max(),gt.empty(),Jl)}}function Ww(s,t){let i=s.readTime.compareTo(t.readTime);return i!==0?i:(i=gt.comparator(s.documentKey,t.documentKey),i!==0?i:Pt(s.largestBatchId,t.largestBatchId))}const tR="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class eR{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}async function Lo(s){if(s.code!==$.FAILED_PRECONDITION||s.message!==tR)throw s;lt("LocalStore","Unexpectedly lost primary lease")}class Z{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(t){return this.next(void 0,t)}next(t,i){return this.callbackAttached&&Et(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(t,this.result):new Z(((a,l)=>{this.nextCallback=c=>{this.wrapSuccess(t,c).next(a,l)},this.catchCallback=c=>{this.wrapFailure(i,c).next(a,l)}}))}toPromise(){return new Promise(((t,i)=>{this.next(t,i)}))}wrapUserFunction(t){try{const i=t();return i instanceof Z?i:Z.resolve(i)}catch(i){return Z.reject(i)}}wrapSuccess(t,i){return t?this.wrapUserFunction((()=>t(i))):Z.resolve(i)}wrapFailure(t,i){return t?this.wrapUserFunction((()=>t(i))):Z.reject(i)}static resolve(t){return new Z(((i,a)=>{i(t)}))}static reject(t){return new Z(((i,a)=>{a(t)}))}static waitFor(t){return new Z(((i,a)=>{let l=0,c=0,d=!1;t.forEach((p=>{++l,p.next((()=>{++c,d&&c===l&&i()}),(y=>a(y)))})),d=!0,c===l&&i()}))}static or(t){let i=Z.resolve(!1);for(const a of t)i=i.next((l=>l?Z.resolve(l):a()));return i}static forEach(t,i){const a=[];return t.forEach(((l,c)=>{a.push(i.call(this,l,c))})),this.waitFor(a)}static mapArray(t,i){return new Z(((a,l)=>{const c=t.length,d=new Array(c);let p=0;for(let y=0;y<c;y++){const _=y;i(t[_]).next((b=>{d[_]=b,++p,p===c&&a(d)}),(b=>l(b)))}}))}static doWhile(t,i){return new Z(((a,l)=>{const c=()=>{t()===!0?i().next((()=>{c()}),l):a()};c()}))}}function nR(s){const t=s.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function Po(s){return s.name==="IndexedDbTransactionError"}class Dh{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=a=>this.ae(a),this.ue=a=>i.writeSequenceNumber(a))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}Dh.ce=-1;const Zm=-1;function xh(s){return s==null}function dh(s){return s===0&&1/s==-1/0}function iR(s){return typeof s=="number"&&Number.isInteger(s)&&!dh(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}const G1="";function rR(s){let t="";for(let i=0;i<s.length;i++)t.length>0&&(t=H0(t)),t=sR(s.get(i),t);return H0(t)}function sR(s,t){let i=t;const a=s.length;for(let l=0;l<a;l++){const c=s.charAt(l);switch(c){case"\0":i+="";break;case G1:i+="";break;default:i+=c}}return i}function H0(s){return s+G1+""}function F0(s){let t=0;for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&t++;return t}function ws(s,t){for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&t(i,s[i])}function Q1(s){for(const t in s)if(Object.prototype.hasOwnProperty.call(s,t))return!1;return!0}class Ee{constructor(t,i){this.comparator=t,this.root=i||sn.EMPTY}insert(t,i){return new Ee(this.comparator,this.root.insert(t,i,this.comparator).copy(null,null,sn.BLACK,null,null))}remove(t){return new Ee(this.comparator,this.root.remove(t,this.comparator).copy(null,null,sn.BLACK,null,null))}get(t){let i=this.root;for(;!i.isEmpty();){const a=this.comparator(t,i.key);if(a===0)return i.value;a<0?i=i.left:a>0&&(i=i.right)}return null}indexOf(t){let i=0,a=this.root;for(;!a.isEmpty();){const l=this.comparator(t,a.key);if(l===0)return i+a.left.size;l<0?a=a.left:(i+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((i,a)=>(t(i,a),!1)))}toString(){const t=[];return this.inorderTraversal(((i,a)=>(t.push(`${i}:${a}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new jc(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new jc(this.root,t,this.comparator,!1)}getReverseIterator(){return new jc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new jc(this.root,t,this.comparator,!0)}}class jc{constructor(t,i,a,l){this.isReverse=l,this.nodeStack=[];let c=1;for(;!t.isEmpty();)if(c=i?a(t.key,i):1,i&&l&&(c*=-1),c<0)t=this.isReverse?t.left:t.right;else{if(c===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const i={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class sn{constructor(t,i,a,l,c){this.key=t,this.value=i,this.color=a??sn.RED,this.left=l??sn.EMPTY,this.right=c??sn.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,i,a,l,c){return new sn(t??this.key,i??this.value,a??this.color,l??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,a){let l=this;const c=a(t,l.key);return l=c<0?l.copy(null,null,null,l.left.insert(t,i,a),null):c===0?l.copy(null,i,null,null,null):l.copy(null,null,null,null,l.right.insert(t,i,a)),l.fixUp()}removeMin(){if(this.left.isEmpty())return sn.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,i){let a,l=this;if(i(t,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(t,i),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),i(t,l.key)===0){if(l.right.isEmpty())return sn.EMPTY;a=l.right.min(),l=l.copy(a.key,a.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(t,i))}return l.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,sn.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,sn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Et(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Et(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw Et(27949);return t+(this.isRed()?0:1)}}sn.EMPTY=null,sn.RED=!0,sn.BLACK=!1;sn.EMPTY=new class{constructor(){this.size=0}get key(){throw Et(57766)}get value(){throw Et(16141)}get color(){throw Et(16727)}get left(){throw Et(29726)}get right(){throw Et(36894)}copy(t,i,a,l,c){return this}insert(t,i,a){return new sn(t,i)}remove(t,i){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Qe{constructor(t){this.comparator=t,this.data=new Ee(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((i,a)=>(t(i),!1)))}forEachInRange(t,i){const a=this.data.getIteratorFrom(t[0]);for(;a.hasNext();){const l=a.getNext();if(this.comparator(l.key,t[1])>=0)return;i(l.key)}}forEachWhile(t,i){let a;for(a=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();a.hasNext();)if(!t(a.getNext().key))return}firstAfterOrEqual(t){const i=this.data.getIteratorFrom(t);return i.hasNext()?i.getNext().key:null}getIterator(){return new G0(this.data.getIterator())}getIteratorFrom(t){return new G0(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let i=this;return i.size<t.size&&(i=t,t=this),t.forEach((a=>{i=i.add(a)})),i}isEqual(t){if(!(t instanceof Qe)||this.size!==t.size)return!1;const i=this.data.getIterator(),a=t.data.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=a.getNext().key;if(this.comparator(l,c)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((i=>{t.push(i)})),t}toString(){const t=[];return this.forEach((i=>t.push(i))),"SortedSet("+t.toString()+")"}copy(t){const i=new Qe(this.comparator);return i.data=t,i}}class G0{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Qn{constructor(t){this.fields=t,t.sort(an.comparator)}static empty(){return new Qn([])}unionWith(t){let i=new Qe(an.comparator);for(const a of this.fields)i=i.add(a);for(const a of t)i=i.add(a);return new Qn(i.toArray())}covers(t){for(const i of this.fields)if(i.isPrefixOf(t))return!0;return!1}isEqual(t){return Io(this.fields,t.fields,((i,a)=>i.isEqual(a)))}}class Y1 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class ln{constructor(t){this.binaryString=t}static fromBase64String(t){const i=(function(l){try{return atob(l)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new Y1("Invalid base64 string: "+c):c}})(t);return new ln(i)}static fromUint8Array(t){const i=(function(l){let c="";for(let d=0;d<l.length;++d)c+=String.fromCharCode(l[d]);return c})(t);return new ln(i)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const a=new Uint8Array(i.length);for(let l=0;l<i.length;l++)a[l]=i.charCodeAt(l);return a})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Pt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}ln.EMPTY_BYTE_STRING=new ln("");const aR=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Es(s){if(Zt(!!s,39018),typeof s=="string"){let t=0;const i=aR.exec(s);if(Zt(!!i,46558,{timestamp:s}),i[1]){let l=i[1];l=(l+"000000000").substr(0,9),t=Number(l)}const a=new Date(s);return{seconds:Math.floor(a.getTime()/1e3),nanos:t}}return{seconds:xe(s.seconds),nanos:xe(s.nanos)}}function xe(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function Ts(s){return typeof s=="string"?ln.fromBase64String(s):ln.fromUint8Array(s)}const K1="server_timestamp",X1="__type__",$1="__previous_value__",Z1="__local_write_time__";function Jm(s){return(s?.mapValue?.fields||{})[X1]?.stringValue===K1}function Mh(s){const t=s.mapValue.fields[$1];return Jm(t)?Mh(t):t}function Wl(s){const t=Es(s.mapValue.fields[Z1].timestampValue);return new he(t.seconds,t.nanos)}class oR{constructor(t,i,a,l,c,d,p,y,_,b){this.databaseId=t,this.appId=i,this.persistenceKey=a,this.host=l,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=p,this.longPollingOptions=y,this.useFetchStreams=_,this.isUsingEmulator=b}}const mh="(default)";class tu{constructor(t,i){this.projectId=t,this.database=i||mh}static empty(){return new tu("","")}get isDefaultDatabase(){return this.database===mh}isEqual(t){return t instanceof tu&&t.projectId===this.projectId&&t.database===this.database}}const J1="__type__",lR="__max__",Bc={mapValue:{}},W1="__vector__",gh="value";function bs(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?Jm(s)?4:cR(s)?9007199254740991:uR(s)?10:11:Et(28295,{value:s})}function Gi(s,t){if(s===t)return!0;const i=bs(s);if(i!==bs(t))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===t.booleanValue;case 4:return Wl(s).isEqual(Wl(t));case 3:return(function(l,c){if(typeof l.timestampValue=="string"&&typeof c.timestampValue=="string"&&l.timestampValue.length===c.timestampValue.length)return l.timestampValue===c.timestampValue;const d=Es(l.timestampValue),p=Es(c.timestampValue);return d.seconds===p.seconds&&d.nanos===p.nanos})(s,t);case 5:return s.stringValue===t.stringValue;case 6:return(function(l,c){return Ts(l.bytesValue).isEqual(Ts(c.bytesValue))})(s,t);case 7:return s.referenceValue===t.referenceValue;case 8:return(function(l,c){return xe(l.geoPointValue.latitude)===xe(c.geoPointValue.latitude)&&xe(l.geoPointValue.longitude)===xe(c.geoPointValue.longitude)})(s,t);case 2:return(function(l,c){if("integerValue"in l&&"integerValue"in c)return xe(l.integerValue)===xe(c.integerValue);if("doubleValue"in l&&"doubleValue"in c){const d=xe(l.doubleValue),p=xe(c.doubleValue);return d===p?dh(d)===dh(p):isNaN(d)&&isNaN(p)}return!1})(s,t);case 9:return Io(s.arrayValue.values||[],t.arrayValue.values||[],Gi);case 10:case 11:return(function(l,c){const d=l.mapValue.fields||{},p=c.mapValue.fields||{};if(F0(d)!==F0(p))return!1;for(const y in d)if(d.hasOwnProperty(y)&&(p[y]===void 0||!Gi(d[y],p[y])))return!1;return!0})(s,t);default:return Et(52216,{left:s})}}function eu(s,t){return(s.values||[]).find((i=>Gi(i,t)))!==void 0}function Co(s,t){if(s===t)return 0;const i=bs(s),a=bs(t);if(i!==a)return Pt(i,a);switch(i){case 0:case 9007199254740991:return 0;case 1:return Pt(s.booleanValue,t.booleanValue);case 2:return(function(c,d){const p=xe(c.integerValue||c.doubleValue),y=xe(d.integerValue||d.doubleValue);return p<y?-1:p>y?1:p===y?0:isNaN(p)?isNaN(y)?0:-1:1})(s,t);case 3:return Q0(s.timestampValue,t.timestampValue);case 4:return Q0(Wl(s),Wl(t));case 5:return pm(s.stringValue,t.stringValue);case 6:return(function(c,d){const p=Ts(c),y=Ts(d);return p.compareTo(y)})(s.bytesValue,t.bytesValue);case 7:return(function(c,d){const p=c.split("/"),y=d.split("/");for(let _=0;_<p.length&&_<y.length;_++){const b=Pt(p[_],y[_]);if(b!==0)return b}return Pt(p.length,y.length)})(s.referenceValue,t.referenceValue);case 8:return(function(c,d){const p=Pt(xe(c.latitude),xe(d.latitude));return p!==0?p:Pt(xe(c.longitude),xe(d.longitude))})(s.geoPointValue,t.geoPointValue);case 9:return Y0(s.arrayValue,t.arrayValue);case 10:return(function(c,d){const p=c.fields||{},y=d.fields||{},_=p[gh]?.arrayValue,b=y[gh]?.arrayValue,A=Pt(_?.values?.length||0,b?.values?.length||0);return A!==0?A:Y0(_,b)})(s.mapValue,t.mapValue);case 11:return(function(c,d){if(c===Bc.mapValue&&d===Bc.mapValue)return 0;if(c===Bc.mapValue)return 1;if(d===Bc.mapValue)return-1;const p=c.fields||{},y=Object.keys(p),_=d.fields||{},b=Object.keys(_);y.sort(),b.sort();for(let A=0;A<y.length&&A<b.length;++A){const M=pm(y[A],b[A]);if(M!==0)return M;const F=Co(p[y[A]],_[b[A]]);if(F!==0)return F}return Pt(y.length,b.length)})(s.mapValue,t.mapValue);default:throw Et(23264,{he:i})}}function Q0(s,t){if(typeof s=="string"&&typeof t=="string"&&s.length===t.length)return Pt(s,t);const i=Es(s),a=Es(t),l=Pt(i.seconds,a.seconds);return l!==0?l:Pt(i.nanos,a.nanos)}function Y0(s,t){const i=s.values||[],a=t.values||[];for(let l=0;l<i.length&&l<a.length;++l){const c=Co(i[l],a[l]);if(c)return c}return Pt(i.length,a.length)}function No(s){return ym(s)}function ym(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?(function(i){const a=Es(i);return`time(${a.seconds},${a.nanos})`})(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?(function(i){return Ts(i).toBase64()})(s.bytesValue):"referenceValue"in s?(function(i){return gt.fromName(i).toString()})(s.referenceValue):"geoPointValue"in s?(function(i){return`geo(${i.latitude},${i.longitude})`})(s.geoPointValue):"arrayValue"in s?(function(i){let a="[",l=!0;for(const c of i.values||[])l?l=!1:a+=",",a+=ym(c);return a+"]"})(s.arrayValue):"mapValue"in s?(function(i){const a=Object.keys(i.fields||{}).sort();let l="{",c=!0;for(const d of a)c?c=!1:l+=",",l+=`${d}:${ym(i.fields[d])}`;return l+"}"})(s.mapValue):Et(61005,{value:s})}function Jc(s){switch(bs(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=Mh(s);return t?16+Jc(t):16;case 5:return 2*s.stringValue.length;case 6:return Ts(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return(function(a){return(a.values||[]).reduce(((l,c)=>l+Jc(c)),0)})(s.arrayValue);case 10:case 11:return(function(a){let l=0;return ws(a.fields,((c,d)=>{l+=c.length+Jc(d)})),l})(s.mapValue);default:throw Et(13486,{value:s})}}function K0(s,t){return{referenceValue:`projects/${s.projectId}/databases/${s.database}/documents/${t.path.canonicalString()}`}}function _m(s){return!!s&&"integerValue"in s}function Wm(s){return!!s&&"arrayValue"in s}function X0(s){return!!s&&"nullValue"in s}function $0(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function Wc(s){return!!s&&"mapValue"in s}function uR(s){return(s?.mapValue?.fields||{})[J1]?.stringValue===W1}function Ql(s){if(s.geoPointValue)return{geoPointValue:{...s.geoPointValue}};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:{...s.timestampValue}};if(s.mapValue){const t={mapValue:{fields:{}}};return ws(s.mapValue.fields,((i,a)=>t.mapValue.fields[i]=Ql(a))),t}if(s.arrayValue){const t={arrayValue:{values:[]}};for(let i=0;i<(s.arrayValue.values||[]).length;++i)t.arrayValue.values[i]=Ql(s.arrayValue.values[i]);return t}return{...s}}function cR(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===lR}class xn{constructor(t){this.value=t}static empty(){return new xn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let i=this.value;for(let a=0;a<t.length-1;++a)if(i=(i.mapValue.fields||{})[t.get(a)],!Wc(i))return null;return i=(i.mapValue.fields||{})[t.lastSegment()],i||null}}set(t,i){this.getFieldsMap(t.popLast())[t.lastSegment()]=Ql(i)}setAll(t){let i=an.emptyPath(),a={},l=[];t.forEach(((d,p)=>{if(!i.isImmediateParentOf(p)){const y=this.getFieldsMap(i);this.applyChanges(y,a,l),a={},l=[],i=p.popLast()}d?a[p.lastSegment()]=Ql(d):l.push(p.lastSegment())}));const c=this.getFieldsMap(i);this.applyChanges(c,a,l)}delete(t){const i=this.field(t.popLast());Wc(i)&&i.mapValue.fields&&delete i.mapValue.fields[t.lastSegment()]}isEqual(t){return Gi(this.value,t.value)}getFieldsMap(t){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let a=0;a<t.length;++a){let l=i.mapValue.fields[t.get(a)];Wc(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},i.mapValue.fields[t.get(a)]=l),i=l}return i.mapValue.fields}applyChanges(t,i,a){ws(i,((l,c)=>t[l]=c));for(const l of a)delete t[l]}clone(){return new xn(Ql(this.value))}}function tE(s){const t=[];return ws(s.fields,((i,a)=>{const l=new an([i]);if(Wc(a)){const c=tE(a.mapValue).fields;if(c.length===0)t.push(l);else for(const d of c)t.push(l.child(d))}else t.push(l)})),new Qn(t)}class dn{constructor(t,i,a,l,c,d,p){this.key=t,this.documentType=i,this.version=a,this.readTime=l,this.createTime=c,this.data=d,this.documentState=p}static newInvalidDocument(t){return new dn(t,0,St.min(),St.min(),St.min(),xn.empty(),0)}static newFoundDocument(t,i,a,l){return new dn(t,1,i,St.min(),a,l,0)}static newNoDocument(t,i){return new dn(t,2,i,St.min(),St.min(),xn.empty(),0)}static newUnknownDocument(t,i){return new dn(t,3,i,St.min(),St.min(),xn.empty(),2)}convertToFoundDocument(t,i){return!this.createTime.isEqual(St.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=xn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=xn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=St.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof dn&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new dn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class ph{constructor(t,i){this.position=t,this.inclusive=i}}function Z0(s,t,i){let a=0;for(let l=0;l<s.position.length;l++){const c=t[l],d=s.position[l];if(c.field.isKeyField()?a=gt.comparator(gt.fromName(d.referenceValue),i.key):a=Co(d,i.data.field(c.field)),c.dir==="desc"&&(a*=-1),a!==0)break}return a}function J0(s,t){if(s===null)return t===null;if(t===null||s.inclusive!==t.inclusive||s.position.length!==t.position.length)return!1;for(let i=0;i<s.position.length;i++)if(!Gi(s.position[i],t.position[i]))return!1;return!0}class yh{constructor(t,i="asc"){this.field=t,this.dir=i}}function hR(s,t){return s.dir===t.dir&&s.field.isEqual(t.field)}class eE{}class qe extends eE{constructor(t,i,a){super(),this.field=t,this.op=i,this.value=a}static create(t,i,a){return t.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(t,i,a):new dR(t,i,a):i==="array-contains"?new pR(t,a):i==="in"?new yR(t,a):i==="not-in"?new _R(t,a):i==="array-contains-any"?new vR(t,a):new qe(t,i,a)}static createKeyFieldInFilter(t,i,a){return i==="in"?new mR(t,a):new gR(t,a)}matches(t){const i=t.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(Co(i,this.value)):i!==null&&bs(this.value)===bs(i)&&this.matchesComparison(Co(i,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return Et(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class bi extends eE{constructor(t,i){super(),this.filters=t,this.op=i,this.Pe=null}static create(t,i){return new bi(t,i)}matches(t){return nE(this)?this.filters.find((i=>!i.matches(t)))===void 0:this.filters.find((i=>i.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,i)=>t.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function nE(s){return s.op==="and"}function iE(s){return fR(s)&&nE(s)}function fR(s){for(const t of s.filters)if(t instanceof bi)return!1;return!0}function vm(s){if(s instanceof qe)return s.field.canonicalString()+s.op.toString()+No(s.value);if(iE(s))return s.filters.map((t=>vm(t))).join(",");{const t=s.filters.map((i=>vm(i))).join(",");return`${s.op}(${t})`}}function rE(s,t){return s instanceof qe?(function(a,l){return l instanceof qe&&a.op===l.op&&a.field.isEqual(l.field)&&Gi(a.value,l.value)})(s,t):s instanceof bi?(function(a,l){return l instanceof bi&&a.op===l.op&&a.filters.length===l.filters.length?a.filters.reduce(((c,d,p)=>c&&rE(d,l.filters[p])),!0):!1})(s,t):void Et(19439)}function sE(s){return s instanceof qe?(function(i){return`${i.field.canonicalString()} ${i.op} ${No(i.value)}`})(s):s instanceof bi?(function(i){return i.op.toString()+" {"+i.getFilters().map(sE).join(" ,")+"}"})(s):"Filter"}class dR extends qe{constructor(t,i,a){super(t,i,a),this.key=gt.fromName(a.referenceValue)}matches(t){const i=gt.comparator(t.key,this.key);return this.matchesComparison(i)}}class mR extends qe{constructor(t,i){super(t,"in",i),this.keys=aE("in",i)}matches(t){return this.keys.some((i=>i.isEqual(t.key)))}}class gR extends qe{constructor(t,i){super(t,"not-in",i),this.keys=aE("not-in",i)}matches(t){return!this.keys.some((i=>i.isEqual(t.key)))}}function aE(s,t){return(t.arrayValue?.values||[]).map((i=>gt.fromName(i.referenceValue)))}class pR extends qe{constructor(t,i){super(t,"array-contains",i)}matches(t){const i=t.data.field(this.field);return Wm(i)&&eu(i.arrayValue,this.value)}}class yR extends qe{constructor(t,i){super(t,"in",i)}matches(t){const i=t.data.field(this.field);return i!==null&&eu(this.value.arrayValue,i)}}class _R extends qe{constructor(t,i){super(t,"not-in",i)}matches(t){if(eu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=t.data.field(this.field);return i!==null&&i.nullValue===void 0&&!eu(this.value.arrayValue,i)}}class vR extends qe{constructor(t,i){super(t,"array-contains-any",i)}matches(t){const i=t.data.field(this.field);return!(!Wm(i)||!i.arrayValue.values)&&i.arrayValue.values.some((a=>eu(this.value.arrayValue,a)))}}class ER{constructor(t,i=null,a=[],l=[],c=null,d=null,p=null){this.path=t,this.collectionGroup=i,this.orderBy=a,this.filters=l,this.limit=c,this.startAt=d,this.endAt=p,this.Te=null}}function W0(s,t=null,i=[],a=[],l=null,c=null,d=null){return new ER(s,t,i,a,l,c,d)}function tg(s){const t=Rt(s);if(t.Te===null){let i=t.path.canonicalString();t.collectionGroup!==null&&(i+="|cg:"+t.collectionGroup),i+="|f:",i+=t.filters.map((a=>vm(a))).join(","),i+="|ob:",i+=t.orderBy.map((a=>(function(c){return c.field.canonicalString()+c.dir})(a))).join(","),xh(t.limit)||(i+="|l:",i+=t.limit),t.startAt&&(i+="|lb:",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map((a=>No(a))).join(",")),t.endAt&&(i+="|ub:",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map((a=>No(a))).join(",")),t.Te=i}return t.Te}function eg(s,t){if(s.limit!==t.limit||s.orderBy.length!==t.orderBy.length)return!1;for(let i=0;i<s.orderBy.length;i++)if(!hR(s.orderBy[i],t.orderBy[i]))return!1;if(s.filters.length!==t.filters.length)return!1;for(let i=0;i<s.filters.length;i++)if(!rE(s.filters[i],t.filters[i]))return!1;return s.collectionGroup===t.collectionGroup&&!!s.path.isEqual(t.path)&&!!J0(s.startAt,t.startAt)&&J0(s.endAt,t.endAt)}function Em(s){return gt.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}class mu{constructor(t,i=null,a=[],l=[],c=null,d="F",p=null,y=null){this.path=t,this.collectionGroup=i,this.explicitOrderBy=a,this.filters=l,this.limit=c,this.limitType=d,this.startAt=p,this.endAt=y,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function TR(s,t,i,a,l,c,d,p){return new mu(s,t,i,a,l,c,d,p)}function ng(s){return new mu(s)}function tv(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function oE(s){return s.collectionGroup!==null}function Yl(s){const t=Rt(s);if(t.Ie===null){t.Ie=[];const i=new Set;for(const c of t.explicitOrderBy)t.Ie.push(c),i.add(c.field.canonicalString());const a=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(d){let p=new Qe(an.comparator);return d.filters.forEach((y=>{y.getFlattenedFilters().forEach((_=>{_.isInequality()&&(p=p.add(_.field))}))})),p})(t).forEach((c=>{i.has(c.canonicalString())||c.isKeyField()||t.Ie.push(new yh(c,a))})),i.has(an.keyField().canonicalString())||t.Ie.push(new yh(an.keyField(),a))}return t.Ie}function Bi(s){const t=Rt(s);return t.Ee||(t.Ee=bR(t,Yl(s))),t.Ee}function bR(s,t){if(s.limitType==="F")return W0(s.path,s.collectionGroup,t,s.filters,s.limit,s.startAt,s.endAt);{t=t.map((l=>{const c=l.dir==="desc"?"asc":"desc";return new yh(l.field,c)}));const i=s.endAt?new ph(s.endAt.position,s.endAt.inclusive):null,a=s.startAt?new ph(s.startAt.position,s.startAt.inclusive):null;return W0(s.path,s.collectionGroup,t,s.filters,s.limit,i,a)}}function Tm(s,t){const i=s.filters.concat([t]);return new mu(s.path,s.collectionGroup,s.explicitOrderBy.slice(),i,s.limit,s.limitType,s.startAt,s.endAt)}function bm(s,t,i){return new mu(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),t,i,s.startAt,s.endAt)}function Oh(s,t){return eg(Bi(s),Bi(t))&&s.limitType===t.limitType}function lE(s){return`${tg(Bi(s))}|lt:${s.limitType}`}function mo(s){return`Query(target=${(function(i){let a=i.path.canonicalString();return i.collectionGroup!==null&&(a+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(a+=`, filters: [${i.filters.map((l=>sE(l))).join(", ")}]`),xh(i.limit)||(a+=", limit: "+i.limit),i.orderBy.length>0&&(a+=`, orderBy: [${i.orderBy.map((l=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(l))).join(", ")}]`),i.startAt&&(a+=", startAt: ",a+=i.startAt.inclusive?"b:":"a:",a+=i.startAt.position.map((l=>No(l))).join(",")),i.endAt&&(a+=", endAt: ",a+=i.endAt.inclusive?"a:":"b:",a+=i.endAt.position.map((l=>No(l))).join(",")),`Target(${a})`})(Bi(s))}; limitType=${s.limitType})`}function Vh(s,t){return t.isFoundDocument()&&(function(a,l){const c=l.key.path;return a.collectionGroup!==null?l.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(c):gt.isDocumentKey(a.path)?a.path.isEqual(c):a.path.isImmediateParentOf(c)})(s,t)&&(function(a,l){for(const c of Yl(a))if(!c.field.isKeyField()&&l.data.field(c.field)===null)return!1;return!0})(s,t)&&(function(a,l){for(const c of a.filters)if(!c.matches(l))return!1;return!0})(s,t)&&(function(a,l){return!(a.startAt&&!(function(d,p,y){const _=Z0(d,p,y);return d.inclusive?_<=0:_<0})(a.startAt,Yl(a),l)||a.endAt&&!(function(d,p,y){const _=Z0(d,p,y);return d.inclusive?_>=0:_>0})(a.endAt,Yl(a),l))})(s,t)}function AR(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function uE(s){return(t,i)=>{let a=!1;for(const l of Yl(s)){const c=SR(l,t,i);if(c!==0)return c;a=a||l.field.isKeyField()}return 0}}function SR(s,t,i){const a=s.field.isKeyField()?gt.comparator(t.key,i.key):(function(c,d,p){const y=d.data.field(c),_=p.data.field(c);return y!==null&&_!==null?Co(y,_):Et(42886)})(s.field,t,i);switch(s.dir){case"asc":return a;case"desc":return-1*a;default:return Et(19790,{direction:s.dir})}}class pa{constructor(t,i){this.mapKeyFn=t,this.equalsFn=i,this.inner={},this.innerSize=0}get(t){const i=this.mapKeyFn(t),a=this.inner[i];if(a!==void 0){for(const[l,c]of a)if(this.equalsFn(l,t))return c}}has(t){return this.get(t)!==void 0}set(t,i){const a=this.mapKeyFn(t),l=this.inner[a];if(l===void 0)return this.inner[a]=[[t,i]],void this.innerSize++;for(let c=0;c<l.length;c++)if(this.equalsFn(l[c][0],t))return void(l[c]=[t,i]);l.push([t,i]),this.innerSize++}delete(t){const i=this.mapKeyFn(t),a=this.inner[i];if(a===void 0)return!1;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],t))return a.length===1?delete this.inner[i]:a.splice(l,1),this.innerSize--,!0;return!1}forEach(t){ws(this.inner,((i,a)=>{for(const[l,c]of a)t(l,c)}))}isEmpty(){return Q1(this.inner)}size(){return this.innerSize}}const wR=new Ee(gt.comparator);function Sr(){return wR}const cE=new Ee(gt.comparator);function jl(...s){let t=cE;for(const i of s)t=t.insert(i.key,i);return t}function hE(s){let t=cE;return s.forEach(((i,a)=>t=t.insert(i,a.overlayedDocument))),t}function la(){return Kl()}function fE(){return Kl()}function Kl(){return new pa((s=>s.toString()),((s,t)=>s.isEqual(t)))}const RR=new Ee(gt.comparator),IR=new Qe(gt.comparator);function zt(...s){let t=IR;for(const i of s)t=t.add(i);return t}const CR=new Qe(Pt);function NR(){return CR}function ig(s,t){if(s.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:dh(t)?"-0":t}}function dE(s){return{integerValue:""+s}}function DR(s,t){return iR(t)?dE(t):ig(s,t)}class kh{constructor(){this._=void 0}}function xR(s,t,i){return s instanceof nu?(function(l,c){const d={fields:{[X1]:{stringValue:K1},[Z1]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return c&&Jm(c)&&(c=Mh(c)),c&&(d.fields[$1]=c),{mapValue:d}})(i,t):s instanceof iu?gE(s,t):s instanceof ru?pE(s,t):(function(l,c){const d=mE(l,c),p=ev(d)+ev(l.Ae);return _m(d)&&_m(l.Ae)?dE(p):ig(l.serializer,p)})(s,t)}function MR(s,t,i){return s instanceof iu?gE(s,t):s instanceof ru?pE(s,t):i}function mE(s,t){return s instanceof _h?(function(a){return _m(a)||(function(c){return!!c&&"doubleValue"in c})(a)})(t)?t:{integerValue:0}:null}class nu extends kh{}class iu extends kh{constructor(t){super(),this.elements=t}}function gE(s,t){const i=yE(t);for(const a of s.elements)i.some((l=>Gi(l,a)))||i.push(a);return{arrayValue:{values:i}}}class ru extends kh{constructor(t){super(),this.elements=t}}function pE(s,t){let i=yE(t);for(const a of s.elements)i=i.filter((l=>!Gi(l,a)));return{arrayValue:{values:i}}}class _h extends kh{constructor(t,i){super(),this.serializer=t,this.Ae=i}}function ev(s){return xe(s.integerValue||s.doubleValue)}function yE(s){return Wm(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}class OR{constructor(t,i){this.field=t,this.transform=i}}function VR(s,t){return s.field.isEqual(t.field)&&(function(a,l){return a instanceof iu&&l instanceof iu||a instanceof ru&&l instanceof ru?Io(a.elements,l.elements,Gi):a instanceof _h&&l instanceof _h?Gi(a.Ae,l.Ae):a instanceof nu&&l instanceof nu})(s.transform,t.transform)}class kR{constructor(t,i){this.version=t,this.transformResults=i}}class Ti{constructor(t,i){this.updateTime=t,this.exists=i}static none(){return new Ti}static exists(t){return new Ti(void 0,t)}static updateTime(t){return new Ti(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function th(s,t){return s.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(s.updateTime):s.exists===void 0||s.exists===t.isFoundDocument()}class Uh{}function _E(s,t){if(!s.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return s.isNoDocument()?new rg(s.key,Ti.none()):new gu(s.key,s.data,Ti.none());{const i=s.data,a=xn.empty();let l=new Qe(an.comparator);for(let c of t.fields)if(!l.has(c)){let d=i.field(c);d===null&&c.length>1&&(c=c.popLast(),d=i.field(c)),d===null?a.delete(c):a.set(c,d),l=l.add(c)}return new Rs(s.key,a,new Qn(l.toArray()),Ti.none())}}function UR(s,t,i){s instanceof gu?(function(l,c,d){const p=l.value.clone(),y=iv(l.fieldTransforms,c,d.transformResults);p.setAll(y),c.convertToFoundDocument(d.version,p).setHasCommittedMutations()})(s,t,i):s instanceof Rs?(function(l,c,d){if(!th(l.precondition,c))return void c.convertToUnknownDocument(d.version);const p=iv(l.fieldTransforms,c,d.transformResults),y=c.data;y.setAll(vE(l)),y.setAll(p),c.convertToFoundDocument(d.version,y).setHasCommittedMutations()})(s,t,i):(function(l,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()})(0,t,i)}function Xl(s,t,i,a){return s instanceof gu?(function(c,d,p,y){if(!th(c.precondition,d))return p;const _=c.value.clone(),b=rv(c.fieldTransforms,y,d);return _.setAll(b),d.convertToFoundDocument(d.version,_).setHasLocalMutations(),null})(s,t,i,a):s instanceof Rs?(function(c,d,p,y){if(!th(c.precondition,d))return p;const _=rv(c.fieldTransforms,y,d),b=d.data;return b.setAll(vE(c)),b.setAll(_),d.convertToFoundDocument(d.version,b).setHasLocalMutations(),p===null?null:p.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((A=>A.field)))})(s,t,i,a):(function(c,d,p){return th(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):p})(s,t,i)}function LR(s,t){let i=null;for(const a of s.fieldTransforms){const l=t.data.field(a.field),c=mE(a.transform,l||null);c!=null&&(i===null&&(i=xn.empty()),i.set(a.field,c))}return i||null}function nv(s,t){return s.type===t.type&&!!s.key.isEqual(t.key)&&!!s.precondition.isEqual(t.precondition)&&!!(function(a,l){return a===void 0&&l===void 0||!(!a||!l)&&Io(a,l,((c,d)=>VR(c,d)))})(s.fieldTransforms,t.fieldTransforms)&&(s.type===0?s.value.isEqual(t.value):s.type!==1||s.data.isEqual(t.data)&&s.fieldMask.isEqual(t.fieldMask))}class gu extends Uh{constructor(t,i,a,l=[]){super(),this.key=t,this.value=i,this.precondition=a,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class Rs extends Uh{constructor(t,i,a,l,c=[]){super(),this.key=t,this.data=i,this.fieldMask=a,this.precondition=l,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function vE(s){const t=new Map;return s.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const a=s.data.field(i);t.set(i,a)}})),t}function iv(s,t,i){const a=new Map;Zt(s.length===i.length,32656,{Re:i.length,Ve:s.length});for(let l=0;l<i.length;l++){const c=s[l],d=c.transform,p=t.data.field(c.field);a.set(c.field,MR(d,p,i[l]))}return a}function rv(s,t,i){const a=new Map;for(const l of s){const c=l.transform,d=i.data.field(l.field);a.set(l.field,xR(c,d,t))}return a}class rg extends Uh{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class PR extends Uh{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class zR{constructor(t,i,a,l){this.batchId=t,this.localWriteTime=i,this.baseMutations=a,this.mutations=l}applyToRemoteDocument(t,i){const a=i.mutationResults;for(let l=0;l<this.mutations.length;l++){const c=this.mutations[l];c.key.isEqual(t.key)&&UR(c,t,a[l])}}applyToLocalView(t,i){for(const a of this.baseMutations)a.key.isEqual(t.key)&&(i=Xl(a,t,i,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(t.key)&&(i=Xl(a,t,i,this.localWriteTime));return i}applyToLocalDocumentSet(t,i){const a=fE();return this.mutations.forEach((l=>{const c=t.get(l.key),d=c.overlayedDocument;let p=this.applyToLocalView(d,c.mutatedFields);p=i.has(l.key)?null:p;const y=_E(d,p);y!==null&&a.set(l.key,y),d.isValidDocument()||d.convertToNoDocument(St.min())})),a}keys(){return this.mutations.reduce(((t,i)=>t.add(i.key)),zt())}isEqual(t){return this.batchId===t.batchId&&Io(this.mutations,t.mutations,((i,a)=>nv(i,a)))&&Io(this.baseMutations,t.baseMutations,((i,a)=>nv(i,a)))}}class sg{constructor(t,i,a,l){this.batch=t,this.commitVersion=i,this.mutationResults=a,this.docVersions=l}static from(t,i,a){Zt(t.mutations.length===a.length,58842,{me:t.mutations.length,fe:a.length});let l=(function(){return RR})();const c=t.mutations;for(let d=0;d<c.length;d++)l=l.insert(c[d].key,a[d].version);return new sg(t,i,a,l)}}class jR{constructor(t,i){this.largestBatchId=t,this.mutation=i}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class BR{constructor(t,i){this.count=t,this.unchangedNames=i}}var Be,Ht;function qR(s){switch(s){case $.OK:return Et(64938);case $.CANCELLED:case $.UNKNOWN:case $.DEADLINE_EXCEEDED:case $.RESOURCE_EXHAUSTED:case $.INTERNAL:case $.UNAVAILABLE:case $.UNAUTHENTICATED:return!1;case $.INVALID_ARGUMENT:case $.NOT_FOUND:case $.ALREADY_EXISTS:case $.PERMISSION_DENIED:case $.FAILED_PRECONDITION:case $.ABORTED:case $.OUT_OF_RANGE:case $.UNIMPLEMENTED:case $.DATA_LOSS:return!0;default:return Et(15467,{code:s})}}function EE(s){if(s===void 0)return Ar("GRPC error has no .code"),$.UNKNOWN;switch(s){case Be.OK:return $.OK;case Be.CANCELLED:return $.CANCELLED;case Be.UNKNOWN:return $.UNKNOWN;case Be.DEADLINE_EXCEEDED:return $.DEADLINE_EXCEEDED;case Be.RESOURCE_EXHAUSTED:return $.RESOURCE_EXHAUSTED;case Be.INTERNAL:return $.INTERNAL;case Be.UNAVAILABLE:return $.UNAVAILABLE;case Be.UNAUTHENTICATED:return $.UNAUTHENTICATED;case Be.INVALID_ARGUMENT:return $.INVALID_ARGUMENT;case Be.NOT_FOUND:return $.NOT_FOUND;case Be.ALREADY_EXISTS:return $.ALREADY_EXISTS;case Be.PERMISSION_DENIED:return $.PERMISSION_DENIED;case Be.FAILED_PRECONDITION:return $.FAILED_PRECONDITION;case Be.ABORTED:return $.ABORTED;case Be.OUT_OF_RANGE:return $.OUT_OF_RANGE;case Be.UNIMPLEMENTED:return $.UNIMPLEMENTED;case Be.DATA_LOSS:return $.DATA_LOSS;default:return Et(39323,{code:s})}}(Ht=Be||(Be={}))[Ht.OK=0]="OK",Ht[Ht.CANCELLED=1]="CANCELLED",Ht[Ht.UNKNOWN=2]="UNKNOWN",Ht[Ht.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ht[Ht.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ht[Ht.NOT_FOUND=5]="NOT_FOUND",Ht[Ht.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ht[Ht.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ht[Ht.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ht[Ht.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ht[Ht.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ht[Ht.ABORTED=10]="ABORTED",Ht[Ht.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ht[Ht.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ht[Ht.INTERNAL=13]="INTERNAL",Ht[Ht.UNAVAILABLE=14]="UNAVAILABLE",Ht[Ht.DATA_LOSS=15]="DATA_LOSS";function HR(){return new TextEncoder}const FR=new ps([4294967295,4294967295],0);function sv(s){const t=HR().encode(s),i=new k1;return i.update(t),new Uint8Array(i.digest())}function av(s){const t=new DataView(s.buffer),i=t.getUint32(0,!0),a=t.getUint32(4,!0),l=t.getUint32(8,!0),c=t.getUint32(12,!0);return[new ps([i,a],0),new ps([l,c],0)]}class ag{constructor(t,i,a){if(this.bitmap=t,this.padding=i,this.hashCount=a,i<0||i>=8)throw new Bl(`Invalid padding: ${i}`);if(a<0)throw new Bl(`Invalid hash count: ${a}`);if(t.length>0&&this.hashCount===0)throw new Bl(`Invalid hash count: ${a}`);if(t.length===0&&i!==0)throw new Bl(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*t.length-i,this.pe=ps.fromNumber(this.ge)}ye(t,i,a){let l=t.add(i.multiply(ps.fromNumber(a)));return l.compare(FR)===1&&(l=new ps([l.getBits(0),l.getBits(1)],0)),l.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const i=sv(t),[a,l]=av(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,l,c);if(!this.we(d))return!1}return!0}static create(t,i,a){const l=t%8==0?0:8-t%8,c=new Uint8Array(Math.ceil(t/8)),d=new ag(c,l,i);return a.forEach((p=>d.insert(p))),d}insert(t){if(this.ge===0)return;const i=sv(t),[a,l]=av(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,l,c);this.Se(d)}}Se(t){const i=Math.floor(t/8),a=t%8;this.bitmap[i]|=1<<a}}class Bl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Lh{constructor(t,i,a,l,c){this.snapshotVersion=t,this.targetChanges=i,this.targetMismatches=a,this.documentUpdates=l,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(t,i,a){const l=new Map;return l.set(t,pu.createSynthesizedTargetChangeForCurrentChange(t,i,a)),new Lh(St.min(),l,new Ee(Pt),Sr(),zt())}}class pu{constructor(t,i,a,l,c){this.resumeToken=t,this.current=i,this.addedDocuments=a,this.modifiedDocuments=l,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(t,i,a){return new pu(a,i,zt(),zt(),zt())}}class eh{constructor(t,i,a,l){this.be=t,this.removedTargetIds=i,this.key=a,this.De=l}}class TE{constructor(t,i){this.targetId=t,this.Ce=i}}class bE{constructor(t,i,a=ln.EMPTY_BYTE_STRING,l=null){this.state=t,this.targetIds=i,this.resumeToken=a,this.cause=l}}class ov{constructor(){this.ve=0,this.Fe=lv(),this.Me=ln.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=zt(),i=zt(),a=zt();return this.Fe.forEach(((l,c)=>{switch(c){case 0:t=t.add(l);break;case 2:i=i.add(l);break;case 1:a=a.add(l);break;default:Et(38017,{changeType:c})}})),new pu(this.Me,this.xe,t,i,a)}qe(){this.Oe=!1,this.Fe=lv()}Qe(t,i){this.Oe=!0,this.Fe=this.Fe.insert(t,i)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,Zt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class GR{constructor(t){this.Ge=t,this.ze=new Map,this.je=Sr(),this.Je=qc(),this.He=qc(),this.Ye=new Ee(Pt)}Ze(t){for(const i of t.be)t.De&&t.De.isFoundDocument()?this.Xe(i,t.De):this.et(i,t.key,t.De);for(const i of t.removedTargetIds)this.et(i,t.key,t.De)}tt(t){this.forEachTarget(t,(i=>{const a=this.nt(i);switch(t.state){case 0:this.rt(i)&&a.Le(t.resumeToken);break;case 1:a.Ke(),a.Ne||a.qe(),a.Le(t.resumeToken);break;case 2:a.Ke(),a.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(a.We(),a.Le(t.resumeToken));break;case 4:this.rt(i)&&(this.it(i),a.Le(t.resumeToken));break;default:Et(56790,{state:t.state})}}))}forEachTarget(t,i){t.targetIds.length>0?t.targetIds.forEach(i):this.ze.forEach(((a,l)=>{this.rt(l)&&i(l)}))}st(t){const i=t.targetId,a=t.Ce.count,l=this.ot(i);if(l){const c=l.target;if(Em(c))if(a===0){const d=new gt(c.path);this.et(i,d,dn.newNoDocument(d,St.min()))}else Zt(a===1,20013,{expectedCount:a});else{const d=this._t(i);if(d!==a){const p=this.ut(t),y=p?this.ct(p,t,d):1;if(y!==0){this.it(i);const _=y===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(i,_)}}}}}ut(t){const i=t.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:a="",padding:l=0},hashCount:c=0}=i;let d,p;try{d=Ts(a).toUint8Array()}catch(y){if(y instanceof Y1)return Ro("Decoding the base64 bloom filter in existence filter failed ("+y.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw y}try{p=new ag(d,l,c)}catch(y){return Ro(y instanceof Bl?"BloomFilter error: ":"Applying bloom filter failed: ",y),null}return p.ge===0?null:p}ct(t,i,a){return i.Ce.count===a-this.Pt(t,i.targetId)?0:2}Pt(t,i){const a=this.Ge.getRemoteKeysForTarget(i);let l=0;return a.forEach((c=>{const d=this.Ge.ht(),p=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;t.mightContain(p)||(this.et(i,c,null),l++)})),l}Tt(t){const i=new Map;this.ze.forEach(((c,d)=>{const p=this.ot(d);if(p){if(c.current&&Em(p.target)){const y=new gt(p.target.path);this.It(y).has(d)||this.Et(d,y)||this.et(d,y,dn.newNoDocument(y,t))}c.Be&&(i.set(d,c.ke()),c.qe())}}));let a=zt();this.He.forEach(((c,d)=>{let p=!0;d.forEachWhile((y=>{const _=this.ot(y);return!_||_.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)})),p&&(a=a.add(c))})),this.je.forEach(((c,d)=>d.setReadTime(t)));const l=new Lh(t,i,this.Ye,this.je,a);return this.je=Sr(),this.Je=qc(),this.He=qc(),this.Ye=new Ee(Pt),l}Xe(t,i){if(!this.rt(t))return;const a=this.Et(t,i.key)?2:0;this.nt(t).Qe(i.key,a),this.je=this.je.insert(i.key,i),this.Je=this.Je.insert(i.key,this.It(i.key).add(t)),this.He=this.He.insert(i.key,this.dt(i.key).add(t))}et(t,i,a){if(!this.rt(t))return;const l=this.nt(t);this.Et(t,i)?l.Qe(i,1):l.$e(i),this.He=this.He.insert(i,this.dt(i).delete(t)),this.He=this.He.insert(i,this.dt(i).add(t)),a&&(this.je=this.je.insert(i,a))}removeTarget(t){this.ze.delete(t)}_t(t){const i=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+i.addedDocuments.size-i.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let i=this.ze.get(t);return i||(i=new ov,this.ze.set(t,i)),i}dt(t){let i=this.He.get(t);return i||(i=new Qe(Pt),this.He=this.He.insert(t,i)),i}It(t){let i=this.Je.get(t);return i||(i=new Qe(Pt),this.Je=this.Je.insert(t,i)),i}rt(t){const i=this.ot(t)!==null;return i||lt("WatchChangeAggregator","Detected inactive target",t),i}ot(t){const i=this.ze.get(t);return i&&i.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new ov),this.Ge.getRemoteKeysForTarget(t).forEach((i=>{this.et(t,i,null)}))}Et(t,i){return this.Ge.getRemoteKeysForTarget(t).has(i)}}function qc(){return new Ee(gt.comparator)}function lv(){return new Ee(gt.comparator)}const QR={asc:"ASCENDING",desc:"DESCENDING"},YR={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},KR={and:"AND",or:"OR"};class XR{constructor(t,i){this.databaseId=t,this.useProto3Json=i}}function Am(s,t){return s.useProto3Json||xh(t)?t:{value:t}}function vh(s,t){return s.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function AE(s,t){return s.useProto3Json?t.toBase64():t.toUint8Array()}function $R(s,t){return vh(s,t.toTimestamp())}function qi(s){return Zt(!!s,49232),St.fromTimestamp((function(i){const a=Es(i);return new he(a.seconds,a.nanos)})(s))}function og(s,t){return Sm(s,t).canonicalString()}function Sm(s,t){const i=(function(l){return new oe(["projects",l.projectId,"databases",l.database])})(s).child("documents");return t===void 0?i:i.child(t)}function SE(s){const t=oe.fromString(s);return Zt(NE(t),10190,{key:t.toString()}),t}function wm(s,t){return og(s.databaseId,t.path)}function Wd(s,t){const i=SE(t);if(i.get(1)!==s.databaseId.projectId)throw new ut($.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+s.databaseId.projectId);if(i.get(3)!==s.databaseId.database)throw new ut($.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+s.databaseId.database);return new gt(RE(i))}function wE(s,t){return og(s.databaseId,t)}function ZR(s){const t=SE(s);return t.length===4?oe.emptyPath():RE(t)}function Rm(s){return new oe(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function RE(s){return Zt(s.length>4&&s.get(4)==="documents",29091,{key:s.toString()}),s.popFirst(5)}function uv(s,t,i){return{name:wm(s,t),fields:i.value.mapValue.fields}}function JR(s,t){let i;if("targetChange"in t){t.targetChange;const a=(function(_){return _==="NO_CHANGE"?0:_==="ADD"?1:_==="REMOVE"?2:_==="CURRENT"?3:_==="RESET"?4:Et(39313,{state:_})})(t.targetChange.targetChangeType||"NO_CHANGE"),l=t.targetChange.targetIds||[],c=(function(_,b){return _.useProto3Json?(Zt(b===void 0||typeof b=="string",58123),ln.fromBase64String(b||"")):(Zt(b===void 0||b instanceof Buffer||b instanceof Uint8Array,16193),ln.fromUint8Array(b||new Uint8Array))})(s,t.targetChange.resumeToken),d=t.targetChange.cause,p=d&&(function(_){const b=_.code===void 0?$.UNKNOWN:EE(_.code);return new ut(b,_.message||"")})(d);i=new bE(a,l,c,p||null)}else if("documentChange"in t){t.documentChange;const a=t.documentChange;a.document,a.document.name,a.document.updateTime;const l=Wd(s,a.document.name),c=qi(a.document.updateTime),d=a.document.createTime?qi(a.document.createTime):St.min(),p=new xn({mapValue:{fields:a.document.fields}}),y=dn.newFoundDocument(l,c,d,p),_=a.targetIds||[],b=a.removedTargetIds||[];i=new eh(_,b,y.key,y)}else if("documentDelete"in t){t.documentDelete;const a=t.documentDelete;a.document;const l=Wd(s,a.document),c=a.readTime?qi(a.readTime):St.min(),d=dn.newNoDocument(l,c),p=a.removedTargetIds||[];i=new eh([],p,d.key,d)}else if("documentRemove"in t){t.documentRemove;const a=t.documentRemove;a.document;const l=Wd(s,a.document),c=a.removedTargetIds||[];i=new eh([],c,l,null)}else{if(!("filter"in t))return Et(11601,{Rt:t});{t.filter;const a=t.filter;a.targetId;const{count:l=0,unchangedNames:c}=a,d=new BR(l,c),p=a.targetId;i=new TE(p,d)}}return i}function WR(s,t){let i;if(t instanceof gu)i={update:uv(s,t.key,t.value)};else if(t instanceof rg)i={delete:wm(s,t.key)};else if(t instanceof Rs)i={update:uv(s,t.key,t.data),updateMask:lI(t.fieldMask)};else{if(!(t instanceof PR))return Et(16599,{Vt:t.type});i={verify:wm(s,t.key)}}return t.fieldTransforms.length>0&&(i.updateTransforms=t.fieldTransforms.map((a=>(function(c,d){const p=d.transform;if(p instanceof nu)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof iu)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof ru)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof _h)return{fieldPath:d.field.canonicalString(),increment:p.Ae};throw Et(20930,{transform:d.transform})})(0,a)))),t.precondition.isNone||(i.currentDocument=(function(l,c){return c.updateTime!==void 0?{updateTime:$R(l,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:Et(27497)})(s,t.precondition)),i}function tI(s,t){return s&&s.length>0?(Zt(t!==void 0,14353),s.map((i=>(function(l,c){let d=l.updateTime?qi(l.updateTime):qi(c);return d.isEqual(St.min())&&(d=qi(c)),new kR(d,l.transformResults||[])})(i,t)))):[]}function eI(s,t){return{documents:[wE(s,t.path)]}}function nI(s,t){const i={structuredQuery:{}},a=t.path;let l;t.collectionGroup!==null?(l=a,i.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(l=a.popLast(),i.structuredQuery.from=[{collectionId:a.lastSegment()}]),i.parent=wE(s,l);const c=(function(_){if(_.length!==0)return CE(bi.create(_,"and"))})(t.filters);c&&(i.structuredQuery.where=c);const d=(function(_){if(_.length!==0)return _.map((b=>(function(M){return{field:go(M.field),direction:sI(M.dir)}})(b)))})(t.orderBy);d&&(i.structuredQuery.orderBy=d);const p=Am(s,t.limit);return p!==null&&(i.structuredQuery.limit=p),t.startAt&&(i.structuredQuery.startAt=(function(_){return{before:_.inclusive,values:_.position}})(t.startAt)),t.endAt&&(i.structuredQuery.endAt=(function(_){return{before:!_.inclusive,values:_.position}})(t.endAt)),{ft:i,parent:l}}function iI(s){let t=ZR(s.parent);const i=s.structuredQuery,a=i.from?i.from.length:0;let l=null;if(a>0){Zt(a===1,65062);const b=i.from[0];b.allDescendants?l=b.collectionId:t=t.child(b.collectionId)}let c=[];i.where&&(c=(function(A){const M=IE(A);return M instanceof bi&&iE(M)?M.getFilters():[M]})(i.where));let d=[];i.orderBy&&(d=(function(A){return A.map((M=>(function(tt){return new yh(po(tt.field),(function(et){switch(et){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(tt.direction))})(M)))})(i.orderBy));let p=null;i.limit&&(p=(function(A){let M;return M=typeof A=="object"?A.value:A,xh(M)?null:M})(i.limit));let y=null;i.startAt&&(y=(function(A){const M=!!A.before,F=A.values||[];return new ph(F,M)})(i.startAt));let _=null;return i.endAt&&(_=(function(A){const M=!A.before,F=A.values||[];return new ph(F,M)})(i.endAt)),TR(t,l,d,c,p,"F",y,_)}function rI(s,t){const i=(function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Et(28987,{purpose:l})}})(t.purpose);return i==null?null:{"goog-listen-tags":i}}function IE(s){return s.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const a=po(i.unaryFilter.field);return qe.create(a,"==",{doubleValue:NaN});case"IS_NULL":const l=po(i.unaryFilter.field);return qe.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=po(i.unaryFilter.field);return qe.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=po(i.unaryFilter.field);return qe.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Et(61313);default:return Et(60726)}})(s):s.fieldFilter!==void 0?(function(i){return qe.create(po(i.fieldFilter.field),(function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Et(58110);default:return Et(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(s):s.compositeFilter!==void 0?(function(i){return bi.create(i.compositeFilter.filters.map((a=>IE(a))),(function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return Et(1026)}})(i.compositeFilter.op))})(s):Et(30097,{filter:s})}function sI(s){return QR[s]}function aI(s){return YR[s]}function oI(s){return KR[s]}function go(s){return{fieldPath:s.canonicalString()}}function po(s){return an.fromServerFormat(s.fieldPath)}function CE(s){return s instanceof qe?(function(i){if(i.op==="=="){if($0(i.value))return{unaryFilter:{field:go(i.field),op:"IS_NAN"}};if(X0(i.value))return{unaryFilter:{field:go(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if($0(i.value))return{unaryFilter:{field:go(i.field),op:"IS_NOT_NAN"}};if(X0(i.value))return{unaryFilter:{field:go(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:go(i.field),op:aI(i.op),value:i.value}}})(s):s instanceof bi?(function(i){const a=i.getFilters().map((l=>CE(l)));return a.length===1?a[0]:{compositeFilter:{op:oI(i.op),filters:a}}})(s):Et(54877,{filter:s})}function lI(s){const t=[];return s.fields.forEach((i=>t.push(i.canonicalString()))),{fieldPaths:t}}function NE(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}class fs{constructor(t,i,a,l,c=St.min(),d=St.min(),p=ln.EMPTY_BYTE_STRING,y=null){this.target=t,this.targetId=i,this.purpose=a,this.sequenceNumber=l,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=p,this.expectedCount=y}withSequenceNumber(t){return new fs(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,i){return new fs(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new fs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new fs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class uI{constructor(t){this.yt=t}}function cI(s){const t=iI({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?bm(t,t.limit,"L"):t}class hI{constructor(){this.Cn=new fI}addToCollectionParentIndex(t,i){return this.Cn.add(i),Z.resolve()}getCollectionParents(t,i){return Z.resolve(this.Cn.getEntries(i))}addFieldIndex(t,i){return Z.resolve()}deleteFieldIndex(t,i){return Z.resolve()}deleteAllFieldIndexes(t){return Z.resolve()}createTargetIndexes(t,i){return Z.resolve()}getDocumentsMatchingTarget(t,i){return Z.resolve(null)}getIndexType(t,i){return Z.resolve(0)}getFieldIndexes(t,i){return Z.resolve([])}getNextCollectionGroupToUpdate(t){return Z.resolve(null)}getMinOffset(t,i){return Z.resolve(vs.min())}getMinOffsetFromCollectionGroup(t,i){return Z.resolve(vs.min())}updateCollectionGroup(t,i,a){return Z.resolve()}updateIndexEntries(t,i){return Z.resolve()}}class fI{constructor(){this.index={}}add(t){const i=t.lastSegment(),a=t.popLast(),l=this.index[i]||new Qe(oe.comparator),c=!l.has(a);return this.index[i]=l.add(a),c}has(t){const i=t.lastSegment(),a=t.popLast(),l=this.index[i];return l&&l.has(a)}getEntries(t){return(this.index[t]||new Qe(oe.comparator)).toArray()}}const cv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},DE=41943040;class Dn{static withCacheSize(t){return new Dn(t,Dn.DEFAULT_COLLECTION_PERCENTILE,Dn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,i,a){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=a}}Dn.DEFAULT_COLLECTION_PERCENTILE=10,Dn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Dn.DEFAULT=new Dn(DE,Dn.DEFAULT_COLLECTION_PERCENTILE,Dn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Dn.DISABLED=new Dn(-1,0,0);class Do{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new Do(0)}static cr(){return new Do(-1)}}const hv="LruGarbageCollector",dI=1048576;function fv([s,t],[i,a]){const l=Pt(s,i);return l===0?Pt(t,a):l}class mI{constructor(t){this.Ir=t,this.buffer=new Qe(fv),this.Er=0}dr(){return++this.Er}Ar(t){const i=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(i);else{const a=this.buffer.last();fv(i,a)<0&&(this.buffer=this.buffer.delete(a).add(i))}}get maxValue(){return this.buffer.last()[0]}}class gI{constructor(t,i,a){this.garbageCollector=t,this.asyncQueue=i,this.localStore=a,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){lt(hv,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){Po(i)?lt(hv,"Ignoring IndexedDB error during garbage collection: ",i):await Lo(i)}await this.Vr(3e5)}))}}class pI{constructor(t,i){this.mr=t,this.params=i}calculateTargetCount(t,i){return this.mr.gr(t).next((a=>Math.floor(i/100*a)))}nthSequenceNumber(t,i){if(i===0)return Z.resolve(Dh.ce);const a=new mI(i);return this.mr.forEachTarget(t,(l=>a.Ar(l.sequenceNumber))).next((()=>this.mr.pr(t,(l=>a.Ar(l))))).next((()=>a.maxValue))}removeTargets(t,i,a){return this.mr.removeTargets(t,i,a)}removeOrphanedDocuments(t,i){return this.mr.removeOrphanedDocuments(t,i)}collect(t,i){return this.params.cacheSizeCollectionThreshold===-1?(lt("LruGarbageCollector","Garbage collection skipped; disabled"),Z.resolve(cv)):this.getCacheSize(t).next((a=>a<this.params.cacheSizeCollectionThreshold?(lt("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),cv):this.yr(t,i)))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,i){let a,l,c,d,p,y,_;const b=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((A=>(A>this.params.maximumSequenceNumbersToCollect?(lt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${A}`),l=this.params.maximumSequenceNumbersToCollect):l=A,d=Date.now(),this.nthSequenceNumber(t,l)))).next((A=>(a=A,p=Date.now(),this.removeTargets(t,a,i)))).next((A=>(c=A,y=Date.now(),this.removeOrphanedDocuments(t,a)))).next((A=>(_=Date.now(),fo()<=Lt.DEBUG&&lt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-b}ms
	Determined least recently used ${l} in `+(p-d)+`ms
	Removed ${c} targets in `+(y-p)+`ms
	Removed ${A} documents in `+(_-y)+`ms
Total Duration: ${_-b}ms`),Z.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:c,documentsRemoved:A}))))}}function yI(s,t){return new pI(s,t)}class _I{constructor(){this.changes=new pa((t=>t.toString()),((t,i)=>t.isEqual(i))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,i){this.assertNotApplied(),this.changes.set(t,dn.newInvalidDocument(t).setReadTime(i))}getEntry(t,i){this.assertNotApplied();const a=this.changes.get(i);return a!==void 0?Z.resolve(a):this.getFromCache(t,i)}getEntries(t,i){return this.getAllFromCache(t,i)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class vI{constructor(t,i){this.overlayedDocument=t,this.mutatedFields=i}}class EI{constructor(t,i,a,l){this.remoteDocumentCache=t,this.mutationQueue=i,this.documentOverlayCache=a,this.indexManager=l}getDocument(t,i){let a=null;return this.documentOverlayCache.getOverlay(t,i).next((l=>(a=l,this.remoteDocumentCache.getEntry(t,i)))).next((l=>(a!==null&&Xl(a.mutation,l,Qn.empty(),he.now()),l)))}getDocuments(t,i){return this.remoteDocumentCache.getEntries(t,i).next((a=>this.getLocalViewOfDocuments(t,a,zt()).next((()=>a))))}getLocalViewOfDocuments(t,i,a=zt()){const l=la();return this.populateOverlays(t,l,i).next((()=>this.computeViews(t,i,l,a).next((c=>{let d=jl();return c.forEach(((p,y)=>{d=d.insert(p,y.overlayedDocument)})),d}))))}getOverlayedDocuments(t,i){const a=la();return this.populateOverlays(t,a,i).next((()=>this.computeViews(t,i,a,zt())))}populateOverlays(t,i,a){const l=[];return a.forEach((c=>{i.has(c)||l.push(c)})),this.documentOverlayCache.getOverlays(t,l).next((c=>{c.forEach(((d,p)=>{i.set(d,p)}))}))}computeViews(t,i,a,l){let c=Sr();const d=Kl(),p=(function(){return Kl()})();return i.forEach(((y,_)=>{const b=a.get(_.key);l.has(_.key)&&(b===void 0||b.mutation instanceof Rs)?c=c.insert(_.key,_):b!==void 0?(d.set(_.key,b.mutation.getFieldMask()),Xl(b.mutation,_,b.mutation.getFieldMask(),he.now())):d.set(_.key,Qn.empty())})),this.recalculateAndSaveOverlays(t,c).next((y=>(y.forEach(((_,b)=>d.set(_,b))),i.forEach(((_,b)=>p.set(_,new vI(b,d.get(_)??null)))),p)))}recalculateAndSaveOverlays(t,i){const a=Kl();let l=new Ee(((d,p)=>d-p)),c=zt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,i).next((d=>{for(const p of d)p.keys().forEach((y=>{const _=i.get(y);if(_===null)return;let b=a.get(y)||Qn.empty();b=p.applyToLocalView(_,b),a.set(y,b);const A=(l.get(p.batchId)||zt()).add(y);l=l.insert(p.batchId,A)}))})).next((()=>{const d=[],p=l.getReverseIterator();for(;p.hasNext();){const y=p.getNext(),_=y.key,b=y.value,A=fE();b.forEach((M=>{if(!c.has(M)){const F=_E(i.get(M),a.get(M));F!==null&&A.set(M,F),c=c.add(M)}})),d.push(this.documentOverlayCache.saveOverlays(t,_,A))}return Z.waitFor(d)})).next((()=>a))}recalculateAndSaveOverlaysForDocumentKeys(t,i){return this.remoteDocumentCache.getEntries(t,i).next((a=>this.recalculateAndSaveOverlays(t,a)))}getDocumentsMatchingQuery(t,i,a,l){return(function(d){return gt.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0})(i)?this.getDocumentsMatchingDocumentQuery(t,i.path):oE(i)?this.getDocumentsMatchingCollectionGroupQuery(t,i,a,l):this.getDocumentsMatchingCollectionQuery(t,i,a,l)}getNextDocuments(t,i,a,l){return this.remoteDocumentCache.getAllFromCollectionGroup(t,i,a,l).next((c=>{const d=l-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,i,a.largestBatchId,l-c.size):Z.resolve(la());let p=Jl,y=c;return d.next((_=>Z.forEach(_,((b,A)=>(p<A.largestBatchId&&(p=A.largestBatchId),c.get(b)?Z.resolve():this.remoteDocumentCache.getEntry(t,b).next((M=>{y=y.insert(b,M)}))))).next((()=>this.populateOverlays(t,_,c))).next((()=>this.computeViews(t,y,_,zt()))).next((b=>({batchId:p,changes:hE(b)})))))}))}getDocumentsMatchingDocumentQuery(t,i){return this.getDocument(t,new gt(i)).next((a=>{let l=jl();return a.isFoundDocument()&&(l=l.insert(a.key,a)),l}))}getDocumentsMatchingCollectionGroupQuery(t,i,a,l){const c=i.collectionGroup;let d=jl();return this.indexManager.getCollectionParents(t,c).next((p=>Z.forEach(p,(y=>{const _=(function(A,M){return new mu(M,null,A.explicitOrderBy.slice(),A.filters.slice(),A.limit,A.limitType,A.startAt,A.endAt)})(i,y.child(c));return this.getDocumentsMatchingCollectionQuery(t,_,a,l).next((b=>{b.forEach(((A,M)=>{d=d.insert(A,M)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(t,i,a,l){let c;return this.documentOverlayCache.getOverlaysForCollection(t,i.path,a.largestBatchId).next((d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(t,i,a,c,l)))).next((d=>{c.forEach(((y,_)=>{const b=_.getKey();d.get(b)===null&&(d=d.insert(b,dn.newInvalidDocument(b)))}));let p=jl();return d.forEach(((y,_)=>{const b=c.get(y);b!==void 0&&Xl(b.mutation,_,Qn.empty(),he.now()),Vh(i,_)&&(p=p.insert(y,_))})),p}))}}class TI{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,i){return Z.resolve(this.Lr.get(i))}saveBundleMetadata(t,i){return this.Lr.set(i.id,(function(l){return{id:l.id,version:l.version,createTime:qi(l.createTime)}})(i)),Z.resolve()}getNamedQuery(t,i){return Z.resolve(this.kr.get(i))}saveNamedQuery(t,i){return this.kr.set(i.name,(function(l){return{name:l.name,query:cI(l.bundledQuery),readTime:qi(l.readTime)}})(i)),Z.resolve()}}class bI{constructor(){this.overlays=new Ee(gt.comparator),this.qr=new Map}getOverlay(t,i){return Z.resolve(this.overlays.get(i))}getOverlays(t,i){const a=la();return Z.forEach(i,(l=>this.getOverlay(t,l).next((c=>{c!==null&&a.set(l,c)})))).next((()=>a))}saveOverlays(t,i,a){return a.forEach(((l,c)=>{this.St(t,i,c)})),Z.resolve()}removeOverlaysForBatchId(t,i,a){const l=this.qr.get(a);return l!==void 0&&(l.forEach((c=>this.overlays=this.overlays.remove(c))),this.qr.delete(a)),Z.resolve()}getOverlaysForCollection(t,i,a){const l=la(),c=i.length+1,d=new gt(i.child("")),p=this.overlays.getIteratorFrom(d);for(;p.hasNext();){const y=p.getNext().value,_=y.getKey();if(!i.isPrefixOf(_.path))break;_.path.length===c&&y.largestBatchId>a&&l.set(y.getKey(),y)}return Z.resolve(l)}getOverlaysForCollectionGroup(t,i,a,l){let c=new Ee(((_,b)=>_-b));const d=this.overlays.getIterator();for(;d.hasNext();){const _=d.getNext().value;if(_.getKey().getCollectionGroup()===i&&_.largestBatchId>a){let b=c.get(_.largestBatchId);b===null&&(b=la(),c=c.insert(_.largestBatchId,b)),b.set(_.getKey(),_)}}const p=la(),y=c.getIterator();for(;y.hasNext()&&(y.getNext().value.forEach(((_,b)=>p.set(_,b))),!(p.size()>=l)););return Z.resolve(p)}St(t,i,a){const l=this.overlays.get(a.key);if(l!==null){const d=this.qr.get(l.largestBatchId).delete(a.key);this.qr.set(l.largestBatchId,d)}this.overlays=this.overlays.insert(a.key,new jR(i,a));let c=this.qr.get(i);c===void 0&&(c=zt(),this.qr.set(i,c)),this.qr.set(i,c.add(a.key))}}class AI{constructor(){this.sessionToken=ln.EMPTY_BYTE_STRING}getSessionToken(t){return Z.resolve(this.sessionToken)}setSessionToken(t,i){return this.sessionToken=i,Z.resolve()}}class lg{constructor(){this.Qr=new Qe($e.$r),this.Ur=new Qe($e.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,i){const a=new $e(t,i);this.Qr=this.Qr.add(a),this.Ur=this.Ur.add(a)}Wr(t,i){t.forEach((a=>this.addReference(a,i)))}removeReference(t,i){this.Gr(new $e(t,i))}zr(t,i){t.forEach((a=>this.removeReference(a,i)))}jr(t){const i=new gt(new oe([])),a=new $e(i,t),l=new $e(i,t+1),c=[];return this.Ur.forEachInRange([a,l],(d=>{this.Gr(d),c.push(d.key)})),c}Jr(){this.Qr.forEach((t=>this.Gr(t)))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const i=new gt(new oe([])),a=new $e(i,t),l=new $e(i,t+1);let c=zt();return this.Ur.forEachInRange([a,l],(d=>{c=c.add(d.key)})),c}containsKey(t){const i=new $e(t,0),a=this.Qr.firstAfterOrEqual(i);return a!==null&&t.isEqual(a.key)}}class $e{constructor(t,i){this.key=t,this.Yr=i}static $r(t,i){return gt.comparator(t.key,i.key)||Pt(t.Yr,i.Yr)}static Kr(t,i){return Pt(t.Yr,i.Yr)||gt.comparator(t.key,i.key)}}class SI{constructor(t,i){this.indexManager=t,this.referenceDelegate=i,this.mutationQueue=[],this.tr=1,this.Zr=new Qe($e.$r)}checkEmpty(t){return Z.resolve(this.mutationQueue.length===0)}addMutationBatch(t,i,a,l){const c=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new zR(c,i,a,l);this.mutationQueue.push(d);for(const p of l)this.Zr=this.Zr.add(new $e(p.key,c)),this.indexManager.addToCollectionParentIndex(t,p.key.path.popLast());return Z.resolve(d)}lookupMutationBatch(t,i){return Z.resolve(this.Xr(i))}getNextMutationBatchAfterBatchId(t,i){const a=i+1,l=this.ei(a),c=l<0?0:l;return Z.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return Z.resolve(this.mutationQueue.length===0?Zm:this.tr-1)}getAllMutationBatches(t){return Z.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,i){const a=new $e(i,0),l=new $e(i,Number.POSITIVE_INFINITY),c=[];return this.Zr.forEachInRange([a,l],(d=>{const p=this.Xr(d.Yr);c.push(p)})),Z.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(t,i){let a=new Qe(Pt);return i.forEach((l=>{const c=new $e(l,0),d=new $e(l,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([c,d],(p=>{a=a.add(p.Yr)}))})),Z.resolve(this.ti(a))}getAllMutationBatchesAffectingQuery(t,i){const a=i.path,l=a.length+1;let c=a;gt.isDocumentKey(c)||(c=c.child(""));const d=new $e(new gt(c),0);let p=new Qe(Pt);return this.Zr.forEachWhile((y=>{const _=y.key.path;return!!a.isPrefixOf(_)&&(_.length===l&&(p=p.add(y.Yr)),!0)}),d),Z.resolve(this.ti(p))}ti(t){const i=[];return t.forEach((a=>{const l=this.Xr(a);l!==null&&i.push(l)})),i}removeMutationBatch(t,i){Zt(this.ni(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let a=this.Zr;return Z.forEach(i.mutations,(l=>{const c=new $e(l.key,i.batchId);return a=a.delete(c),this.referenceDelegate.markPotentiallyOrphaned(t,l.key)})).next((()=>{this.Zr=a}))}ir(t){}containsKey(t,i){const a=new $e(i,0),l=this.Zr.firstAfterOrEqual(a);return Z.resolve(i.isEqual(l&&l.key))}performConsistencyCheck(t){return this.mutationQueue.length,Z.resolve()}ni(t,i){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const i=this.ei(t);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class wI{constructor(t){this.ri=t,this.docs=(function(){return new Ee(gt.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,i){const a=i.key,l=this.docs.get(a),c=l?l.size:0,d=this.ri(i);return this.docs=this.docs.insert(a,{document:i.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(t,a.path.popLast())}removeEntry(t){const i=this.docs.get(t);i&&(this.docs=this.docs.remove(t),this.size-=i.size)}getEntry(t,i){const a=this.docs.get(i);return Z.resolve(a?a.document.mutableCopy():dn.newInvalidDocument(i))}getEntries(t,i){let a=Sr();return i.forEach((l=>{const c=this.docs.get(l);a=a.insert(l,c?c.document.mutableCopy():dn.newInvalidDocument(l))})),Z.resolve(a)}getDocumentsMatchingQuery(t,i,a,l){let c=Sr();const d=i.path,p=new gt(d.child("__id-9223372036854775808__")),y=this.docs.getIteratorFrom(p);for(;y.hasNext();){const{key:_,value:{document:b}}=y.getNext();if(!d.isPrefixOf(_.path))break;_.path.length>d.length+1||Ww(Jw(b),a)<=0||(l.has(b.key)||Vh(i,b))&&(c=c.insert(b.key,b.mutableCopy()))}return Z.resolve(c)}getAllFromCollectionGroup(t,i,a,l){Et(9500)}ii(t,i){return Z.forEach(this.docs,(a=>i(a)))}newChangeBuffer(t){return new RI(this)}getSize(t){return Z.resolve(this.size)}}class RI extends _I{constructor(t){super(),this.Nr=t}applyChanges(t){const i=[];return this.changes.forEach(((a,l)=>{l.isValidDocument()?i.push(this.Nr.addEntry(t,l)):this.Nr.removeEntry(a)})),Z.waitFor(i)}getFromCache(t,i){return this.Nr.getEntry(t,i)}getAllFromCache(t,i){return this.Nr.getEntries(t,i)}}class II{constructor(t){this.persistence=t,this.si=new pa((i=>tg(i)),eg),this.lastRemoteSnapshotVersion=St.min(),this.highestTargetId=0,this.oi=0,this._i=new lg,this.targetCount=0,this.ai=Do.ur()}forEachTarget(t,i){return this.si.forEach(((a,l)=>i(l))),Z.resolve()}getLastRemoteSnapshotVersion(t){return Z.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return Z.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),Z.resolve(this.highestTargetId)}setTargetsMetadata(t,i,a){return a&&(this.lastRemoteSnapshotVersion=a),i>this.oi&&(this.oi=i),Z.resolve()}Pr(t){this.si.set(t.target,t);const i=t.targetId;i>this.highestTargetId&&(this.ai=new Do(i),this.highestTargetId=i),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,i){return this.Pr(i),this.targetCount+=1,Z.resolve()}updateTargetData(t,i){return this.Pr(i),Z.resolve()}removeTargetData(t,i){return this.si.delete(i.target),this._i.jr(i.targetId),this.targetCount-=1,Z.resolve()}removeTargets(t,i,a){let l=0;const c=[];return this.si.forEach(((d,p)=>{p.sequenceNumber<=i&&a.get(p.targetId)===null&&(this.si.delete(d),c.push(this.removeMatchingKeysForTargetId(t,p.targetId)),l++)})),Z.waitFor(c).next((()=>l))}getTargetCount(t){return Z.resolve(this.targetCount)}getTargetData(t,i){const a=this.si.get(i)||null;return Z.resolve(a)}addMatchingKeys(t,i,a){return this._i.Wr(i,a),Z.resolve()}removeMatchingKeys(t,i,a){this._i.zr(i,a);const l=this.persistence.referenceDelegate,c=[];return l&&i.forEach((d=>{c.push(l.markPotentiallyOrphaned(t,d))})),Z.waitFor(c)}removeMatchingKeysForTargetId(t,i){return this._i.jr(i),Z.resolve()}getMatchingKeysForTargetId(t,i){const a=this._i.Hr(i);return Z.resolve(a)}containsKey(t,i){return Z.resolve(this._i.containsKey(i))}}class xE{constructor(t,i){this.ui={},this.overlays={},this.ci=new Dh(0),this.li=!1,this.li=!0,this.hi=new AI,this.referenceDelegate=t(this),this.Pi=new II(this),this.indexManager=new hI,this.remoteDocumentCache=(function(l){return new wI(l)})((a=>this.referenceDelegate.Ti(a))),this.serializer=new uI(i),this.Ii=new TI(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let i=this.overlays[t.toKey()];return i||(i=new bI,this.overlays[t.toKey()]=i),i}getMutationQueue(t,i){let a=this.ui[t.toKey()];return a||(a=new SI(i,this.referenceDelegate),this.ui[t.toKey()]=a),a}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,i,a){lt("MemoryPersistence","Starting transaction:",t);const l=new CI(this.ci.next());return this.referenceDelegate.Ei(),a(l).next((c=>this.referenceDelegate.di(l).next((()=>c)))).toPromise().then((c=>(l.raiseOnCommittedEvent(),c)))}Ai(t,i){return Z.or(Object.values(this.ui).map((a=>()=>a.containsKey(t,i))))}}class CI extends eR{constructor(t){super(),this.currentSequenceNumber=t}}class ug{constructor(t){this.persistence=t,this.Ri=new lg,this.Vi=null}static mi(t){return new ug(t)}get fi(){if(this.Vi)return this.Vi;throw Et(60996)}addReference(t,i,a){return this.Ri.addReference(a,i),this.fi.delete(a.toString()),Z.resolve()}removeReference(t,i,a){return this.Ri.removeReference(a,i),this.fi.add(a.toString()),Z.resolve()}markPotentiallyOrphaned(t,i){return this.fi.add(i.toString()),Z.resolve()}removeTarget(t,i){this.Ri.jr(i.targetId).forEach((l=>this.fi.add(l.toString())));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(t,i.targetId).next((l=>{l.forEach((c=>this.fi.add(c.toString())))})).next((()=>a.removeTargetData(t,i)))}Ei(){this.Vi=new Set}di(t){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Z.forEach(this.fi,(a=>{const l=gt.fromPath(a);return this.gi(t,l).next((c=>{c||i.removeEntry(l,St.min())}))})).next((()=>(this.Vi=null,i.apply(t))))}updateLimboDocument(t,i){return this.gi(t,i).next((a=>{a?this.fi.delete(i.toString()):this.fi.add(i.toString())}))}Ti(t){return 0}gi(t,i){return Z.or([()=>Z.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(t,i),()=>this.persistence.Ai(t,i)])}}class Eh{constructor(t,i){this.persistence=t,this.pi=new pa((a=>rR(a.path)),((a,l)=>a.isEqual(l))),this.garbageCollector=yI(this,i)}static mi(t,i){return new Eh(t,i)}Ei(){}di(t){return Z.resolve()}forEachTarget(t,i){return this.persistence.getTargetCache().forEachTarget(t,i)}gr(t){const i=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next((a=>i.next((l=>a+l))))}wr(t){let i=0;return this.pr(t,(a=>{i++})).next((()=>i))}pr(t,i){return Z.forEach(this.pi,((a,l)=>this.br(t,a,l).next((c=>c?Z.resolve():i(l)))))}removeTargets(t,i,a){return this.persistence.getTargetCache().removeTargets(t,i,a)}removeOrphanedDocuments(t,i){let a=0;const l=this.persistence.getRemoteDocumentCache(),c=l.newChangeBuffer();return l.ii(t,(d=>this.br(t,d,i).next((p=>{p||(a++,c.removeEntry(d,St.min()))})))).next((()=>c.apply(t))).next((()=>a))}markPotentiallyOrphaned(t,i){return this.pi.set(i,t.currentSequenceNumber),Z.resolve()}removeTarget(t,i){const a=i.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,a)}addReference(t,i,a){return this.pi.set(a,t.currentSequenceNumber),Z.resolve()}removeReference(t,i,a){return this.pi.set(a,t.currentSequenceNumber),Z.resolve()}updateLimboDocument(t,i){return this.pi.set(i,t.currentSequenceNumber),Z.resolve()}Ti(t){let i=t.key.toString().length;return t.isFoundDocument()&&(i+=Jc(t.data.value)),i}br(t,i,a){return Z.or([()=>this.persistence.Ai(t,i),()=>this.persistence.getTargetCache().containsKey(t,i),()=>{const l=this.pi.get(i);return Z.resolve(l!==void 0&&l>a)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}class cg{constructor(t,i,a,l){this.targetId=t,this.fromCache=i,this.Es=a,this.ds=l}static As(t,i){let a=zt(),l=zt();for(const c of i.docChanges)switch(c.type){case 0:a=a.add(c.doc.key);break;case 1:l=l.add(c.doc.key)}return new cg(t,i.fromCache,a,l)}}class NI{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class DI{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return _A()?8:nR(mn())>0?6:4})()}initialize(t,i){this.ps=t,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(t,i,a,l){const c={result:null};return this.ys(t,i).next((d=>{c.result=d})).next((()=>{if(!c.result)return this.ws(t,i,l,a).next((d=>{c.result=d}))})).next((()=>{if(c.result)return;const d=new NI;return this.Ss(t,i,d).next((p=>{if(c.result=p,this.Vs)return this.bs(t,i,d,p.size)}))})).next((()=>c.result))}bs(t,i,a,l){return a.documentReadCount<this.fs?(fo()<=Lt.DEBUG&&lt("QueryEngine","SDK will not create cache indexes for query:",mo(i),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),Z.resolve()):(fo()<=Lt.DEBUG&&lt("QueryEngine","Query:",mo(i),"scans",a.documentReadCount,"local documents and returns",l,"documents as results."),a.documentReadCount>this.gs*l?(fo()<=Lt.DEBUG&&lt("QueryEngine","The SDK decides to create cache indexes for query:",mo(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Bi(i))):Z.resolve())}ys(t,i){if(tv(i))return Z.resolve(null);let a=Bi(i);return this.indexManager.getIndexType(t,a).next((l=>l===0?null:(i.limit!==null&&l===1&&(i=bm(i,null,"F"),a=Bi(i)),this.indexManager.getDocumentsMatchingTarget(t,a).next((c=>{const d=zt(...c);return this.ps.getDocuments(t,d).next((p=>this.indexManager.getMinOffset(t,a).next((y=>{const _=this.Ds(i,p);return this.Cs(i,_,d,y.readTime)?this.ys(t,bm(i,null,"F")):this.vs(t,_,i,y)}))))})))))}ws(t,i,a,l){return tv(i)||l.isEqual(St.min())?Z.resolve(null):this.ps.getDocuments(t,a).next((c=>{const d=this.Ds(i,c);return this.Cs(i,d,a,l)?Z.resolve(null):(fo()<=Lt.DEBUG&&lt("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),mo(i)),this.vs(t,d,i,Zw(l,Jl)).next((p=>p)))}))}Ds(t,i){let a=new Qe(uE(t));return i.forEach(((l,c)=>{Vh(t,c)&&(a=a.add(c))})),a}Cs(t,i,a,l){if(t.limit===null)return!1;if(a.size!==i.size)return!0;const c=t.limitType==="F"?i.last():i.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(l)>0)}Ss(t,i,a){return fo()<=Lt.DEBUG&&lt("QueryEngine","Using full collection scan to execute query:",mo(i)),this.ps.getDocumentsMatchingQuery(t,i,vs.min(),a)}vs(t,i,a,l){return this.ps.getDocumentsMatchingQuery(t,a,l).next((c=>(i.forEach((d=>{c=c.insert(d.key,d)})),c)))}}const hg="LocalStore",xI=3e8;class MI{constructor(t,i,a,l){this.persistence=t,this.Fs=i,this.serializer=l,this.Ms=new Ee(Pt),this.xs=new pa((c=>tg(c)),eg),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(a)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new EI(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>t.collect(i,this.Ms)))}}function OI(s,t,i,a){return new MI(s,t,i,a)}async function ME(s,t){const i=Rt(s);return await i.persistence.runTransaction("Handle user change","readonly",(a=>{let l;return i.mutationQueue.getAllMutationBatches(a).next((c=>(l=c,i.Bs(t),i.mutationQueue.getAllMutationBatches(a)))).next((c=>{const d=[],p=[];let y=zt();for(const _ of l){d.push(_.batchId);for(const b of _.mutations)y=y.add(b.key)}for(const _ of c){p.push(_.batchId);for(const b of _.mutations)y=y.add(b.key)}return i.localDocuments.getDocuments(a,y).next((_=>({Ls:_,removedBatchIds:d,addedBatchIds:p})))}))}))}function VI(s,t){const i=Rt(s);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(a=>{const l=t.batch.keys(),c=i.Ns.newChangeBuffer({trackRemovals:!0});return(function(p,y,_,b){const A=_.batch,M=A.keys();let F=Z.resolve();return M.forEach((tt=>{F=F.next((()=>b.getEntry(y,tt))).next((it=>{const et=_.docVersions.get(tt);Zt(et!==null,48541),it.version.compareTo(et)<0&&(A.applyToRemoteDocument(it,_),it.isValidDocument()&&(it.setReadTime(_.commitVersion),b.addEntry(it)))}))})),F.next((()=>p.mutationQueue.removeMutationBatch(y,A)))})(i,a,t,c).next((()=>c.apply(a))).next((()=>i.mutationQueue.performConsistencyCheck(a))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(a,l,t.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,(function(p){let y=zt();for(let _=0;_<p.mutationResults.length;++_)p.mutationResults[_].transformResults.length>0&&(y=y.add(p.batch.mutations[_].key));return y})(t)))).next((()=>i.localDocuments.getDocuments(a,l)))}))}function OE(s){const t=Rt(s);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>t.Pi.getLastRemoteSnapshotVersion(i)))}function kI(s,t){const i=Rt(s),a=t.snapshotVersion;let l=i.Ms;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const d=i.Ns.newChangeBuffer({trackRemovals:!0});l=i.Ms;const p=[];t.targetChanges.forEach(((b,A)=>{const M=l.get(A);if(!M)return;p.push(i.Pi.removeMatchingKeys(c,b.removedDocuments,A).next((()=>i.Pi.addMatchingKeys(c,b.addedDocuments,A))));let F=M.withSequenceNumber(c.currentSequenceNumber);t.targetMismatches.get(A)!==null?F=F.withResumeToken(ln.EMPTY_BYTE_STRING,St.min()).withLastLimboFreeSnapshotVersion(St.min()):b.resumeToken.approximateByteSize()>0&&(F=F.withResumeToken(b.resumeToken,a)),l=l.insert(A,F),(function(it,et,pt){return it.resumeToken.approximateByteSize()===0||et.snapshotVersion.toMicroseconds()-it.snapshotVersion.toMicroseconds()>=xI?!0:pt.addedDocuments.size+pt.modifiedDocuments.size+pt.removedDocuments.size>0})(M,F,b)&&p.push(i.Pi.updateTargetData(c,F))}));let y=Sr(),_=zt();if(t.documentUpdates.forEach((b=>{t.resolvedLimboDocuments.has(b)&&p.push(i.persistence.referenceDelegate.updateLimboDocument(c,b))})),p.push(UI(c,d,t.documentUpdates).next((b=>{y=b.ks,_=b.qs}))),!a.isEqual(St.min())){const b=i.Pi.getLastRemoteSnapshotVersion(c).next((A=>i.Pi.setTargetsMetadata(c,c.currentSequenceNumber,a)));p.push(b)}return Z.waitFor(p).next((()=>d.apply(c))).next((()=>i.localDocuments.getLocalViewOfDocuments(c,y,_))).next((()=>y))})).then((c=>(i.Ms=l,c)))}function UI(s,t,i){let a=zt(),l=zt();return i.forEach((c=>a=a.add(c))),t.getEntries(s,a).next((c=>{let d=Sr();return i.forEach(((p,y)=>{const _=c.get(p);y.isFoundDocument()!==_.isFoundDocument()&&(l=l.add(p)),y.isNoDocument()&&y.version.isEqual(St.min())?(t.removeEntry(p,y.readTime),d=d.insert(p,y)):!_.isValidDocument()||y.version.compareTo(_.version)>0||y.version.compareTo(_.version)===0&&_.hasPendingWrites?(t.addEntry(y),d=d.insert(p,y)):lt(hg,"Ignoring outdated watch update for ",p,". Current version:",_.version," Watch version:",y.version)})),{ks:d,qs:l}}))}function LI(s,t){const i=Rt(s);return i.persistence.runTransaction("Get next mutation batch","readonly",(a=>(t===void 0&&(t=Zm),i.mutationQueue.getNextMutationBatchAfterBatchId(a,t))))}function PI(s,t){const i=Rt(s);return i.persistence.runTransaction("Allocate target","readwrite",(a=>{let l;return i.Pi.getTargetData(a,t).next((c=>c?(l=c,Z.resolve(l)):i.Pi.allocateTargetId(a).next((d=>(l=new fs(t,d,"TargetPurposeListen",a.currentSequenceNumber),i.Pi.addTargetData(a,l).next((()=>l)))))))})).then((a=>{const l=i.Ms.get(a.targetId);return(l===null||a.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(i.Ms=i.Ms.insert(a.targetId,a),i.xs.set(t,a.targetId)),a}))}async function Im(s,t,i){const a=Rt(s),l=a.Ms.get(t),c=i?"readwrite":"readwrite-primary";try{i||await a.persistence.runTransaction("Release target",c,(d=>a.persistence.referenceDelegate.removeTarget(d,l)))}catch(d){if(!Po(d))throw d;lt(hg,`Failed to update sequence numbers for target ${t}: ${d}`)}a.Ms=a.Ms.remove(t),a.xs.delete(l.target)}function dv(s,t,i){const a=Rt(s);let l=St.min(),c=zt();return a.persistence.runTransaction("Execute query","readwrite",(d=>(function(y,_,b){const A=Rt(y),M=A.xs.get(b);return M!==void 0?Z.resolve(A.Ms.get(M)):A.Pi.getTargetData(_,b)})(a,d,Bi(t)).next((p=>{if(p)return l=p.lastLimboFreeSnapshotVersion,a.Pi.getMatchingKeysForTargetId(d,p.targetId).next((y=>{c=y}))})).next((()=>a.Fs.getDocumentsMatchingQuery(d,t,i?l:St.min(),i?c:zt()))).next((p=>(zI(a,AR(t),p),{documents:p,Qs:c})))))}function zI(s,t,i){let a=s.Os.get(t)||St.min();i.forEach(((l,c)=>{c.readTime.compareTo(a)>0&&(a=c.readTime)})),s.Os.set(t,a)}class mv{constructor(){this.activeTargetIds=NR()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class jI{constructor(){this.Mo=new mv,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,i,a){}addLocalQueryTarget(t,i=!0){return i&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,i,a){this.xo[t]=i}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new mv,Promise.resolve()}handleUserChange(t,i,a){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class BI{Oo(t){}shutdown(){}}const gv="ConnectivityMonitor";class pv{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){lt(gv,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){lt(gv,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Hc=null;function Cm(){return Hc===null?Hc=(function(){return 268435456+Math.round(2147483648*Math.random())})():Hc++,"0x"+Hc.toString(16)}const tm="RestConnection",qI={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class HI{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const i=t.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.Uo=i+"://"+t.host,this.Ko=`projects/${a}/databases/${l}`,this.Wo=this.databaseId.database===mh?`project_id=${a}`:`project_id=${a}&database_id=${l}`}Go(t,i,a,l,c){const d=Cm(),p=this.zo(t,i.toUriEncodedString());lt(tm,`Sending RPC '${t}' ${d}:`,p,a);const y={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(y,l,c);const{host:_}=new URL(p),b=Oo(_);return this.Jo(t,p,y,a,b).then((A=>(lt(tm,`Received RPC '${t}' ${d}: `,A),A)),(A=>{throw Ro(tm,`RPC '${t}' ${d} failed with error: `,A,"url: ",p,"request:",a),A}))}Ho(t,i,a,l,c,d){return this.Go(t,i,a,l,c)}jo(t,i,a){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Uo})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((l,c)=>t[c]=l)),a&&a.headers.forEach(((l,c)=>t[c]=l))}zo(t,i){const a=qI[t];return`${this.Uo}/v1/${i}:${a}`}terminate(){}}class FI{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}const hn="WebChannelConnection";class GI extends HI{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,i,a,l,c){const d=Cm();return new Promise(((p,y)=>{const _=new U1;_.setWithCredentials(!0),_.listenOnce(L1.COMPLETE,(()=>{try{switch(_.getLastErrorCode()){case Zc.NO_ERROR:const A=_.getResponseJson();lt(hn,`XHR for RPC '${t}' ${d} received:`,JSON.stringify(A)),p(A);break;case Zc.TIMEOUT:lt(hn,`RPC '${t}' ${d} timed out`),y(new ut($.DEADLINE_EXCEEDED,"Request time out"));break;case Zc.HTTP_ERROR:const M=_.getStatus();if(lt(hn,`RPC '${t}' ${d} failed with status:`,M,"response text:",_.getResponseText()),M>0){let F=_.getResponseJson();Array.isArray(F)&&(F=F[0]);const tt=F?.error;if(tt&&tt.status&&tt.message){const it=(function(pt){const _t=pt.toLowerCase().replace(/_/g,"-");return Object.values($).indexOf(_t)>=0?_t:$.UNKNOWN})(tt.status);y(new ut(it,tt.message))}else y(new ut($.UNKNOWN,"Server responded with status "+_.getStatus()))}else y(new ut($.UNAVAILABLE,"Connection failed."));break;default:Et(9055,{l_:t,streamId:d,h_:_.getLastErrorCode(),P_:_.getLastError()})}}finally{lt(hn,`RPC '${t}' ${d} completed.`)}}));const b=JSON.stringify(l);lt(hn,`RPC '${t}' ${d} sending request:`,l),_.send(i,"POST",b,a,15)}))}T_(t,i,a){const l=Cm(),c=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],d=j1(),p=z1(),y={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},_=this.longPollingOptions.timeoutSeconds;_!==void 0&&(y.longPollingTimeout=Math.round(1e3*_)),this.useFetchStreams&&(y.useFetchStreams=!0),this.jo(y.initMessageHeaders,i,a),y.encodeInitMessageHeaders=!0;const b=c.join("");lt(hn,`Creating RPC '${t}' stream ${l}: ${b}`,y);const A=d.createWebChannel(b,y);this.I_(A);let M=!1,F=!1;const tt=new FI({Yo:et=>{F?lt(hn,`Not sending because RPC '${t}' stream ${l} is closed:`,et):(M||(lt(hn,`Opening RPC '${t}' stream ${l} transport.`),A.open(),M=!0),lt(hn,`RPC '${t}' stream ${l} sending:`,et),A.send(et))},Zo:()=>A.close()}),it=(et,pt,_t)=>{et.listen(pt,(yt=>{try{_t(yt)}catch(Ft){setTimeout((()=>{throw Ft}),0)}}))};return it(A,zl.EventType.OPEN,(()=>{F||(lt(hn,`RPC '${t}' stream ${l} transport opened.`),tt.o_())})),it(A,zl.EventType.CLOSE,(()=>{F||(F=!0,lt(hn,`RPC '${t}' stream ${l} transport closed`),tt.a_(),this.E_(A))})),it(A,zl.EventType.ERROR,(et=>{F||(F=!0,Ro(hn,`RPC '${t}' stream ${l} transport errored. Name:`,et.name,"Message:",et.message),tt.a_(new ut($.UNAVAILABLE,"The operation could not be completed")))})),it(A,zl.EventType.MESSAGE,(et=>{if(!F){const pt=et.data[0];Zt(!!pt,16349);const _t=pt,yt=_t?.error||_t[0]?.error;if(yt){lt(hn,`RPC '${t}' stream ${l} received error:`,yt);const Ft=yt.status;let ee=(function(S){const R=Be[S];if(R!==void 0)return EE(R)})(Ft),Ot=yt.message;ee===void 0&&(ee=$.INTERNAL,Ot="Unknown error status: "+Ft+" with message "+yt.message),F=!0,tt.a_(new ut(ee,Ot)),A.close()}else lt(hn,`RPC '${t}' stream ${l} received:`,pt),tt.u_(pt)}})),it(p,P1.STAT_EVENT,(et=>{et.stat===gm.PROXY?lt(hn,`RPC '${t}' stream ${l} detected buffering proxy`):et.stat===gm.NOPROXY&&lt(hn,`RPC '${t}' stream ${l} detected no buffering proxy`)})),setTimeout((()=>{tt.__()}),0),tt}terminate(){this.c_.forEach((t=>t.close())),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter((i=>i===t))}}function em(){return typeof document<"u"?document:null}function Ph(s){return new XR(s,!0)}class VE{constructor(t,i,a=1e3,l=1.5,c=6e4){this.Mi=t,this.timerId=i,this.d_=a,this.A_=l,this.R_=c,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const i=Math.floor(this.V_+this.y_()),a=Math.max(0,Date.now()-this.f_),l=Math.max(0,i-a);l>0&&lt("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.V_} ms, delay with jitter: ${i} ms, last attempt: ${a} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,l,(()=>(this.f_=Date.now(),t()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const yv="PersistentStream";class kE{constructor(t,i,a,l,c,d,p,y){this.Mi=t,this.S_=a,this.b_=l,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=p,this.listener=y,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new VE(t,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,i){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():i&&i.code===$.RESOURCE_EXHAUSTED?(Ar(i.toString()),Ar("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===$.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(i)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([a,l])=>{this.D_===i&&this.G_(a,l)}),(a=>{t((()=>{const l=new ut($.UNKNOWN,"Fetching auth token failed: "+a.message);return this.z_(l)}))}))}G_(t,i){const a=this.W_(this.D_);this.stream=this.j_(t,i),this.stream.Xo((()=>{a((()=>this.listener.Xo()))})),this.stream.t_((()=>{a((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((l=>{a((()=>this.z_(l)))})),this.stream.onMessage((l=>{a((()=>++this.F_==1?this.J_(l):this.onNext(l)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return lt(yv,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return i=>{this.Mi.enqueueAndForget((()=>this.D_===t?i():(lt(yv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class QI extends kE{constructor(t,i,a,l,c,d){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,a,l,d),this.serializer=c}j_(t,i){return this.connection.T_("Listen",t,i)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const i=JR(this.serializer,t),a=(function(c){if(!("targetChange"in c))return St.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?St.min():d.readTime?qi(d.readTime):St.min()})(t);return this.listener.H_(i,a)}Y_(t){const i={};i.database=Rm(this.serializer),i.addTarget=(function(c,d){let p;const y=d.target;if(p=Em(y)?{documents:eI(c,y)}:{query:nI(c,y).ft},p.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){p.resumeToken=AE(c,d.resumeToken);const _=Am(c,d.expectedCount);_!==null&&(p.expectedCount=_)}else if(d.snapshotVersion.compareTo(St.min())>0){p.readTime=vh(c,d.snapshotVersion.toTimestamp());const _=Am(c,d.expectedCount);_!==null&&(p.expectedCount=_)}return p})(this.serializer,t);const a=rI(this.serializer,t);a&&(i.labels=a),this.q_(i)}Z_(t){const i={};i.database=Rm(this.serializer),i.removeTarget=t,this.q_(i)}}class YI extends kE{constructor(t,i,a,l,c,d){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,a,l,d),this.serializer=c}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,i){return this.connection.T_("Write",t,i)}J_(t){return Zt(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Zt(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){Zt(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const i=tI(t.writeResults,t.commitTime),a=qi(t.commitTime);return this.listener.na(a,i)}ra(){const t={};t.database=Rm(this.serializer),this.q_(t)}ea(t){const i={streamToken:this.lastStreamToken,writes:t.map((a=>WR(this.serializer,a)))};this.q_(i)}}class KI{}class XI extends KI{constructor(t,i,a,l){super(),this.authCredentials=t,this.appCheckCredentials=i,this.connection=a,this.serializer=l,this.ia=!1}sa(){if(this.ia)throw new ut($.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,i,a,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Go(t,Sm(i,a),l,c,d))).catch((c=>{throw c.name==="FirebaseError"?(c.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new ut($.UNKNOWN,c.toString())}))}Ho(t,i,a,l,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,p])=>this.connection.Ho(t,Sm(i,a),l,d,p,c))).catch((d=>{throw d.name==="FirebaseError"?(d.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new ut($.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class $I{constructor(t,i){this.asyncQueue=t,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const i=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Ar(i),this.aa=!1):lt("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const ga="RemoteStore";class ZI{constructor(t,i,a,l,c){this.localStore=t,this.datastore=i,this.asyncQueue=a,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=c,this.Aa.Oo((d=>{a.enqueueAndForget((async()=>{ya(this)&&(lt(ga,"Restarting streams for network reachability change."),await(async function(y){const _=Rt(y);_.Ea.add(4),await yu(_),_.Ra.set("Unknown"),_.Ea.delete(4),await zh(_)})(this))}))})),this.Ra=new $I(a,l)}}async function zh(s){if(ya(s))for(const t of s.da)await t(!0)}async function yu(s){for(const t of s.da)await t(!1)}function UE(s,t){const i=Rt(s);i.Ia.has(t.targetId)||(i.Ia.set(t.targetId,t),gg(i)?mg(i):zo(i).O_()&&dg(i,t))}function fg(s,t){const i=Rt(s),a=zo(i);i.Ia.delete(t),a.O_()&&LE(i,t),i.Ia.size===0&&(a.O_()?a.L_():ya(i)&&i.Ra.set("Unknown"))}function dg(s,t){if(s.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(St.min())>0){const i=s.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(i)}zo(s).Y_(t)}function LE(s,t){s.Va.Ue(t),zo(s).Z_(t)}function mg(s){s.Va=new GR({getRemoteKeysForTarget:t=>s.remoteSyncer.getRemoteKeysForTarget(t),At:t=>s.Ia.get(t)||null,ht:()=>s.datastore.serializer.databaseId}),zo(s).start(),s.Ra.ua()}function gg(s){return ya(s)&&!zo(s).x_()&&s.Ia.size>0}function ya(s){return Rt(s).Ea.size===0}function PE(s){s.Va=void 0}async function JI(s){s.Ra.set("Online")}async function WI(s){s.Ia.forEach(((t,i)=>{dg(s,t)}))}async function tC(s,t){PE(s),gg(s)?(s.Ra.ha(t),mg(s)):s.Ra.set("Unknown")}async function eC(s,t,i){if(s.Ra.set("Online"),t instanceof bE&&t.state===2&&t.cause)try{await(async function(l,c){const d=c.cause;for(const p of c.targetIds)l.Ia.has(p)&&(await l.remoteSyncer.rejectListen(p,d),l.Ia.delete(p),l.Va.removeTarget(p))})(s,t)}catch(a){lt(ga,"Failed to remove targets %s: %s ",t.targetIds.join(","),a),await Th(s,a)}else if(t instanceof eh?s.Va.Ze(t):t instanceof TE?s.Va.st(t):s.Va.tt(t),!i.isEqual(St.min()))try{const a=await OE(s.localStore);i.compareTo(a)>=0&&await(function(c,d){const p=c.Va.Tt(d);return p.targetChanges.forEach(((y,_)=>{if(y.resumeToken.approximateByteSize()>0){const b=c.Ia.get(_);b&&c.Ia.set(_,b.withResumeToken(y.resumeToken,d))}})),p.targetMismatches.forEach(((y,_)=>{const b=c.Ia.get(y);if(!b)return;c.Ia.set(y,b.withResumeToken(ln.EMPTY_BYTE_STRING,b.snapshotVersion)),LE(c,y);const A=new fs(b.target,y,_,b.sequenceNumber);dg(c,A)})),c.remoteSyncer.applyRemoteEvent(p)})(s,i)}catch(a){lt(ga,"Failed to raise snapshot:",a),await Th(s,a)}}async function Th(s,t,i){if(!Po(t))throw t;s.Ea.add(1),await yu(s),s.Ra.set("Offline"),i||(i=()=>OE(s.localStore)),s.asyncQueue.enqueueRetryable((async()=>{lt(ga,"Retrying IndexedDB access"),await i(),s.Ea.delete(1),await zh(s)}))}function zE(s,t){return t().catch((i=>Th(s,i,t)))}async function jh(s){const t=Rt(s),i=As(t);let a=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:Zm;for(;nC(t);)try{const l=await LI(t.localStore,a);if(l===null){t.Ta.length===0&&i.L_();break}a=l.batchId,iC(t,l)}catch(l){await Th(t,l)}jE(t)&&BE(t)}function nC(s){return ya(s)&&s.Ta.length<10}function iC(s,t){s.Ta.push(t);const i=As(s);i.O_()&&i.X_&&i.ea(t.mutations)}function jE(s){return ya(s)&&!As(s).x_()&&s.Ta.length>0}function BE(s){As(s).start()}async function rC(s){As(s).ra()}async function sC(s){const t=As(s);for(const i of s.Ta)t.ea(i.mutations)}async function aC(s,t,i){const a=s.Ta.shift(),l=sg.from(a,t,i);await zE(s,(()=>s.remoteSyncer.applySuccessfulWrite(l))),await jh(s)}async function oC(s,t){t&&As(s).X_&&await(async function(a,l){if((function(d){return qR(d)&&d!==$.ABORTED})(l.code)){const c=a.Ta.shift();As(a).B_(),await zE(a,(()=>a.remoteSyncer.rejectFailedWrite(c.batchId,l))),await jh(a)}})(s,t),jE(s)&&BE(s)}async function _v(s,t){const i=Rt(s);i.asyncQueue.verifyOperationInProgress(),lt(ga,"RemoteStore received new credentials");const a=ya(i);i.Ea.add(3),await yu(i),a&&i.Ra.set("Unknown"),await i.remoteSyncer.handleCredentialChange(t),i.Ea.delete(3),await zh(i)}async function lC(s,t){const i=Rt(s);t?(i.Ea.delete(2),await zh(i)):t||(i.Ea.add(2),await yu(i),i.Ra.set("Unknown"))}function zo(s){return s.ma||(s.ma=(function(i,a,l){const c=Rt(i);return c.sa(),new QI(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(s.datastore,s.asyncQueue,{Xo:JI.bind(null,s),t_:WI.bind(null,s),r_:tC.bind(null,s),H_:eC.bind(null,s)}),s.da.push((async t=>{t?(s.ma.B_(),gg(s)?mg(s):s.Ra.set("Unknown")):(await s.ma.stop(),PE(s))}))),s.ma}function As(s){return s.fa||(s.fa=(function(i,a,l){const c=Rt(i);return c.sa(),new YI(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(s.datastore,s.asyncQueue,{Xo:()=>Promise.resolve(),t_:rC.bind(null,s),r_:oC.bind(null,s),ta:sC.bind(null,s),na:aC.bind(null,s)}),s.da.push((async t=>{t?(s.fa.B_(),await jh(s)):(await s.fa.stop(),s.Ta.length>0&&(lt(ga,`Stopping write stream with ${s.Ta.length} pending writes`),s.Ta=[]))}))),s.fa}class pg{constructor(t,i,a,l,c){this.asyncQueue=t,this.timerId=i,this.targetTimeMs=a,this.op=l,this.removalCallback=c,this.deferred=new ua,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,i,a,l,c){const d=Date.now()+a,p=new pg(t,i,d,l,c);return p.start(a),p}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ut($.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function yg(s,t){if(Ar("AsyncQueue",`${t}: ${s}`),Po(s))return new ut($.UNAVAILABLE,`${t}: ${s}`);throw s}class bo{static emptySet(t){return new bo(t.comparator)}constructor(t){this.comparator=t?(i,a)=>t(i,a)||gt.comparator(i.key,a.key):(i,a)=>gt.comparator(i.key,a.key),this.keyedMap=jl(),this.sortedSet=new Ee(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const i=this.keyedMap.get(t);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((i,a)=>(t(i),!1)))}add(t){const i=this.delete(t.key);return i.copy(i.keyedMap.insert(t.key,t),i.sortedSet.insert(t,null))}delete(t){const i=this.get(t);return i?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(i)):this}isEqual(t){if(!(t instanceof bo)||this.size!==t.size)return!1;const i=this.sortedSet.getIterator(),a=t.sortedSet.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=a.getNext().key;if(!l.isEqual(c))return!1}return!0}toString(){const t=[];return this.forEach((i=>{t.push(i.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,i){const a=new bo;return a.comparator=this.comparator,a.keyedMap=t,a.sortedSet=i,a}}class vv{constructor(){this.ga=new Ee(gt.comparator)}track(t){const i=t.doc.key,a=this.ga.get(i);a?t.type!==0&&a.type===3?this.ga=this.ga.insert(i,t):t.type===3&&a.type!==1?this.ga=this.ga.insert(i,{type:a.type,doc:t.doc}):t.type===2&&a.type===2?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):t.type===2&&a.type===0?this.ga=this.ga.insert(i,{type:0,doc:t.doc}):t.type===1&&a.type===0?this.ga=this.ga.remove(i):t.type===1&&a.type===2?this.ga=this.ga.insert(i,{type:1,doc:a.doc}):t.type===0&&a.type===1?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):Et(63341,{Rt:t,pa:a}):this.ga=this.ga.insert(i,t)}ya(){const t=[];return this.ga.inorderTraversal(((i,a)=>{t.push(a)})),t}}class xo{constructor(t,i,a,l,c,d,p,y,_){this.query=t,this.docs=i,this.oldDocs=a,this.docChanges=l,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=p,this.excludesMetadataChanges=y,this.hasCachedResults=_}static fromInitialDocuments(t,i,a,l,c){const d=[];return i.forEach((p=>{d.push({type:0,doc:p})})),new xo(t,i,bo.emptySet(i),d,a,l,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Oh(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const i=this.docChanges,a=t.docChanges;if(i.length!==a.length)return!1;for(let l=0;l<i.length;l++)if(i[l].type!==a[l].type||!i[l].doc.isEqual(a[l].doc))return!1;return!0}}class uC{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((t=>t.Da()))}}class cC{constructor(){this.queries=Ev(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,a){const l=Rt(i),c=l.queries;l.queries=Ev(),c.forEach(((d,p)=>{for(const y of p.Sa)y.onError(a)}))})(this,new ut($.ABORTED,"Firestore shutting down"))}}function Ev(){return new pa((s=>lE(s)),Oh)}async function hC(s,t){const i=Rt(s);let a=3;const l=t.query;let c=i.queries.get(l);c?!c.ba()&&t.Da()&&(a=2):(c=new uC,a=t.Da()?0:1);try{switch(a){case 0:c.wa=await i.onListen(l,!0);break;case 1:c.wa=await i.onListen(l,!1);break;case 2:await i.onFirstRemoteStoreListen(l)}}catch(d){const p=yg(d,`Initialization of query '${mo(t.query)}' failed`);return void t.onError(p)}i.queries.set(l,c),c.Sa.push(t),t.va(i.onlineState),c.wa&&t.Fa(c.wa)&&_g(i)}async function fC(s,t){const i=Rt(s),a=t.query;let l=3;const c=i.queries.get(a);if(c){const d=c.Sa.indexOf(t);d>=0&&(c.Sa.splice(d,1),c.Sa.length===0?l=t.Da()?0:1:!c.ba()&&t.Da()&&(l=2))}switch(l){case 0:return i.queries.delete(a),i.onUnlisten(a,!0);case 1:return i.queries.delete(a),i.onUnlisten(a,!1);case 2:return i.onLastRemoteStoreUnlisten(a);default:return}}function dC(s,t){const i=Rt(s);let a=!1;for(const l of t){const c=l.query,d=i.queries.get(c);if(d){for(const p of d.Sa)p.Fa(l)&&(a=!0);d.wa=l}}a&&_g(i)}function mC(s,t,i){const a=Rt(s),l=a.queries.get(t);if(l)for(const c of l.Sa)c.onError(i);a.queries.delete(t)}function _g(s){s.Ca.forEach((t=>{t.next()}))}var Nm,Tv;(Tv=Nm||(Nm={})).Ma="default",Tv.Cache="cache";class gC{constructor(t,i,a){this.query=t,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=a||{}}Fa(t){if(!this.options.includeMetadataChanges){const a=[];for(const l of t.docChanges)l.type!==3&&a.push(l);t=new xo(t.query,t.docs,t.oldDocs,a,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let i=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),i=!0):this.La(t,this.onlineState)&&(this.ka(t),i=!0),this.Na=t,i}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),i=!0),i}La(t,i){if(!t.fromCache||!this.Da())return!0;const a=i!=="Offline";return(!this.options.qa||!a)&&(!t.docs.isEmpty()||t.hasCachedResults||i==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(t){t=xo.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==Nm.Cache}}class qE{constructor(t){this.key=t}}class HE{constructor(t){this.key=t}}class pC{constructor(t,i){this.query=t,this.Ya=i,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=zt(),this.mutatedKeys=zt(),this.eu=uE(t),this.tu=new bo(this.eu)}get nu(){return this.Ya}ru(t,i){const a=i?i.iu:new vv,l=i?i.tu:this.tu;let c=i?i.mutatedKeys:this.mutatedKeys,d=l,p=!1;const y=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,_=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(t.inorderTraversal(((b,A)=>{const M=l.get(b),F=Vh(this.query,A)?A:null,tt=!!M&&this.mutatedKeys.has(M.key),it=!!F&&(F.hasLocalMutations||this.mutatedKeys.has(F.key)&&F.hasCommittedMutations);let et=!1;M&&F?M.data.isEqual(F.data)?tt!==it&&(a.track({type:3,doc:F}),et=!0):this.su(M,F)||(a.track({type:2,doc:F}),et=!0,(y&&this.eu(F,y)>0||_&&this.eu(F,_)<0)&&(p=!0)):!M&&F?(a.track({type:0,doc:F}),et=!0):M&&!F&&(a.track({type:1,doc:M}),et=!0,(y||_)&&(p=!0)),et&&(F?(d=d.add(F),c=it?c.add(b):c.delete(b)):(d=d.delete(b),c=c.delete(b)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const b=this.query.limitType==="F"?d.last():d.first();d=d.delete(b.key),c=c.delete(b.key),a.track({type:1,doc:b})}return{tu:d,iu:a,Cs:p,mutatedKeys:c}}su(t,i){return t.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(t,i,a,l){const c=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const d=t.iu.ya();d.sort(((b,A)=>(function(F,tt){const it=et=>{switch(et){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Et(20277,{Rt:et})}};return it(F)-it(tt)})(b.type,A.type)||this.eu(b.doc,A.doc))),this.ou(a),l=l??!1;const p=i&&!l?this._u():[],y=this.Xa.size===0&&this.current&&!l?1:0,_=y!==this.Za;return this.Za=y,d.length!==0||_?{snapshot:new xo(this.query,t.tu,c,d,t.mutatedKeys,y===0,_,!1,!!a&&a.resumeToken.approximateByteSize()>0),au:p}:{au:p}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new vv,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((i=>this.Ya=this.Ya.add(i))),t.modifiedDocuments.forEach((i=>{})),t.removedDocuments.forEach((i=>this.Ya=this.Ya.delete(i))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=zt(),this.tu.forEach((a=>{this.uu(a.key)&&(this.Xa=this.Xa.add(a.key))}));const i=[];return t.forEach((a=>{this.Xa.has(a)||i.push(new HE(a))})),this.Xa.forEach((a=>{t.has(a)||i.push(new qE(a))})),i}cu(t){this.Ya=t.Qs,this.Xa=zt();const i=this.ru(t.documents);return this.applyChanges(i,!0)}lu(){return xo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const vg="SyncEngine";class yC{constructor(t,i,a){this.query=t,this.targetId=i,this.view=a}}class _C{constructor(t){this.key=t,this.hu=!1}}class vC{constructor(t,i,a,l,c,d){this.localStore=t,this.remoteStore=i,this.eventManager=a,this.sharedClientState=l,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new pa((p=>lE(p)),Oh),this.Iu=new Map,this.Eu=new Set,this.du=new Ee(gt.comparator),this.Au=new Map,this.Ru=new lg,this.Vu={},this.mu=new Map,this.fu=Do.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function EC(s,t,i=!0){const a=XE(s);let l;const c=a.Tu.get(t);return c?(a.sharedClientState.addLocalQueryTarget(c.targetId),l=c.view.lu()):l=await FE(a,t,i,!0),l}async function TC(s,t){const i=XE(s);await FE(i,t,!0,!1)}async function FE(s,t,i,a){const l=await PI(s.localStore,Bi(t)),c=l.targetId,d=s.sharedClientState.addLocalQueryTarget(c,i);let p;return a&&(p=await bC(s,t,c,d==="current",l.resumeToken)),s.isPrimaryClient&&i&&UE(s.remoteStore,l),p}async function bC(s,t,i,a,l){s.pu=(A,M,F)=>(async function(it,et,pt,_t){let yt=et.view.ru(pt);yt.Cs&&(yt=await dv(it.localStore,et.query,!1).then((({documents:C})=>et.view.ru(C,yt))));const Ft=_t&&_t.targetChanges.get(et.targetId),ee=_t&&_t.targetMismatches.get(et.targetId)!=null,Ot=et.view.applyChanges(yt,it.isPrimaryClient,Ft,ee);return Av(it,et.targetId,Ot.au),Ot.snapshot})(s,A,M,F);const c=await dv(s.localStore,t,!0),d=new pC(t,c.Qs),p=d.ru(c.documents),y=pu.createSynthesizedTargetChangeForCurrentChange(i,a&&s.onlineState!=="Offline",l),_=d.applyChanges(p,s.isPrimaryClient,y);Av(s,i,_.au);const b=new yC(t,i,d);return s.Tu.set(t,b),s.Iu.has(i)?s.Iu.get(i).push(t):s.Iu.set(i,[t]),_.snapshot}async function AC(s,t,i){const a=Rt(s),l=a.Tu.get(t),c=a.Iu.get(l.targetId);if(c.length>1)return a.Iu.set(l.targetId,c.filter((d=>!Oh(d,t)))),void a.Tu.delete(t);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(l.targetId),a.sharedClientState.isActiveQueryTarget(l.targetId)||await Im(a.localStore,l.targetId,!1).then((()=>{a.sharedClientState.clearQueryState(l.targetId),i&&fg(a.remoteStore,l.targetId),Dm(a,l.targetId)})).catch(Lo)):(Dm(a,l.targetId),await Im(a.localStore,l.targetId,!0))}async function SC(s,t){const i=Rt(s),a=i.Tu.get(t),l=i.Iu.get(a.targetId);i.isPrimaryClient&&l.length===1&&(i.sharedClientState.removeLocalQueryTarget(a.targetId),fg(i.remoteStore,a.targetId))}async function wC(s,t,i){const a=MC(s);try{const l=await(function(d,p){const y=Rt(d),_=he.now(),b=p.reduce(((F,tt)=>F.add(tt.key)),zt());let A,M;return y.persistence.runTransaction("Locally write mutations","readwrite",(F=>{let tt=Sr(),it=zt();return y.Ns.getEntries(F,b).next((et=>{tt=et,tt.forEach(((pt,_t)=>{_t.isValidDocument()||(it=it.add(pt))}))})).next((()=>y.localDocuments.getOverlayedDocuments(F,tt))).next((et=>{A=et;const pt=[];for(const _t of p){const yt=LR(_t,A.get(_t.key).overlayedDocument);yt!=null&&pt.push(new Rs(_t.key,yt,tE(yt.value.mapValue),Ti.exists(!0)))}return y.mutationQueue.addMutationBatch(F,_,pt,p)})).next((et=>{M=et;const pt=et.applyToLocalDocumentSet(A,it);return y.documentOverlayCache.saveOverlays(F,et.batchId,pt)}))})).then((()=>({batchId:M.batchId,changes:hE(A)})))})(a.localStore,t);a.sharedClientState.addPendingMutation(l.batchId),(function(d,p,y){let _=d.Vu[d.currentUser.toKey()];_||(_=new Ee(Pt)),_=_.insert(p,y),d.Vu[d.currentUser.toKey()]=_})(a,l.batchId,i),await _u(a,l.changes),await jh(a.remoteStore)}catch(l){const c=yg(l,"Failed to persist write");i.reject(c)}}async function GE(s,t){const i=Rt(s);try{const a=await kI(i.localStore,t);t.targetChanges.forEach(((l,c)=>{const d=i.Au.get(c);d&&(Zt(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?d.hu=!0:l.modifiedDocuments.size>0?Zt(d.hu,14607):l.removedDocuments.size>0&&(Zt(d.hu,42227),d.hu=!1))})),await _u(i,a,t)}catch(a){await Lo(a)}}function bv(s,t,i){const a=Rt(s);if(a.isPrimaryClient&&i===0||!a.isPrimaryClient&&i===1){const l=[];a.Tu.forEach(((c,d)=>{const p=d.view.va(t);p.snapshot&&l.push(p.snapshot)})),(function(d,p){const y=Rt(d);y.onlineState=p;let _=!1;y.queries.forEach(((b,A)=>{for(const M of A.Sa)M.va(p)&&(_=!0)})),_&&_g(y)})(a.eventManager,t),l.length&&a.Pu.H_(l),a.onlineState=t,a.isPrimaryClient&&a.sharedClientState.setOnlineState(t)}}async function RC(s,t,i){const a=Rt(s);a.sharedClientState.updateQueryState(t,"rejected",i);const l=a.Au.get(t),c=l&&l.key;if(c){let d=new Ee(gt.comparator);d=d.insert(c,dn.newNoDocument(c,St.min()));const p=zt().add(c),y=new Lh(St.min(),new Map,new Ee(Pt),d,p);await GE(a,y),a.du=a.du.remove(c),a.Au.delete(t),Eg(a)}else await Im(a.localStore,t,!1).then((()=>Dm(a,t,i))).catch(Lo)}async function IC(s,t){const i=Rt(s),a=t.batch.batchId;try{const l=await VI(i.localStore,t);YE(i,a,null),QE(i,a),i.sharedClientState.updateMutationState(a,"acknowledged"),await _u(i,l)}catch(l){await Lo(l)}}async function CC(s,t,i){const a=Rt(s);try{const l=await(function(d,p){const y=Rt(d);return y.persistence.runTransaction("Reject batch","readwrite-primary",(_=>{let b;return y.mutationQueue.lookupMutationBatch(_,p).next((A=>(Zt(A!==null,37113),b=A.keys(),y.mutationQueue.removeMutationBatch(_,A)))).next((()=>y.mutationQueue.performConsistencyCheck(_))).next((()=>y.documentOverlayCache.removeOverlaysForBatchId(_,b,p))).next((()=>y.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,b))).next((()=>y.localDocuments.getDocuments(_,b)))}))})(a.localStore,t);YE(a,t,i),QE(a,t),a.sharedClientState.updateMutationState(t,"rejected",i),await _u(a,l)}catch(l){await Lo(l)}}function QE(s,t){(s.mu.get(t)||[]).forEach((i=>{i.resolve()})),s.mu.delete(t)}function YE(s,t,i){const a=Rt(s);let l=a.Vu[a.currentUser.toKey()];if(l){const c=l.get(t);c&&(i?c.reject(i):c.resolve(),l=l.remove(t)),a.Vu[a.currentUser.toKey()]=l}}function Dm(s,t,i=null){s.sharedClientState.removeLocalQueryTarget(t);for(const a of s.Iu.get(t))s.Tu.delete(a),i&&s.Pu.yu(a,i);s.Iu.delete(t),s.isPrimaryClient&&s.Ru.jr(t).forEach((a=>{s.Ru.containsKey(a)||KE(s,a)}))}function KE(s,t){s.Eu.delete(t.path.canonicalString());const i=s.du.get(t);i!==null&&(fg(s.remoteStore,i),s.du=s.du.remove(t),s.Au.delete(i),Eg(s))}function Av(s,t,i){for(const a of i)a instanceof qE?(s.Ru.addReference(a.key,t),NC(s,a)):a instanceof HE?(lt(vg,"Document no longer in limbo: "+a.key),s.Ru.removeReference(a.key,t),s.Ru.containsKey(a.key)||KE(s,a.key)):Et(19791,{wu:a})}function NC(s,t){const i=t.key,a=i.path.canonicalString();s.du.get(i)||s.Eu.has(a)||(lt(vg,"New document in limbo: "+i),s.Eu.add(a),Eg(s))}function Eg(s){for(;s.Eu.size>0&&s.du.size<s.maxConcurrentLimboResolutions;){const t=s.Eu.values().next().value;s.Eu.delete(t);const i=new gt(oe.fromString(t)),a=s.fu.next();s.Au.set(a,new _C(i)),s.du=s.du.insert(i,a),UE(s.remoteStore,new fs(Bi(ng(i.path)),a,"TargetPurposeLimboResolution",Dh.ce))}}async function _u(s,t,i){const a=Rt(s),l=[],c=[],d=[];a.Tu.isEmpty()||(a.Tu.forEach(((p,y)=>{d.push(a.pu(y,t,i).then((_=>{if((_||i)&&a.isPrimaryClient){const b=_?!_.fromCache:i?.targetChanges.get(y.targetId)?.current;a.sharedClientState.updateQueryState(y.targetId,b?"current":"not-current")}if(_){l.push(_);const b=cg.As(y.targetId,_);c.push(b)}})))})),await Promise.all(d),a.Pu.H_(l),await(async function(y,_){const b=Rt(y);try{await b.persistence.runTransaction("notifyLocalViewChanges","readwrite",(A=>Z.forEach(_,(M=>Z.forEach(M.Es,(F=>b.persistence.referenceDelegate.addReference(A,M.targetId,F))).next((()=>Z.forEach(M.ds,(F=>b.persistence.referenceDelegate.removeReference(A,M.targetId,F)))))))))}catch(A){if(!Po(A))throw A;lt(hg,"Failed to update sequence numbers: "+A)}for(const A of _){const M=A.targetId;if(!A.fromCache){const F=b.Ms.get(M),tt=F.snapshotVersion,it=F.withLastLimboFreeSnapshotVersion(tt);b.Ms=b.Ms.insert(M,it)}}})(a.localStore,c))}async function DC(s,t){const i=Rt(s);if(!i.currentUser.isEqual(t)){lt(vg,"User change. New user:",t.toKey());const a=await ME(i.localStore,t);i.currentUser=t,(function(c,d){c.mu.forEach((p=>{p.forEach((y=>{y.reject(new ut($.CANCELLED,d))}))})),c.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(t,a.removedBatchIds,a.addedBatchIds),await _u(i,a.Ls)}}function xC(s,t){const i=Rt(s),a=i.Au.get(t);if(a&&a.hu)return zt().add(a.key);{let l=zt();const c=i.Iu.get(t);if(!c)return l;for(const d of c){const p=i.Tu.get(d);l=l.unionWith(p.view.nu)}return l}}function XE(s){const t=Rt(s);return t.remoteStore.remoteSyncer.applyRemoteEvent=GE.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=xC.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=RC.bind(null,t),t.Pu.H_=dC.bind(null,t.eventManager),t.Pu.yu=mC.bind(null,t.eventManager),t}function MC(s){const t=Rt(s);return t.remoteStore.remoteSyncer.applySuccessfulWrite=IC.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=CC.bind(null,t),t}class bh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Ph(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,i){return null}Mu(t,i){return null}vu(t){return OI(this.persistence,new DI,t.initialUser,this.serializer)}Cu(t){return new xE(ug.mi,this.serializer)}Du(t){return new jI}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}bh.provider={build:()=>new bh};class OC extends bh{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,i){Zt(this.persistence.referenceDelegate instanceof Eh,46915);const a=this.persistence.referenceDelegate.garbageCollector;return new gI(a,t.asyncQueue,i)}Cu(t){const i=this.cacheSizeBytes!==void 0?Dn.withCacheSize(this.cacheSizeBytes):Dn.DEFAULT;return new xE((a=>Eh.mi(a,i)),this.serializer)}}class xm{async initialize(t,i){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>bv(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=DC.bind(null,this.syncEngine),await lC(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new cC})()}createDatastore(t){const i=Ph(t.databaseInfo.databaseId),a=(function(c){return new GI(c)})(t.databaseInfo);return(function(c,d,p,y){return new XI(c,d,p,y)})(t.authCredentials,t.appCheckCredentials,a,i)}createRemoteStore(t){return(function(a,l,c,d,p){return new ZI(a,l,c,d,p)})(this.localStore,this.datastore,t.asyncQueue,(i=>bv(this.syncEngine,i,0)),(function(){return pv.v()?new pv:new BI})())}createSyncEngine(t,i){return(function(l,c,d,p,y,_,b){const A=new vC(l,c,d,p,y,_);return b&&(A.gu=!0),A})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const a=Rt(i);lt(ga,"RemoteStore shutting down."),a.Ea.add(5),await yu(a),a.Aa.shutdown(),a.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}xm.provider={build:()=>new xm};class VC{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):Ar("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,i){setTimeout((()=>{this.muted||t(i)}),0)}}const Ss="FirestoreClient";class kC{constructor(t,i,a,l,c){this.authCredentials=t,this.appCheckCredentials=i,this.asyncQueue=a,this.databaseInfo=l,this.user=fn.UNAUTHENTICATED,this.clientId=$m.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(a,(async d=>{lt(Ss,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(a,(d=>(lt(Ss,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new ua;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(i){const a=yg(i,"Failed to shutdown persistence");t.reject(a)}})),t.promise}}async function nm(s,t){s.asyncQueue.verifyOperationInProgress(),lt(Ss,"Initializing OfflineComponentProvider");const i=s.configuration;await t.initialize(i);let a=i.initialUser;s.setCredentialChangeListener((async l=>{a.isEqual(l)||(await ME(t.localStore,l),a=l)})),t.persistence.setDatabaseDeletedListener((()=>s.terminate())),s._offlineComponents=t}async function Sv(s,t){s.asyncQueue.verifyOperationInProgress();const i=await UC(s);lt(Ss,"Initializing OnlineComponentProvider"),await t.initialize(i,s.configuration),s.setCredentialChangeListener((a=>_v(t.remoteStore,a))),s.setAppCheckTokenChangeListener(((a,l)=>_v(t.remoteStore,l))),s._onlineComponents=t}async function UC(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){lt(Ss,"Using user provided OfflineComponentProvider");try{await nm(s,s._uninitializedComponentsProvider._offline)}catch(t){const i=t;if(!(function(l){return l.name==="FirebaseError"?l.code===$.FAILED_PRECONDITION||l.code===$.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11})(i))throw i;Ro("Error using user provided cache. Falling back to memory cache: "+i),await nm(s,new bh)}}else lt(Ss,"Using default OfflineComponentProvider"),await nm(s,new OC(void 0));return s._offlineComponents}async function $E(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(lt(Ss,"Using user provided OnlineComponentProvider"),await Sv(s,s._uninitializedComponentsProvider._online)):(lt(Ss,"Using default OnlineComponentProvider"),await Sv(s,new xm))),s._onlineComponents}function LC(s){return $E(s).then((t=>t.syncEngine))}async function wv(s){const t=await $E(s),i=t.eventManager;return i.onListen=EC.bind(null,t.syncEngine),i.onUnlisten=AC.bind(null,t.syncEngine),i.onFirstRemoteStoreListen=TC.bind(null,t.syncEngine),i.onLastRemoteStoreUnlisten=SC.bind(null,t.syncEngine),i}function ZE(s){const t={};return s.timeoutSeconds!==void 0&&(t.timeoutSeconds=s.timeoutSeconds),t}const Rv=new Map;const JE="firestore.googleapis.com",Iv=!0;class Cv{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new ut($.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=JE,this.ssl=Iv}else this.host=t.host,this.ssl=t.ssl??Iv;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=DE;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<dI)throw new ut($.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}$w("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=ZE(t.experimentalLongPollingOptions??{}),(function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new ut($.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new ut($.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new ut($.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(a,l){return a.timeoutSeconds===l.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Bh{constructor(t,i,a,l){this._authCredentials=t,this._appCheckCredentials=i,this._databaseId=a,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Cv({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ut($.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new ut($.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Cv(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(a){if(!a)return new jw;switch(a.type){case"firstParty":return new Fw(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new ut($.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const a=Rv.get(i);a&&(lt("ComponentProvider","Removing Datastore"),Rv.delete(i),a.terminate())})(this),Promise.resolve()}}function PC(s,t,i,a={}){s=ys(s,Bh);const l=Oo(t),c=s._getSettings(),d={...c,emulatorOptions:s._getEmulatorOptions()},p=`${t}:${i}`;l&&($v(`https://${p}`),Zv("Firestore",!0)),c.host!==JE&&c.host!==p&&Ro("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const y={...c,host:p,ssl:l,emulatorOptions:a};if(!ha(y,d)&&(s._setSettings(y),a.mockUserToken)){let _,b;if(typeof a.mockUserToken=="string")_=a.mockUserToken,b=fn.MOCK_USER;else{_=uA(a.mockUserToken,s._app?.options.projectId);const A=a.mockUserToken.sub||a.mockUserToken.user_id;if(!A)throw new ut($.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");b=new fn(A)}s._authCredentials=new Bw(new q1(_,b))}}class jo{constructor(t,i,a){this.converter=i,this._query=a,this.type="query",this.firestore=t}withConverter(t){return new jo(this.firestore,t,this._query)}}class Fe{constructor(t,i,a){this.converter=i,this._key=a,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new _s(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Fe(this.firestore,t,this._key)}toJSON(){return{type:Fe._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,i,a){if(du(i,Fe._jsonSchema))return new Fe(t,a||null,new gt(oe.fromString(i.referencePath)))}}Fe._jsonSchemaVersion="firestore/documentReference/1.0",Fe._jsonSchema={type:He("string",Fe._jsonSchemaVersion),referencePath:He("string")};class _s extends jo{constructor(t,i,a){super(t,i,ng(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Fe(this.firestore,null,new gt(t))}withConverter(t){return new _s(this.firestore,t,this._path)}}function Nv(s,t,...i){if(s=on(s),H1("collection","path",t),s instanceof Bh){const a=oe.fromString(t,...i);return j0(a),new _s(s,null,a)}{if(!(s instanceof Fe||s instanceof _s))throw new ut($.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=s._path.child(oe.fromString(t,...i));return j0(a),new _s(s.firestore,null,a)}}function ql(s,t,...i){if(s=on(s),arguments.length===1&&(t=$m.newId()),H1("doc","path",t),s instanceof Bh){const a=oe.fromString(t,...i);return z0(a),new Fe(s,null,new gt(a))}{if(!(s instanceof Fe||s instanceof _s))throw new ut($.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=s._path.child(oe.fromString(t,...i));return z0(a),new Fe(s.firestore,s instanceof _s?s.converter:null,new gt(a))}}const Dv="AsyncQueue";class xv{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new VE(this,"async_queue_retry"),this._c=()=>{const a=em();a&&lt(Dv,"Visibility state changed to "+a.visibilityState),this.M_.w_()},this.ac=t;const i=em();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const i=em();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new ua;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Xu.push(t),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!Po(t))throw t;lt(Dv,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const i=this.ac.then((()=>(this.rc=!0,t().catch((a=>{throw this.nc=a,this.rc=!1,Ar("INTERNAL UNHANDLED ERROR: ",Mv(a)),a})).then((a=>(this.rc=!1,a))))));return this.ac=i,i}enqueueAfterDelay(t,i,a){this.uc(),this.oc.indexOf(t)>-1&&(i=0);const l=pg.createAndSchedule(this,t,i,a,(c=>this.hc(c)));return this.tc.push(l),l}uc(){this.nc&&Et(47125,{Pc:Mv(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const i of this.tc)if(i.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((i,a)=>i.targetTimeMs-a.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),t!=="all"&&i.timerId===t)break;return this.Tc()}))}dc(t){this.oc.push(t)}hc(t){const i=this.tc.indexOf(t);this.tc.splice(i,1)}}function Mv(s){let t=s.message||"";return s.stack&&(t=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),t}function Ov(s){return(function(i,a){if(typeof i!="object"||i===null)return!1;const l=i;for(const c of a)if(c in l&&typeof l[c]=="function")return!0;return!1})(s,["next","error","complete"])}class Mo extends Bh{constructor(t,i,a,l){super(t,i,a,l),this.type="firestore",this._queue=new xv,this._persistenceKey=l?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new xv(t),this._firestoreClient=void 0,await t}}}function zC(s,t){const i=typeof s=="object"?s:e1(),a=typeof s=="string"?s:mh,l=jm(i,"firestore").getImmediate({identifier:a});if(!l._initialized){const c=oA("firestore");c&&PC(l,...c)}return l}function WE(s){if(s._terminated)throw new ut($.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||jC(s),s._firestoreClient}function jC(s){const t=s._freezeSettings(),i=(function(l,c,d,p){return new oR(l,c,d,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,ZE(p.experimentalLongPollingOptions),p.useFetchStreams,p.isUsingEmulator)})(s._databaseId,s._app?.options.appId||"",s._persistenceKey,t);s._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(s._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),s._firestoreClient=new kC(s._authCredentials,s._appCheckCredentials,s._queue,i,s._componentsProvider&&(function(l){const c=l?._online.build();return{_offline:l?._offline.build(c),_online:c}})(s._componentsProvider))}class ci{constructor(t){this._byteString=t}static fromBase64String(t){try{return new ci(ln.fromBase64String(t))}catch(i){throw new ut($.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(t){return new ci(ln.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:ci._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(du(t,ci._jsonSchema))return ci.fromBase64String(t.bytes)}}ci._jsonSchemaVersion="firestore/bytes/1.0",ci._jsonSchema={type:He("string",ci._jsonSchemaVersion),bytes:He("string")};class qh{constructor(...t){for(let i=0;i<t.length;++i)if(t[i].length===0)throw new ut($.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new an(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class Hh{constructor(t){this._methodName=t}}class Hi{constructor(t,i){if(!isFinite(t)||t<-90||t>90)throw new ut($.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(i)||i<-180||i>180)throw new ut($.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=t,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return Pt(this._lat,t._lat)||Pt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Hi._jsonSchemaVersion}}static fromJSON(t){if(du(t,Hi._jsonSchema))return new Hi(t.latitude,t.longitude)}}Hi._jsonSchemaVersion="firestore/geoPoint/1.0",Hi._jsonSchema={type:He("string",Hi._jsonSchemaVersion),latitude:He("number"),longitude:He("number")};class Fi{constructor(t){this._values=(t||[]).map((i=>i))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(a,l){if(a.length!==l.length)return!1;for(let c=0;c<a.length;++c)if(a[c]!==l[c])return!1;return!0})(this._values,t._values)}toJSON(){return{type:Fi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(du(t,Fi._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((i=>typeof i=="number")))return new Fi(t.vectorValues);throw new ut($.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Fi._jsonSchemaVersion="firestore/vectorValue/1.0",Fi._jsonSchema={type:He("string",Fi._jsonSchemaVersion),vectorValues:He("object")};const BC=/^__.*__$/;class qC{constructor(t,i,a){this.data=t,this.fieldMask=i,this.fieldTransforms=a}toMutation(t,i){return this.fieldMask!==null?new Rs(t,this.data,this.fieldMask,i,this.fieldTransforms):new gu(t,this.data,i,this.fieldTransforms)}}class tT{constructor(t,i,a){this.data=t,this.fieldMask=i,this.fieldTransforms=a}toMutation(t,i){return new Rs(t,this.data,this.fieldMask,i,this.fieldTransforms)}}function eT(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Et(40011,{Ac:s})}}class Tg{constructor(t,i,a,l,c,d){this.settings=t,this.databaseId=i,this.serializer=a,this.ignoreUndefinedProperties=l,c===void 0&&this.Rc(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new Tg({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){const i=this.path?.child(t),a=this.Vc({path:i,fc:!1});return a.gc(t),a}yc(t){const i=this.path?.child(t),a=this.Vc({path:i,fc:!1});return a.Rc(),a}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return Ah(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find((i=>t.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>t.isPrefixOf(i.field)))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(eT(this.Ac)&&BC.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class HC{constructor(t,i,a){this.databaseId=t,this.ignoreUndefinedProperties=i,this.serializer=a||Ph(t)}Cc(t,i,a,l=!1){return new Tg({Ac:t,methodName:i,Dc:a,path:an.emptyPath(),fc:!1,bc:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function bg(s){const t=s._freezeSettings(),i=Ph(s._databaseId);return new HC(s._databaseId,!!t.ignoreUndefinedProperties,i)}function FC(s,t,i,a,l,c={}){const d=s.Cc(c.merge||c.mergeFields?2:0,t,i,l);Sg("Data must be an object, but it was:",d,a);const p=nT(a,d);let y,_;if(c.merge)y=new Qn(d.fieldMask),_=d.fieldTransforms;else if(c.mergeFields){const b=[];for(const A of c.mergeFields){const M=Mm(t,A,i);if(!d.contains(M))throw new ut($.INVALID_ARGUMENT,`Field '${M}' is specified in your field mask but missing from your input data.`);rT(b,M)||b.push(M)}y=new Qn(b),_=d.fieldTransforms.filter((A=>y.covers(A.field)))}else y=null,_=d.fieldTransforms;return new qC(new xn(p),y,_)}class Fh extends Hh{_toFieldTransform(t){if(t.Ac!==2)throw t.Ac===1?t.Sc(`${this._methodName}() can only appear at the top level of your update data`):t.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof Fh}}class Ag extends Hh{_toFieldTransform(t){return new OR(t.path,new nu)}isEqual(t){return t instanceof Ag}}function GC(s,t,i,a){const l=s.Cc(1,t,i);Sg("Data must be an object, but it was:",l,a);const c=[],d=xn.empty();ws(a,((y,_)=>{const b=wg(t,y,i);_=on(_);const A=l.yc(b);if(_ instanceof Fh)c.push(b);else{const M=vu(_,A);M!=null&&(c.push(b),d.set(b,M))}}));const p=new Qn(c);return new tT(d,p,l.fieldTransforms)}function QC(s,t,i,a,l,c){const d=s.Cc(1,t,i),p=[Mm(t,a,i)],y=[l];if(c.length%2!=0)throw new ut($.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let M=0;M<c.length;M+=2)p.push(Mm(t,c[M])),y.push(c[M+1]);const _=[],b=xn.empty();for(let M=p.length-1;M>=0;--M)if(!rT(_,p[M])){const F=p[M];let tt=y[M];tt=on(tt);const it=d.yc(F);if(tt instanceof Fh)_.push(F);else{const et=vu(tt,it);et!=null&&(_.push(F),b.set(F,et))}}const A=new Qn(_);return new tT(b,A,d.fieldTransforms)}function YC(s,t,i,a=!1){return vu(i,s.Cc(a?4:3,t))}function vu(s,t){if(iT(s=on(s)))return Sg("Unsupported field value:",t,s),nT(s,t);if(s instanceof Hh)return(function(a,l){if(!eT(l.Ac))throw l.Sc(`${a._methodName}() can only be used with update() and set()`);if(!l.path)throw l.Sc(`${a._methodName}() is not currently supported inside arrays`);const c=a._toFieldTransform(l);c&&l.fieldTransforms.push(c)})(s,t),null;if(s===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),s instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return(function(a,l){const c=[];let d=0;for(const p of a){let y=vu(p,l.wc(d));y==null&&(y={nullValue:"NULL_VALUE"}),c.push(y),d++}return{arrayValue:{values:c}}})(s,t)}return(function(a,l){if((a=on(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return DR(l.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const c=he.fromDate(a);return{timestampValue:vh(l.serializer,c)}}if(a instanceof he){const c=new he(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:vh(l.serializer,c)}}if(a instanceof Hi)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof ci)return{bytesValue:AE(l.serializer,a._byteString)};if(a instanceof Fe){const c=l.databaseId,d=a.firestore._databaseId;if(!d.isEqual(c))throw l.Sc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:og(a.firestore._databaseId||l.databaseId,a._key.path)}}if(a instanceof Fi)return(function(d,p){return{mapValue:{fields:{[J1]:{stringValue:W1},[gh]:{arrayValue:{values:d.toArray().map((_=>{if(typeof _!="number")throw p.Sc("VectorValues must only contain numeric values.");return ig(p.serializer,_)}))}}}}}})(a,l);throw l.Sc(`Unsupported field value: ${Nh(a)}`)})(s,t)}function nT(s,t){const i={};return Q1(s)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):ws(s,((a,l)=>{const c=vu(l,t.mc(a));c!=null&&(i[a]=c)})),{mapValue:{fields:i}}}function iT(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof he||s instanceof Hi||s instanceof ci||s instanceof Fe||s instanceof Hh||s instanceof Fi)}function Sg(s,t,i){if(!iT(i)||!F1(i)){const a=Nh(i);throw a==="an object"?t.Sc(s+" a custom object"):t.Sc(s+" "+a)}}function Mm(s,t,i){if((t=on(t))instanceof qh)return t._internalPath;if(typeof t=="string")return wg(s,t);throw Ah("Field path arguments must be of type string or ",s,!1,void 0,i)}const KC=new RegExp("[~\\*/\\[\\]]");function wg(s,t,i){if(t.search(KC)>=0)throw Ah(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,i);try{return new qh(...t.split("."))._internalPath}catch{throw Ah(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,i)}}function Ah(s,t,i,a,l){const c=a&&!a.isEmpty(),d=l!==void 0;let p=`Function ${t}() called with invalid data`;i&&(p+=" (via `toFirestore()`)"),p+=". ";let y="";return(c||d)&&(y+=" (found",c&&(y+=` in field ${a}`),d&&(y+=` in document ${l}`),y+=")"),new ut($.INVALID_ARGUMENT,p+s+y)}function rT(s,t){return s.some((i=>i.isEqual(t)))}class sT{constructor(t,i,a,l,c){this._firestore=t,this._userDataWriter=i,this._key=a,this._document=l,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new Fe(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new XC(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const i=this._document.data.field(aT("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i)}}}class XC extends sT{data(){return super.data()}}function aT(s,t){return typeof t=="string"?wg(s,t):t instanceof qh?t._internalPath:t._delegate._internalPath}function $C(s){if(s.limitType==="L"&&s.explicitOrderBy.length===0)throw new ut($.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Rg{}class ZC extends Rg{}function JC(s,t,...i){let a=[];t instanceof Rg&&a.push(t),a=a.concat(i),(function(c){const d=c.filter((y=>y instanceof Cg)).length,p=c.filter((y=>y instanceof Ig)).length;if(d>1||d>0&&p>0)throw new ut($.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(a);for(const l of a)s=l._apply(s);return s}class Ig extends ZC{constructor(t,i,a){super(),this._field=t,this._op=i,this._value=a,this.type="where"}static _create(t,i,a){return new Ig(t,i,a)}_apply(t){const i=this._parse(t);return oT(t._query,i),new jo(t.firestore,t.converter,Tm(t._query,i))}_parse(t){const i=bg(t.firestore);return(function(c,d,p,y,_,b,A){let M;if(_.isKeyField()){if(b==="array-contains"||b==="array-contains-any")throw new ut($.INVALID_ARGUMENT,`Invalid Query. You can't perform '${b}' queries on documentId().`);if(b==="in"||b==="not-in"){kv(A,b);const tt=[];for(const it of A)tt.push(Vv(y,c,it));M={arrayValue:{values:tt}}}else M=Vv(y,c,A)}else b!=="in"&&b!=="not-in"&&b!=="array-contains-any"||kv(A,b),M=YC(p,d,A,b==="in"||b==="not-in");return qe.create(_,b,M)})(t._query,"where",i,t.firestore._databaseId,this._field,this._op,this._value)}}class Cg extends Rg{constructor(t,i){super(),this.type=t,this._queryConstraints=i}static _create(t,i){return new Cg(t,i)}_parse(t){const i=this._queryConstraints.map((a=>a._parse(t))).filter((a=>a.getFilters().length>0));return i.length===1?i[0]:bi.create(i,this._getOperator())}_apply(t){const i=this._parse(t);return i.getFilters().length===0?t:((function(l,c){let d=l;const p=c.getFlattenedFilters();for(const y of p)oT(d,y),d=Tm(d,y)})(t._query,i),new jo(t.firestore,t.converter,Tm(t._query,i)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function Vv(s,t,i){if(typeof(i=on(i))=="string"){if(i==="")throw new ut($.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!oE(t)&&i.indexOf("/")!==-1)throw new ut($.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${i}' contains a '/' character.`);const a=t.path.child(oe.fromString(i));if(!gt.isDocumentKey(a))throw new ut($.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${a}' is not because it has an odd number of segments (${a.length}).`);return K0(s,new gt(a))}if(i instanceof Fe)return K0(s,i._key);throw new ut($.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Nh(i)}.`)}function kv(s,t){if(!Array.isArray(s)||s.length===0)throw new ut($.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function oT(s,t){const i=(function(l,c){for(const d of l)for(const p of d.getFlattenedFilters())if(c.indexOf(p.op)>=0)return p.op;return null})(s.filters,(function(l){switch(l){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(t.op));if(i!==null)throw i===t.op?new ut($.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new ut($.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${i.toString()}' filters.`)}class WC{convertValue(t,i="none"){switch(bs(t)){case 0:return null;case 1:return t.booleanValue;case 2:return xe(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,i);case 5:return t.stringValue;case 6:return this.convertBytes(Ts(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,i);case 11:return this.convertObject(t.mapValue,i);case 10:return this.convertVectorValue(t.mapValue);default:throw Et(62114,{value:t})}}convertObject(t,i){return this.convertObjectMap(t.fields,i)}convertObjectMap(t,i="none"){const a={};return ws(t,((l,c)=>{a[l]=this.convertValue(c,i)})),a}convertVectorValue(t){const i=t.fields?.[gh].arrayValue?.values?.map((a=>xe(a.doubleValue)));return new Fi(i)}convertGeoPoint(t){return new Hi(xe(t.latitude),xe(t.longitude))}convertArray(t,i){return(t.values||[]).map((a=>this.convertValue(a,i)))}convertServerTimestamp(t,i){switch(i){case"previous":const a=Mh(t);return a==null?null:this.convertValue(a,i);case"estimate":return this.convertTimestamp(Wl(t));default:return null}}convertTimestamp(t){const i=Es(t);return new he(i.seconds,i.nanos)}convertDocumentKey(t,i){const a=oe.fromString(t);Zt(NE(a),9688,{name:t});const l=new tu(a.get(1),a.get(3)),c=new gt(a.popFirst(5));return l.isEqual(i)||Ar(`Document ${c} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),c}}function t4(s,t,i){let a;return a=s?s.toFirestore(t):t,a}class Hl{constructor(t,i){this.hasPendingWrites=t,this.fromCache=i}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class ca extends sT{constructor(t,i,a,l,c,d){super(t,i,a,l,d),this._firestore=t,this._firestoreImpl=t,this.metadata=c}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const i=new nh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,i={}){if(this._document){const a=this._document.data.field(aT("DocumentSnapshot.get",t));if(a!==null)return this._userDataWriter.convertValue(a,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ut($.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,i={};return i.type=ca._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}ca._jsonSchemaVersion="firestore/documentSnapshot/1.0",ca._jsonSchema={type:He("string",ca._jsonSchemaVersion),bundleSource:He("string","DocumentSnapshot"),bundleName:He("string"),bundle:He("string")};class nh extends ca{data(t={}){return super.data(t)}}class Ao{constructor(t,i,a,l){this._firestore=t,this._userDataWriter=i,this._snapshot=l,this.metadata=new Hl(l.hasPendingWrites,l.fromCache),this.query=a}get docs(){const t=[];return this.forEach((i=>t.push(i))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,i){this._snapshot.docs.forEach((a=>{t.call(i,new nh(this._firestore,this._userDataWriter,a.key,a,new Hl(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const i=!!t.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new ut($.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(l,c){if(l._snapshot.oldDocs.isEmpty()){let d=0;return l._snapshot.docChanges.map((p=>{const y=new nh(l._firestore,l._userDataWriter,p.doc.key,p.doc,new Hl(l._snapshot.mutatedKeys.has(p.doc.key),l._snapshot.fromCache),l.query.converter);return p.doc,{type:"added",doc:y,oldIndex:-1,newIndex:d++}}))}{let d=l._snapshot.oldDocs;return l._snapshot.docChanges.filter((p=>c||p.type!==3)).map((p=>{const y=new nh(l._firestore,l._userDataWriter,p.doc.key,p.doc,new Hl(l._snapshot.mutatedKeys.has(p.doc.key),l._snapshot.fromCache),l.query.converter);let _=-1,b=-1;return p.type!==0&&(_=d.indexOf(p.doc.key),d=d.delete(p.doc.key)),p.type!==1&&(d=d.add(p.doc),b=d.indexOf(p.doc.key)),{type:e4(p.type),doc:y,oldIndex:_,newIndex:b}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ut($.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=Ao._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=$m.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],a=[],l=[];return this.docs.forEach((c=>{c._document!==null&&(i.push(c._document),a.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),l.push(c.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function e4(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Et(61501,{type:s})}}Ao._jsonSchemaVersion="firestore/querySnapshot/1.0",Ao._jsonSchema={type:He("string",Ao._jsonSchemaVersion),bundleSource:He("string","QuerySnapshot"),bundleName:He("string"),bundle:He("string")};class lT extends WC{constructor(t){super(),this.firestore=t}convertBytes(t){return new ci(t)}convertReference(t){const i=this.convertDocumentKey(t,this.firestore._databaseId);return new Fe(this.firestore,null,i)}}function im(s,t,i,...a){s=ys(s,Fe);const l=ys(s.firestore,Mo),c=bg(l);let d;return d=typeof(t=on(t))=="string"||t instanceof qh?QC(c,"updateDoc",s._key,t,i,a):GC(c,"updateDoc",s._key,t),Ng(l,[d.toMutation(s._key,Ti.exists(!0))])}function n4(s){return Ng(ys(s.firestore,Mo),[new rg(s._key,Ti.none())])}function i4(s,t){const i=ys(s.firestore,Mo),a=ql(s),l=t4(s.converter,t);return Ng(i,[FC(bg(s.firestore),"addDoc",a._key,l,s.converter!==null,{}).toMutation(a._key,Ti.exists(!1))]).then((()=>a))}function r4(s,...t){s=on(s);let i={includeMetadataChanges:!1,source:"default"},a=0;typeof t[a]!="object"||Ov(t[a])||(i=t[a++]);const l={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(Ov(t[a])){const y=t[a];t[a]=y.next?.bind(y),t[a+1]=y.error?.bind(y),t[a+2]=y.complete?.bind(y)}let c,d,p;if(s instanceof Fe)d=ys(s.firestore,Mo),p=ng(s._key.path),c={next:y=>{t[a]&&t[a](s4(d,s,y))},error:t[a+1],complete:t[a+2]};else{const y=ys(s,jo);d=ys(y.firestore,Mo),p=y._query;const _=new lT(d);c={next:b=>{t[a]&&t[a](new Ao(d,_,y,b))},error:t[a+1],complete:t[a+2]},$C(s._query)}return(function(_,b,A,M){const F=new VC(M),tt=new gC(b,F,A);return _.asyncQueue.enqueueAndForget((async()=>hC(await wv(_),tt))),()=>{F.Nu(),_.asyncQueue.enqueueAndForget((async()=>fC(await wv(_),tt)))}})(WE(d),p,l,c)}function Ng(s,t){return(function(a,l){const c=new ua;return a.asyncQueue.enqueueAndForget((async()=>wC(await LC(a),l,c))),c.promise})(WE(s),t)}function s4(s,t,i){const a=i.docs.get(t._key),l=new lT(s);return new ca(s,l,t._key,a,new Hl(i.hasPendingWrites,i.fromCache),t.converter)}function a4(){return new Ag("serverTimestamp")}(function(t,i=!0){(function(l){Uo=l})(Vo),wo(new fa("firestore",((a,{instanceIdentifier:l,options:c})=>{const d=a.getProvider("app").getImmediate(),p=new Mo(new qw(a.getProvider("auth-internal")),new Gw(d,a.getProvider("app-check-internal")),(function(_,b){if(!Object.prototype.hasOwnProperty.apply(_.options,["projectId"]))throw new ut($.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new tu(_.options.projectId,b)})(d,l),d);return c={useFetchStreams:i,...c},p._setSettings(c),p}),"PUBLIC").setMultipleInstances(!0)),gs(k0,U0,t),gs(k0,U0,"esm2020")})();const o4=s=>s.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),l4=s=>s.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,i,a)=>a?a.toUpperCase():i.toLowerCase()),Uv=s=>{const t=l4(s);return t.charAt(0).toUpperCase()+t.slice(1)},uT=(...s)=>s.filter((t,i,a)=>!!t&&t.trim()!==""&&a.indexOf(t)===i).join(" ").trim(),u4=s=>{for(const t in s)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};var c4={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const h4=ot.forwardRef(({color:s="currentColor",size:t=24,strokeWidth:i=2,absoluteStrokeWidth:a,className:l="",children:c,iconNode:d,...p},y)=>ot.createElement("svg",{ref:y,...c4,width:t,height:t,stroke:s,strokeWidth:a?Number(i)*24/Number(t):i,className:uT("lucide",l),...!c&&!u4(p)&&{"aria-hidden":"true"},...p},[...d.map(([_,b])=>ot.createElement(_,b)),...Array.isArray(c)?c:[c]]));const jt=(s,t)=>{const i=ot.forwardRef(({className:a,...l},c)=>ot.createElement(h4,{ref:c,iconNode:t,className:uT(`lucide-${o4(Uv(s))}`,`lucide-${s}`,a),...l}));return i.displayName=Uv(s),i};const f4=[["path",{d:"M12 6v16",key:"nqf5sj"}],["path",{d:"m19 13 2-1a9 9 0 0 1-18 0l2 1",key:"y7qv08"}],["path",{d:"M9 11h6",key:"1fldmi"}],["circle",{cx:"12",cy:"4",r:"2",key:"muu5ef"}]],d4=jt("anchor",f4);const m4=[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]],rm=jt("bot",m4);const g4=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],sm=jt("briefcase",g4);const p4=[["path",{d:"M12 20v-9",key:"1qisl0"}],["path",{d:"M14 7a4 4 0 0 1 4 4v3a6 6 0 0 1-12 0v-3a4 4 0 0 1 4-4z",key:"uouzyp"}],["path",{d:"M14.12 3.88 16 2",key:"qol33r"}],["path",{d:"M21 21a4 4 0 0 0-3.81-4",key:"1b0z45"}],["path",{d:"M21 5a4 4 0 0 1-3.55 3.97",key:"5cxbf6"}],["path",{d:"M22 13h-4",key:"1jl80f"}],["path",{d:"M3 21a4 4 0 0 1 3.81-4",key:"1fjd4g"}],["path",{d:"M3 5a4 4 0 0 0 3.55 3.97",key:"1d7oge"}],["path",{d:"M6 13H2",key:"82j7cp"}],["path",{d:"m8 2 1.88 1.88",key:"fmnt4t"}],["path",{d:"M9 7.13V6a3 3 0 1 1 6 0v1.13",key:"1vgav8"}]],y4=jt("bug",p4);const _4=[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],Om=jt("camera",_4);const v4=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],E4=jt("chevron-down",v4);const T4=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],b4=jt("chevron-right",T4);const A4=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}]],ih=jt("circle-dot",A4);const S4=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],Lv=jt("crown",S4);const w4=[["path",{d:"M11 20H2",key:"nlcfvz"}],["path",{d:"M11 4.562v16.157a1 1 0 0 0 1.242.97L19 20V5.562a2 2 0 0 0-1.515-1.94l-4-1A2 2 0 0 0 11 4.561z",key:"au4z13"}],["path",{d:"M11 4H8a2 2 0 0 0-2 2v14",key:"74r1mk"}],["path",{d:"M14 12h.01",key:"1jfl7z"}],["path",{d:"M22 20h-3",key:"vhrsz"}]],R4=jt("door-open",w4);const I4=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],C4=jt("eye-off",I4);const N4=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],D4=jt("eye",N4);const x4=[["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}],["path",{d:"M12 16.5A4.5 4.5 0 1 1 7.5 12 4.5 4.5 0 1 1 12 7.5a4.5 4.5 0 1 1 4.5 4.5 4.5 4.5 0 1 1-4.5 4.5",key:"14wa3c"}],["path",{d:"M12 7.5V9",key:"1oy5b0"}],["path",{d:"M7.5 12H9",key:"eltsq1"}],["path",{d:"M16.5 12H15",key:"vk5kw4"}],["path",{d:"M12 16.5V15",key:"k7eayi"}],["path",{d:"m8 8 1.88 1.88",key:"nxy4qf"}],["path",{d:"M14.12 9.88 16 8",key:"1lst6k"}],["path",{d:"m8 16 1.88-1.88",key:"h2eex1"}],["path",{d:"M14.12 14.12 16 16",key:"uqkrx3"}]],Fc=jt("flower",x4);const M4=[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]],O4=jt("heart",M4);const V4=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],cT=jt("image",V4);const k4=[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]],Pv=jt("key",k4);const U4=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],L4=jt("layers",U4);const P4=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],So=jt("map-pin",P4);const z4=[["path",{d:"M12 2v20",key:"t6zp3m"}],["path",{d:"m15 19-3 3-3-3",key:"11eu04"}],["path",{d:"m19 9 3 3-3 3",key:"1mg7y2"}],["path",{d:"M2 12h20",key:"9i4pu4"}],["path",{d:"m5 9-3 3 3 3",key:"j64kie"}],["path",{d:"m9 5 3-3 3 3",key:"l8vdw6"}]],j4=jt("move",z4);const B4=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],Ll=jt("package",B4);const q4=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],H4=jt("plus",q4);const F4=[["path",{d:"M16.247 7.761a6 6 0 0 1 0 8.478",key:"1fwjs5"}],["path",{d:"M19.075 4.933a10 10 0 0 1 0 14.134",key:"ehdyv1"}],["path",{d:"M4.925 19.067a10 10 0 0 1 0-14.134",key:"1q22gi"}],["path",{d:"M7.753 16.239a6 6 0 0 1 0-8.478",key:"r2q7qm"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],zv=jt("radio",F4);const G4=[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]],Q4=jt("rocket",G4);const Y4=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M14 15H9v-5",key:"pi4jk9"}],["path",{d:"M16 3h5v5",key:"1806ms"}],["path",{d:"M21 3 9 15",key:"15kdhq"}]],K4=jt("scaling",Y4);const X4=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],$4=jt("search",X4);const Z4=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],J4=jt("settings",Z4);const W4=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]],Vm=jt("shield-alert",W4);const tN=[["path",{d:"m12.5 17-.5-1-.5 1h1z",key:"3me087"}],["path",{d:"M15 22a1 1 0 0 0 1-1v-1a2 2 0 0 0 1.56-3.25 8 8 0 1 0-11.12 0A2 2 0 0 0 8 20v1a1 1 0 0 0 1 1z",key:"1o5pge"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}]],eN=jt("skull",tN);const nN=[["path",{d:"M14 9.536V7a4 4 0 0 1 4-4h1.5a.5.5 0 0 1 .5.5V5a4 4 0 0 1-4 4 4 4 0 0 0-4 4c0 2 1 3 1 5a5 5 0 0 1-1 3",key:"139s4v"}],["path",{d:"M4 9a5 5 0 0 1 8 4 5 5 0 0 1-8-4",key:"1dlkgp"}],["path",{d:"M5 21h14",key:"11awu3"}]],jv=jt("sprout",nN);const iN=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]],rN=jt("square-plus",iN);const sN=[["path",{d:"M3.5 21 14 3",key:"1szst5"}],["path",{d:"M20.5 21 10 3",key:"1310c3"}],["path",{d:"M15.5 21 12 15l-3.5 6",key:"1ddtfw"}],["path",{d:"M2 21h20",key:"1nyx9w"}]],aN=jt("tent",sN);const oN=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],lN=jt("trash-2",oN);const uN=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],Sh=jt("upload",uN);const cN=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],hN=jt("user",cN);const fN=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],km=jt("x",fN);const dN=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],Bv=jt("zap",dN),am=typeof globalThis<"u"&&typeof globalThis.__firebase_config<"u"?globalThis.__firebase_config:"{}";let su={};try{su=typeof am=="string"?JSON.parse(am):am||{}}catch(s){console.warn("Failed to parse __firebase_config, falling back to empty config.",s),su={}}const mN=!!(su&&su.apiKey),gN=typeof globalThis<"u"&&typeof globalThis.__disable_firebase<"u"?!!globalThis.__disable_firebase:!1;let Gc=null,_o=null,gr=null,Um=!1;if(mN&&!gN)try{Gc=t1(su),_o=Pw(Gc),gr=zC(Gc),Um=!!(Gc&&_o&&gr)}catch(s){console.warn("Firebase init failed, running in local mode instead.",s),Um=!1}const Qc=Um,co=typeof globalThis<"u"&&typeof globalThis.__app_id<"u"?globalThis.__app_id:"default-app",ho=s=>`./maps/${s}`,sa={dam:{id:"dam",name:"",width:2e3,height:2e3,defaultUrl:ho("dam.jpg"),bgColor:"#1a1d21",gridColor:"#2a2e33"},spaceport:{id:"spaceport",name:"",width:2400,height:1600,defaultUrl:ho("spaceport.jpg"),bgColor:"#161b22",gridColor:"#1f2937"},buried:{id:"buried",name:"",width:2e3,height:2e3,defaultUrl:ho("buried.jpg"),bgColor:"#1f1a16",gridColor:"#332b25"},bluegate:{id:"bluegate",name:"",width:2400,height:1600,defaultUrl:ho("bluegate.jpg"),bgColor:"#1e293b",gridColor:"#334155"},stella:{id:"stella",name:"",width:2400,height:1600,bgColor:"#0f172a",gridColor:"#1e293b",layers:[{id:"upper",name:" ()",defaultUrl:ho("stella_upper.jpg")},{id:"lower",name:" ()",defaultUrl:ho("stella_lower.jpg")}]}},oa={containers:{label:"",color:"#f59e0b"},arc:{label:"",color:"#ef4444"},nature:{label:"",color:"#10b981"},events:{label:"",color:"#a855f7"},others:{label:"",color:"#3b82f6"}},pN={weapon_case:{id:"weapon_case",cat:"containers",label:"",icon:sm},med_bag:{id:"med_bag",cat:"containers",label:"",icon:rN},grenade_tube:{id:"grenade_tube",cat:"containers",label:"",icon:ih},ammo_crate:{id:"ammo_crate",cat:"containers",label:"",icon:Ll},backpack:{id:"backpack",cat:"containers",label:"",icon:sm},security_lockbox:{id:"security_lockbox",cat:"containers",label:"",icon:Pv},baron_husk:{id:"baron_husk",cat:"containers",label:"",icon:eN},rocketeer_husk:{id:"rocketeer_husk",cat:"containers",label:"",icon:Q4},wasp_husk:{id:"wasp_husk",cat:"containers",label:"",icon:ih},arc_courier:{id:"arc_courier",cat:"containers",label:"ARC",icon:Ll},crashed_probe:{id:"crashed_probe",cat:"containers",label:"",icon:zv},tick:{id:"tick",cat:"arc",label:"",icon:y4},pop:{id:"pop",cat:"arc",label:"",icon:ih},fireball:{id:"fireball",cat:"arc",label:"",icon:Bv},surveyor:{id:"surveyor",cat:"arc",label:"arc",icon:D4},sentinel:{id:"sentinel",cat:"arc",label:"",icon:Vm},rocketeer_arc:{id:"rocketeer_arc",cat:"arc",label:"",icon:rm},leaper:{id:"leaper",cat:"arc",label:"Leaper",icon:rm},bombardier:{id:"bombardier",cat:"arc",label:"",icon:rm},bastion:{id:"bastion",cat:"arc",label:"",icon:Vm},queen:{id:"queen",cat:"arc",label:"",icon:Lv},matriarch:{id:"matriarch",cat:"arc",label:"",icon:Lv},mushrooms:{id:"mushrooms",cat:"nature",label:"",icon:jv},great_mullein:{id:"great_mullein",cat:"nature",label:"",icon:Fc},agave:{id:"agave",cat:"nature",label:"",icon:Fc},apricot_tree:{id:"apricot_tree",cat:"nature",label:"",icon:Fc},prickly_pear:{id:"prickly_pear",cat:"nature",label:"",icon:Fc},moss:{id:"moss",cat:"nature",label:"",icon:jv},harvester:{id:"harvester",cat:"events",label:"",icon:Bv},raider_cache:{id:"raider_cache",cat:"events",label:"",icon:Ll},wicker_basket:{id:"wicker_basket",cat:"events",label:"",icon:Ll},elevator:{id:"elevator",cat:"others",label:"",icon:d4},hatch:{id:"hatch",cat:"others",label:"",icon:R4},supply_call:{id:"supply_call",cat:"others",label:"",icon:zv},raider_camp:{id:"raider_camp",cat:"others",label:"",icon:aN},field_depot:{id:"field_depot",cat:"others",label:"",icon:sm},player_spawn:{id:"player_spawn",cat:"others",label:"",icon:hN},quest:{id:"quest",cat:"others",label:"",icon:So},locked_room:{id:"locked_room",cat:"others",label:"",icon:Pv},field_crate:{id:"field_crate",cat:"others",label:"",icon:Ll},custom_pin:{id:"custom_pin",cat:"others",label:"",icon:So}},qv={id:"unknown",cat:"others",label:"",icon:ih},rh={weapon_case:"/icon/weapon_case.svg",med_bag:"/icon/med_bag.svg",grenade_tube:"/icon/grenade_tube.svg",ammo_crate:"/icon/ammo_crate.svg",backpack:"/icon/backpack.svg",security_lockbox:"/icon/security_locker.svg",baron_husk:"/icon/baron_husk.svg",rocketeer_husk:"/icon/rocketeer_husk.svg",wasp_husk:"/icon/wasp_husk.svg",arc_courier:"/icon/arc_courier.svg",crashed_probe:"/icon/crashed_probe.svg",tick:"/icon/tick.svg",pop:"/icon/pop.svg",fireball:"/icon/fireball.svg",surveyor:"/icon/surveyor.svg",sentinel:"/icon/sentinel.svg",rocketeer_arc:"/icon/rocketeer.svg",leaper:"/icon/leaper.svg",bombardier:"/icon/bombardier.svg",bastion:"/icon/bastion.svg",queen:"/icon/queen.svg",matriarch:"/icon/apricot_tree.svg",mushrooms:"/icon/mushrooms.svg",great_mullein:"/icon/great_mullein.svg",agave:"/icon/agave.svg",apricot_tree:"/icon/apricot_tree.svg",prickly_pear:"/icon/prickly_pear.svg",moss:"/icon/moss.svg",harvester:"/icon/harvester.svg",raider_cache:"/icon/raider_cache.svg",wicker_basket:"/icon/wicker_basket.svg",elevator:"/icon/elevator.svg",hatch:"/icon/hatch.svg",supply_call:"/icon/supply_call_station.svg",raider_camp:"/icon/raider_camp.svg",field_depot:"/icon/field_depot.svg",player_spawn:"/icon/player_spawn.svg",quest:"/icon/quest.svg",locked_room:"/icon/locked_room.svg",field_crate:"/icon/field_crate.svg",custom_pin:"/icon/field_crate.svg"},yN=new Set(Object.values(rh)),Pl=(s,t="")=>`data:image/svg+xml;utf8,${encodeURIComponent(`<svg xmlns="http://www.w3.org/2000/svg" width="64" height="64" viewBox="0 0 64 64"><rect width="64" height="64" rx="12" fill="${s}"/><text x="50%" y="54%" text-anchor="middle" font-size="28" fill="#0f172a" font-family="Arial, sans-serif" font-weight="700">${t}</text></svg>`)}`,_N=[{id:"preset-orange",label:"",dataUrl:Pl("#fb923c","P")},{id:"preset-blue",label:"",dataUrl:Pl("#60a5fa","P")},{id:"preset-green",label:"",dataUrl:Pl("#34d399","P")},{id:"preset-purple",label:"",dataUrl:Pl("#c084fc","P")},{id:"preset-gray",label:"",dataUrl:Pl("#9ca3af","P")}],vN=()=>Math.random().toString(36).substring(2,8).toUpperCase(),wh=(s,t=600)=>new Promise((i,a)=>{const l=new FileReader;l.readAsDataURL(s),l.onload=c=>{const d=new Image;d.src=c.target.result,d.onload=()=>{const p=document.createElement("canvas"),y=t/d.width;p.width=t,p.height=d.height*y,p.getContext("2d").drawImage(d,0,0,p.width,p.height),i(p.toDataURL("image/jpeg",.7))},d.onerror=a},l.onerror=a}),EN=({config:s,onUpload:t})=>j.jsx("div",{className:"w-full h-full absolute top-0 left-0 flex flex-col items-center justify-center",style:{backgroundColor:s.bgColor,backgroundImage:`
        linear-gradient(${s.gridColor} 1px, transparent 1px),
        linear-gradient(90deg, ${s.gridColor} 1px, transparent 1px)
      `,backgroundSize:"100px 100px"},children:j.jsxs("div",{className:"text-center p-6 bg-black/50 backdrop-blur rounded-xl border border-gray-700",children:[j.jsx(cT,{size:48,className:"mx-auto text-gray-500 mb-4"}),j.jsx("p",{className:"text-gray-300 font-bold mb-2",children:"NO MAP IMAGE"}),j.jsx("p",{className:"text-gray-500 text-sm mb-4 max-w-xs",children:""}),j.jsxs("button",{onClick:t,className:"bg-orange-600 hover:bg-orange-500 text-white px-4 py-2 rounded flex items-center gap-2 mx-auto transition-colors",children:[j.jsx(Sh,{size:16}),""]})]})}),TN=({pin:s,markerDef:t,onClose:i,onUpdateImage:a,onUpdateIcon:l,onDelete:c,onMark:d})=>{const p=ot.useRef(null),y=ot.useRef(null),_=oa[t.cat]||oa.others,b=async M=>{const F=M.target.files[0];if(F)try{const tt=await wh(F);a(s.id,tt)}catch(tt){console.error("Image upload failed",tt),alert("")}},A=async M=>{const F=M.target.files[0];if(!(!F||!l))try{const tt=await wh(F,128);l(s.id,tt)}catch(tt){console.error("Icon upload failed",tt),alert("")}};return j.jsxs("div",{className:"absolute z-[100] bg-gray-900 text-white rounded-lg shadow-2xl border border-gray-700 w-72 overflow-hidden",style:{top:"50%",left:"50%",transform:"translate(-50%, -50%)"},onClick:M=>M.stopPropagation(),children:[j.jsxs("div",{className:"relative h-40 bg-gray-800 flex items-center justify-center overflow-hidden group",children:[s.imageUrl?j.jsx("img",{src:s.imageUrl,alt:"Pin Attachment",className:"w-full h-full object-cover"}):j.jsxs("div",{className:"flex flex-col items-center text-gray-500",children:[j.jsx(Om,{size:32,className:"mb-2 opacity-50"}),j.jsx("span",{className:"text-xs",children:"No Image"})]}),j.jsx("div",{className:"absolute inset-0 bg-black/60 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center cursor-pointer",onClick:()=>p.current?.click(),children:j.jsxs("div",{className:"text-center",children:[j.jsx(Sh,{className:"mx-auto mb-1 text-white",size:24}),j.jsx("span",{className:"text-xs font-bold text-white",children:"/"})]})}),j.jsx("input",{type:"file",ref:p,className:"hidden",accept:"image/*",onChange:b}),j.jsx("input",{type:"file",ref:y,className:"hidden",accept:"image/*",onChange:A})]}),j.jsxs("div",{className:"p-4",children:[j.jsxs("div",{className:"flex justify-between items-start mb-2",children:[j.jsxs("div",{children:[j.jsxs("div",{className:"flex items-center gap-2 text-orange-400 text-xs font-bold uppercase mb-0.5",children:[j.jsx(t.icon,{size:12,color:_.color}),_.label]}),j.jsx("h3",{className:"text-lg font-bold leading-tight",children:t.label})]}),j.jsx("button",{onClick:i,className:"text-gray-400 hover:text-white",children:j.jsx(km,{size:20})})]}),j.jsxs("div",{className:"text-xs text-gray-500 mb-4",children:["ID: ",s.id.slice(0,6),"... "]}),j.jsxs("div",{className:"flex gap-2 mb-2",children:[j.jsxs("button",{onClick:()=>y.current?.click(),className:"flex-1 bg-gray-700 hover:bg-gray-600 text-white text-xs font-bold py-2 rounded transition-colors flex items-center justify-center gap-2",children:[j.jsx(Om,{size:14}),""]}),j.jsxs("button",{onClick:()=>p.current?.click(),className:"flex-1 bg-gray-700 hover:bg-gray-600 text-white text-xs font-bold py-2 rounded transition-colors flex items-center justify-center gap-2",children:[j.jsx(Sh,{size:14}),""]})]}),j.jsxs("div",{className:"flex gap-2",children:[j.jsxs("button",{onClick:()=>d?.(s.id),className:"flex-1 bg-gray-700 hover:bg-gray-600 text-white text-xs font-bold py-2 rounded transition-colors flex items-center justify-center gap-2",children:[j.jsx(So,{size:14}),""]}),j.jsx("button",{onClick:()=>c(s.id),className:"bg-red-900/50 hover:bg-red-900 text-red-200 p-2 rounded transition-colors",title:"",children:j.jsx(lN,{size:16})})]})]})]})};function bN(){const[s,t]=ot.useState(null),[i,a]=ot.useState(null),[l,c]=ot.useState("dam"),[d,p]=ot.useState(null),[y,_]=ot.useState({}),[b,A]=ot.useState([]),[M,F]=ot.useState(null),[tt,it]=ot.useState([]),[et,pt]=ot.useState({}),[_t,yt]=ot.useState({}),[Ft,ee]=ot.useState([]),[Ot,C]=ot.useState(null),[S,R]=ot.useState(!1),[O,D]=ot.useState(null),[U,w]=ot.useState(""),[$t,ye]=ot.useState(null),[G,rt]=ot.useState([]),[dt,Vt]=ot.useState(""),[Yt,x]=ot.useState(!1),[K,st]=ot.useState([]),[at,Tt]=ot.useState(""),[It,Bt]=ot.useState(""),[Me,le]=ot.useState("#7dd3fc"),[Rr,Is]=ot.useState(""),[un,Tn]=ot.useState("move"),[fe,Qi]=ot.useState({x:0,y:0,scale:.4}),[Ai,Cs]=ot.useState(1),[Ns,de]=ot.useState(!1),[_e,hi]=ot.useState(!1),[_a,va]=ot.useState({x:0,y:0}),[Ze,Si]=ot.useState(!1),[Yn,Ir]=ot.useState(""),gn=ot.useMemo(()=>Qc&&!!i,[i]),[Ea,Ta]=ot.useState({containers:!0,arc:!0,others:!0,nature:!0,events:!0}),[Ds,ba]=ot.useState("");_t.custom_pin,ot.useMemo(()=>{const V={...oa};return K.forEach(J=>{V[J.id]={label:J.label,color:J.color||"#6b7280"}}),V},[K]);const Ie=ot.useMemo(()=>{const V={...pN};return Ft.forEach(J=>{V[J.id]={...J,icon:So}}),V},[Ft]),Oe=[...G,..._N],pn=V=>et[V]!==!1,ve=ot.useMemo(()=>{const V={};return b.forEach(J=>{J.mapId!==l||sa[l].layers&&J.layerId!==d||(V[J.type]=(V[J.type]||0)+1)}),V},[b,l,d]),xs=ot.useRef(null),Yi=ot.useRef(null),Ms=ot.useRef(null),Mn=ot.useRef(null),wi=ot.useRef(null);ot.useEffect(()=>{const V=localStorage.getItem("tactical_display_name");V&&Ir(V)},[]),ot.useEffect(()=>{!dt&&Object.keys(Ie).length>0&&Vt(Object.keys(Ie)[0])},[Ie,dt]),ot.useEffect(()=>{Yn&&localStorage.setItem("tactical_display_name",Yn)},[Yn]),ot.useEffect(()=>{const V=localStorage.getItem("tactical_custom_markers");if(V)try{const J=JSON.parse(V);Array.isArray(J)&&ee(J)}catch(J){console.warn("Failed to parse stored custom markers",J)}},[]),ot.useEffect(()=>{localStorage.setItem("tactical_custom_markers",JSON.stringify(Ft||[]))},[Ft]),ot.useEffect(()=>{if(!tt.length)return;const V=new Set(b.map(J=>J.id));it(J=>J.filter(W=>V.has(W)))},[b,tt]),ot.useEffect(()=>{const V=localStorage.getItem("tactical_user_icon_library");if(V)try{const J=JSON.parse(V);Array.isArray(J)&&rt(J)}catch(J){console.warn("Failed to parse stored icon library",J)}},[]),ot.useEffect(()=>{localStorage.setItem("tactical_user_icon_library",JSON.stringify(G||[]))},[G]),ot.useEffect(()=>{const V=localStorage.getItem("tactical_marker_icons");if(V)try{const J=JSON.parse(V);if(J&&typeof J=="object"){const W={...rh};Object.entries(J).forEach(([ft,bt])=>{if(!bt)return;const me=typeof bt=="string"&&bt.startsWith("data:"),Ye=typeof bt=="string"&&bt.startsWith("http"),bn=typeof bt=="string"&&yN.has(bt);bt.startsWith("/icon/")&&!bn||(me||Ye||bn)&&(W[ft]=bt)}),yt(W);return}}catch(J){console.warn("Failed to parse stored marker icons",J)}yt(rh)},[]),ot.useEffect(()=>{localStorage.setItem("tactical_marker_icons",JSON.stringify(_t||{}))},[_t]),ot.useEffect(()=>{if((async()=>{if(!Qc){t({uid:"local-demo"});return}try{typeof __initial_auth_token<"u"&&__initial_auth_token?await S2(_o,__initial_auth_token):await v2(_o)}catch(W){console.error("Auth error:",W)}})(),!Qc)return;const J=I2(_o,t);return()=>J()},[]),ot.useEffect(()=>{const J=new URLSearchParams(window.location.search).get("room");a(J||null)},[]),ot.useEffect(()=>{const V=sa[l];V.layers&&V.layers.length>0?p(V.layers[0].id):p(null),Zn()},[l]),ot.useEffect(()=>{if(!gn||!_o||!gr||!s)return;const V=`${i}_pins`,J=JC(Nv(gr,"artifacts",co,"public","data",V)),W=r4(J,ft=>{const bt=ft.docs.map(me=>({id:me.id,...me.data()}));A(bt)},ft=>console.error(ft));return()=>W()},[s,i]);const Te=V=>{const J=V.target.files[0];if(!J)return;const W=URL.createObjectURL(J),ft=d?`${l}_${d}`:l;_(bt=>({...bt,[ft]:W}))},On=()=>Ms.current?.click(),Kn=async V=>{const J=V.target.files?.[0];if(!(!J||!Ot))try{const W=await wh(J,128);yt(ft=>({...ft,[Ot]:W})),Os(W)}catch(W){console.error("Icon upload failed",W),alert("Icon image could not be loaded.")}finally{V.target.value="",C(null)}},Vn=(V="custom_pin")=>{C(V),Mn.current?.click()},Os=V=>{V&&rt(J=>{if(J.some(ft=>ft.dataUrl===V))return J;const W=`user_${J.length+1}_${Date.now().toString(36)}`;return[...J,{id:W,label:"My Icon",dataUrl:V}]})},Aa=async V=>{const J=rh[V];if(J){if(x(!0),yt(W=>({...W,[V]:J})),A(W=>W.map(ft=>ft.type===V?{...ft,iconUrl:J}:ft)),gn&&i){const W=`${i}_pins`,ft=b.filter(bt=>bt.type===V);await Promise.allSettled(ft.map(bt=>im(ql(gr,"artifacts",co,"public","data",W,bt.id),{iconUrl:J})))}x(!1)}},Xn=V=>{D(V),w(""),ye(_t.custom_pin||Oe[0]?.dataUrl||null),R(!0)},Ki=async V=>{const J=V.target.files?.[0];if(J)try{const W=await wh(J,128);ye(W),Os(W)}catch(W){console.error("Marker icon upload failed",W),alert("")}finally{V.target.value=""}},Bo=()=>{if(!U.trim()||!O){alert("");return}const V=`custom_${Date.now().toString(36)}`,J={id:V,label:U.trim(),cat:O};ee(W=>[...W,J]),$t&&yt(W=>({...W,[V]:$t})),Tn(V),R(!1)},Ri=(V,J)=>{const W=Math.min(Math.max(.2,V),5),ft=J?.x??window.innerWidth/2,bt=J?.y??window.innerHeight/2,me=(ft-fe.x)/fe.scale,Ye=(bt-fe.y)/fe.scale,bn=ft-me*W,Ke=bt-Ye*W;Qi({x:bn,y:Ke,scale:W})},Cr=V=>{V.preventDefault(),V.stopPropagation(),(V.ctrlKey||V.metaKey)&&V.preventDefault();const W=fe.scale-V.deltaY*.001;Ri(W,{x:V.clientX,y:V.clientY})};ot.useEffect(()=>{const V=Yi.current;if(V)return V.addEventListener("wheel",Cr,{passive:!1}),()=>V.removeEventListener("wheel",Cr)});const Vs=V=>{(V.button===1||un==="move")&&(hi(!0),va({x:V.clientX-fe.x,y:V.clientY-fe.y}))},Xi=V=>{_e&&Qi(J=>({...J,x:V.clientX-_a.x,y:V.clientY-_a.y}))},$n=()=>hi(!1),Sa=async V=>{if(_e||!s)return;if(M){F(null);return}if(un==="move")return;const J=xs.current.getBoundingClientRect(),W=(V.clientX-J.left)/fe.scale,ft=(V.clientY-J.top)/fe.scale,bt=sa[l];if(!(W<0||ft<0||W>bt.width||ft>bt.height)){if(!gn){const me=`local-${Date.now()}-${Math.random().toString(36).slice(2,8)}`;A(Ye=>[...Ye,{id:me,mapId:l,layerId:d,x:W,y:ft,type:un,iconUrl:_t[un]||void 0,createdAt:new Date,createdBy:s?.uid||"local",createdByName:Yn||""}]),F(me),Tn("move");return}if(i)try{const me=`${i}_pins`,Ye=await i4(Nv(gr,"artifacts",co,"public","data",me),{mapId:l,layerId:d,x:W,y:ft,type:un,iconUrl:_t[un]||void 0,createdAt:a4(),createdBy:s.uid,createdByName:Yn||""});F(Ye.id),Tn("move")}catch(me){console.error("Error adding pin:",me)}}},kn=(V,J)=>{V.stopPropagation(),F(W=>W===J?null:J)},Un=async V=>{if(!s)return;if(!gn){A(W=>W.filter(ft=>ft.id!==V)),M===V&&F(null),it(W=>W.filter(ft=>ft!==V));return}const J=`${i}_pins`;try{await n4(ql(gr,"artifacts",co,"public","data",J,V)),M===V&&F(null),it(W=>W.filter(ft=>ft!==V))}catch(W){console.error(W)}},be=async(V,J)=>{if(!s)return;if(!gn){A(ft=>ft.map(bt=>bt.id===V?{...bt,imageUrl:J}:bt));return}if(!i)return;const W=`${i}_pins`;try{await im(ql(gr,"artifacts",co,"public","data",W,V),{imageUrl:J})}catch(ft){console.error(ft)}},Ve=async(V,J)=>{if(!s)return;if(Os(J),!gn){A(ft=>ft.map(bt=>bt.id===V?{...bt,iconUrl:J}:bt));return}if(!i)return;const W=`${i}_pins`;try{await im(ql(gr,"artifacts",co,"public","data",W,V),{iconUrl:J})}catch(ft){console.error(ft)}},Zn=()=>{const V=window.innerWidth,J=window.innerHeight,W=sa[l];Qi({x:V/2-W.width*.4/2,y:J/2-W.height*.4/2,scale:.4})},Nr=b.filter(V=>!(V.mapId!==l||sa[l].layers&&V.layerId!==d||!pn(V.type))),qo=V=>{Ta(J=>({...J,[V]:!J[V]}))},wa=()=>{const V={};Object.keys(Ie).forEach(J=>{V[J]=!0}),pt(V)},Ra=()=>{const V={};Object.keys(Ie).forEach(J=>{V[J]=!1}),pt(V)},ke=sa[l];let $i=ke.defaultUrl,Ln=l;if(ke.layers&&d){const V=ke.layers.find(J=>J.id===d);V&&($i=V.defaultUrl),Ln=`${l}_${d}`}const yn=y[Ln]||$i,[_n,Pn]=ot.useState(!1);ot.useEffect(()=>Pn(!1),[l,d,y]);const Ae=()=>{const V=i||vN();if(!i){a(V);const W=new URLSearchParams(window.location.search);W.set("room",V);const ft=`${window.location.pathname}?${W.toString()}`;window.history.replaceState({},"",ft)}const J=`${window.location.origin}${window.location.pathname}?room=${V}`;navigator.clipboard.writeText(J).then(()=>{Si(!0),setTimeout(()=>Si(!1),2e3)}).catch(()=>alert("Room ID: "+V))};return j.jsxs("div",{className:"flex flex-col h-screen bg-black text-gray-200 overflow-hidden font-sans relative",children:[!Qc&&j.jsx("div",{className:"absolute top-2 right-2 z-50 bg-orange-500 text-black text-xs font-bold px-3 py-1 rounded shadow",children:"Firebase disabled (local demo mode)"}),j.jsx("input",{type:"file",ref:Ms,className:"hidden",accept:"image/*",onChange:Te}),j.jsx("input",{type:"file",ref:Mn,className:"hidden",accept:"image/*",onChange:Kn}),j.jsx("input",{type:"file",ref:wi,className:"hidden",accept:"image/*",onChange:Ki}),j.jsxs("header",{className:"h-12 bg-gray-900 border-b border-gray-800 flex items-center justify-between px-4 z-30 shadow-lg shrink-0 gap-4",children:[j.jsxs("div",{className:"flex items-center gap-2 min-w-fit",children:[j.jsx(Vm,{className:"text-orange-500 w-5 h-5"}),j.jsx("h1",{className:"font-bold text-base tracking-wider text-gray-100",children:"TACTICAL"})]}),j.jsxs("div",{className:"flex items-center gap-3 flex-1 justify-center min-w-0",children:[j.jsx("div",{className:"flex items-center bg-gray-800 rounded p-0.5 gap-1 overflow-x-auto scrollbar-hide",children:Object.values(sa).map(V=>j.jsx("button",{onClick:()=>c(V.id),className:`px-3 py-1 text-xs font-bold rounded transition-colors uppercase whitespace-nowrap ${l===V.id?"bg-orange-600 text-white":"text-gray-400 hover:text-white hover:bg-gray-700"}`,children:V.name},V.id))}),j.jsxs("button",{onClick:()=>Tn("custom_pin"),className:`flex items-center gap-1 px-3 py-1 text-xs font-bold rounded border transition-all whitespace-nowrap ${un==="custom_pin"?"bg-orange-600 text-white border-orange-400":"bg-gray-800 text-gray-300 border-gray-700 hover:bg-gray-700"}`,children:[j.jsx(So,{size:14}),"Drop Pin"]})]}),j.jsxs("div",{className:"flex items-center gap-3 min-w-fit",children:[j.jsxs("div",{className:"flex items-center gap-2 bg-gray-800 rounded px-2 py-1 border border-gray-700",children:[j.jsx("span",{className:"text-xs text-gray-400",children:""}),j.jsx("input",{type:"text",value:Yn,onChange:V=>Ir(V.target.value.slice(0,24)),placeholder:"",className:"bg-transparent text-sm text-white outline-none w-28"})]}),j.jsx("button",{onClick:Ae,className:"bg-blue-600 hover:bg-blue-500 text-white px-3 py-1 rounded text-xs font-medium transition-all",children:""})]})]}),ke.layers&&j.jsx("div",{className:"absolute top-14 left-1/2 -translate-x-1/2 z-30 flex gap-2 bg-black/80 backdrop-blur p-1 rounded-lg border border-gray-700",children:ke.layers.map(V=>j.jsxs("button",{onClick:()=>p(V.id),className:`flex items-center gap-2 px-3 py-1 text-xs font-bold rounded transition-all ${d===V.id?"bg-orange-500 text-white":"text-gray-400 hover:bg-gray-700"}`,children:[j.jsx(L4,{size:14}),V.name]},V.id))}),j.jsxs("div",{className:"flex-1 relative flex overflow-hidden",children:[j.jsxs("div",{className:"w-64 bg-gray-900/95 backdrop-blur border-r border-gray-800 flex flex-col z-20 shadow-xl shrink-0 overflow-hidden",children:[j.jsxs("div",{className:"p-3 border-b border-gray-800 space-y-3",children:[j.jsxs("div",{className:"relative",children:[j.jsx($4,{className:"absolute left-2 top-1.5 text-gray-500 w-4 h-4"}),j.jsx("input",{type:"text",placeholder:"...",value:Ds,onChange:V=>ba(V.target.value),className:"w-full bg-black/40 border border-gray-700 rounded pl-8 pr-2 py-1 text-sm text-gray-300 focus:outline-none focus:border-orange-500"})]}),j.jsxs("div",{className:"flex gap-2",children:[j.jsxs("button",{onClick:()=>Tn("move"),className:`flex-1 py-1.5 rounded flex items-center justify-center gap-2 text-xs font-bold transition-colors border ${un==="move"?"bg-gray-700 text-white border-gray-500":"bg-gray-800 text-gray-400 border-gray-700 hover:bg-gray-700"}`,children:[j.jsx(j4,{size:14}),""]}),j.jsx("button",{onClick:On,className:"px-3 py-1.5 rounded bg-gray-800 text-gray-400 border border-gray-700 hover:text-white hover:border-gray-500",children:j.jsx(cT,{size:14})})]}),j.jsxs("div",{className:"flex gap-2",children:[j.jsx("button",{onClick:wa,className:"flex-1 py-1.5 rounded bg-gray-800 text-gray-300 border border-gray-700 hover:bg-gray-700 text-xs font-bold",children:""}),j.jsx("button",{onClick:Ra,className:"flex-1 py-1.5 rounded bg-gray-800 text-gray-300 border border-gray-700 hover:bg-gray-700 text-xs font-bold",children:""})]})]}),j.jsx("div",{className:"flex-1 overflow-y-auto p-2 space-y-1 scrollbar-thin scrollbar-thumb-gray-700",children:Object.entries(oa).map(([V,J])=>j.jsxs("div",{className:"rounded overflow-hidden",children:[j.jsxs("div",{className:"w-full flex items-center justify-between px-2 py-1.5 bg-gray-800/50 text-xs font-bold text-gray-300",children:[j.jsxs("button",{onClick:()=>qo(V),className:"flex items-center gap-2 flex-1 text-left hover:text-white",children:[j.jsx("span",{children:J.label}),Ea[V]?j.jsx(E4,{size:14}):j.jsx(b4,{size:14})]}),j.jsx("button",{onClick:()=>Xn(V),className:"p-1 rounded hover:bg-gray-700 text-gray-300 hover:text-white",title:"",children:j.jsx(H4,{size:14})})]}),Ea[V]&&j.jsx("div",{className:"bg-black/20 p-1 space-y-0.5",children:Object.values(Ie).filter(W=>W.cat===V).filter(W=>W.label.includes(Ds)).map(W=>{const ft=W.icon,bt=un===W.id,me=_t[W.id],Ye=ve[W.id]||0,bn=pn(W.id);return j.jsxs("div",{role:"button",tabIndex:0,onClick:()=>Tn(W.id),onKeyDown:Ke=>{(Ke.key==="Enter"||Ke.key===" ")&&(Ke.preventDefault(),Tn(W.id))},className:`w-full flex items-center gap-3 px-2 py-1.5 rounded text-xs transition-all cursor-pointer ${bt?"bg-gray-700 text-white ring-1 ring-inset ring-gray-500":"text-gray-400 hover:bg-gray-800 hover:text-gray-200"}`,children:[me?j.jsx("img",{src:me,alt:`${W.label} icon`,className:"w-5 h-5 rounded-full object-cover border border-gray-600/60"}):j.jsx(ft,{size:16,color:J.color}),j.jsx("span",{className:"flex-1 text-left truncate",children:W.label}),j.jsx("span",{className:"text-[11px] text-gray-400",children:Ye}),j.jsxs("div",{className:"flex items-center gap-1 ml-1",children:[j.jsx("button",{onClick:Ke=>{Ke.stopPropagation(),Vn(W.id)},className:"p-1 rounded bg-gray-800 hover:bg-gray-700 text-gray-300 border border-gray-700",title:"",children:j.jsx(Om,{size:12})}),j.jsx("button",{onClick:Ke=>{Ke.stopPropagation(),pt(Je=>({...Je,[W.id]:!bn}))},className:`p-1 rounded border ${bn?"bg-gray-800 text-gray-300 border-gray-700 hover:bg-gray-700":"bg-gray-900 text-gray-500 border-gray-800 hover:text-gray-300"}`,title:bn?"":"",children:j.jsx(C4,{size:12})})]})]},W.id)})})]},V))}),j.jsxs("div",{className:"p-2 border-t border-gray-800 text-[10px] text-gray-600 text-center",children:["Room: ",i||""]})]}),j.jsxs("div",{ref:Yi,className:"flex-1 relative overflow-hidden bg-black cursor-crosshair",onMouseDown:Vs,onMouseMove:Xi,onMouseUp:$n,onMouseLeave:$n,children:[j.jsxs("div",{ref:xs,className:"absolute origin-top-left will-change-transform",style:{transform:`translate(${fe.x}px, ${fe.y}px) scale(${fe.scale})`,width:ke.width,height:ke.height,transition:_e?"none":"transform 0.1s ease-out"},onClick:Sa,children:[!_n&&yn?j.jsx("img",{src:yn,alt:ke.name,className:"w-full h-full object-fill pointer-events-none select-none",draggable:!1,onError:()=>Pn(!0)}):j.jsx(EN,{config:ke,onUpload:On}),Nr.map(V=>{const J=Ie[V.type]||qv,W=oa[J.cat]||oa.others,ft=J.icon,bt=V.id===M,me=tt.includes(V.id),Ye=V.iconUrl||_t[V.type],Ke=Math.max(.3,Ai),Je=M&&!bt?.4:1,Se=bt?50:10;return j.jsx("div",{className:"absolute -translate-x-1/2 -translate-y-1/2 cursor-pointer transition-all duration-200",style:{left:V.x,top:V.y,transform:`scale(${Ke})`,opacity:Je,zIndex:Se},onClick:Ue=>kn(Ue,V.id),children:j.jsxs("div",{className:"relative flex flex-col items-center group",children:[j.jsxs("div",{className:`drop-shadow-md filter transition-all ${bt?"drop-shadow-[0_0_10px_rgba(255,255,255,0.8)]":""}`,children:[j.jsx("div",{className:"absolute inset-[-6px] rounded-full border-2 border-orange-500 opacity-80 pointer-events-none"}),me&&j.jsx(O4,{size:16,color:"#f87171",fill:"#f87171",className:"absolute -top-2 -right-2 drop-shadow-md pointer-events-none"}),Ye?j.jsx("img",{src:Ye,alt:"Custom pin",className:"w-8 h-8 rounded-full border border-black/40 object-cover"}):j.jsx(ft,{size:24,fill:W.color,color:"#000000",strokeWidth:1.5,className:bt?"text-white":""})]}),!bt&&j.jsx("div",{className:"absolute top-full mt-1 opacity-0 group-hover:opacity-100 bg-black/80 text-white text-[10px] px-2 py-1 rounded whitespace-nowrap pointer-events-none border border-white/20 z-50",children:J.label})]})},V.id)})]}),M&&(()=>{const V=b.find(W=>W.id===M);if(!V)return null;const J=Ie[V.type]||qv;return j.jsx(TN,{pin:V,markerDef:J,onClose:()=>F(null),onUpdateImage:be,onUpdateIcon:Ve,onMark:W=>{it(ft=>ft.includes(W)?ft.filter(bt=>bt!==W):[...ft,W]),F(W)},onDelete:Un})})(),!1]})]}),j.jsxs("div",{className:"absolute bottom-4 right-4 flex items-end gap-3 z-10 pointer-events-none",children:[j.jsxs("div",{className:"flex items-center gap-3 bg-black/30 backdrop-blur-sm rounded-full px-4 py-2 border border-gray-700/50 shadow pointer-events-auto",children:[j.jsx(K4,{size:16,className:"text-gray-400"}),j.jsx("input",{type:"range",min:"0.5",max:"3",step:"0.1",value:Ai,onChange:V=>Cs(parseFloat(V.target.value)),className:"w-28 h-1 bg-gray-600 rounded-lg appearance-none cursor-pointer accent-blue-500"})]}),j.jsxs("div",{className:"flex flex-col items-center gap-3 pointer-events-auto",children:[j.jsx("div",{className:"relative h-40 w-12 flex items-center justify-center bg-black/30 backdrop-blur-sm rounded-full border border-gray-700/50 shadow",children:j.jsx("div",{className:"-rotate-90 w-28",children:j.jsx("input",{type:"range",min:"0.2",max:"5",step:"0.1",value:fe.scale,onChange:V=>Ri(parseFloat(V.target.value)),className:"w-full h-1 bg-gray-600 rounded-lg appearance-none cursor-pointer accent-orange-500"})})}),j.jsx("button",{onClick:()=>de(!0),className:"bg-gray-800 hover:bg-gray-700 text-gray-200 p-2 rounded-full shadow-lg border border-gray-700",title:"",children:j.jsx(J4,{size:18})})]})]}),Ze&&j.jsx("div",{className:"absolute top-20 left-1/2 -translate-x-1/2 bg-green-600 text-white px-4 py-2 rounded shadow-xl z-50 animate-bounce pointer-events-none",children:""}),Ns&&j.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/70 backdrop-blur-sm p-4",children:j.jsxs("div",{className:"bg-gray-900 rounded-xl border border-gray-700 w-full max-w-md p-5 space-y-4 shadow-2xl",children:[j.jsxs("div",{className:"flex items-center justify-between",children:[j.jsx("h3",{className:"text-lg font-bold text-white",children:""}),j.jsx("button",{onClick:()=>de(!1),className:"text-gray-400 hover:text-white",children:j.jsx(km,{size:18})})]}),j.jsxs("div",{className:"flex justify-end gap-2",children:[j.jsxs("div",{className:"flex-1 space-y-2 text-sm text-gray-300",children:[j.jsx("div",{className:"text-xs text-gray-400",children:""}),j.jsx("select",{value:dt,onChange:V=>Vt(V.target.value),className:"w-full bg-gray-800 border border-gray-700 rounded px-2 py-1 text-sm text-white",children:Object.values(Ie).map(V=>j.jsx("option",{value:V.id,children:V.label},V.id))})]}),j.jsxs("div",{className:"flex items-end gap-2",children:[j.jsx("button",{onClick:()=>Aa(dt),disabled:!dt||Yt,className:"px-3 py-2 text-xs font-semibold rounded bg-gray-800 text-gray-200 border border-gray-700 hover:bg-gray-700 shadow disabled:opacity-50 disabled:cursor-not-allowed",children:""}),j.jsx("button",{onClick:()=>de(!1),className:"px-3 py-2 text-xs font-semibold rounded bg-orange-600 hover:bg-orange-500 text-white",children:""})]})]})]})}),S&&j.jsx("div",{className:"absolute inset-0 bg-black/60 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:j.jsxs("div",{className:"bg-gray-900 rounded-xl border border-gray-700 w-full max-w-md p-4 space-y-4 shadow-2xl",children:[j.jsxs("div",{className:"flex items-center justify-between",children:[j.jsx("h3",{className:"text-lg font-bold text-white",children:""}),j.jsx("button",{onClick:()=>R(!1),className:"text-gray-400 hover:text-white",children:j.jsx(km,{size:18})})]}),j.jsxs("div",{className:"text-xs text-gray-400",children:[": ",O&&oa[O]?.label]}),j.jsx("input",{value:U,onChange:V=>w(V.target.value),placeholder:"",className:"w-full bg-gray-800 border border-gray-700 rounded px-3 py-2 text-sm text-white focus:border-orange-500 outline-none"}),j.jsxs("div",{children:[j.jsx("div",{className:"text-xs text-gray-400 mb-2",children:""}),j.jsx("div",{className:"grid grid-cols-5 gap-2 mb-3",children:Oe.map(V=>j.jsx("button",{onClick:()=>ye(V.dataUrl),className:`h-12 rounded-lg border ${$t===V.dataUrl?"border-orange-500 ring-1 ring-orange-400":"border-gray-700"} bg-gray-800 flex items-center justify-center hover:border-gray-500`,children:j.jsx("img",{src:V.dataUrl,alt:V.label,className:"w-8 h-8 rounded"})},V.id))}),j.jsxs("div",{className:"flex items-center gap-3",children:[j.jsx("div",{className:"w-12 h-12 rounded-full border border-gray-700 bg-gray-800 flex items-center justify-center overflow-hidden",children:$t?j.jsx("img",{src:$t,alt:"",className:"w-full h-full object-cover"}):j.jsx(So,{size:20,className:"text-gray-500"})}),j.jsxs("button",{onClick:()=>wi.current?.click(),className:"px-3 py-2 text-xs font-semibold rounded border border-gray-700 bg-gray-800 text-gray-200 hover:bg-gray-700 flex items-center gap-2",children:[j.jsx(Sh,{size:14}),""]})]})]}),j.jsxs("div",{className:"flex justify-end gap-2 pt-2",children:[j.jsx("button",{onClick:()=>R(!1),className:"px-3 py-2 text-xs rounded border border-gray-700 text-gray-300 hover:bg-gray-800",children:""}),j.jsx("button",{onClick:Bo,className:"px-3 py-2 text-xs rounded bg-orange-600 hover:bg-orange-500 text-white font-bold",children:""})]})]})})]})}Jb.createRoot(document.getElementById("root")).render(j.jsx(Fb.StrictMode,{children:j.jsx(bN,{})}));
