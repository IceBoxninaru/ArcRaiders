(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))a(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function i(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function a(l){if(l.ep)return;l.ep=!0;const c=i(l);fetch(l.href,c)}})();function Qv(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var Hd={exports:{}},Bl={};var Z_;function Yb(){if(Z_)return Bl;Z_=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function i(a,l,c){var d=null;if(c!==void 0&&(d=""+c),l.key!==void 0&&(d=""+l.key),"key"in l){c={};for(var p in l)p!=="key"&&(c[p]=l[p])}else c=l;return l=c.ref,{$$typeof:r,type:a,key:d,ref:l!==void 0?l:null,props:c}}return Bl.Fragment=t,Bl.jsx=i,Bl.jsxs=i,Bl}var W_;function Kb(){return W_||(W_=1,Hd.exports=Yb()),Hd.exports}var x=Kb(),Fd={exports:{}},wt={};var t0;function Xb(){if(t0)return wt;t0=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),S=Symbol.for("react.activity"),V=Symbol.iterator;function Q(O){return O===null||typeof O!="object"?null:(O=V&&O[V]||O["@@iterator"],typeof O=="function"?O:null)}var tt={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},nt=Object.assign,et={};function yt(O,X,st){this.props=O,this.context=X,this.refs=et,this.updater=st||tt}yt.prototype.isReactComponent={},yt.prototype.setState=function(O,X){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,X,"setState")},yt.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function At(){}At.prototype=yt.prototype;function _t(O,X,st){this.props=O,this.context=X,this.refs=et,this.updater=st||tt}var Ot=_t.prototype=new At;Ot.constructor=_t,nt(Ot,yt.prototype),Ot.isPureReactComponent=!0;var Jt=Array.isArray;function Dt(){}var N={H:null,A:null,T:null,S:null},A=Object.prototype.hasOwnProperty;function I(O,X,st){var lt=st.ref;return{$$typeof:r,type:O,key:X,ref:lt!==void 0?lt:null,props:st}}function k(O,X){return I(O.type,X,O.props)}function D(O){return typeof O=="object"&&O!==null&&O.$$typeof===r}function L(O){var X={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(st){return X[st]})}var R=/\/+/g;function re(O,X){return typeof O=="object"&&O!==null&&O.key!=null?L(""+O.key):X.toString(36)}function Te(O){switch(O.status){case"fulfilled":return O.value;case"rejected":throw O.reason;default:switch(typeof O.status=="string"?O.then(Dt,Dt):(O.status="pending",O.then(function(X){O.status==="pending"&&(O.status="fulfilled",O.value=X)},function(X){O.status==="pending"&&(O.status="rejected",O.reason=X)})),O.status){case"fulfilled":return O.value;case"rejected":throw O.reason}}throw O}function G(O,X,st,lt,Tt){var Ct=typeof O;(Ct==="undefined"||Ct==="boolean")&&(O=null);var Gt=!1;if(O===null)Gt=!0;else switch(Ct){case"bigint":case"string":case"number":Gt=!0;break;case"object":switch(O.$$typeof){case r:case t:Gt=!0;break;case b:return Gt=O._init,G(Gt(O._payload),X,st,lt,Tt)}}if(Gt)return Tt=Tt(O),Gt=lt===""?"."+re(O,0):lt,Jt(Tt)?(st="",Gt!=null&&(st=Gt.replace(R,"$&/")+"/"),G(Tt,X,st,"",function(Vr){return Vr})):Tt!=null&&(D(Tt)&&(Tt=k(Tt,st+(Tt.key==null||O&&O.key===Tt.key?"":(""+Tt.key).replace(R,"$&/")+"/")+Gt)),X.push(Tt)),1;Gt=0;var Le=lt===""?".":lt+":";if(Jt(O))for(var he=0;he<O.length;he++)lt=O[he],Ct=Le+re(lt,he),Gt+=G(lt,X,st,Ct,Tt);else if(he=Q(O),typeof he=="function")for(O=he.call(O),he=0;!(lt=O.next()).done;)lt=lt.value,Ct=Le+re(lt,he++),Gt+=G(lt,X,st,Ct,Tt);else if(Ct==="object"){if(typeof O.then=="function")return G(Te(O),X,st,lt,Tt);throw X=String(O),Error("Objects are not valid as a React child (found: "+(X==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":X)+"). If you meant to render a collection of children, use an array instead.")}return Gt}function rt(O,X,st){if(O==null)return O;var lt=[],Tt=0;return G(O,lt,"","",function(Ct){return X.call(st,Ct,Tt++)}),lt}function dt(O){if(O._status===-1){var X=O._result;X=X(),X.then(function(st){(O._status===0||O._status===-1)&&(O._status=1,O._result=st)},function(st){(O._status===0||O._status===-1)&&(O._status=2,O._result=st)}),O._status===-1&&(O._status=0,O._result=X)}if(O._status===1)return O._result.default;throw O._result}var Lt=typeof reportError=="function"?reportError:function(O){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var X=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof O=="object"&&O!==null&&typeof O.message=="string"?String(O.message):String(O),error:O});if(!window.dispatchEvent(X))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",O);return}console.error(O)},Ft={map:rt,forEach:function(O,X,st){rt(O,function(){X.apply(this,arguments)},st)},count:function(O){var X=0;return rt(O,function(){X++}),X},toArray:function(O){return rt(O,function(X){return X})||[]},only:function(O){if(!D(O))throw Error("React.Children.only expected to receive a single React element child.");return O}};return wt.Activity=S,wt.Children=Ft,wt.Component=yt,wt.Fragment=i,wt.Profiler=l,wt.PureComponent=_t,wt.StrictMode=a,wt.Suspense=y,wt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=N,wt.__COMPILER_RUNTIME={__proto__:null,c:function(O){return N.H.useMemoCache(O)}},wt.cache=function(O){return function(){return O.apply(null,arguments)}},wt.cacheSignal=function(){return null},wt.cloneElement=function(O,X,st){if(O==null)throw Error("The argument must be a React element, but you passed "+O+".");var lt=nt({},O.props),Tt=O.key;if(X!=null)for(Ct in X.key!==void 0&&(Tt=""+X.key),X)!A.call(X,Ct)||Ct==="key"||Ct==="__self"||Ct==="__source"||Ct==="ref"&&X.ref===void 0||(lt[Ct]=X[Ct]);var Ct=arguments.length-2;if(Ct===1)lt.children=st;else if(1<Ct){for(var Gt=Array(Ct),Le=0;Le<Ct;Le++)Gt[Le]=arguments[Le+2];lt.children=Gt}return I(O.type,Tt,lt)},wt.createContext=function(O){return O={$$typeof:d,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null},O.Provider=O,O.Consumer={$$typeof:c,_context:O},O},wt.createElement=function(O,X,st){var lt,Tt={},Ct=null;if(X!=null)for(lt in X.key!==void 0&&(Ct=""+X.key),X)A.call(X,lt)&&lt!=="key"&&lt!=="__self"&&lt!=="__source"&&(Tt[lt]=X[lt]);var Gt=arguments.length-2;if(Gt===1)Tt.children=st;else if(1<Gt){for(var Le=Array(Gt),he=0;he<Gt;he++)Le[he]=arguments[he+2];Tt.children=Le}if(O&&O.defaultProps)for(lt in Gt=O.defaultProps,Gt)Tt[lt]===void 0&&(Tt[lt]=Gt[lt]);return I(O,Ct,Tt)},wt.createRef=function(){return{current:null}},wt.forwardRef=function(O){return{$$typeof:p,render:O}},wt.isValidElement=D,wt.lazy=function(O){return{$$typeof:b,_payload:{_status:-1,_result:O},_init:dt}},wt.memo=function(O,X){return{$$typeof:_,type:O,compare:X===void 0?null:X}},wt.startTransition=function(O){var X=N.T,st={};N.T=st;try{var lt=O(),Tt=N.S;Tt!==null&&Tt(st,lt),typeof lt=="object"&&lt!==null&&typeof lt.then=="function"&&lt.then(Dt,Lt)}catch(Ct){Lt(Ct)}finally{X!==null&&st.types!==null&&(X.types=st.types),N.T=X}},wt.unstable_useCacheRefresh=function(){return N.H.useCacheRefresh()},wt.use=function(O){return N.H.use(O)},wt.useActionState=function(O,X,st){return N.H.useActionState(O,X,st)},wt.useCallback=function(O,X){return N.H.useCallback(O,X)},wt.useContext=function(O){return N.H.useContext(O)},wt.useDebugValue=function(){},wt.useDeferredValue=function(O,X){return N.H.useDeferredValue(O,X)},wt.useEffect=function(O,X){return N.H.useEffect(O,X)},wt.useEffectEvent=function(O){return N.H.useEffectEvent(O)},wt.useId=function(){return N.H.useId()},wt.useImperativeHandle=function(O,X,st){return N.H.useImperativeHandle(O,X,st)},wt.useInsertionEffect=function(O,X){return N.H.useInsertionEffect(O,X)},wt.useLayoutEffect=function(O,X){return N.H.useLayoutEffect(O,X)},wt.useMemo=function(O,X){return N.H.useMemo(O,X)},wt.useOptimistic=function(O,X){return N.H.useOptimistic(O,X)},wt.useReducer=function(O,X,st){return N.H.useReducer(O,X,st)},wt.useRef=function(O){return N.H.useRef(O)},wt.useState=function(O){return N.H.useState(O)},wt.useSyncExternalStore=function(O,X,st){return N.H.useSyncExternalStore(O,X,st)},wt.useTransition=function(){return N.H.useTransition()},wt.version="19.2.0",wt}var e0;function Bm(){return e0||(e0=1,Fd.exports=Xb()),Fd.exports}var at=Bm();const $b=Qv(at);var Gd={exports:{}},ql={},Qd={exports:{}},Yd={};var n0;function Jb(){return n0||(n0=1,(function(r){function t(G,rt){var dt=G.length;G.push(rt);t:for(;0<dt;){var Lt=dt-1>>>1,Ft=G[Lt];if(0<l(Ft,rt))G[Lt]=rt,G[dt]=Ft,dt=Lt;else break t}}function i(G){return G.length===0?null:G[0]}function a(G){if(G.length===0)return null;var rt=G[0],dt=G.pop();if(dt!==rt){G[0]=dt;t:for(var Lt=0,Ft=G.length,O=Ft>>>1;Lt<O;){var X=2*(Lt+1)-1,st=G[X],lt=X+1,Tt=G[lt];if(0>l(st,dt))lt<Ft&&0>l(Tt,st)?(G[Lt]=Tt,G[lt]=dt,Lt=lt):(G[Lt]=st,G[X]=dt,Lt=X);else if(lt<Ft&&0>l(Tt,dt))G[Lt]=Tt,G[lt]=dt,Lt=lt;else break t}}return rt}function l(G,rt){var dt=G.sortIndex-rt.sortIndex;return dt!==0?dt:G.id-rt.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;r.unstable_now=function(){return c.now()}}else{var d=Date,p=d.now();r.unstable_now=function(){return d.now()-p}}var y=[],_=[],b=1,S=null,V=3,Q=!1,tt=!1,nt=!1,et=!1,yt=typeof setTimeout=="function"?setTimeout:null,At=typeof clearTimeout=="function"?clearTimeout:null,_t=typeof setImmediate<"u"?setImmediate:null;function Ot(G){for(var rt=i(_);rt!==null;){if(rt.callback===null)a(_);else if(rt.startTime<=G)a(_),rt.sortIndex=rt.expirationTime,t(y,rt);else break;rt=i(_)}}function Jt(G){if(nt=!1,Ot(G),!tt)if(i(y)!==null)tt=!0,Dt||(Dt=!0,L());else{var rt=i(_);rt!==null&&Te(Jt,rt.startTime-G)}}var Dt=!1,N=-1,A=5,I=-1;function k(){return et?!0:!(r.unstable_now()-I<A)}function D(){if(et=!1,Dt){var G=r.unstable_now();I=G;var rt=!0;try{t:{tt=!1,nt&&(nt=!1,At(N),N=-1),Q=!0;var dt=V;try{e:{for(Ot(G),S=i(y);S!==null&&!(S.expirationTime>G&&k());){var Lt=S.callback;if(typeof Lt=="function"){S.callback=null,V=S.priorityLevel;var Ft=Lt(S.expirationTime<=G);if(G=r.unstable_now(),typeof Ft=="function"){S.callback=Ft,Ot(G),rt=!0;break e}S===i(y)&&a(y),Ot(G)}else a(y);S=i(y)}if(S!==null)rt=!0;else{var O=i(_);O!==null&&Te(Jt,O.startTime-G),rt=!1}}break t}finally{S=null,V=dt,Q=!1}rt=void 0}}finally{rt?L():Dt=!1}}}var L;if(typeof _t=="function")L=function(){_t(D)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,re=R.port2;R.port1.onmessage=D,L=function(){re.postMessage(null)}}else L=function(){yt(D,0)};function Te(G,rt){N=yt(function(){G(r.unstable_now())},rt)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(G){G.callback=null},r.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<G?Math.floor(1e3/G):5},r.unstable_getCurrentPriorityLevel=function(){return V},r.unstable_next=function(G){switch(V){case 1:case 2:case 3:var rt=3;break;default:rt=V}var dt=V;V=rt;try{return G()}finally{V=dt}},r.unstable_requestPaint=function(){et=!0},r.unstable_runWithPriority=function(G,rt){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var dt=V;V=G;try{return rt()}finally{V=dt}},r.unstable_scheduleCallback=function(G,rt,dt){var Lt=r.unstable_now();switch(typeof dt=="object"&&dt!==null?(dt=dt.delay,dt=typeof dt=="number"&&0<dt?Lt+dt:Lt):dt=Lt,G){case 1:var Ft=-1;break;case 2:Ft=250;break;case 5:Ft=1073741823;break;case 4:Ft=1e4;break;default:Ft=5e3}return Ft=dt+Ft,G={id:b++,callback:rt,priorityLevel:G,startTime:dt,expirationTime:Ft,sortIndex:-1},dt>Lt?(G.sortIndex=dt,t(_,G),i(y)===null&&G===i(_)&&(nt?(At(N),N=-1):nt=!0,Te(Jt,dt-Lt))):(G.sortIndex=Ft,t(y,G),tt||Q||(tt=!0,Dt||(Dt=!0,L()))),G},r.unstable_shouldYield=k,r.unstable_wrapCallback=function(G){var rt=V;return function(){var dt=V;V=rt;try{return G.apply(this,arguments)}finally{V=dt}}}})(Yd)),Yd}var i0;function Zb(){return i0||(i0=1,Qd.exports=Jb()),Qd.exports}var Kd={exports:{}},mn={};var r0;function Wb(){if(r0)return mn;r0=1;var r=Bm();function t(y){var _="https://react.dev/errors/"+y;if(1<arguments.length){_+="?args[]="+encodeURIComponent(arguments[1]);for(var b=2;b<arguments.length;b++)_+="&args[]="+encodeURIComponent(arguments[b])}return"Minified React error #"+y+"; visit "+_+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var a={d:{f:i,r:function(){throw Error(t(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},l=Symbol.for("react.portal");function c(y,_,b){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:S==null?null:""+S,children:y,containerInfo:_,implementation:b}}var d=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(y,_){if(y==="font")return"";if(typeof _=="string")return _==="use-credentials"?_:""}return mn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,mn.createPortal=function(y,_){var b=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_||_.nodeType!==1&&_.nodeType!==9&&_.nodeType!==11)throw Error(t(299));return c(y,_,null,b)},mn.flushSync=function(y){var _=d.T,b=a.p;try{if(d.T=null,a.p=2,y)return y()}finally{d.T=_,a.p=b,a.d.f()}},mn.preconnect=function(y,_){typeof y=="string"&&(_?(_=_.crossOrigin,_=typeof _=="string"?_==="use-credentials"?_:"":void 0):_=null,a.d.C(y,_))},mn.prefetchDNS=function(y){typeof y=="string"&&a.d.D(y)},mn.preinit=function(y,_){if(typeof y=="string"&&_&&typeof _.as=="string"){var b=_.as,S=p(b,_.crossOrigin),V=typeof _.integrity=="string"?_.integrity:void 0,Q=typeof _.fetchPriority=="string"?_.fetchPriority:void 0;b==="style"?a.d.S(y,typeof _.precedence=="string"?_.precedence:void 0,{crossOrigin:S,integrity:V,fetchPriority:Q}):b==="script"&&a.d.X(y,{crossOrigin:S,integrity:V,fetchPriority:Q,nonce:typeof _.nonce=="string"?_.nonce:void 0})}},mn.preinitModule=function(y,_){if(typeof y=="string")if(typeof _=="object"&&_!==null){if(_.as==null||_.as==="script"){var b=p(_.as,_.crossOrigin);a.d.M(y,{crossOrigin:b,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0})}}else _==null&&a.d.M(y)},mn.preload=function(y,_){if(typeof y=="string"&&typeof _=="object"&&_!==null&&typeof _.as=="string"){var b=_.as,S=p(b,_.crossOrigin);a.d.L(y,b,{crossOrigin:S,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0,type:typeof _.type=="string"?_.type:void 0,fetchPriority:typeof _.fetchPriority=="string"?_.fetchPriority:void 0,referrerPolicy:typeof _.referrerPolicy=="string"?_.referrerPolicy:void 0,imageSrcSet:typeof _.imageSrcSet=="string"?_.imageSrcSet:void 0,imageSizes:typeof _.imageSizes=="string"?_.imageSizes:void 0,media:typeof _.media=="string"?_.media:void 0})}},mn.preloadModule=function(y,_){if(typeof y=="string")if(_){var b=p(_.as,_.crossOrigin);a.d.m(y,{as:typeof _.as=="string"&&_.as!=="script"?_.as:void 0,crossOrigin:b,integrity:typeof _.integrity=="string"?_.integrity:void 0})}else a.d.m(y)},mn.requestFormReset=function(y){a.d.r(y)},mn.unstable_batchedUpdates=function(y,_){return y(_)},mn.useFormState=function(y,_,b){return d.H.useFormState(y,_,b)},mn.useFormStatus=function(){return d.H.useHostTransitionStatus()},mn.version="19.2.0",mn}var s0;function tS(){if(s0)return Kd.exports;s0=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),Kd.exports=Wb(),Kd.exports}var a0;function eS(){if(a0)return ql;a0=1;var r=Zb(),t=Bm(),i=tS();function a(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)n+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function c(e){var n=e,s=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(s=n.return),e=n.return;while(e)}return n.tag===3?s:null}function d(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function p(e){if(e.tag===31){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function y(e){if(c(e)!==e)throw Error(a(188))}function _(e){var n=e.alternate;if(!n){if(n=c(e),n===null)throw Error(a(188));return n!==e?null:e}for(var s=e,o=n;;){var h=s.return;if(h===null)break;var f=h.alternate;if(f===null){if(o=h.return,o!==null){s=o;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===s)return y(h),e;if(f===o)return y(h),n;f=f.sibling}throw Error(a(188))}if(s.return!==o.return)s=h,o=f;else{for(var g=!1,E=h.child;E;){if(E===s){g=!0,s=h,o=f;break}if(E===o){g=!0,o=h,s=f;break}E=E.sibling}if(!g){for(E=f.child;E;){if(E===s){g=!0,s=f,o=h;break}if(E===o){g=!0,o=f,s=h;break}E=E.sibling}if(!g)throw Error(a(189))}}if(s.alternate!==o)throw Error(a(190))}if(s.tag!==3)throw Error(a(188));return s.stateNode.current===s?e:n}function b(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=b(e),n!==null)return n;e=e.sibling}return null}var S=Object.assign,V=Symbol.for("react.element"),Q=Symbol.for("react.transitional.element"),tt=Symbol.for("react.portal"),nt=Symbol.for("react.fragment"),et=Symbol.for("react.strict_mode"),yt=Symbol.for("react.profiler"),At=Symbol.for("react.consumer"),_t=Symbol.for("react.context"),Ot=Symbol.for("react.forward_ref"),Jt=Symbol.for("react.suspense"),Dt=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),k=Symbol.for("react.memo_cache_sentinel"),D=Symbol.iterator;function L(e){return e===null||typeof e!="object"?null:(e=D&&e[D]||e["@@iterator"],typeof e=="function"?e:null)}var R=Symbol.for("react.client.reference");function re(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===R?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case nt:return"Fragment";case yt:return"Profiler";case et:return"StrictMode";case Jt:return"Suspense";case Dt:return"SuspenseList";case I:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case tt:return"Portal";case _t:return e.displayName||"Context";case At:return(e._context.displayName||"Context")+".Consumer";case Ot:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case N:return n=e.displayName||null,n!==null?n:re(e.type)||"Memo";case A:n=e._payload,e=e._init;try{return re(e(n))}catch{}}return null}var Te=Array.isArray,G=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,rt=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,dt={pending:!1,data:null,method:null,action:null},Lt=[],Ft=-1;function O(e){return{current:e}}function X(e){0>Ft||(e.current=Lt[Ft],Lt[Ft]=null,Ft--)}function st(e,n){Ft++,Lt[Ft]=e.current,e.current=n}var lt=O(null),Tt=O(null),Ct=O(null),Gt=O(null);function Le(e,n){switch(st(Ct,n),st(Tt,e),st(lt,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?T_(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=T_(n),e=b_(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}X(lt),st(lt,e)}function he(){X(lt),X(Tt),X(Ct)}function Vr(e){e.memoizedState!==null&&st(Gt,e);var n=lt.current,s=b_(n,e.type);n!==s&&(st(Tt,e),st(lt,s))}function Ps(e){Tt.current===e&&(X(lt),X(Tt)),Gt.current===e&&(X(Gt),Ll._currentValue=dt)}var zs,js;function Pe(e){if(zs===void 0)try{throw Error()}catch(s){var n=s.stack.trim().match(/\n( *(at )?)/);zs=n&&n[1]||"",js=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+zs+e+js}var Un=!1;function Re(e,n){if(!e||Un)return"";Un=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(n){var $=function(){throw Error()};if(Object.defineProperty($.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct($,[])}catch(H){var B=H}Reflect.construct(e,[],$)}else{try{$.call()}catch(H){B=H}e.call($.prototype)}}else{try{throw Error()}catch(H){B=H}($=e())&&typeof $.catch=="function"&&$.catch(function(){})}}catch(H){if(H&&B&&typeof H.stack=="string")return[H.stack,B.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=o.DetermineComponentFrameRoot(),g=f[0],E=f[1];if(g&&E){var C=g.split(`
`),j=E.split(`
`);for(h=o=0;o<C.length&&!C[o].includes("DetermineComponentFrameRoot");)o++;for(;h<j.length&&!j[h].includes("DetermineComponentFrameRoot");)h++;if(o===C.length||h===j.length)for(o=C.length-1,h=j.length-1;1<=o&&0<=h&&C[o]!==j[h];)h--;for(;1<=o&&0<=h;o--,h--)if(C[o]!==j[h]){if(o!==1||h!==1)do if(o--,h--,0>h||C[o]!==j[h]){var Y=`
`+C[o].replace(" at new "," at ");return e.displayName&&Y.includes("<anonymous>")&&(Y=Y.replace("<anonymous>",e.displayName)),Y}while(1<=o&&0<=h);break}}}finally{Un=!1,Error.prepareStackTrace=s}return(s=e?e.displayName||e.name:"")?Pe(s):""}function nr(e,n){switch(e.tag){case 26:case 27:case 5:return Pe(e.type);case 16:return Pe("Lazy");case 13:return e.child!==n&&n!==null?Pe("Suspense Fallback"):Pe("Suspense");case 19:return Pe("SuspenseList");case 0:case 15:return Re(e.type,!1);case 11:return Re(e.type.render,!1);case 1:return Re(e.type,!0);case 31:return Pe("Activity");default:return""}}function kr(e){try{var n="",s=null;do n+=nr(e,s),s=e,e=e.return;while(e);return n}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var be=Object.prototype.hasOwnProperty,Ce=r.unstable_scheduleCallback,Xn=r.unstable_cancelCallback,Bs=r.unstable_shouldYield,qs=r.unstable_requestPaint,Xe=r.unstable_now,ir=r.unstable_getCurrentPriorityLevel,Hs=r.unstable_ImmediatePriority,Ur=r.unstable_UserBlockingPriority,cn=r.unstable_NormalPriority,za=r.unstable_LowPriority,Di=r.unstable_IdlePriority,Lr=r.log,Pr=r.unstable_setDisableYieldValue,vn=null,Qe=null;function En(e){if(typeof Lr=="function"&&Pr(e),Qe&&typeof Qe.setStrictMode=="function")try{Qe.setStrictMode(vn,e)}catch{}}var _e=Math.clz32?Math.clz32:Fs,zr=Math.log,Mi=Math.LN2;function Fs(e){return e>>>=0,e===0?32:31-(zr(e)/Mi|0)|0}var $n=256,Ei=262144,Pt=4194304;function $e(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function hn(e,n,s){var o=e.pendingLanes;if(o===0)return 0;var h=0,f=e.suspendedLanes,g=e.pingedLanes;e=e.warmLanes;var E=o&134217727;return E!==0?(o=E&~f,o!==0?h=$e(o):(g&=E,g!==0?h=$e(g):s||(s=E&~e,s!==0&&(h=$e(s))))):(E=o&~f,E!==0?h=$e(E):g!==0?h=$e(g):s||(s=o&~e,s!==0&&(h=$e(s)))),h===0?0:n!==0&&n!==h&&(n&f)===0&&(f=h&-h,s=n&-n,f>=s||f===32&&(s&4194048)!==0)?n:h}function Ie(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function ja(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ba(){var e=Pt;return Pt<<=1,(Pt&62914560)===0&&(Pt=4194304),e}function Ln(e){for(var n=[],s=0;31>s;s++)n.push(e);return n}function rr(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Pn(e,n,s,o,h,f){var g=e.pendingLanes;e.pendingLanes=s,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=s,e.entangledLanes&=s,e.errorRecoveryDisabledLanes&=s,e.shellSuspendCounter=0;var E=e.entanglements,C=e.expirationTimes,j=e.hiddenUpdates;for(s=g&~s;0<s;){var Y=31-_e(s),$=1<<Y;E[Y]=0,C[Y]=-1;var B=j[Y];if(B!==null)for(j[Y]=null,Y=0;Y<B.length;Y++){var H=B[Y];H!==null&&(H.lane&=-536870913)}s&=~$}o!==0&&Oi(e,o,0),f!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=f&~(g&~n))}function Oi(e,n,s){e.pendingLanes|=n,e.suspendedLanes&=~n;var o=31-_e(n);e.entangledLanes|=n,e.entanglements[o]=e.entanglements[o]|1073741824|s&261930}function jr(e,n){var s=e.entangledLanes|=n;for(e=e.entanglements;s;){var o=31-_e(s),h=1<<o;h&n|e[o]&n&&(e[o]|=n),s&=~h}}function Gs(e,n){var s=n&-n;return s=(s&42)!==0?1:Vi(s),(s&(e.suspendedLanes|n))!==0?0:s}function Vi(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Jn(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Qs(){var e=rt.p;return e!==0?e:(e=window.event,e===void 0?32:G_(e.type))}function Rn(e,n){var s=rt.p;try{return rt.p=e,n()}finally{rt.p=s}}var Cn=Math.random().toString(36).slice(2),Se="__reactFiber$"+Cn,Ne="__reactProps$"+Cn,Zn="__reactContainer$"+Cn,Br="__reactEvents$"+Cn,Ys="__reactListeners$"+Cn,qa="__reactHandles$"+Cn,Ha="__reactResources$"+Cn,Wn="__reactMarker$"+Cn;function qr(e){delete e[Se],delete e[Ne],delete e[Br],delete e[Ys],delete e[qa]}function zn(e){var n=e[Se];if(n)return n;for(var s=e.parentNode;s;){if(n=s[Zn]||s[Se]){if(s=n.alternate,n.child!==null||s!==null&&s.child!==null)for(e=N_(e);e!==null;){if(s=e[Se])return s;e=N_(e)}return n}e=s,s=e.parentNode}return null}function Tn(e){if(e=e[Se]||e[Zn]){var n=e.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return e}return null}function bn(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(a(33))}function ti(e){var n=e[Ha];return n||(n=e[Ha]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function ve(e){e[Wn]=!0}var Ks=new Set,Xs={};function ei(e,n){ni(e,n),ni(e+"Capture",n)}function ni(e,n){for(Xs[e]=n,e=0;e<n.length;e++)Ks.add(n[e])}var $s=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Js={},Zs={};function Fa(e){return be.call(Zs,e)?!0:be.call(Js,e)?!1:$s.test(e)?Zs[e]=!0:(Js[e]=!0,!1)}function Hr(e,n,s){if(Fa(n))if(s===null)e.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var o=n.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+s)}}function Sn(e,n,s){if(s===null)e.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+s)}}function ge(e,n,s,o){if(o===null)e.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(s);return}e.setAttributeNS(n,s,""+o)}}function xe(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Je(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Fr(e,n,s){var o=Object.getOwnPropertyDescriptor(e.constructor.prototype,n);if(!e.hasOwnProperty(n)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var h=o.get,f=o.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return h.call(this)},set:function(g){s=""+g,f.call(this,g)}}),Object.defineProperty(e,n,{enumerable:o.enumerable}),{getValue:function(){return s},setValue:function(g){s=""+g},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function Kt(e){if(!e._valueTracker){var n=Je(e)?"checked":"value";e._valueTracker=Fr(e,n,""+e[n])}}function ki(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var s=n.getValue(),o="";return e&&(o=Je(e)?e.checked?"true":"false":e.value),e=o,e!==s?(n.setValue(e),!0):!1}function ii(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Ui=/[\n"\\]/g;function De(e){return e.replace(Ui,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function ri(e,n,s,o,h,f,g,E){e.name="",g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"?e.type=g:e.removeAttribute("type"),n!=null?g==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+xe(n)):e.value!==""+xe(n)&&(e.value=""+xe(n)):g!=="submit"&&g!=="reset"||e.removeAttribute("value"),n!=null?ta(e,g,xe(n)):s!=null?ta(e,g,xe(s)):o!=null&&e.removeAttribute("value"),h==null&&f!=null&&(e.defaultChecked=!!f),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?e.name=""+xe(E):e.removeAttribute("name")}function Ws(e,n,s,o,h,f,g,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.type=f),n!=null||s!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){Kt(e);return}s=s!=null?""+xe(s):"",n=n!=null?""+xe(n):s,E||n===e.value||(e.value=n),e.defaultValue=n}o=o??h,o=typeof o!="function"&&typeof o!="symbol"&&!!o,e.checked=E?e.checked:!!o,e.defaultChecked=!!o,g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(e.name=g),Kt(e)}function ta(e,n,s){n==="number"&&ii(e.ownerDocument)===e||e.defaultValue===""+s||(e.defaultValue=""+s)}function w(e,n,s,o){if(e=e.options,n){n={};for(var h=0;h<s.length;h++)n["$"+s[h]]=!0;for(s=0;s<e.length;s++)h=n.hasOwnProperty("$"+e[s].value),e[s].selected!==h&&(e[s].selected=h),h&&o&&(e[s].defaultSelected=!0)}else{for(s=""+xe(s),n=null,h=0;h<e.length;h++){if(e[h].value===s){e[h].selected=!0,o&&(e[h].defaultSelected=!0);return}n!==null||e[h].disabled||(n=e[h])}n!==null&&(n.selected=!0)}}function F(e,n,s){if(n!=null&&(n=""+xe(n),n!==e.value&&(e.value=n),s==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=s!=null?""+xe(s):""}function J(e,n,s,o){if(n==null){if(o!=null){if(s!=null)throw Error(a(92));if(Te(o)){if(1<o.length)throw Error(a(93));o=o[0]}s=o}s==null&&(s=""),n=s}s=xe(n),e.defaultValue=s,o=e.textContent,o===s&&o!==""&&o!==null&&(e.value=o),Kt(e)}function ot(e,n){if(n){var s=e.firstChild;if(s&&s===e.lastChild&&s.nodeType===3){s.nodeValue=n;return}}e.textContent=n}var mt=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Mt(e,n,s){var o=n.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?o?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":o?e.setProperty(n,s):typeof s!="number"||s===0||mt.has(n)?n==="float"?e.cssFloat=s:e[n]=(""+s).trim():e[n]=s+"px"}function ee(e,n,s){if(n!=null&&typeof n!="object")throw Error(a(62));if(e=e.style,s!=null){for(var o in s)!s.hasOwnProperty(o)||n!=null&&n.hasOwnProperty(o)||(o.indexOf("--")===0?e.setProperty(o,""):o==="float"?e.cssFloat="":e[o]="");for(var h in n)o=n[h],n.hasOwnProperty(h)&&s[h]!==o&&Mt(e,h,o)}else for(var f in n)n.hasOwnProperty(f)&&Mt(e,f,n[f])}function fn(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var dn=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),si=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Gr(e){return si.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function jn(){}var Wo=null;function ai(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Qr=null,Li=null;function ea(e){var n=Tn(e);if(n&&(e=n.stateNode)){var s=e[Ne]||null;t:switch(e=n.stateNode,n.type){case"input":if(ri(e,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),n=s.name,s.type==="radio"&&n!=null){for(s=e;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+De(""+n)+'"][type="radio"]'),n=0;n<s.length;n++){var o=s[n];if(o!==e&&o.form===e.form){var h=o[Ne]||null;if(!h)throw Error(a(90));ri(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<s.length;n++)o=s[n],o.form===e.form&&ki(o)}break t;case"textarea":F(e,s.value,s.defaultValue);break t;case"select":n=s.value,n!=null&&w(e,!!s.multiple,n,!1)}}}var Ga=!1;function Yr(e,n,s){if(Ga)return e(n,s);Ga=!0;try{var o=e(n);return o}finally{if(Ga=!1,(Qr!==null||Li!==null)&&(yc(),Qr&&(n=Qr,e=Li,Li=Qr=null,ea(n),e)))for(n=0;n<e.length;n++)ea(e[n])}}function Ti(e,n){var s=e.stateNode;if(s===null)return null;var o=s[Ne]||null;if(o===null)return null;s=o[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break t;default:e=!1}if(e)return null;if(s&&typeof s!="function")throw Error(a(231,n,typeof s));return s}var oi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),na=!1;if(oi)try{var se={};Object.defineProperty(se,"passive",{get:function(){na=!0}}),window.addEventListener("test",se,se),window.removeEventListener("test",se,se)}catch{na=!1}var Pi=null,tl=null,ia=null;function el(){if(ia)return ia;var e,n=tl,s=n.length,o,h="value"in Pi?Pi.value:Pi.textContent,f=h.length;for(e=0;e<s&&n[e]===h[e];e++);var g=s-e;for(o=1;o<=g&&n[s-o]===h[f-o];o++);return ia=h.slice(e,1<o?1-o:void 0)}function ra(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function sr(){return!0}function bi(){return!1}function tn(e){function n(s,o,h,f,g){this._reactName=s,this._targetInst=h,this.type=o,this.nativeEvent=f,this.target=g,this.currentTarget=null;for(var E in e)e.hasOwnProperty(E)&&(s=e[E],this[E]=s?s(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?sr:bi,this.isPropagationStopped=bi,this}return S(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=sr)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=sr)},persist:function(){},isPersistent:sr}),n}var ar={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},zi=tn(ar),Kr=S({},ar,{view:0,detail:0}),nl=tn(Kr),Xr,Qa,ji,Ya=S({},Kr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:$r,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ji&&(ji&&e.type==="mousemove"?(Xr=e.screenX-ji.screenX,Qa=e.screenY-ji.screenY):Qa=Xr=0,ji=e),Xr)},movementY:function(e){return"movementY"in e?e.movementY:Qa}}),il=tn(Ya),sa=S({},Ya,{dataTransfer:0}),wu=tn(sa),Ru=S({},Kr,{relatedTarget:0}),aa=tn(Ru),rl=S({},ar,{animationName:0,elapsedTime:0,pseudoElement:0}),Cu=tn(rl),Ka=S({},ar,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Iu=tn(Ka),Nu=S({},ar,{data:0}),Bi=tn(Nu),xu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Du={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Mu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ou(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=Mu[e])?!!n[e]:!1}function $r(){return Ou}var An=S({},Kr,{key:function(e){if(e.key){var n=xu[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=ra(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Du[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:$r,charCode:function(e){return e.type==="keypress"?ra(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ra(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Vu=tn(An),ku=S({},Ya,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),or=tn(ku),u=S({},Kr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:$r}),m=tn(u),v=S({},ar,{propertyName:0,elapsedTime:0,pseudoElement:0}),T=tn(v),P=S({},Ya,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),q=tn(P),it=S({},ar,{newState:0,oldState:0}),It=tn(it),Me=[9,13,27,32],Zt=oi&&"CompositionEvent"in window,pe=null;oi&&"documentMode"in document&&(pe=document.documentMode);var li=oi&&"TextEvent"in window&&!pe,qi=oi&&(!Zt||pe&&8<pe&&11>=pe),Si=" ",Ai=!1;function oa(e,n){switch(e){case"keyup":return Me.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Xa(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var $a=!1;function yT(e,n){switch(e){case"compositionend":return Xa(n);case"keypress":return n.which!==32?null:(Ai=!0,Si);case"textInput":return e=n.data,e===Si&&Ai?null:e;default:return null}}function _T(e,n){if($a)return e==="compositionend"||!Zt&&oa(e,n)?(e=el(),ia=tl=Pi=null,$a=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return qi&&n.locale!=="ko"?null:n.data;default:return null}}var vT={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Mg(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!vT[e.type]:n==="textarea"}function Og(e,n,s,o){Qr?Li?Li.push(o):Li=[o]:Qr=o,n=Ac(n,"onChange"),0<n.length&&(s=new zi("onChange","change",null,s,o),e.push({event:s,listeners:n}))}var sl=null,al=null;function ET(e){g_(e,0)}function Uu(e){var n=bn(e);if(ki(n))return e}function Vg(e,n){if(e==="change")return n}var kg=!1;if(oi){var Xh;if(oi){var $h="oninput"in document;if(!$h){var Ug=document.createElement("div");Ug.setAttribute("oninput","return;"),$h=typeof Ug.oninput=="function"}Xh=$h}else Xh=!1;kg=Xh&&(!document.documentMode||9<document.documentMode)}function Lg(){sl&&(sl.detachEvent("onpropertychange",Pg),al=sl=null)}function Pg(e){if(e.propertyName==="value"&&Uu(al)){var n=[];Og(n,al,e,ai(e)),Yr(ET,n)}}function TT(e,n,s){e==="focusin"?(Lg(),sl=n,al=s,sl.attachEvent("onpropertychange",Pg)):e==="focusout"&&Lg()}function bT(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Uu(al)}function ST(e,n){if(e==="click")return Uu(n)}function AT(e,n){if(e==="input"||e==="change")return Uu(n)}function wT(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var Bn=typeof Object.is=="function"?Object.is:wT;function ol(e,n){if(Bn(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var s=Object.keys(e),o=Object.keys(n);if(s.length!==o.length)return!1;for(o=0;o<s.length;o++){var h=s[o];if(!be.call(n,h)||!Bn(e[h],n[h]))return!1}return!0}function zg(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function jg(e,n){var s=zg(e);e=0;for(var o;s;){if(s.nodeType===3){if(o=e+s.textContent.length,e<=n&&o>=n)return{node:s,offset:n-e};e=o}t:{for(;s;){if(s.nextSibling){s=s.nextSibling;break t}s=s.parentNode}s=void 0}s=zg(s)}}function Bg(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?Bg(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function qg(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=ii(e.document);n instanceof e.HTMLIFrameElement;){try{var s=typeof n.contentWindow.location.href=="string"}catch{s=!1}if(s)e=n.contentWindow;else break;n=ii(e.document)}return n}function Jh(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var RT=oi&&"documentMode"in document&&11>=document.documentMode,Ja=null,Zh=null,ll=null,Wh=!1;function Hg(e,n,s){var o=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;Wh||Ja==null||Ja!==ii(o)||(o=Ja,"selectionStart"in o&&Jh(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),ll&&ol(ll,o)||(ll=o,o=Ac(Zh,"onSelect"),0<o.length&&(n=new zi("onSelect","select",null,n,s),e.push({event:n,listeners:o}),n.target=Ja)))}function la(e,n){var s={};return s[e.toLowerCase()]=n.toLowerCase(),s["Webkit"+e]="webkit"+n,s["Moz"+e]="moz"+n,s}var Za={animationend:la("Animation","AnimationEnd"),animationiteration:la("Animation","AnimationIteration"),animationstart:la("Animation","AnimationStart"),transitionrun:la("Transition","TransitionRun"),transitionstart:la("Transition","TransitionStart"),transitioncancel:la("Transition","TransitionCancel"),transitionend:la("Transition","TransitionEnd")},tf={},Fg={};oi&&(Fg=document.createElement("div").style,"AnimationEvent"in window||(delete Za.animationend.animation,delete Za.animationiteration.animation,delete Za.animationstart.animation),"TransitionEvent"in window||delete Za.transitionend.transition);function ua(e){if(tf[e])return tf[e];if(!Za[e])return e;var n=Za[e],s;for(s in n)if(n.hasOwnProperty(s)&&s in Fg)return tf[e]=n[s];return e}var Gg=ua("animationend"),Qg=ua("animationiteration"),Yg=ua("animationstart"),CT=ua("transitionrun"),IT=ua("transitionstart"),NT=ua("transitioncancel"),Kg=ua("transitionend"),Xg=new Map,ef="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");ef.push("scrollEnd");function wi(e,n){Xg.set(e,n),ei(n,[e])}var Lu=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},ui=[],Wa=0,nf=0;function Pu(){for(var e=Wa,n=nf=Wa=0;n<e;){var s=ui[n];ui[n++]=null;var o=ui[n];ui[n++]=null;var h=ui[n];ui[n++]=null;var f=ui[n];if(ui[n++]=null,o!==null&&h!==null){var g=o.pending;g===null?h.next=h:(h.next=g.next,g.next=h),o.pending=h}f!==0&&$g(s,h,f)}}function zu(e,n,s,o){ui[Wa++]=e,ui[Wa++]=n,ui[Wa++]=s,ui[Wa++]=o,nf|=o,e.lanes|=o,e=e.alternate,e!==null&&(e.lanes|=o)}function rf(e,n,s,o){return zu(e,n,s,o),ju(e)}function ca(e,n){return zu(e,null,null,n),ju(e)}function $g(e,n,s){e.lanes|=s;var o=e.alternate;o!==null&&(o.lanes|=s);for(var h=!1,f=e.return;f!==null;)f.childLanes|=s,o=f.alternate,o!==null&&(o.childLanes|=s),f.tag===22&&(e=f.stateNode,e===null||e._visibility&1||(h=!0)),e=f,f=f.return;return e.tag===3?(f=e.stateNode,h&&n!==null&&(h=31-_e(s),e=f.hiddenUpdates,o=e[h],o===null?e[h]=[n]:o.push(n),n.lane=s|536870912),f):null}function ju(e){if(50<xl)throw xl=0,dd=null,Error(a(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var to={};function xT(e,n,s,o){this.tag=e,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function qn(e,n,s,o){return new xT(e,n,s,o)}function sf(e){return e=e.prototype,!(!e||!e.isReactComponent)}function lr(e,n){var s=e.alternate;return s===null?(s=qn(e.tag,n,e.key,e.mode),s.elementType=e.elementType,s.type=e.type,s.stateNode=e.stateNode,s.alternate=e,e.alternate=s):(s.pendingProps=n,s.type=e.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=e.flags&65011712,s.childLanes=e.childLanes,s.lanes=e.lanes,s.child=e.child,s.memoizedProps=e.memoizedProps,s.memoizedState=e.memoizedState,s.updateQueue=e.updateQueue,n=e.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},s.sibling=e.sibling,s.index=e.index,s.ref=e.ref,s.refCleanup=e.refCleanup,s}function Jg(e,n){e.flags&=65011714;var s=e.alternate;return s===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=s.childLanes,e.lanes=s.lanes,e.child=s.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=s.memoizedProps,e.memoizedState=s.memoizedState,e.updateQueue=s.updateQueue,e.type=s.type,n=s.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function Bu(e,n,s,o,h,f){var g=0;if(o=e,typeof e=="function")sf(e)&&(g=1);else if(typeof e=="string")g=kb(e,s,lt.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case I:return e=qn(31,s,n,h),e.elementType=I,e.lanes=f,e;case nt:return ha(s.children,h,f,n);case et:g=8,h|=24;break;case yt:return e=qn(12,s,n,h|2),e.elementType=yt,e.lanes=f,e;case Jt:return e=qn(13,s,n,h),e.elementType=Jt,e.lanes=f,e;case Dt:return e=qn(19,s,n,h),e.elementType=Dt,e.lanes=f,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case _t:g=10;break t;case At:g=9;break t;case Ot:g=11;break t;case N:g=14;break t;case A:g=16,o=null;break t}g=29,s=Error(a(130,e===null?"null":typeof e,"")),o=null}return n=qn(g,s,n,h),n.elementType=e,n.type=o,n.lanes=f,n}function ha(e,n,s,o){return e=qn(7,e,o,n),e.lanes=s,e}function af(e,n,s){return e=qn(6,e,null,n),e.lanes=s,e}function Zg(e){var n=qn(18,null,null,0);return n.stateNode=e,n}function of(e,n,s){return n=qn(4,e.children!==null?e.children:[],e.key,n),n.lanes=s,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var Wg=new WeakMap;function ci(e,n){if(typeof e=="object"&&e!==null){var s=Wg.get(e);return s!==void 0?s:(n={value:e,source:n,stack:kr(n)},Wg.set(e,n),n)}return{value:e,source:n,stack:kr(n)}}var eo=[],no=0,qu=null,ul=0,hi=[],fi=0,Jr=null,Hi=1,Fi="";function ur(e,n){eo[no++]=ul,eo[no++]=qu,qu=e,ul=n}function tp(e,n,s){hi[fi++]=Hi,hi[fi++]=Fi,hi[fi++]=Jr,Jr=e;var o=Hi;e=Fi;var h=32-_e(o)-1;o&=~(1<<h),s+=1;var f=32-_e(n)+h;if(30<f){var g=h-h%5;f=(o&(1<<g)-1).toString(32),o>>=g,h-=g,Hi=1<<32-_e(n)+h|s<<h|o,Fi=f+e}else Hi=1<<f|s<<h|o,Fi=e}function lf(e){e.return!==null&&(ur(e,1),tp(e,1,0))}function uf(e){for(;e===qu;)qu=eo[--no],eo[no]=null,ul=eo[--no],eo[no]=null;for(;e===Jr;)Jr=hi[--fi],hi[fi]=null,Fi=hi[--fi],hi[fi]=null,Hi=hi[--fi],hi[fi]=null}function ep(e,n){hi[fi++]=Hi,hi[fi++]=Fi,hi[fi++]=Jr,Hi=n.id,Fi=n.overflow,Jr=e}var en=null,fe=null,Qt=!1,Zr=null,di=!1,cf=Error(a(519));function Wr(e){var n=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw cl(ci(n,e)),cf}function np(e){var n=e.stateNode,s=e.type,o=e.memoizedProps;switch(n[Se]=e,n[Ne]=o,s){case"dialog":kt("cancel",n),kt("close",n);break;case"iframe":case"object":case"embed":kt("load",n);break;case"video":case"audio":for(s=0;s<Ml.length;s++)kt(Ml[s],n);break;case"source":kt("error",n);break;case"img":case"image":case"link":kt("error",n),kt("load",n);break;case"details":kt("toggle",n);break;case"input":kt("invalid",n),Ws(n,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":kt("invalid",n);break;case"textarea":kt("invalid",n),J(n,o.value,o.defaultValue,o.children)}s=o.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||n.textContent===""+s||o.suppressHydrationWarning===!0||v_(n.textContent,s)?(o.popover!=null&&(kt("beforetoggle",n),kt("toggle",n)),o.onScroll!=null&&kt("scroll",n),o.onScrollEnd!=null&&kt("scrollend",n),o.onClick!=null&&(n.onclick=jn),n=!0):n=!1,n||Wr(e,!0)}function ip(e){for(en=e.return;en;)switch(en.tag){case 5:case 31:case 13:di=!1;return;case 27:case 3:di=!0;return;default:en=en.return}}function io(e){if(e!==en)return!1;if(!Qt)return ip(e),Qt=!0,!1;var n=e.tag,s;if((s=n!==3&&n!==27)&&((s=n===5)&&(s=e.type,s=!(s!=="form"&&s!=="button")||Id(e.type,e.memoizedProps)),s=!s),s&&fe&&Wr(e),ip(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));fe=I_(e)}else if(n===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));fe=I_(e)}else n===27?(n=fe,ds(e.type)?(e=Od,Od=null,fe=e):fe=n):fe=en?gi(e.stateNode.nextSibling):null;return!0}function fa(){fe=en=null,Qt=!1}function hf(){var e=Zr;return e!==null&&(Dn===null?Dn=e:Dn.push.apply(Dn,e),Zr=null),e}function cl(e){Zr===null?Zr=[e]:Zr.push(e)}var ff=O(null),da=null,cr=null;function ts(e,n,s){st(ff,n._currentValue),n._currentValue=s}function hr(e){e._currentValue=ff.current,X(ff)}function df(e,n,s){for(;e!==null;){var o=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,o!==null&&(o.childLanes|=n)):o!==null&&(o.childLanes&n)!==n&&(o.childLanes|=n),e===s)break;e=e.return}}function mf(e,n,s,o){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var f=h.dependencies;if(f!==null){var g=h.child;f=f.firstContext;t:for(;f!==null;){var E=f;f=h;for(var C=0;C<n.length;C++)if(E.context===n[C]){f.lanes|=s,E=f.alternate,E!==null&&(E.lanes|=s),df(f.return,s,e),o||(g=null);break t}f=E.next}}else if(h.tag===18){if(g=h.return,g===null)throw Error(a(341));g.lanes|=s,f=g.alternate,f!==null&&(f.lanes|=s),df(g,s,e),g=null}else g=h.child;if(g!==null)g.return=h;else for(g=h;g!==null;){if(g===e){g=null;break}if(h=g.sibling,h!==null){h.return=g.return,g=h;break}g=g.return}h=g}}function ro(e,n,s,o){e=null;for(var h=n,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var g=h.alternate;if(g===null)throw Error(a(387));if(g=g.memoizedProps,g!==null){var E=h.type;Bn(h.pendingProps.value,g.value)||(e!==null?e.push(E):e=[E])}}else if(h===Gt.current){if(g=h.alternate,g===null)throw Error(a(387));g.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(Ll):e=[Ll])}h=h.return}e!==null&&mf(n,e,s,o),n.flags|=262144}function Hu(e){for(e=e.firstContext;e!==null;){if(!Bn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function ma(e){da=e,cr=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function nn(e){return rp(da,e)}function Fu(e,n){return da===null&&ma(e),rp(e,n)}function rp(e,n){var s=n._currentValue;if(n={context:n,memoizedValue:s,next:null},cr===null){if(e===null)throw Error(a(308));cr=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else cr=cr.next=n;return s}var DT=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(s,o){e.push(o)}};this.abort=function(){n.aborted=!0,e.forEach(function(s){return s()})}},MT=r.unstable_scheduleCallback,OT=r.unstable_NormalPriority,ze={$$typeof:_t,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function gf(){return{controller:new DT,data:new Map,refCount:0}}function hl(e){e.refCount--,e.refCount===0&&MT(OT,function(){e.controller.abort()})}var fl=null,pf=0,so=0,ao=null;function VT(e,n){if(fl===null){var s=fl=[];pf=0,so=vd(),ao={status:"pending",value:void 0,then:function(o){s.push(o)}}}return pf++,n.then(sp,sp),n}function sp(){if(--pf===0&&fl!==null){ao!==null&&(ao.status="fulfilled");var e=fl;fl=null,so=0,ao=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function kT(e,n){var s=[],o={status:"pending",value:null,reason:null,then:function(h){s.push(h)}};return e.then(function(){o.status="fulfilled",o.value=n;for(var h=0;h<s.length;h++)(0,s[h])(n)},function(h){for(o.status="rejected",o.reason=h,h=0;h<s.length;h++)(0,s[h])(void 0)}),o}var ap=G.S;G.S=function(e,n){Hy=Xe(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&VT(e,n),ap!==null&&ap(e,n)};var ga=O(null);function yf(){var e=ga.current;return e!==null?e:ue.pooledCache}function Gu(e,n){n===null?st(ga,ga.current):st(ga,n.pool)}function op(){var e=yf();return e===null?null:{parent:ze._currentValue,pool:e}}var oo=Error(a(460)),_f=Error(a(474)),Qu=Error(a(542)),Yu={then:function(){}};function lp(e){return e=e.status,e==="fulfilled"||e==="rejected"}function up(e,n,s){switch(s=e[s],s===void 0?e.push(n):s!==n&&(n.then(jn,jn),n=s),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,hp(e),e;default:if(typeof n.status=="string")n.then(jn,jn);else{if(e=ue,e!==null&&100<e.shellSuspendCounter)throw Error(a(482));e=n,e.status="pending",e.then(function(o){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=o}},function(o){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=o}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,hp(e),e}throw ya=n,oo}}function pa(e){try{var n=e._init;return n(e._payload)}catch(s){throw s!==null&&typeof s=="object"&&typeof s.then=="function"?(ya=s,oo):s}}var ya=null;function cp(){if(ya===null)throw Error(a(459));var e=ya;return ya=null,e}function hp(e){if(e===oo||e===Qu)throw Error(a(483))}var lo=null,dl=0;function Ku(e){var n=dl;return dl+=1,lo===null&&(lo=[]),up(lo,e,n)}function ml(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function Xu(e,n){throw n.$$typeof===V?Error(a(525)):(e=Object.prototype.toString.call(n),Error(a(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function fp(e){function n(U,M){if(e){var z=U.deletions;z===null?(U.deletions=[M],U.flags|=16):z.push(M)}}function s(U,M){if(!e)return null;for(;M!==null;)n(U,M),M=M.sibling;return null}function o(U){for(var M=new Map;U!==null;)U.key!==null?M.set(U.key,U):M.set(U.index,U),U=U.sibling;return M}function h(U,M){return U=lr(U,M),U.index=0,U.sibling=null,U}function f(U,M,z){return U.index=z,e?(z=U.alternate,z!==null?(z=z.index,z<M?(U.flags|=67108866,M):z):(U.flags|=67108866,M)):(U.flags|=1048576,M)}function g(U){return e&&U.alternate===null&&(U.flags|=67108866),U}function E(U,M,z,K){return M===null||M.tag!==6?(M=af(z,U.mode,K),M.return=U,M):(M=h(M,z),M.return=U,M)}function C(U,M,z,K){var gt=z.type;return gt===nt?Y(U,M,z.props.children,K,z.key):M!==null&&(M.elementType===gt||typeof gt=="object"&&gt!==null&&gt.$$typeof===A&&pa(gt)===M.type)?(M=h(M,z.props),ml(M,z),M.return=U,M):(M=Bu(z.type,z.key,z.props,null,U.mode,K),ml(M,z),M.return=U,M)}function j(U,M,z,K){return M===null||M.tag!==4||M.stateNode.containerInfo!==z.containerInfo||M.stateNode.implementation!==z.implementation?(M=of(z,U.mode,K),M.return=U,M):(M=h(M,z.children||[]),M.return=U,M)}function Y(U,M,z,K,gt){return M===null||M.tag!==7?(M=ha(z,U.mode,K,gt),M.return=U,M):(M=h(M,z),M.return=U,M)}function $(U,M,z){if(typeof M=="string"&&M!==""||typeof M=="number"||typeof M=="bigint")return M=af(""+M,U.mode,z),M.return=U,M;if(typeof M=="object"&&M!==null){switch(M.$$typeof){case Q:return z=Bu(M.type,M.key,M.props,null,U.mode,z),ml(z,M),z.return=U,z;case tt:return M=of(M,U.mode,z),M.return=U,M;case A:return M=pa(M),$(U,M,z)}if(Te(M)||L(M))return M=ha(M,U.mode,z,null),M.return=U,M;if(typeof M.then=="function")return $(U,Ku(M),z);if(M.$$typeof===_t)return $(U,Fu(U,M),z);Xu(U,M)}return null}function B(U,M,z,K){var gt=M!==null?M.key:null;if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return gt!==null?null:E(U,M,""+z,K);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case Q:return z.key===gt?C(U,M,z,K):null;case tt:return z.key===gt?j(U,M,z,K):null;case A:return z=pa(z),B(U,M,z,K)}if(Te(z)||L(z))return gt!==null?null:Y(U,M,z,K,null);if(typeof z.then=="function")return B(U,M,Ku(z),K);if(z.$$typeof===_t)return B(U,M,Fu(U,z),K);Xu(U,z)}return null}function H(U,M,z,K,gt){if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return U=U.get(z)||null,E(M,U,""+K,gt);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case Q:return U=U.get(K.key===null?z:K.key)||null,C(M,U,K,gt);case tt:return U=U.get(K.key===null?z:K.key)||null,j(M,U,K,gt);case A:return K=pa(K),H(U,M,z,K,gt)}if(Te(K)||L(K))return U=U.get(z)||null,Y(M,U,K,gt,null);if(typeof K.then=="function")return H(U,M,z,Ku(K),gt);if(K.$$typeof===_t)return H(U,M,z,Fu(M,K),gt);Xu(M,K)}return null}function ht(U,M,z,K){for(var gt=null,Xt=null,ft=M,xt=M=0,jt=null;ft!==null&&xt<z.length;xt++){ft.index>xt?(jt=ft,ft=null):jt=ft.sibling;var $t=B(U,ft,z[xt],K);if($t===null){ft===null&&(ft=jt);break}e&&ft&&$t.alternate===null&&n(U,ft),M=f($t,M,xt),Xt===null?gt=$t:Xt.sibling=$t,Xt=$t,ft=jt}if(xt===z.length)return s(U,ft),Qt&&ur(U,xt),gt;if(ft===null){for(;xt<z.length;xt++)ft=$(U,z[xt],K),ft!==null&&(M=f(ft,M,xt),Xt===null?gt=ft:Xt.sibling=ft,Xt=ft);return Qt&&ur(U,xt),gt}for(ft=o(ft);xt<z.length;xt++)jt=H(ft,U,xt,z[xt],K),jt!==null&&(e&&jt.alternate!==null&&ft.delete(jt.key===null?xt:jt.key),M=f(jt,M,xt),Xt===null?gt=jt:Xt.sibling=jt,Xt=jt);return e&&ft.forEach(function(_s){return n(U,_s)}),Qt&&ur(U,xt),gt}function vt(U,M,z,K){if(z==null)throw Error(a(151));for(var gt=null,Xt=null,ft=M,xt=M=0,jt=null,$t=z.next();ft!==null&&!$t.done;xt++,$t=z.next()){ft.index>xt?(jt=ft,ft=null):jt=ft.sibling;var _s=B(U,ft,$t.value,K);if(_s===null){ft===null&&(ft=jt);break}e&&ft&&_s.alternate===null&&n(U,ft),M=f(_s,M,xt),Xt===null?gt=_s:Xt.sibling=_s,Xt=_s,ft=jt}if($t.done)return s(U,ft),Qt&&ur(U,xt),gt;if(ft===null){for(;!$t.done;xt++,$t=z.next())$t=$(U,$t.value,K),$t!==null&&(M=f($t,M,xt),Xt===null?gt=$t:Xt.sibling=$t,Xt=$t);return Qt&&ur(U,xt),gt}for(ft=o(ft);!$t.done;xt++,$t=z.next())$t=H(ft,U,xt,$t.value,K),$t!==null&&(e&&$t.alternate!==null&&ft.delete($t.key===null?xt:$t.key),M=f($t,M,xt),Xt===null?gt=$t:Xt.sibling=$t,Xt=$t);return e&&ft.forEach(function(Qb){return n(U,Qb)}),Qt&&ur(U,xt),gt}function le(U,M,z,K){if(typeof z=="object"&&z!==null&&z.type===nt&&z.key===null&&(z=z.props.children),typeof z=="object"&&z!==null){switch(z.$$typeof){case Q:t:{for(var gt=z.key;M!==null;){if(M.key===gt){if(gt=z.type,gt===nt){if(M.tag===7){s(U,M.sibling),K=h(M,z.props.children),K.return=U,U=K;break t}}else if(M.elementType===gt||typeof gt=="object"&&gt!==null&&gt.$$typeof===A&&pa(gt)===M.type){s(U,M.sibling),K=h(M,z.props),ml(K,z),K.return=U,U=K;break t}s(U,M);break}else n(U,M);M=M.sibling}z.type===nt?(K=ha(z.props.children,U.mode,K,z.key),K.return=U,U=K):(K=Bu(z.type,z.key,z.props,null,U.mode,K),ml(K,z),K.return=U,U=K)}return g(U);case tt:t:{for(gt=z.key;M!==null;){if(M.key===gt)if(M.tag===4&&M.stateNode.containerInfo===z.containerInfo&&M.stateNode.implementation===z.implementation){s(U,M.sibling),K=h(M,z.children||[]),K.return=U,U=K;break t}else{s(U,M);break}else n(U,M);M=M.sibling}K=of(z,U.mode,K),K.return=U,U=K}return g(U);case A:return z=pa(z),le(U,M,z,K)}if(Te(z))return ht(U,M,z,K);if(L(z)){if(gt=L(z),typeof gt!="function")throw Error(a(150));return z=gt.call(z),vt(U,M,z,K)}if(typeof z.then=="function")return le(U,M,Ku(z),K);if(z.$$typeof===_t)return le(U,M,Fu(U,z),K);Xu(U,z)}return typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint"?(z=""+z,M!==null&&M.tag===6?(s(U,M.sibling),K=h(M,z),K.return=U,U=K):(s(U,M),K=af(z,U.mode,K),K.return=U,U=K),g(U)):s(U,M)}return function(U,M,z,K){try{dl=0;var gt=le(U,M,z,K);return lo=null,gt}catch(ft){if(ft===oo||ft===Qu)throw ft;var Xt=qn(29,ft,null,U.mode);return Xt.lanes=K,Xt.return=U,Xt}finally{}}}var _a=fp(!0),dp=fp(!1),es=!1;function vf(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Ef(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function ns(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function is(e,n,s){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,(Wt&2)!==0){var h=o.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),o.pending=n,n=ju(e),$g(e,null,s),n}return zu(e,o,n,s),ju(e)}function gl(e,n,s){if(n=n.updateQueue,n!==null&&(n=n.shared,(s&4194048)!==0)){var o=n.lanes;o&=e.pendingLanes,s|=o,n.lanes=s,jr(e,s)}}function Tf(e,n){var s=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,s===o)){var h=null,f=null;if(s=s.firstBaseUpdate,s!==null){do{var g={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};f===null?h=f=g:f=f.next=g,s=s.next}while(s!==null);f===null?h=f=n:f=f.next=n}else h=f=n;s={baseState:o.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:o.shared,callbacks:o.callbacks},e.updateQueue=s;return}e=s.lastBaseUpdate,e===null?s.firstBaseUpdate=n:e.next=n,s.lastBaseUpdate=n}var bf=!1;function pl(){if(bf){var e=ao;if(e!==null)throw e}}function yl(e,n,s,o){bf=!1;var h=e.updateQueue;es=!1;var f=h.firstBaseUpdate,g=h.lastBaseUpdate,E=h.shared.pending;if(E!==null){h.shared.pending=null;var C=E,j=C.next;C.next=null,g===null?f=j:g.next=j,g=C;var Y=e.alternate;Y!==null&&(Y=Y.updateQueue,E=Y.lastBaseUpdate,E!==g&&(E===null?Y.firstBaseUpdate=j:E.next=j,Y.lastBaseUpdate=C))}if(f!==null){var $=h.baseState;g=0,Y=j=C=null,E=f;do{var B=E.lane&-536870913,H=B!==E.lane;if(H?(zt&B)===B:(o&B)===B){B!==0&&B===so&&(bf=!0),Y!==null&&(Y=Y.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var ht=e,vt=E;B=n;var le=s;switch(vt.tag){case 1:if(ht=vt.payload,typeof ht=="function"){$=ht.call(le,$,B);break t}$=ht;break t;case 3:ht.flags=ht.flags&-65537|128;case 0:if(ht=vt.payload,B=typeof ht=="function"?ht.call(le,$,B):ht,B==null)break t;$=S({},$,B);break t;case 2:es=!0}}B=E.callback,B!==null&&(e.flags|=64,H&&(e.flags|=8192),H=h.callbacks,H===null?h.callbacks=[B]:H.push(B))}else H={lane:B,tag:E.tag,payload:E.payload,callback:E.callback,next:null},Y===null?(j=Y=H,C=$):Y=Y.next=H,g|=B;if(E=E.next,E===null){if(E=h.shared.pending,E===null)break;H=E,E=H.next,H.next=null,h.lastBaseUpdate=H,h.shared.pending=null}}while(!0);Y===null&&(C=$),h.baseState=C,h.firstBaseUpdate=j,h.lastBaseUpdate=Y,f===null&&(h.shared.lanes=0),ls|=g,e.lanes=g,e.memoizedState=$}}function mp(e,n){if(typeof e!="function")throw Error(a(191,e));e.call(n)}function gp(e,n){var s=e.callbacks;if(s!==null)for(e.callbacks=null,e=0;e<s.length;e++)mp(s[e],n)}var uo=O(null),$u=O(0);function pp(e,n){e=Er,st($u,e),st(uo,n),Er=e|n.baseLanes}function Sf(){st($u,Er),st(uo,uo.current)}function Af(){Er=$u.current,X(uo),X($u)}var Hn=O(null),mi=null;function rs(e){var n=e.alternate;st(Oe,Oe.current&1),st(Hn,e),mi===null&&(n===null||uo.current!==null||n.memoizedState!==null)&&(mi=e)}function wf(e){st(Oe,Oe.current),st(Hn,e),mi===null&&(mi=e)}function yp(e){e.tag===22?(st(Oe,Oe.current),st(Hn,e),mi===null&&(mi=e)):ss()}function ss(){st(Oe,Oe.current),st(Hn,Hn.current)}function Fn(e){X(Hn),mi===e&&(mi=null),X(Oe)}var Oe=O(0);function Ju(e){for(var n=e;n!==null;){if(n.tag===13){var s=n.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||Dd(s)||Md(s)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var fr=0,Nt=null,ae=null,je=null,Zu=!1,co=!1,va=!1,Wu=0,_l=0,ho=null,UT=0;function Ae(){throw Error(a(321))}function Rf(e,n){if(n===null)return!1;for(var s=0;s<n.length&&s<e.length;s++)if(!Bn(e[s],n[s]))return!1;return!0}function Cf(e,n,s,o,h,f){return fr=f,Nt=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,G.H=e===null||e.memoizedState===null?ty:qf,va=!1,f=s(o,h),va=!1,co&&(f=vp(n,s,o,h)),_p(e),f}function _p(e){G.H=Tl;var n=ae!==null&&ae.next!==null;if(fr=0,je=ae=Nt=null,Zu=!1,_l=0,ho=null,n)throw Error(a(300));e===null||Be||(e=e.dependencies,e!==null&&Hu(e)&&(Be=!0))}function vp(e,n,s,o){Nt=e;var h=0;do{if(co&&(ho=null),_l=0,co=!1,25<=h)throw Error(a(301));if(h+=1,je=ae=null,e.updateQueue!=null){var f=e.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}G.H=ey,f=n(s,o)}while(co);return f}function LT(){var e=G.H,n=e.useState()[0];return n=typeof n.then=="function"?vl(n):n,e=e.useState()[0],(ae!==null?ae.memoizedState:null)!==e&&(Nt.flags|=1024),n}function If(){var e=Wu!==0;return Wu=0,e}function Nf(e,n,s){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~s}function xf(e){if(Zu){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}Zu=!1}fr=0,je=ae=Nt=null,co=!1,_l=Wu=0,ho=null}function wn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return je===null?Nt.memoizedState=je=e:je=je.next=e,je}function Ve(){if(ae===null){var e=Nt.alternate;e=e!==null?e.memoizedState:null}else e=ae.next;var n=je===null?Nt.memoizedState:je.next;if(n!==null)je=n,ae=e;else{if(e===null)throw Nt.alternate===null?Error(a(467)):Error(a(310));ae=e,e={memoizedState:ae.memoizedState,baseState:ae.baseState,baseQueue:ae.baseQueue,queue:ae.queue,next:null},je===null?Nt.memoizedState=je=e:je=je.next=e}return je}function tc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function vl(e){var n=_l;return _l+=1,ho===null&&(ho=[]),e=up(ho,e,n),n=Nt,(je===null?n.memoizedState:je.next)===null&&(n=n.alternate,G.H=n===null||n.memoizedState===null?ty:qf),e}function ec(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return vl(e);if(e.$$typeof===_t)return nn(e)}throw Error(a(438,String(e)))}function Df(e){var n=null,s=Nt.updateQueue;if(s!==null&&(n=s.memoCache),n==null){var o=Nt.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(n={data:o.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),s===null&&(s=tc(),Nt.updateQueue=s),s.memoCache=n,s=n.data[n.index],s===void 0)for(s=n.data[n.index]=Array(e),o=0;o<e;o++)s[o]=k;return n.index++,s}function dr(e,n){return typeof n=="function"?n(e):n}function nc(e){var n=Ve();return Mf(n,ae,e)}function Mf(e,n,s){var o=e.queue;if(o===null)throw Error(a(311));o.lastRenderedReducer=s;var h=e.baseQueue,f=o.pending;if(f!==null){if(h!==null){var g=h.next;h.next=f.next,f.next=g}n.baseQueue=h=f,o.pending=null}if(f=e.baseState,h===null)e.memoizedState=f;else{n=h.next;var E=g=null,C=null,j=n,Y=!1;do{var $=j.lane&-536870913;if($!==j.lane?(zt&$)===$:(fr&$)===$){var B=j.revertLane;if(B===0)C!==null&&(C=C.next={lane:0,revertLane:0,gesture:null,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null}),$===so&&(Y=!0);else if((fr&B)===B){j=j.next,B===so&&(Y=!0);continue}else $={lane:0,revertLane:j.revertLane,gesture:null,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null},C===null?(E=C=$,g=f):C=C.next=$,Nt.lanes|=B,ls|=B;$=j.action,va&&s(f,$),f=j.hasEagerState?j.eagerState:s(f,$)}else B={lane:$,revertLane:j.revertLane,gesture:j.gesture,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null},C===null?(E=C=B,g=f):C=C.next=B,Nt.lanes|=$,ls|=$;j=j.next}while(j!==null&&j!==n);if(C===null?g=f:C.next=E,!Bn(f,e.memoizedState)&&(Be=!0,Y&&(s=ao,s!==null)))throw s;e.memoizedState=f,e.baseState=g,e.baseQueue=C,o.lastRenderedState=f}return h===null&&(o.lanes=0),[e.memoizedState,o.dispatch]}function Of(e){var n=Ve(),s=n.queue;if(s===null)throw Error(a(311));s.lastRenderedReducer=e;var o=s.dispatch,h=s.pending,f=n.memoizedState;if(h!==null){s.pending=null;var g=h=h.next;do f=e(f,g.action),g=g.next;while(g!==h);Bn(f,n.memoizedState)||(Be=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),s.lastRenderedState=f}return[f,o]}function Ep(e,n,s){var o=Nt,h=Ve(),f=Qt;if(f){if(s===void 0)throw Error(a(407));s=s()}else s=n();var g=!Bn((ae||h).memoizedState,s);if(g&&(h.memoizedState=s,Be=!0),h=h.queue,Uf(Sp.bind(null,o,h,e),[e]),h.getSnapshot!==n||g||je!==null&&je.memoizedState.tag&1){if(o.flags|=2048,fo(9,{destroy:void 0},bp.bind(null,o,h,s,n),null),ue===null)throw Error(a(349));f||(fr&127)!==0||Tp(o,n,s)}return s}function Tp(e,n,s){e.flags|=16384,e={getSnapshot:n,value:s},n=Nt.updateQueue,n===null?(n=tc(),Nt.updateQueue=n,n.stores=[e]):(s=n.stores,s===null?n.stores=[e]:s.push(e))}function bp(e,n,s,o){n.value=s,n.getSnapshot=o,Ap(n)&&wp(e)}function Sp(e,n,s){return s(function(){Ap(n)&&wp(e)})}function Ap(e){var n=e.getSnapshot;e=e.value;try{var s=n();return!Bn(e,s)}catch{return!0}}function wp(e){var n=ca(e,2);n!==null&&Mn(n,e,2)}function Vf(e){var n=wn();if(typeof e=="function"){var s=e;if(e=s(),va){En(!0);try{s()}finally{En(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:dr,lastRenderedState:e},n}function Rp(e,n,s,o){return e.baseState=s,Mf(e,ae,typeof o=="function"?o:dr)}function PT(e,n,s,o,h){if(sc(e))throw Error(a(485));if(e=n.action,e!==null){var f={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(g){f.listeners.push(g)}};G.T!==null?s(!0):f.isTransition=!1,o(f),s=n.pending,s===null?(f.next=n.pending=f,Cp(n,f)):(f.next=s.next,n.pending=s.next=f)}}function Cp(e,n){var s=n.action,o=n.payload,h=e.state;if(n.isTransition){var f=G.T,g={};G.T=g;try{var E=s(h,o),C=G.S;C!==null&&C(g,E),Ip(e,n,E)}catch(j){kf(e,n,j)}finally{f!==null&&g.types!==null&&(f.types=g.types),G.T=f}}else try{f=s(h,o),Ip(e,n,f)}catch(j){kf(e,n,j)}}function Ip(e,n,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(o){Np(e,n,o)},function(o){return kf(e,n,o)}):Np(e,n,s)}function Np(e,n,s){n.status="fulfilled",n.value=s,xp(n),e.state=s,n=e.pending,n!==null&&(s=n.next,s===n?e.pending=null:(s=s.next,n.next=s,Cp(e,s)))}function kf(e,n,s){var o=e.pending;if(e.pending=null,o!==null){o=o.next;do n.status="rejected",n.reason=s,xp(n),n=n.next;while(n!==o)}e.action=null}function xp(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function Dp(e,n){return n}function Mp(e,n){if(Qt){var s=ue.formState;if(s!==null){t:{var o=Nt;if(Qt){if(fe){e:{for(var h=fe,f=di;h.nodeType!==8;){if(!f){h=null;break e}if(h=gi(h.nextSibling),h===null){h=null;break e}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){fe=gi(h.nextSibling),o=h.data==="F!";break t}}Wr(o)}o=!1}o&&(n=s[0])}}return s=wn(),s.memoizedState=s.baseState=n,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Dp,lastRenderedState:n},s.queue=o,s=Jp.bind(null,Nt,o),o.dispatch=s,o=Vf(!1),f=Bf.bind(null,Nt,!1,o.queue),o=wn(),h={state:n,dispatch:null,action:e,pending:null},o.queue=h,s=PT.bind(null,Nt,h,f,s),h.dispatch=s,o.memoizedState=e,[n,s,!1]}function Op(e){var n=Ve();return Vp(n,ae,e)}function Vp(e,n,s){if(n=Mf(e,n,Dp)[0],e=nc(dr)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var o=vl(n)}catch(g){throw g===oo?Qu:g}else o=n;n=Ve();var h=n.queue,f=h.dispatch;return s!==n.memoizedState&&(Nt.flags|=2048,fo(9,{destroy:void 0},zT.bind(null,h,s),null)),[o,f,e]}function zT(e,n){e.action=n}function kp(e){var n=Ve(),s=ae;if(s!==null)return Vp(n,s,e);Ve(),n=n.memoizedState,s=Ve();var o=s.queue.dispatch;return s.memoizedState=e,[n,o,!1]}function fo(e,n,s,o){return e={tag:e,create:s,deps:o,inst:n,next:null},n=Nt.updateQueue,n===null&&(n=tc(),Nt.updateQueue=n),s=n.lastEffect,s===null?n.lastEffect=e.next=e:(o=s.next,s.next=e,e.next=o,n.lastEffect=e),e}function Up(){return Ve().memoizedState}function ic(e,n,s,o){var h=wn();Nt.flags|=e,h.memoizedState=fo(1|n,{destroy:void 0},s,o===void 0?null:o)}function rc(e,n,s,o){var h=Ve();o=o===void 0?null:o;var f=h.memoizedState.inst;ae!==null&&o!==null&&Rf(o,ae.memoizedState.deps)?h.memoizedState=fo(n,f,s,o):(Nt.flags|=e,h.memoizedState=fo(1|n,f,s,o))}function Lp(e,n){ic(8390656,8,e,n)}function Uf(e,n){rc(2048,8,e,n)}function jT(e){Nt.flags|=4;var n=Nt.updateQueue;if(n===null)n=tc(),Nt.updateQueue=n,n.events=[e];else{var s=n.events;s===null?n.events=[e]:s.push(e)}}function Pp(e){var n=Ve().memoizedState;return jT({ref:n,nextImpl:e}),function(){if((Wt&2)!==0)throw Error(a(440));return n.impl.apply(void 0,arguments)}}function zp(e,n){return rc(4,2,e,n)}function jp(e,n){return rc(4,4,e,n)}function Bp(e,n){if(typeof n=="function"){e=e();var s=n(e);return function(){typeof s=="function"?s():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function qp(e,n,s){s=s!=null?s.concat([e]):null,rc(4,4,Bp.bind(null,n,e),s)}function Lf(){}function Hp(e,n){var s=Ve();n=n===void 0?null:n;var o=s.memoizedState;return n!==null&&Rf(n,o[1])?o[0]:(s.memoizedState=[e,n],e)}function Fp(e,n){var s=Ve();n=n===void 0?null:n;var o=s.memoizedState;if(n!==null&&Rf(n,o[1]))return o[0];if(o=e(),va){En(!0);try{e()}finally{En(!1)}}return s.memoizedState=[o,n],o}function Pf(e,n,s){return s===void 0||(fr&1073741824)!==0&&(zt&261930)===0?e.memoizedState=n:(e.memoizedState=s,e=Gy(),Nt.lanes|=e,ls|=e,s)}function Gp(e,n,s,o){return Bn(s,n)?s:uo.current!==null?(e=Pf(e,s,o),Bn(e,n)||(Be=!0),e):(fr&42)===0||(fr&1073741824)!==0&&(zt&261930)===0?(Be=!0,e.memoizedState=s):(e=Gy(),Nt.lanes|=e,ls|=e,n)}function Qp(e,n,s,o,h){var f=rt.p;rt.p=f!==0&&8>f?f:8;var g=G.T,E={};G.T=E,Bf(e,!1,n,s);try{var C=h(),j=G.S;if(j!==null&&j(E,C),C!==null&&typeof C=="object"&&typeof C.then=="function"){var Y=kT(C,o);El(e,n,Y,Yn(e))}else El(e,n,o,Yn(e))}catch($){El(e,n,{then:function(){},status:"rejected",reason:$},Yn())}finally{rt.p=f,g!==null&&E.types!==null&&(g.types=E.types),G.T=g}}function BT(){}function zf(e,n,s,o){if(e.tag!==5)throw Error(a(476));var h=Yp(e).queue;Qp(e,h,n,dt,s===null?BT:function(){return Kp(e),s(o)})}function Yp(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:dt,baseState:dt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:dr,lastRenderedState:dt},next:null};var s={};return n.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:dr,lastRenderedState:s},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function Kp(e){var n=Yp(e);n.next===null&&(n=e.alternate.memoizedState),El(e,n.next.queue,{},Yn())}function jf(){return nn(Ll)}function Xp(){return Ve().memoizedState}function $p(){return Ve().memoizedState}function qT(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var s=Yn();e=ns(s);var o=is(n,e,s);o!==null&&(Mn(o,n,s),gl(o,n,s)),n={cache:gf()},e.payload=n;return}n=n.return}}function HT(e,n,s){var o=Yn();s={lane:o,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},sc(e)?Zp(n,s):(s=rf(e,n,s,o),s!==null&&(Mn(s,e,o),Wp(s,n,o)))}function Jp(e,n,s){var o=Yn();El(e,n,s,o)}function El(e,n,s,o){var h={lane:o,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null};if(sc(e))Zp(n,h);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var g=n.lastRenderedState,E=f(g,s);if(h.hasEagerState=!0,h.eagerState=E,Bn(E,g))return zu(e,n,h,0),ue===null&&Pu(),!1}catch{}finally{}if(s=rf(e,n,h,o),s!==null)return Mn(s,e,o),Wp(s,n,o),!0}return!1}function Bf(e,n,s,o){if(o={lane:2,revertLane:vd(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},sc(e)){if(n)throw Error(a(479))}else n=rf(e,s,o,2),n!==null&&Mn(n,e,2)}function sc(e){var n=e.alternate;return e===Nt||n!==null&&n===Nt}function Zp(e,n){co=Zu=!0;var s=e.pending;s===null?n.next=n:(n.next=s.next,s.next=n),e.pending=n}function Wp(e,n,s){if((s&4194048)!==0){var o=n.lanes;o&=e.pendingLanes,s|=o,n.lanes=s,jr(e,s)}}var Tl={readContext:nn,use:ec,useCallback:Ae,useContext:Ae,useEffect:Ae,useImperativeHandle:Ae,useLayoutEffect:Ae,useInsertionEffect:Ae,useMemo:Ae,useReducer:Ae,useRef:Ae,useState:Ae,useDebugValue:Ae,useDeferredValue:Ae,useTransition:Ae,useSyncExternalStore:Ae,useId:Ae,useHostTransitionStatus:Ae,useFormState:Ae,useActionState:Ae,useOptimistic:Ae,useMemoCache:Ae,useCacheRefresh:Ae};Tl.useEffectEvent=Ae;var ty={readContext:nn,use:ec,useCallback:function(e,n){return wn().memoizedState=[e,n===void 0?null:n],e},useContext:nn,useEffect:Lp,useImperativeHandle:function(e,n,s){s=s!=null?s.concat([e]):null,ic(4194308,4,Bp.bind(null,n,e),s)},useLayoutEffect:function(e,n){return ic(4194308,4,e,n)},useInsertionEffect:function(e,n){ic(4,2,e,n)},useMemo:function(e,n){var s=wn();n=n===void 0?null:n;var o=e();if(va){En(!0);try{e()}finally{En(!1)}}return s.memoizedState=[o,n],o},useReducer:function(e,n,s){var o=wn();if(s!==void 0){var h=s(n);if(va){En(!0);try{s(n)}finally{En(!1)}}}else h=n;return o.memoizedState=o.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},o.queue=e,e=e.dispatch=HT.bind(null,Nt,e),[o.memoizedState,e]},useRef:function(e){var n=wn();return e={current:e},n.memoizedState=e},useState:function(e){e=Vf(e);var n=e.queue,s=Jp.bind(null,Nt,n);return n.dispatch=s,[e.memoizedState,s]},useDebugValue:Lf,useDeferredValue:function(e,n){var s=wn();return Pf(s,e,n)},useTransition:function(){var e=Vf(!1);return e=Qp.bind(null,Nt,e.queue,!0,!1),wn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,s){var o=Nt,h=wn();if(Qt){if(s===void 0)throw Error(a(407));s=s()}else{if(s=n(),ue===null)throw Error(a(349));(zt&127)!==0||Tp(o,n,s)}h.memoizedState=s;var f={value:s,getSnapshot:n};return h.queue=f,Lp(Sp.bind(null,o,f,e),[e]),o.flags|=2048,fo(9,{destroy:void 0},bp.bind(null,o,f,s,n),null),s},useId:function(){var e=wn(),n=ue.identifierPrefix;if(Qt){var s=Fi,o=Hi;s=(o&~(1<<32-_e(o)-1)).toString(32)+s,n="_"+n+"R_"+s,s=Wu++,0<s&&(n+="H"+s.toString(32)),n+="_"}else s=UT++,n="_"+n+"r_"+s.toString(32)+"_";return e.memoizedState=n},useHostTransitionStatus:jf,useFormState:Mp,useActionState:Mp,useOptimistic:function(e){var n=wn();n.memoizedState=n.baseState=e;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=s,n=Bf.bind(null,Nt,!0,s),s.dispatch=n,[e,n]},useMemoCache:Df,useCacheRefresh:function(){return wn().memoizedState=qT.bind(null,Nt)},useEffectEvent:function(e){var n=wn(),s={impl:e};return n.memoizedState=s,function(){if((Wt&2)!==0)throw Error(a(440));return s.impl.apply(void 0,arguments)}}},qf={readContext:nn,use:ec,useCallback:Hp,useContext:nn,useEffect:Uf,useImperativeHandle:qp,useInsertionEffect:zp,useLayoutEffect:jp,useMemo:Fp,useReducer:nc,useRef:Up,useState:function(){return nc(dr)},useDebugValue:Lf,useDeferredValue:function(e,n){var s=Ve();return Gp(s,ae.memoizedState,e,n)},useTransition:function(){var e=nc(dr)[0],n=Ve().memoizedState;return[typeof e=="boolean"?e:vl(e),n]},useSyncExternalStore:Ep,useId:Xp,useHostTransitionStatus:jf,useFormState:Op,useActionState:Op,useOptimistic:function(e,n){var s=Ve();return Rp(s,ae,e,n)},useMemoCache:Df,useCacheRefresh:$p};qf.useEffectEvent=Pp;var ey={readContext:nn,use:ec,useCallback:Hp,useContext:nn,useEffect:Uf,useImperativeHandle:qp,useInsertionEffect:zp,useLayoutEffect:jp,useMemo:Fp,useReducer:Of,useRef:Up,useState:function(){return Of(dr)},useDebugValue:Lf,useDeferredValue:function(e,n){var s=Ve();return ae===null?Pf(s,e,n):Gp(s,ae.memoizedState,e,n)},useTransition:function(){var e=Of(dr)[0],n=Ve().memoizedState;return[typeof e=="boolean"?e:vl(e),n]},useSyncExternalStore:Ep,useId:Xp,useHostTransitionStatus:jf,useFormState:kp,useActionState:kp,useOptimistic:function(e,n){var s=Ve();return ae!==null?Rp(s,ae,e,n):(s.baseState=e,[e,s.queue.dispatch])},useMemoCache:Df,useCacheRefresh:$p};ey.useEffectEvent=Pp;function Hf(e,n,s,o){n=e.memoizedState,s=s(o,n),s=s==null?n:S({},n,s),e.memoizedState=s,e.lanes===0&&(e.updateQueue.baseState=s)}var Ff={enqueueSetState:function(e,n,s){e=e._reactInternals;var o=Yn(),h=ns(o);h.payload=n,s!=null&&(h.callback=s),n=is(e,h,o),n!==null&&(Mn(n,e,o),gl(n,e,o))},enqueueReplaceState:function(e,n,s){e=e._reactInternals;var o=Yn(),h=ns(o);h.tag=1,h.payload=n,s!=null&&(h.callback=s),n=is(e,h,o),n!==null&&(Mn(n,e,o),gl(n,e,o))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var s=Yn(),o=ns(s);o.tag=2,n!=null&&(o.callback=n),n=is(e,o,s),n!==null&&(Mn(n,e,s),gl(n,e,s))}};function ny(e,n,s,o,h,f,g){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,f,g):n.prototype&&n.prototype.isPureReactComponent?!ol(s,o)||!ol(h,f):!0}function iy(e,n,s,o){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(s,o),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(s,o),n.state!==e&&Ff.enqueueReplaceState(n,n.state,null)}function Ea(e,n){var s=n;if("ref"in n){s={};for(var o in n)o!=="ref"&&(s[o]=n[o])}if(e=e.defaultProps){s===n&&(s=S({},s));for(var h in e)s[h]===void 0&&(s[h]=e[h])}return s}function ry(e){Lu(e)}function sy(e){console.error(e)}function ay(e){Lu(e)}function ac(e,n){try{var s=e.onUncaughtError;s(n.value,{componentStack:n.stack})}catch(o){setTimeout(function(){throw o})}}function oy(e,n,s){try{var o=e.onCaughtError;o(s.value,{componentStack:s.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Gf(e,n,s){return s=ns(s),s.tag=3,s.payload={element:null},s.callback=function(){ac(e,n)},s}function ly(e){return e=ns(e),e.tag=3,e}function uy(e,n,s,o){var h=s.type.getDerivedStateFromError;if(typeof h=="function"){var f=o.value;e.payload=function(){return h(f)},e.callback=function(){oy(n,s,o)}}var g=s.stateNode;g!==null&&typeof g.componentDidCatch=="function"&&(e.callback=function(){oy(n,s,o),typeof h!="function"&&(us===null?us=new Set([this]):us.add(this));var E=o.stack;this.componentDidCatch(o.value,{componentStack:E!==null?E:""})})}function FT(e,n,s,o,h){if(s.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(n=s.alternate,n!==null&&ro(n,s,h,!0),s=Hn.current,s!==null){switch(s.tag){case 31:case 13:return mi===null?_c():s.alternate===null&&we===0&&(we=3),s.flags&=-257,s.flags|=65536,s.lanes=h,o===Yu?s.flags|=16384:(n=s.updateQueue,n===null?s.updateQueue=new Set([o]):n.add(o),pd(e,o,h)),!1;case 22:return s.flags|=65536,o===Yu?s.flags|=16384:(n=s.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([o])},s.updateQueue=n):(s=n.retryQueue,s===null?n.retryQueue=new Set([o]):s.add(o)),pd(e,o,h)),!1}throw Error(a(435,s.tag))}return pd(e,o,h),_c(),!1}if(Qt)return n=Hn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,o!==cf&&(e=Error(a(422),{cause:o}),cl(ci(e,s)))):(o!==cf&&(n=Error(a(423),{cause:o}),cl(ci(n,s))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,o=ci(o,s),h=Gf(e.stateNode,o,h),Tf(e,h),we!==4&&(we=2)),!1;var f=Error(a(520),{cause:o});if(f=ci(f,s),Nl===null?Nl=[f]:Nl.push(f),we!==4&&(we=2),n===null)return!0;o=ci(o,s),s=n;do{switch(s.tag){case 3:return s.flags|=65536,e=h&-h,s.lanes|=e,e=Gf(s.stateNode,o,e),Tf(s,e),!1;case 1:if(n=s.type,f=s.stateNode,(s.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(us===null||!us.has(f))))return s.flags|=65536,h&=-h,s.lanes|=h,h=ly(h),uy(h,e,s,o),Tf(s,h),!1}s=s.return}while(s!==null);return!1}var Qf=Error(a(461)),Be=!1;function rn(e,n,s,o){n.child=e===null?dp(n,null,s,o):_a(n,e.child,s,o)}function cy(e,n,s,o,h){s=s.render;var f=n.ref;if("ref"in o){var g={};for(var E in o)E!=="ref"&&(g[E]=o[E])}else g=o;return ma(n),o=Cf(e,n,s,g,f,h),E=If(),e!==null&&!Be?(Nf(e,n,h),mr(e,n,h)):(Qt&&E&&lf(n),n.flags|=1,rn(e,n,o,h),n.child)}function hy(e,n,s,o,h){if(e===null){var f=s.type;return typeof f=="function"&&!sf(f)&&f.defaultProps===void 0&&s.compare===null?(n.tag=15,n.type=f,fy(e,n,f,o,h)):(e=Bu(s.type,null,o,n,n.mode,h),e.ref=n.ref,e.return=n,n.child=e)}if(f=e.child,!td(e,h)){var g=f.memoizedProps;if(s=s.compare,s=s!==null?s:ol,s(g,o)&&e.ref===n.ref)return mr(e,n,h)}return n.flags|=1,e=lr(f,o),e.ref=n.ref,e.return=n,n.child=e}function fy(e,n,s,o,h){if(e!==null){var f=e.memoizedProps;if(ol(f,o)&&e.ref===n.ref)if(Be=!1,n.pendingProps=o=f,td(e,h))(e.flags&131072)!==0&&(Be=!0);else return n.lanes=e.lanes,mr(e,n,h)}return Yf(e,n,s,o,h)}function dy(e,n,s,o){var h=o.children,f=e!==null?e.memoizedState:null;if(e===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|s:s,e!==null){for(o=n.child=e.child,h=0;o!==null;)h=h|o.lanes|o.childLanes,o=o.sibling;o=h&~f}else o=0,n.child=null;return my(e,n,f,s,o)}if((s&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&Gu(n,f!==null?f.cachePool:null),f!==null?pp(n,f):Sf(),yp(n);else return o=n.lanes=536870912,my(e,n,f!==null?f.baseLanes|s:s,s,o)}else f!==null?(Gu(n,f.cachePool),pp(n,f),ss(),n.memoizedState=null):(e!==null&&Gu(n,null),Sf(),ss());return rn(e,n,h,s),n.child}function bl(e,n){return e!==null&&e.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function my(e,n,s,o,h){var f=yf();return f=f===null?null:{parent:ze._currentValue,pool:f},n.memoizedState={baseLanes:s,cachePool:f},e!==null&&Gu(n,null),Sf(),yp(n),e!==null&&ro(e,n,o,!0),n.childLanes=h,null}function oc(e,n){return n=uc({mode:n.mode,children:n.children},e.mode),n.ref=e.ref,e.child=n,n.return=e,n}function gy(e,n,s){return _a(n,e.child,null,s),e=oc(n,n.pendingProps),e.flags|=2,Fn(n),n.memoizedState=null,e}function GT(e,n,s){var o=n.pendingProps,h=(n.flags&128)!==0;if(n.flags&=-129,e===null){if(Qt){if(o.mode==="hidden")return e=oc(n,o),n.lanes=536870912,bl(null,e);if(wf(n),(e=fe)?(e=C_(e,di),e=e!==null&&e.data==="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:Jr!==null?{id:Hi,overflow:Fi}:null,retryLane:536870912,hydrationErrors:null},s=Zg(e),s.return=n,n.child=s,en=n,fe=null)):e=null,e===null)throw Wr(n);return n.lanes=536870912,null}return oc(n,o)}var f=e.memoizedState;if(f!==null){var g=f.dehydrated;if(wf(n),h)if(n.flags&256)n.flags&=-257,n=gy(e,n,s);else if(n.memoizedState!==null)n.child=e.child,n.flags|=128,n=null;else throw Error(a(558));else if(Be||ro(e,n,s,!1),h=(s&e.childLanes)!==0,Be||h){if(o=ue,o!==null&&(g=Gs(o,s),g!==0&&g!==f.retryLane))throw f.retryLane=g,ca(e,g),Mn(o,e,g),Qf;_c(),n=gy(e,n,s)}else e=f.treeContext,fe=gi(g.nextSibling),en=n,Qt=!0,Zr=null,di=!1,e!==null&&ep(n,e),n=oc(n,o),n.flags|=4096;return n}return e=lr(e.child,{mode:o.mode,children:o.children}),e.ref=n.ref,n.child=e,e.return=n,e}function lc(e,n){var s=n.ref;if(s===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(a(284));(e===null||e.ref!==s)&&(n.flags|=4194816)}}function Yf(e,n,s,o,h){return ma(n),s=Cf(e,n,s,o,void 0,h),o=If(),e!==null&&!Be?(Nf(e,n,h),mr(e,n,h)):(Qt&&o&&lf(n),n.flags|=1,rn(e,n,s,h),n.child)}function py(e,n,s,o,h,f){return ma(n),n.updateQueue=null,s=vp(n,o,s,h),_p(e),o=If(),e!==null&&!Be?(Nf(e,n,f),mr(e,n,f)):(Qt&&o&&lf(n),n.flags|=1,rn(e,n,s,f),n.child)}function yy(e,n,s,o,h){if(ma(n),n.stateNode===null){var f=to,g=s.contextType;typeof g=="object"&&g!==null&&(f=nn(g)),f=new s(o,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Ff,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=o,f.state=n.memoizedState,f.refs={},vf(n),g=s.contextType,f.context=typeof g=="object"&&g!==null?nn(g):to,f.state=n.memoizedState,g=s.getDerivedStateFromProps,typeof g=="function"&&(Hf(n,s,g,o),f.state=n.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(g=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),g!==f.state&&Ff.enqueueReplaceState(f,f.state,null),yl(n,o,f,h),pl(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!0}else if(e===null){f=n.stateNode;var E=n.memoizedProps,C=Ea(s,E);f.props=C;var j=f.context,Y=s.contextType;g=to,typeof Y=="object"&&Y!==null&&(g=nn(Y));var $=s.getDerivedStateFromProps;Y=typeof $=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,Y||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||j!==g)&&iy(n,f,o,g),es=!1;var B=n.memoizedState;f.state=B,yl(n,o,f,h),pl(),j=n.memoizedState,E||B!==j||es?(typeof $=="function"&&(Hf(n,s,$,o),j=n.memoizedState),(C=es||ny(n,s,C,o,B,j,g))?(Y||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=o,n.memoizedState=j),f.props=o,f.state=j,f.context=g,o=C):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!1)}else{f=n.stateNode,Ef(e,n),g=n.memoizedProps,Y=Ea(s,g),f.props=Y,$=n.pendingProps,B=f.context,j=s.contextType,C=to,typeof j=="object"&&j!==null&&(C=nn(j)),E=s.getDerivedStateFromProps,(j=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(g!==$||B!==C)&&iy(n,f,o,C),es=!1,B=n.memoizedState,f.state=B,yl(n,o,f,h),pl();var H=n.memoizedState;g!==$||B!==H||es||e!==null&&e.dependencies!==null&&Hu(e.dependencies)?(typeof E=="function"&&(Hf(n,s,E,o),H=n.memoizedState),(Y=es||ny(n,s,Y,o,B,H,C)||e!==null&&e.dependencies!==null&&Hu(e.dependencies))?(j||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(o,H,C),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(o,H,C)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||g===e.memoizedProps&&B===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&B===e.memoizedState||(n.flags|=1024),n.memoizedProps=o,n.memoizedState=H),f.props=o,f.state=H,f.context=C,o=Y):(typeof f.componentDidUpdate!="function"||g===e.memoizedProps&&B===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&B===e.memoizedState||(n.flags|=1024),o=!1)}return f=o,lc(e,n),o=(n.flags&128)!==0,f||o?(f=n.stateNode,s=o&&typeof s.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,e!==null&&o?(n.child=_a(n,e.child,null,h),n.child=_a(n,null,s,h)):rn(e,n,s,h),n.memoizedState=f.state,e=n.child):e=mr(e,n,h),e}function _y(e,n,s,o){return fa(),n.flags|=256,rn(e,n,s,o),n.child}var Kf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Xf(e){return{baseLanes:e,cachePool:op()}}function $f(e,n,s){return e=e!==null?e.childLanes&~s:0,n&&(e|=Qn),e}function vy(e,n,s){var o=n.pendingProps,h=!1,f=(n.flags&128)!==0,g;if((g=f)||(g=e!==null&&e.memoizedState===null?!1:(Oe.current&2)!==0),g&&(h=!0,n.flags&=-129),g=(n.flags&32)!==0,n.flags&=-33,e===null){if(Qt){if(h?rs(n):ss(),(e=fe)?(e=C_(e,di),e=e!==null&&e.data!=="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:Jr!==null?{id:Hi,overflow:Fi}:null,retryLane:536870912,hydrationErrors:null},s=Zg(e),s.return=n,n.child=s,en=n,fe=null)):e=null,e===null)throw Wr(n);return Md(e)?n.lanes=32:n.lanes=536870912,null}var E=o.children;return o=o.fallback,h?(ss(),h=n.mode,E=uc({mode:"hidden",children:E},h),o=ha(o,h,s,null),E.return=n,o.return=n,E.sibling=o,n.child=E,o=n.child,o.memoizedState=Xf(s),o.childLanes=$f(e,g,s),n.memoizedState=Kf,bl(null,o)):(rs(n),Jf(n,E))}var C=e.memoizedState;if(C!==null&&(E=C.dehydrated,E!==null)){if(f)n.flags&256?(rs(n),n.flags&=-257,n=Zf(e,n,s)):n.memoizedState!==null?(ss(),n.child=e.child,n.flags|=128,n=null):(ss(),E=o.fallback,h=n.mode,o=uc({mode:"visible",children:o.children},h),E=ha(E,h,s,null),E.flags|=2,o.return=n,E.return=n,o.sibling=E,n.child=o,_a(n,e.child,null,s),o=n.child,o.memoizedState=Xf(s),o.childLanes=$f(e,g,s),n.memoizedState=Kf,n=bl(null,o));else if(rs(n),Md(E)){if(g=E.nextSibling&&E.nextSibling.dataset,g)var j=g.dgst;g=j,o=Error(a(419)),o.stack="",o.digest=g,cl({value:o,source:null,stack:null}),n=Zf(e,n,s)}else if(Be||ro(e,n,s,!1),g=(s&e.childLanes)!==0,Be||g){if(g=ue,g!==null&&(o=Gs(g,s),o!==0&&o!==C.retryLane))throw C.retryLane=o,ca(e,o),Mn(g,e,o),Qf;Dd(E)||_c(),n=Zf(e,n,s)}else Dd(E)?(n.flags|=192,n.child=e.child,n=null):(e=C.treeContext,fe=gi(E.nextSibling),en=n,Qt=!0,Zr=null,di=!1,e!==null&&ep(n,e),n=Jf(n,o.children),n.flags|=4096);return n}return h?(ss(),E=o.fallback,h=n.mode,C=e.child,j=C.sibling,o=lr(C,{mode:"hidden",children:o.children}),o.subtreeFlags=C.subtreeFlags&65011712,j!==null?E=lr(j,E):(E=ha(E,h,s,null),E.flags|=2),E.return=n,o.return=n,o.sibling=E,n.child=o,bl(null,o),o=n.child,E=e.child.memoizedState,E===null?E=Xf(s):(h=E.cachePool,h!==null?(C=ze._currentValue,h=h.parent!==C?{parent:C,pool:C}:h):h=op(),E={baseLanes:E.baseLanes|s,cachePool:h}),o.memoizedState=E,o.childLanes=$f(e,g,s),n.memoizedState=Kf,bl(e.child,o)):(rs(n),s=e.child,e=s.sibling,s=lr(s,{mode:"visible",children:o.children}),s.return=n,s.sibling=null,e!==null&&(g=n.deletions,g===null?(n.deletions=[e],n.flags|=16):g.push(e)),n.child=s,n.memoizedState=null,s)}function Jf(e,n){return n=uc({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function uc(e,n){return e=qn(22,e,null,n),e.lanes=0,e}function Zf(e,n,s){return _a(n,e.child,null,s),e=Jf(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function Ey(e,n,s){e.lanes|=n;var o=e.alternate;o!==null&&(o.lanes|=n),df(e.return,n,s)}function Wf(e,n,s,o,h,f){var g=e.memoizedState;g===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:o,tail:s,tailMode:h,treeForkCount:f}:(g.isBackwards=n,g.rendering=null,g.renderingStartTime=0,g.last=o,g.tail=s,g.tailMode=h,g.treeForkCount=f)}function Ty(e,n,s){var o=n.pendingProps,h=o.revealOrder,f=o.tail;o=o.children;var g=Oe.current,E=(g&2)!==0;if(E?(g=g&1|2,n.flags|=128):g&=1,st(Oe,g),rn(e,n,o,s),o=Qt?ul:0,!E&&e!==null&&(e.flags&128)!==0)t:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Ey(e,s,n);else if(e.tag===19)Ey(e,s,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break t;for(;e.sibling===null;){if(e.return===null||e.return===n)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(h){case"forwards":for(s=n.child,h=null;s!==null;)e=s.alternate,e!==null&&Ju(e)===null&&(h=s),s=s.sibling;s=h,s===null?(h=n.child,n.child=null):(h=s.sibling,s.sibling=null),Wf(n,!1,h,s,f,o);break;case"backwards":case"unstable_legacy-backwards":for(s=null,h=n.child,n.child=null;h!==null;){if(e=h.alternate,e!==null&&Ju(e)===null){n.child=h;break}e=h.sibling,h.sibling=s,s=h,h=e}Wf(n,!0,s,null,f,o);break;case"together":Wf(n,!1,null,null,void 0,o);break;default:n.memoizedState=null}return n.child}function mr(e,n,s){if(e!==null&&(n.dependencies=e.dependencies),ls|=n.lanes,(s&n.childLanes)===0)if(e!==null){if(ro(e,n,s,!1),(s&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(a(153));if(n.child!==null){for(e=n.child,s=lr(e,e.pendingProps),n.child=s,s.return=n;e.sibling!==null;)e=e.sibling,s=s.sibling=lr(e,e.pendingProps),s.return=n;s.sibling=null}return n.child}function td(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&Hu(e)))}function QT(e,n,s){switch(n.tag){case 3:Le(n,n.stateNode.containerInfo),ts(n,ze,e.memoizedState.cache),fa();break;case 27:case 5:Vr(n);break;case 4:Le(n,n.stateNode.containerInfo);break;case 10:ts(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,wf(n),null;break;case 13:var o=n.memoizedState;if(o!==null)return o.dehydrated!==null?(rs(n),n.flags|=128,null):(s&n.child.childLanes)!==0?vy(e,n,s):(rs(n),e=mr(e,n,s),e!==null?e.sibling:null);rs(n);break;case 19:var h=(e.flags&128)!==0;if(o=(s&n.childLanes)!==0,o||(ro(e,n,s,!1),o=(s&n.childLanes)!==0),h){if(o)return Ty(e,n,s);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),st(Oe,Oe.current),o)break;return null;case 22:return n.lanes=0,dy(e,n,s,n.pendingProps);case 24:ts(n,ze,e.memoizedState.cache)}return mr(e,n,s)}function by(e,n,s){if(e!==null)if(e.memoizedProps!==n.pendingProps)Be=!0;else{if(!td(e,s)&&(n.flags&128)===0)return Be=!1,QT(e,n,s);Be=(e.flags&131072)!==0}else Be=!1,Qt&&(n.flags&1048576)!==0&&tp(n,ul,n.index);switch(n.lanes=0,n.tag){case 16:t:{var o=n.pendingProps;if(e=pa(n.elementType),n.type=e,typeof e=="function")sf(e)?(o=Ea(e,o),n.tag=1,n=yy(null,n,e,o,s)):(n.tag=0,n=Yf(null,n,e,o,s));else{if(e!=null){var h=e.$$typeof;if(h===Ot){n.tag=11,n=cy(null,n,e,o,s);break t}else if(h===N){n.tag=14,n=hy(null,n,e,o,s);break t}}throw n=re(e)||e,Error(a(306,n,""))}}return n;case 0:return Yf(e,n,n.type,n.pendingProps,s);case 1:return o=n.type,h=Ea(o,n.pendingProps),yy(e,n,o,h,s);case 3:t:{if(Le(n,n.stateNode.containerInfo),e===null)throw Error(a(387));o=n.pendingProps;var f=n.memoizedState;h=f.element,Ef(e,n),yl(n,o,null,s);var g=n.memoizedState;if(o=g.cache,ts(n,ze,o),o!==f.cache&&mf(n,[ze],s,!0),pl(),o=g.element,f.isDehydrated)if(f={element:o,isDehydrated:!1,cache:g.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=_y(e,n,o,s);break t}else if(o!==h){h=ci(Error(a(424)),n),cl(h),n=_y(e,n,o,s);break t}else{switch(e=n.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(fe=gi(e.firstChild),en=n,Qt=!0,Zr=null,di=!0,s=dp(n,null,o,s),n.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling}else{if(fa(),o===h){n=mr(e,n,s);break t}rn(e,n,o,s)}n=n.child}return n;case 26:return lc(e,n),e===null?(s=O_(n.type,null,n.pendingProps,null))?n.memoizedState=s:Qt||(s=n.type,e=n.pendingProps,o=wc(Ct.current).createElement(s),o[Se]=n,o[Ne]=e,sn(o,s,e),ve(o),n.stateNode=o):n.memoizedState=O_(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return Vr(n),e===null&&Qt&&(o=n.stateNode=x_(n.type,n.pendingProps,Ct.current),en=n,di=!0,h=fe,ds(n.type)?(Od=h,fe=gi(o.firstChild)):fe=h),rn(e,n,n.pendingProps.children,s),lc(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&Qt&&((h=o=fe)&&(o=bb(o,n.type,n.pendingProps,di),o!==null?(n.stateNode=o,en=n,fe=gi(o.firstChild),di=!1,h=!0):h=!1),h||Wr(n)),Vr(n),h=n.type,f=n.pendingProps,g=e!==null?e.memoizedProps:null,o=f.children,Id(h,f)?o=null:g!==null&&Id(h,g)&&(n.flags|=32),n.memoizedState!==null&&(h=Cf(e,n,LT,null,null,s),Ll._currentValue=h),lc(e,n),rn(e,n,o,s),n.child;case 6:return e===null&&Qt&&((e=s=fe)&&(s=Sb(s,n.pendingProps,di),s!==null?(n.stateNode=s,en=n,fe=null,e=!0):e=!1),e||Wr(n)),null;case 13:return vy(e,n,s);case 4:return Le(n,n.stateNode.containerInfo),o=n.pendingProps,e===null?n.child=_a(n,null,o,s):rn(e,n,o,s),n.child;case 11:return cy(e,n,n.type,n.pendingProps,s);case 7:return rn(e,n,n.pendingProps,s),n.child;case 8:return rn(e,n,n.pendingProps.children,s),n.child;case 12:return rn(e,n,n.pendingProps.children,s),n.child;case 10:return o=n.pendingProps,ts(n,n.type,o.value),rn(e,n,o.children,s),n.child;case 9:return h=n.type._context,o=n.pendingProps.children,ma(n),h=nn(h),o=o(h),n.flags|=1,rn(e,n,o,s),n.child;case 14:return hy(e,n,n.type,n.pendingProps,s);case 15:return fy(e,n,n.type,n.pendingProps,s);case 19:return Ty(e,n,s);case 31:return GT(e,n,s);case 22:return dy(e,n,s,n.pendingProps);case 24:return ma(n),o=nn(ze),e===null?(h=yf(),h===null&&(h=ue,f=gf(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=s),h=f),n.memoizedState={parent:o,cache:h},vf(n),ts(n,ze,h)):((e.lanes&s)!==0&&(Ef(e,n),yl(n,null,null,s),pl()),h=e.memoizedState,f=n.memoizedState,h.parent!==o?(h={parent:o,cache:o},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),ts(n,ze,o)):(o=f.cache,ts(n,ze,o),o!==h.cache&&mf(n,[ze],s,!0))),rn(e,n,n.pendingProps.children,s),n.child;case 29:throw n.pendingProps}throw Error(a(156,n.tag))}function gr(e){e.flags|=4}function ed(e,n,s,o,h){if((n=(e.mode&32)!==0)&&(n=!1),n){if(e.flags|=16777216,(h&335544128)===h)if(e.stateNode.complete)e.flags|=8192;else if(Xy())e.flags|=8192;else throw ya=Yu,_f}else e.flags&=-16777217}function Sy(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!P_(n))if(Xy())e.flags|=8192;else throw ya=Yu,_f}function cc(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?Ba():536870912,e.lanes|=n,yo|=n)}function Sl(e,n){if(!Qt)switch(e.tailMode){case"hidden":n=e.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?e.tail=null:s.sibling=null;break;case"collapsed":s=e.tail;for(var o=null;s!==null;)s.alternate!==null&&(o=s),s=s.sibling;o===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function de(e){var n=e.alternate!==null&&e.alternate.child===e.child,s=0,o=0;if(n)for(var h=e.child;h!==null;)s|=h.lanes|h.childLanes,o|=h.subtreeFlags&65011712,o|=h.flags&65011712,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)s|=h.lanes|h.childLanes,o|=h.subtreeFlags,o|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=o,e.childLanes=s,n}function YT(e,n,s){var o=n.pendingProps;switch(uf(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return de(n),null;case 1:return de(n),null;case 3:return s=n.stateNode,o=null,e!==null&&(o=e.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),hr(ze),he(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(e===null||e.child===null)&&(io(n)?gr(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,hf())),de(n),null;case 26:var h=n.type,f=n.memoizedState;return e===null?(gr(n),f!==null?(de(n),Sy(n,f)):(de(n),ed(n,h,null,o,s))):f?f!==e.memoizedState?(gr(n),de(n),Sy(n,f)):(de(n),n.flags&=-16777217):(e=e.memoizedProps,e!==o&&gr(n),de(n),ed(n,h,e,o,s)),null;case 27:if(Ps(n),s=Ct.current,h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&gr(n);else{if(!o){if(n.stateNode===null)throw Error(a(166));return de(n),null}e=lt.current,io(n)?np(n):(e=x_(h,o,s),n.stateNode=e,gr(n))}return de(n),null;case 5:if(Ps(n),h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&gr(n);else{if(!o){if(n.stateNode===null)throw Error(a(166));return de(n),null}if(f=lt.current,io(n))np(n);else{var g=wc(Ct.current);switch(f){case 1:f=g.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:f=g.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":f=g.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":f=g.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":f=g.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof o.is=="string"?g.createElement("select",{is:o.is}):g.createElement("select"),o.multiple?f.multiple=!0:o.size&&(f.size=o.size);break;default:f=typeof o.is=="string"?g.createElement(h,{is:o.is}):g.createElement(h)}}f[Se]=n,f[Ne]=o;t:for(g=n.child;g!==null;){if(g.tag===5||g.tag===6)f.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===n)break t;for(;g.sibling===null;){if(g.return===null||g.return===n)break t;g=g.return}g.sibling.return=g.return,g=g.sibling}n.stateNode=f;t:switch(sn(f,h,o),h){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break t;case"img":o=!0;break t;default:o=!1}o&&gr(n)}}return de(n),ed(n,n.type,e===null?null:e.memoizedProps,n.pendingProps,s),null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==o&&gr(n);else{if(typeof o!="string"&&n.stateNode===null)throw Error(a(166));if(e=Ct.current,io(n)){if(e=n.stateNode,s=n.memoizedProps,o=null,h=en,h!==null)switch(h.tag){case 27:case 5:o=h.memoizedProps}e[Se]=n,e=!!(e.nodeValue===s||o!==null&&o.suppressHydrationWarning===!0||v_(e.nodeValue,s)),e||Wr(n,!0)}else e=wc(e).createTextNode(o),e[Se]=n,n.stateNode=e}return de(n),null;case 31:if(s=n.memoizedState,e===null||e.memoizedState!==null){if(o=io(n),s!==null){if(e===null){if(!o)throw Error(a(318));if(e=n.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(557));e[Se]=n}else fa(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;de(n),e=!1}else s=hf(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=s),e=!0;if(!e)return n.flags&256?(Fn(n),n):(Fn(n),null);if((n.flags&128)!==0)throw Error(a(558))}return de(n),null;case 13:if(o=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=io(n),o!==null&&o.dehydrated!==null){if(e===null){if(!h)throw Error(a(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(a(317));h[Se]=n}else fa(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;de(n),h=!1}else h=hf(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(Fn(n),n):(Fn(n),null)}return Fn(n),(n.flags&128)!==0?(n.lanes=s,n):(s=o!==null,e=e!==null&&e.memoizedState!==null,s&&(o=n.child,h=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(h=o.alternate.memoizedState.cachePool.pool),f=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),f!==h&&(o.flags|=2048)),s!==e&&s&&(n.child.flags|=8192),cc(n,n.updateQueue),de(n),null);case 4:return he(),e===null&&Sd(n.stateNode.containerInfo),de(n),null;case 10:return hr(n.type),de(n),null;case 19:if(X(Oe),o=n.memoizedState,o===null)return de(n),null;if(h=(n.flags&128)!==0,f=o.rendering,f===null)if(h)Sl(o,!1);else{if(we!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(f=Ju(e),f!==null){for(n.flags|=128,Sl(o,!1),e=f.updateQueue,n.updateQueue=e,cc(n,e),n.subtreeFlags=0,e=s,s=n.child;s!==null;)Jg(s,e),s=s.sibling;return st(Oe,Oe.current&1|2),Qt&&ur(n,o.treeForkCount),n.child}e=e.sibling}o.tail!==null&&Xe()>gc&&(n.flags|=128,h=!0,Sl(o,!1),n.lanes=4194304)}else{if(!h)if(e=Ju(f),e!==null){if(n.flags|=128,h=!0,e=e.updateQueue,n.updateQueue=e,cc(n,e),Sl(o,!0),o.tail===null&&o.tailMode==="hidden"&&!f.alternate&&!Qt)return de(n),null}else 2*Xe()-o.renderingStartTime>gc&&s!==536870912&&(n.flags|=128,h=!0,Sl(o,!1),n.lanes=4194304);o.isBackwards?(f.sibling=n.child,n.child=f):(e=o.last,e!==null?e.sibling=f:n.child=f,o.last=f)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=Xe(),e.sibling=null,s=Oe.current,st(Oe,h?s&1|2:s&1),Qt&&ur(n,o.treeForkCount),e):(de(n),null);case 22:case 23:return Fn(n),Af(),o=n.memoizedState!==null,e!==null?e.memoizedState!==null!==o&&(n.flags|=8192):o&&(n.flags|=8192),o?(s&536870912)!==0&&(n.flags&128)===0&&(de(n),n.subtreeFlags&6&&(n.flags|=8192)):de(n),s=n.updateQueue,s!==null&&cc(n,s.retryQueue),s=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),o=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),o!==s&&(n.flags|=2048),e!==null&&X(ga),null;case 24:return s=null,e!==null&&(s=e.memoizedState.cache),n.memoizedState.cache!==s&&(n.flags|=2048),hr(ze),de(n),null;case 25:return null;case 30:return null}throw Error(a(156,n.tag))}function KT(e,n){switch(uf(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return hr(ze),he(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return Ps(n),null;case 31:if(n.memoizedState!==null){if(Fn(n),n.alternate===null)throw Error(a(340));fa()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 13:if(Fn(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(a(340));fa()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return X(Oe),null;case 4:return he(),null;case 10:return hr(n.type),null;case 22:case 23:return Fn(n),Af(),e!==null&&X(ga),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return hr(ze),null;case 25:return null;default:return null}}function Ay(e,n){switch(uf(n),n.tag){case 3:hr(ze),he();break;case 26:case 27:case 5:Ps(n);break;case 4:he();break;case 31:n.memoizedState!==null&&Fn(n);break;case 13:Fn(n);break;case 19:X(Oe);break;case 10:hr(n.type);break;case 22:case 23:Fn(n),Af(),e!==null&&X(ga);break;case 24:hr(ze)}}function Al(e,n){try{var s=n.updateQueue,o=s!==null?s.lastEffect:null;if(o!==null){var h=o.next;s=h;do{if((s.tag&e)===e){o=void 0;var f=s.create,g=s.inst;o=f(),g.destroy=o}s=s.next}while(s!==h)}}catch(E){ie(n,n.return,E)}}function as(e,n,s){try{var o=n.updateQueue,h=o!==null?o.lastEffect:null;if(h!==null){var f=h.next;o=f;do{if((o.tag&e)===e){var g=o.inst,E=g.destroy;if(E!==void 0){g.destroy=void 0,h=n;var C=s,j=E;try{j()}catch(Y){ie(h,C,Y)}}}o=o.next}while(o!==f)}}catch(Y){ie(n,n.return,Y)}}function wy(e){var n=e.updateQueue;if(n!==null){var s=e.stateNode;try{gp(n,s)}catch(o){ie(e,e.return,o)}}}function Ry(e,n,s){s.props=Ea(e.type,e.memoizedProps),s.state=e.memoizedState;try{s.componentWillUnmount()}catch(o){ie(e,n,o)}}function wl(e,n){try{var s=e.ref;if(s!==null){switch(e.tag){case 26:case 27:case 5:var o=e.stateNode;break;case 30:o=e.stateNode;break;default:o=e.stateNode}typeof s=="function"?e.refCleanup=s(o):s.current=o}}catch(h){ie(e,n,h)}}function Gi(e,n){var s=e.ref,o=e.refCleanup;if(s!==null)if(typeof o=="function")try{o()}catch(h){ie(e,n,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(h){ie(e,n,h)}else s.current=null}function Cy(e){var n=e.type,s=e.memoizedProps,o=e.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":s.autoFocus&&o.focus();break t;case"img":s.src?o.src=s.src:s.srcSet&&(o.srcset=s.srcSet)}}catch(h){ie(e,e.return,h)}}function nd(e,n,s){try{var o=e.stateNode;pb(o,e.type,s,n),o[Ne]=n}catch(h){ie(e,e.return,h)}}function Iy(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&ds(e.type)||e.tag===4}function id(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||Iy(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&ds(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function rd(e,n,s){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(e,n):(n=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,n.appendChild(e),s=s._reactRootContainer,s!=null||n.onclick!==null||(n.onclick=jn));else if(o!==4&&(o===27&&ds(e.type)&&(s=e.stateNode,n=null),e=e.child,e!==null))for(rd(e,n,s),e=e.sibling;e!==null;)rd(e,n,s),e=e.sibling}function hc(e,n,s){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?s.insertBefore(e,n):s.appendChild(e);else if(o!==4&&(o===27&&ds(e.type)&&(s=e.stateNode),e=e.child,e!==null))for(hc(e,n,s),e=e.sibling;e!==null;)hc(e,n,s),e=e.sibling}function Ny(e){var n=e.stateNode,s=e.memoizedProps;try{for(var o=e.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);sn(n,o,s),n[Se]=e,n[Ne]=s}catch(f){ie(e,e.return,f)}}var pr=!1,qe=!1,sd=!1,xy=typeof WeakSet=="function"?WeakSet:Set,Ze=null;function XT(e,n){if(e=e.containerInfo,Rd=Mc,e=qg(e),Jh(e)){if("selectionStart"in e)var s={start:e.selectionStart,end:e.selectionEnd};else t:{s=(s=e.ownerDocument)&&s.defaultView||window;var o=s.getSelection&&s.getSelection();if(o&&o.rangeCount!==0){s=o.anchorNode;var h=o.anchorOffset,f=o.focusNode;o=o.focusOffset;try{s.nodeType,f.nodeType}catch{s=null;break t}var g=0,E=-1,C=-1,j=0,Y=0,$=e,B=null;e:for(;;){for(var H;$!==s||h!==0&&$.nodeType!==3||(E=g+h),$!==f||o!==0&&$.nodeType!==3||(C=g+o),$.nodeType===3&&(g+=$.nodeValue.length),(H=$.firstChild)!==null;)B=$,$=H;for(;;){if($===e)break e;if(B===s&&++j===h&&(E=g),B===f&&++Y===o&&(C=g),(H=$.nextSibling)!==null)break;$=B,B=$.parentNode}$=H}s=E===-1||C===-1?null:{start:E,end:C}}else s=null}s=s||{start:0,end:0}}else s=null;for(Cd={focusedElem:e,selectionRange:s},Mc=!1,Ze=n;Ze!==null;)if(n=Ze,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,Ze=e;else for(;Ze!==null;){switch(n=Ze,f=n.alternate,e=n.flags,n.tag){case 0:if((e&4)!==0&&(e=n.updateQueue,e=e!==null?e.events:null,e!==null))for(s=0;s<e.length;s++)h=e[s],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&f!==null){e=void 0,s=n,h=f.memoizedProps,f=f.memoizedState,o=s.stateNode;try{var ht=Ea(s.type,h);e=o.getSnapshotBeforeUpdate(ht,f),o.__reactInternalSnapshotBeforeUpdate=e}catch(vt){ie(s,s.return,vt)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,s=e.nodeType,s===9)xd(e);else if(s===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":xd(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(a(163))}if(e=n.sibling,e!==null){e.return=n.return,Ze=e;break}Ze=n.return}}function Dy(e,n,s){var o=s.flags;switch(s.tag){case 0:case 11:case 15:_r(e,s),o&4&&Al(5,s);break;case 1:if(_r(e,s),o&4)if(e=s.stateNode,n===null)try{e.componentDidMount()}catch(g){ie(s,s.return,g)}else{var h=Ea(s.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(h,n,e.__reactInternalSnapshotBeforeUpdate)}catch(g){ie(s,s.return,g)}}o&64&&wy(s),o&512&&wl(s,s.return);break;case 3:if(_r(e,s),o&64&&(e=s.updateQueue,e!==null)){if(n=null,s.child!==null)switch(s.child.tag){case 27:case 5:n=s.child.stateNode;break;case 1:n=s.child.stateNode}try{gp(e,n)}catch(g){ie(s,s.return,g)}}break;case 27:n===null&&o&4&&Ny(s);case 26:case 5:_r(e,s),n===null&&o&4&&Cy(s),o&512&&wl(s,s.return);break;case 12:_r(e,s);break;case 31:_r(e,s),o&4&&Vy(e,s);break;case 13:_r(e,s),o&4&&ky(e,s),o&64&&(e=s.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(s=rb.bind(null,s),Ab(e,s))));break;case 22:if(o=s.memoizedState!==null||pr,!o){n=n!==null&&n.memoizedState!==null||qe,h=pr;var f=qe;pr=o,(qe=n)&&!f?vr(e,s,(s.subtreeFlags&8772)!==0):_r(e,s),pr=h,qe=f}break;case 30:break;default:_r(e,s)}}function My(e){var n=e.alternate;n!==null&&(e.alternate=null,My(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&qr(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var ye=null,In=!1;function yr(e,n,s){for(s=s.child;s!==null;)Oy(e,n,s),s=s.sibling}function Oy(e,n,s){if(Qe&&typeof Qe.onCommitFiberUnmount=="function")try{Qe.onCommitFiberUnmount(vn,s)}catch{}switch(s.tag){case 26:qe||Gi(s,n),yr(e,n,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:qe||Gi(s,n);var o=ye,h=In;ds(s.type)&&(ye=s.stateNode,In=!1),yr(e,n,s),Vl(s.stateNode),ye=o,In=h;break;case 5:qe||Gi(s,n);case 6:if(o=ye,h=In,ye=null,yr(e,n,s),ye=o,In=h,ye!==null)if(In)try{(ye.nodeType===9?ye.body:ye.nodeName==="HTML"?ye.ownerDocument.body:ye).removeChild(s.stateNode)}catch(f){ie(s,n,f)}else try{ye.removeChild(s.stateNode)}catch(f){ie(s,n,f)}break;case 18:ye!==null&&(In?(e=ye,w_(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,s.stateNode),wo(e)):w_(ye,s.stateNode));break;case 4:o=ye,h=In,ye=s.stateNode.containerInfo,In=!0,yr(e,n,s),ye=o,In=h;break;case 0:case 11:case 14:case 15:as(2,s,n),qe||as(4,s,n),yr(e,n,s);break;case 1:qe||(Gi(s,n),o=s.stateNode,typeof o.componentWillUnmount=="function"&&Ry(s,n,o)),yr(e,n,s);break;case 21:yr(e,n,s);break;case 22:qe=(o=qe)||s.memoizedState!==null,yr(e,n,s),qe=o;break;default:yr(e,n,s)}}function Vy(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{wo(e)}catch(s){ie(n,n.return,s)}}}function ky(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{wo(e)}catch(s){ie(n,n.return,s)}}function $T(e){switch(e.tag){case 31:case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new xy),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new xy),n;default:throw Error(a(435,e.tag))}}function fc(e,n){var s=$T(e);n.forEach(function(o){if(!s.has(o)){s.add(o);var h=sb.bind(null,e,o);o.then(h,h)}})}function Nn(e,n){var s=n.deletions;if(s!==null)for(var o=0;o<s.length;o++){var h=s[o],f=e,g=n,E=g;t:for(;E!==null;){switch(E.tag){case 27:if(ds(E.type)){ye=E.stateNode,In=!1;break t}break;case 5:ye=E.stateNode,In=!1;break t;case 3:case 4:ye=E.stateNode.containerInfo,In=!0;break t}E=E.return}if(ye===null)throw Error(a(160));Oy(f,g,h),ye=null,In=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)Uy(n,e),n=n.sibling}var Ri=null;function Uy(e,n){var s=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Nn(n,e),xn(e),o&4&&(as(3,e,e.return),Al(3,e),as(5,e,e.return));break;case 1:Nn(n,e),xn(e),o&512&&(qe||s===null||Gi(s,s.return)),o&64&&pr&&(e=e.updateQueue,e!==null&&(o=e.callbacks,o!==null&&(s=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=s===null?o:s.concat(o))));break;case 26:var h=Ri;if(Nn(n,e),xn(e),o&512&&(qe||s===null||Gi(s,s.return)),o&4){var f=s!==null?s.memoizedState:null;if(o=e.memoizedState,s===null)if(o===null)if(e.stateNode===null){t:{o=e.type,s=e.memoizedProps,h=h.ownerDocument||h;e:switch(o){case"title":f=h.getElementsByTagName("title")[0],(!f||f[Wn]||f[Se]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(o),h.head.insertBefore(f,h.querySelector("head > title"))),sn(f,o,s),f[Se]=e,ve(f),o=f;break t;case"link":var g=U_("link","href",h).get(o+(s.href||""));if(g){for(var E=0;E<g.length;E++)if(f=g[E],f.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&f.getAttribute("rel")===(s.rel==null?null:s.rel)&&f.getAttribute("title")===(s.title==null?null:s.title)&&f.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){g.splice(E,1);break e}}f=h.createElement(o),sn(f,o,s),h.head.appendChild(f);break;case"meta":if(g=U_("meta","content",h).get(o+(s.content||""))){for(E=0;E<g.length;E++)if(f=g[E],f.getAttribute("content")===(s.content==null?null:""+s.content)&&f.getAttribute("name")===(s.name==null?null:s.name)&&f.getAttribute("property")===(s.property==null?null:s.property)&&f.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&f.getAttribute("charset")===(s.charSet==null?null:s.charSet)){g.splice(E,1);break e}}f=h.createElement(o),sn(f,o,s),h.head.appendChild(f);break;default:throw Error(a(468,o))}f[Se]=e,ve(f),o=f}e.stateNode=o}else L_(h,e.type,e.stateNode);else e.stateNode=k_(h,o,e.memoizedProps);else f!==o?(f===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):f.count--,o===null?L_(h,e.type,e.stateNode):k_(h,o,e.memoizedProps)):o===null&&e.stateNode!==null&&nd(e,e.memoizedProps,s.memoizedProps)}break;case 27:Nn(n,e),xn(e),o&512&&(qe||s===null||Gi(s,s.return)),s!==null&&o&4&&nd(e,e.memoizedProps,s.memoizedProps);break;case 5:if(Nn(n,e),xn(e),o&512&&(qe||s===null||Gi(s,s.return)),e.flags&32){h=e.stateNode;try{ot(h,"")}catch(ht){ie(e,e.return,ht)}}o&4&&e.stateNode!=null&&(h=e.memoizedProps,nd(e,h,s!==null?s.memoizedProps:h)),o&1024&&(sd=!0);break;case 6:if(Nn(n,e),xn(e),o&4){if(e.stateNode===null)throw Error(a(162));o=e.memoizedProps,s=e.stateNode;try{s.nodeValue=o}catch(ht){ie(e,e.return,ht)}}break;case 3:if(Ic=null,h=Ri,Ri=Rc(n.containerInfo),Nn(n,e),Ri=h,xn(e),o&4&&s!==null&&s.memoizedState.isDehydrated)try{wo(n.containerInfo)}catch(ht){ie(e,e.return,ht)}sd&&(sd=!1,Ly(e));break;case 4:o=Ri,Ri=Rc(e.stateNode.containerInfo),Nn(n,e),xn(e),Ri=o;break;case 12:Nn(n,e),xn(e);break;case 31:Nn(n,e),xn(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,fc(e,o)));break;case 13:Nn(n,e),xn(e),e.child.flags&8192&&e.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(mc=Xe()),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,fc(e,o)));break;case 22:h=e.memoizedState!==null;var C=s!==null&&s.memoizedState!==null,j=pr,Y=qe;if(pr=j||h,qe=Y||C,Nn(n,e),qe=Y,pr=j,xn(e),o&8192)t:for(n=e.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(s===null||C||pr||qe||Ta(e)),s=null,n=e;;){if(n.tag===5||n.tag===26){if(s===null){C=s=n;try{if(f=C.stateNode,h)g=f.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none";else{E=C.stateNode;var $=C.memoizedProps.style,B=$!=null&&$.hasOwnProperty("display")?$.display:null;E.style.display=B==null||typeof B=="boolean"?"":(""+B).trim()}}catch(ht){ie(C,C.return,ht)}}}else if(n.tag===6){if(s===null){C=n;try{C.stateNode.nodeValue=h?"":C.memoizedProps}catch(ht){ie(C,C.return,ht)}}}else if(n.tag===18){if(s===null){C=n;try{var H=C.stateNode;h?R_(H,!0):R_(C.stateNode,!1)}catch(ht){ie(C,C.return,ht)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break t;for(;n.sibling===null;){if(n.return===null||n.return===e)break t;s===n&&(s=null),n=n.return}s===n&&(s=null),n.sibling.return=n.return,n=n.sibling}o&4&&(o=e.updateQueue,o!==null&&(s=o.retryQueue,s!==null&&(o.retryQueue=null,fc(e,s))));break;case 19:Nn(n,e),xn(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,fc(e,o)));break;case 30:break;case 21:break;default:Nn(n,e),xn(e)}}function xn(e){var n=e.flags;if(n&2){try{for(var s,o=e.return;o!==null;){if(Iy(o)){s=o;break}o=o.return}if(s==null)throw Error(a(160));switch(s.tag){case 27:var h=s.stateNode,f=id(e);hc(e,f,h);break;case 5:var g=s.stateNode;s.flags&32&&(ot(g,""),s.flags&=-33);var E=id(e);hc(e,E,g);break;case 3:case 4:var C=s.stateNode.containerInfo,j=id(e);rd(e,j,C);break;default:throw Error(a(161))}}catch(Y){ie(e,e.return,Y)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function Ly(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;Ly(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function _r(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Dy(e,n.alternate,n),n=n.sibling}function Ta(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:as(4,n,n.return),Ta(n);break;case 1:Gi(n,n.return);var s=n.stateNode;typeof s.componentWillUnmount=="function"&&Ry(n,n.return,s),Ta(n);break;case 27:Vl(n.stateNode);case 26:case 5:Gi(n,n.return),Ta(n);break;case 22:n.memoizedState===null&&Ta(n);break;case 30:Ta(n);break;default:Ta(n)}e=e.sibling}}function vr(e,n,s){for(s=s&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var o=n.alternate,h=e,f=n,g=f.flags;switch(f.tag){case 0:case 11:case 15:vr(h,f,s),Al(4,f);break;case 1:if(vr(h,f,s),o=f,h=o.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(j){ie(o,o.return,j)}if(o=f,h=o.updateQueue,h!==null){var E=o.stateNode;try{var C=h.shared.hiddenCallbacks;if(C!==null)for(h.shared.hiddenCallbacks=null,h=0;h<C.length;h++)mp(C[h],E)}catch(j){ie(o,o.return,j)}}s&&g&64&&wy(f),wl(f,f.return);break;case 27:Ny(f);case 26:case 5:vr(h,f,s),s&&o===null&&g&4&&Cy(f),wl(f,f.return);break;case 12:vr(h,f,s);break;case 31:vr(h,f,s),s&&g&4&&Vy(h,f);break;case 13:vr(h,f,s),s&&g&4&&ky(h,f);break;case 22:f.memoizedState===null&&vr(h,f,s),wl(f,f.return);break;case 30:break;default:vr(h,f,s)}n=n.sibling}}function ad(e,n){var s=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==s&&(e!=null&&e.refCount++,s!=null&&hl(s))}function od(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&hl(e))}function Ci(e,n,s,o){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Py(e,n,s,o),n=n.sibling}function Py(e,n,s,o){var h=n.flags;switch(n.tag){case 0:case 11:case 15:Ci(e,n,s,o),h&2048&&Al(9,n);break;case 1:Ci(e,n,s,o);break;case 3:Ci(e,n,s,o),h&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&hl(e)));break;case 12:if(h&2048){Ci(e,n,s,o),e=n.stateNode;try{var f=n.memoizedProps,g=f.id,E=f.onPostCommit;typeof E=="function"&&E(g,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(C){ie(n,n.return,C)}}else Ci(e,n,s,o);break;case 31:Ci(e,n,s,o);break;case 13:Ci(e,n,s,o);break;case 23:break;case 22:f=n.stateNode,g=n.alternate,n.memoizedState!==null?f._visibility&2?Ci(e,n,s,o):Rl(e,n):f._visibility&2?Ci(e,n,s,o):(f._visibility|=2,mo(e,n,s,o,(n.subtreeFlags&10256)!==0||!1)),h&2048&&ad(g,n);break;case 24:Ci(e,n,s,o),h&2048&&od(n.alternate,n);break;default:Ci(e,n,s,o)}}function mo(e,n,s,o,h){for(h=h&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=e,g=n,E=s,C=o,j=g.flags;switch(g.tag){case 0:case 11:case 15:mo(f,g,E,C,h),Al(8,g);break;case 23:break;case 22:var Y=g.stateNode;g.memoizedState!==null?Y._visibility&2?mo(f,g,E,C,h):Rl(f,g):(Y._visibility|=2,mo(f,g,E,C,h)),h&&j&2048&&ad(g.alternate,g);break;case 24:mo(f,g,E,C,h),h&&j&2048&&od(g.alternate,g);break;default:mo(f,g,E,C,h)}n=n.sibling}}function Rl(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var s=e,o=n,h=o.flags;switch(o.tag){case 22:Rl(s,o),h&2048&&ad(o.alternate,o);break;case 24:Rl(s,o),h&2048&&od(o.alternate,o);break;default:Rl(s,o)}n=n.sibling}}var Cl=8192;function go(e,n,s){if(e.subtreeFlags&Cl)for(e=e.child;e!==null;)zy(e,n,s),e=e.sibling}function zy(e,n,s){switch(e.tag){case 26:go(e,n,s),e.flags&Cl&&e.memoizedState!==null&&Ub(s,Ri,e.memoizedState,e.memoizedProps);break;case 5:go(e,n,s);break;case 3:case 4:var o=Ri;Ri=Rc(e.stateNode.containerInfo),go(e,n,s),Ri=o;break;case 22:e.memoizedState===null&&(o=e.alternate,o!==null&&o.memoizedState!==null?(o=Cl,Cl=16777216,go(e,n,s),Cl=o):go(e,n,s));break;default:go(e,n,s)}}function jy(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function Il(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var o=n[s];Ze=o,qy(o,e)}jy(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)By(e),e=e.sibling}function By(e){switch(e.tag){case 0:case 11:case 15:Il(e),e.flags&2048&&as(9,e,e.return);break;case 3:Il(e);break;case 12:Il(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,dc(e)):Il(e);break;default:Il(e)}}function dc(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var o=n[s];Ze=o,qy(o,e)}jy(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:as(8,n,n.return),dc(n);break;case 22:s=n.stateNode,s._visibility&2&&(s._visibility&=-3,dc(n));break;default:dc(n)}e=e.sibling}}function qy(e,n){for(;Ze!==null;){var s=Ze;switch(s.tag){case 0:case 11:case 15:as(8,s,n);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var o=s.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:hl(s.memoizedState.cache)}if(o=s.child,o!==null)o.return=s,Ze=o;else t:for(s=e;Ze!==null;){o=Ze;var h=o.sibling,f=o.return;if(My(o),o===s){Ze=null;break t}if(h!==null){h.return=f,Ze=h;break t}Ze=f}}}var JT={getCacheForType:function(e){var n=nn(ze),s=n.data.get(e);return s===void 0&&(s=e(),n.data.set(e,s)),s},cacheSignal:function(){return nn(ze).controller.signal}},ZT=typeof WeakMap=="function"?WeakMap:Map,Wt=0,ue=null,Vt=null,zt=0,ne=0,Gn=null,os=!1,po=!1,ld=!1,Er=0,we=0,ls=0,ba=0,ud=0,Qn=0,yo=0,Nl=null,Dn=null,cd=!1,mc=0,Hy=0,gc=1/0,pc=null,us=null,Ye=0,cs=null,_o=null,Tr=0,hd=0,fd=null,Fy=null,xl=0,dd=null;function Yn(){return(Wt&2)!==0&&zt!==0?zt&-zt:G.T!==null?vd():Qs()}function Gy(){if(Qn===0)if((zt&536870912)===0||Qt){var e=Ei;Ei<<=1,(Ei&3932160)===0&&(Ei=262144),Qn=e}else Qn=536870912;return e=Hn.current,e!==null&&(e.flags|=32),Qn}function Mn(e,n,s){(e===ue&&(ne===2||ne===9)||e.cancelPendingCommit!==null)&&(vo(e,0),hs(e,zt,Qn,!1)),rr(e,s),((Wt&2)===0||e!==ue)&&(e===ue&&((Wt&2)===0&&(ba|=s),we===4&&hs(e,zt,Qn,!1)),Qi(e))}function Qy(e,n,s){if((Wt&6)!==0)throw Error(a(327));var o=!s&&(n&127)===0&&(n&e.expiredLanes)===0||Ie(e,n),h=o?eb(e,n):gd(e,n,!0),f=o;do{if(h===0){po&&!o&&hs(e,n,0,!1);break}else{if(s=e.current.alternate,f&&!WT(s)){h=gd(e,n,!1),f=!1;continue}if(h===2){if(f=n,e.errorRecoveryDisabledLanes&f)var g=0;else g=e.pendingLanes&-536870913,g=g!==0?g:g&536870912?536870912:0;if(g!==0){n=g;t:{var E=e;h=Nl;var C=E.current.memoizedState.isDehydrated;if(C&&(vo(E,g).flags|=256),g=gd(E,g,!1),g!==2){if(ld&&!C){E.errorRecoveryDisabledLanes|=f,ba|=f,h=4;break t}f=Dn,Dn=h,f!==null&&(Dn===null?Dn=f:Dn.push.apply(Dn,f))}h=g}if(f=!1,h!==2)continue}}if(h===1){vo(e,0),hs(e,n,0,!0);break}t:{switch(o=e,f=h,f){case 0:case 1:throw Error(a(345));case 4:if((n&4194048)!==n)break;case 6:hs(o,n,Qn,!os);break t;case 2:Dn=null;break;case 3:case 5:break;default:throw Error(a(329))}if((n&62914560)===n&&(h=mc+300-Xe(),10<h)){if(hs(o,n,Qn,!os),hn(o,0,!0)!==0)break t;Tr=n,o.timeoutHandle=S_(Yy.bind(null,o,s,Dn,pc,cd,n,Qn,ba,yo,os,f,"Throttled",-0,0),h);break t}Yy(o,s,Dn,pc,cd,n,Qn,ba,yo,os,f,null,-0,0)}}break}while(!0);Qi(e)}function Yy(e,n,s,o,h,f,g,E,C,j,Y,$,B,H){if(e.timeoutHandle=-1,$=n.subtreeFlags,$&8192||($&16785408)===16785408){$={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:jn},zy(n,f,$);var ht=(f&62914560)===f?mc-Xe():(f&4194048)===f?Hy-Xe():0;if(ht=Lb($,ht),ht!==null){Tr=f,e.cancelPendingCommit=ht(e_.bind(null,e,n,f,s,o,h,g,E,C,Y,$,null,B,H)),hs(e,f,g,!j);return}}e_(e,n,f,s,o,h,g,E,C)}function WT(e){for(var n=e;;){var s=n.tag;if((s===0||s===11||s===15)&&n.flags&16384&&(s=n.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var o=0;o<s.length;o++){var h=s[o],f=h.getSnapshot;h=h.value;try{if(!Bn(f(),h))return!1}catch{return!1}}if(s=n.child,n.subtreeFlags&16384&&s!==null)s.return=n,n=s;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function hs(e,n,s,o){n&=~ud,n&=~ba,e.suspendedLanes|=n,e.pingedLanes&=~n,o&&(e.warmLanes|=n),o=e.expirationTimes;for(var h=n;0<h;){var f=31-_e(h),g=1<<f;o[f]=-1,h&=~g}s!==0&&Oi(e,s,n)}function yc(){return(Wt&6)===0?(Dl(0),!1):!0}function md(){if(Vt!==null){if(ne===0)var e=Vt.return;else e=Vt,cr=da=null,xf(e),lo=null,dl=0,e=Vt;for(;e!==null;)Ay(e.alternate,e),e=e.return;Vt=null}}function vo(e,n){var s=e.timeoutHandle;s!==-1&&(e.timeoutHandle=-1,vb(s)),s=e.cancelPendingCommit,s!==null&&(e.cancelPendingCommit=null,s()),Tr=0,md(),ue=e,Vt=s=lr(e.current,null),zt=n,ne=0,Gn=null,os=!1,po=Ie(e,n),ld=!1,yo=Qn=ud=ba=ls=we=0,Dn=Nl=null,cd=!1,(n&8)!==0&&(n|=n&32);var o=e.entangledLanes;if(o!==0)for(e=e.entanglements,o&=n;0<o;){var h=31-_e(o),f=1<<h;n|=e[h],o&=~f}return Er=n,Pu(),s}function Ky(e,n){Nt=null,G.H=Tl,n===oo||n===Qu?(n=cp(),ne=3):n===_f?(n=cp(),ne=4):ne=n===Qf?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,Gn=n,Vt===null&&(we=1,ac(e,ci(n,e.current)))}function Xy(){var e=Hn.current;return e===null?!0:(zt&4194048)===zt?mi===null:(zt&62914560)===zt||(zt&536870912)!==0?e===mi:!1}function $y(){var e=G.H;return G.H=Tl,e===null?Tl:e}function Jy(){var e=G.A;return G.A=JT,e}function _c(){we=4,os||(zt&4194048)!==zt&&Hn.current!==null||(po=!0),(ls&134217727)===0&&(ba&134217727)===0||ue===null||hs(ue,zt,Qn,!1)}function gd(e,n,s){var o=Wt;Wt|=2;var h=$y(),f=Jy();(ue!==e||zt!==n)&&(pc=null,vo(e,n)),n=!1;var g=we;t:do try{if(ne!==0&&Vt!==null){var E=Vt,C=Gn;switch(ne){case 8:md(),g=6;break t;case 3:case 2:case 9:case 6:Hn.current===null&&(n=!0);var j=ne;if(ne=0,Gn=null,Eo(e,E,C,j),s&&po){g=0;break t}break;default:j=ne,ne=0,Gn=null,Eo(e,E,C,j)}}tb(),g=we;break}catch(Y){Ky(e,Y)}while(!0);return n&&e.shellSuspendCounter++,cr=da=null,Wt=o,G.H=h,G.A=f,Vt===null&&(ue=null,zt=0,Pu()),g}function tb(){for(;Vt!==null;)Zy(Vt)}function eb(e,n){var s=Wt;Wt|=2;var o=$y(),h=Jy();ue!==e||zt!==n?(pc=null,gc=Xe()+500,vo(e,n)):po=Ie(e,n);t:do try{if(ne!==0&&Vt!==null){n=Vt;var f=Gn;e:switch(ne){case 1:ne=0,Gn=null,Eo(e,n,f,1);break;case 2:case 9:if(lp(f)){ne=0,Gn=null,Wy(n);break}n=function(){ne!==2&&ne!==9||ue!==e||(ne=7),Qi(e)},f.then(n,n);break t;case 3:ne=7;break t;case 4:ne=5;break t;case 7:lp(f)?(ne=0,Gn=null,Wy(n)):(ne=0,Gn=null,Eo(e,n,f,7));break;case 5:var g=null;switch(Vt.tag){case 26:g=Vt.memoizedState;case 5:case 27:var E=Vt;if(g?P_(g):E.stateNode.complete){ne=0,Gn=null;var C=E.sibling;if(C!==null)Vt=C;else{var j=E.return;j!==null?(Vt=j,vc(j)):Vt=null}break e}}ne=0,Gn=null,Eo(e,n,f,5);break;case 6:ne=0,Gn=null,Eo(e,n,f,6);break;case 8:md(),we=6;break t;default:throw Error(a(462))}}nb();break}catch(Y){Ky(e,Y)}while(!0);return cr=da=null,G.H=o,G.A=h,Wt=s,Vt!==null?0:(ue=null,zt=0,Pu(),we)}function nb(){for(;Vt!==null&&!Bs();)Zy(Vt)}function Zy(e){var n=by(e.alternate,e,Er);e.memoizedProps=e.pendingProps,n===null?vc(e):Vt=n}function Wy(e){var n=e,s=n.alternate;switch(n.tag){case 15:case 0:n=py(s,n,n.pendingProps,n.type,void 0,zt);break;case 11:n=py(s,n,n.pendingProps,n.type.render,n.ref,zt);break;case 5:xf(n);default:Ay(s,n),n=Vt=Jg(n,Er),n=by(s,n,Er)}e.memoizedProps=e.pendingProps,n===null?vc(e):Vt=n}function Eo(e,n,s,o){cr=da=null,xf(n),lo=null,dl=0;var h=n.return;try{if(FT(e,h,n,s,zt)){we=1,ac(e,ci(s,e.current)),Vt=null;return}}catch(f){if(h!==null)throw Vt=h,f;we=1,ac(e,ci(s,e.current)),Vt=null;return}n.flags&32768?(Qt||o===1?e=!0:po||(zt&536870912)!==0?e=!1:(os=e=!0,(o===2||o===9||o===3||o===6)&&(o=Hn.current,o!==null&&o.tag===13&&(o.flags|=16384))),t_(n,e)):vc(n)}function vc(e){var n=e;do{if((n.flags&32768)!==0){t_(n,os);return}e=n.return;var s=YT(n.alternate,n,Er);if(s!==null){Vt=s;return}if(n=n.sibling,n!==null){Vt=n;return}Vt=n=e}while(n!==null);we===0&&(we=5)}function t_(e,n){do{var s=KT(e.alternate,e);if(s!==null){s.flags&=32767,Vt=s;return}if(s=e.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!n&&(e=e.sibling,e!==null)){Vt=e;return}Vt=e=s}while(e!==null);we=6,Vt=null}function e_(e,n,s,o,h,f,g,E,C){e.cancelPendingCommit=null;do Ec();while(Ye!==0);if((Wt&6)!==0)throw Error(a(327));if(n!==null){if(n===e.current)throw Error(a(177));if(f=n.lanes|n.childLanes,f|=nf,Pn(e,s,f,g,E,C),e===ue&&(Vt=ue=null,zt=0),_o=n,cs=e,Tr=s,hd=f,fd=h,Fy=o,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,ab(cn,function(){return a_(),null})):(e.callbackNode=null,e.callbackPriority=0),o=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||o){o=G.T,G.T=null,h=rt.p,rt.p=2,g=Wt,Wt|=4;try{XT(e,n,s)}finally{Wt=g,rt.p=h,G.T=o}}Ye=1,n_(),i_(),r_()}}function n_(){if(Ye===1){Ye=0;var e=cs,n=_o,s=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||s){s=G.T,G.T=null;var o=rt.p;rt.p=2;var h=Wt;Wt|=4;try{Uy(n,e);var f=Cd,g=qg(e.containerInfo),E=f.focusedElem,C=f.selectionRange;if(g!==E&&E&&E.ownerDocument&&Bg(E.ownerDocument.documentElement,E)){if(C!==null&&Jh(E)){var j=C.start,Y=C.end;if(Y===void 0&&(Y=j),"selectionStart"in E)E.selectionStart=j,E.selectionEnd=Math.min(Y,E.value.length);else{var $=E.ownerDocument||document,B=$&&$.defaultView||window;if(B.getSelection){var H=B.getSelection(),ht=E.textContent.length,vt=Math.min(C.start,ht),le=C.end===void 0?vt:Math.min(C.end,ht);!H.extend&&vt>le&&(g=le,le=vt,vt=g);var U=jg(E,vt),M=jg(E,le);if(U&&M&&(H.rangeCount!==1||H.anchorNode!==U.node||H.anchorOffset!==U.offset||H.focusNode!==M.node||H.focusOffset!==M.offset)){var z=$.createRange();z.setStart(U.node,U.offset),H.removeAllRanges(),vt>le?(H.addRange(z),H.extend(M.node,M.offset)):(z.setEnd(M.node,M.offset),H.addRange(z))}}}}for($=[],H=E;H=H.parentNode;)H.nodeType===1&&$.push({element:H,left:H.scrollLeft,top:H.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<$.length;E++){var K=$[E];K.element.scrollLeft=K.left,K.element.scrollTop=K.top}}Mc=!!Rd,Cd=Rd=null}finally{Wt=h,rt.p=o,G.T=s}}e.current=n,Ye=2}}function i_(){if(Ye===2){Ye=0;var e=cs,n=_o,s=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||s){s=G.T,G.T=null;var o=rt.p;rt.p=2;var h=Wt;Wt|=4;try{Dy(e,n.alternate,n)}finally{Wt=h,rt.p=o,G.T=s}}Ye=3}}function r_(){if(Ye===4||Ye===3){Ye=0,qs();var e=cs,n=_o,s=Tr,o=Fy;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Ye=5:(Ye=0,_o=cs=null,s_(e,e.pendingLanes));var h=e.pendingLanes;if(h===0&&(us=null),Jn(s),n=n.stateNode,Qe&&typeof Qe.onCommitFiberRoot=="function")try{Qe.onCommitFiberRoot(vn,n,void 0,(n.current.flags&128)===128)}catch{}if(o!==null){n=G.T,h=rt.p,rt.p=2,G.T=null;try{for(var f=e.onRecoverableError,g=0;g<o.length;g++){var E=o[g];f(E.value,{componentStack:E.stack})}}finally{G.T=n,rt.p=h}}(Tr&3)!==0&&Ec(),Qi(e),h=e.pendingLanes,(s&261930)!==0&&(h&42)!==0?e===dd?xl++:(xl=0,dd=e):xl=0,Dl(0)}}function s_(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,hl(n)))}function Ec(){return n_(),i_(),r_(),a_()}function a_(){if(Ye!==5)return!1;var e=cs,n=hd;hd=0;var s=Jn(Tr),o=G.T,h=rt.p;try{rt.p=32>s?32:s,G.T=null,s=fd,fd=null;var f=cs,g=Tr;if(Ye=0,_o=cs=null,Tr=0,(Wt&6)!==0)throw Error(a(331));var E=Wt;if(Wt|=4,By(f.current),Py(f,f.current,g,s),Wt=E,Dl(0,!1),Qe&&typeof Qe.onPostCommitFiberRoot=="function")try{Qe.onPostCommitFiberRoot(vn,f)}catch{}return!0}finally{rt.p=h,G.T=o,s_(e,n)}}function o_(e,n,s){n=ci(s,n),n=Gf(e.stateNode,n,2),e=is(e,n,2),e!==null&&(rr(e,2),Qi(e))}function ie(e,n,s){if(e.tag===3)o_(e,e,s);else for(;n!==null;){if(n.tag===3){o_(n,e,s);break}else if(n.tag===1){var o=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(us===null||!us.has(o))){e=ci(s,e),s=ly(2),o=is(n,s,2),o!==null&&(uy(s,o,n,e),rr(o,2),Qi(o));break}}n=n.return}}function pd(e,n,s){var o=e.pingCache;if(o===null){o=e.pingCache=new ZT;var h=new Set;o.set(n,h)}else h=o.get(n),h===void 0&&(h=new Set,o.set(n,h));h.has(s)||(ld=!0,h.add(s),e=ib.bind(null,e,n,s),n.then(e,e))}function ib(e,n,s){var o=e.pingCache;o!==null&&o.delete(n),e.pingedLanes|=e.suspendedLanes&s,e.warmLanes&=~s,ue===e&&(zt&s)===s&&(we===4||we===3&&(zt&62914560)===zt&&300>Xe()-mc?(Wt&2)===0&&vo(e,0):ud|=s,yo===zt&&(yo=0)),Qi(e)}function l_(e,n){n===0&&(n=Ba()),e=ca(e,n),e!==null&&(rr(e,n),Qi(e))}function rb(e){var n=e.memoizedState,s=0;n!==null&&(s=n.retryLane),l_(e,s)}function sb(e,n){var s=0;switch(e.tag){case 31:case 13:var o=e.stateNode,h=e.memoizedState;h!==null&&(s=h.retryLane);break;case 19:o=e.stateNode;break;case 22:o=e.stateNode._retryCache;break;default:throw Error(a(314))}o!==null&&o.delete(n),l_(e,s)}function ab(e,n){return Ce(e,n)}var Tc=null,To=null,yd=!1,bc=!1,_d=!1,fs=0;function Qi(e){e!==To&&e.next===null&&(To===null?Tc=To=e:To=To.next=e),bc=!0,yd||(yd=!0,lb())}function Dl(e,n){if(!_d&&bc){_d=!0;do for(var s=!1,o=Tc;o!==null;){if(e!==0){var h=o.pendingLanes;if(h===0)var f=0;else{var g=o.suspendedLanes,E=o.pingedLanes;f=(1<<31-_e(42|e)+1)-1,f&=h&~(g&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(s=!0,f_(o,f))}else f=zt,f=hn(o,o===ue?f:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(f&3)===0||Ie(o,f)||(s=!0,f_(o,f));o=o.next}while(s);_d=!1}}function ob(){u_()}function u_(){bc=yd=!1;var e=0;fs!==0&&_b()&&(e=fs);for(var n=Xe(),s=null,o=Tc;o!==null;){var h=o.next,f=c_(o,n);f===0?(o.next=null,s===null?Tc=h:s.next=h,h===null&&(To=s)):(s=o,(e!==0||(f&3)!==0)&&(bc=!0)),o=h}Ye!==0&&Ye!==5||Dl(e),fs!==0&&(fs=0)}function c_(e,n){for(var s=e.suspendedLanes,o=e.pingedLanes,h=e.expirationTimes,f=e.pendingLanes&-62914561;0<f;){var g=31-_e(f),E=1<<g,C=h[g];C===-1?((E&s)===0||(E&o)!==0)&&(h[g]=ja(E,n)):C<=n&&(e.expiredLanes|=E),f&=~E}if(n=ue,s=zt,s=hn(e,e===n?s:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o=e.callbackNode,s===0||e===n&&(ne===2||ne===9)||e.cancelPendingCommit!==null)return o!==null&&o!==null&&Xn(o),e.callbackNode=null,e.callbackPriority=0;if((s&3)===0||Ie(e,s)){if(n=s&-s,n===e.callbackPriority)return n;switch(o!==null&&Xn(o),Jn(s)){case 2:case 8:s=Ur;break;case 32:s=cn;break;case 268435456:s=Di;break;default:s=cn}return o=h_.bind(null,e),s=Ce(s,o),e.callbackPriority=n,e.callbackNode=s,n}return o!==null&&o!==null&&Xn(o),e.callbackPriority=2,e.callbackNode=null,2}function h_(e,n){if(Ye!==0&&Ye!==5)return e.callbackNode=null,e.callbackPriority=0,null;var s=e.callbackNode;if(Ec()&&e.callbackNode!==s)return null;var o=zt;return o=hn(e,e===ue?o:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o===0?null:(Qy(e,o,n),c_(e,Xe()),e.callbackNode!=null&&e.callbackNode===s?h_.bind(null,e):null)}function f_(e,n){if(Ec())return null;Qy(e,n,!0)}function lb(){Eb(function(){(Wt&6)!==0?Ce(Hs,ob):u_()})}function vd(){if(fs===0){var e=so;e===0&&(e=$n,$n<<=1,($n&261888)===0&&($n=256)),fs=e}return fs}function d_(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Gr(""+e)}function m_(e,n){var s=n.ownerDocument.createElement("input");return s.name=n.name,s.value=n.value,e.id&&s.setAttribute("form",e.id),n.parentNode.insertBefore(s,n),e=new FormData(e),s.parentNode.removeChild(s),e}function ub(e,n,s,o,h){if(n==="submit"&&s&&s.stateNode===h){var f=d_((h[Ne]||null).action),g=o.submitter;g&&(n=(n=g[Ne]||null)?d_(n.formAction):g.getAttribute("formAction"),n!==null&&(f=n,g=null));var E=new zi("action","action",null,o,h);e.push({event:E,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(fs!==0){var C=g?m_(h,g):new FormData(h);zf(s,{pending:!0,data:C,method:h.method,action:f},null,C)}}else typeof f=="function"&&(E.preventDefault(),C=g?m_(h,g):new FormData(h),zf(s,{pending:!0,data:C,method:h.method,action:f},f,C))},currentTarget:h}]})}}for(var Ed=0;Ed<ef.length;Ed++){var Td=ef[Ed],cb=Td.toLowerCase(),hb=Td[0].toUpperCase()+Td.slice(1);wi(cb,"on"+hb)}wi(Gg,"onAnimationEnd"),wi(Qg,"onAnimationIteration"),wi(Yg,"onAnimationStart"),wi("dblclick","onDoubleClick"),wi("focusin","onFocus"),wi("focusout","onBlur"),wi(CT,"onTransitionRun"),wi(IT,"onTransitionStart"),wi(NT,"onTransitionCancel"),wi(Kg,"onTransitionEnd"),ni("onMouseEnter",["mouseout","mouseover"]),ni("onMouseLeave",["mouseout","mouseover"]),ni("onPointerEnter",["pointerout","pointerover"]),ni("onPointerLeave",["pointerout","pointerover"]),ei("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ei("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ei("onBeforeInput",["compositionend","keypress","textInput","paste"]),ei("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ei("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ei("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ml="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),fb=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ml));function g_(e,n){n=(n&4)!==0;for(var s=0;s<e.length;s++){var o=e[s],h=o.event;o=o.listeners;t:{var f=void 0;if(n)for(var g=o.length-1;0<=g;g--){var E=o[g],C=E.instance,j=E.currentTarget;if(E=E.listener,C!==f&&h.isPropagationStopped())break t;f=E,h.currentTarget=j;try{f(h)}catch(Y){Lu(Y)}h.currentTarget=null,f=C}else for(g=0;g<o.length;g++){if(E=o[g],C=E.instance,j=E.currentTarget,E=E.listener,C!==f&&h.isPropagationStopped())break t;f=E,h.currentTarget=j;try{f(h)}catch(Y){Lu(Y)}h.currentTarget=null,f=C}}}}function kt(e,n){var s=n[Br];s===void 0&&(s=n[Br]=new Set);var o=e+"__bubble";s.has(o)||(p_(n,e,2,!1),s.add(o))}function bd(e,n,s){var o=0;n&&(o|=4),p_(s,e,o,n)}var Sc="_reactListening"+Math.random().toString(36).slice(2);function Sd(e){if(!e[Sc]){e[Sc]=!0,Ks.forEach(function(s){s!=="selectionchange"&&(fb.has(s)||bd(s,!1,e),bd(s,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[Sc]||(n[Sc]=!0,bd("selectionchange",!1,n))}}function p_(e,n,s,o){switch(G_(n)){case 2:var h=jb;break;case 8:h=Bb;break;default:h=Pd}s=h.bind(null,n,s,e),h=void 0,!na||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),o?h!==void 0?e.addEventListener(n,s,{capture:!0,passive:h}):e.addEventListener(n,s,!0):h!==void 0?e.addEventListener(n,s,{passive:h}):e.addEventListener(n,s,!1)}function Ad(e,n,s,o,h){var f=o;if((n&1)===0&&(n&2)===0&&o!==null)t:for(;;){if(o===null)return;var g=o.tag;if(g===3||g===4){var E=o.stateNode.containerInfo;if(E===h)break;if(g===4)for(g=o.return;g!==null;){var C=g.tag;if((C===3||C===4)&&g.stateNode.containerInfo===h)return;g=g.return}for(;E!==null;){if(g=zn(E),g===null)return;if(C=g.tag,C===5||C===6||C===26||C===27){o=f=g;continue t}E=E.parentNode}}o=o.return}Yr(function(){var j=f,Y=ai(s),$=[];t:{var B=Xg.get(e);if(B!==void 0){var H=zi,ht=e;switch(e){case"keypress":if(ra(s)===0)break t;case"keydown":case"keyup":H=Vu;break;case"focusin":ht="focus",H=aa;break;case"focusout":ht="blur",H=aa;break;case"beforeblur":case"afterblur":H=aa;break;case"click":if(s.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":H=il;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":H=wu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":H=m;break;case Gg:case Qg:case Yg:H=Cu;break;case Kg:H=T;break;case"scroll":case"scrollend":H=nl;break;case"wheel":H=q;break;case"copy":case"cut":case"paste":H=Iu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":H=or;break;case"toggle":case"beforetoggle":H=It}var vt=(n&4)!==0,le=!vt&&(e==="scroll"||e==="scrollend"),U=vt?B!==null?B+"Capture":null:B;vt=[];for(var M=j,z;M!==null;){var K=M;if(z=K.stateNode,K=K.tag,K!==5&&K!==26&&K!==27||z===null||U===null||(K=Ti(M,U),K!=null&&vt.push(Ol(M,K,z))),le)break;M=M.return}0<vt.length&&(B=new H(B,ht,null,s,Y),$.push({event:B,listeners:vt}))}}if((n&7)===0){t:{if(B=e==="mouseover"||e==="pointerover",H=e==="mouseout"||e==="pointerout",B&&s!==Wo&&(ht=s.relatedTarget||s.fromElement)&&(zn(ht)||ht[Zn]))break t;if((H||B)&&(B=Y.window===Y?Y:(B=Y.ownerDocument)?B.defaultView||B.parentWindow:window,H?(ht=s.relatedTarget||s.toElement,H=j,ht=ht?zn(ht):null,ht!==null&&(le=c(ht),vt=ht.tag,ht!==le||vt!==5&&vt!==27&&vt!==6)&&(ht=null)):(H=null,ht=j),H!==ht)){if(vt=il,K="onMouseLeave",U="onMouseEnter",M="mouse",(e==="pointerout"||e==="pointerover")&&(vt=or,K="onPointerLeave",U="onPointerEnter",M="pointer"),le=H==null?B:bn(H),z=ht==null?B:bn(ht),B=new vt(K,M+"leave",H,s,Y),B.target=le,B.relatedTarget=z,K=null,zn(Y)===j&&(vt=new vt(U,M+"enter",ht,s,Y),vt.target=z,vt.relatedTarget=le,K=vt),le=K,H&&ht)e:{for(vt=db,U=H,M=ht,z=0,K=U;K;K=vt(K))z++;K=0;for(var gt=M;gt;gt=vt(gt))K++;for(;0<z-K;)U=vt(U),z--;for(;0<K-z;)M=vt(M),K--;for(;z--;){if(U===M||M!==null&&U===M.alternate){vt=U;break e}U=vt(U),M=vt(M)}vt=null}else vt=null;H!==null&&y_($,B,H,vt,!1),ht!==null&&le!==null&&y_($,le,ht,vt,!0)}}t:{if(B=j?bn(j):window,H=B.nodeName&&B.nodeName.toLowerCase(),H==="select"||H==="input"&&B.type==="file")var Xt=Vg;else if(Mg(B))if(kg)Xt=AT;else{Xt=bT;var ft=TT}else H=B.nodeName,!H||H.toLowerCase()!=="input"||B.type!=="checkbox"&&B.type!=="radio"?j&&fn(j.elementType)&&(Xt=Vg):Xt=ST;if(Xt&&(Xt=Xt(e,j))){Og($,Xt,s,Y);break t}ft&&ft(e,B,j),e==="focusout"&&j&&B.type==="number"&&j.memoizedProps.value!=null&&ta(B,"number",B.value)}switch(ft=j?bn(j):window,e){case"focusin":(Mg(ft)||ft.contentEditable==="true")&&(Ja=ft,Zh=j,ll=null);break;case"focusout":ll=Zh=Ja=null;break;case"mousedown":Wh=!0;break;case"contextmenu":case"mouseup":case"dragend":Wh=!1,Hg($,s,Y);break;case"selectionchange":if(RT)break;case"keydown":case"keyup":Hg($,s,Y)}var xt;if(Zt)t:{switch(e){case"compositionstart":var jt="onCompositionStart";break t;case"compositionend":jt="onCompositionEnd";break t;case"compositionupdate":jt="onCompositionUpdate";break t}jt=void 0}else $a?oa(e,s)&&(jt="onCompositionEnd"):e==="keydown"&&s.keyCode===229&&(jt="onCompositionStart");jt&&(qi&&s.locale!=="ko"&&($a||jt!=="onCompositionStart"?jt==="onCompositionEnd"&&$a&&(xt=el()):(Pi=Y,tl="value"in Pi?Pi.value:Pi.textContent,$a=!0)),ft=Ac(j,jt),0<ft.length&&(jt=new Bi(jt,e,null,s,Y),$.push({event:jt,listeners:ft}),xt?jt.data=xt:(xt=Xa(s),xt!==null&&(jt.data=xt)))),(xt=li?yT(e,s):_T(e,s))&&(jt=Ac(j,"onBeforeInput"),0<jt.length&&(ft=new Bi("onBeforeInput","beforeinput",null,s,Y),$.push({event:ft,listeners:jt}),ft.data=xt)),ub($,e,j,s,Y)}g_($,n)})}function Ol(e,n,s){return{instance:e,listener:n,currentTarget:s}}function Ac(e,n){for(var s=n+"Capture",o=[];e!==null;){var h=e,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=Ti(e,s),h!=null&&o.unshift(Ol(e,h,f)),h=Ti(e,n),h!=null&&o.push(Ol(e,h,f))),e.tag===3)return o;e=e.return}return[]}function db(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function y_(e,n,s,o,h){for(var f=n._reactName,g=[];s!==null&&s!==o;){var E=s,C=E.alternate,j=E.stateNode;if(E=E.tag,C!==null&&C===o)break;E!==5&&E!==26&&E!==27||j===null||(C=j,h?(j=Ti(s,f),j!=null&&g.unshift(Ol(s,j,C))):h||(j=Ti(s,f),j!=null&&g.push(Ol(s,j,C)))),s=s.return}g.length!==0&&e.push({event:n,listeners:g})}var mb=/\r\n?/g,gb=/\u0000|\uFFFD/g;function __(e){return(typeof e=="string"?e:""+e).replace(mb,`
`).replace(gb,"")}function v_(e,n){return n=__(n),__(e)===n}function oe(e,n,s,o,h,f){switch(s){case"children":typeof o=="string"?n==="body"||n==="textarea"&&o===""||ot(e,o):(typeof o=="number"||typeof o=="bigint")&&n!=="body"&&ot(e,""+o);break;case"className":Sn(e,"class",o);break;case"tabIndex":Sn(e,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":Sn(e,s,o);break;case"style":ee(e,o,f);break;case"data":if(n!=="object"){Sn(e,"data",o);break}case"src":case"href":if(o===""&&(n!=="a"||s!=="href")){e.removeAttribute(s);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(s);break}o=Gr(""+o),e.setAttribute(s,o);break;case"action":case"formAction":if(typeof o=="function"){e.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(s==="formAction"?(n!=="input"&&oe(e,n,"name",h.name,h,null),oe(e,n,"formEncType",h.formEncType,h,null),oe(e,n,"formMethod",h.formMethod,h,null),oe(e,n,"formTarget",h.formTarget,h,null)):(oe(e,n,"encType",h.encType,h,null),oe(e,n,"method",h.method,h,null),oe(e,n,"target",h.target,h,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(s);break}o=Gr(""+o),e.setAttribute(s,o);break;case"onClick":o!=null&&(e.onclick=jn);break;case"onScroll":o!=null&&kt("scroll",e);break;case"onScrollEnd":o!=null&&kt("scrollend",e);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(a(61));if(s=o.__html,s!=null){if(h.children!=null)throw Error(a(60));e.innerHTML=s}}break;case"multiple":e.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":e.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){e.removeAttribute("xlink:href");break}s=Gr(""+o),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(s,""+o):e.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(s,""):e.removeAttribute(s);break;case"capture":case"download":o===!0?e.setAttribute(s,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(s,o):e.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?e.setAttribute(s,o):e.removeAttribute(s);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?e.removeAttribute(s):e.setAttribute(s,o);break;case"popover":kt("beforetoggle",e),kt("toggle",e),Hr(e,"popover",o);break;case"xlinkActuate":ge(e,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":ge(e,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":ge(e,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":ge(e,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":ge(e,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":ge(e,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":ge(e,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":ge(e,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":ge(e,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":Hr(e,"is",o);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=dn.get(s)||s,Hr(e,s,o))}}function wd(e,n,s,o,h,f){switch(s){case"style":ee(e,o,f);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(a(61));if(s=o.__html,s!=null){if(h.children!=null)throw Error(a(60));e.innerHTML=s}}break;case"children":typeof o=="string"?ot(e,o):(typeof o=="number"||typeof o=="bigint")&&ot(e,""+o);break;case"onScroll":o!=null&&kt("scroll",e);break;case"onScrollEnd":o!=null&&kt("scrollend",e);break;case"onClick":o!=null&&(e.onclick=jn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Xs.hasOwnProperty(s))t:{if(s[0]==="o"&&s[1]==="n"&&(h=s.endsWith("Capture"),n=s.slice(2,h?s.length-7:void 0),f=e[Ne]||null,f=f!=null?f[s]:null,typeof f=="function"&&e.removeEventListener(n,f,h),typeof o=="function")){typeof f!="function"&&f!==null&&(s in e?e[s]=null:e.hasAttribute(s)&&e.removeAttribute(s)),e.addEventListener(n,o,h);break t}s in e?e[s]=o:o===!0?e.setAttribute(s,""):Hr(e,s,o)}}}function sn(e,n,s){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":kt("error",e),kt("load",e);var o=!1,h=!1,f;for(f in s)if(s.hasOwnProperty(f)){var g=s[f];if(g!=null)switch(f){case"src":o=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:oe(e,n,f,g,s,null)}}h&&oe(e,n,"srcSet",s.srcSet,s,null),o&&oe(e,n,"src",s.src,s,null);return;case"input":kt("invalid",e);var E=f=g=h=null,C=null,j=null;for(o in s)if(s.hasOwnProperty(o)){var Y=s[o];if(Y!=null)switch(o){case"name":h=Y;break;case"type":g=Y;break;case"checked":C=Y;break;case"defaultChecked":j=Y;break;case"value":f=Y;break;case"defaultValue":E=Y;break;case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(a(137,n));break;default:oe(e,n,o,Y,s,null)}}Ws(e,f,E,C,j,g,h,!1);return;case"select":kt("invalid",e),o=g=f=null;for(h in s)if(s.hasOwnProperty(h)&&(E=s[h],E!=null))switch(h){case"value":f=E;break;case"defaultValue":g=E;break;case"multiple":o=E;default:oe(e,n,h,E,s,null)}n=f,s=g,e.multiple=!!o,n!=null?w(e,!!o,n,!1):s!=null&&w(e,!!o,s,!0);return;case"textarea":kt("invalid",e),f=h=o=null;for(g in s)if(s.hasOwnProperty(g)&&(E=s[g],E!=null))switch(g){case"value":o=E;break;case"defaultValue":h=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(a(91));break;default:oe(e,n,g,E,s,null)}J(e,o,h,f);return;case"option":for(C in s)if(s.hasOwnProperty(C)&&(o=s[C],o!=null))switch(C){case"selected":e.selected=o&&typeof o!="function"&&typeof o!="symbol";break;default:oe(e,n,C,o,s,null)}return;case"dialog":kt("beforetoggle",e),kt("toggle",e),kt("cancel",e),kt("close",e);break;case"iframe":case"object":kt("load",e);break;case"video":case"audio":for(o=0;o<Ml.length;o++)kt(Ml[o],e);break;case"image":kt("error",e),kt("load",e);break;case"details":kt("toggle",e);break;case"embed":case"source":case"link":kt("error",e),kt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(j in s)if(s.hasOwnProperty(j)&&(o=s[j],o!=null))switch(j){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:oe(e,n,j,o,s,null)}return;default:if(fn(n)){for(Y in s)s.hasOwnProperty(Y)&&(o=s[Y],o!==void 0&&wd(e,n,Y,o,s,void 0));return}}for(E in s)s.hasOwnProperty(E)&&(o=s[E],o!=null&&oe(e,n,E,o,s,null))}function pb(e,n,s,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,g=null,E=null,C=null,j=null,Y=null;for(H in s){var $=s[H];if(s.hasOwnProperty(H)&&$!=null)switch(H){case"checked":break;case"value":break;case"defaultValue":C=$;default:o.hasOwnProperty(H)||oe(e,n,H,null,o,$)}}for(var B in o){var H=o[B];if($=s[B],o.hasOwnProperty(B)&&(H!=null||$!=null))switch(B){case"type":f=H;break;case"name":h=H;break;case"checked":j=H;break;case"defaultChecked":Y=H;break;case"value":g=H;break;case"defaultValue":E=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(a(137,n));break;default:H!==$&&oe(e,n,B,H,o,$)}}ri(e,g,E,C,j,Y,f,h);return;case"select":H=g=E=B=null;for(f in s)if(C=s[f],s.hasOwnProperty(f)&&C!=null)switch(f){case"value":break;case"multiple":H=C;default:o.hasOwnProperty(f)||oe(e,n,f,null,o,C)}for(h in o)if(f=o[h],C=s[h],o.hasOwnProperty(h)&&(f!=null||C!=null))switch(h){case"value":B=f;break;case"defaultValue":E=f;break;case"multiple":g=f;default:f!==C&&oe(e,n,h,f,o,C)}n=E,s=g,o=H,B!=null?w(e,!!s,B,!1):!!o!=!!s&&(n!=null?w(e,!!s,n,!0):w(e,!!s,s?[]:"",!1));return;case"textarea":H=B=null;for(E in s)if(h=s[E],s.hasOwnProperty(E)&&h!=null&&!o.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:oe(e,n,E,null,o,h)}for(g in o)if(h=o[g],f=s[g],o.hasOwnProperty(g)&&(h!=null||f!=null))switch(g){case"value":B=h;break;case"defaultValue":H=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(a(91));break;default:h!==f&&oe(e,n,g,h,o,f)}F(e,B,H);return;case"option":for(var ht in s)if(B=s[ht],s.hasOwnProperty(ht)&&B!=null&&!o.hasOwnProperty(ht))switch(ht){case"selected":e.selected=!1;break;default:oe(e,n,ht,null,o,B)}for(C in o)if(B=o[C],H=s[C],o.hasOwnProperty(C)&&B!==H&&(B!=null||H!=null))switch(C){case"selected":e.selected=B&&typeof B!="function"&&typeof B!="symbol";break;default:oe(e,n,C,B,o,H)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var vt in s)B=s[vt],s.hasOwnProperty(vt)&&B!=null&&!o.hasOwnProperty(vt)&&oe(e,n,vt,null,o,B);for(j in o)if(B=o[j],H=s[j],o.hasOwnProperty(j)&&B!==H&&(B!=null||H!=null))switch(j){case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(a(137,n));break;default:oe(e,n,j,B,o,H)}return;default:if(fn(n)){for(var le in s)B=s[le],s.hasOwnProperty(le)&&B!==void 0&&!o.hasOwnProperty(le)&&wd(e,n,le,void 0,o,B);for(Y in o)B=o[Y],H=s[Y],!o.hasOwnProperty(Y)||B===H||B===void 0&&H===void 0||wd(e,n,Y,B,o,H);return}}for(var U in s)B=s[U],s.hasOwnProperty(U)&&B!=null&&!o.hasOwnProperty(U)&&oe(e,n,U,null,o,B);for($ in o)B=o[$],H=s[$],!o.hasOwnProperty($)||B===H||B==null&&H==null||oe(e,n,$,B,o,H)}function E_(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function yb(){if(typeof performance.getEntriesByType=="function"){for(var e=0,n=0,s=performance.getEntriesByType("resource"),o=0;o<s.length;o++){var h=s[o],f=h.transferSize,g=h.initiatorType,E=h.duration;if(f&&E&&E_(g)){for(g=0,E=h.responseEnd,o+=1;o<s.length;o++){var C=s[o],j=C.startTime;if(j>E)break;var Y=C.transferSize,$=C.initiatorType;Y&&E_($)&&(C=C.responseEnd,g+=Y*(C<E?1:(E-j)/(C-j)))}if(--o,n+=8*(f+g)/(h.duration/1e3),e++,10<e)break}}if(0<e)return n/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Rd=null,Cd=null;function wc(e){return e.nodeType===9?e:e.ownerDocument}function T_(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function b_(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function Id(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Nd=null;function _b(){var e=window.event;return e&&e.type==="popstate"?e===Nd?!1:(Nd=e,!0):(Nd=null,!1)}var S_=typeof setTimeout=="function"?setTimeout:void 0,vb=typeof clearTimeout=="function"?clearTimeout:void 0,A_=typeof Promise=="function"?Promise:void 0,Eb=typeof queueMicrotask=="function"?queueMicrotask:typeof A_<"u"?function(e){return A_.resolve(null).then(e).catch(Tb)}:S_;function Tb(e){setTimeout(function(){throw e})}function ds(e){return e==="head"}function w_(e,n){var s=n,o=0;do{var h=s.nextSibling;if(e.removeChild(s),h&&h.nodeType===8)if(s=h.data,s==="/$"||s==="/&"){if(o===0){e.removeChild(h),wo(n);return}o--}else if(s==="$"||s==="$?"||s==="$~"||s==="$!"||s==="&")o++;else if(s==="html")Vl(e.ownerDocument.documentElement);else if(s==="head"){s=e.ownerDocument.head,Vl(s);for(var f=s.firstChild;f;){var g=f.nextSibling,E=f.nodeName;f[Wn]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&f.rel.toLowerCase()==="stylesheet"||s.removeChild(f),f=g}}else s==="body"&&Vl(e.ownerDocument.body);s=h}while(s);wo(n)}function R_(e,n){var s=e;e=0;do{var o=s.nextSibling;if(s.nodeType===1?n?(s._stashedDisplay=s.style.display,s.style.display="none"):(s.style.display=s._stashedDisplay||"",s.getAttribute("style")===""&&s.removeAttribute("style")):s.nodeType===3&&(n?(s._stashedText=s.nodeValue,s.nodeValue=""):s.nodeValue=s._stashedText||""),o&&o.nodeType===8)if(s=o.data,s==="/$"){if(e===0)break;e--}else s!=="$"&&s!=="$?"&&s!=="$~"&&s!=="$!"||e++;s=o}while(s)}function xd(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var s=n;switch(n=n.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":xd(s),qr(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}e.removeChild(s)}}function bb(e,n,s,o){for(;e.nodeType===1;){var h=s;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!o&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(o){if(!e[Wn])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(f=e.getAttribute("rel"),f==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(f!==h.rel||e.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(f=e.getAttribute("src"),(f!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===f)return e}else return e;if(e=gi(e.nextSibling),e===null)break}return null}function Sb(e,n,s){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!s||(e=gi(e.nextSibling),e===null))return null;return e}function C_(e,n){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=gi(e.nextSibling),e===null))return null;return e}function Dd(e){return e.data==="$?"||e.data==="$~"}function Md(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function Ab(e,n){var s=e.ownerDocument;if(e.data==="$~")e._reactRetry=n;else if(e.data!=="$?"||s.readyState!=="loading")n();else{var o=function(){n(),s.removeEventListener("DOMContentLoaded",o)};s.addEventListener("DOMContentLoaded",o),e._reactRetry=o}}function gi(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return e}var Od=null;function I_(e){e=e.nextSibling;for(var n=0;e;){if(e.nodeType===8){var s=e.data;if(s==="/$"||s==="/&"){if(n===0)return gi(e.nextSibling);n--}else s!=="$"&&s!=="$!"&&s!=="$?"&&s!=="$~"&&s!=="&"||n++}e=e.nextSibling}return null}function N_(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var s=e.data;if(s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"){if(n===0)return e;n--}else s!=="/$"&&s!=="/&"||n++}e=e.previousSibling}return null}function x_(e,n,s){switch(n=wc(s),e){case"html":if(e=n.documentElement,!e)throw Error(a(452));return e;case"head":if(e=n.head,!e)throw Error(a(453));return e;case"body":if(e=n.body,!e)throw Error(a(454));return e;default:throw Error(a(451))}}function Vl(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);qr(e)}var pi=new Map,D_=new Set;function Rc(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var br=rt.d;rt.d={f:wb,r:Rb,D:Cb,C:Ib,L:Nb,m:xb,X:Mb,S:Db,M:Ob};function wb(){var e=br.f(),n=yc();return e||n}function Rb(e){var n=Tn(e);n!==null&&n.tag===5&&n.type==="form"?Kp(n):br.r(e)}var bo=typeof document>"u"?null:document;function M_(e,n,s){var o=bo;if(o&&typeof n=="string"&&n){var h=De(n);h='link[rel="'+e+'"][href="'+h+'"]',typeof s=="string"&&(h+='[crossorigin="'+s+'"]'),D_.has(h)||(D_.add(h),e={rel:e,crossOrigin:s,href:n},o.querySelector(h)===null&&(n=o.createElement("link"),sn(n,"link",e),ve(n),o.head.appendChild(n)))}}function Cb(e){br.D(e),M_("dns-prefetch",e,null)}function Ib(e,n){br.C(e,n),M_("preconnect",e,n)}function Nb(e,n,s){br.L(e,n,s);var o=bo;if(o&&e&&n){var h='link[rel="preload"][as="'+De(n)+'"]';n==="image"&&s&&s.imageSrcSet?(h+='[imagesrcset="'+De(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(h+='[imagesizes="'+De(s.imageSizes)+'"]')):h+='[href="'+De(e)+'"]';var f=h;switch(n){case"style":f=So(e);break;case"script":f=Ao(e)}pi.has(f)||(e=S({rel:"preload",href:n==="image"&&s&&s.imageSrcSet?void 0:e,as:n},s),pi.set(f,e),o.querySelector(h)!==null||n==="style"&&o.querySelector(kl(f))||n==="script"&&o.querySelector(Ul(f))||(n=o.createElement("link"),sn(n,"link",e),ve(n),o.head.appendChild(n)))}}function xb(e,n){br.m(e,n);var s=bo;if(s&&e){var o=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+De(o)+'"][href="'+De(e)+'"]',f=h;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=Ao(e)}if(!pi.has(f)&&(e=S({rel:"modulepreload",href:e},n),pi.set(f,e),s.querySelector(h)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(Ul(f)))return}o=s.createElement("link"),sn(o,"link",e),ve(o),s.head.appendChild(o)}}}function Db(e,n,s){br.S(e,n,s);var o=bo;if(o&&e){var h=ti(o).hoistableStyles,f=So(e);n=n||"default";var g=h.get(f);if(!g){var E={loading:0,preload:null};if(g=o.querySelector(kl(f)))E.loading=5;else{e=S({rel:"stylesheet",href:e,"data-precedence":n},s),(s=pi.get(f))&&Vd(e,s);var C=g=o.createElement("link");ve(C),sn(C,"link",e),C._p=new Promise(function(j,Y){C.onload=j,C.onerror=Y}),C.addEventListener("load",function(){E.loading|=1}),C.addEventListener("error",function(){E.loading|=2}),E.loading|=4,Cc(g,n,o)}g={type:"stylesheet",instance:g,count:1,state:E},h.set(f,g)}}}function Mb(e,n){br.X(e,n);var s=bo;if(s&&e){var o=ti(s).hoistableScripts,h=Ao(e),f=o.get(h);f||(f=s.querySelector(Ul(h)),f||(e=S({src:e,async:!0},n),(n=pi.get(h))&&kd(e,n),f=s.createElement("script"),ve(f),sn(f,"link",e),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function Ob(e,n){br.M(e,n);var s=bo;if(s&&e){var o=ti(s).hoistableScripts,h=Ao(e),f=o.get(h);f||(f=s.querySelector(Ul(h)),f||(e=S({src:e,async:!0,type:"module"},n),(n=pi.get(h))&&kd(e,n),f=s.createElement("script"),ve(f),sn(f,"link",e),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function O_(e,n,s,o){var h=(h=Ct.current)?Rc(h):null;if(!h)throw Error(a(446));switch(e){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(n=So(s.href),s=ti(h).hoistableStyles,o=s.get(n),o||(o={type:"style",instance:null,count:0,state:null},s.set(n,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){e=So(s.href);var f=ti(h).hoistableStyles,g=f.get(e);if(g||(h=h.ownerDocument||h,g={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(e,g),(f=h.querySelector(kl(e)))&&!f._p&&(g.instance=f,g.state.loading=5),pi.has(e)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},pi.set(e,s),f||Vb(h,e,s,g.state))),n&&o===null)throw Error(a(528,""));return g}if(n&&o!==null)throw Error(a(529,""));return null;case"script":return n=s.async,s=s.src,typeof s=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Ao(s),s=ti(h).hoistableScripts,o=s.get(n),o||(o={type:"script",instance:null,count:0,state:null},s.set(n,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,e))}}function So(e){return'href="'+De(e)+'"'}function kl(e){return'link[rel="stylesheet"]['+e+"]"}function V_(e){return S({},e,{"data-precedence":e.precedence,precedence:null})}function Vb(e,n,s,o){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?o.loading=1:(n=e.createElement("link"),o.preload=n,n.addEventListener("load",function(){return o.loading|=1}),n.addEventListener("error",function(){return o.loading|=2}),sn(n,"link",s),ve(n),e.head.appendChild(n))}function Ao(e){return'[src="'+De(e)+'"]'}function Ul(e){return"script[async]"+e}function k_(e,n,s){if(n.count++,n.instance===null)switch(n.type){case"style":var o=e.querySelector('style[data-href~="'+De(s.href)+'"]');if(o)return n.instance=o,ve(o),o;var h=S({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return o=(e.ownerDocument||e).createElement("style"),ve(o),sn(o,"style",h),Cc(o,s.precedence,e),n.instance=o;case"stylesheet":h=So(s.href);var f=e.querySelector(kl(h));if(f)return n.state.loading|=4,n.instance=f,ve(f),f;o=V_(s),(h=pi.get(h))&&Vd(o,h),f=(e.ownerDocument||e).createElement("link"),ve(f);var g=f;return g._p=new Promise(function(E,C){g.onload=E,g.onerror=C}),sn(f,"link",o),n.state.loading|=4,Cc(f,s.precedence,e),n.instance=f;case"script":return f=Ao(s.src),(h=e.querySelector(Ul(f)))?(n.instance=h,ve(h),h):(o=s,(h=pi.get(f))&&(o=S({},s),kd(o,h)),e=e.ownerDocument||e,h=e.createElement("script"),ve(h),sn(h,"link",o),e.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(a(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(o=n.instance,n.state.loading|=4,Cc(o,s.precedence,e));return n.instance}function Cc(e,n,s){for(var o=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=o.length?o[o.length-1]:null,f=h,g=0;g<o.length;g++){var E=o[g];if(E.dataset.precedence===n)f=E;else if(f!==h)break}f?f.parentNode.insertBefore(e,f.nextSibling):(n=s.nodeType===9?s.head:s,n.insertBefore(e,n.firstChild))}function Vd(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function kd(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var Ic=null;function U_(e,n,s){if(Ic===null){var o=new Map,h=Ic=new Map;h.set(s,o)}else h=Ic,o=h.get(s),o||(o=new Map,h.set(s,o));if(o.has(e))return o;for(o.set(e,null),s=s.getElementsByTagName(e),h=0;h<s.length;h++){var f=s[h];if(!(f[Wn]||f[Se]||e==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var g=f.getAttribute(n)||"";g=e+g;var E=o.get(g);E?E.push(f):o.set(g,[f])}}return o}function L_(e,n,s){e=e.ownerDocument||e,e.head.insertBefore(s,n==="title"?e.querySelector("head > title"):null)}function kb(e,n,s){if(s===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return e=n.disabled,typeof n.precedence=="string"&&e==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function P_(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function Ub(e,n,s,o){if(s.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var h=So(o.href),f=n.querySelector(kl(h));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(e.count++,e=Nc.bind(e),n.then(e,e)),s.state.loading|=4,s.instance=f,ve(f);return}f=n.ownerDocument||n,o=V_(o),(h=pi.get(h))&&Vd(o,h),f=f.createElement("link"),ve(f);var g=f;g._p=new Promise(function(E,C){g.onload=E,g.onerror=C}),sn(f,"link",o),s.instance=f}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(s,n),(n=s.state.preload)&&(s.state.loading&3)===0&&(e.count++,s=Nc.bind(e),n.addEventListener("load",s),n.addEventListener("error",s))}}var Ud=0;function Lb(e,n){return e.stylesheets&&e.count===0&&Dc(e,e.stylesheets),0<e.count||0<e.imgCount?function(s){var o=setTimeout(function(){if(e.stylesheets&&Dc(e,e.stylesheets),e.unsuspend){var f=e.unsuspend;e.unsuspend=null,f()}},6e4+n);0<e.imgBytes&&Ud===0&&(Ud=62500*yb());var h=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Dc(e,e.stylesheets),e.unsuspend)){var f=e.unsuspend;e.unsuspend=null,f()}},(e.imgBytes>Ud?50:800)+n);return e.unsuspend=s,function(){e.unsuspend=null,clearTimeout(o),clearTimeout(h)}}:null}function Nc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Dc(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var xc=null;function Dc(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,xc=new Map,n.forEach(Pb,e),xc=null,Nc.call(e))}function Pb(e,n){if(!(n.state.loading&4)){var s=xc.get(e);if(s)var o=s.get(null);else{s=new Map,xc.set(e,s);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var g=h[f];(g.nodeName==="LINK"||g.getAttribute("media")!=="not all")&&(s.set(g.dataset.precedence,g),o=g)}o&&s.set(null,o)}h=n.instance,g=h.getAttribute("data-precedence"),f=s.get(g)||o,f===o&&s.set(null,h),s.set(g,h),this.count++,o=Nc.bind(this),h.addEventListener("load",o),h.addEventListener("error",o),f?f.parentNode.insertBefore(h,f.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),n.state.loading|=4}}var Ll={$$typeof:_t,Provider:null,Consumer:null,_currentValue:dt,_currentValue2:dt,_threadCount:0};function zb(e,n,s,o,h,f,g,E,C){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ln(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ln(0),this.hiddenUpdates=Ln(null),this.identifierPrefix=o,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=g,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=C,this.incompleteTransitions=new Map}function z_(e,n,s,o,h,f,g,E,C,j,Y,$){return e=new zb(e,n,s,g,C,j,Y,$,E),n=1,f===!0&&(n|=24),f=qn(3,null,null,n),e.current=f,f.stateNode=e,n=gf(),n.refCount++,e.pooledCache=n,n.refCount++,f.memoizedState={element:o,isDehydrated:s,cache:n},vf(f),e}function j_(e){return e?(e=to,e):to}function B_(e,n,s,o,h,f){h=j_(h),o.context===null?o.context=h:o.pendingContext=h,o=ns(n),o.payload={element:s},f=f===void 0?null:f,f!==null&&(o.callback=f),s=is(e,o,n),s!==null&&(Mn(s,e,n),gl(s,e,n))}function q_(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var s=e.retryLane;e.retryLane=s!==0&&s<n?s:n}}function Ld(e,n){q_(e,n),(e=e.alternate)&&q_(e,n)}function H_(e){if(e.tag===13||e.tag===31){var n=ca(e,67108864);n!==null&&Mn(n,e,67108864),Ld(e,67108864)}}function F_(e){if(e.tag===13||e.tag===31){var n=Yn();n=Vi(n);var s=ca(e,n);s!==null&&Mn(s,e,n),Ld(e,n)}}var Mc=!0;function jb(e,n,s,o){var h=G.T;G.T=null;var f=rt.p;try{rt.p=2,Pd(e,n,s,o)}finally{rt.p=f,G.T=h}}function Bb(e,n,s,o){var h=G.T;G.T=null;var f=rt.p;try{rt.p=8,Pd(e,n,s,o)}finally{rt.p=f,G.T=h}}function Pd(e,n,s,o){if(Mc){var h=zd(o);if(h===null)Ad(e,n,o,Oc,s),Q_(e,o);else if(Hb(h,e,n,s,o))o.stopPropagation();else if(Q_(e,o),n&4&&-1<qb.indexOf(e)){for(;h!==null;){var f=Tn(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var g=$e(f.pendingLanes);if(g!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;g;){var C=1<<31-_e(g);E.entanglements[1]|=C,g&=~C}Qi(f),(Wt&6)===0&&(gc=Xe()+500,Dl(0))}}break;case 31:case 13:E=ca(f,2),E!==null&&Mn(E,f,2),yc(),Ld(f,2)}if(f=zd(o),f===null&&Ad(e,n,o,Oc,s),f===h)break;h=f}h!==null&&o.stopPropagation()}else Ad(e,n,o,null,s)}}function zd(e){return e=ai(e),jd(e)}var Oc=null;function jd(e){if(Oc=null,e=zn(e),e!==null){var n=c(e);if(n===null)e=null;else{var s=n.tag;if(s===13){if(e=d(n),e!==null)return e;e=null}else if(s===31){if(e=p(n),e!==null)return e;e=null}else if(s===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return Oc=e,null}function G_(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ir()){case Hs:return 2;case Ur:return 8;case cn:case za:return 32;case Di:return 268435456;default:return 32}default:return 32}}var Bd=!1,ms=null,gs=null,ps=null,Pl=new Map,zl=new Map,ys=[],qb="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Q_(e,n){switch(e){case"focusin":case"focusout":ms=null;break;case"dragenter":case"dragleave":gs=null;break;case"mouseover":case"mouseout":ps=null;break;case"pointerover":case"pointerout":Pl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":zl.delete(n.pointerId)}}function jl(e,n,s,o,h,f){return e===null||e.nativeEvent!==f?(e={blockedOn:n,domEventName:s,eventSystemFlags:o,nativeEvent:f,targetContainers:[h]},n!==null&&(n=Tn(n),n!==null&&H_(n)),e):(e.eventSystemFlags|=o,n=e.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),e)}function Hb(e,n,s,o,h){switch(n){case"focusin":return ms=jl(ms,e,n,s,o,h),!0;case"dragenter":return gs=jl(gs,e,n,s,o,h),!0;case"mouseover":return ps=jl(ps,e,n,s,o,h),!0;case"pointerover":var f=h.pointerId;return Pl.set(f,jl(Pl.get(f)||null,e,n,s,o,h)),!0;case"gotpointercapture":return f=h.pointerId,zl.set(f,jl(zl.get(f)||null,e,n,s,o,h)),!0}return!1}function Y_(e){var n=zn(e.target);if(n!==null){var s=c(n);if(s!==null){if(n=s.tag,n===13){if(n=d(s),n!==null){e.blockedOn=n,Rn(e.priority,function(){F_(s)});return}}else if(n===31){if(n=p(s),n!==null){e.blockedOn=n,Rn(e.priority,function(){F_(s)});return}}else if(n===3&&s.stateNode.current.memoizedState.isDehydrated){e.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Vc(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var s=zd(e.nativeEvent);if(s===null){s=e.nativeEvent;var o=new s.constructor(s.type,s);Wo=o,s.target.dispatchEvent(o),Wo=null}else return n=Tn(s),n!==null&&H_(n),e.blockedOn=s,!1;n.shift()}return!0}function K_(e,n,s){Vc(e)&&s.delete(n)}function Fb(){Bd=!1,ms!==null&&Vc(ms)&&(ms=null),gs!==null&&Vc(gs)&&(gs=null),ps!==null&&Vc(ps)&&(ps=null),Pl.forEach(K_),zl.forEach(K_)}function kc(e,n){e.blockedOn===n&&(e.blockedOn=null,Bd||(Bd=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,Fb)))}var Uc=null;function X_(e){Uc!==e&&(Uc=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Uc===e&&(Uc=null);for(var n=0;n<e.length;n+=3){var s=e[n],o=e[n+1],h=e[n+2];if(typeof o!="function"){if(jd(o||s)===null)continue;break}var f=Tn(s);f!==null&&(e.splice(n,3),n-=3,zf(f,{pending:!0,data:h,method:s.method,action:o},o,h))}}))}function wo(e){function n(C){return kc(C,e)}ms!==null&&kc(ms,e),gs!==null&&kc(gs,e),ps!==null&&kc(ps,e),Pl.forEach(n),zl.forEach(n);for(var s=0;s<ys.length;s++){var o=ys[s];o.blockedOn===e&&(o.blockedOn=null)}for(;0<ys.length&&(s=ys[0],s.blockedOn===null);)Y_(s),s.blockedOn===null&&ys.shift();if(s=(e.ownerDocument||e).$$reactFormReplay,s!=null)for(o=0;o<s.length;o+=3){var h=s[o],f=s[o+1],g=h[Ne]||null;if(typeof f=="function")g||X_(s);else if(g){var E=null;if(f&&f.hasAttribute("formAction")){if(h=f,g=f[Ne]||null)E=g.formAction;else if(jd(h)!==null)continue}else E=g.action;typeof E=="function"?s[o+1]=E:(s.splice(o,3),o-=3),X_(s)}}}function $_(){function e(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(g){return h=g})},focusReset:"manual",scroll:"manual"})}function n(){h!==null&&(h(),h=null),o||setTimeout(s,20)}function s(){if(!o&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,h=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(s,100),function(){o=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),h!==null&&(h(),h=null)}}}function qd(e){this._internalRoot=e}Lc.prototype.render=qd.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(a(409));var s=n.current,o=Yn();B_(s,o,e,n,null,null)},Lc.prototype.unmount=qd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;B_(e.current,2,null,e,null,null),yc(),n[Zn]=null}};function Lc(e){this._internalRoot=e}Lc.prototype.unstable_scheduleHydration=function(e){if(e){var n=Qs();e={blockedOn:null,target:e,priority:n};for(var s=0;s<ys.length&&n!==0&&n<ys[s].priority;s++);ys.splice(s,0,e),s===0&&Y_(e)}};var J_=t.version;if(J_!=="19.2.0")throw Error(a(527,J_,"19.2.0"));rt.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(a(188)):(e=Object.keys(e).join(","),Error(a(268,e)));return e=_(n),e=e!==null?b(e):null,e=e===null?null:e.stateNode,e};var Gb={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:G,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Pc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Pc.isDisabled&&Pc.supportsFiber)try{vn=Pc.inject(Gb),Qe=Pc}catch{}}return ql.createRoot=function(e,n){if(!l(e))throw Error(a(299));var s=!1,o="",h=ry,f=sy,g=ay;return n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(g=n.onRecoverableError)),n=z_(e,1,!1,null,null,s,o,null,h,f,g,$_),e[Zn]=n.current,Sd(e),new qd(n)},ql.hydrateRoot=function(e,n,s){if(!l(e))throw Error(a(299));var o=!1,h="",f=ry,g=sy,E=ay,C=null;return s!=null&&(s.unstable_strictMode===!0&&(o=!0),s.identifierPrefix!==void 0&&(h=s.identifierPrefix),s.onUncaughtError!==void 0&&(f=s.onUncaughtError),s.onCaughtError!==void 0&&(g=s.onCaughtError),s.onRecoverableError!==void 0&&(E=s.onRecoverableError),s.formState!==void 0&&(C=s.formState)),n=z_(e,1,!0,n,s??null,o,h,C,f,g,E,$_),n.context=j_(null),s=n.current,o=Yn(),o=Vi(o),h=ns(o),h.callback=null,is(s,h,o),s=o,n.current.lanes=s,rr(n,s),Qi(n),e[Zn]=n.current,Sd(e),new Lc(n)},ql.version="19.2.0",ql}var o0;function nS(){if(o0)return Gd.exports;o0=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),Gd.exports=eS(),Gd.exports}var iS=nS();const rS=Qv(iS),sS=()=>{};var l0={};const Yv=function(r){const t=[];let i=0;for(let a=0;a<r.length;a++){let l=r.charCodeAt(a);l<128?t[i++]=l:l<2048?(t[i++]=l>>6|192,t[i++]=l&63|128):(l&64512)===55296&&a+1<r.length&&(r.charCodeAt(a+1)&64512)===56320?(l=65536+((l&1023)<<10)+(r.charCodeAt(++a)&1023),t[i++]=l>>18|240,t[i++]=l>>12&63|128,t[i++]=l>>6&63|128,t[i++]=l&63|128):(t[i++]=l>>12|224,t[i++]=l>>6&63|128,t[i++]=l&63|128)}return t},aS=function(r){const t=[];let i=0,a=0;for(;i<r.length;){const l=r[i++];if(l<128)t[a++]=String.fromCharCode(l);else if(l>191&&l<224){const c=r[i++];t[a++]=String.fromCharCode((l&31)<<6|c&63)}else if(l>239&&l<365){const c=r[i++],d=r[i++],p=r[i++],y=((l&7)<<18|(c&63)<<12|(d&63)<<6|p&63)-65536;t[a++]=String.fromCharCode(55296+(y>>10)),t[a++]=String.fromCharCode(56320+(y&1023))}else{const c=r[i++],d=r[i++];t[a++]=String.fromCharCode((l&15)<<12|(c&63)<<6|d&63)}}return t.join("")},Kv={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,t){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let l=0;l<r.length;l+=3){const c=r[l],d=l+1<r.length,p=d?r[l+1]:0,y=l+2<r.length,_=y?r[l+2]:0,b=c>>2,S=(c&3)<<4|p>>4;let V=(p&15)<<2|_>>6,Q=_&63;y||(Q=64,d||(V=64)),a.push(i[b],i[S],i[V],i[Q])}return a.join("")},encodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(r):this.encodeByteArray(Yv(r),t)},decodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(r):aS(this.decodeStringToByteArray(r,t))},decodeStringToByteArray(r,t){this.init_();const i=t?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let l=0;l<r.length;){const c=i[r.charAt(l++)],p=l<r.length?i[r.charAt(l)]:0;++l;const _=l<r.length?i[r.charAt(l)]:64;++l;const S=l<r.length?i[r.charAt(l)]:64;if(++l,c==null||p==null||_==null||S==null)throw new oS;const V=c<<2|p>>4;if(a.push(V),_!==64){const Q=p<<4&240|_>>2;if(a.push(Q),S!==64){const tt=_<<6&192|S;a.push(tt)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class oS extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const lS=function(r){const t=Yv(r);return Kv.encodeByteArray(t,!0)},ah=function(r){return lS(r).replace(/\./g,"")},Xv=function(r){try{return Kv.decodeString(r,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function uS(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const cS=()=>uS().__FIREBASE_DEFAULTS__,hS=()=>{if(typeof process>"u"||typeof l0>"u")return;const r=l0.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},fS=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=r&&Xv(r[1]);return t&&JSON.parse(t)},Ih=()=>{try{return sS()||cS()||hS()||fS()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},$v=r=>Ih()?.emulatorHosts?.[r],dS=r=>{const t=$v(r);if(!t)return;const i=t.lastIndexOf(":");if(i<=0||i+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const a=parseInt(t.substring(i+1),10);return t[0]==="["?[t.substring(1,i-1),a]:[t.substring(0,i),a]},Jv=()=>Ih()?.config,Zv=r=>Ih()?.[`_${r}`];class mS{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}wrapCallback(t){return(i,a)=>{i?this.reject(i):this.resolve(a),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(i):t(i,a))}}}function Go(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Wv(r){return(await fetch(r,{credentials:"include"})).ok}function gS(r,t){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},a=t||"demo-project",l=r.iat||0,c=r.sub||r.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${a}`,aud:a,iat:l,exp:l+3600,auth_time:l,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...r};return[ah(JSON.stringify(i)),ah(JSON.stringify(d)),""].join(".")}const Xl={};function pS(){const r={prod:[],emulator:[]};for(const t of Object.keys(Xl))Xl[t]?r.emulator.push(t):r.prod.push(t);return r}function yS(r){let t=document.getElementById(r),i=!1;return t||(t=document.createElement("div"),t.setAttribute("id",r),i=!0),{created:i,element:t}}let u0=!1;function t1(r,t){if(typeof window>"u"||typeof document>"u"||!Go(window.location.host)||Xl[r]===t||Xl[r]||u0)return;Xl[r]=t;function i(V){return`__firebase__banner__${V}`}const a="__firebase__banner",c=pS().prod.length>0;function d(){const V=document.getElementById(a);V&&V.remove()}function p(V){V.style.display="flex",V.style.background="#7faaf0",V.style.position="fixed",V.style.bottom="5px",V.style.left="5px",V.style.padding=".5em",V.style.borderRadius="5px",V.style.alignItems="center"}function y(V,Q){V.setAttribute("width","24"),V.setAttribute("id",Q),V.setAttribute("height","24"),V.setAttribute("viewBox","0 0 24 24"),V.setAttribute("fill","none"),V.style.marginLeft="-6px"}function _(){const V=document.createElement("span");return V.style.cursor="pointer",V.style.marginLeft="16px",V.style.fontSize="24px",V.innerHTML=" &times;",V.onclick=()=>{u0=!0,d()},V}function b(V,Q){V.setAttribute("id",Q),V.innerText="Learn more",V.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",V.setAttribute("target","__blank"),V.style.paddingLeft="5px",V.style.textDecoration="underline"}function S(){const V=yS(a),Q=i("text"),tt=document.getElementById(Q)||document.createElement("span"),nt=i("learnmore"),et=document.getElementById(nt)||document.createElement("a"),yt=i("preprendIcon"),At=document.getElementById(yt)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(V.created){const _t=V.element;p(_t),b(et,nt);const Ot=_();y(At,yt),_t.append(At,tt,et,Ot),document.body.appendChild(_t)}c?(tt.innerText="Preview backend disconnected.",At.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(At.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,tt.innerText="Preview backend running in this workspace."),tt.setAttribute("id",Q)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",S):S()}function _n(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function _S(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(_n())}function vS(){const r=Ih()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function ES(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function TS(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function bS(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function SS(){const r=_n();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function AS(){return!vS()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function wS(){try{return typeof indexedDB=="object"}catch{return!1}}function RS(){return new Promise((r,t)=>{try{let i=!0;const a="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(a);l.onsuccess=()=>{l.result.close(),i||self.indexedDB.deleteDatabase(a),r(!0)},l.onupgradeneeded=()=>{i=!1},l.onerror=()=>{t(l.error?.message||"")}}catch(i){t(i)}})}const CS="FirebaseError";class Or extends Error{constructor(t,i,a){super(i),this.code=t,this.customData=a,this.name=CS,Object.setPrototypeOf(this,Or.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,hu.prototype.create)}}class hu{constructor(t,i,a){this.service=t,this.serviceName=i,this.errors=a}create(t,...i){const a=i[0]||{},l=`${this.service}/${t}`,c=this.errors[t],d=c?IS(c,a):"Error",p=`${this.serviceName}: ${d} (${l}).`;return new Or(l,p,a)}}function IS(r,t){return r.replace(NS,(i,a)=>{const l=t[a];return l!=null?String(l):`<${a}?>`})}const NS=/\{\$([^}]+)}/g;function xS(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}function Da(r,t){if(r===t)return!0;const i=Object.keys(r),a=Object.keys(t);for(const l of i){if(!a.includes(l))return!1;const c=r[l],d=t[l];if(c0(c)&&c0(d)){if(!Da(c,d))return!1}else if(c!==d)return!1}for(const l of a)if(!i.includes(l))return!1;return!0}function c0(r){return r!==null&&typeof r=="object"}function fu(r){const t=[];for(const[i,a]of Object.entries(r))Array.isArray(a)?a.forEach(l=>{t.push(encodeURIComponent(i)+"="+encodeURIComponent(l))}):t.push(encodeURIComponent(i)+"="+encodeURIComponent(a));return t.length?"&"+t.join("&"):""}function DS(r,t){const i=new MS(r,t);return i.subscribe.bind(i)}class MS{constructor(t,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{t(this)}).catch(a=>{this.error(a)})}next(t){this.forEachObserver(i=>{i.next(t)})}error(t){this.forEachObserver(i=>{i.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,i,a){let l;if(t===void 0&&i===void 0&&a===void 0)throw new Error("Missing Observer.");OS(t,["next","error","complete"])?l=t:l={next:t,error:i,complete:a},l.next===void 0&&(l.next=Xd),l.error===void 0&&(l.error=Xd),l.complete===void 0&&(l.complete=Xd);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),c}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,t)}sendOne(t,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{i(this.observers[t])}catch(a){typeof console<"u"&&console.error&&console.error(a)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function OS(r,t){if(typeof r!="object"||r===null)return!1;for(const i of t)if(i in r&&typeof r[i]=="function")return!0;return!1}function Xd(){}function ln(r){return r&&r._delegate?r._delegate:r}class Ma{constructor(t,i,a){this.name=t,this.instanceFactory=i,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const Sa="[DEFAULT]";class VS{constructor(t,i){this.name=t,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const i=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(i)){const a=new mS;if(this.instancesDeferred.set(i,a),this.isInitialized(i)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:i});l&&a.resolve(l)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(t){const i=this.normalizeInstanceIdentifier(t?.identifier),a=t?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(l){if(a)return null;throw l}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(US(t))try{this.getOrInitializeService({instanceIdentifier:Sa})}catch{}for(const[i,a]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:l});a.resolve(c)}catch{}}}}clearInstance(t=Sa){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...t.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Sa){return this.instances.has(t)}getOptions(t=Sa){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:i={}}=t,a=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:a,options:i});for(const[c,d]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(c);a===p&&d.resolve(l)}return l}onInit(t,i){const a=this.normalizeInstanceIdentifier(i),l=this.onInitCallbacks.get(a)??new Set;l.add(t),this.onInitCallbacks.set(a,l);const c=this.instances.get(a);return c&&t(c,a),()=>{l.delete(t)}}invokeOnInitCallbacks(t,i){const a=this.onInitCallbacks.get(i);if(a)for(const l of a)try{l(t,i)}catch{}}getOrInitializeService({instanceIdentifier:t,options:i={}}){let a=this.instances.get(t);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:kS(t),options:i}),this.instances.set(t,a),this.instancesOptions.set(t,i),this.invokeOnInitCallbacks(a,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,a)}catch{}return a||null}normalizeInstanceIdentifier(t=Sa){return this.component?this.component.multipleInstances?t:Sa:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function kS(r){return r===Sa?void 0:r}function US(r){return r.instantiationMode==="EAGER"}class LS{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const i=this.getProvider(t.name);if(i.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);i.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const i=new VS(t,this);return this.providers.set(t,i),i}getProviders(){return Array.from(this.providers.values())}}var Bt;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Bt||(Bt={}));const PS={debug:Bt.DEBUG,verbose:Bt.VERBOSE,info:Bt.INFO,warn:Bt.WARN,error:Bt.ERROR,silent:Bt.SILENT},zS=Bt.INFO,jS={[Bt.DEBUG]:"log",[Bt.VERBOSE]:"log",[Bt.INFO]:"info",[Bt.WARN]:"warn",[Bt.ERROR]:"error"},BS=(r,t,...i)=>{if(t<r.logLevel)return;const a=new Date().toISOString(),l=jS[t];if(l)console[l](`[${a}]  ${r.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class qm{constructor(t){this.name=t,this._logLevel=zS,this._logHandler=BS,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Bt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?PS[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Bt.DEBUG,...t),this._logHandler(this,Bt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Bt.VERBOSE,...t),this._logHandler(this,Bt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Bt.INFO,...t),this._logHandler(this,Bt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Bt.WARN,...t),this._logHandler(this,Bt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Bt.ERROR,...t),this._logHandler(this,Bt.ERROR,...t)}}const qS=(r,t)=>t.some(i=>r instanceof i);let h0,f0;function HS(){return h0||(h0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function FS(){return f0||(f0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const e1=new WeakMap,fm=new WeakMap,n1=new WeakMap,$d=new WeakMap,Hm=new WeakMap;function GS(r){const t=new Promise((i,a)=>{const l=()=>{r.removeEventListener("success",c),r.removeEventListener("error",d)},c=()=>{i(ws(r.result)),l()},d=()=>{a(r.error),l()};r.addEventListener("success",c),r.addEventListener("error",d)});return t.then(i=>{i instanceof IDBCursor&&e1.set(i,r)}).catch(()=>{}),Hm.set(t,r),t}function QS(r){if(fm.has(r))return;const t=new Promise((i,a)=>{const l=()=>{r.removeEventListener("complete",c),r.removeEventListener("error",d),r.removeEventListener("abort",d)},c=()=>{i(),l()},d=()=>{a(r.error||new DOMException("AbortError","AbortError")),l()};r.addEventListener("complete",c),r.addEventListener("error",d),r.addEventListener("abort",d)});fm.set(r,t)}let dm={get(r,t,i){if(r instanceof IDBTransaction){if(t==="done")return fm.get(r);if(t==="objectStoreNames")return r.objectStoreNames||n1.get(r);if(t==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return ws(r[t])},set(r,t,i){return r[t]=i,!0},has(r,t){return r instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in r}};function YS(r){dm=r(dm)}function KS(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...i){const a=r.call(Jd(this),t,...i);return n1.set(a,t.sort?t.sort():[t]),ws(a)}:FS().includes(r)?function(...t){return r.apply(Jd(this),t),ws(e1.get(this))}:function(...t){return ws(r.apply(Jd(this),t))}}function XS(r){return typeof r=="function"?KS(r):(r instanceof IDBTransaction&&QS(r),qS(r,HS())?new Proxy(r,dm):r)}function ws(r){if(r instanceof IDBRequest)return GS(r);if($d.has(r))return $d.get(r);const t=XS(r);return t!==r&&($d.set(r,t),Hm.set(t,r)),t}const Jd=r=>Hm.get(r);function $S(r,t,{blocked:i,upgrade:a,blocking:l,terminated:c}={}){const d=indexedDB.open(r,t),p=ws(d);return a&&d.addEventListener("upgradeneeded",y=>{a(ws(d.result),y.oldVersion,y.newVersion,ws(d.transaction),y)}),i&&d.addEventListener("blocked",y=>i(y.oldVersion,y.newVersion,y)),p.then(y=>{c&&y.addEventListener("close",()=>c()),l&&y.addEventListener("versionchange",_=>l(_.oldVersion,_.newVersion,_))}).catch(()=>{}),p}const JS=["get","getKey","getAll","getAllKeys","count"],ZS=["put","add","delete","clear"],Zd=new Map;function d0(r,t){if(!(r instanceof IDBDatabase&&!(t in r)&&typeof t=="string"))return;if(Zd.get(t))return Zd.get(t);const i=t.replace(/FromIndex$/,""),a=t!==i,l=ZS.includes(i);if(!(i in(a?IDBIndex:IDBObjectStore).prototype)||!(l||JS.includes(i)))return;const c=async function(d,...p){const y=this.transaction(d,l?"readwrite":"readonly");let _=y.store;return a&&(_=_.index(p.shift())),(await Promise.all([_[i](...p),l&&y.done]))[0]};return Zd.set(t,c),c}YS(r=>({...r,get:(t,i,a)=>d0(t,i)||r.get(t,i,a),has:(t,i)=>!!d0(t,i)||r.has(t,i)}));class WS{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(tA(i)){const a=i.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(i=>i).join(" ")}}function tA(r){return r.getComponent()?.type==="VERSION"}const mm="@firebase/app",m0="0.14.6";const Cr=new qm("@firebase/app"),eA="@firebase/app-compat",nA="@firebase/analytics-compat",iA="@firebase/analytics",rA="@firebase/app-check-compat",sA="@firebase/app-check",aA="@firebase/auth",oA="@firebase/auth-compat",lA="@firebase/database",uA="@firebase/data-connect",cA="@firebase/database-compat",hA="@firebase/functions",fA="@firebase/functions-compat",dA="@firebase/installations",mA="@firebase/installations-compat",gA="@firebase/messaging",pA="@firebase/messaging-compat",yA="@firebase/performance",_A="@firebase/performance-compat",vA="@firebase/remote-config",EA="@firebase/remote-config-compat",TA="@firebase/storage",bA="@firebase/storage-compat",SA="@firebase/firestore",AA="@firebase/ai",wA="@firebase/firestore-compat",RA="firebase",CA="12.6.0";const gm="[DEFAULT]",IA={[mm]:"fire-core",[eA]:"fire-core-compat",[iA]:"fire-analytics",[nA]:"fire-analytics-compat",[sA]:"fire-app-check",[rA]:"fire-app-check-compat",[aA]:"fire-auth",[oA]:"fire-auth-compat",[lA]:"fire-rtdb",[uA]:"fire-data-connect",[cA]:"fire-rtdb-compat",[hA]:"fire-fn",[fA]:"fire-fn-compat",[dA]:"fire-iid",[mA]:"fire-iid-compat",[gA]:"fire-fcm",[pA]:"fire-fcm-compat",[yA]:"fire-perf",[_A]:"fire-perf-compat",[vA]:"fire-rc",[EA]:"fire-rc-compat",[TA]:"fire-gcs",[bA]:"fire-gcs-compat",[SA]:"fire-fst",[wA]:"fire-fst-compat",[AA]:"fire-vertex","fire-js":"fire-js",[RA]:"fire-js-all"};const oh=new Map,NA=new Map,pm=new Map;function g0(r,t){try{r.container.addComponent(t)}catch(i){Cr.debug(`Component ${t.name} failed to register with FirebaseApp ${r.name}`,i)}}function Po(r){const t=r.name;if(pm.has(t))return Cr.debug(`There were multiple attempts to register component ${t}.`),!1;pm.set(t,r);for(const i of oh.values())g0(i,r);for(const i of NA.values())g0(i,r);return!0}function Fm(r,t){const i=r.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),r.container.getProvider(t)}function yi(r){return r==null?!1:r.settings!==void 0}const xA={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Rs=new hu("app","Firebase",xA);class DA{constructor(t,i,a){this._isDeleted=!1,this._options={...t},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new Ma("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Rs.create("app-deleted",{appName:this._name})}}const Qo=CA;function i1(r,t={}){let i=r;typeof t!="object"&&(t={name:t});const a={name:gm,automaticDataCollectionEnabled:!0,...t},l=a.name;if(typeof l!="string"||!l)throw Rs.create("bad-app-name",{appName:String(l)});if(i||(i=Jv()),!i)throw Rs.create("no-options");const c=oh.get(l);if(c){if(Da(i,c.options)&&Da(a,c.config))return c;throw Rs.create("duplicate-app",{appName:l})}const d=new LS(l);for(const y of pm.values())d.addComponent(y);const p=new DA(i,a,d);return oh.set(l,p),p}function r1(r=gm){const t=oh.get(r);if(!t&&r===gm&&Jv())return i1();if(!t)throw Rs.create("no-app",{appName:r});return t}function Cs(r,t,i){let a=IA[r]??r;i&&(a+=`-${i}`);const l=a.match(/\s|\//),c=t.match(/\s|\//);if(l||c){const d=[`Unable to register library "${a}" with version "${t}":`];l&&d.push(`library name "${a}" contains illegal characters (whitespace or "/")`),l&&c&&d.push("and"),c&&d.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Cr.warn(d.join(" "));return}Po(new Ma(`${a}-version`,()=>({library:a,version:t}),"VERSION"))}const MA="firebase-heartbeat-database",OA=1,eu="firebase-heartbeat-store";let Wd=null;function s1(){return Wd||(Wd=$S(MA,OA,{upgrade:(r,t)=>{switch(t){case 0:try{r.createObjectStore(eu)}catch(i){console.warn(i)}}}}).catch(r=>{throw Rs.create("idb-open",{originalErrorMessage:r.message})})),Wd}async function VA(r){try{const i=(await s1()).transaction(eu),a=await i.objectStore(eu).get(a1(r));return await i.done,a}catch(t){if(t instanceof Or)Cr.warn(t.message);else{const i=Rs.create("idb-get",{originalErrorMessage:t?.message});Cr.warn(i.message)}}}async function p0(r,t){try{const a=(await s1()).transaction(eu,"readwrite");await a.objectStore(eu).put(t,a1(r)),await a.done}catch(i){if(i instanceof Or)Cr.warn(i.message);else{const a=Rs.create("idb-set",{originalErrorMessage:i?.message});Cr.warn(a.message)}}}function a1(r){return`${r.name}!${r.options.appId}`}const kA=1024,UA=30;class LA{constructor(t){this.container=t,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new zA(i),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=y0();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(l=>l.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>UA){const l=jA(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){Cr.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=y0(),{heartbeatsToSend:i,unsentEntries:a}=PA(this._heartbeatsCache.heartbeats),l=ah(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return Cr.warn(t),""}}}function y0(){return new Date().toISOString().substring(0,10)}function PA(r,t=kA){const i=[];let a=r.slice();for(const l of r){const c=i.find(d=>d.agent===l.agent);if(c){if(c.dates.push(l.date),_0(i)>t){c.dates.pop();break}}else if(i.push({agent:l.agent,dates:[l.date]}),_0(i)>t){i.pop();break}a=a.slice(1)}return{heartbeatsToSend:i,unsentEntries:a}}class zA{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return wS()?RS().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await VA(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const a=await this.read();return p0(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const a=await this.read();return p0(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...t.heartbeats]})}else return}}function _0(r){return ah(JSON.stringify({version:2,heartbeats:r})).length}function jA(r){if(r.length===0)return-1;let t=0,i=r[0].date;for(let a=1;a<r.length;a++)r[a].date<i&&(i=r[a].date,t=a);return t}function BA(r){Po(new Ma("platform-logger",t=>new WS(t),"PRIVATE")),Po(new Ma("heartbeat",t=>new LA(t),"PRIVATE")),Cs(mm,m0,r),Cs(mm,m0,"esm2020"),Cs("fire-js","")}BA("");var qA="firebase",HA="12.6.0";Cs(qA,HA,"app");function o1(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const FA=o1,l1=new hu("auth","Firebase",o1());const lh=new qm("@firebase/auth");function GA(r,...t){lh.logLevel<=Bt.WARN&&lh.warn(`Auth (${Qo}): ${r}`,...t)}function Xc(r,...t){lh.logLevel<=Bt.ERROR&&lh.error(`Auth (${Qo}): ${r}`,...t)}function Ir(r,...t){throw Gm(r,...t)}function Ki(r,...t){return Gm(r,...t)}function u1(r,t,i){const a={...FA(),[t]:i};return new hu("auth","Firebase",a).create(t,{appName:r.name})}function Rr(r){return u1(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Gm(r,...t){if(typeof r!="string"){const i=t[0],a=[...t.slice(1)];return a[0]&&(a[0].appName=r.name),r._errorFactory.create(i,...a)}return l1.create(r,...t)}function bt(r,t,...i){if(!r)throw Gm(t,...i)}function Ar(r){const t="INTERNAL ASSERTION FAILED: "+r;throw Xc(t),new Error(t)}function Nr(r,t){r||Ar(t)}function ym(){return typeof self<"u"&&self.location?.href||""}function QA(){return v0()==="http:"||v0()==="https:"}function v0(){return typeof self<"u"&&self.location?.protocol||null}function YA(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(QA()||TS()||"connection"in navigator)?navigator.onLine:!0}function KA(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}class du{constructor(t,i){this.shortDelay=t,this.longDelay=i,Nr(i>t,"Short delay should be less than long delay!"),this.isMobile=_S()||bS()}get(){return YA()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Qm(r,t){Nr(r.emulator,"Emulator should always be set here");const{url:i}=r.emulator;return t?`${i}${t.startsWith("/")?t.slice(1):t}`:i}class c1{static initialize(t,i,a){this.fetchImpl=t,i&&(this.headersImpl=i),a&&(this.responseImpl=a)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ar("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ar("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ar("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const XA={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const $A=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],JA=new du(3e4,6e4);function mu(r,t){return r.tenantId&&!t.tenantId?{...t,tenantId:r.tenantId}:t}async function Yo(r,t,i,a,l={}){return h1(r,l,async()=>{let c={},d={};a&&(t==="GET"?d=a:c={body:JSON.stringify(a)});const p=fu({key:r.config.apiKey,...d}).slice(1),y=await r._getAdditionalHeaders();y["Content-Type"]="application/json",r.languageCode&&(y["X-Firebase-Locale"]=r.languageCode);const _={method:t,headers:y,...c};return ES()||(_.referrerPolicy="no-referrer"),r.emulatorConfig&&Go(r.emulatorConfig.host)&&(_.credentials="include"),c1.fetch()(await f1(r,r.config.apiHost,i,p),_)})}async function h1(r,t,i){r._canInitEmulator=!1;const a={...XA,...t};try{const l=new ZA(r),c=await Promise.race([i(),l.promise]);l.clearNetworkTimeout();const d=await c.json();if("needConfirmation"in d)throw zc(r,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const p=c.ok?d.errorMessage:d.error.message,[y,_]=p.split(" : ");if(y==="FEDERATED_USER_ID_ALREADY_LINKED")throw zc(r,"credential-already-in-use",d);if(y==="EMAIL_EXISTS")throw zc(r,"email-already-in-use",d);if(y==="USER_DISABLED")throw zc(r,"user-disabled",d);const b=a[y]||y.toLowerCase().replace(/[_\s]+/g,"-");if(_)throw u1(r,b,_);Ir(r,b)}}catch(l){if(l instanceof Or)throw l;Ir(r,"network-request-failed",{message:String(l)})}}async function Ym(r,t,i,a,l={}){const c=await Yo(r,t,i,a,l);return"mfaPendingCredential"in c&&Ir(r,"multi-factor-auth-required",{_serverResponse:c}),c}async function f1(r,t,i,a){const l=`${t}${i}?${a}`,c=r,d=c.config.emulator?Qm(r.config,l):`${r.config.apiScheme}://${l}`;return $A.includes(i)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(d).toString():d}class ZA{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((i,a)=>{this.timer=setTimeout(()=>a(Ki(this.auth,"network-request-failed")),JA.get())})}}function zc(r,t,i){const a={appName:r.name};i.email&&(a.email=i.email),i.phoneNumber&&(a.phoneNumber=i.phoneNumber);const l=Ki(r,t,a);return l.customData._tokenResponse=i,l}async function WA(r,t){return Yo(r,"POST","/v1/accounts:delete",t)}async function uh(r,t){return Yo(r,"POST","/v1/accounts:lookup",t)}function $l(r){if(r)try{const t=new Date(Number(r));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function t2(r,t=!1){const i=ln(r),a=await i.getIdToken(t),l=Km(a);bt(l&&l.exp&&l.auth_time&&l.iat,i.auth,"internal-error");const c=typeof l.firebase=="object"?l.firebase:void 0,d=c?.sign_in_provider;return{claims:l,token:a,authTime:$l(tm(l.auth_time)),issuedAtTime:$l(tm(l.iat)),expirationTime:$l(tm(l.exp)),signInProvider:d||null,signInSecondFactor:c?.sign_in_second_factor||null}}function tm(r){return Number(r)*1e3}function Km(r){const[t,i,a]=r.split(".");if(t===void 0||i===void 0||a===void 0)return Xc("JWT malformed, contained fewer than 3 sections"),null;try{const l=Xv(i);return l?JSON.parse(l):(Xc("Failed to decode base64 JWT payload"),null)}catch(l){return Xc("Caught error parsing JWT payload as JSON",l?.toString()),null}}function E0(r){const t=Km(r);return bt(t,"internal-error"),bt(typeof t.exp<"u","internal-error"),bt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}async function nu(r,t,i=!1){if(i)return t;try{return await t}catch(a){throw a instanceof Or&&e2(a)&&r.auth.currentUser===r&&await r.auth.signOut(),a}}function e2({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}class n2{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const a=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,a)}}schedule(t=!1){if(!this.isRunning)return;const i=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class _m{constructor(t,i){this.createdAt=t,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=$l(this.lastLoginAt),this.creationTime=$l(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function ch(r){const t=r.auth,i=await r.getIdToken(),a=await nu(r,uh(t,{idToken:i}));bt(a?.users.length,t,"internal-error");const l=a.users[0];r._notifyReloadListener(l);const c=l.providerUserInfo?.length?d1(l.providerUserInfo):[],d=r2(r.providerData,c),p=r.isAnonymous,y=!(r.email&&l.passwordHash)&&!d?.length,_=p?y:!1,b={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:d,metadata:new _m(l.createdAt,l.lastLoginAt),isAnonymous:_};Object.assign(r,b)}async function i2(r){const t=ln(r);await ch(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function r2(r,t){return[...r.filter(a=>!t.some(l=>l.providerId===a.providerId)),...t]}function d1(r){return r.map(({providerId:t,...i})=>({providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}async function s2(r,t){const i=await h1(r,{},async()=>{const a=fu({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:l,apiKey:c}=r.config,d=await f1(r,l,"/v1/token",`key=${c}`),p=await r._getAdditionalHeaders();p["Content-Type"]="application/x-www-form-urlencoded";const y={method:"POST",headers:p,body:a};return r.emulatorConfig&&Go(r.emulatorConfig.host)&&(y.credentials="include"),c1.fetch()(d,y)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function a2(r,t){return Yo(r,"POST","/v2/accounts:revokeToken",mu(r,t))}class Mo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){bt(t.idToken,"internal-error"),bt(typeof t.idToken<"u","internal-error"),bt(typeof t.refreshToken<"u","internal-error");const i="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):E0(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,i)}updateFromIdToken(t){bt(t.length!==0,"internal-error");const i=E0(t);this.updateTokensAndExpiration(t,null,i)}async getToken(t,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(bt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,i){const{accessToken:a,refreshToken:l,expiresIn:c}=await s2(t,i);this.updateTokensAndExpiration(a,l,Number(c))}updateTokensAndExpiration(t,i,a){this.refreshToken=i||null,this.accessToken=t||null,this.expirationTime=Date.now()+a*1e3}static fromJSON(t,i){const{refreshToken:a,accessToken:l,expirationTime:c}=i,d=new Mo;return a&&(bt(typeof a=="string","internal-error",{appName:t}),d.refreshToken=a),l&&(bt(typeof l=="string","internal-error",{appName:t}),d.accessToken=l),c&&(bt(typeof c=="number","internal-error",{appName:t}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Mo,this.toJSON())}_performRefresh(){return Ar("not implemented")}}function vs(r,t){bt(typeof r=="string"||typeof r>"u","internal-error",{appName:t})}class Ni{constructor({uid:t,auth:i,stsTokenManager:a,...l}){this.providerId="firebase",this.proactiveRefresh=new n2(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new _m(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(t){const i=await nu(this,this.stsTokenManager.getToken(this.auth,t));return bt(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(t){return t2(this,t)}reload(){return i2(this)}_assign(t){this!==t&&(bt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(i=>({...i})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const i=new Ni({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(t){bt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,i=!1){let a=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),a=!0),i&&await ch(this),await this.auth._persistUserIfCurrent(this),a&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(yi(this.auth.app))return Promise.reject(Rr(this.auth));const t=await this.getIdToken();return await nu(this,WA(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,i){const a=i.displayName??void 0,l=i.email??void 0,c=i.phoneNumber??void 0,d=i.photoURL??void 0,p=i.tenantId??void 0,y=i._redirectEventId??void 0,_=i.createdAt??void 0,b=i.lastLoginAt??void 0,{uid:S,emailVerified:V,isAnonymous:Q,providerData:tt,stsTokenManager:nt}=i;bt(S&&nt,t,"internal-error");const et=Mo.fromJSON(this.name,nt);bt(typeof S=="string",t,"internal-error"),vs(a,t.name),vs(l,t.name),bt(typeof V=="boolean",t,"internal-error"),bt(typeof Q=="boolean",t,"internal-error"),vs(c,t.name),vs(d,t.name),vs(p,t.name),vs(y,t.name),vs(_,t.name),vs(b,t.name);const yt=new Ni({uid:S,auth:t,email:l,emailVerified:V,displayName:a,isAnonymous:Q,photoURL:d,phoneNumber:c,tenantId:p,stsTokenManager:et,createdAt:_,lastLoginAt:b});return tt&&Array.isArray(tt)&&(yt.providerData=tt.map(At=>({...At}))),y&&(yt._redirectEventId=y),yt}static async _fromIdTokenResponse(t,i,a=!1){const l=new Mo;l.updateFromServerResponse(i);const c=new Ni({uid:i.localId,auth:t,stsTokenManager:l,isAnonymous:a});return await ch(c),c}static async _fromGetAccountInfoResponse(t,i,a){const l=i.users[0];bt(l.localId!==void 0,"internal-error");const c=l.providerUserInfo!==void 0?d1(l.providerUserInfo):[],d=!(l.email&&l.passwordHash)&&!c?.length,p=new Mo;p.updateFromIdToken(a);const y=new Ni({uid:l.localId,auth:t,stsTokenManager:p,isAnonymous:d}),_={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:c,metadata:new _m(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!c?.length};return Object.assign(y,_),y}}const T0=new Map;function wr(r){Nr(r instanceof Function,"Expected a class definition");let t=T0.get(r);return t?(Nr(t instanceof r,"Instance stored in cache mismatched with class"),t):(t=new r,T0.set(r,t),t)}class m1{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,i){this.storage[t]=i}async _get(t){const i=this.storage[t];return i===void 0?null:i}async _remove(t){delete this.storage[t]}_addListener(t,i){}_removeListener(t,i){}}m1.type="NONE";const b0=m1;function $c(r,t,i){return`firebase:${r}:${t}:${i}`}class Oo{constructor(t,i,a){this.persistence=t,this.auth=i,this.userKey=a;const{config:l,name:c}=this.auth;this.fullUserKey=$c(this.userKey,l.apiKey,c),this.fullPersistenceKey=$c("persistence",l.apiKey,c),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const i=await uh(this.auth,{idToken:t}).catch(()=>{});return i?Ni._fromGetAccountInfoResponse(this.auth,i,t):null}return Ni._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,i,a="authUser"){if(!i.length)return new Oo(wr(b0),t,a);const l=(await Promise.all(i.map(async _=>{if(await _._isAvailable())return _}))).filter(_=>_);let c=l[0]||wr(b0);const d=$c(a,t.config.apiKey,t.name);let p=null;for(const _ of i)try{const b=await _._get(d);if(b){let S;if(typeof b=="string"){const V=await uh(t,{idToken:b}).catch(()=>{});if(!V)break;S=await Ni._fromGetAccountInfoResponse(t,V,b)}else S=Ni._fromJSON(t,b);_!==c&&(p=S),c=_;break}}catch{}const y=l.filter(_=>_._shouldAllowMigration);return!c._shouldAllowMigration||!y.length?new Oo(c,t,a):(c=y[0],p&&await c._set(d,p.toJSON()),await Promise.all(i.map(async _=>{if(_!==c)try{await _._remove(d)}catch{}})),new Oo(c,t,a))}}function S0(r){const t=r.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(_1(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(g1(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(E1(t))return"Blackberry";if(T1(t))return"Webos";if(p1(t))return"Safari";if((t.includes("chrome/")||y1(t))&&!t.includes("edge/"))return"Chrome";if(v1(t))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,a=r.match(i);if(a?.length===2)return a[1]}return"Other"}function g1(r=_n()){return/firefox\//i.test(r)}function p1(r=_n()){const t=r.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function y1(r=_n()){return/crios\//i.test(r)}function _1(r=_n()){return/iemobile/i.test(r)}function v1(r=_n()){return/android/i.test(r)}function E1(r=_n()){return/blackberry/i.test(r)}function T1(r=_n()){return/webos/i.test(r)}function Xm(r=_n()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function o2(r=_n()){return Xm(r)&&!!window.navigator?.standalone}function l2(){return SS()&&document.documentMode===10}function b1(r=_n()){return Xm(r)||v1(r)||T1(r)||E1(r)||/windows phone/i.test(r)||_1(r)}function S1(r,t=[]){let i;switch(r){case"Browser":i=S0(_n());break;case"Worker":i=`${S0(_n())}-${r}`;break;default:i=r}const a=t.length?t.join(","):"FirebaseCore-web";return`${i}/JsCore/${Qo}/${a}`}class u2{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,i){const a=c=>new Promise((d,p)=>{try{const y=t(c);d(y)}catch(y){p(y)}});a.onAbort=i,this.queue.push(a);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const i=[];try{for(const a of this.queue)await a(t),a.onAbort&&i.push(a.onAbort)}catch(a){i.reverse();for(const l of i)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:a?.message})}}}async function c2(r,t={}){return Yo(r,"GET","/v2/passwordPolicy",mu(r,t))}const h2=6;class f2{constructor(t){const i=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??h2,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,i),this.validatePasswordCharacterOptions(t,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(t,i){const a=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;a&&(i.meetsMinPasswordLength=t.length>=a),l&&(i.meetsMaxPasswordLength=t.length<=l)}validatePasswordCharacterOptions(t,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let a;for(let l=0;l<t.length;l++)a=t.charAt(l),this.updatePasswordCharacterOptionsStatuses(i,a>="a"&&a<="z",a>="A"&&a<="Z",a>="0"&&a<="9",this.allowedNonAlphanumericCharacters.includes(a))}updatePasswordCharacterOptionsStatuses(t,i,a,l,c){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=a)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=c))}}class d2{constructor(t,i,a,l){this.app=t,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=a,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new A0(this),this.idTokenSubscription=new A0(this),this.beforeStateQueue=new u2(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=l1,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(t,i){return i&&(this._popupRedirectResolver=wr(i)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Oo.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const i=await uh(this,{idToken:t}),a=await Ni._fromGetAccountInfoResponse(this,i,t);await this.directlySetCurrentUser(a)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(yi(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let a=i,l=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,d=a?._redirectEventId,p=await this.tryRedirectSignIn(t);(!c||c===d)&&p?.user&&(a=p.user,l=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(a)}catch(c){a=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return bt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(t){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(t){try{await ch(t)}catch(i){if(i?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=KA()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(yi(this.app))return Promise.reject(Rr(this));const i=t?ln(t):null;return i&&bt(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(t,i=!1){if(!this._deleted)return t&&bt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return yi(this.app)?Promise.reject(Rr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return yi(this.app)?Promise.reject(Rr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(wr(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await c2(this),i=new f2(t);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new hu("auth","Firebase",t())}onAuthStateChanged(t,i,a){return this.registerStateListener(this.authStateSubscription,t,i,a)}beforeAuthStateChanged(t,i){return this.beforeStateQueue.pushCallback(t,i)}onIdTokenChanged(t,i,a){return this.registerStateListener(this.idTokenSubscription,t,i,a)}authStateReady(){return new Promise((t,i)=>{if(this.currentUser)t();else{const a=this.onAuthStateChanged(()=>{a(),t()},i)}})}async revokeAccessToken(t){if(this.currentUser){const i=await this.currentUser.getIdToken(),a={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:i};this.tenantId!=null&&(a.tenantId=this.tenantId),await a2(this,a)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,i){const a=await this.getOrInitRedirectPersistenceManager(i);return t===null?a.removeCurrentUser():a.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const i=t&&wr(t)||this._popupRedirectResolver;bt(i,this,"argument-error"),this.redirectPersistenceManager=await Oo.create(this,[wr(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,i,a,l){if(this._deleted)return()=>{};const c=typeof i=="function"?i:i.next.bind(i);let d=!1;const p=this._isInitialized?Promise.resolve():this._initializationPromise;if(bt(p,this,"internal-error"),p.then(()=>{d||c(this.currentUser)}),typeof i=="function"){const y=t.addObserver(i,a,l);return()=>{d=!0,y()}}else{const y=t.addObserver(i);return()=>{d=!0,y()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return bt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=S1(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();i&&(t["X-Firebase-Client"]=i);const a=await this._getAppCheckToken();return a&&(t["X-Firebase-AppCheck"]=a),t}async _getAppCheckToken(){if(yi(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&GA(`Error while retrieving App Check token: ${t.error}`),t?.token}}function gu(r){return ln(r)}class A0{constructor(t){this.auth=t,this.observer=null,this.addObserver=DS(i=>this.observer=i)}get next(){return bt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let $m={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function m2(r){$m=r}function g2(r){return $m.loadJS(r)}function p2(){return $m.gapiScript}function y2(r){return`__${r}${Math.floor(Math.random()*1e6)}`}function _2(r,t){const i=Fm(r,"auth");if(i.isInitialized()){const l=i.getImmediate(),c=i.getOptions();if(Da(c,t??{}))return l;Ir(l,"already-initialized")}return i.initialize({options:t})}function v2(r,t){const i=t?.persistence||[],a=(Array.isArray(i)?i:[i]).map(wr);t?.errorMap&&r._updateErrorMap(t.errorMap),r._initializeWithPersistence(a,t?.popupRedirectResolver)}function E2(r,t,i){const a=gu(r);bt(/^https?:\/\//.test(t),a,"invalid-emulator-scheme");const l=!1,c=A1(t),{host:d,port:p}=T2(t),y=p===null?"":`:${p}`,_={url:`${c}//${d}${y}/`},b=Object.freeze({host:d,port:p,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!a._canInitEmulator){bt(a.config.emulator&&a.emulatorConfig,a,"emulator-config-failed"),bt(Da(_,a.config.emulator)&&Da(b,a.emulatorConfig),a,"emulator-config-failed");return}a.config.emulator=_,a.emulatorConfig=b,a.settings.appVerificationDisabledForTesting=!0,Go(d)?(Wv(`${c}//${d}${y}`),t1("Auth",!0)):b2()}function A1(r){const t=r.indexOf(":");return t<0?"":r.substr(0,t+1)}function T2(r){const t=A1(r),i=/(\/\/)?([^?#/]+)/.exec(r.substr(t.length));if(!i)return{host:"",port:null};const a=i[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(a);if(l){const c=l[1];return{host:c,port:w0(a.substr(c.length+1))}}else{const[c,d]=a.split(":");return{host:c,port:w0(d)}}}function w0(r){if(!r)return null;const t=Number(r);return isNaN(t)?null:t}function b2(){function r(){const t=document.createElement("p"),i=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}class w1{constructor(t,i){this.providerId=t,this.signInMethod=i}toJSON(){return Ar("not implemented")}_getIdTokenResponse(t){return Ar("not implemented")}_linkToIdToken(t,i){return Ar("not implemented")}_getReauthenticationResolver(t){return Ar("not implemented")}}async function Vo(r,t){return Ym(r,"POST","/v1/accounts:signInWithIdp",mu(r,t))}const S2="http://localhost";class Oa extends w1{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const i=new Oa(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(i.idToken=t.idToken),t.accessToken&&(i.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(i.nonce=t.nonce),t.pendingToken&&(i.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(i.accessToken=t.oauthToken,i.secret=t.oauthTokenSecret):Ir("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const i=typeof t=="string"?JSON.parse(t):t,{providerId:a,signInMethod:l,...c}=i;if(!a||!l)return null;const d=new Oa(a,l);return d.idToken=c.idToken||void 0,d.accessToken=c.accessToken||void 0,d.secret=c.secret,d.nonce=c.nonce,d.pendingToken=c.pendingToken||null,d}_getIdTokenResponse(t){const i=this.buildRequest();return Vo(t,i)}_linkToIdToken(t,i){const a=this.buildRequest();return a.idToken=i,Vo(t,a)}_getReauthenticationResolver(t){const i=this.buildRequest();return i.autoCreate=!1,Vo(t,i)}buildRequest(){const t={requestUri:S2,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),t.postBody=fu(i)}return t}}class R1{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}class pu extends R1{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}class Es extends pu{constructor(){super("facebook.com")}static credential(t){return Oa._fromParams({providerId:Es.PROVIDER_ID,signInMethod:Es.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Es.credentialFromTaggedObject(t)}static credentialFromError(t){return Es.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Es.credential(t.oauthAccessToken)}catch{return null}}}Es.FACEBOOK_SIGN_IN_METHOD="facebook.com";Es.PROVIDER_ID="facebook.com";class Ts extends pu{constructor(){super("google.com"),this.addScope("profile")}static credential(t,i){return Oa._fromParams({providerId:Ts.PROVIDER_ID,signInMethod:Ts.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:i})}static credentialFromResult(t){return Ts.credentialFromTaggedObject(t)}static credentialFromError(t){return Ts.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:i,oauthAccessToken:a}=t;if(!i&&!a)return null;try{return Ts.credential(i,a)}catch{return null}}}Ts.GOOGLE_SIGN_IN_METHOD="google.com";Ts.PROVIDER_ID="google.com";class bs extends pu{constructor(){super("github.com")}static credential(t){return Oa._fromParams({providerId:bs.PROVIDER_ID,signInMethod:bs.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return bs.credentialFromTaggedObject(t)}static credentialFromError(t){return bs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return bs.credential(t.oauthAccessToken)}catch{return null}}}bs.GITHUB_SIGN_IN_METHOD="github.com";bs.PROVIDER_ID="github.com";class Ss extends pu{constructor(){super("twitter.com")}static credential(t,i){return Oa._fromParams({providerId:Ss.PROVIDER_ID,signInMethod:Ss.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:i})}static credentialFromResult(t){return Ss.credentialFromTaggedObject(t)}static credentialFromError(t){return Ss.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:i,oauthTokenSecret:a}=t;if(!i||!a)return null;try{return Ss.credential(i,a)}catch{return null}}}Ss.TWITTER_SIGN_IN_METHOD="twitter.com";Ss.PROVIDER_ID="twitter.com";async function A2(r,t){return Ym(r,"POST","/v1/accounts:signUp",mu(r,t))}class xr{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,i,a,l=!1){const c=await Ni._fromIdTokenResponse(t,a,l),d=R0(a);return new xr({user:c,providerId:d,_tokenResponse:a,operationType:i})}static async _forOperation(t,i,a){await t._updateTokensIfNecessary(a,!0);const l=R0(a);return new xr({user:t,providerId:l,_tokenResponse:a,operationType:i})}}function R0(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}async function w2(r){if(yi(r.app))return Promise.reject(Rr(r));const t=gu(r);if(await t._initializationPromise,t.currentUser?.isAnonymous)return new xr({user:t.currentUser,providerId:null,operationType:"signIn"});const i=await A2(t,{returnSecureToken:!0}),a=await xr._fromIdTokenResponse(t,"signIn",i,!0);return await t._updateCurrentUser(a.user),a}class hh extends Or{constructor(t,i,a,l){super(i.code,i.message),this.operationType=a,this.user=l,Object.setPrototypeOf(this,hh.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:a}}static _fromErrorAndOperation(t,i,a,l){return new hh(t,i,a,l)}}function C1(r,t,i,a){return(t==="reauthenticate"?i._getReauthenticationResolver(r):i._getIdTokenResponse(r)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?hh._fromErrorAndOperation(r,c,t,a):c})}async function R2(r,t,i=!1){const a=await nu(r,t._linkToIdToken(r.auth,await r.getIdToken()),i);return xr._forOperation(r,"link",a)}async function C2(r,t,i=!1){const{auth:a}=r;if(yi(a.app))return Promise.reject(Rr(a));const l="reauthenticate";try{const c=await nu(r,C1(a,l,t,r),i);bt(c.idToken,a,"internal-error");const d=Km(c.idToken);bt(d,a,"internal-error");const{sub:p}=d;return bt(r.uid===p,a,"user-mismatch"),xr._forOperation(r,l,c)}catch(c){throw c?.code==="auth/user-not-found"&&Ir(a,"user-mismatch"),c}}async function I2(r,t,i=!1){if(yi(r.app))return Promise.reject(Rr(r));const a="signIn",l=await C1(r,a,t),c=await xr._fromIdTokenResponse(r,a,l);return i||await r._updateCurrentUser(c.user),c}async function N2(r,t){return Ym(r,"POST","/v1/accounts:signInWithCustomToken",mu(r,t))}async function x2(r,t){if(yi(r.app))return Promise.reject(Rr(r));const i=gu(r),a=await N2(i,{token:t,returnSecureToken:!0}),l=await xr._fromIdTokenResponse(i,"signIn",a);return await i._updateCurrentUser(l.user),l}function D2(r,t,i,a){return ln(r).onIdTokenChanged(t,i,a)}function M2(r,t,i){return ln(r).beforeAuthStateChanged(t,i)}function O2(r,t,i,a){return ln(r).onAuthStateChanged(t,i,a)}const fh="__sak";class I1{constructor(t,i){this.storageRetriever=t,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(fh,"1"),this.storage.removeItem(fh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,i){return this.storage.setItem(t,JSON.stringify(i)),Promise.resolve()}_get(t){const i=this.storage.getItem(t);return Promise.resolve(i?JSON.parse(i):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}const V2=1e3,k2=10;class N1 extends I1{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,i)=>this.onStorageEvent(t,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=b1(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const i of Object.keys(this.listeners)){const a=this.storage.getItem(i),l=this.localCache[i];a!==l&&t(i,l,a)}}onStorageEvent(t,i=!1){if(!t.key){this.forAllChangedKeys((d,p,y)=>{this.notifyListeners(d,y)});return}const a=t.key;i?this.detachListener():this.stopPolling();const l=()=>{const d=this.storage.getItem(a);!i&&this.localCache[a]===d||this.notifyListeners(a,d)},c=this.storage.getItem(a);l2()&&c!==t.newValue&&t.newValue!==t.oldValue?setTimeout(l,k2):l()}notifyListeners(t,i){this.localCache[t]=i;const a=this.listeners[t];if(a)for(const l of Array.from(a))l(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,i,a)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:i,newValue:a}),!0)})},V2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,i){await super._set(t,i),this.localCache[t]=JSON.stringify(i)}async _get(t){const i=await super._get(t);return this.localCache[t]=JSON.stringify(i),i}async _remove(t){await super._remove(t),delete this.localCache[t]}}N1.type="LOCAL";const U2=N1;class x1 extends I1{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,i){}_removeListener(t,i){}}x1.type="SESSION";const D1=x1;function L2(r){return Promise.all(r.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(i){return{fulfilled:!1,reason:i}}}))}class Nh{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const i=this.receivers.find(l=>l.isListeningto(t));if(i)return i;const a=new Nh(t);return this.receivers.push(a),a}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const i=t,{eventId:a,eventType:l,data:c}=i.data,d=this.handlersMap[l];if(!d?.size)return;i.ports[0].postMessage({status:"ack",eventId:a,eventType:l});const p=Array.from(d).map(async _=>_(i.origin,c)),y=await L2(p);i.ports[0].postMessage({status:"done",eventId:a,eventType:l,response:y})}_subscribe(t,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(i)}_unsubscribe(t,i){this.handlersMap[t]&&i&&this.handlersMap[t].delete(i),(!i||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Nh.receivers=[];function Jm(r="",t=10){let i="";for(let a=0;a<t;a++)i+=Math.floor(Math.random()*10);return r+i}class P2{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,i,a=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let c,d;return new Promise((p,y)=>{const _=Jm("",20);l.port1.start();const b=setTimeout(()=>{y(new Error("unsupported_event"))},a);d={messageChannel:l,onMessage(S){const V=S;if(V.data.eventId===_)switch(V.data.status){case"ack":clearTimeout(b),c=setTimeout(()=>{y(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),p(V.data.response);break;default:clearTimeout(b),clearTimeout(c),y(new Error("invalid_response"));break}}},this.handlers.add(d),l.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:t,eventId:_,data:i},[l.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}function Xi(){return window}function z2(r){Xi().location.href=r}function M1(){return typeof Xi().WorkerGlobalScope<"u"&&typeof Xi().importScripts=="function"}async function j2(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function B2(){return navigator?.serviceWorker?.controller||null}function q2(){return M1()?self:null}const O1="firebaseLocalStorageDb",H2=1,dh="firebaseLocalStorage",V1="fbase_key";class yu{constructor(t){this.request=t}toPromise(){return new Promise((t,i)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function xh(r,t){return r.transaction([dh],t?"readwrite":"readonly").objectStore(dh)}function F2(){const r=indexedDB.deleteDatabase(O1);return new yu(r).toPromise()}function vm(){const r=indexedDB.open(O1,H2);return new Promise((t,i)=>{r.addEventListener("error",()=>{i(r.error)}),r.addEventListener("upgradeneeded",()=>{const a=r.result;try{a.createObjectStore(dh,{keyPath:V1})}catch(l){i(l)}}),r.addEventListener("success",async()=>{const a=r.result;a.objectStoreNames.contains(dh)?t(a):(a.close(),await F2(),t(await vm()))})})}async function C0(r,t,i){const a=xh(r,!0).put({[V1]:t,value:i});return new yu(a).toPromise()}async function G2(r,t){const i=xh(r,!1).get(t),a=await new yu(i).toPromise();return a===void 0?null:a.value}function I0(r,t){const i=xh(r,!0).delete(t);return new yu(i).toPromise()}const Q2=800,Y2=3;class k1{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await vm(),this.db)}async _withRetries(t){let i=0;for(;;)try{const a=await this._openDb();return await t(a)}catch(a){if(i++>Y2)throw a;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return M1()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Nh._getInstance(q2()),this.receiver._subscribe("keyChanged",async(t,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(t,i)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await j2(),!this.activeServiceWorker)return;this.sender=new P2(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||B2()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await vm();return await C0(t,fh,"1"),await I0(t,fh),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,i){return this._withPendingWrite(async()=>(await this._withRetries(a=>C0(a,t,i)),this.localCache[t]=i,this.notifyServiceWorker(t)))}async _get(t){const i=await this._withRetries(a=>G2(a,t));return this.localCache[t]=i,i}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(i=>I0(i,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(l=>{const c=xh(l,!1).getAll();return new yu(c).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const i=[],a=new Set;if(t.length!==0)for(const{fbase_key:l,value:c}of t)a.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(c)&&(this.notifyListeners(l,c),i.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!a.has(l)&&(this.notifyListeners(l,null),i.push(l));return i}notifyListeners(t,i){this.localCache[t]=i;const a=this.listeners[t];if(a)for(const l of Array.from(a))l(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Q2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}k1.type="LOCAL";const K2=k1;new du(3e4,6e4);function X2(r,t){return t?wr(t):(bt(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}class Zm extends w1{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Vo(t,this._buildIdpRequest())}_linkToIdToken(t,i){return Vo(t,this._buildIdpRequest(i))}_getReauthenticationResolver(t){return Vo(t,this._buildIdpRequest())}_buildIdpRequest(t){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(i.idToken=t),i}}function $2(r){return I2(r.auth,new Zm(r),r.bypassAuthState)}function J2(r){const{auth:t,user:i}=r;return bt(i,t,"internal-error"),C2(i,new Zm(r),r.bypassAuthState)}async function Z2(r){const{auth:t,user:i}=r;return bt(i,t,"internal-error"),R2(i,new Zm(r),r.bypassAuthState)}class U1{constructor(t,i,a,l,c=!1){this.auth=t,this.resolver=a,this.user=l,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(t,i)=>{this.pendingPromise={resolve:t,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(a){this.reject(a)}})}async onAuthEvent(t){const{urlResponse:i,sessionId:a,postBody:l,tenantId:c,error:d,type:p}=t;if(d){this.reject(d);return}const y={auth:this.auth,requestUri:i,sessionId:a,tenantId:c||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(p)(y))}catch(_){this.reject(_)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return $2;case"linkViaPopup":case"linkViaRedirect":return Z2;case"reauthViaPopup":case"reauthViaRedirect":return J2;default:Ir(this.auth,"internal-error")}}resolve(t){Nr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){Nr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const W2=new du(2e3,1e4);class Do extends U1{constructor(t,i,a,l,c){super(t,i,l,c),this.provider=a,this.authWindow=null,this.pollId=null,Do.currentPopupAction&&Do.currentPopupAction.cancel(),Do.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return bt(t,this.auth,"internal-error"),t}async onExecution(){Nr(this.filter.length===1,"Popup operations only handle one event");const t=Jm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(Ki(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Ki(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Do.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ki(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,W2.get())};t()}}Do.currentPopupAction=null;const tw="pendingRedirect",Jc=new Map;class ew extends U1{constructor(t,i,a=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,a),this.eventId=null}async execute(){let t=Jc.get(this.auth._key());if(!t){try{const a=await nw(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(a)}catch(i){t=()=>Promise.reject(i)}Jc.set(this.auth._key(),t)}return this.bypassAuthState||Jc.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const i=await this.auth._redirectUserForId(t.eventId);if(i)return this.user=i,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function nw(r,t){const i=sw(t),a=rw(r);if(!await a._isAvailable())return!1;const l=await a._get(i)==="true";return await a._remove(i),l}function iw(r,t){Jc.set(r._key(),t)}function rw(r){return wr(r._redirectPersistence)}function sw(r){return $c(tw,r.config.apiKey,r.name)}async function aw(r,t,i=!1){if(yi(r.app))return Promise.reject(Rr(r));const a=gu(r),l=X2(a,t),d=await new ew(a,l,i).execute();return d&&!i&&(delete d.user._redirectEventId,await a._persistUserIfCurrent(d.user),await a._setRedirectUser(null,t)),d}const ow=600*1e3;class lw{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let i=!1;return this.consumers.forEach(a=>{this.isEventForConsumer(t,a)&&(i=!0,this.sendToConsumer(t,a),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!uw(t)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=t,i=!0)),i}sendToConsumer(t,i){if(t.error&&!L1(t)){const a=t.error.code?.split("auth/")[1]||"internal-error";i.onError(Ki(this.auth,a))}else i.onAuthEvent(t)}isEventForConsumer(t,i){const a=i.eventId===null||!!t.eventId&&t.eventId===i.eventId;return i.filter.includes(t.type)&&a}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=ow&&this.cachedEventUids.clear(),this.cachedEventUids.has(N0(t))}saveEventToCache(t){this.cachedEventUids.add(N0(t)),this.lastProcessedEventTime=Date.now()}}function N0(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(t=>t).join("-")}function L1({type:r,error:t}){return r==="unknown"&&t?.code==="auth/no-auth-event"}function uw(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return L1(r);default:return!1}}async function cw(r,t={}){return Yo(r,"GET","/v1/projects",t)}const hw=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,fw=/^https?/;async function dw(r){if(r.config.emulator)return;const{authorizedDomains:t}=await cw(r);for(const i of t)try{if(mw(i))return}catch{}Ir(r,"unauthorized-domain")}function mw(r){const t=ym(),{protocol:i,hostname:a}=new URL(t);if(r.startsWith("chrome-extension://")){const d=new URL(r);return d.hostname===""&&a===""?i==="chrome-extension:"&&r.replace("chrome-extension://","")===t.replace("chrome-extension://",""):i==="chrome-extension:"&&d.hostname===a}if(!fw.test(i))return!1;if(hw.test(r))return a===r;const l=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(a)}const gw=new du(3e4,6e4);function x0(){const r=Xi().___jsl;if(r?.H){for(const t of Object.keys(r.H))if(r.H[t].r=r.H[t].r||[],r.H[t].L=r.H[t].L||[],r.H[t].r=[...r.H[t].L],r.CP)for(let i=0;i<r.CP.length;i++)r.CP[i]=null}}function pw(r){return new Promise((t,i)=>{function a(){x0(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{x0(),i(Ki(r,"network-request-failed"))},timeout:gw.get()})}if(Xi().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(Xi().gapi?.load)a();else{const l=y2("iframefcb");return Xi()[l]=()=>{gapi.load?a():i(Ki(r,"network-request-failed"))},g2(`${p2()}?onload=${l}`).catch(c=>i(c))}}).catch(t=>{throw Zc=null,t})}let Zc=null;function yw(r){return Zc=Zc||pw(r),Zc}const _w=new du(5e3,15e3),vw="__/auth/iframe",Ew="emulator/auth/iframe",Tw={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},bw=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Sw(r){const t=r.config;bt(t.authDomain,r,"auth-domain-config-required");const i=t.emulator?Qm(t,Ew):`https://${r.config.authDomain}/${vw}`,a={apiKey:t.apiKey,appName:r.name,v:Qo},l=bw.get(r.config.apiHost);l&&(a.eid=l);const c=r._getFrameworks();return c.length&&(a.fw=c.join(",")),`${i}?${fu(a).slice(1)}`}async function Aw(r){const t=await yw(r),i=Xi().gapi;return bt(i,r,"internal-error"),t.open({where:document.body,url:Sw(r),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Tw,dontclear:!0},a=>new Promise(async(l,c)=>{await a.restyle({setHideOnLeave:!1});const d=Ki(r,"network-request-failed"),p=Xi().setTimeout(()=>{c(d)},_w.get());function y(){Xi().clearTimeout(p),l(a)}a.ping(y).then(y,()=>{c(d)})}))}const ww={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Rw=500,Cw=600,Iw="_blank",Nw="http://localhost";class D0{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function xw(r,t,i,a=Rw,l=Cw){const c=Math.max((window.screen.availHeight-l)/2,0).toString(),d=Math.max((window.screen.availWidth-a)/2,0).toString();let p="";const y={...ww,width:a.toString(),height:l.toString(),top:c,left:d},_=_n().toLowerCase();i&&(p=y1(_)?Iw:i),g1(_)&&(t=t||Nw,y.scrollbars="yes");const b=Object.entries(y).reduce((V,[Q,tt])=>`${V}${Q}=${tt},`,"");if(o2(_)&&p!=="_self")return Dw(t||"",p),new D0(null);const S=window.open(t||"",p,b);bt(S,r,"popup-blocked");try{S.focus()}catch{}return new D0(S)}function Dw(r,t){const i=document.createElement("a");i.href=r,i.target=t;const a=document.createEvent("MouseEvent");a.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(a)}const Mw="__/auth/handler",Ow="emulator/auth/handler",Vw=encodeURIComponent("fac");async function M0(r,t,i,a,l,c){bt(r.config.authDomain,r,"auth-domain-config-required"),bt(r.config.apiKey,r,"invalid-api-key");const d={apiKey:r.config.apiKey,appName:r.name,authType:i,redirectUrl:a,v:Qo,eventId:l};if(t instanceof R1){t.setDefaultLanguage(r.languageCode),d.providerId=t.providerId||"",xS(t.getCustomParameters())||(d.customParameters=JSON.stringify(t.getCustomParameters()));for(const[b,S]of Object.entries({}))d[b]=S}if(t instanceof pu){const b=t.getScopes().filter(S=>S!=="");b.length>0&&(d.scopes=b.join(","))}r.tenantId&&(d.tid=r.tenantId);const p=d;for(const b of Object.keys(p))p[b]===void 0&&delete p[b];const y=await r._getAppCheckToken(),_=y?`#${Vw}=${encodeURIComponent(y)}`:"";return`${kw(r)}?${fu(p).slice(1)}${_}`}function kw({config:r}){return r.emulator?Qm(r,Ow):`https://${r.authDomain}/${Mw}`}const em="webStorageSupport";class Uw{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=D1,this._completeRedirectFn=aw,this._overrideRedirectResult=iw}async _openPopup(t,i,a,l){Nr(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const c=await M0(t,i,a,ym(),l);return xw(t,c,Jm())}async _openRedirect(t,i,a,l){await this._originValidation(t);const c=await M0(t,i,a,ym(),l);return z2(c),new Promise(()=>{})}_initialize(t){const i=t._key();if(this.eventManagers[i]){const{manager:l,promise:c}=this.eventManagers[i];return l?Promise.resolve(l):(Nr(c,"If manager is not set, promise should be"),c)}const a=this.initAndGetManager(t);return this.eventManagers[i]={promise:a},a.catch(()=>{delete this.eventManagers[i]}),a}async initAndGetManager(t){const i=await Aw(t),a=new lw(t);return i.register("authEvent",l=>(bt(l?.authEvent,t,"invalid-auth-event"),{status:a.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:a},this.iframes[t._key()]=i,a}_isIframeWebStorageSupported(t,i){this.iframes[t._key()].send(em,{type:em},l=>{const c=l?.[0]?.[em];c!==void 0&&i(!!c),Ir(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const i=t._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=dw(t)),this.originValidationPromises[i]}get _shouldInitProactively(){return b1()||p1()||Xm()}}const Lw=Uw;var O0="@firebase/auth",V0="1.11.1";class Pw{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const i=this.auth.onIdTokenChanged(a=>{t(a?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,i),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const i=this.internalListeners.get(t);i&&(this.internalListeners.delete(t),i(),this.updateProactiveRefresh())}assertAuthConfigured(){bt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function zw(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function jw(r){Po(new Ma("auth",(t,{options:i})=>{const a=t.getProvider("app").getImmediate(),l=t.getProvider("heartbeat"),c=t.getProvider("app-check-internal"),{apiKey:d,authDomain:p}=a.options;bt(d&&!d.includes(":"),"invalid-api-key",{appName:a.name});const y={apiKey:d,authDomain:p,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:S1(r)},_=new d2(a,l,c,y);return v2(_,i),_},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,i,a)=>{t.getProvider("auth-internal").initialize()})),Po(new Ma("auth-internal",t=>{const i=gu(t.getProvider("auth").getImmediate());return(a=>new Pw(a))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),Cs(O0,V0,zw(r)),Cs(O0,V0,"esm2020")}const Bw=300,qw=Zv("authIdTokenMaxAge")||Bw;let k0=null;const Hw=r=>async t=>{const i=t&&await t.getIdTokenResult(),a=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(a&&a>qw)return;const l=i?.token;k0!==l&&(k0=l,await fetch(r,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function Fw(r=r1()){const t=Fm(r,"auth");if(t.isInitialized())return t.getImmediate();const i=_2(r,{popupRedirectResolver:Lw,persistence:[K2,U2,D1]}),a=Zv("authTokenSyncURL");if(a&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(a,location.origin);if(location.origin===c.origin){const d=Hw(c.toString());M2(i,d,()=>d(i.currentUser)),D2(i,p=>d(p))}}const l=$v("auth");return l&&E2(i,`http://${l}`),i}function Gw(){return document.getElementsByTagName("head")?.[0]??document}m2({loadJS(r){return new Promise((t,i)=>{const a=document.createElement("script");a.setAttribute("src",r),a.onload=t,a.onerror=l=>{const c=Ki("internal-error");c.customData=l,i(c)},a.type="text/javascript",a.charset="UTF-8",Gw().appendChild(a)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});jw("Browser");var U0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Is,P1;(function(){var r;function t(N,A){function I(){}I.prototype=A.prototype,N.F=A.prototype,N.prototype=new I,N.prototype.constructor=N,N.D=function(k,D,L){for(var R=Array(arguments.length-2),re=2;re<arguments.length;re++)R[re-2]=arguments[re];return A.prototype[D].apply(k,R)}}function i(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(a,i),a.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(N,A,I){I||(I=0);const k=Array(16);if(typeof A=="string")for(var D=0;D<16;++D)k[D]=A.charCodeAt(I++)|A.charCodeAt(I++)<<8|A.charCodeAt(I++)<<16|A.charCodeAt(I++)<<24;else for(D=0;D<16;++D)k[D]=A[I++]|A[I++]<<8|A[I++]<<16|A[I++]<<24;A=N.g[0],I=N.g[1],D=N.g[2];let L=N.g[3],R;R=A+(L^I&(D^L))+k[0]+3614090360&4294967295,A=I+(R<<7&4294967295|R>>>25),R=L+(D^A&(I^D))+k[1]+3905402710&4294967295,L=A+(R<<12&4294967295|R>>>20),R=D+(I^L&(A^I))+k[2]+606105819&4294967295,D=L+(R<<17&4294967295|R>>>15),R=I+(A^D&(L^A))+k[3]+3250441966&4294967295,I=D+(R<<22&4294967295|R>>>10),R=A+(L^I&(D^L))+k[4]+4118548399&4294967295,A=I+(R<<7&4294967295|R>>>25),R=L+(D^A&(I^D))+k[5]+1200080426&4294967295,L=A+(R<<12&4294967295|R>>>20),R=D+(I^L&(A^I))+k[6]+2821735955&4294967295,D=L+(R<<17&4294967295|R>>>15),R=I+(A^D&(L^A))+k[7]+4249261313&4294967295,I=D+(R<<22&4294967295|R>>>10),R=A+(L^I&(D^L))+k[8]+1770035416&4294967295,A=I+(R<<7&4294967295|R>>>25),R=L+(D^A&(I^D))+k[9]+2336552879&4294967295,L=A+(R<<12&4294967295|R>>>20),R=D+(I^L&(A^I))+k[10]+4294925233&4294967295,D=L+(R<<17&4294967295|R>>>15),R=I+(A^D&(L^A))+k[11]+2304563134&4294967295,I=D+(R<<22&4294967295|R>>>10),R=A+(L^I&(D^L))+k[12]+1804603682&4294967295,A=I+(R<<7&4294967295|R>>>25),R=L+(D^A&(I^D))+k[13]+4254626195&4294967295,L=A+(R<<12&4294967295|R>>>20),R=D+(I^L&(A^I))+k[14]+2792965006&4294967295,D=L+(R<<17&4294967295|R>>>15),R=I+(A^D&(L^A))+k[15]+1236535329&4294967295,I=D+(R<<22&4294967295|R>>>10),R=A+(D^L&(I^D))+k[1]+4129170786&4294967295,A=I+(R<<5&4294967295|R>>>27),R=L+(I^D&(A^I))+k[6]+3225465664&4294967295,L=A+(R<<9&4294967295|R>>>23),R=D+(A^I&(L^A))+k[11]+643717713&4294967295,D=L+(R<<14&4294967295|R>>>18),R=I+(L^A&(D^L))+k[0]+3921069994&4294967295,I=D+(R<<20&4294967295|R>>>12),R=A+(D^L&(I^D))+k[5]+3593408605&4294967295,A=I+(R<<5&4294967295|R>>>27),R=L+(I^D&(A^I))+k[10]+38016083&4294967295,L=A+(R<<9&4294967295|R>>>23),R=D+(A^I&(L^A))+k[15]+3634488961&4294967295,D=L+(R<<14&4294967295|R>>>18),R=I+(L^A&(D^L))+k[4]+3889429448&4294967295,I=D+(R<<20&4294967295|R>>>12),R=A+(D^L&(I^D))+k[9]+568446438&4294967295,A=I+(R<<5&4294967295|R>>>27),R=L+(I^D&(A^I))+k[14]+3275163606&4294967295,L=A+(R<<9&4294967295|R>>>23),R=D+(A^I&(L^A))+k[3]+4107603335&4294967295,D=L+(R<<14&4294967295|R>>>18),R=I+(L^A&(D^L))+k[8]+1163531501&4294967295,I=D+(R<<20&4294967295|R>>>12),R=A+(D^L&(I^D))+k[13]+2850285829&4294967295,A=I+(R<<5&4294967295|R>>>27),R=L+(I^D&(A^I))+k[2]+4243563512&4294967295,L=A+(R<<9&4294967295|R>>>23),R=D+(A^I&(L^A))+k[7]+1735328473&4294967295,D=L+(R<<14&4294967295|R>>>18),R=I+(L^A&(D^L))+k[12]+2368359562&4294967295,I=D+(R<<20&4294967295|R>>>12),R=A+(I^D^L)+k[5]+4294588738&4294967295,A=I+(R<<4&4294967295|R>>>28),R=L+(A^I^D)+k[8]+2272392833&4294967295,L=A+(R<<11&4294967295|R>>>21),R=D+(L^A^I)+k[11]+1839030562&4294967295,D=L+(R<<16&4294967295|R>>>16),R=I+(D^L^A)+k[14]+4259657740&4294967295,I=D+(R<<23&4294967295|R>>>9),R=A+(I^D^L)+k[1]+2763975236&4294967295,A=I+(R<<4&4294967295|R>>>28),R=L+(A^I^D)+k[4]+1272893353&4294967295,L=A+(R<<11&4294967295|R>>>21),R=D+(L^A^I)+k[7]+4139469664&4294967295,D=L+(R<<16&4294967295|R>>>16),R=I+(D^L^A)+k[10]+3200236656&4294967295,I=D+(R<<23&4294967295|R>>>9),R=A+(I^D^L)+k[13]+681279174&4294967295,A=I+(R<<4&4294967295|R>>>28),R=L+(A^I^D)+k[0]+3936430074&4294967295,L=A+(R<<11&4294967295|R>>>21),R=D+(L^A^I)+k[3]+3572445317&4294967295,D=L+(R<<16&4294967295|R>>>16),R=I+(D^L^A)+k[6]+76029189&4294967295,I=D+(R<<23&4294967295|R>>>9),R=A+(I^D^L)+k[9]+3654602809&4294967295,A=I+(R<<4&4294967295|R>>>28),R=L+(A^I^D)+k[12]+3873151461&4294967295,L=A+(R<<11&4294967295|R>>>21),R=D+(L^A^I)+k[15]+530742520&4294967295,D=L+(R<<16&4294967295|R>>>16),R=I+(D^L^A)+k[2]+3299628645&4294967295,I=D+(R<<23&4294967295|R>>>9),R=A+(D^(I|~L))+k[0]+4096336452&4294967295,A=I+(R<<6&4294967295|R>>>26),R=L+(I^(A|~D))+k[7]+1126891415&4294967295,L=A+(R<<10&4294967295|R>>>22),R=D+(A^(L|~I))+k[14]+2878612391&4294967295,D=L+(R<<15&4294967295|R>>>17),R=I+(L^(D|~A))+k[5]+4237533241&4294967295,I=D+(R<<21&4294967295|R>>>11),R=A+(D^(I|~L))+k[12]+1700485571&4294967295,A=I+(R<<6&4294967295|R>>>26),R=L+(I^(A|~D))+k[3]+2399980690&4294967295,L=A+(R<<10&4294967295|R>>>22),R=D+(A^(L|~I))+k[10]+4293915773&4294967295,D=L+(R<<15&4294967295|R>>>17),R=I+(L^(D|~A))+k[1]+2240044497&4294967295,I=D+(R<<21&4294967295|R>>>11),R=A+(D^(I|~L))+k[8]+1873313359&4294967295,A=I+(R<<6&4294967295|R>>>26),R=L+(I^(A|~D))+k[15]+4264355552&4294967295,L=A+(R<<10&4294967295|R>>>22),R=D+(A^(L|~I))+k[6]+2734768916&4294967295,D=L+(R<<15&4294967295|R>>>17),R=I+(L^(D|~A))+k[13]+1309151649&4294967295,I=D+(R<<21&4294967295|R>>>11),R=A+(D^(I|~L))+k[4]+4149444226&4294967295,A=I+(R<<6&4294967295|R>>>26),R=L+(I^(A|~D))+k[11]+3174756917&4294967295,L=A+(R<<10&4294967295|R>>>22),R=D+(A^(L|~I))+k[2]+718787259&4294967295,D=L+(R<<15&4294967295|R>>>17),R=I+(L^(D|~A))+k[9]+3951481745&4294967295,N.g[0]=N.g[0]+A&4294967295,N.g[1]=N.g[1]+(D+(R<<21&4294967295|R>>>11))&4294967295,N.g[2]=N.g[2]+D&4294967295,N.g[3]=N.g[3]+L&4294967295}a.prototype.v=function(N,A){A===void 0&&(A=N.length);const I=A-this.blockSize,k=this.C;let D=this.h,L=0;for(;L<A;){if(D==0)for(;L<=I;)l(this,N,L),L+=this.blockSize;if(typeof N=="string"){for(;L<A;)if(k[D++]=N.charCodeAt(L++),D==this.blockSize){l(this,k),D=0;break}}else for(;L<A;)if(k[D++]=N[L++],D==this.blockSize){l(this,k),D=0;break}}this.h=D,this.o+=A},a.prototype.A=function(){var N=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);N[0]=128;for(var A=1;A<N.length-8;++A)N[A]=0;A=this.o*8;for(var I=N.length-8;I<N.length;++I)N[I]=A&255,A/=256;for(this.v(N),N=Array(16),A=0,I=0;I<4;++I)for(let k=0;k<32;k+=8)N[A++]=this.g[I]>>>k&255;return N};function c(N,A){var I=p;return Object.prototype.hasOwnProperty.call(I,N)?I[N]:I[N]=A(N)}function d(N,A){this.h=A;const I=[];let k=!0;for(let D=N.length-1;D>=0;D--){const L=N[D]|0;k&&L==A||(I[D]=L,k=!1)}this.g=I}var p={};function y(N){return-128<=N&&N<128?c(N,function(A){return new d([A|0],A<0?-1:0)}):new d([N|0],N<0?-1:0)}function _(N){if(isNaN(N)||!isFinite(N))return S;if(N<0)return et(_(-N));const A=[];let I=1;for(let k=0;N>=I;k++)A[k]=N/I|0,I*=4294967296;return new d(A,0)}function b(N,A){if(N.length==0)throw Error("number format error: empty string");if(A=A||10,A<2||36<A)throw Error("radix out of range: "+A);if(N.charAt(0)=="-")return et(b(N.substring(1),A));if(N.indexOf("-")>=0)throw Error('number format error: interior "-" character');const I=_(Math.pow(A,8));let k=S;for(let L=0;L<N.length;L+=8){var D=Math.min(8,N.length-L);const R=parseInt(N.substring(L,L+D),A);D<8?(D=_(Math.pow(A,D)),k=k.j(D).add(_(R))):(k=k.j(I),k=k.add(_(R)))}return k}var S=y(0),V=y(1),Q=y(16777216);r=d.prototype,r.m=function(){if(nt(this))return-et(this).m();let N=0,A=1;for(let I=0;I<this.g.length;I++){const k=this.i(I);N+=(k>=0?k:4294967296+k)*A,A*=4294967296}return N},r.toString=function(N){if(N=N||10,N<2||36<N)throw Error("radix out of range: "+N);if(tt(this))return"0";if(nt(this))return"-"+et(this).toString(N);const A=_(Math.pow(N,6));var I=this;let k="";for(;;){const D=Ot(I,A).g;I=yt(I,D.j(A));let L=((I.g.length>0?I.g[0]:I.h)>>>0).toString(N);if(I=D,tt(I))return L+k;for(;L.length<6;)L="0"+L;k=L+k}},r.i=function(N){return N<0?0:N<this.g.length?this.g[N]:this.h};function tt(N){if(N.h!=0)return!1;for(let A=0;A<N.g.length;A++)if(N.g[A]!=0)return!1;return!0}function nt(N){return N.h==-1}r.l=function(N){return N=yt(this,N),nt(N)?-1:tt(N)?0:1};function et(N){const A=N.g.length,I=[];for(let k=0;k<A;k++)I[k]=~N.g[k];return new d(I,~N.h).add(V)}r.abs=function(){return nt(this)?et(this):this},r.add=function(N){const A=Math.max(this.g.length,N.g.length),I=[];let k=0;for(let D=0;D<=A;D++){let L=k+(this.i(D)&65535)+(N.i(D)&65535),R=(L>>>16)+(this.i(D)>>>16)+(N.i(D)>>>16);k=R>>>16,L&=65535,R&=65535,I[D]=R<<16|L}return new d(I,I[I.length-1]&-2147483648?-1:0)};function yt(N,A){return N.add(et(A))}r.j=function(N){if(tt(this)||tt(N))return S;if(nt(this))return nt(N)?et(this).j(et(N)):et(et(this).j(N));if(nt(N))return et(this.j(et(N)));if(this.l(Q)<0&&N.l(Q)<0)return _(this.m()*N.m());const A=this.g.length+N.g.length,I=[];for(var k=0;k<2*A;k++)I[k]=0;for(k=0;k<this.g.length;k++)for(let D=0;D<N.g.length;D++){const L=this.i(k)>>>16,R=this.i(k)&65535,re=N.i(D)>>>16,Te=N.i(D)&65535;I[2*k+2*D]+=R*Te,At(I,2*k+2*D),I[2*k+2*D+1]+=L*Te,At(I,2*k+2*D+1),I[2*k+2*D+1]+=R*re,At(I,2*k+2*D+1),I[2*k+2*D+2]+=L*re,At(I,2*k+2*D+2)}for(N=0;N<A;N++)I[N]=I[2*N+1]<<16|I[2*N];for(N=A;N<2*A;N++)I[N]=0;return new d(I,0)};function At(N,A){for(;(N[A]&65535)!=N[A];)N[A+1]+=N[A]>>>16,N[A]&=65535,A++}function _t(N,A){this.g=N,this.h=A}function Ot(N,A){if(tt(A))throw Error("division by zero");if(tt(N))return new _t(S,S);if(nt(N))return A=Ot(et(N),A),new _t(et(A.g),et(A.h));if(nt(A))return A=Ot(N,et(A)),new _t(et(A.g),A.h);if(N.g.length>30){if(nt(N)||nt(A))throw Error("slowDivide_ only works with positive integers.");for(var I=V,k=A;k.l(N)<=0;)I=Jt(I),k=Jt(k);var D=Dt(I,1),L=Dt(k,1);for(k=Dt(k,2),I=Dt(I,2);!tt(k);){var R=L.add(k);R.l(N)<=0&&(D=D.add(I),L=R),k=Dt(k,1),I=Dt(I,1)}return A=yt(N,D.j(A)),new _t(D,A)}for(D=S;N.l(A)>=0;){for(I=Math.max(1,Math.floor(N.m()/A.m())),k=Math.ceil(Math.log(I)/Math.LN2),k=k<=48?1:Math.pow(2,k-48),L=_(I),R=L.j(A);nt(R)||R.l(N)>0;)I-=k,L=_(I),R=L.j(A);tt(L)&&(L=V),D=D.add(L),N=yt(N,R)}return new _t(D,N)}r.B=function(N){return Ot(this,N).h},r.and=function(N){const A=Math.max(this.g.length,N.g.length),I=[];for(let k=0;k<A;k++)I[k]=this.i(k)&N.i(k);return new d(I,this.h&N.h)},r.or=function(N){const A=Math.max(this.g.length,N.g.length),I=[];for(let k=0;k<A;k++)I[k]=this.i(k)|N.i(k);return new d(I,this.h|N.h)},r.xor=function(N){const A=Math.max(this.g.length,N.g.length),I=[];for(let k=0;k<A;k++)I[k]=this.i(k)^N.i(k);return new d(I,this.h^N.h)};function Jt(N){const A=N.g.length+1,I=[];for(let k=0;k<A;k++)I[k]=N.i(k)<<1|N.i(k-1)>>>31;return new d(I,N.h)}function Dt(N,A){const I=A>>5;A%=32;const k=N.g.length-I,D=[];for(let L=0;L<k;L++)D[L]=A>0?N.i(L+I)>>>A|N.i(L+I+1)<<32-A:N.i(L+I);return new d(D,N.h)}a.prototype.digest=a.prototype.A,a.prototype.reset=a.prototype.u,a.prototype.update=a.prototype.v,P1=a,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=_,d.fromString=b,Is=d}).apply(typeof U0<"u"?U0:typeof self<"u"?self:typeof window<"u"?window:{});var jc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var z1,Gl,j1,Wc,Em,B1,q1,H1;(function(){var r,t=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof jc=="object"&&jc];for(var m=0;m<u.length;++m){var v=u[m];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var a=i(this);function l(u,m){if(m)t:{var v=a;u=u.split(".");for(var T=0;T<u.length-1;T++){var P=u[T];if(!(P in v))break t;v=v[P]}u=u[u.length-1],T=v[u],m=m(T),m!=T&&m!=null&&t(v,u,{configurable:!0,writable:!0,value:m})}}l("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),l("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),l("Object.entries",function(u){return u||function(m){var v=[],T;for(T in m)Object.prototype.hasOwnProperty.call(m,T)&&v.push([T,m[T]]);return v}});var c=c||{},d=this||self;function p(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function y(u,m,v){return u.call.apply(u.bind,arguments)}function _(u,m,v){return _=y,_.apply(null,arguments)}function b(u,m){var v=Array.prototype.slice.call(arguments,1);return function(){var T=v.slice();return T.push.apply(T,arguments),u.apply(this,T)}}function S(u,m){function v(){}v.prototype=m.prototype,u.Z=m.prototype,u.prototype=new v,u.prototype.constructor=u,u.Ob=function(T,P,q){for(var it=Array(arguments.length-2),It=2;It<arguments.length;It++)it[It-2]=arguments[It];return m.prototype[P].apply(T,it)}}var V=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function Q(u){const m=u.length;if(m>0){const v=Array(m);for(let T=0;T<m;T++)v[T]=u[T];return v}return[]}function tt(u,m){for(let T=1;T<arguments.length;T++){const P=arguments[T];var v=typeof P;if(v=v!="object"?v:P?Array.isArray(P)?"array":v:"null",v=="array"||v=="object"&&typeof P.length=="number"){v=u.length||0;const q=P.length||0;u.length=v+q;for(let it=0;it<q;it++)u[v+it]=P[it]}else u.push(P)}}class nt{constructor(m,v){this.i=m,this.j=v,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function et(u){d.setTimeout(()=>{throw u},0)}function yt(){var u=N;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class At{constructor(){this.h=this.g=null}add(m,v){const T=_t.get();T.set(m,v),this.h?this.h.next=T:this.g=T,this.h=T}}var _t=new nt(()=>new Ot,u=>u.reset());class Ot{constructor(){this.next=this.g=this.h=null}set(m,v){this.h=m,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let Jt,Dt=!1,N=new At,A=()=>{const u=Promise.resolve(void 0);Jt=()=>{u.then(I)}};function I(){for(var u;u=yt();){try{u.h.call(u.g)}catch(v){et(v)}var m=_t;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}Dt=!1}function k(){this.u=this.u,this.C=this.C}k.prototype.u=!1,k.prototype.dispose=function(){this.u||(this.u=!0,this.N())},k.prototype[Symbol.dispose]=function(){this.dispose()},k.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function D(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}D.prototype.h=function(){this.defaultPrevented=!0};var L=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const v=()=>{};d.addEventListener("test",v,m),d.removeEventListener("test",v,m)}catch{}return u})();function R(u){return/^[\s\xa0]*$/.test(u)}function re(u,m){D.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}S(re,D),re.prototype.init=function(u,m){const v=this.type=u.type,T=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(v=="mouseover"?m=u.fromElement:v=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&re.Z.h.call(this)},re.prototype.h=function(){re.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Te="closure_listenable_"+(Math.random()*1e6|0),G=0;function rt(u,m,v,T,P){this.listener=u,this.proxy=null,this.src=m,this.type=v,this.capture=!!T,this.ha=P,this.key=++G,this.da=this.fa=!1}function dt(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Lt(u,m,v){for(const T in u)m.call(v,u[T],T,u)}function Ft(u,m){for(const v in u)m.call(void 0,u[v],v,u)}function O(u){const m={};for(const v in u)m[v]=u[v];return m}const X="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function st(u,m){let v,T;for(let P=1;P<arguments.length;P++){T=arguments[P];for(v in T)u[v]=T[v];for(let q=0;q<X.length;q++)v=X[q],Object.prototype.hasOwnProperty.call(T,v)&&(u[v]=T[v])}}function lt(u){this.src=u,this.g={},this.h=0}lt.prototype.add=function(u,m,v,T,P){const q=u.toString();u=this.g[q],u||(u=this.g[q]=[],this.h++);const it=Ct(u,m,T,P);return it>-1?(m=u[it],v||(m.fa=!1)):(m=new rt(m,this.src,q,!!T,P),m.fa=v,u.push(m)),m};function Tt(u,m){const v=m.type;if(v in u.g){var T=u.g[v],P=Array.prototype.indexOf.call(T,m,void 0),q;(q=P>=0)&&Array.prototype.splice.call(T,P,1),q&&(dt(m),u.g[v].length==0&&(delete u.g[v],u.h--))}}function Ct(u,m,v,T){for(let P=0;P<u.length;++P){const q=u[P];if(!q.da&&q.listener==m&&q.capture==!!v&&q.ha==T)return P}return-1}var Gt="closure_lm_"+(Math.random()*1e6|0),Le={};function he(u,m,v,T,P){if(Array.isArray(m)){for(let q=0;q<m.length;q++)he(u,m[q],v,T,P);return null}return v=kr(v),u&&u[Te]?u.J(m,v,p(T)?!!T.capture:!1,P):Vr(u,m,v,!1,T,P)}function Vr(u,m,v,T,P,q){if(!m)throw Error("Invalid event type");const it=p(P)?!!P.capture:!!P;let It=Re(u);if(It||(u[Gt]=It=new lt(u)),v=It.add(m,v,T,it,q),v.proxy)return v;if(T=Ps(),v.proxy=T,T.src=u,T.listener=v,u.addEventListener)L||(P=it),P===void 0&&(P=!1),u.addEventListener(m.toString(),T,P);else if(u.attachEvent)u.attachEvent(Pe(m.toString()),T);else if(u.addListener&&u.removeListener)u.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return v}function Ps(){function u(v){return m.call(u.src,u.listener,v)}const m=Un;return u}function zs(u,m,v,T,P){if(Array.isArray(m))for(var q=0;q<m.length;q++)zs(u,m[q],v,T,P);else T=p(T)?!!T.capture:!!T,v=kr(v),u&&u[Te]?(u=u.i,q=String(m).toString(),q in u.g&&(m=u.g[q],v=Ct(m,v,T,P),v>-1&&(dt(m[v]),Array.prototype.splice.call(m,v,1),m.length==0&&(delete u.g[q],u.h--)))):u&&(u=Re(u))&&(m=u.g[m.toString()],u=-1,m&&(u=Ct(m,v,T,P)),(v=u>-1?m[u]:null)&&js(v))}function js(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[Te])Tt(m.i,u);else{var v=u.type,T=u.proxy;m.removeEventListener?m.removeEventListener(v,T,u.capture):m.detachEvent?m.detachEvent(Pe(v),T):m.addListener&&m.removeListener&&m.removeListener(T),(v=Re(m))?(Tt(v,u),v.h==0&&(v.src=null,m[Gt]=null)):dt(u)}}}function Pe(u){return u in Le?Le[u]:Le[u]="on"+u}function Un(u,m){if(u.da)u=!0;else{m=new re(m,this);const v=u.listener,T=u.ha||u.src;u.fa&&js(u),u=v.call(T,m)}return u}function Re(u){return u=u[Gt],u instanceof lt?u:null}var nr="__closure_events_fn_"+(Math.random()*1e9>>>0);function kr(u){return typeof u=="function"?u:(u[nr]||(u[nr]=function(m){return u.handleEvent(m)}),u[nr])}function be(){k.call(this),this.i=new lt(this),this.M=this,this.G=null}S(be,k),be.prototype[Te]=!0,be.prototype.removeEventListener=function(u,m,v,T){zs(this,u,m,v,T)};function Ce(u,m){var v,T=u.G;if(T)for(v=[];T;T=T.G)v.push(T);if(u=u.M,T=m.type||m,typeof m=="string")m=new D(m,u);else if(m instanceof D)m.target=m.target||u;else{var P=m;m=new D(T,u),st(m,P)}P=!0;let q,it;if(v)for(it=v.length-1;it>=0;it--)q=m.g=v[it],P=Xn(q,T,!0,m)&&P;if(q=m.g=u,P=Xn(q,T,!0,m)&&P,P=Xn(q,T,!1,m)&&P,v)for(it=0;it<v.length;it++)q=m.g=v[it],P=Xn(q,T,!1,m)&&P}be.prototype.N=function(){if(be.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const v=u.g[m];for(let T=0;T<v.length;T++)dt(v[T]);delete u.g[m],u.h--}}this.G=null},be.prototype.J=function(u,m,v,T){return this.i.add(String(u),m,!1,v,T)},be.prototype.K=function(u,m,v,T){return this.i.add(String(u),m,!0,v,T)};function Xn(u,m,v,T){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let P=!0;for(let q=0;q<m.length;++q){const it=m[q];if(it&&!it.da&&it.capture==v){const It=it.listener,Me=it.ha||it.src;it.fa&&Tt(u.i,it),P=It.call(Me,T)!==!1&&P}}return P&&!T.defaultPrevented}function Bs(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=_(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(u,m||0)}function qs(u){u.g=Bs(()=>{u.g=null,u.i&&(u.i=!1,qs(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class Xe extends k{constructor(m,v){super(),this.m=m,this.l=v,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:qs(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ir(u){k.call(this),this.h=u,this.g={}}S(ir,k);var Hs=[];function Ur(u){Lt(u.g,function(m,v){this.g.hasOwnProperty(v)&&js(m)},u),u.g={}}ir.prototype.N=function(){ir.Z.N.call(this),Ur(this)},ir.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var cn=d.JSON.stringify,za=d.JSON.parse,Di=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function Lr(){}function Pr(){}var vn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Qe(){D.call(this,"d")}S(Qe,D);function En(){D.call(this,"c")}S(En,D);var _e={},zr=null;function Mi(){return zr=zr||new be}_e.Ia="serverreachability";function Fs(u){D.call(this,_e.Ia,u)}S(Fs,D);function $n(u){const m=Mi();Ce(m,new Fs(m))}_e.STAT_EVENT="statevent";function Ei(u,m){D.call(this,_e.STAT_EVENT,u),this.stat=m}S(Ei,D);function Pt(u){const m=Mi();Ce(m,new Ei(m,u))}_e.Ja="timingevent";function $e(u,m){D.call(this,_e.Ja,u),this.size=m}S($e,D);function hn(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function Ie(){this.g=!0}Ie.prototype.ua=function(){this.g=!1};function ja(u,m,v,T,P,q){u.info(function(){if(u.g)if(q){var it="",It=q.split("&");for(let Zt=0;Zt<It.length;Zt++){var Me=It[Zt].split("=");if(Me.length>1){const pe=Me[0];Me=Me[1];const li=pe.split("_");it=li.length>=2&&li[1]=="type"?it+(pe+"="+Me+"&"):it+(pe+"=redacted&")}}}else it=null;else it=q;return"XMLHTTP REQ ("+T+") [attempt "+P+"]: "+m+`
`+v+`
`+it})}function Ba(u,m,v,T,P,q,it){u.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+P+"]: "+m+`
`+v+`
`+q+" "+it})}function Ln(u,m,v,T){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Pn(u,v)+(T?" "+T:"")})}function rr(u,m){u.info(function(){return"TIMEOUT: "+m})}Ie.prototype.info=function(){};function Pn(u,m){if(!u.g)return m;if(!m)return null;try{const q=JSON.parse(m);if(q){for(u=0;u<q.length;u++)if(Array.isArray(q[u])){var v=q[u];if(!(v.length<2)){var T=v[1];if(Array.isArray(T)&&!(T.length<1)){var P=T[0];if(P!="noop"&&P!="stop"&&P!="close")for(let it=1;it<T.length;it++)T[it]=""}}}}return cn(q)}catch{return m}}var Oi={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},jr={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Gs;function Vi(){}S(Vi,Lr),Vi.prototype.g=function(){return new XMLHttpRequest},Gs=new Vi;function Jn(u){return encodeURIComponent(String(u))}function Qs(u){var m=1;u=u.split(":");const v=[];for(;m>0&&u.length;)v.push(u.shift()),m--;return u.length&&v.push(u.join(":")),v}function Rn(u,m,v,T){this.j=u,this.i=m,this.l=v,this.S=T||1,this.V=new ir(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Cn}function Cn(){this.i=null,this.g="",this.h=!1}var Se={},Ne={};function Zn(u,m,v){u.M=1,u.A=ki(ge(m)),u.u=v,u.R=!0,Br(u,null)}function Br(u,m){u.F=Date.now(),Wn(u),u.B=ge(u.A);var v=u.B,T=u.S;Array.isArray(T)||(T=[String(T)]),fn(v.i,"t",T),u.C=0,v=u.j.L,u.h=new Cn,u.g=Mu(u.j,v?m:null,!u.u),u.P>0&&(u.O=new Xe(_(u.Y,u,u.g),u.P)),m=u.V,v=u.g,T=u.ba;var P="readystatechange";Array.isArray(P)||(P&&(Hs[0]=P.toString()),P=Hs);for(let q=0;q<P.length;q++){const it=he(v,P[q],T||m.handleEvent,!1,m.h||m);if(!it)break;m.g[it.key]=it}m=u.J?O(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),$n(),ja(u.i,u.v,u.B,u.l,u.S,u.u)}Rn.prototype.ba=function(u){u=u.target;const m=this.O;m&&bi(u)==3?m.j():this.Y(u)},Rn.prototype.Y=function(u){try{if(u==this.g)t:{const It=bi(this.g),Me=this.g.ya(),Zt=this.g.ca();if(!(It<3)&&(It!=3||this.g&&(this.h.h||this.g.la()||tn(this.g)))){this.K||It!=4||Me==7||(Me==8||Zt<=0?$n(3):$n(2)),zn(this);var m=this.g.ca();this.X=m;var v=Ys(this);if(this.o=m==200,Ba(this.i,this.v,this.B,this.l,this.S,It,m),this.o){if(this.U&&!this.L){e:{if(this.g){var T,P=this.g;if((T=P.g?P.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!R(T)){var q=T;break e}}q=null}if(u=q)Ln(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,ti(this,u);else{this.o=!1,this.m=3,Pt(12),bn(this),Tn(this);break t}}if(this.R){u=!0;let pe;for(;!this.K&&this.C<v.length;)if(pe=Ha(this,v),pe==Ne){It==4&&(this.m=4,Pt(14),u=!1),Ln(this.i,this.l,null,"[Incomplete Response]");break}else if(pe==Se){this.m=4,Pt(15),Ln(this.i,this.l,v,"[Invalid Chunk]"),u=!1;break}else Ln(this.i,this.l,pe,null),ti(this,pe);if(qa(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),It!=4||v.length!=0||this.h.h||(this.m=1,Pt(16),u=!1),this.o=this.o&&u,!u)Ln(this.i,this.l,v,"[Invalid Chunked Response]"),bn(this),Tn(this);else if(v.length>0&&!this.W){this.W=!0;var it=this.j;it.g==this&&it.aa&&!it.P&&(it.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),rl(it),it.P=!0,Pt(11))}}else Ln(this.i,this.l,v,null),ti(this,v);It==4&&bn(this),this.o&&!this.K&&(It==4?Iu(this.j,this):(this.o=!1,Wn(this)))}else ar(this.g),m==400&&v.indexOf("Unknown SID")>0?(this.m=3,Pt(12)):(this.m=0,Pt(13)),bn(this),Tn(this)}}}catch{}finally{}};function Ys(u){if(!qa(u))return u.g.la();const m=tn(u.g);if(m==="")return"";let v="";const T=m.length,P=bi(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return bn(u),Tn(u),"";u.h.i=new d.TextDecoder}for(let q=0;q<T;q++)u.h.h=!0,v+=u.h.i.decode(m[q],{stream:!(P&&q==T-1)});return m.length=0,u.h.g+=v,u.C=0,u.h.g}function qa(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function Ha(u,m){var v=u.C,T=m.indexOf(`
`,v);return T==-1?Ne:(v=Number(m.substring(v,T)),isNaN(v)?Se:(T+=1,T+v>m.length?Ne:(m=m.slice(T,T+v),u.C=T+v,m)))}Rn.prototype.cancel=function(){this.K=!0,bn(this)};function Wn(u){u.T=Date.now()+u.H,qr(u,u.H)}function qr(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=hn(_(u.aa,u),m)}function zn(u){u.D&&(d.clearTimeout(u.D),u.D=null)}Rn.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(rr(this.i,this.B),this.M!=2&&($n(),Pt(17)),bn(this),this.m=2,Tn(this)):qr(this,this.T-u)};function Tn(u){u.j.I==0||u.K||Iu(u.j,u)}function bn(u){zn(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,Ur(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function ti(u,m){try{var v=u.j;if(v.I!=0&&(v.g==u||ni(v.h,u))){if(!u.L&&ni(v.h,u)&&v.I==3){try{var T=v.Ba.g.parse(m)}catch{T=null}if(Array.isArray(T)&&T.length==3){var P=T;if(P[0]==0){t:if(!v.v){if(v.g)if(v.g.F+3e3<u.F)Ka(v),Xr(v);else break t;aa(v),Pt(18)}}else v.xa=P[1],0<v.xa-v.K&&P[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=hn(_(v.Va,v),6e3));ei(v.h)<=1&&v.ta&&(v.ta=void 0)}else Bi(v,11)}else if((u.L||v.g==u)&&Ka(v),!R(m))for(P=v.Ba.g.parse(m),m=0;m<P.length;m++){let Zt=P[m];const pe=Zt[0];if(!(pe<=v.K))if(v.K=pe,Zt=Zt[1],v.I==2)if(Zt[0]=="c"){v.M=Zt[1],v.ba=Zt[2];const li=Zt[3];li!=null&&(v.ka=li,v.j.info("VER="+v.ka));const qi=Zt[4];qi!=null&&(v.za=qi,v.j.info("SVER="+v.za));const Si=Zt[5];Si!=null&&typeof Si=="number"&&Si>0&&(T=1.5*Si,v.O=T,v.j.info("backChannelRequestTimeoutMs_="+T)),T=v;const Ai=u.g;if(Ai){const oa=Ai.g?Ai.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(oa){var q=T.h;q.g||oa.indexOf("spdy")==-1&&oa.indexOf("quic")==-1&&oa.indexOf("h2")==-1||(q.j=q.l,q.g=new Set,q.h&&($s(q,q.h),q.h=null))}if(T.G){const Xa=Ai.g?Ai.g.getResponseHeader("X-HTTP-Session-Id"):null;Xa&&(T.wa=Xa,Kt(T.J,T.G,Xa))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-u.F,v.j.info("Handshake RTT: "+v.T+"ms")),T=v;var it=u;if(T.na=Du(T,T.L?T.ba:null,T.W),it.L){Js(T.h,it);var It=it,Me=T.O;Me&&(It.H=Me),It.D&&(zn(It),Wn(It)),T.g=it}else Ru(T);v.i.length>0&&ji(v)}else Zt[0]!="stop"&&Zt[0]!="close"||Bi(v,7);else v.I==3&&(Zt[0]=="stop"||Zt[0]=="close"?Zt[0]=="stop"?Bi(v,7):nl(v):Zt[0]!="noop"&&v.l&&v.l.qa(Zt),v.A=0)}}$n(4)}catch{}}var ve=class{constructor(u,m){this.g=u,this.map=m}};function Ks(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Xs(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function ei(u){return u.h?1:u.g?u.g.size:0}function ni(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function $s(u,m){u.g?u.g.add(m):u.h=m}function Js(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}Ks.prototype.cancel=function(){if(this.i=Zs(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Zs(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const v of u.g.values())m=m.concat(v.G);return m}return Q(u.i)}var Fa=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Hr(u,m){if(u){u=u.split("&");for(let v=0;v<u.length;v++){const T=u[v].indexOf("=");let P,q=null;T>=0?(P=u[v].substring(0,T),q=u[v].substring(T+1)):P=u[v],m(P,q?decodeURIComponent(q.replace(/\+/g," ")):"")}}}function Sn(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof Sn?(this.l=u.l,xe(this,u.j),this.o=u.o,this.g=u.g,Je(this,u.u),this.h=u.h,Fr(this,dn(u.i)),this.m=u.m):u&&(m=String(u).match(Fa))?(this.l=!1,xe(this,m[1]||"",!0),this.o=ii(m[2]||""),this.g=ii(m[3]||"",!0),Je(this,m[4]),this.h=ii(m[5]||"",!0),Fr(this,m[6]||"",!0),this.m=ii(m[7]||"")):(this.l=!1,this.i=new J(null,this.l))}Sn.prototype.toString=function(){const u=[];var m=this.j;m&&u.push(Ui(m,ri,!0),":");var v=this.g;return(v||m=="file")&&(u.push("//"),(m=this.o)&&u.push(Ui(m,ri,!0),"@"),u.push(Jn(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&u.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&u.push("/"),u.push(Ui(v,v.charAt(0)=="/"?ta:Ws,!0))),(v=this.i.toString())&&u.push("?",v),(v=this.m)&&u.push("#",Ui(v,F)),u.join("")},Sn.prototype.resolve=function(u){const m=ge(this);let v=!!u.j;v?xe(m,u.j):v=!!u.o,v?m.o=u.o:v=!!u.g,v?m.g=u.g:v=u.u!=null;var T=u.h;if(v)Je(m,u.u);else if(v=!!u.h){if(T.charAt(0)!="/")if(this.g&&!this.h)T="/"+T;else{var P=m.h.lastIndexOf("/");P!=-1&&(T=m.h.slice(0,P+1)+T)}if(P=T,P==".."||P==".")T="";else if(P.indexOf("./")!=-1||P.indexOf("/.")!=-1){T=P.lastIndexOf("/",0)==0,P=P.split("/");const q=[];for(let it=0;it<P.length;){const It=P[it++];It=="."?T&&it==P.length&&q.push(""):It==".."?((q.length>1||q.length==1&&q[0]!="")&&q.pop(),T&&it==P.length&&q.push("")):(q.push(It),T=!0)}T=q.join("/")}else T=P}return v?m.h=T:v=u.i.toString()!=="",v?Fr(m,dn(u.i)):v=!!u.m,v&&(m.m=u.m),m};function ge(u){return new Sn(u)}function xe(u,m,v){u.j=v?ii(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function Je(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function Fr(u,m,v){m instanceof J?(u.i=m,Gr(u.i,u.l)):(v||(m=Ui(m,w)),u.i=new J(m,u.l))}function Kt(u,m,v){u.i.set(m,v)}function ki(u){return Kt(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function ii(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Ui(u,m,v){return typeof u=="string"?(u=encodeURI(u).replace(m,De),v&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function De(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var ri=/[#\/\?@]/g,Ws=/[#\?:]/g,ta=/[#\?]/g,w=/[#\?@]/g,F=/#/g;function J(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function ot(u){u.g||(u.g=new Map,u.h=0,u.i&&Hr(u.i,function(m,v){u.add(decodeURIComponent(m.replace(/\+/g," ")),v)}))}r=J.prototype,r.add=function(u,m){ot(this),this.i=null,u=si(this,u);let v=this.g.get(u);return v||this.g.set(u,v=[]),v.push(m),this.h+=1,this};function mt(u,m){ot(u),m=si(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function Mt(u,m){return ot(u),m=si(u,m),u.g.has(m)}r.forEach=function(u,m){ot(this),this.g.forEach(function(v,T){v.forEach(function(P){u.call(m,P,T,this)},this)},this)};function ee(u,m){ot(u);let v=[];if(typeof m=="string")Mt(u,m)&&(v=v.concat(u.g.get(si(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)v=v.concat(u[m]);return v}r.set=function(u,m){return ot(this),this.i=null,u=si(this,u),Mt(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},r.get=function(u,m){return u?(u=ee(this,u),u.length>0?String(u[0]):m):m};function fn(u,m,v){mt(u,m),v.length>0&&(u.i=null,u.g.set(si(u,m),Q(v)),u.h+=v.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let T=0;T<m.length;T++){var v=m[T];const P=Jn(v);v=ee(this,v);for(let q=0;q<v.length;q++){let it=P;v[q]!==""&&(it+="="+Jn(v[q])),u.push(it)}}return this.i=u.join("&")};function dn(u){const m=new J;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function si(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function Gr(u,m){m&&!u.j&&(ot(u),u.i=null,u.g.forEach(function(v,T){const P=T.toLowerCase();T!=P&&(mt(this,T),fn(this,P,v))},u)),u.j=m}function jn(u,m){const v=new Ie;if(d.Image){const T=new Image;T.onload=b(ai,v,"TestLoadImage: loaded",!0,m,T),T.onerror=b(ai,v,"TestLoadImage: error",!1,m,T),T.onabort=b(ai,v,"TestLoadImage: abort",!1,m,T),T.ontimeout=b(ai,v,"TestLoadImage: timeout",!1,m,T),d.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=u}else m(!1)}function Wo(u,m){const v=new Ie,T=new AbortController,P=setTimeout(()=>{T.abort(),ai(v,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:T.signal}).then(q=>{clearTimeout(P),q.ok?ai(v,"TestPingServer: ok",!0,m):ai(v,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(P),ai(v,"TestPingServer: error",!1,m)})}function ai(u,m,v,T,P){try{P&&(P.onload=null,P.onerror=null,P.onabort=null,P.ontimeout=null),T(v)}catch{}}function Qr(){this.g=new Di}function Li(u){this.i=u.Sb||null,this.h=u.ab||!1}S(Li,Lr),Li.prototype.g=function(){return new ea(this.i,this.h)};function ea(u,m){be.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}S(ea,be),r=ea.prototype,r.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,Ti(this)},r.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Yr(this)),this.readyState=0},r.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Ti(this)),this.g&&(this.readyState=3,Ti(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Ga(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function Ga(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}r.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?Yr(this):Ti(this),this.readyState==3&&Ga(this)}},r.Oa=function(u){this.g&&(this.response=this.responseText=u,Yr(this))},r.Na=function(u){this.g&&(this.response=u,Yr(this))},r.ga=function(){this.g&&Yr(this)};function Yr(u){u.readyState=4,u.l=null,u.j=null,u.B=null,Ti(u)}r.setRequestHeader=function(u,m){this.A.append(u,m)},r.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var v=m.next();!v.done;)v=v.value,u.push(v[0]+": "+v[1]),v=m.next();return u.join(`\r
`)};function Ti(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(ea.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function oi(u){let m="";return Lt(u,function(v,T){m+=T,m+=":",m+=v,m+=`\r
`}),m}function na(u,m,v){t:{for(T in v){var T=!1;break t}T=!0}T||(v=oi(v),typeof u=="string"?v!=null&&Jn(v):Kt(u,m,v))}function se(u){be.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}S(se,be);var Pi=/^https?$/i,tl=["POST","PUT"];r=se.prototype,r.Fa=function(u){this.H=u},r.ea=function(u,m,v,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Gs.g(),this.g.onreadystatechange=V(_(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(q){ia(this,q);return}if(u=v||"",v=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var P in T)v.set(P,T[P]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const q of T.keys())v.set(q,T.get(q));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(v.keys()).find(q=>q.toLowerCase()=="content-type"),P=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call(tl,m,void 0)>=0)||T||P||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[q,it]of v)this.g.setRequestHeader(q,it);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(q){ia(this,q)}};function ia(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,el(u),sr(u)}function el(u){u.A||(u.A=!0,Ce(u,"complete"),Ce(u,"error"))}r.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,Ce(this,"complete"),Ce(this,"abort"),sr(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),sr(this,!0)),se.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?ra(this):this.Xa())},r.Xa=function(){ra(this)};function ra(u){if(u.h&&typeof c<"u"){if(u.v&&bi(u)==4)setTimeout(u.Ca.bind(u),0);else if(Ce(u,"readystatechange"),bi(u)==4){u.h=!1;try{const q=u.ca();t:switch(q){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var v;if(!(v=m)){var T;if(T=q===0){let it=String(u.D).match(Fa)[1]||null;!it&&d.self&&d.self.location&&(it=d.self.location.protocol.slice(0,-1)),T=!Pi.test(it?it.toLowerCase():"")}v=T}if(v)Ce(u,"complete"),Ce(u,"success");else{u.o=6;try{var P=bi(u)>2?u.g.statusText:""}catch{P=""}u.l=P+" ["+u.ca()+"]",el(u)}}finally{sr(u)}}}}function sr(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const v=u.g;u.g=null,m||Ce(u,"ready");try{v.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function bi(u){return u.g?u.g.readyState:0}r.ca=function(){try{return bi(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),za(m)}};function tn(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function ar(u){const m={};u=(u.g&&bi(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<u.length;T++){if(R(u[T]))continue;var v=Qs(u[T]);const P=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const q=m[P]||[];m[P]=q,q.push(v)}Ft(m,function(T){return T.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function zi(u,m,v){return v&&v.internalChannelParams&&v.internalChannelParams[u]||m}function Kr(u){this.za=0,this.i=[],this.j=new Ie,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=zi("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=zi("baseRetryDelayMs",5e3,u),this.Za=zi("retryDelaySeedMs",1e4,u),this.Ta=zi("forwardChannelMaxRetries",2,u),this.va=zi("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new Ks(u&&u.concurrentRequestLimit),this.Ba=new Qr,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=Kr.prototype,r.ka=8,r.I=1,r.connect=function(u,m,v,T){Pt(0),this.W=u,this.H=m||{},v&&T!==void 0&&(this.H.OSID=v,this.H.OAID=T),this.F=this.X,this.J=Du(this,null,this.W),ji(this)};function nl(u){if(Qa(u),u.I==3){var m=u.V++,v=ge(u.J);if(Kt(v,"SID",u.M),Kt(v,"RID",m),Kt(v,"TYPE","terminate"),sa(u,v),m=new Rn(u,u.j,m),m.M=2,m.A=ki(ge(v)),v=!1,d.navigator&&d.navigator.sendBeacon)try{v=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!v&&d.Image&&(new Image().src=m.A,v=!0),v||(m.g=Mu(m.j,null),m.g.ea(m.A)),m.F=Date.now(),Wn(m)}xu(u)}function Xr(u){u.g&&(rl(u),u.g.cancel(),u.g=null)}function Qa(u){Xr(u),u.v&&(d.clearTimeout(u.v),u.v=null),Ka(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function ji(u){if(!Xs(u.h)&&!u.m){u.m=!0;var m=u.Ea;Jt||A(),Dt||(Jt(),Dt=!0),N.add(m,u),u.D=0}}function Ya(u,m){return ei(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=hn(_(u.Ea,u,m),Nu(u,u.D)),u.D++,!0)}r.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const P=new Rn(this,this.j,u);let q=this.o;if(this.U&&(q?(q=O(q),st(q,this.U)):q=this.U),this.u!==null||this.R||(P.J=q,q=null),this.S)t:{for(var m=0,v=0;v<this.i.length;v++){e:{var T=this.i[v];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break e}T=void 0}if(T===void 0)break;if(m+=T,m>4096){m=v;break t}if(m===4096||v===this.i.length-1){m=v+1;break t}}m=1e3}else m=1e3;m=wu(this,P,m),v=ge(this.J),Kt(v,"RID",u),Kt(v,"CVER",22),this.G&&Kt(v,"X-HTTP-Session-Id",this.G),sa(this,v),q&&(this.R?m="headers="+Jn(oi(q))+"&"+m:this.u&&na(v,this.u,q)),$s(this.h,P),this.Ra&&Kt(v,"TYPE","init"),this.S?(Kt(v,"$req",m),Kt(v,"SID","null"),P.U=!0,Zn(P,v,null)):Zn(P,v,m),this.I=2}}else this.I==3&&(u?il(this,u):this.i.length==0||Xs(this.h)||il(this))};function il(u,m){var v;m?v=m.l:v=u.V++;const T=ge(u.J);Kt(T,"SID",u.M),Kt(T,"RID",v),Kt(T,"AID",u.K),sa(u,T),u.u&&u.o&&na(T,u.u,u.o),v=new Rn(u,u.j,v,u.D+1),u.u===null&&(v.J=u.o),m&&(u.i=m.G.concat(u.i)),m=wu(u,v,1e3),v.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),$s(u.h,v),Zn(v,T,m)}function sa(u,m){u.H&&Lt(u.H,function(v,T){Kt(m,T,v)}),u.l&&Lt({},function(v,T){Kt(m,T,v)})}function wu(u,m,v){v=Math.min(u.i.length,v);const T=u.l?_(u.l.Ka,u.l,u):null;t:{var P=u.i;let It=-1;for(;;){const Me=["count="+v];It==-1?v>0?(It=P[0].g,Me.push("ofs="+It)):It=0:Me.push("ofs="+It);let Zt=!0;for(let pe=0;pe<v;pe++){var q=P[pe].g;const li=P[pe].map;if(q-=It,q<0)It=Math.max(0,P[pe].g-100),Zt=!1;else try{q="req"+q+"_"||"";try{var it=li instanceof Map?li:Object.entries(li);for(const[qi,Si]of it){let Ai=Si;p(Si)&&(Ai=cn(Si)),Me.push(q+qi+"="+encodeURIComponent(Ai))}}catch(qi){throw Me.push(q+"type="+encodeURIComponent("_badmap")),qi}}catch{T&&T(li)}}if(Zt){it=Me.join("&");break t}}it=void 0}return u=u.i.splice(0,v),m.G=u,it}function Ru(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;Jt||A(),Dt||(Jt(),Dt=!0),N.add(m,u),u.A=0}}function aa(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=hn(_(u.Da,u),Nu(u,u.A)),u.A++,!0)}r.Da=function(){if(this.v=null,Cu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=hn(_(this.Wa,this),u)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Pt(10),Xr(this),Cu(this))};function rl(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function Cu(u){u.g=new Rn(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=ge(u.na);Kt(m,"RID","rpc"),Kt(m,"SID",u.M),Kt(m,"AID",u.K),Kt(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&Kt(m,"TO",u.ia),Kt(m,"TYPE","xmlhttp"),sa(u,m),u.u&&u.o&&na(m,u.u,u.o),u.O&&(u.g.H=u.O);var v=u.g;u=u.ba,v.M=1,v.A=ki(ge(m)),v.u=null,v.R=!0,Br(v,u)}r.Va=function(){this.C!=null&&(this.C=null,Xr(this),aa(this),Pt(19))};function Ka(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function Iu(u,m){var v=null;if(u.g==m){Ka(u),rl(u),u.g=null;var T=2}else if(ni(u.h,m))v=m.G,Js(u.h,m),T=1;else return;if(u.I!=0){if(m.o)if(T==1){v=m.u?m.u.length:0,m=Date.now()-m.F;var P=u.D;T=Mi(),Ce(T,new $e(T,v)),ji(u)}else Ru(u);else if(P=m.m,P==3||P==0&&m.X>0||!(T==1&&Ya(u,m)||T==2&&aa(u)))switch(v&&v.length>0&&(m=u.h,m.i=m.i.concat(v)),P){case 1:Bi(u,5);break;case 4:Bi(u,10);break;case 3:Bi(u,6);break;default:Bi(u,2)}}}function Nu(u,m){let v=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(v*=2),v*m}function Bi(u,m){if(u.j.info("Error code "+m),m==2){var v=_(u.bb,u),T=u.Ua;const P=!T;T=new Sn(T||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||xe(T,"https"),ki(T),P?jn(T.toString(),v):Wo(T.toString(),v)}else Pt(2);u.I=0,u.l&&u.l.pa(m),xu(u),Qa(u)}r.bb=function(u){u?(this.j.info("Successfully pinged google.com"),Pt(2)):(this.j.info("Failed to ping google.com"),Pt(1))};function xu(u){if(u.I=0,u.ja=[],u.l){const m=Zs(u.h);(m.length!=0||u.i.length!=0)&&(tt(u.ja,m),tt(u.ja,u.i),u.h.i.length=0,Q(u.i),u.i.length=0),u.l.oa()}}function Du(u,m,v){var T=v instanceof Sn?ge(v):new Sn(v);if(T.g!="")m&&(T.g=m+"."+T.g),Je(T,T.u);else{var P=d.location;T=P.protocol,m=m?m+"."+P.hostname:P.hostname,P=+P.port;const q=new Sn(null);T&&xe(q,T),m&&(q.g=m),P&&Je(q,P),v&&(q.h=v),T=q}return v=u.G,m=u.wa,v&&m&&Kt(T,v,m),Kt(T,"VER",u.ka),sa(u,T),T}function Mu(u,m,v){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new se(new Li({ab:v})):new se(u.ma),m.Fa(u.L),m}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Ou(){}r=Ou.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function $r(){}$r.prototype.g=function(u,m){return new An(u,m)};function An(u,m){be.call(this),this.g=new Kr(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!R(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!R(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new or(this)}S(An,be),An.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},An.prototype.close=function(){nl(this.g)},An.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var v={};v.__data__=u,u=v}else this.v&&(v={},v.__data__=cn(u),u=v);m.i.push(new ve(m.Ya++,u)),m.I==3&&ji(m)},An.prototype.N=function(){this.g.l=null,delete this.j,nl(this.g),delete this.g,An.Z.N.call(this)};function Vu(u){Qe.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){t:{for(const v in m){u=v;break t}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}S(Vu,Qe);function ku(){En.call(this),this.status=1}S(ku,En);function or(u){this.g=u}S(or,Ou),or.prototype.ra=function(){Ce(this.g,"a")},or.prototype.qa=function(u){Ce(this.g,new Vu(u))},or.prototype.pa=function(u){Ce(this.g,new ku)},or.prototype.oa=function(){Ce(this.g,"b")},$r.prototype.createWebChannel=$r.prototype.g,An.prototype.send=An.prototype.o,An.prototype.open=An.prototype.m,An.prototype.close=An.prototype.close,H1=function(){return new $r},q1=function(){return Mi()},B1=_e,Em={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Oi.NO_ERROR=0,Oi.TIMEOUT=8,Oi.HTTP_ERROR=6,Wc=Oi,jr.COMPLETE="complete",j1=jr,Pr.EventType=vn,vn.OPEN="a",vn.CLOSE="b",vn.ERROR="c",vn.MESSAGE="d",be.prototype.listen=be.prototype.J,Gl=Pr,se.prototype.listenOnce=se.prototype.K,se.prototype.getLastError=se.prototype.Ha,se.prototype.getLastErrorCode=se.prototype.ya,se.prototype.getStatus=se.prototype.ca,se.prototype.getResponseJson=se.prototype.La,se.prototype.getResponseText=se.prototype.la,se.prototype.send=se.prototype.ea,se.prototype.setWithCredentials=se.prototype.Fa,z1=se}).apply(typeof jc<"u"?jc:typeof self<"u"?self:typeof window<"u"?window:{});const L0="@firebase/firestore",P0="4.9.2";let pn=class{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}};pn.UNAUTHENTICATED=new pn(null),pn.GOOGLE_CREDENTIALS=new pn("google-credentials-uid"),pn.FIRST_PARTY=new pn("first-party-uid"),pn.MOCK_USER=new pn("mock-user");let Ko="12.3.0";const Va=new qm("@firebase/firestore");function Co(){return Va.logLevel}function ut(r,...t){if(Va.logLevel<=Bt.DEBUG){const i=t.map(Wm);Va.debug(`Firestore (${Ko}): ${r}`,...i)}}function Dr(r,...t){if(Va.logLevel<=Bt.ERROR){const i=t.map(Wm);Va.error(`Firestore (${Ko}): ${r}`,...i)}}function zo(r,...t){if(Va.logLevel<=Bt.WARN){const i=t.map(Wm);Va.warn(`Firestore (${Ko}): ${r}`,...i)}}function Wm(r){if(typeof r=="string")return r;try{return(function(i){return JSON.stringify(i)})(r)}catch{return r}}function Et(r,t,i){let a="Unexpected state";typeof t=="string"?a=t:i=t,F1(r,a,i)}function F1(r,t,i){let a=`FIRESTORE (${Ko}) INTERNAL ASSERTION FAILED: ${t} (ID: ${r.toString(16)})`;if(i!==void 0)try{a+=" CONTEXT: "+JSON.stringify(i)}catch{a+=" CONTEXT: "+i}throw Dr(a),new Error(a)}function te(r,t,i,a){let l="Unexpected state";typeof i=="string"?l=i:a=i,r||F1(t,l,a)}function Rt(r,t){return r}const Z={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ct extends Or{constructor(t,i){super(t,i),this.code=t,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Ia{constructor(){this.promise=new Promise(((t,i)=>{this.resolve=t,this.reject=i}))}}class G1{constructor(t,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class Qw{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,i){t.enqueueRetryable((()=>i(pn.UNAUTHENTICATED)))}shutdown(){}}class Yw{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,i){this.changeListener=i,t.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class Kw{constructor(t){this.t=t,this.currentUser=pn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,i){te(this.o===void 0,42304);let a=this.i;const l=y=>this.i!==a?(a=this.i,i(y)):Promise.resolve();let c=new Ia;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new Ia,t.enqueueRetryable((()=>l(this.currentUser)))};const d=()=>{const y=c;t.enqueueRetryable((async()=>{await y.promise,await l(this.currentUser)}))},p=y=>{ut("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=y,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((y=>p(y))),setTimeout((()=>{if(!this.auth){const y=this.t.getImmediate({optional:!0});y?p(y):(ut("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new Ia)}}),0),d()}getToken(){const t=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((a=>this.i!==t?(ut("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(te(typeof a.accessToken=="string",31837,{l:a}),new G1(a.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return te(t===null||typeof t=="string",2055,{h:t}),new pn(t)}}class Xw{constructor(t,i,a){this.P=t,this.T=i,this.I=a,this.type="FirstParty",this.user=pn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class $w{constructor(t,i,a){this.P=t,this.T=i,this.I=a}getToken(){return Promise.resolve(new Xw(this.P,this.T,this.I))}start(t,i){t.enqueueRetryable((()=>i(pn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class z0{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Jw{constructor(t,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,yi(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,i){te(this.o===void 0,3512);const a=c=>{c.error!=null&&ut("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.m;return this.m=c.token,ut("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(c.token):Promise.resolve()};this.o=c=>{t.enqueueRetryable((()=>a(c)))};const l=c=>{ut("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>l(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?l(c):ut("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new z0(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((i=>i?(te(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new z0(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function Zw(r){const t=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(r);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(i);else for(let a=0;a<r;a++)i[a]=Math.floor(256*Math.random());return i}class tg{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const l=Zw(40);for(let c=0;c<l.length;++c)a.length<20&&l[c]<i&&(a+=t.charAt(l[c]%62))}return a}}function qt(r,t){return r<t?-1:r>t?1:0}function Tm(r,t){const i=Math.min(r.length,t.length);for(let a=0;a<i;a++){const l=r.charAt(a),c=t.charAt(a);if(l!==c)return nm(l)===nm(c)?qt(l,c):nm(l)?1:-1}return qt(r.length,t.length)}const Ww=55296,tR=57343;function nm(r){const t=r.charCodeAt(0);return t>=Ww&&t<=tR}function jo(r,t,i){return r.length===t.length&&r.every(((a,l)=>i(a,t[l])))}const j0="__name__";class Yi{constructor(t,i,a){i===void 0?i=0:i>t.length&&Et(637,{offset:i,range:t.length}),a===void 0?a=t.length-i:a>t.length-i&&Et(1746,{length:a,range:t.length-i}),this.segments=t,this.offset=i,this.len=a}get length(){return this.len}isEqual(t){return Yi.comparator(this,t)===0}child(t){const i=this.segments.slice(this.offset,this.limit());return t instanceof Yi?t.forEach((a=>{i.push(a)})):i.push(t),this.construct(i)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}forEach(t){for(let i=this.offset,a=this.limit();i<a;i++)t(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,i){const a=Math.min(t.length,i.length);for(let l=0;l<a;l++){const c=Yi.compareSegments(t.get(l),i.get(l));if(c!==0)return c}return qt(t.length,i.length)}static compareSegments(t,i){const a=Yi.isNumericId(t),l=Yi.isNumericId(i);return a&&!l?-1:!a&&l?1:a&&l?Yi.extractNumericId(t).compare(Yi.extractNumericId(i)):Tm(t,i)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Is.fromString(t.substring(4,t.length-2))}}class ce extends Yi{construct(t,i,a){return new ce(t,i,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const i=[];for(const a of t){if(a.indexOf("//")>=0)throw new ct(Z.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);i.push(...a.split("/").filter((l=>l.length>0)))}return new ce(i)}static emptyPath(){return new ce([])}}const eR=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class on extends Yi{construct(t,i,a){return new on(t,i,a)}static isValidIdentifier(t){return eR.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),on.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===j0}static keyField(){return new on([j0])}static fromServerFormat(t){const i=[];let a="",l=0;const c=()=>{if(a.length===0)throw new ct(Z.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(a),a=""};let d=!1;for(;l<t.length;){const p=t[l];if(p==="\\"){if(l+1===t.length)throw new ct(Z.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const y=t[l+1];if(y!=="\\"&&y!=="."&&y!=="`")throw new ct(Z.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);a+=y,l+=2}else p==="`"?(d=!d,l++):p!=="."||d?(a+=p,l++):(c(),l++)}if(c(),d)throw new ct(Z.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new on(i)}static emptyPath(){return new on([])}}class pt{constructor(t){this.path=t}static fromPath(t){return new pt(ce.fromString(t))}static fromName(t){return new pt(ce.fromString(t).popFirst(5))}static empty(){return new pt(ce.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&ce.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,i){return ce.comparator(t.path,i.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new pt(new ce(t.slice()))}}function Q1(r,t,i){if(!i)throw new ct(Z.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${t}.`)}function nR(r,t,i,a){if(t===!0&&a===!0)throw new ct(Z.INVALID_ARGUMENT,`${r} and ${i} cannot be used together.`)}function B0(r){if(!pt.isDocumentKey(r))throw new ct(Z.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function q0(r){if(pt.isDocumentKey(r))throw new ct(Z.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function Y1(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function Dh(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const t=(function(a){return a.constructor?a.constructor.name:null})(r);return t?`a custom ${t} object`:"an object"}}return typeof r=="function"?"a function":Et(12329,{type:typeof r})}function $i(r,t){if("_delegate"in r&&(r=r._delegate),!(r instanceof t)){if(t.name===r.constructor.name)throw new ct(Z.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=Dh(r);throw new ct(Z.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${i}`)}}return r}function Ge(r,t){const i={typeString:r};return t&&(i.value=t),i}function _u(r,t){if(!Y1(r))throw new ct(Z.INVALID_ARGUMENT,"JSON must be an object");let i;for(const a in t)if(t[a]){const l=t[a].typeString,c="value"in t[a]?{value:t[a].value}:void 0;if(!(a in r)){i=`JSON missing required field: '${a}'`;break}const d=r[a];if(l&&typeof d!==l){i=`JSON field '${a}' must be a ${l}.`;break}if(c!==void 0&&d!==c.value){i=`Expected '${a}' field to equal '${c.value}'`;break}}if(i)throw new ct(Z.INVALID_ARGUMENT,i);return!0}const H0=-62135596800,F0=1e6;class me{static now(){return me.fromMillis(Date.now())}static fromDate(t){return me.fromMillis(t.getTime())}static fromMillis(t){const i=Math.floor(t/1e3),a=Math.floor((t-1e3*i)*F0);return new me(i,a)}constructor(t,i){if(this.seconds=t,this.nanoseconds=i,i<0)throw new ct(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new ct(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(t<H0)throw new ct(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new ct(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/F0}_compareTo(t){return this.seconds===t.seconds?qt(this.nanoseconds,t.nanoseconds):qt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:me._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(_u(t,me._jsonSchema))return new me(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-H0;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}me._jsonSchemaVersion="firestore/timestamp/1.0",me._jsonSchema={type:Ge("string",me._jsonSchemaVersion),seconds:Ge("number"),nanoseconds:Ge("number")};class St{static fromTimestamp(t){return new St(t)}static min(){return new St(new me(0,0))}static max(){return new St(new me(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const iu=-1;function iR(r,t){const i=r.toTimestamp().seconds,a=r.toTimestamp().nanoseconds+1,l=St.fromTimestamp(a===1e9?new me(i+1,0):new me(i,a));return new xs(l,pt.empty(),t)}function rR(r){return new xs(r.readTime,r.key,iu)}class xs{constructor(t,i,a){this.readTime=t,this.documentKey=i,this.largestBatchId=a}static min(){return new xs(St.min(),pt.empty(),iu)}static max(){return new xs(St.max(),pt.empty(),iu)}}function sR(r,t){let i=r.readTime.compareTo(t.readTime);return i!==0?i:(i=pt.comparator(r.documentKey,t.documentKey),i!==0?i:qt(r.largestBatchId,t.largestBatchId))}const aR="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class oR{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}async function Xo(r){if(r.code!==Z.FAILED_PRECONDITION||r.message!==aR)throw r;ut("LocalStore","Unexpectedly lost primary lease")}class W{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(t){return this.next(void 0,t)}next(t,i){return this.callbackAttached&&Et(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(t,this.result):new W(((a,l)=>{this.nextCallback=c=>{this.wrapSuccess(t,c).next(a,l)},this.catchCallback=c=>{this.wrapFailure(i,c).next(a,l)}}))}toPromise(){return new Promise(((t,i)=>{this.next(t,i)}))}wrapUserFunction(t){try{const i=t();return i instanceof W?i:W.resolve(i)}catch(i){return W.reject(i)}}wrapSuccess(t,i){return t?this.wrapUserFunction((()=>t(i))):W.resolve(i)}wrapFailure(t,i){return t?this.wrapUserFunction((()=>t(i))):W.reject(i)}static resolve(t){return new W(((i,a)=>{i(t)}))}static reject(t){return new W(((i,a)=>{a(t)}))}static waitFor(t){return new W(((i,a)=>{let l=0,c=0,d=!1;t.forEach((p=>{++l,p.next((()=>{++c,d&&c===l&&i()}),(y=>a(y)))})),d=!0,c===l&&i()}))}static or(t){let i=W.resolve(!1);for(const a of t)i=i.next((l=>l?W.resolve(l):a()));return i}static forEach(t,i){const a=[];return t.forEach(((l,c)=>{a.push(i.call(this,l,c))})),this.waitFor(a)}static mapArray(t,i){return new W(((a,l)=>{const c=t.length,d=new Array(c);let p=0;for(let y=0;y<c;y++){const _=y;i(t[_]).next((b=>{d[_]=b,++p,p===c&&a(d)}),(b=>l(b)))}}))}static doWhile(t,i){return new W(((a,l)=>{const c=()=>{t()===!0?i().next((()=>{c()}),l):a()};c()}))}}function lR(r){const t=r.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function $o(r){return r.name==="IndexedDbTransactionError"}class Mh{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=a=>this.ae(a),this.ue=a=>i.writeSequenceNumber(a))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}Mh.ce=-1;const eg=-1;function Oh(r){return r==null}function mh(r){return r===0&&1/r==-1/0}function uR(r){return typeof r=="number"&&Number.isInteger(r)&&!mh(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}const K1="";function cR(r){let t="";for(let i=0;i<r.length;i++)t.length>0&&(t=G0(t)),t=hR(r.get(i),t);return G0(t)}function hR(r,t){let i=t;const a=r.length;for(let l=0;l<a;l++){const c=r.charAt(l);switch(c){case"\0":i+="";break;case K1:i+="";break;default:i+=c}}return i}function G0(r){return r+K1+""}function Q0(r){let t=0;for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&t++;return t}function Us(r,t){for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&t(i,r[i])}function X1(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}class Ee{constructor(t,i){this.comparator=t,this.root=i||an.EMPTY}insert(t,i){return new Ee(this.comparator,this.root.insert(t,i,this.comparator).copy(null,null,an.BLACK,null,null))}remove(t){return new Ee(this.comparator,this.root.remove(t,this.comparator).copy(null,null,an.BLACK,null,null))}get(t){let i=this.root;for(;!i.isEmpty();){const a=this.comparator(t,i.key);if(a===0)return i.value;a<0?i=i.left:a>0&&(i=i.right)}return null}indexOf(t){let i=0,a=this.root;for(;!a.isEmpty();){const l=this.comparator(t,a.key);if(l===0)return i+a.left.size;l<0?a=a.left:(i+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((i,a)=>(t(i,a),!1)))}toString(){const t=[];return this.inorderTraversal(((i,a)=>(t.push(`${i}:${a}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Bc(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Bc(this.root,t,this.comparator,!1)}getReverseIterator(){return new Bc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Bc(this.root,t,this.comparator,!0)}}class Bc{constructor(t,i,a,l){this.isReverse=l,this.nodeStack=[];let c=1;for(;!t.isEmpty();)if(c=i?a(t.key,i):1,i&&l&&(c*=-1),c<0)t=this.isReverse?t.left:t.right;else{if(c===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const i={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class an{constructor(t,i,a,l,c){this.key=t,this.value=i,this.color=a??an.RED,this.left=l??an.EMPTY,this.right=c??an.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,i,a,l,c){return new an(t??this.key,i??this.value,a??this.color,l??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,a){let l=this;const c=a(t,l.key);return l=c<0?l.copy(null,null,null,l.left.insert(t,i,a),null):c===0?l.copy(null,i,null,null,null):l.copy(null,null,null,null,l.right.insert(t,i,a)),l.fixUp()}removeMin(){if(this.left.isEmpty())return an.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,i){let a,l=this;if(i(t,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(t,i),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),i(t,l.key)===0){if(l.right.isEmpty())return an.EMPTY;a=l.right.min(),l=l.copy(a.key,a.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(t,i))}return l.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,an.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,an.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Et(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Et(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw Et(27949);return t+(this.isRed()?0:1)}}an.EMPTY=null,an.RED=!0,an.BLACK=!1;an.EMPTY=new class{constructor(){this.size=0}get key(){throw Et(57766)}get value(){throw Et(16141)}get color(){throw Et(16727)}get left(){throw Et(29726)}get right(){throw Et(36894)}copy(t,i,a,l,c){return this}insert(t,i,a){return new an(t,i)}remove(t,i){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Ke{constructor(t){this.comparator=t,this.data=new Ee(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((i,a)=>(t(i),!1)))}forEachInRange(t,i){const a=this.data.getIteratorFrom(t[0]);for(;a.hasNext();){const l=a.getNext();if(this.comparator(l.key,t[1])>=0)return;i(l.key)}}forEachWhile(t,i){let a;for(a=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();a.hasNext();)if(!t(a.getNext().key))return}firstAfterOrEqual(t){const i=this.data.getIteratorFrom(t);return i.hasNext()?i.getNext().key:null}getIterator(){return new Y0(this.data.getIterator())}getIteratorFrom(t){return new Y0(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let i=this;return i.size<t.size&&(i=t,t=this),t.forEach((a=>{i=i.add(a)})),i}isEqual(t){if(!(t instanceof Ke)||this.size!==t.size)return!1;const i=this.data.getIterator(),a=t.data.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=a.getNext().key;if(this.comparator(l,c)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((i=>{t.push(i)})),t}toString(){const t=[];return this.forEach((i=>t.push(i))),"SortedSet("+t.toString()+")"}copy(t){const i=new Ke(this.comparator);return i.data=t,i}}class Y0{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Kn{constructor(t){this.fields=t,t.sort(on.comparator)}static empty(){return new Kn([])}unionWith(t){let i=new Ke(on.comparator);for(const a of this.fields)i=i.add(a);for(const a of t)i=i.add(a);return new Kn(i.toArray())}covers(t){for(const i of this.fields)if(i.isPrefixOf(t))return!0;return!1}isEqual(t){return jo(this.fields,t.fields,((i,a)=>i.isEqual(a)))}}class $1 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class un{constructor(t){this.binaryString=t}static fromBase64String(t){const i=(function(l){try{return atob(l)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new $1("Invalid base64 string: "+c):c}})(t);return new un(i)}static fromUint8Array(t){const i=(function(l){let c="";for(let d=0;d<l.length;++d)c+=String.fromCharCode(l[d]);return c})(t);return new un(i)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const a=new Uint8Array(i.length);for(let l=0;l<i.length;l++)a[l]=i.charCodeAt(l);return a})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return qt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}un.EMPTY_BYTE_STRING=new un("");const fR=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ds(r){if(te(!!r,39018),typeof r=="string"){let t=0;const i=fR.exec(r);if(te(!!i,46558,{timestamp:r}),i[1]){let l=i[1];l=(l+"000000000").substr(0,9),t=Number(l)}const a=new Date(r);return{seconds:Math.floor(a.getTime()/1e3),nanos:t}}return{seconds:ke(r.seconds),nanos:ke(r.nanos)}}function ke(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function Ms(r){return typeof r=="string"?un.fromBase64String(r):un.fromUint8Array(r)}const J1="server_timestamp",Z1="__type__",W1="__previous_value__",tE="__local_write_time__";function ng(r){return(r?.mapValue?.fields||{})[Z1]?.stringValue===J1}function Vh(r){const t=r.mapValue.fields[W1];return ng(t)?Vh(t):t}function ru(r){const t=Ds(r.mapValue.fields[tE].timestampValue);return new me(t.seconds,t.nanos)}class dR{constructor(t,i,a,l,c,d,p,y,_,b){this.databaseId=t,this.appId=i,this.persistenceKey=a,this.host=l,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=p,this.longPollingOptions=y,this.useFetchStreams=_,this.isUsingEmulator=b}}const gh="(default)";class su{constructor(t,i){this.projectId=t,this.database=i||gh}static empty(){return new su("","")}get isDefaultDatabase(){return this.database===gh}isEqual(t){return t instanceof su&&t.projectId===this.projectId&&t.database===this.database}}const eE="__type__",mR="__max__",qc={mapValue:{}},nE="__vector__",ph="value";function Os(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?ng(r)?4:pR(r)?9007199254740991:gR(r)?10:11:Et(28295,{value:r})}function er(r,t){if(r===t)return!0;const i=Os(r);if(i!==Os(t))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===t.booleanValue;case 4:return ru(r).isEqual(ru(t));case 3:return(function(l,c){if(typeof l.timestampValue=="string"&&typeof c.timestampValue=="string"&&l.timestampValue.length===c.timestampValue.length)return l.timestampValue===c.timestampValue;const d=Ds(l.timestampValue),p=Ds(c.timestampValue);return d.seconds===p.seconds&&d.nanos===p.nanos})(r,t);case 5:return r.stringValue===t.stringValue;case 6:return(function(l,c){return Ms(l.bytesValue).isEqual(Ms(c.bytesValue))})(r,t);case 7:return r.referenceValue===t.referenceValue;case 8:return(function(l,c){return ke(l.geoPointValue.latitude)===ke(c.geoPointValue.latitude)&&ke(l.geoPointValue.longitude)===ke(c.geoPointValue.longitude)})(r,t);case 2:return(function(l,c){if("integerValue"in l&&"integerValue"in c)return ke(l.integerValue)===ke(c.integerValue);if("doubleValue"in l&&"doubleValue"in c){const d=ke(l.doubleValue),p=ke(c.doubleValue);return d===p?mh(d)===mh(p):isNaN(d)&&isNaN(p)}return!1})(r,t);case 9:return jo(r.arrayValue.values||[],t.arrayValue.values||[],er);case 10:case 11:return(function(l,c){const d=l.mapValue.fields||{},p=c.mapValue.fields||{};if(Q0(d)!==Q0(p))return!1;for(const y in d)if(d.hasOwnProperty(y)&&(p[y]===void 0||!er(d[y],p[y])))return!1;return!0})(r,t);default:return Et(52216,{left:r})}}function au(r,t){return(r.values||[]).find((i=>er(i,t)))!==void 0}function Bo(r,t){if(r===t)return 0;const i=Os(r),a=Os(t);if(i!==a)return qt(i,a);switch(i){case 0:case 9007199254740991:return 0;case 1:return qt(r.booleanValue,t.booleanValue);case 2:return(function(c,d){const p=ke(c.integerValue||c.doubleValue),y=ke(d.integerValue||d.doubleValue);return p<y?-1:p>y?1:p===y?0:isNaN(p)?isNaN(y)?0:-1:1})(r,t);case 3:return K0(r.timestampValue,t.timestampValue);case 4:return K0(ru(r),ru(t));case 5:return Tm(r.stringValue,t.stringValue);case 6:return(function(c,d){const p=Ms(c),y=Ms(d);return p.compareTo(y)})(r.bytesValue,t.bytesValue);case 7:return(function(c,d){const p=c.split("/"),y=d.split("/");for(let _=0;_<p.length&&_<y.length;_++){const b=qt(p[_],y[_]);if(b!==0)return b}return qt(p.length,y.length)})(r.referenceValue,t.referenceValue);case 8:return(function(c,d){const p=qt(ke(c.latitude),ke(d.latitude));return p!==0?p:qt(ke(c.longitude),ke(d.longitude))})(r.geoPointValue,t.geoPointValue);case 9:return X0(r.arrayValue,t.arrayValue);case 10:return(function(c,d){const p=c.fields||{},y=d.fields||{},_=p[ph]?.arrayValue,b=y[ph]?.arrayValue,S=qt(_?.values?.length||0,b?.values?.length||0);return S!==0?S:X0(_,b)})(r.mapValue,t.mapValue);case 11:return(function(c,d){if(c===qc.mapValue&&d===qc.mapValue)return 0;if(c===qc.mapValue)return 1;if(d===qc.mapValue)return-1;const p=c.fields||{},y=Object.keys(p),_=d.fields||{},b=Object.keys(_);y.sort(),b.sort();for(let S=0;S<y.length&&S<b.length;++S){const V=Tm(y[S],b[S]);if(V!==0)return V;const Q=Bo(p[y[S]],_[b[S]]);if(Q!==0)return Q}return qt(y.length,b.length)})(r.mapValue,t.mapValue);default:throw Et(23264,{he:i})}}function K0(r,t){if(typeof r=="string"&&typeof t=="string"&&r.length===t.length)return qt(r,t);const i=Ds(r),a=Ds(t),l=qt(i.seconds,a.seconds);return l!==0?l:qt(i.nanos,a.nanos)}function X0(r,t){const i=r.values||[],a=t.values||[];for(let l=0;l<i.length&&l<a.length;++l){const c=Bo(i[l],a[l]);if(c)return c}return qt(i.length,a.length)}function qo(r){return bm(r)}function bm(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(i){const a=Ds(i);return`time(${a.seconds},${a.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(i){return Ms(i).toBase64()})(r.bytesValue):"referenceValue"in r?(function(i){return pt.fromName(i).toString()})(r.referenceValue):"geoPointValue"in r?(function(i){return`geo(${i.latitude},${i.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(i){let a="[",l=!0;for(const c of i.values||[])l?l=!1:a+=",",a+=bm(c);return a+"]"})(r.arrayValue):"mapValue"in r?(function(i){const a=Object.keys(i.fields||{}).sort();let l="{",c=!0;for(const d of a)c?c=!1:l+=",",l+=`${d}:${bm(i.fields[d])}`;return l+"}"})(r.mapValue):Et(61005,{value:r})}function th(r){switch(Os(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=Vh(r);return t?16+th(t):16;case 5:return 2*r.stringValue.length;case 6:return Ms(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(a){return(a.values||[]).reduce(((l,c)=>l+th(c)),0)})(r.arrayValue);case 10:case 11:return(function(a){let l=0;return Us(a.fields,((c,d)=>{l+=c.length+th(d)})),l})(r.mapValue);default:throw Et(13486,{value:r})}}function $0(r,t){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${t.path.canonicalString()}`}}function Sm(r){return!!r&&"integerValue"in r}function ig(r){return!!r&&"arrayValue"in r}function J0(r){return!!r&&"nullValue"in r}function Z0(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function eh(r){return!!r&&"mapValue"in r}function gR(r){return(r?.mapValue?.fields||{})[eE]?.stringValue===nE}function Jl(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const t={mapValue:{fields:{}}};return Us(r.mapValue.fields,((i,a)=>t.mapValue.fields[i]=Jl(a))),t}if(r.arrayValue){const t={arrayValue:{values:[]}};for(let i=0;i<(r.arrayValue.values||[]).length;++i)t.arrayValue.values[i]=Jl(r.arrayValue.values[i]);return t}return{...r}}function pR(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===mR}class kn{constructor(t){this.value=t}static empty(){return new kn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let i=this.value;for(let a=0;a<t.length-1;++a)if(i=(i.mapValue.fields||{})[t.get(a)],!eh(i))return null;return i=(i.mapValue.fields||{})[t.lastSegment()],i||null}}set(t,i){this.getFieldsMap(t.popLast())[t.lastSegment()]=Jl(i)}setAll(t){let i=on.emptyPath(),a={},l=[];t.forEach(((d,p)=>{if(!i.isImmediateParentOf(p)){const y=this.getFieldsMap(i);this.applyChanges(y,a,l),a={},l=[],i=p.popLast()}d?a[p.lastSegment()]=Jl(d):l.push(p.lastSegment())}));const c=this.getFieldsMap(i);this.applyChanges(c,a,l)}delete(t){const i=this.field(t.popLast());eh(i)&&i.mapValue.fields&&delete i.mapValue.fields[t.lastSegment()]}isEqual(t){return er(this.value,t.value)}getFieldsMap(t){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let a=0;a<t.length;++a){let l=i.mapValue.fields[t.get(a)];eh(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},i.mapValue.fields[t.get(a)]=l),i=l}return i.mapValue.fields}applyChanges(t,i,a){Us(i,((l,c)=>t[l]=c));for(const l of a)delete t[l]}clone(){return new kn(Jl(this.value))}}function iE(r){const t=[];return Us(r.fields,((i,a)=>{const l=new on([i]);if(eh(a)){const c=iE(a.mapValue).fields;if(c.length===0)t.push(l);else for(const d of c)t.push(l.child(d))}else t.push(l)})),new Kn(t)}class yn{constructor(t,i,a,l,c,d,p){this.key=t,this.documentType=i,this.version=a,this.readTime=l,this.createTime=c,this.data=d,this.documentState=p}static newInvalidDocument(t){return new yn(t,0,St.min(),St.min(),St.min(),kn.empty(),0)}static newFoundDocument(t,i,a,l){return new yn(t,1,i,St.min(),a,l,0)}static newNoDocument(t,i){return new yn(t,2,i,St.min(),St.min(),kn.empty(),0)}static newUnknownDocument(t,i){return new yn(t,3,i,St.min(),St.min(),kn.empty(),2)}convertToFoundDocument(t,i){return!this.createTime.isEqual(St.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=kn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=kn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=St.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof yn&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new yn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class yh{constructor(t,i){this.position=t,this.inclusive=i}}function W0(r,t,i){let a=0;for(let l=0;l<r.position.length;l++){const c=t[l],d=r.position[l];if(c.field.isKeyField()?a=pt.comparator(pt.fromName(d.referenceValue),i.key):a=Bo(d,i.data.field(c.field)),c.dir==="desc"&&(a*=-1),a!==0)break}return a}function tv(r,t){if(r===null)return t===null;if(t===null||r.inclusive!==t.inclusive||r.position.length!==t.position.length)return!1;for(let i=0;i<r.position.length;i++)if(!er(r.position[i],t.position[i]))return!1;return!0}class _h{constructor(t,i="asc"){this.field=t,this.dir=i}}function yR(r,t){return r.dir===t.dir&&r.field.isEqual(t.field)}class rE{}class Fe extends rE{constructor(t,i,a){super(),this.field=t,this.op=i,this.value=a}static create(t,i,a){return t.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(t,i,a):new vR(t,i,a):i==="array-contains"?new bR(t,a):i==="in"?new SR(t,a):i==="not-in"?new AR(t,a):i==="array-contains-any"?new wR(t,a):new Fe(t,i,a)}static createKeyFieldInFilter(t,i,a){return i==="in"?new ER(t,a):new TR(t,a)}matches(t){const i=t.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(Bo(i,this.value)):i!==null&&Os(this.value)===Os(i)&&this.matchesComparison(Bo(i,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return Et(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class xi extends rE{constructor(t,i){super(),this.filters=t,this.op=i,this.Pe=null}static create(t,i){return new xi(t,i)}matches(t){return sE(this)?this.filters.find((i=>!i.matches(t)))===void 0:this.filters.find((i=>i.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,i)=>t.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function sE(r){return r.op==="and"}function aE(r){return _R(r)&&sE(r)}function _R(r){for(const t of r.filters)if(t instanceof xi)return!1;return!0}function Am(r){if(r instanceof Fe)return r.field.canonicalString()+r.op.toString()+qo(r.value);if(aE(r))return r.filters.map((t=>Am(t))).join(",");{const t=r.filters.map((i=>Am(i))).join(",");return`${r.op}(${t})`}}function oE(r,t){return r instanceof Fe?(function(a,l){return l instanceof Fe&&a.op===l.op&&a.field.isEqual(l.field)&&er(a.value,l.value)})(r,t):r instanceof xi?(function(a,l){return l instanceof xi&&a.op===l.op&&a.filters.length===l.filters.length?a.filters.reduce(((c,d,p)=>c&&oE(d,l.filters[p])),!0):!1})(r,t):void Et(19439)}function lE(r){return r instanceof Fe?(function(i){return`${i.field.canonicalString()} ${i.op} ${qo(i.value)}`})(r):r instanceof xi?(function(i){return i.op.toString()+" {"+i.getFilters().map(lE).join(" ,")+"}"})(r):"Filter"}class vR extends Fe{constructor(t,i,a){super(t,i,a),this.key=pt.fromName(a.referenceValue)}matches(t){const i=pt.comparator(t.key,this.key);return this.matchesComparison(i)}}class ER extends Fe{constructor(t,i){super(t,"in",i),this.keys=uE("in",i)}matches(t){return this.keys.some((i=>i.isEqual(t.key)))}}class TR extends Fe{constructor(t,i){super(t,"not-in",i),this.keys=uE("not-in",i)}matches(t){return!this.keys.some((i=>i.isEqual(t.key)))}}function uE(r,t){return(t.arrayValue?.values||[]).map((i=>pt.fromName(i.referenceValue)))}class bR extends Fe{constructor(t,i){super(t,"array-contains",i)}matches(t){const i=t.data.field(this.field);return ig(i)&&au(i.arrayValue,this.value)}}class SR extends Fe{constructor(t,i){super(t,"in",i)}matches(t){const i=t.data.field(this.field);return i!==null&&au(this.value.arrayValue,i)}}class AR extends Fe{constructor(t,i){super(t,"not-in",i)}matches(t){if(au(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=t.data.field(this.field);return i!==null&&i.nullValue===void 0&&!au(this.value.arrayValue,i)}}class wR extends Fe{constructor(t,i){super(t,"array-contains-any",i)}matches(t){const i=t.data.field(this.field);return!(!ig(i)||!i.arrayValue.values)&&i.arrayValue.values.some((a=>au(this.value.arrayValue,a)))}}class RR{constructor(t,i=null,a=[],l=[],c=null,d=null,p=null){this.path=t,this.collectionGroup=i,this.orderBy=a,this.filters=l,this.limit=c,this.startAt=d,this.endAt=p,this.Te=null}}function ev(r,t=null,i=[],a=[],l=null,c=null,d=null){return new RR(r,t,i,a,l,c,d)}function rg(r){const t=Rt(r);if(t.Te===null){let i=t.path.canonicalString();t.collectionGroup!==null&&(i+="|cg:"+t.collectionGroup),i+="|f:",i+=t.filters.map((a=>Am(a))).join(","),i+="|ob:",i+=t.orderBy.map((a=>(function(c){return c.field.canonicalString()+c.dir})(a))).join(","),Oh(t.limit)||(i+="|l:",i+=t.limit),t.startAt&&(i+="|lb:",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map((a=>qo(a))).join(",")),t.endAt&&(i+="|ub:",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map((a=>qo(a))).join(",")),t.Te=i}return t.Te}function sg(r,t){if(r.limit!==t.limit||r.orderBy.length!==t.orderBy.length)return!1;for(let i=0;i<r.orderBy.length;i++)if(!yR(r.orderBy[i],t.orderBy[i]))return!1;if(r.filters.length!==t.filters.length)return!1;for(let i=0;i<r.filters.length;i++)if(!oE(r.filters[i],t.filters[i]))return!1;return r.collectionGroup===t.collectionGroup&&!!r.path.isEqual(t.path)&&!!tv(r.startAt,t.startAt)&&tv(r.endAt,t.endAt)}function wm(r){return pt.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}class vu{constructor(t,i=null,a=[],l=[],c=null,d="F",p=null,y=null){this.path=t,this.collectionGroup=i,this.explicitOrderBy=a,this.filters=l,this.limit=c,this.limitType=d,this.startAt=p,this.endAt=y,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function CR(r,t,i,a,l,c,d,p){return new vu(r,t,i,a,l,c,d,p)}function ag(r){return new vu(r)}function nv(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function cE(r){return r.collectionGroup!==null}function Zl(r){const t=Rt(r);if(t.Ie===null){t.Ie=[];const i=new Set;for(const c of t.explicitOrderBy)t.Ie.push(c),i.add(c.field.canonicalString());const a=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(d){let p=new Ke(on.comparator);return d.filters.forEach((y=>{y.getFlattenedFilters().forEach((_=>{_.isInequality()&&(p=p.add(_.field))}))})),p})(t).forEach((c=>{i.has(c.canonicalString())||c.isKeyField()||t.Ie.push(new _h(c,a))})),i.has(on.keyField().canonicalString())||t.Ie.push(new _h(on.keyField(),a))}return t.Ie}function Ji(r){const t=Rt(r);return t.Ee||(t.Ee=IR(t,Zl(r))),t.Ee}function IR(r,t){if(r.limitType==="F")return ev(r.path,r.collectionGroup,t,r.filters,r.limit,r.startAt,r.endAt);{t=t.map((l=>{const c=l.dir==="desc"?"asc":"desc";return new _h(l.field,c)}));const i=r.endAt?new yh(r.endAt.position,r.endAt.inclusive):null,a=r.startAt?new yh(r.startAt.position,r.startAt.inclusive):null;return ev(r.path,r.collectionGroup,t,r.filters,r.limit,i,a)}}function Rm(r,t){const i=r.filters.concat([t]);return new vu(r.path,r.collectionGroup,r.explicitOrderBy.slice(),i,r.limit,r.limitType,r.startAt,r.endAt)}function Cm(r,t,i){return new vu(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),t,i,r.startAt,r.endAt)}function kh(r,t){return sg(Ji(r),Ji(t))&&r.limitType===t.limitType}function hE(r){return`${rg(Ji(r))}|lt:${r.limitType}`}function Io(r){return`Query(target=${(function(i){let a=i.path.canonicalString();return i.collectionGroup!==null&&(a+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(a+=`, filters: [${i.filters.map((l=>lE(l))).join(", ")}]`),Oh(i.limit)||(a+=", limit: "+i.limit),i.orderBy.length>0&&(a+=`, orderBy: [${i.orderBy.map((l=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(l))).join(", ")}]`),i.startAt&&(a+=", startAt: ",a+=i.startAt.inclusive?"b:":"a:",a+=i.startAt.position.map((l=>qo(l))).join(",")),i.endAt&&(a+=", endAt: ",a+=i.endAt.inclusive?"a:":"b:",a+=i.endAt.position.map((l=>qo(l))).join(",")),`Target(${a})`})(Ji(r))}; limitType=${r.limitType})`}function Uh(r,t){return t.isFoundDocument()&&(function(a,l){const c=l.key.path;return a.collectionGroup!==null?l.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(c):pt.isDocumentKey(a.path)?a.path.isEqual(c):a.path.isImmediateParentOf(c)})(r,t)&&(function(a,l){for(const c of Zl(a))if(!c.field.isKeyField()&&l.data.field(c.field)===null)return!1;return!0})(r,t)&&(function(a,l){for(const c of a.filters)if(!c.matches(l))return!1;return!0})(r,t)&&(function(a,l){return!(a.startAt&&!(function(d,p,y){const _=W0(d,p,y);return d.inclusive?_<=0:_<0})(a.startAt,Zl(a),l)||a.endAt&&!(function(d,p,y){const _=W0(d,p,y);return d.inclusive?_>=0:_>0})(a.endAt,Zl(a),l))})(r,t)}function NR(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function fE(r){return(t,i)=>{let a=!1;for(const l of Zl(r)){const c=xR(l,t,i);if(c!==0)return c;a=a||l.field.isKeyField()}return 0}}function xR(r,t,i){const a=r.field.isKeyField()?pt.comparator(t.key,i.key):(function(c,d,p){const y=d.data.field(c),_=p.data.field(c);return y!==null&&_!==null?Bo(y,_):Et(42886)})(r.field,t,i);switch(r.dir){case"asc":return a;case"desc":return-1*a;default:return Et(19790,{direction:r.dir})}}class La{constructor(t,i){this.mapKeyFn=t,this.equalsFn=i,this.inner={},this.innerSize=0}get(t){const i=this.mapKeyFn(t),a=this.inner[i];if(a!==void 0){for(const[l,c]of a)if(this.equalsFn(l,t))return c}}has(t){return this.get(t)!==void 0}set(t,i){const a=this.mapKeyFn(t),l=this.inner[a];if(l===void 0)return this.inner[a]=[[t,i]],void this.innerSize++;for(let c=0;c<l.length;c++)if(this.equalsFn(l[c][0],t))return void(l[c]=[t,i]);l.push([t,i]),this.innerSize++}delete(t){const i=this.mapKeyFn(t),a=this.inner[i];if(a===void 0)return!1;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],t))return a.length===1?delete this.inner[i]:a.splice(l,1),this.innerSize--,!0;return!1}forEach(t){Us(this.inner,((i,a)=>{for(const[l,c]of a)t(l,c)}))}isEmpty(){return X1(this.inner)}size(){return this.innerSize}}const DR=new Ee(pt.comparator);function Mr(){return DR}const dE=new Ee(pt.comparator);function Ql(...r){let t=dE;for(const i of r)t=t.insert(i.key,i);return t}function mE(r){let t=dE;return r.forEach(((i,a)=>t=t.insert(i,a.overlayedDocument))),t}function Ca(){return Wl()}function gE(){return Wl()}function Wl(){return new La((r=>r.toString()),((r,t)=>r.isEqual(t)))}const MR=new Ee(pt.comparator),OR=new Ke(pt.comparator);function Ht(...r){let t=OR;for(const i of r)t=t.add(i);return t}const VR=new Ke(qt);function kR(){return VR}function og(r,t){if(r.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:mh(t)?"-0":t}}function pE(r){return{integerValue:""+r}}function UR(r,t){return uR(t)?pE(t):og(r,t)}class Lh{constructor(){this._=void 0}}function LR(r,t,i){return r instanceof ou?(function(l,c){const d={fields:{[Z1]:{stringValue:J1},[tE]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return c&&ng(c)&&(c=Vh(c)),c&&(d.fields[W1]=c),{mapValue:d}})(i,t):r instanceof lu?_E(r,t):r instanceof uu?vE(r,t):(function(l,c){const d=yE(l,c),p=iv(d)+iv(l.Ae);return Sm(d)&&Sm(l.Ae)?pE(p):og(l.serializer,p)})(r,t)}function PR(r,t,i){return r instanceof lu?_E(r,t):r instanceof uu?vE(r,t):i}function yE(r,t){return r instanceof vh?(function(a){return Sm(a)||(function(c){return!!c&&"doubleValue"in c})(a)})(t)?t:{integerValue:0}:null}class ou extends Lh{}class lu extends Lh{constructor(t){super(),this.elements=t}}function _E(r,t){const i=EE(t);for(const a of r.elements)i.some((l=>er(l,a)))||i.push(a);return{arrayValue:{values:i}}}class uu extends Lh{constructor(t){super(),this.elements=t}}function vE(r,t){let i=EE(t);for(const a of r.elements)i=i.filter((l=>!er(l,a)));return{arrayValue:{values:i}}}class vh extends Lh{constructor(t,i){super(),this.serializer=t,this.Ae=i}}function iv(r){return ke(r.integerValue||r.doubleValue)}function EE(r){return ig(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}class zR{constructor(t,i){this.field=t,this.transform=i}}function jR(r,t){return r.field.isEqual(t.field)&&(function(a,l){return a instanceof lu&&l instanceof lu||a instanceof uu&&l instanceof uu?jo(a.elements,l.elements,er):a instanceof vh&&l instanceof vh?er(a.Ae,l.Ae):a instanceof ou&&l instanceof ou})(r.transform,t.transform)}class BR{constructor(t,i){this.version=t,this.transformResults=i}}class vi{constructor(t,i){this.updateTime=t,this.exists=i}static none(){return new vi}static exists(t){return new vi(void 0,t)}static updateTime(t){return new vi(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function nh(r,t){return r.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(r.updateTime):r.exists===void 0||r.exists===t.isFoundDocument()}class Ph{}function TE(r,t){if(!r.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return r.isNoDocument()?new lg(r.key,vi.none()):new Eu(r.key,r.data,vi.none());{const i=r.data,a=kn.empty();let l=new Ke(on.comparator);for(let c of t.fields)if(!l.has(c)){let d=i.field(c);d===null&&c.length>1&&(c=c.popLast(),d=i.field(c)),d===null?a.delete(c):a.set(c,d),l=l.add(c)}return new Ls(r.key,a,new Kn(l.toArray()),vi.none())}}function qR(r,t,i){r instanceof Eu?(function(l,c,d){const p=l.value.clone(),y=sv(l.fieldTransforms,c,d.transformResults);p.setAll(y),c.convertToFoundDocument(d.version,p).setHasCommittedMutations()})(r,t,i):r instanceof Ls?(function(l,c,d){if(!nh(l.precondition,c))return void c.convertToUnknownDocument(d.version);const p=sv(l.fieldTransforms,c,d.transformResults),y=c.data;y.setAll(bE(l)),y.setAll(p),c.convertToFoundDocument(d.version,y).setHasCommittedMutations()})(r,t,i):(function(l,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()})(0,t,i)}function tu(r,t,i,a){return r instanceof Eu?(function(c,d,p,y){if(!nh(c.precondition,d))return p;const _=c.value.clone(),b=av(c.fieldTransforms,y,d);return _.setAll(b),d.convertToFoundDocument(d.version,_).setHasLocalMutations(),null})(r,t,i,a):r instanceof Ls?(function(c,d,p,y){if(!nh(c.precondition,d))return p;const _=av(c.fieldTransforms,y,d),b=d.data;return b.setAll(bE(c)),b.setAll(_),d.convertToFoundDocument(d.version,b).setHasLocalMutations(),p===null?null:p.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((S=>S.field)))})(r,t,i,a):(function(c,d,p){return nh(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):p})(r,t,i)}function HR(r,t){let i=null;for(const a of r.fieldTransforms){const l=t.data.field(a.field),c=yE(a.transform,l||null);c!=null&&(i===null&&(i=kn.empty()),i.set(a.field,c))}return i||null}function rv(r,t){return r.type===t.type&&!!r.key.isEqual(t.key)&&!!r.precondition.isEqual(t.precondition)&&!!(function(a,l){return a===void 0&&l===void 0||!(!a||!l)&&jo(a,l,((c,d)=>jR(c,d)))})(r.fieldTransforms,t.fieldTransforms)&&(r.type===0?r.value.isEqual(t.value):r.type!==1||r.data.isEqual(t.data)&&r.fieldMask.isEqual(t.fieldMask))}class Eu extends Ph{constructor(t,i,a,l=[]){super(),this.key=t,this.value=i,this.precondition=a,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class Ls extends Ph{constructor(t,i,a,l,c=[]){super(),this.key=t,this.data=i,this.fieldMask=a,this.precondition=l,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function bE(r){const t=new Map;return r.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const a=r.data.field(i);t.set(i,a)}})),t}function sv(r,t,i){const a=new Map;te(r.length===i.length,32656,{Re:i.length,Ve:r.length});for(let l=0;l<i.length;l++){const c=r[l],d=c.transform,p=t.data.field(c.field);a.set(c.field,PR(d,p,i[l]))}return a}function av(r,t,i){const a=new Map;for(const l of r){const c=l.transform,d=i.data.field(l.field);a.set(l.field,LR(c,d,t))}return a}class lg extends Ph{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class FR extends Ph{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class GR{constructor(t,i,a,l){this.batchId=t,this.localWriteTime=i,this.baseMutations=a,this.mutations=l}applyToRemoteDocument(t,i){const a=i.mutationResults;for(let l=0;l<this.mutations.length;l++){const c=this.mutations[l];c.key.isEqual(t.key)&&qR(c,t,a[l])}}applyToLocalView(t,i){for(const a of this.baseMutations)a.key.isEqual(t.key)&&(i=tu(a,t,i,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(t.key)&&(i=tu(a,t,i,this.localWriteTime));return i}applyToLocalDocumentSet(t,i){const a=gE();return this.mutations.forEach((l=>{const c=t.get(l.key),d=c.overlayedDocument;let p=this.applyToLocalView(d,c.mutatedFields);p=i.has(l.key)?null:p;const y=TE(d,p);y!==null&&a.set(l.key,y),d.isValidDocument()||d.convertToNoDocument(St.min())})),a}keys(){return this.mutations.reduce(((t,i)=>t.add(i.key)),Ht())}isEqual(t){return this.batchId===t.batchId&&jo(this.mutations,t.mutations,((i,a)=>rv(i,a)))&&jo(this.baseMutations,t.baseMutations,((i,a)=>rv(i,a)))}}class ug{constructor(t,i,a,l){this.batch=t,this.commitVersion=i,this.mutationResults=a,this.docVersions=l}static from(t,i,a){te(t.mutations.length===a.length,58842,{me:t.mutations.length,fe:a.length});let l=(function(){return MR})();const c=t.mutations;for(let d=0;d<c.length;d++)l=l.insert(c[d].key,a[d].version);return new ug(t,i,a,l)}}class QR{constructor(t,i){this.largestBatchId=t,this.mutation=i}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class YR{constructor(t,i){this.count=t,this.unchangedNames=i}}var He,Yt;function KR(r){switch(r){case Z.OK:return Et(64938);case Z.CANCELLED:case Z.UNKNOWN:case Z.DEADLINE_EXCEEDED:case Z.RESOURCE_EXHAUSTED:case Z.INTERNAL:case Z.UNAVAILABLE:case Z.UNAUTHENTICATED:return!1;case Z.INVALID_ARGUMENT:case Z.NOT_FOUND:case Z.ALREADY_EXISTS:case Z.PERMISSION_DENIED:case Z.FAILED_PRECONDITION:case Z.ABORTED:case Z.OUT_OF_RANGE:case Z.UNIMPLEMENTED:case Z.DATA_LOSS:return!0;default:return Et(15467,{code:r})}}function SE(r){if(r===void 0)return Dr("GRPC error has no .code"),Z.UNKNOWN;switch(r){case He.OK:return Z.OK;case He.CANCELLED:return Z.CANCELLED;case He.UNKNOWN:return Z.UNKNOWN;case He.DEADLINE_EXCEEDED:return Z.DEADLINE_EXCEEDED;case He.RESOURCE_EXHAUSTED:return Z.RESOURCE_EXHAUSTED;case He.INTERNAL:return Z.INTERNAL;case He.UNAVAILABLE:return Z.UNAVAILABLE;case He.UNAUTHENTICATED:return Z.UNAUTHENTICATED;case He.INVALID_ARGUMENT:return Z.INVALID_ARGUMENT;case He.NOT_FOUND:return Z.NOT_FOUND;case He.ALREADY_EXISTS:return Z.ALREADY_EXISTS;case He.PERMISSION_DENIED:return Z.PERMISSION_DENIED;case He.FAILED_PRECONDITION:return Z.FAILED_PRECONDITION;case He.ABORTED:return Z.ABORTED;case He.OUT_OF_RANGE:return Z.OUT_OF_RANGE;case He.UNIMPLEMENTED:return Z.UNIMPLEMENTED;case He.DATA_LOSS:return Z.DATA_LOSS;default:return Et(39323,{code:r})}}(Yt=He||(He={}))[Yt.OK=0]="OK",Yt[Yt.CANCELLED=1]="CANCELLED",Yt[Yt.UNKNOWN=2]="UNKNOWN",Yt[Yt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Yt[Yt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Yt[Yt.NOT_FOUND=5]="NOT_FOUND",Yt[Yt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Yt[Yt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Yt[Yt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Yt[Yt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Yt[Yt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Yt[Yt.ABORTED=10]="ABORTED",Yt[Yt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Yt[Yt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Yt[Yt.INTERNAL=13]="INTERNAL",Yt[Yt.UNAVAILABLE=14]="UNAVAILABLE",Yt[Yt.DATA_LOSS=15]="DATA_LOSS";function XR(){return new TextEncoder}const $R=new Is([4294967295,4294967295],0);function ov(r){const t=XR().encode(r),i=new P1;return i.update(t),new Uint8Array(i.digest())}function lv(r){const t=new DataView(r.buffer),i=t.getUint32(0,!0),a=t.getUint32(4,!0),l=t.getUint32(8,!0),c=t.getUint32(12,!0);return[new Is([i,a],0),new Is([l,c],0)]}class cg{constructor(t,i,a){if(this.bitmap=t,this.padding=i,this.hashCount=a,i<0||i>=8)throw new Yl(`Invalid padding: ${i}`);if(a<0)throw new Yl(`Invalid hash count: ${a}`);if(t.length>0&&this.hashCount===0)throw new Yl(`Invalid hash count: ${a}`);if(t.length===0&&i!==0)throw new Yl(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*t.length-i,this.pe=Is.fromNumber(this.ge)}ye(t,i,a){let l=t.add(i.multiply(Is.fromNumber(a)));return l.compare($R)===1&&(l=new Is([l.getBits(0),l.getBits(1)],0)),l.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const i=ov(t),[a,l]=lv(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,l,c);if(!this.we(d))return!1}return!0}static create(t,i,a){const l=t%8==0?0:8-t%8,c=new Uint8Array(Math.ceil(t/8)),d=new cg(c,l,i);return a.forEach((p=>d.insert(p))),d}insert(t){if(this.ge===0)return;const i=ov(t),[a,l]=lv(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,l,c);this.Se(d)}}Se(t){const i=Math.floor(t/8),a=t%8;this.bitmap[i]|=1<<a}}class Yl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class zh{constructor(t,i,a,l,c){this.snapshotVersion=t,this.targetChanges=i,this.targetMismatches=a,this.documentUpdates=l,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(t,i,a){const l=new Map;return l.set(t,Tu.createSynthesizedTargetChangeForCurrentChange(t,i,a)),new zh(St.min(),l,new Ee(qt),Mr(),Ht())}}class Tu{constructor(t,i,a,l,c){this.resumeToken=t,this.current=i,this.addedDocuments=a,this.modifiedDocuments=l,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(t,i,a){return new Tu(a,i,Ht(),Ht(),Ht())}}class ih{constructor(t,i,a,l){this.be=t,this.removedTargetIds=i,this.key=a,this.De=l}}class AE{constructor(t,i){this.targetId=t,this.Ce=i}}class wE{constructor(t,i,a=un.EMPTY_BYTE_STRING,l=null){this.state=t,this.targetIds=i,this.resumeToken=a,this.cause=l}}class uv{constructor(){this.ve=0,this.Fe=cv(),this.Me=un.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=Ht(),i=Ht(),a=Ht();return this.Fe.forEach(((l,c)=>{switch(c){case 0:t=t.add(l);break;case 2:i=i.add(l);break;case 1:a=a.add(l);break;default:Et(38017,{changeType:c})}})),new Tu(this.Me,this.xe,t,i,a)}qe(){this.Oe=!1,this.Fe=cv()}Qe(t,i){this.Oe=!0,this.Fe=this.Fe.insert(t,i)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,te(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class JR{constructor(t){this.Ge=t,this.ze=new Map,this.je=Mr(),this.Je=Hc(),this.He=Hc(),this.Ye=new Ee(qt)}Ze(t){for(const i of t.be)t.De&&t.De.isFoundDocument()?this.Xe(i,t.De):this.et(i,t.key,t.De);for(const i of t.removedTargetIds)this.et(i,t.key,t.De)}tt(t){this.forEachTarget(t,(i=>{const a=this.nt(i);switch(t.state){case 0:this.rt(i)&&a.Le(t.resumeToken);break;case 1:a.Ke(),a.Ne||a.qe(),a.Le(t.resumeToken);break;case 2:a.Ke(),a.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(a.We(),a.Le(t.resumeToken));break;case 4:this.rt(i)&&(this.it(i),a.Le(t.resumeToken));break;default:Et(56790,{state:t.state})}}))}forEachTarget(t,i){t.targetIds.length>0?t.targetIds.forEach(i):this.ze.forEach(((a,l)=>{this.rt(l)&&i(l)}))}st(t){const i=t.targetId,a=t.Ce.count,l=this.ot(i);if(l){const c=l.target;if(wm(c))if(a===0){const d=new pt(c.path);this.et(i,d,yn.newNoDocument(d,St.min()))}else te(a===1,20013,{expectedCount:a});else{const d=this._t(i);if(d!==a){const p=this.ut(t),y=p?this.ct(p,t,d):1;if(y!==0){this.it(i);const _=y===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(i,_)}}}}}ut(t){const i=t.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:a="",padding:l=0},hashCount:c=0}=i;let d,p;try{d=Ms(a).toUint8Array()}catch(y){if(y instanceof $1)return zo("Decoding the base64 bloom filter in existence filter failed ("+y.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw y}try{p=new cg(d,l,c)}catch(y){return zo(y instanceof Yl?"BloomFilter error: ":"Applying bloom filter failed: ",y),null}return p.ge===0?null:p}ct(t,i,a){return i.Ce.count===a-this.Pt(t,i.targetId)?0:2}Pt(t,i){const a=this.Ge.getRemoteKeysForTarget(i);let l=0;return a.forEach((c=>{const d=this.Ge.ht(),p=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;t.mightContain(p)||(this.et(i,c,null),l++)})),l}Tt(t){const i=new Map;this.ze.forEach(((c,d)=>{const p=this.ot(d);if(p){if(c.current&&wm(p.target)){const y=new pt(p.target.path);this.It(y).has(d)||this.Et(d,y)||this.et(d,y,yn.newNoDocument(y,t))}c.Be&&(i.set(d,c.ke()),c.qe())}}));let a=Ht();this.He.forEach(((c,d)=>{let p=!0;d.forEachWhile((y=>{const _=this.ot(y);return!_||_.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)})),p&&(a=a.add(c))})),this.je.forEach(((c,d)=>d.setReadTime(t)));const l=new zh(t,i,this.Ye,this.je,a);return this.je=Mr(),this.Je=Hc(),this.He=Hc(),this.Ye=new Ee(qt),l}Xe(t,i){if(!this.rt(t))return;const a=this.Et(t,i.key)?2:0;this.nt(t).Qe(i.key,a),this.je=this.je.insert(i.key,i),this.Je=this.Je.insert(i.key,this.It(i.key).add(t)),this.He=this.He.insert(i.key,this.dt(i.key).add(t))}et(t,i,a){if(!this.rt(t))return;const l=this.nt(t);this.Et(t,i)?l.Qe(i,1):l.$e(i),this.He=this.He.insert(i,this.dt(i).delete(t)),this.He=this.He.insert(i,this.dt(i).add(t)),a&&(this.je=this.je.insert(i,a))}removeTarget(t){this.ze.delete(t)}_t(t){const i=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+i.addedDocuments.size-i.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let i=this.ze.get(t);return i||(i=new uv,this.ze.set(t,i)),i}dt(t){let i=this.He.get(t);return i||(i=new Ke(qt),this.He=this.He.insert(t,i)),i}It(t){let i=this.Je.get(t);return i||(i=new Ke(qt),this.Je=this.Je.insert(t,i)),i}rt(t){const i=this.ot(t)!==null;return i||ut("WatchChangeAggregator","Detected inactive target",t),i}ot(t){const i=this.ze.get(t);return i&&i.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new uv),this.Ge.getRemoteKeysForTarget(t).forEach((i=>{this.et(t,i,null)}))}Et(t,i){return this.Ge.getRemoteKeysForTarget(t).has(i)}}function Hc(){return new Ee(pt.comparator)}function cv(){return new Ee(pt.comparator)}const ZR={asc:"ASCENDING",desc:"DESCENDING"},WR={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},tC={and:"AND",or:"OR"};class eC{constructor(t,i){this.databaseId=t,this.useProto3Json=i}}function Im(r,t){return r.useProto3Json||Oh(t)?t:{value:t}}function Eh(r,t){return r.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function RE(r,t){return r.useProto3Json?t.toBase64():t.toUint8Array()}function nC(r,t){return Eh(r,t.toTimestamp())}function Zi(r){return te(!!r,49232),St.fromTimestamp((function(i){const a=Ds(i);return new me(a.seconds,a.nanos)})(r))}function hg(r,t){return Nm(r,t).canonicalString()}function Nm(r,t){const i=(function(l){return new ce(["projects",l.projectId,"databases",l.database])})(r).child("documents");return t===void 0?i:i.child(t)}function CE(r){const t=ce.fromString(r);return te(ME(t),10190,{key:t.toString()}),t}function xm(r,t){return hg(r.databaseId,t.path)}function im(r,t){const i=CE(t);if(i.get(1)!==r.databaseId.projectId)throw new ct(Z.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+r.databaseId.projectId);if(i.get(3)!==r.databaseId.database)throw new ct(Z.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+r.databaseId.database);return new pt(NE(i))}function IE(r,t){return hg(r.databaseId,t)}function iC(r){const t=CE(r);return t.length===4?ce.emptyPath():NE(t)}function Dm(r){return new ce(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function NE(r){return te(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function hv(r,t,i){return{name:xm(r,t),fields:i.value.mapValue.fields}}function rC(r,t){let i;if("targetChange"in t){t.targetChange;const a=(function(_){return _==="NO_CHANGE"?0:_==="ADD"?1:_==="REMOVE"?2:_==="CURRENT"?3:_==="RESET"?4:Et(39313,{state:_})})(t.targetChange.targetChangeType||"NO_CHANGE"),l=t.targetChange.targetIds||[],c=(function(_,b){return _.useProto3Json?(te(b===void 0||typeof b=="string",58123),un.fromBase64String(b||"")):(te(b===void 0||b instanceof Buffer||b instanceof Uint8Array,16193),un.fromUint8Array(b||new Uint8Array))})(r,t.targetChange.resumeToken),d=t.targetChange.cause,p=d&&(function(_){const b=_.code===void 0?Z.UNKNOWN:SE(_.code);return new ct(b,_.message||"")})(d);i=new wE(a,l,c,p||null)}else if("documentChange"in t){t.documentChange;const a=t.documentChange;a.document,a.document.name,a.document.updateTime;const l=im(r,a.document.name),c=Zi(a.document.updateTime),d=a.document.createTime?Zi(a.document.createTime):St.min(),p=new kn({mapValue:{fields:a.document.fields}}),y=yn.newFoundDocument(l,c,d,p),_=a.targetIds||[],b=a.removedTargetIds||[];i=new ih(_,b,y.key,y)}else if("documentDelete"in t){t.documentDelete;const a=t.documentDelete;a.document;const l=im(r,a.document),c=a.readTime?Zi(a.readTime):St.min(),d=yn.newNoDocument(l,c),p=a.removedTargetIds||[];i=new ih([],p,d.key,d)}else if("documentRemove"in t){t.documentRemove;const a=t.documentRemove;a.document;const l=im(r,a.document),c=a.removedTargetIds||[];i=new ih([],c,l,null)}else{if(!("filter"in t))return Et(11601,{Rt:t});{t.filter;const a=t.filter;a.targetId;const{count:l=0,unchangedNames:c}=a,d=new YR(l,c),p=a.targetId;i=new AE(p,d)}}return i}function sC(r,t){let i;if(t instanceof Eu)i={update:hv(r,t.key,t.value)};else if(t instanceof lg)i={delete:xm(r,t.key)};else if(t instanceof Ls)i={update:hv(r,t.key,t.data),updateMask:mC(t.fieldMask)};else{if(!(t instanceof FR))return Et(16599,{Vt:t.type});i={verify:xm(r,t.key)}}return t.fieldTransforms.length>0&&(i.updateTransforms=t.fieldTransforms.map((a=>(function(c,d){const p=d.transform;if(p instanceof ou)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof lu)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof uu)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof vh)return{fieldPath:d.field.canonicalString(),increment:p.Ae};throw Et(20930,{transform:d.transform})})(0,a)))),t.precondition.isNone||(i.currentDocument=(function(l,c){return c.updateTime!==void 0?{updateTime:nC(l,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:Et(27497)})(r,t.precondition)),i}function aC(r,t){return r&&r.length>0?(te(t!==void 0,14353),r.map((i=>(function(l,c){let d=l.updateTime?Zi(l.updateTime):Zi(c);return d.isEqual(St.min())&&(d=Zi(c)),new BR(d,l.transformResults||[])})(i,t)))):[]}function oC(r,t){return{documents:[IE(r,t.path)]}}function lC(r,t){const i={structuredQuery:{}},a=t.path;let l;t.collectionGroup!==null?(l=a,i.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(l=a.popLast(),i.structuredQuery.from=[{collectionId:a.lastSegment()}]),i.parent=IE(r,l);const c=(function(_){if(_.length!==0)return DE(xi.create(_,"and"))})(t.filters);c&&(i.structuredQuery.where=c);const d=(function(_){if(_.length!==0)return _.map((b=>(function(V){return{field:No(V.field),direction:hC(V.dir)}})(b)))})(t.orderBy);d&&(i.structuredQuery.orderBy=d);const p=Im(r,t.limit);return p!==null&&(i.structuredQuery.limit=p),t.startAt&&(i.structuredQuery.startAt=(function(_){return{before:_.inclusive,values:_.position}})(t.startAt)),t.endAt&&(i.structuredQuery.endAt=(function(_){return{before:!_.inclusive,values:_.position}})(t.endAt)),{ft:i,parent:l}}function uC(r){let t=iC(r.parent);const i=r.structuredQuery,a=i.from?i.from.length:0;let l=null;if(a>0){te(a===1,65062);const b=i.from[0];b.allDescendants?l=b.collectionId:t=t.child(b.collectionId)}let c=[];i.where&&(c=(function(S){const V=xE(S);return V instanceof xi&&aE(V)?V.getFilters():[V]})(i.where));let d=[];i.orderBy&&(d=(function(S){return S.map((V=>(function(tt){return new _h(xo(tt.field),(function(et){switch(et){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(tt.direction))})(V)))})(i.orderBy));let p=null;i.limit&&(p=(function(S){let V;return V=typeof S=="object"?S.value:S,Oh(V)?null:V})(i.limit));let y=null;i.startAt&&(y=(function(S){const V=!!S.before,Q=S.values||[];return new yh(Q,V)})(i.startAt));let _=null;return i.endAt&&(_=(function(S){const V=!S.before,Q=S.values||[];return new yh(Q,V)})(i.endAt)),CR(t,l,d,c,p,"F",y,_)}function cC(r,t){const i=(function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Et(28987,{purpose:l})}})(t.purpose);return i==null?null:{"goog-listen-tags":i}}function xE(r){return r.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const a=xo(i.unaryFilter.field);return Fe.create(a,"==",{doubleValue:NaN});case"IS_NULL":const l=xo(i.unaryFilter.field);return Fe.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=xo(i.unaryFilter.field);return Fe.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=xo(i.unaryFilter.field);return Fe.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Et(61313);default:return Et(60726)}})(r):r.fieldFilter!==void 0?(function(i){return Fe.create(xo(i.fieldFilter.field),(function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Et(58110);default:return Et(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(i){return xi.create(i.compositeFilter.filters.map((a=>xE(a))),(function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return Et(1026)}})(i.compositeFilter.op))})(r):Et(30097,{filter:r})}function hC(r){return ZR[r]}function fC(r){return WR[r]}function dC(r){return tC[r]}function No(r){return{fieldPath:r.canonicalString()}}function xo(r){return on.fromServerFormat(r.fieldPath)}function DE(r){return r instanceof Fe?(function(i){if(i.op==="=="){if(Z0(i.value))return{unaryFilter:{field:No(i.field),op:"IS_NAN"}};if(J0(i.value))return{unaryFilter:{field:No(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(Z0(i.value))return{unaryFilter:{field:No(i.field),op:"IS_NOT_NAN"}};if(J0(i.value))return{unaryFilter:{field:No(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:No(i.field),op:fC(i.op),value:i.value}}})(r):r instanceof xi?(function(i){const a=i.getFilters().map((l=>DE(l)));return a.length===1?a[0]:{compositeFilter:{op:dC(i.op),filters:a}}})(r):Et(54877,{filter:r})}function mC(r){const t=[];return r.fields.forEach((i=>t.push(i.canonicalString()))),{fieldPaths:t}}function ME(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}class As{constructor(t,i,a,l,c=St.min(),d=St.min(),p=un.EMPTY_BYTE_STRING,y=null){this.target=t,this.targetId=i,this.purpose=a,this.sequenceNumber=l,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=p,this.expectedCount=y}withSequenceNumber(t){return new As(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,i){return new As(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new As(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new As(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class gC{constructor(t){this.yt=t}}function pC(r){const t=uC({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?Cm(t,t.limit,"L"):t}class yC{constructor(){this.Cn=new _C}addToCollectionParentIndex(t,i){return this.Cn.add(i),W.resolve()}getCollectionParents(t,i){return W.resolve(this.Cn.getEntries(i))}addFieldIndex(t,i){return W.resolve()}deleteFieldIndex(t,i){return W.resolve()}deleteAllFieldIndexes(t){return W.resolve()}createTargetIndexes(t,i){return W.resolve()}getDocumentsMatchingTarget(t,i){return W.resolve(null)}getIndexType(t,i){return W.resolve(0)}getFieldIndexes(t,i){return W.resolve([])}getNextCollectionGroupToUpdate(t){return W.resolve(null)}getMinOffset(t,i){return W.resolve(xs.min())}getMinOffsetFromCollectionGroup(t,i){return W.resolve(xs.min())}updateCollectionGroup(t,i,a){return W.resolve()}updateIndexEntries(t,i){return W.resolve()}}class _C{constructor(){this.index={}}add(t){const i=t.lastSegment(),a=t.popLast(),l=this.index[i]||new Ke(ce.comparator),c=!l.has(a);return this.index[i]=l.add(a),c}has(t){const i=t.lastSegment(),a=t.popLast(),l=this.index[i];return l&&l.has(a)}getEntries(t){return(this.index[t]||new Ke(ce.comparator)).toArray()}}const fv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},OE=41943040;class Vn{static withCacheSize(t){return new Vn(t,Vn.DEFAULT_COLLECTION_PERCENTILE,Vn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,i,a){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=a}}Vn.DEFAULT_COLLECTION_PERCENTILE=10,Vn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Vn.DEFAULT=new Vn(OE,Vn.DEFAULT_COLLECTION_PERCENTILE,Vn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Vn.DISABLED=new Vn(-1,0,0);class Ho{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new Ho(0)}static cr(){return new Ho(-1)}}const dv="LruGarbageCollector",vC=1048576;function mv([r,t],[i,a]){const l=qt(r,i);return l===0?qt(t,a):l}class EC{constructor(t){this.Ir=t,this.buffer=new Ke(mv),this.Er=0}dr(){return++this.Er}Ar(t){const i=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(i);else{const a=this.buffer.last();mv(i,a)<0&&(this.buffer=this.buffer.delete(a).add(i))}}get maxValue(){return this.buffer.last()[0]}}class TC{constructor(t,i,a){this.garbageCollector=t,this.asyncQueue=i,this.localStore=a,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){ut(dv,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){$o(i)?ut(dv,"Ignoring IndexedDB error during garbage collection: ",i):await Xo(i)}await this.Vr(3e5)}))}}class bC{constructor(t,i){this.mr=t,this.params=i}calculateTargetCount(t,i){return this.mr.gr(t).next((a=>Math.floor(i/100*a)))}nthSequenceNumber(t,i){if(i===0)return W.resolve(Mh.ce);const a=new EC(i);return this.mr.forEachTarget(t,(l=>a.Ar(l.sequenceNumber))).next((()=>this.mr.pr(t,(l=>a.Ar(l))))).next((()=>a.maxValue))}removeTargets(t,i,a){return this.mr.removeTargets(t,i,a)}removeOrphanedDocuments(t,i){return this.mr.removeOrphanedDocuments(t,i)}collect(t,i){return this.params.cacheSizeCollectionThreshold===-1?(ut("LruGarbageCollector","Garbage collection skipped; disabled"),W.resolve(fv)):this.getCacheSize(t).next((a=>a<this.params.cacheSizeCollectionThreshold?(ut("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),fv):this.yr(t,i)))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,i){let a,l,c,d,p,y,_;const b=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((S=>(S>this.params.maximumSequenceNumbersToCollect?(ut("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${S}`),l=this.params.maximumSequenceNumbersToCollect):l=S,d=Date.now(),this.nthSequenceNumber(t,l)))).next((S=>(a=S,p=Date.now(),this.removeTargets(t,a,i)))).next((S=>(c=S,y=Date.now(),this.removeOrphanedDocuments(t,a)))).next((S=>(_=Date.now(),Co()<=Bt.DEBUG&&ut("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-b}ms
	Determined least recently used ${l} in `+(p-d)+`ms
	Removed ${c} targets in `+(y-p)+`ms
	Removed ${S} documents in `+(_-y)+`ms
Total Duration: ${_-b}ms`),W.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:c,documentsRemoved:S}))))}}function SC(r,t){return new bC(r,t)}class AC{constructor(){this.changes=new La((t=>t.toString()),((t,i)=>t.isEqual(i))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,i){this.assertNotApplied(),this.changes.set(t,yn.newInvalidDocument(t).setReadTime(i))}getEntry(t,i){this.assertNotApplied();const a=this.changes.get(i);return a!==void 0?W.resolve(a):this.getFromCache(t,i)}getEntries(t,i){return this.getAllFromCache(t,i)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class wC{constructor(t,i){this.overlayedDocument=t,this.mutatedFields=i}}class RC{constructor(t,i,a,l){this.remoteDocumentCache=t,this.mutationQueue=i,this.documentOverlayCache=a,this.indexManager=l}getDocument(t,i){let a=null;return this.documentOverlayCache.getOverlay(t,i).next((l=>(a=l,this.remoteDocumentCache.getEntry(t,i)))).next((l=>(a!==null&&tu(a.mutation,l,Kn.empty(),me.now()),l)))}getDocuments(t,i){return this.remoteDocumentCache.getEntries(t,i).next((a=>this.getLocalViewOfDocuments(t,a,Ht()).next((()=>a))))}getLocalViewOfDocuments(t,i,a=Ht()){const l=Ca();return this.populateOverlays(t,l,i).next((()=>this.computeViews(t,i,l,a).next((c=>{let d=Ql();return c.forEach(((p,y)=>{d=d.insert(p,y.overlayedDocument)})),d}))))}getOverlayedDocuments(t,i){const a=Ca();return this.populateOverlays(t,a,i).next((()=>this.computeViews(t,i,a,Ht())))}populateOverlays(t,i,a){const l=[];return a.forEach((c=>{i.has(c)||l.push(c)})),this.documentOverlayCache.getOverlays(t,l).next((c=>{c.forEach(((d,p)=>{i.set(d,p)}))}))}computeViews(t,i,a,l){let c=Mr();const d=Wl(),p=(function(){return Wl()})();return i.forEach(((y,_)=>{const b=a.get(_.key);l.has(_.key)&&(b===void 0||b.mutation instanceof Ls)?c=c.insert(_.key,_):b!==void 0?(d.set(_.key,b.mutation.getFieldMask()),tu(b.mutation,_,b.mutation.getFieldMask(),me.now())):d.set(_.key,Kn.empty())})),this.recalculateAndSaveOverlays(t,c).next((y=>(y.forEach(((_,b)=>d.set(_,b))),i.forEach(((_,b)=>p.set(_,new wC(b,d.get(_)??null)))),p)))}recalculateAndSaveOverlays(t,i){const a=Wl();let l=new Ee(((d,p)=>d-p)),c=Ht();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,i).next((d=>{for(const p of d)p.keys().forEach((y=>{const _=i.get(y);if(_===null)return;let b=a.get(y)||Kn.empty();b=p.applyToLocalView(_,b),a.set(y,b);const S=(l.get(p.batchId)||Ht()).add(y);l=l.insert(p.batchId,S)}))})).next((()=>{const d=[],p=l.getReverseIterator();for(;p.hasNext();){const y=p.getNext(),_=y.key,b=y.value,S=gE();b.forEach((V=>{if(!c.has(V)){const Q=TE(i.get(V),a.get(V));Q!==null&&S.set(V,Q),c=c.add(V)}})),d.push(this.documentOverlayCache.saveOverlays(t,_,S))}return W.waitFor(d)})).next((()=>a))}recalculateAndSaveOverlaysForDocumentKeys(t,i){return this.remoteDocumentCache.getEntries(t,i).next((a=>this.recalculateAndSaveOverlays(t,a)))}getDocumentsMatchingQuery(t,i,a,l){return(function(d){return pt.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0})(i)?this.getDocumentsMatchingDocumentQuery(t,i.path):cE(i)?this.getDocumentsMatchingCollectionGroupQuery(t,i,a,l):this.getDocumentsMatchingCollectionQuery(t,i,a,l)}getNextDocuments(t,i,a,l){return this.remoteDocumentCache.getAllFromCollectionGroup(t,i,a,l).next((c=>{const d=l-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,i,a.largestBatchId,l-c.size):W.resolve(Ca());let p=iu,y=c;return d.next((_=>W.forEach(_,((b,S)=>(p<S.largestBatchId&&(p=S.largestBatchId),c.get(b)?W.resolve():this.remoteDocumentCache.getEntry(t,b).next((V=>{y=y.insert(b,V)}))))).next((()=>this.populateOverlays(t,_,c))).next((()=>this.computeViews(t,y,_,Ht()))).next((b=>({batchId:p,changes:mE(b)})))))}))}getDocumentsMatchingDocumentQuery(t,i){return this.getDocument(t,new pt(i)).next((a=>{let l=Ql();return a.isFoundDocument()&&(l=l.insert(a.key,a)),l}))}getDocumentsMatchingCollectionGroupQuery(t,i,a,l){const c=i.collectionGroup;let d=Ql();return this.indexManager.getCollectionParents(t,c).next((p=>W.forEach(p,(y=>{const _=(function(S,V){return new vu(V,null,S.explicitOrderBy.slice(),S.filters.slice(),S.limit,S.limitType,S.startAt,S.endAt)})(i,y.child(c));return this.getDocumentsMatchingCollectionQuery(t,_,a,l).next((b=>{b.forEach(((S,V)=>{d=d.insert(S,V)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(t,i,a,l){let c;return this.documentOverlayCache.getOverlaysForCollection(t,i.path,a.largestBatchId).next((d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(t,i,a,c,l)))).next((d=>{c.forEach(((y,_)=>{const b=_.getKey();d.get(b)===null&&(d=d.insert(b,yn.newInvalidDocument(b)))}));let p=Ql();return d.forEach(((y,_)=>{const b=c.get(y);b!==void 0&&tu(b.mutation,_,Kn.empty(),me.now()),Uh(i,_)&&(p=p.insert(y,_))})),p}))}}class CC{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,i){return W.resolve(this.Lr.get(i))}saveBundleMetadata(t,i){return this.Lr.set(i.id,(function(l){return{id:l.id,version:l.version,createTime:Zi(l.createTime)}})(i)),W.resolve()}getNamedQuery(t,i){return W.resolve(this.kr.get(i))}saveNamedQuery(t,i){return this.kr.set(i.name,(function(l){return{name:l.name,query:pC(l.bundledQuery),readTime:Zi(l.readTime)}})(i)),W.resolve()}}class IC{constructor(){this.overlays=new Ee(pt.comparator),this.qr=new Map}getOverlay(t,i){return W.resolve(this.overlays.get(i))}getOverlays(t,i){const a=Ca();return W.forEach(i,(l=>this.getOverlay(t,l).next((c=>{c!==null&&a.set(l,c)})))).next((()=>a))}saveOverlays(t,i,a){return a.forEach(((l,c)=>{this.St(t,i,c)})),W.resolve()}removeOverlaysForBatchId(t,i,a){const l=this.qr.get(a);return l!==void 0&&(l.forEach((c=>this.overlays=this.overlays.remove(c))),this.qr.delete(a)),W.resolve()}getOverlaysForCollection(t,i,a){const l=Ca(),c=i.length+1,d=new pt(i.child("")),p=this.overlays.getIteratorFrom(d);for(;p.hasNext();){const y=p.getNext().value,_=y.getKey();if(!i.isPrefixOf(_.path))break;_.path.length===c&&y.largestBatchId>a&&l.set(y.getKey(),y)}return W.resolve(l)}getOverlaysForCollectionGroup(t,i,a,l){let c=new Ee(((_,b)=>_-b));const d=this.overlays.getIterator();for(;d.hasNext();){const _=d.getNext().value;if(_.getKey().getCollectionGroup()===i&&_.largestBatchId>a){let b=c.get(_.largestBatchId);b===null&&(b=Ca(),c=c.insert(_.largestBatchId,b)),b.set(_.getKey(),_)}}const p=Ca(),y=c.getIterator();for(;y.hasNext()&&(y.getNext().value.forEach(((_,b)=>p.set(_,b))),!(p.size()>=l)););return W.resolve(p)}St(t,i,a){const l=this.overlays.get(a.key);if(l!==null){const d=this.qr.get(l.largestBatchId).delete(a.key);this.qr.set(l.largestBatchId,d)}this.overlays=this.overlays.insert(a.key,new QR(i,a));let c=this.qr.get(i);c===void 0&&(c=Ht(),this.qr.set(i,c)),this.qr.set(i,c.add(a.key))}}class NC{constructor(){this.sessionToken=un.EMPTY_BYTE_STRING}getSessionToken(t){return W.resolve(this.sessionToken)}setSessionToken(t,i){return this.sessionToken=i,W.resolve()}}class fg{constructor(){this.Qr=new Ke(We.$r),this.Ur=new Ke(We.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,i){const a=new We(t,i);this.Qr=this.Qr.add(a),this.Ur=this.Ur.add(a)}Wr(t,i){t.forEach((a=>this.addReference(a,i)))}removeReference(t,i){this.Gr(new We(t,i))}zr(t,i){t.forEach((a=>this.removeReference(a,i)))}jr(t){const i=new pt(new ce([])),a=new We(i,t),l=new We(i,t+1),c=[];return this.Ur.forEachInRange([a,l],(d=>{this.Gr(d),c.push(d.key)})),c}Jr(){this.Qr.forEach((t=>this.Gr(t)))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const i=new pt(new ce([])),a=new We(i,t),l=new We(i,t+1);let c=Ht();return this.Ur.forEachInRange([a,l],(d=>{c=c.add(d.key)})),c}containsKey(t){const i=new We(t,0),a=this.Qr.firstAfterOrEqual(i);return a!==null&&t.isEqual(a.key)}}class We{constructor(t,i){this.key=t,this.Yr=i}static $r(t,i){return pt.comparator(t.key,i.key)||qt(t.Yr,i.Yr)}static Kr(t,i){return qt(t.Yr,i.Yr)||pt.comparator(t.key,i.key)}}class xC{constructor(t,i){this.indexManager=t,this.referenceDelegate=i,this.mutationQueue=[],this.tr=1,this.Zr=new Ke(We.$r)}checkEmpty(t){return W.resolve(this.mutationQueue.length===0)}addMutationBatch(t,i,a,l){const c=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new GR(c,i,a,l);this.mutationQueue.push(d);for(const p of l)this.Zr=this.Zr.add(new We(p.key,c)),this.indexManager.addToCollectionParentIndex(t,p.key.path.popLast());return W.resolve(d)}lookupMutationBatch(t,i){return W.resolve(this.Xr(i))}getNextMutationBatchAfterBatchId(t,i){const a=i+1,l=this.ei(a),c=l<0?0:l;return W.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return W.resolve(this.mutationQueue.length===0?eg:this.tr-1)}getAllMutationBatches(t){return W.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,i){const a=new We(i,0),l=new We(i,Number.POSITIVE_INFINITY),c=[];return this.Zr.forEachInRange([a,l],(d=>{const p=this.Xr(d.Yr);c.push(p)})),W.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(t,i){let a=new Ke(qt);return i.forEach((l=>{const c=new We(l,0),d=new We(l,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([c,d],(p=>{a=a.add(p.Yr)}))})),W.resolve(this.ti(a))}getAllMutationBatchesAffectingQuery(t,i){const a=i.path,l=a.length+1;let c=a;pt.isDocumentKey(c)||(c=c.child(""));const d=new We(new pt(c),0);let p=new Ke(qt);return this.Zr.forEachWhile((y=>{const _=y.key.path;return!!a.isPrefixOf(_)&&(_.length===l&&(p=p.add(y.Yr)),!0)}),d),W.resolve(this.ti(p))}ti(t){const i=[];return t.forEach((a=>{const l=this.Xr(a);l!==null&&i.push(l)})),i}removeMutationBatch(t,i){te(this.ni(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let a=this.Zr;return W.forEach(i.mutations,(l=>{const c=new We(l.key,i.batchId);return a=a.delete(c),this.referenceDelegate.markPotentiallyOrphaned(t,l.key)})).next((()=>{this.Zr=a}))}ir(t){}containsKey(t,i){const a=new We(i,0),l=this.Zr.firstAfterOrEqual(a);return W.resolve(i.isEqual(l&&l.key))}performConsistencyCheck(t){return this.mutationQueue.length,W.resolve()}ni(t,i){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const i=this.ei(t);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class DC{constructor(t){this.ri=t,this.docs=(function(){return new Ee(pt.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,i){const a=i.key,l=this.docs.get(a),c=l?l.size:0,d=this.ri(i);return this.docs=this.docs.insert(a,{document:i.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(t,a.path.popLast())}removeEntry(t){const i=this.docs.get(t);i&&(this.docs=this.docs.remove(t),this.size-=i.size)}getEntry(t,i){const a=this.docs.get(i);return W.resolve(a?a.document.mutableCopy():yn.newInvalidDocument(i))}getEntries(t,i){let a=Mr();return i.forEach((l=>{const c=this.docs.get(l);a=a.insert(l,c?c.document.mutableCopy():yn.newInvalidDocument(l))})),W.resolve(a)}getDocumentsMatchingQuery(t,i,a,l){let c=Mr();const d=i.path,p=new pt(d.child("__id-9223372036854775808__")),y=this.docs.getIteratorFrom(p);for(;y.hasNext();){const{key:_,value:{document:b}}=y.getNext();if(!d.isPrefixOf(_.path))break;_.path.length>d.length+1||sR(rR(b),a)<=0||(l.has(b.key)||Uh(i,b))&&(c=c.insert(b.key,b.mutableCopy()))}return W.resolve(c)}getAllFromCollectionGroup(t,i,a,l){Et(9500)}ii(t,i){return W.forEach(this.docs,(a=>i(a)))}newChangeBuffer(t){return new MC(this)}getSize(t){return W.resolve(this.size)}}class MC extends AC{constructor(t){super(),this.Nr=t}applyChanges(t){const i=[];return this.changes.forEach(((a,l)=>{l.isValidDocument()?i.push(this.Nr.addEntry(t,l)):this.Nr.removeEntry(a)})),W.waitFor(i)}getFromCache(t,i){return this.Nr.getEntry(t,i)}getAllFromCache(t,i){return this.Nr.getEntries(t,i)}}class OC{constructor(t){this.persistence=t,this.si=new La((i=>rg(i)),sg),this.lastRemoteSnapshotVersion=St.min(),this.highestTargetId=0,this.oi=0,this._i=new fg,this.targetCount=0,this.ai=Ho.ur()}forEachTarget(t,i){return this.si.forEach(((a,l)=>i(l))),W.resolve()}getLastRemoteSnapshotVersion(t){return W.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return W.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),W.resolve(this.highestTargetId)}setTargetsMetadata(t,i,a){return a&&(this.lastRemoteSnapshotVersion=a),i>this.oi&&(this.oi=i),W.resolve()}Pr(t){this.si.set(t.target,t);const i=t.targetId;i>this.highestTargetId&&(this.ai=new Ho(i),this.highestTargetId=i),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,i){return this.Pr(i),this.targetCount+=1,W.resolve()}updateTargetData(t,i){return this.Pr(i),W.resolve()}removeTargetData(t,i){return this.si.delete(i.target),this._i.jr(i.targetId),this.targetCount-=1,W.resolve()}removeTargets(t,i,a){let l=0;const c=[];return this.si.forEach(((d,p)=>{p.sequenceNumber<=i&&a.get(p.targetId)===null&&(this.si.delete(d),c.push(this.removeMatchingKeysForTargetId(t,p.targetId)),l++)})),W.waitFor(c).next((()=>l))}getTargetCount(t){return W.resolve(this.targetCount)}getTargetData(t,i){const a=this.si.get(i)||null;return W.resolve(a)}addMatchingKeys(t,i,a){return this._i.Wr(i,a),W.resolve()}removeMatchingKeys(t,i,a){this._i.zr(i,a);const l=this.persistence.referenceDelegate,c=[];return l&&i.forEach((d=>{c.push(l.markPotentiallyOrphaned(t,d))})),W.waitFor(c)}removeMatchingKeysForTargetId(t,i){return this._i.jr(i),W.resolve()}getMatchingKeysForTargetId(t,i){const a=this._i.Hr(i);return W.resolve(a)}containsKey(t,i){return W.resolve(this._i.containsKey(i))}}class VE{constructor(t,i){this.ui={},this.overlays={},this.ci=new Mh(0),this.li=!1,this.li=!0,this.hi=new NC,this.referenceDelegate=t(this),this.Pi=new OC(this),this.indexManager=new yC,this.remoteDocumentCache=(function(l){return new DC(l)})((a=>this.referenceDelegate.Ti(a))),this.serializer=new gC(i),this.Ii=new CC(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let i=this.overlays[t.toKey()];return i||(i=new IC,this.overlays[t.toKey()]=i),i}getMutationQueue(t,i){let a=this.ui[t.toKey()];return a||(a=new xC(i,this.referenceDelegate),this.ui[t.toKey()]=a),a}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,i,a){ut("MemoryPersistence","Starting transaction:",t);const l=new VC(this.ci.next());return this.referenceDelegate.Ei(),a(l).next((c=>this.referenceDelegate.di(l).next((()=>c)))).toPromise().then((c=>(l.raiseOnCommittedEvent(),c)))}Ai(t,i){return W.or(Object.values(this.ui).map((a=>()=>a.containsKey(t,i))))}}class VC extends oR{constructor(t){super(),this.currentSequenceNumber=t}}class dg{constructor(t){this.persistence=t,this.Ri=new fg,this.Vi=null}static mi(t){return new dg(t)}get fi(){if(this.Vi)return this.Vi;throw Et(60996)}addReference(t,i,a){return this.Ri.addReference(a,i),this.fi.delete(a.toString()),W.resolve()}removeReference(t,i,a){return this.Ri.removeReference(a,i),this.fi.add(a.toString()),W.resolve()}markPotentiallyOrphaned(t,i){return this.fi.add(i.toString()),W.resolve()}removeTarget(t,i){this.Ri.jr(i.targetId).forEach((l=>this.fi.add(l.toString())));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(t,i.targetId).next((l=>{l.forEach((c=>this.fi.add(c.toString())))})).next((()=>a.removeTargetData(t,i)))}Ei(){this.Vi=new Set}di(t){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return W.forEach(this.fi,(a=>{const l=pt.fromPath(a);return this.gi(t,l).next((c=>{c||i.removeEntry(l,St.min())}))})).next((()=>(this.Vi=null,i.apply(t))))}updateLimboDocument(t,i){return this.gi(t,i).next((a=>{a?this.fi.delete(i.toString()):this.fi.add(i.toString())}))}Ti(t){return 0}gi(t,i){return W.or([()=>W.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(t,i),()=>this.persistence.Ai(t,i)])}}class Th{constructor(t,i){this.persistence=t,this.pi=new La((a=>cR(a.path)),((a,l)=>a.isEqual(l))),this.garbageCollector=SC(this,i)}static mi(t,i){return new Th(t,i)}Ei(){}di(t){return W.resolve()}forEachTarget(t,i){return this.persistence.getTargetCache().forEachTarget(t,i)}gr(t){const i=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next((a=>i.next((l=>a+l))))}wr(t){let i=0;return this.pr(t,(a=>{i++})).next((()=>i))}pr(t,i){return W.forEach(this.pi,((a,l)=>this.br(t,a,l).next((c=>c?W.resolve():i(l)))))}removeTargets(t,i,a){return this.persistence.getTargetCache().removeTargets(t,i,a)}removeOrphanedDocuments(t,i){let a=0;const l=this.persistence.getRemoteDocumentCache(),c=l.newChangeBuffer();return l.ii(t,(d=>this.br(t,d,i).next((p=>{p||(a++,c.removeEntry(d,St.min()))})))).next((()=>c.apply(t))).next((()=>a))}markPotentiallyOrphaned(t,i){return this.pi.set(i,t.currentSequenceNumber),W.resolve()}removeTarget(t,i){const a=i.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,a)}addReference(t,i,a){return this.pi.set(a,t.currentSequenceNumber),W.resolve()}removeReference(t,i,a){return this.pi.set(a,t.currentSequenceNumber),W.resolve()}updateLimboDocument(t,i){return this.pi.set(i,t.currentSequenceNumber),W.resolve()}Ti(t){let i=t.key.toString().length;return t.isFoundDocument()&&(i+=th(t.data.value)),i}br(t,i,a){return W.or([()=>this.persistence.Ai(t,i),()=>this.persistence.getTargetCache().containsKey(t,i),()=>{const l=this.pi.get(i);return W.resolve(l!==void 0&&l>a)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}class mg{constructor(t,i,a,l){this.targetId=t,this.fromCache=i,this.Es=a,this.ds=l}static As(t,i){let a=Ht(),l=Ht();for(const c of i.docChanges)switch(c.type){case 0:a=a.add(c.doc.key);break;case 1:l=l.add(c.doc.key)}return new mg(t,i.fromCache,a,l)}}class kC{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class UC{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return AS()?8:lR(_n())>0?6:4})()}initialize(t,i){this.ps=t,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(t,i,a,l){const c={result:null};return this.ys(t,i).next((d=>{c.result=d})).next((()=>{if(!c.result)return this.ws(t,i,l,a).next((d=>{c.result=d}))})).next((()=>{if(c.result)return;const d=new kC;return this.Ss(t,i,d).next((p=>{if(c.result=p,this.Vs)return this.bs(t,i,d,p.size)}))})).next((()=>c.result))}bs(t,i,a,l){return a.documentReadCount<this.fs?(Co()<=Bt.DEBUG&&ut("QueryEngine","SDK will not create cache indexes for query:",Io(i),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),W.resolve()):(Co()<=Bt.DEBUG&&ut("QueryEngine","Query:",Io(i),"scans",a.documentReadCount,"local documents and returns",l,"documents as results."),a.documentReadCount>this.gs*l?(Co()<=Bt.DEBUG&&ut("QueryEngine","The SDK decides to create cache indexes for query:",Io(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Ji(i))):W.resolve())}ys(t,i){if(nv(i))return W.resolve(null);let a=Ji(i);return this.indexManager.getIndexType(t,a).next((l=>l===0?null:(i.limit!==null&&l===1&&(i=Cm(i,null,"F"),a=Ji(i)),this.indexManager.getDocumentsMatchingTarget(t,a).next((c=>{const d=Ht(...c);return this.ps.getDocuments(t,d).next((p=>this.indexManager.getMinOffset(t,a).next((y=>{const _=this.Ds(i,p);return this.Cs(i,_,d,y.readTime)?this.ys(t,Cm(i,null,"F")):this.vs(t,_,i,y)}))))})))))}ws(t,i,a,l){return nv(i)||l.isEqual(St.min())?W.resolve(null):this.ps.getDocuments(t,a).next((c=>{const d=this.Ds(i,c);return this.Cs(i,d,a,l)?W.resolve(null):(Co()<=Bt.DEBUG&&ut("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),Io(i)),this.vs(t,d,i,iR(l,iu)).next((p=>p)))}))}Ds(t,i){let a=new Ke(fE(t));return i.forEach(((l,c)=>{Uh(t,c)&&(a=a.add(c))})),a}Cs(t,i,a,l){if(t.limit===null)return!1;if(a.size!==i.size)return!0;const c=t.limitType==="F"?i.last():i.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(l)>0)}Ss(t,i,a){return Co()<=Bt.DEBUG&&ut("QueryEngine","Using full collection scan to execute query:",Io(i)),this.ps.getDocumentsMatchingQuery(t,i,xs.min(),a)}vs(t,i,a,l){return this.ps.getDocumentsMatchingQuery(t,a,l).next((c=>(i.forEach((d=>{c=c.insert(d.key,d)})),c)))}}const gg="LocalStore",LC=3e8;class PC{constructor(t,i,a,l){this.persistence=t,this.Fs=i,this.serializer=l,this.Ms=new Ee(qt),this.xs=new La((c=>rg(c)),sg),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(a)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new RC(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>t.collect(i,this.Ms)))}}function zC(r,t,i,a){return new PC(r,t,i,a)}async function kE(r,t){const i=Rt(r);return await i.persistence.runTransaction("Handle user change","readonly",(a=>{let l;return i.mutationQueue.getAllMutationBatches(a).next((c=>(l=c,i.Bs(t),i.mutationQueue.getAllMutationBatches(a)))).next((c=>{const d=[],p=[];let y=Ht();for(const _ of l){d.push(_.batchId);for(const b of _.mutations)y=y.add(b.key)}for(const _ of c){p.push(_.batchId);for(const b of _.mutations)y=y.add(b.key)}return i.localDocuments.getDocuments(a,y).next((_=>({Ls:_,removedBatchIds:d,addedBatchIds:p})))}))}))}function jC(r,t){const i=Rt(r);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(a=>{const l=t.batch.keys(),c=i.Ns.newChangeBuffer({trackRemovals:!0});return(function(p,y,_,b){const S=_.batch,V=S.keys();let Q=W.resolve();return V.forEach((tt=>{Q=Q.next((()=>b.getEntry(y,tt))).next((nt=>{const et=_.docVersions.get(tt);te(et!==null,48541),nt.version.compareTo(et)<0&&(S.applyToRemoteDocument(nt,_),nt.isValidDocument()&&(nt.setReadTime(_.commitVersion),b.addEntry(nt)))}))})),Q.next((()=>p.mutationQueue.removeMutationBatch(y,S)))})(i,a,t,c).next((()=>c.apply(a))).next((()=>i.mutationQueue.performConsistencyCheck(a))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(a,l,t.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,(function(p){let y=Ht();for(let _=0;_<p.mutationResults.length;++_)p.mutationResults[_].transformResults.length>0&&(y=y.add(p.batch.mutations[_].key));return y})(t)))).next((()=>i.localDocuments.getDocuments(a,l)))}))}function UE(r){const t=Rt(r);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>t.Pi.getLastRemoteSnapshotVersion(i)))}function BC(r,t){const i=Rt(r),a=t.snapshotVersion;let l=i.Ms;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const d=i.Ns.newChangeBuffer({trackRemovals:!0});l=i.Ms;const p=[];t.targetChanges.forEach(((b,S)=>{const V=l.get(S);if(!V)return;p.push(i.Pi.removeMatchingKeys(c,b.removedDocuments,S).next((()=>i.Pi.addMatchingKeys(c,b.addedDocuments,S))));let Q=V.withSequenceNumber(c.currentSequenceNumber);t.targetMismatches.get(S)!==null?Q=Q.withResumeToken(un.EMPTY_BYTE_STRING,St.min()).withLastLimboFreeSnapshotVersion(St.min()):b.resumeToken.approximateByteSize()>0&&(Q=Q.withResumeToken(b.resumeToken,a)),l=l.insert(S,Q),(function(nt,et,yt){return nt.resumeToken.approximateByteSize()===0||et.snapshotVersion.toMicroseconds()-nt.snapshotVersion.toMicroseconds()>=LC?!0:yt.addedDocuments.size+yt.modifiedDocuments.size+yt.removedDocuments.size>0})(V,Q,b)&&p.push(i.Pi.updateTargetData(c,Q))}));let y=Mr(),_=Ht();if(t.documentUpdates.forEach((b=>{t.resolvedLimboDocuments.has(b)&&p.push(i.persistence.referenceDelegate.updateLimboDocument(c,b))})),p.push(qC(c,d,t.documentUpdates).next((b=>{y=b.ks,_=b.qs}))),!a.isEqual(St.min())){const b=i.Pi.getLastRemoteSnapshotVersion(c).next((S=>i.Pi.setTargetsMetadata(c,c.currentSequenceNumber,a)));p.push(b)}return W.waitFor(p).next((()=>d.apply(c))).next((()=>i.localDocuments.getLocalViewOfDocuments(c,y,_))).next((()=>y))})).then((c=>(i.Ms=l,c)))}function qC(r,t,i){let a=Ht(),l=Ht();return i.forEach((c=>a=a.add(c))),t.getEntries(r,a).next((c=>{let d=Mr();return i.forEach(((p,y)=>{const _=c.get(p);y.isFoundDocument()!==_.isFoundDocument()&&(l=l.add(p)),y.isNoDocument()&&y.version.isEqual(St.min())?(t.removeEntry(p,y.readTime),d=d.insert(p,y)):!_.isValidDocument()||y.version.compareTo(_.version)>0||y.version.compareTo(_.version)===0&&_.hasPendingWrites?(t.addEntry(y),d=d.insert(p,y)):ut(gg,"Ignoring outdated watch update for ",p,". Current version:",_.version," Watch version:",y.version)})),{ks:d,qs:l}}))}function HC(r,t){const i=Rt(r);return i.persistence.runTransaction("Get next mutation batch","readonly",(a=>(t===void 0&&(t=eg),i.mutationQueue.getNextMutationBatchAfterBatchId(a,t))))}function FC(r,t){const i=Rt(r);return i.persistence.runTransaction("Allocate target","readwrite",(a=>{let l;return i.Pi.getTargetData(a,t).next((c=>c?(l=c,W.resolve(l)):i.Pi.allocateTargetId(a).next((d=>(l=new As(t,d,"TargetPurposeListen",a.currentSequenceNumber),i.Pi.addTargetData(a,l).next((()=>l)))))))})).then((a=>{const l=i.Ms.get(a.targetId);return(l===null||a.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(i.Ms=i.Ms.insert(a.targetId,a),i.xs.set(t,a.targetId)),a}))}async function Mm(r,t,i){const a=Rt(r),l=a.Ms.get(t),c=i?"readwrite":"readwrite-primary";try{i||await a.persistence.runTransaction("Release target",c,(d=>a.persistence.referenceDelegate.removeTarget(d,l)))}catch(d){if(!$o(d))throw d;ut(gg,`Failed to update sequence numbers for target ${t}: ${d}`)}a.Ms=a.Ms.remove(t),a.xs.delete(l.target)}function gv(r,t,i){const a=Rt(r);let l=St.min(),c=Ht();return a.persistence.runTransaction("Execute query","readwrite",(d=>(function(y,_,b){const S=Rt(y),V=S.xs.get(b);return V!==void 0?W.resolve(S.Ms.get(V)):S.Pi.getTargetData(_,b)})(a,d,Ji(t)).next((p=>{if(p)return l=p.lastLimboFreeSnapshotVersion,a.Pi.getMatchingKeysForTargetId(d,p.targetId).next((y=>{c=y}))})).next((()=>a.Fs.getDocumentsMatchingQuery(d,t,i?l:St.min(),i?c:Ht()))).next((p=>(GC(a,NR(t),p),{documents:p,Qs:c})))))}function GC(r,t,i){let a=r.Os.get(t)||St.min();i.forEach(((l,c)=>{c.readTime.compareTo(a)>0&&(a=c.readTime)})),r.Os.set(t,a)}class pv{constructor(){this.activeTargetIds=kR()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class QC{constructor(){this.Mo=new pv,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,i,a){}addLocalQueryTarget(t,i=!0){return i&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,i,a){this.xo[t]=i}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new pv,Promise.resolve()}handleUserChange(t,i,a){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class YC{Oo(t){}shutdown(){}}const yv="ConnectivityMonitor";class _v{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ut(yv,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){ut(yv,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Fc=null;function Om(){return Fc===null?Fc=(function(){return 268435456+Math.round(2147483648*Math.random())})():Fc++,"0x"+Fc.toString(16)}const rm="RestConnection",KC={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class XC{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const i=t.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.Uo=i+"://"+t.host,this.Ko=`projects/${a}/databases/${l}`,this.Wo=this.databaseId.database===gh?`project_id=${a}`:`project_id=${a}&database_id=${l}`}Go(t,i,a,l,c){const d=Om(),p=this.zo(t,i.toUriEncodedString());ut(rm,`Sending RPC '${t}' ${d}:`,p,a);const y={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(y,l,c);const{host:_}=new URL(p),b=Go(_);return this.Jo(t,p,y,a,b).then((S=>(ut(rm,`Received RPC '${t}' ${d}: `,S),S)),(S=>{throw zo(rm,`RPC '${t}' ${d} failed with error: `,S,"url: ",p,"request:",a),S}))}Ho(t,i,a,l,c,d){return this.Go(t,i,a,l,c)}jo(t,i,a){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Ko})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((l,c)=>t[c]=l)),a&&a.headers.forEach(((l,c)=>t[c]=l))}zo(t,i){const a=KC[t];return`${this.Uo}/v1/${i}:${a}`}terminate(){}}class $C{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}const gn="WebChannelConnection";class JC extends XC{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,i,a,l,c){const d=Om();return new Promise(((p,y)=>{const _=new z1;_.setWithCredentials(!0),_.listenOnce(j1.COMPLETE,(()=>{try{switch(_.getLastErrorCode()){case Wc.NO_ERROR:const S=_.getResponseJson();ut(gn,`XHR for RPC '${t}' ${d} received:`,JSON.stringify(S)),p(S);break;case Wc.TIMEOUT:ut(gn,`RPC '${t}' ${d} timed out`),y(new ct(Z.DEADLINE_EXCEEDED,"Request time out"));break;case Wc.HTTP_ERROR:const V=_.getStatus();if(ut(gn,`RPC '${t}' ${d} failed with status:`,V,"response text:",_.getResponseText()),V>0){let Q=_.getResponseJson();Array.isArray(Q)&&(Q=Q[0]);const tt=Q?.error;if(tt&&tt.status&&tt.message){const nt=(function(yt){const At=yt.toLowerCase().replace(/_/g,"-");return Object.values(Z).indexOf(At)>=0?At:Z.UNKNOWN})(tt.status);y(new ct(nt,tt.message))}else y(new ct(Z.UNKNOWN,"Server responded with status "+_.getStatus()))}else y(new ct(Z.UNAVAILABLE,"Connection failed."));break;default:Et(9055,{l_:t,streamId:d,h_:_.getLastErrorCode(),P_:_.getLastError()})}}finally{ut(gn,`RPC '${t}' ${d} completed.`)}}));const b=JSON.stringify(l);ut(gn,`RPC '${t}' ${d} sending request:`,l),_.send(i,"POST",b,a,15)}))}T_(t,i,a){const l=Om(),c=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],d=H1(),p=q1(),y={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},_=this.longPollingOptions.timeoutSeconds;_!==void 0&&(y.longPollingTimeout=Math.round(1e3*_)),this.useFetchStreams&&(y.useFetchStreams=!0),this.jo(y.initMessageHeaders,i,a),y.encodeInitMessageHeaders=!0;const b=c.join("");ut(gn,`Creating RPC '${t}' stream ${l}: ${b}`,y);const S=d.createWebChannel(b,y);this.I_(S);let V=!1,Q=!1;const tt=new $C({Yo:et=>{Q?ut(gn,`Not sending because RPC '${t}' stream ${l} is closed:`,et):(V||(ut(gn,`Opening RPC '${t}' stream ${l} transport.`),S.open(),V=!0),ut(gn,`RPC '${t}' stream ${l} sending:`,et),S.send(et))},Zo:()=>S.close()}),nt=(et,yt,At)=>{et.listen(yt,(_t=>{try{At(_t)}catch(Ot){setTimeout((()=>{throw Ot}),0)}}))};return nt(S,Gl.EventType.OPEN,(()=>{Q||(ut(gn,`RPC '${t}' stream ${l} transport opened.`),tt.o_())})),nt(S,Gl.EventType.CLOSE,(()=>{Q||(Q=!0,ut(gn,`RPC '${t}' stream ${l} transport closed`),tt.a_(),this.E_(S))})),nt(S,Gl.EventType.ERROR,(et=>{Q||(Q=!0,zo(gn,`RPC '${t}' stream ${l} transport errored. Name:`,et.name,"Message:",et.message),tt.a_(new ct(Z.UNAVAILABLE,"The operation could not be completed")))})),nt(S,Gl.EventType.MESSAGE,(et=>{if(!Q){const yt=et.data[0];te(!!yt,16349);const At=yt,_t=At?.error||At[0]?.error;if(_t){ut(gn,`RPC '${t}' stream ${l} received error:`,_t);const Ot=_t.status;let Jt=(function(A){const I=He[A];if(I!==void 0)return SE(I)})(Ot),Dt=_t.message;Jt===void 0&&(Jt=Z.INTERNAL,Dt="Unknown error status: "+Ot+" with message "+_t.message),Q=!0,tt.a_(new ct(Jt,Dt)),S.close()}else ut(gn,`RPC '${t}' stream ${l} received:`,yt),tt.u_(yt)}})),nt(p,B1.STAT_EVENT,(et=>{et.stat===Em.PROXY?ut(gn,`RPC '${t}' stream ${l} detected buffering proxy`):et.stat===Em.NOPROXY&&ut(gn,`RPC '${t}' stream ${l} detected no buffering proxy`)})),setTimeout((()=>{tt.__()}),0),tt}terminate(){this.c_.forEach((t=>t.close())),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter((i=>i===t))}}function sm(){return typeof document<"u"?document:null}function jh(r){return new eC(r,!0)}class LE{constructor(t,i,a=1e3,l=1.5,c=6e4){this.Mi=t,this.timerId=i,this.d_=a,this.A_=l,this.R_=c,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const i=Math.floor(this.V_+this.y_()),a=Math.max(0,Date.now()-this.f_),l=Math.max(0,i-a);l>0&&ut("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.V_} ms, delay with jitter: ${i} ms, last attempt: ${a} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,l,(()=>(this.f_=Date.now(),t()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const vv="PersistentStream";class PE{constructor(t,i,a,l,c,d,p,y){this.Mi=t,this.S_=a,this.b_=l,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=p,this.listener=y,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new LE(t,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,i){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():i&&i.code===Z.RESOURCE_EXHAUSTED?(Dr(i.toString()),Dr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===Z.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(i)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([a,l])=>{this.D_===i&&this.G_(a,l)}),(a=>{t((()=>{const l=new ct(Z.UNKNOWN,"Fetching auth token failed: "+a.message);return this.z_(l)}))}))}G_(t,i){const a=this.W_(this.D_);this.stream=this.j_(t,i),this.stream.Xo((()=>{a((()=>this.listener.Xo()))})),this.stream.t_((()=>{a((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((l=>{a((()=>this.z_(l)))})),this.stream.onMessage((l=>{a((()=>++this.F_==1?this.J_(l):this.onNext(l)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return ut(vv,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return i=>{this.Mi.enqueueAndForget((()=>this.D_===t?i():(ut(vv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class ZC extends PE{constructor(t,i,a,l,c,d){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,a,l,d),this.serializer=c}j_(t,i){return this.connection.T_("Listen",t,i)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const i=rC(this.serializer,t),a=(function(c){if(!("targetChange"in c))return St.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?St.min():d.readTime?Zi(d.readTime):St.min()})(t);return this.listener.H_(i,a)}Y_(t){const i={};i.database=Dm(this.serializer),i.addTarget=(function(c,d){let p;const y=d.target;if(p=wm(y)?{documents:oC(c,y)}:{query:lC(c,y).ft},p.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){p.resumeToken=RE(c,d.resumeToken);const _=Im(c,d.expectedCount);_!==null&&(p.expectedCount=_)}else if(d.snapshotVersion.compareTo(St.min())>0){p.readTime=Eh(c,d.snapshotVersion.toTimestamp());const _=Im(c,d.expectedCount);_!==null&&(p.expectedCount=_)}return p})(this.serializer,t);const a=cC(this.serializer,t);a&&(i.labels=a),this.q_(i)}Z_(t){const i={};i.database=Dm(this.serializer),i.removeTarget=t,this.q_(i)}}class WC extends PE{constructor(t,i,a,l,c,d){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,a,l,d),this.serializer=c}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,i){return this.connection.T_("Write",t,i)}J_(t){return te(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,te(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){te(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const i=aC(t.writeResults,t.commitTime),a=Zi(t.commitTime);return this.listener.na(a,i)}ra(){const t={};t.database=Dm(this.serializer),this.q_(t)}ea(t){const i={streamToken:this.lastStreamToken,writes:t.map((a=>sC(this.serializer,a)))};this.q_(i)}}class tI{}class eI extends tI{constructor(t,i,a,l){super(),this.authCredentials=t,this.appCheckCredentials=i,this.connection=a,this.serializer=l,this.ia=!1}sa(){if(this.ia)throw new ct(Z.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,i,a,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Go(t,Nm(i,a),l,c,d))).catch((c=>{throw c.name==="FirebaseError"?(c.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new ct(Z.UNKNOWN,c.toString())}))}Ho(t,i,a,l,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,p])=>this.connection.Ho(t,Nm(i,a),l,d,p,c))).catch((d=>{throw d.name==="FirebaseError"?(d.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new ct(Z.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class nI{constructor(t,i){this.asyncQueue=t,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const i=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Dr(i),this.aa=!1):ut("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const ka="RemoteStore";class iI{constructor(t,i,a,l,c){this.localStore=t,this.datastore=i,this.asyncQueue=a,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=c,this.Aa.Oo((d=>{a.enqueueAndForget((async()=>{Pa(this)&&(ut(ka,"Restarting streams for network reachability change."),await(async function(y){const _=Rt(y);_.Ea.add(4),await bu(_),_.Ra.set("Unknown"),_.Ea.delete(4),await Bh(_)})(this))}))})),this.Ra=new nI(a,l)}}async function Bh(r){if(Pa(r))for(const t of r.da)await t(!0)}async function bu(r){for(const t of r.da)await t(!1)}function zE(r,t){const i=Rt(r);i.Ia.has(t.targetId)||(i.Ia.set(t.targetId,t),vg(i)?_g(i):Jo(i).O_()&&yg(i,t))}function pg(r,t){const i=Rt(r),a=Jo(i);i.Ia.delete(t),a.O_()&&jE(i,t),i.Ia.size===0&&(a.O_()?a.L_():Pa(i)&&i.Ra.set("Unknown"))}function yg(r,t){if(r.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(St.min())>0){const i=r.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(i)}Jo(r).Y_(t)}function jE(r,t){r.Va.Ue(t),Jo(r).Z_(t)}function _g(r){r.Va=new JR({getRemoteKeysForTarget:t=>r.remoteSyncer.getRemoteKeysForTarget(t),At:t=>r.Ia.get(t)||null,ht:()=>r.datastore.serializer.databaseId}),Jo(r).start(),r.Ra.ua()}function vg(r){return Pa(r)&&!Jo(r).x_()&&r.Ia.size>0}function Pa(r){return Rt(r).Ea.size===0}function BE(r){r.Va=void 0}async function rI(r){r.Ra.set("Online")}async function sI(r){r.Ia.forEach(((t,i)=>{yg(r,t)}))}async function aI(r,t){BE(r),vg(r)?(r.Ra.ha(t),_g(r)):r.Ra.set("Unknown")}async function oI(r,t,i){if(r.Ra.set("Online"),t instanceof wE&&t.state===2&&t.cause)try{await(async function(l,c){const d=c.cause;for(const p of c.targetIds)l.Ia.has(p)&&(await l.remoteSyncer.rejectListen(p,d),l.Ia.delete(p),l.Va.removeTarget(p))})(r,t)}catch(a){ut(ka,"Failed to remove targets %s: %s ",t.targetIds.join(","),a),await bh(r,a)}else if(t instanceof ih?r.Va.Ze(t):t instanceof AE?r.Va.st(t):r.Va.tt(t),!i.isEqual(St.min()))try{const a=await UE(r.localStore);i.compareTo(a)>=0&&await(function(c,d){const p=c.Va.Tt(d);return p.targetChanges.forEach(((y,_)=>{if(y.resumeToken.approximateByteSize()>0){const b=c.Ia.get(_);b&&c.Ia.set(_,b.withResumeToken(y.resumeToken,d))}})),p.targetMismatches.forEach(((y,_)=>{const b=c.Ia.get(y);if(!b)return;c.Ia.set(y,b.withResumeToken(un.EMPTY_BYTE_STRING,b.snapshotVersion)),jE(c,y);const S=new As(b.target,y,_,b.sequenceNumber);yg(c,S)})),c.remoteSyncer.applyRemoteEvent(p)})(r,i)}catch(a){ut(ka,"Failed to raise snapshot:",a),await bh(r,a)}}async function bh(r,t,i){if(!$o(t))throw t;r.Ea.add(1),await bu(r),r.Ra.set("Offline"),i||(i=()=>UE(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{ut(ka,"Retrying IndexedDB access"),await i(),r.Ea.delete(1),await Bh(r)}))}function qE(r,t){return t().catch((i=>bh(r,i,t)))}async function qh(r){const t=Rt(r),i=Vs(t);let a=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:eg;for(;lI(t);)try{const l=await HC(t.localStore,a);if(l===null){t.Ta.length===0&&i.L_();break}a=l.batchId,uI(t,l)}catch(l){await bh(t,l)}HE(t)&&FE(t)}function lI(r){return Pa(r)&&r.Ta.length<10}function uI(r,t){r.Ta.push(t);const i=Vs(r);i.O_()&&i.X_&&i.ea(t.mutations)}function HE(r){return Pa(r)&&!Vs(r).x_()&&r.Ta.length>0}function FE(r){Vs(r).start()}async function cI(r){Vs(r).ra()}async function hI(r){const t=Vs(r);for(const i of r.Ta)t.ea(i.mutations)}async function fI(r,t,i){const a=r.Ta.shift(),l=ug.from(a,t,i);await qE(r,(()=>r.remoteSyncer.applySuccessfulWrite(l))),await qh(r)}async function dI(r,t){t&&Vs(r).X_&&await(async function(a,l){if((function(d){return KR(d)&&d!==Z.ABORTED})(l.code)){const c=a.Ta.shift();Vs(a).B_(),await qE(a,(()=>a.remoteSyncer.rejectFailedWrite(c.batchId,l))),await qh(a)}})(r,t),HE(r)&&FE(r)}async function Ev(r,t){const i=Rt(r);i.asyncQueue.verifyOperationInProgress(),ut(ka,"RemoteStore received new credentials");const a=Pa(i);i.Ea.add(3),await bu(i),a&&i.Ra.set("Unknown"),await i.remoteSyncer.handleCredentialChange(t),i.Ea.delete(3),await Bh(i)}async function mI(r,t){const i=Rt(r);t?(i.Ea.delete(2),await Bh(i)):t||(i.Ea.add(2),await bu(i),i.Ra.set("Unknown"))}function Jo(r){return r.ma||(r.ma=(function(i,a,l){const c=Rt(i);return c.sa(),new ZC(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(r.datastore,r.asyncQueue,{Xo:rI.bind(null,r),t_:sI.bind(null,r),r_:aI.bind(null,r),H_:oI.bind(null,r)}),r.da.push((async t=>{t?(r.ma.B_(),vg(r)?_g(r):r.Ra.set("Unknown")):(await r.ma.stop(),BE(r))}))),r.ma}function Vs(r){return r.fa||(r.fa=(function(i,a,l){const c=Rt(i);return c.sa(),new WC(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(r.datastore,r.asyncQueue,{Xo:()=>Promise.resolve(),t_:cI.bind(null,r),r_:dI.bind(null,r),ta:hI.bind(null,r),na:fI.bind(null,r)}),r.da.push((async t=>{t?(r.fa.B_(),await qh(r)):(await r.fa.stop(),r.Ta.length>0&&(ut(ka,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}class Eg{constructor(t,i,a,l,c){this.asyncQueue=t,this.timerId=i,this.targetTimeMs=a,this.op=l,this.removalCallback=c,this.deferred=new Ia,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,i,a,l,c){const d=Date.now()+a,p=new Eg(t,i,d,l,c);return p.start(a),p}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ct(Z.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Tg(r,t){if(Dr("AsyncQueue",`${t}: ${r}`),$o(r))return new ct(Z.UNAVAILABLE,`${t}: ${r}`);throw r}class ko{static emptySet(t){return new ko(t.comparator)}constructor(t){this.comparator=t?(i,a)=>t(i,a)||pt.comparator(i.key,a.key):(i,a)=>pt.comparator(i.key,a.key),this.keyedMap=Ql(),this.sortedSet=new Ee(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const i=this.keyedMap.get(t);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((i,a)=>(t(i),!1)))}add(t){const i=this.delete(t.key);return i.copy(i.keyedMap.insert(t.key,t),i.sortedSet.insert(t,null))}delete(t){const i=this.get(t);return i?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(i)):this}isEqual(t){if(!(t instanceof ko)||this.size!==t.size)return!1;const i=this.sortedSet.getIterator(),a=t.sortedSet.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=a.getNext().key;if(!l.isEqual(c))return!1}return!0}toString(){const t=[];return this.forEach((i=>{t.push(i.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,i){const a=new ko;return a.comparator=this.comparator,a.keyedMap=t,a.sortedSet=i,a}}class Tv{constructor(){this.ga=new Ee(pt.comparator)}track(t){const i=t.doc.key,a=this.ga.get(i);a?t.type!==0&&a.type===3?this.ga=this.ga.insert(i,t):t.type===3&&a.type!==1?this.ga=this.ga.insert(i,{type:a.type,doc:t.doc}):t.type===2&&a.type===2?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):t.type===2&&a.type===0?this.ga=this.ga.insert(i,{type:0,doc:t.doc}):t.type===1&&a.type===0?this.ga=this.ga.remove(i):t.type===1&&a.type===2?this.ga=this.ga.insert(i,{type:1,doc:a.doc}):t.type===0&&a.type===1?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):Et(63341,{Rt:t,pa:a}):this.ga=this.ga.insert(i,t)}ya(){const t=[];return this.ga.inorderTraversal(((i,a)=>{t.push(a)})),t}}class Fo{constructor(t,i,a,l,c,d,p,y,_){this.query=t,this.docs=i,this.oldDocs=a,this.docChanges=l,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=p,this.excludesMetadataChanges=y,this.hasCachedResults=_}static fromInitialDocuments(t,i,a,l,c){const d=[];return i.forEach((p=>{d.push({type:0,doc:p})})),new Fo(t,i,ko.emptySet(i),d,a,l,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&kh(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const i=this.docChanges,a=t.docChanges;if(i.length!==a.length)return!1;for(let l=0;l<i.length;l++)if(i[l].type!==a[l].type||!i[l].doc.isEqual(a[l].doc))return!1;return!0}}class gI{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((t=>t.Da()))}}class pI{constructor(){this.queries=bv(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,a){const l=Rt(i),c=l.queries;l.queries=bv(),c.forEach(((d,p)=>{for(const y of p.Sa)y.onError(a)}))})(this,new ct(Z.ABORTED,"Firestore shutting down"))}}function bv(){return new La((r=>hE(r)),kh)}async function yI(r,t){const i=Rt(r);let a=3;const l=t.query;let c=i.queries.get(l);c?!c.ba()&&t.Da()&&(a=2):(c=new gI,a=t.Da()?0:1);try{switch(a){case 0:c.wa=await i.onListen(l,!0);break;case 1:c.wa=await i.onListen(l,!1);break;case 2:await i.onFirstRemoteStoreListen(l)}}catch(d){const p=Tg(d,`Initialization of query '${Io(t.query)}' failed`);return void t.onError(p)}i.queries.set(l,c),c.Sa.push(t),t.va(i.onlineState),c.wa&&t.Fa(c.wa)&&bg(i)}async function _I(r,t){const i=Rt(r),a=t.query;let l=3;const c=i.queries.get(a);if(c){const d=c.Sa.indexOf(t);d>=0&&(c.Sa.splice(d,1),c.Sa.length===0?l=t.Da()?0:1:!c.ba()&&t.Da()&&(l=2))}switch(l){case 0:return i.queries.delete(a),i.onUnlisten(a,!0);case 1:return i.queries.delete(a),i.onUnlisten(a,!1);case 2:return i.onLastRemoteStoreUnlisten(a);default:return}}function vI(r,t){const i=Rt(r);let a=!1;for(const l of t){const c=l.query,d=i.queries.get(c);if(d){for(const p of d.Sa)p.Fa(l)&&(a=!0);d.wa=l}}a&&bg(i)}function EI(r,t,i){const a=Rt(r),l=a.queries.get(t);if(l)for(const c of l.Sa)c.onError(i);a.queries.delete(t)}function bg(r){r.Ca.forEach((t=>{t.next()}))}var Vm,Sv;(Sv=Vm||(Vm={})).Ma="default",Sv.Cache="cache";class TI{constructor(t,i,a){this.query=t,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=a||{}}Fa(t){if(!this.options.includeMetadataChanges){const a=[];for(const l of t.docChanges)l.type!==3&&a.push(l);t=new Fo(t.query,t.docs,t.oldDocs,a,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let i=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),i=!0):this.La(t,this.onlineState)&&(this.ka(t),i=!0),this.Na=t,i}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),i=!0),i}La(t,i){if(!t.fromCache||!this.Da())return!0;const a=i!=="Offline";return(!this.options.qa||!a)&&(!t.docs.isEmpty()||t.hasCachedResults||i==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(t){t=Fo.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==Vm.Cache}}class GE{constructor(t){this.key=t}}class QE{constructor(t){this.key=t}}class bI{constructor(t,i){this.query=t,this.Ya=i,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Ht(),this.mutatedKeys=Ht(),this.eu=fE(t),this.tu=new ko(this.eu)}get nu(){return this.Ya}ru(t,i){const a=i?i.iu:new Tv,l=i?i.tu:this.tu;let c=i?i.mutatedKeys:this.mutatedKeys,d=l,p=!1;const y=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,_=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(t.inorderTraversal(((b,S)=>{const V=l.get(b),Q=Uh(this.query,S)?S:null,tt=!!V&&this.mutatedKeys.has(V.key),nt=!!Q&&(Q.hasLocalMutations||this.mutatedKeys.has(Q.key)&&Q.hasCommittedMutations);let et=!1;V&&Q?V.data.isEqual(Q.data)?tt!==nt&&(a.track({type:3,doc:Q}),et=!0):this.su(V,Q)||(a.track({type:2,doc:Q}),et=!0,(y&&this.eu(Q,y)>0||_&&this.eu(Q,_)<0)&&(p=!0)):!V&&Q?(a.track({type:0,doc:Q}),et=!0):V&&!Q&&(a.track({type:1,doc:V}),et=!0,(y||_)&&(p=!0)),et&&(Q?(d=d.add(Q),c=nt?c.add(b):c.delete(b)):(d=d.delete(b),c=c.delete(b)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const b=this.query.limitType==="F"?d.last():d.first();d=d.delete(b.key),c=c.delete(b.key),a.track({type:1,doc:b})}return{tu:d,iu:a,Cs:p,mutatedKeys:c}}su(t,i){return t.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(t,i,a,l){const c=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const d=t.iu.ya();d.sort(((b,S)=>(function(Q,tt){const nt=et=>{switch(et){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Et(20277,{Rt:et})}};return nt(Q)-nt(tt)})(b.type,S.type)||this.eu(b.doc,S.doc))),this.ou(a),l=l??!1;const p=i&&!l?this._u():[],y=this.Xa.size===0&&this.current&&!l?1:0,_=y!==this.Za;return this.Za=y,d.length!==0||_?{snapshot:new Fo(this.query,t.tu,c,d,t.mutatedKeys,y===0,_,!1,!!a&&a.resumeToken.approximateByteSize()>0),au:p}:{au:p}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Tv,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((i=>this.Ya=this.Ya.add(i))),t.modifiedDocuments.forEach((i=>{})),t.removedDocuments.forEach((i=>this.Ya=this.Ya.delete(i))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=Ht(),this.tu.forEach((a=>{this.uu(a.key)&&(this.Xa=this.Xa.add(a.key))}));const i=[];return t.forEach((a=>{this.Xa.has(a)||i.push(new QE(a))})),this.Xa.forEach((a=>{t.has(a)||i.push(new GE(a))})),i}cu(t){this.Ya=t.Qs,this.Xa=Ht();const i=this.ru(t.documents);return this.applyChanges(i,!0)}lu(){return Fo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Sg="SyncEngine";class SI{constructor(t,i,a){this.query=t,this.targetId=i,this.view=a}}class AI{constructor(t){this.key=t,this.hu=!1}}class wI{constructor(t,i,a,l,c,d){this.localStore=t,this.remoteStore=i,this.eventManager=a,this.sharedClientState=l,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new La((p=>hE(p)),kh),this.Iu=new Map,this.Eu=new Set,this.du=new Ee(pt.comparator),this.Au=new Map,this.Ru=new fg,this.Vu={},this.mu=new Map,this.fu=Ho.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function RI(r,t,i=!0){const a=ZE(r);let l;const c=a.Tu.get(t);return c?(a.sharedClientState.addLocalQueryTarget(c.targetId),l=c.view.lu()):l=await YE(a,t,i,!0),l}async function CI(r,t){const i=ZE(r);await YE(i,t,!0,!1)}async function YE(r,t,i,a){const l=await FC(r.localStore,Ji(t)),c=l.targetId,d=r.sharedClientState.addLocalQueryTarget(c,i);let p;return a&&(p=await II(r,t,c,d==="current",l.resumeToken)),r.isPrimaryClient&&i&&zE(r.remoteStore,l),p}async function II(r,t,i,a,l){r.pu=(S,V,Q)=>(async function(nt,et,yt,At){let _t=et.view.ru(yt);_t.Cs&&(_t=await gv(nt.localStore,et.query,!1).then((({documents:N})=>et.view.ru(N,_t))));const Ot=At&&At.targetChanges.get(et.targetId),Jt=At&&At.targetMismatches.get(et.targetId)!=null,Dt=et.view.applyChanges(_t,nt.isPrimaryClient,Ot,Jt);return wv(nt,et.targetId,Dt.au),Dt.snapshot})(r,S,V,Q);const c=await gv(r.localStore,t,!0),d=new bI(t,c.Qs),p=d.ru(c.documents),y=Tu.createSynthesizedTargetChangeForCurrentChange(i,a&&r.onlineState!=="Offline",l),_=d.applyChanges(p,r.isPrimaryClient,y);wv(r,i,_.au);const b=new SI(t,i,d);return r.Tu.set(t,b),r.Iu.has(i)?r.Iu.get(i).push(t):r.Iu.set(i,[t]),_.snapshot}async function NI(r,t,i){const a=Rt(r),l=a.Tu.get(t),c=a.Iu.get(l.targetId);if(c.length>1)return a.Iu.set(l.targetId,c.filter((d=>!kh(d,t)))),void a.Tu.delete(t);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(l.targetId),a.sharedClientState.isActiveQueryTarget(l.targetId)||await Mm(a.localStore,l.targetId,!1).then((()=>{a.sharedClientState.clearQueryState(l.targetId),i&&pg(a.remoteStore,l.targetId),km(a,l.targetId)})).catch(Xo)):(km(a,l.targetId),await Mm(a.localStore,l.targetId,!0))}async function xI(r,t){const i=Rt(r),a=i.Tu.get(t),l=i.Iu.get(a.targetId);i.isPrimaryClient&&l.length===1&&(i.sharedClientState.removeLocalQueryTarget(a.targetId),pg(i.remoteStore,a.targetId))}async function DI(r,t,i){const a=PI(r);try{const l=await(function(d,p){const y=Rt(d),_=me.now(),b=p.reduce(((Q,tt)=>Q.add(tt.key)),Ht());let S,V;return y.persistence.runTransaction("Locally write mutations","readwrite",(Q=>{let tt=Mr(),nt=Ht();return y.Ns.getEntries(Q,b).next((et=>{tt=et,tt.forEach(((yt,At)=>{At.isValidDocument()||(nt=nt.add(yt))}))})).next((()=>y.localDocuments.getOverlayedDocuments(Q,tt))).next((et=>{S=et;const yt=[];for(const At of p){const _t=HR(At,S.get(At.key).overlayedDocument);_t!=null&&yt.push(new Ls(At.key,_t,iE(_t.value.mapValue),vi.exists(!0)))}return y.mutationQueue.addMutationBatch(Q,_,yt,p)})).next((et=>{V=et;const yt=et.applyToLocalDocumentSet(S,nt);return y.documentOverlayCache.saveOverlays(Q,et.batchId,yt)}))})).then((()=>({batchId:V.batchId,changes:mE(S)})))})(a.localStore,t);a.sharedClientState.addPendingMutation(l.batchId),(function(d,p,y){let _=d.Vu[d.currentUser.toKey()];_||(_=new Ee(qt)),_=_.insert(p,y),d.Vu[d.currentUser.toKey()]=_})(a,l.batchId,i),await Su(a,l.changes),await qh(a.remoteStore)}catch(l){const c=Tg(l,"Failed to persist write");i.reject(c)}}async function KE(r,t){const i=Rt(r);try{const a=await BC(i.localStore,t);t.targetChanges.forEach(((l,c)=>{const d=i.Au.get(c);d&&(te(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?d.hu=!0:l.modifiedDocuments.size>0?te(d.hu,14607):l.removedDocuments.size>0&&(te(d.hu,42227),d.hu=!1))})),await Su(i,a,t)}catch(a){await Xo(a)}}function Av(r,t,i){const a=Rt(r);if(a.isPrimaryClient&&i===0||!a.isPrimaryClient&&i===1){const l=[];a.Tu.forEach(((c,d)=>{const p=d.view.va(t);p.snapshot&&l.push(p.snapshot)})),(function(d,p){const y=Rt(d);y.onlineState=p;let _=!1;y.queries.forEach(((b,S)=>{for(const V of S.Sa)V.va(p)&&(_=!0)})),_&&bg(y)})(a.eventManager,t),l.length&&a.Pu.H_(l),a.onlineState=t,a.isPrimaryClient&&a.sharedClientState.setOnlineState(t)}}async function MI(r,t,i){const a=Rt(r);a.sharedClientState.updateQueryState(t,"rejected",i);const l=a.Au.get(t),c=l&&l.key;if(c){let d=new Ee(pt.comparator);d=d.insert(c,yn.newNoDocument(c,St.min()));const p=Ht().add(c),y=new zh(St.min(),new Map,new Ee(qt),d,p);await KE(a,y),a.du=a.du.remove(c),a.Au.delete(t),Ag(a)}else await Mm(a.localStore,t,!1).then((()=>km(a,t,i))).catch(Xo)}async function OI(r,t){const i=Rt(r),a=t.batch.batchId;try{const l=await jC(i.localStore,t);$E(i,a,null),XE(i,a),i.sharedClientState.updateMutationState(a,"acknowledged"),await Su(i,l)}catch(l){await Xo(l)}}async function VI(r,t,i){const a=Rt(r);try{const l=await(function(d,p){const y=Rt(d);return y.persistence.runTransaction("Reject batch","readwrite-primary",(_=>{let b;return y.mutationQueue.lookupMutationBatch(_,p).next((S=>(te(S!==null,37113),b=S.keys(),y.mutationQueue.removeMutationBatch(_,S)))).next((()=>y.mutationQueue.performConsistencyCheck(_))).next((()=>y.documentOverlayCache.removeOverlaysForBatchId(_,b,p))).next((()=>y.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,b))).next((()=>y.localDocuments.getDocuments(_,b)))}))})(a.localStore,t);$E(a,t,i),XE(a,t),a.sharedClientState.updateMutationState(t,"rejected",i),await Su(a,l)}catch(l){await Xo(l)}}function XE(r,t){(r.mu.get(t)||[]).forEach((i=>{i.resolve()})),r.mu.delete(t)}function $E(r,t,i){const a=Rt(r);let l=a.Vu[a.currentUser.toKey()];if(l){const c=l.get(t);c&&(i?c.reject(i):c.resolve(),l=l.remove(t)),a.Vu[a.currentUser.toKey()]=l}}function km(r,t,i=null){r.sharedClientState.removeLocalQueryTarget(t);for(const a of r.Iu.get(t))r.Tu.delete(a),i&&r.Pu.yu(a,i);r.Iu.delete(t),r.isPrimaryClient&&r.Ru.jr(t).forEach((a=>{r.Ru.containsKey(a)||JE(r,a)}))}function JE(r,t){r.Eu.delete(t.path.canonicalString());const i=r.du.get(t);i!==null&&(pg(r.remoteStore,i),r.du=r.du.remove(t),r.Au.delete(i),Ag(r))}function wv(r,t,i){for(const a of i)a instanceof GE?(r.Ru.addReference(a.key,t),kI(r,a)):a instanceof QE?(ut(Sg,"Document no longer in limbo: "+a.key),r.Ru.removeReference(a.key,t),r.Ru.containsKey(a.key)||JE(r,a.key)):Et(19791,{wu:a})}function kI(r,t){const i=t.key,a=i.path.canonicalString();r.du.get(i)||r.Eu.has(a)||(ut(Sg,"New document in limbo: "+i),r.Eu.add(a),Ag(r))}function Ag(r){for(;r.Eu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const t=r.Eu.values().next().value;r.Eu.delete(t);const i=new pt(ce.fromString(t)),a=r.fu.next();r.Au.set(a,new AI(i)),r.du=r.du.insert(i,a),zE(r.remoteStore,new As(Ji(ag(i.path)),a,"TargetPurposeLimboResolution",Mh.ce))}}async function Su(r,t,i){const a=Rt(r),l=[],c=[],d=[];a.Tu.isEmpty()||(a.Tu.forEach(((p,y)=>{d.push(a.pu(y,t,i).then((_=>{if((_||i)&&a.isPrimaryClient){const b=_?!_.fromCache:i?.targetChanges.get(y.targetId)?.current;a.sharedClientState.updateQueryState(y.targetId,b?"current":"not-current")}if(_){l.push(_);const b=mg.As(y.targetId,_);c.push(b)}})))})),await Promise.all(d),a.Pu.H_(l),await(async function(y,_){const b=Rt(y);try{await b.persistence.runTransaction("notifyLocalViewChanges","readwrite",(S=>W.forEach(_,(V=>W.forEach(V.Es,(Q=>b.persistence.referenceDelegate.addReference(S,V.targetId,Q))).next((()=>W.forEach(V.ds,(Q=>b.persistence.referenceDelegate.removeReference(S,V.targetId,Q)))))))))}catch(S){if(!$o(S))throw S;ut(gg,"Failed to update sequence numbers: "+S)}for(const S of _){const V=S.targetId;if(!S.fromCache){const Q=b.Ms.get(V),tt=Q.snapshotVersion,nt=Q.withLastLimboFreeSnapshotVersion(tt);b.Ms=b.Ms.insert(V,nt)}}})(a.localStore,c))}async function UI(r,t){const i=Rt(r);if(!i.currentUser.isEqual(t)){ut(Sg,"User change. New user:",t.toKey());const a=await kE(i.localStore,t);i.currentUser=t,(function(c,d){c.mu.forEach((p=>{p.forEach((y=>{y.reject(new ct(Z.CANCELLED,d))}))})),c.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(t,a.removedBatchIds,a.addedBatchIds),await Su(i,a.Ls)}}function LI(r,t){const i=Rt(r),a=i.Au.get(t);if(a&&a.hu)return Ht().add(a.key);{let l=Ht();const c=i.Iu.get(t);if(!c)return l;for(const d of c){const p=i.Tu.get(d);l=l.unionWith(p.view.nu)}return l}}function ZE(r){const t=Rt(r);return t.remoteStore.remoteSyncer.applyRemoteEvent=KE.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=LI.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=MI.bind(null,t),t.Pu.H_=vI.bind(null,t.eventManager),t.Pu.yu=EI.bind(null,t.eventManager),t}function PI(r){const t=Rt(r);return t.remoteStore.remoteSyncer.applySuccessfulWrite=OI.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=VI.bind(null,t),t}class Sh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=jh(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,i){return null}Mu(t,i){return null}vu(t){return zC(this.persistence,new UC,t.initialUser,this.serializer)}Cu(t){return new VE(dg.mi,this.serializer)}Du(t){return new QC}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Sh.provider={build:()=>new Sh};class zI extends Sh{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,i){te(this.persistence.referenceDelegate instanceof Th,46915);const a=this.persistence.referenceDelegate.garbageCollector;return new TC(a,t.asyncQueue,i)}Cu(t){const i=this.cacheSizeBytes!==void 0?Vn.withCacheSize(this.cacheSizeBytes):Vn.DEFAULT;return new VE((a=>Th.mi(a,i)),this.serializer)}}class Um{async initialize(t,i){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>Av(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=UI.bind(null,this.syncEngine),await mI(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new pI})()}createDatastore(t){const i=jh(t.databaseInfo.databaseId),a=(function(c){return new JC(c)})(t.databaseInfo);return(function(c,d,p,y){return new eI(c,d,p,y)})(t.authCredentials,t.appCheckCredentials,a,i)}createRemoteStore(t){return(function(a,l,c,d,p){return new iI(a,l,c,d,p)})(this.localStore,this.datastore,t.asyncQueue,(i=>Av(this.syncEngine,i,0)),(function(){return _v.v()?new _v:new YC})())}createSyncEngine(t,i){return(function(l,c,d,p,y,_,b){const S=new wI(l,c,d,p,y,_);return b&&(S.gu=!0),S})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const a=Rt(i);ut(ka,"RemoteStore shutting down."),a.Ea.add(5),await bu(a),a.Aa.shutdown(),a.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Um.provider={build:()=>new Um};class jI{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):Dr("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,i){setTimeout((()=>{this.muted||t(i)}),0)}}const ks="FirestoreClient";class BI{constructor(t,i,a,l,c){this.authCredentials=t,this.appCheckCredentials=i,this.asyncQueue=a,this.databaseInfo=l,this.user=pn.UNAUTHENTICATED,this.clientId=tg.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(a,(async d=>{ut(ks,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(a,(d=>(ut(ks,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Ia;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(i){const a=Tg(i,"Failed to shutdown persistence");t.reject(a)}})),t.promise}}async function am(r,t){r.asyncQueue.verifyOperationInProgress(),ut(ks,"Initializing OfflineComponentProvider");const i=r.configuration;await t.initialize(i);let a=i.initialUser;r.setCredentialChangeListener((async l=>{a.isEqual(l)||(await kE(t.localStore,l),a=l)})),t.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=t}async function Rv(r,t){r.asyncQueue.verifyOperationInProgress();const i=await qI(r);ut(ks,"Initializing OnlineComponentProvider"),await t.initialize(i,r.configuration),r.setCredentialChangeListener((a=>Ev(t.remoteStore,a))),r.setAppCheckTokenChangeListener(((a,l)=>Ev(t.remoteStore,l))),r._onlineComponents=t}async function qI(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){ut(ks,"Using user provided OfflineComponentProvider");try{await am(r,r._uninitializedComponentsProvider._offline)}catch(t){const i=t;if(!(function(l){return l.name==="FirebaseError"?l.code===Z.FAILED_PRECONDITION||l.code===Z.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11})(i))throw i;zo("Error using user provided cache. Falling back to memory cache: "+i),await am(r,new Sh)}}else ut(ks,"Using default OfflineComponentProvider"),await am(r,new zI(void 0));return r._offlineComponents}async function WE(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(ut(ks,"Using user provided OnlineComponentProvider"),await Rv(r,r._uninitializedComponentsProvider._online)):(ut(ks,"Using default OnlineComponentProvider"),await Rv(r,new Um))),r._onlineComponents}function HI(r){return WE(r).then((t=>t.syncEngine))}async function Cv(r){const t=await WE(r),i=t.eventManager;return i.onListen=RI.bind(null,t.syncEngine),i.onUnlisten=NI.bind(null,t.syncEngine),i.onFirstRemoteStoreListen=CI.bind(null,t.syncEngine),i.onLastRemoteStoreUnlisten=xI.bind(null,t.syncEngine),i}function tT(r){const t={};return r.timeoutSeconds!==void 0&&(t.timeoutSeconds=r.timeoutSeconds),t}const Iv=new Map;const eT="firestore.googleapis.com",Nv=!0;class xv{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new ct(Z.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=eT,this.ssl=Nv}else this.host=t.host,this.ssl=t.ssl??Nv;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=OE;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<vC)throw new ct(Z.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}nR("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=tT(t.experimentalLongPollingOptions??{}),(function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new ct(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new ct(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new ct(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(a,l){return a.timeoutSeconds===l.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Hh{constructor(t,i,a,l){this._authCredentials=t,this._appCheckCredentials=i,this._databaseId=a,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new xv({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ct(Z.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new ct(Z.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new xv(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(a){if(!a)return new Qw;switch(a.type){case"firstParty":return new $w(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new ct(Z.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const a=Iv.get(i);a&&(ut("ComponentProvider","Removing Datastore"),Iv.delete(i),a.terminate())})(this),Promise.resolve()}}function FI(r,t,i,a={}){r=$i(r,Hh);const l=Go(t),c=r._getSettings(),d={...c,emulatorOptions:r._getEmulatorOptions()},p=`${t}:${i}`;l&&(Wv(`https://${p}`),t1("Firestore",!0)),c.host!==eT&&c.host!==p&&zo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const y={...c,host:p,ssl:l,emulatorOptions:a};if(!Da(y,d)&&(r._setSettings(y),a.mockUserToken)){let _,b;if(typeof a.mockUserToken=="string")_=a.mockUserToken,b=pn.MOCK_USER;else{_=gS(a.mockUserToken,r._app?.options.projectId);const S=a.mockUserToken.sub||a.mockUserToken.user_id;if(!S)throw new ct(Z.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");b=new pn(S)}r._authCredentials=new Yw(new G1(_,b))}}class Zo{constructor(t,i,a){this.converter=i,this._query=a,this.type="query",this.firestore=t}withConverter(t){return new Zo(this.firestore,t,this._query)}}class Ue{constructor(t,i,a){this.converter=i,this._key=a,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ns(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Ue(this.firestore,t,this._key)}toJSON(){return{type:Ue._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,i,a){if(_u(i,Ue._jsonSchema))return new Ue(t,a||null,new pt(ce.fromString(i.referencePath)))}}Ue._jsonSchemaVersion="firestore/documentReference/1.0",Ue._jsonSchema={type:Ge("string",Ue._jsonSchemaVersion),referencePath:Ge("string")};class Ns extends Zo{constructor(t,i,a){super(t,i,ag(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Ue(this.firestore,null,new pt(t))}withConverter(t){return new Ns(this.firestore,t,this._path)}}function om(r,t,...i){if(r=ln(r),Q1("collection","path",t),r instanceof Hh){const a=ce.fromString(t,...i);return q0(a),new Ns(r,null,a)}{if(!(r instanceof Ue||r instanceof Ns))throw new ct(Z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=r._path.child(ce.fromString(t,...i));return q0(a),new Ns(r.firestore,null,a)}}function Aa(r,t,...i){if(r=ln(r),arguments.length===1&&(t=tg.newId()),Q1("doc","path",t),r instanceof Hh){const a=ce.fromString(t,...i);return B0(a),new Ue(r,null,new pt(a))}{if(!(r instanceof Ue||r instanceof Ns))throw new ct(Z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=r._path.child(ce.fromString(t,...i));return B0(a),new Ue(r.firestore,r instanceof Ns?r.converter:null,new pt(a))}}const Dv="AsyncQueue";class Mv{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new LE(this,"async_queue_retry"),this._c=()=>{const a=sm();a&&ut(Dv,"Visibility state changed to "+a.visibilityState),this.M_.w_()},this.ac=t;const i=sm();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const i=sm();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new Ia;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Xu.push(t),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!$o(t))throw t;ut(Dv,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const i=this.ac.then((()=>(this.rc=!0,t().catch((a=>{throw this.nc=a,this.rc=!1,Dr("INTERNAL UNHANDLED ERROR: ",Ov(a)),a})).then((a=>(this.rc=!1,a))))));return this.ac=i,i}enqueueAfterDelay(t,i,a){this.uc(),this.oc.indexOf(t)>-1&&(i=0);const l=Eg.createAndSchedule(this,t,i,a,(c=>this.hc(c)));return this.tc.push(l),l}uc(){this.nc&&Et(47125,{Pc:Ov(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const i of this.tc)if(i.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((i,a)=>i.targetTimeMs-a.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),t!=="all"&&i.timerId===t)break;return this.Tc()}))}dc(t){this.oc.push(t)}hc(t){const i=this.tc.indexOf(t);this.tc.splice(i,1)}}function Ov(r){let t=r.message||"";return r.stack&&(t=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),t}function Vv(r){return(function(i,a){if(typeof i!="object"||i===null)return!1;const l=i;for(const c of a)if(c in l&&typeof l[c]=="function")return!0;return!1})(r,["next","error","complete"])}class Ua extends Hh{constructor(t,i,a,l){super(t,i,a,l),this.type="firestore",this._queue=new Mv,this._persistenceKey=l?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new Mv(t),this._firestoreClient=void 0,await t}}}function GI(r,t){const i=typeof r=="object"?r:r1(),a=typeof r=="string"?r:gh,l=Fm(i,"firestore").getImmediate({identifier:a});if(!l._initialized){const c=dS("firestore");c&&FI(l,...c)}return l}function nT(r){if(r._terminated)throw new ct(Z.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||QI(r),r._firestoreClient}function QI(r){const t=r._freezeSettings(),i=(function(l,c,d,p){return new dR(l,c,d,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,tT(p.experimentalLongPollingOptions),p.useFetchStreams,p.isUsingEmulator)})(r._databaseId,r._app?.options.appId||"",r._persistenceKey,t);r._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),r._firestoreClient=new BI(r._authCredentials,r._appCheckCredentials,r._queue,i,r._componentsProvider&&(function(l){const c=l?._online.build();return{_offline:l?._offline.build(c),_online:c}})(r._componentsProvider))}class _i{constructor(t){this._byteString=t}static fromBase64String(t){try{return new _i(un.fromBase64String(t))}catch(i){throw new ct(Z.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(t){return new _i(un.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:_i._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(_u(t,_i._jsonSchema))return _i.fromBase64String(t.bytes)}}_i._jsonSchemaVersion="firestore/bytes/1.0",_i._jsonSchema={type:Ge("string",_i._jsonSchemaVersion),bytes:Ge("string")};class Fh{constructor(...t){for(let i=0;i<t.length;++i)if(t[i].length===0)throw new ct(Z.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new on(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class Gh{constructor(t){this._methodName=t}}class Wi{constructor(t,i){if(!isFinite(t)||t<-90||t>90)throw new ct(Z.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(i)||i<-180||i>180)throw new ct(Z.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=t,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return qt(this._lat,t._lat)||qt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Wi._jsonSchemaVersion}}static fromJSON(t){if(_u(t,Wi._jsonSchema))return new Wi(t.latitude,t.longitude)}}Wi._jsonSchemaVersion="firestore/geoPoint/1.0",Wi._jsonSchema={type:Ge("string",Wi._jsonSchemaVersion),latitude:Ge("number"),longitude:Ge("number")};class tr{constructor(t){this._values=(t||[]).map((i=>i))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(a,l){if(a.length!==l.length)return!1;for(let c=0;c<a.length;++c)if(a[c]!==l[c])return!1;return!0})(this._values,t._values)}toJSON(){return{type:tr._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(_u(t,tr._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((i=>typeof i=="number")))return new tr(t.vectorValues);throw new ct(Z.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}tr._jsonSchemaVersion="firestore/vectorValue/1.0",tr._jsonSchema={type:Ge("string",tr._jsonSchemaVersion),vectorValues:Ge("object")};const YI=/^__.*__$/;class KI{constructor(t,i,a){this.data=t,this.fieldMask=i,this.fieldTransforms=a}toMutation(t,i){return this.fieldMask!==null?new Ls(t,this.data,this.fieldMask,i,this.fieldTransforms):new Eu(t,this.data,i,this.fieldTransforms)}}class iT{constructor(t,i,a){this.data=t,this.fieldMask=i,this.fieldTransforms=a}toMutation(t,i){return new Ls(t,this.data,this.fieldMask,i,this.fieldTransforms)}}function rT(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Et(40011,{Ac:r})}}class wg{constructor(t,i,a,l,c,d){this.settings=t,this.databaseId=i,this.serializer=a,this.ignoreUndefinedProperties=l,c===void 0&&this.Rc(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new wg({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){const i=this.path?.child(t),a=this.Vc({path:i,fc:!1});return a.gc(t),a}yc(t){const i=this.path?.child(t),a=this.Vc({path:i,fc:!1});return a.Rc(),a}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return Ah(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find((i=>t.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>t.isPrefixOf(i.field)))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(rT(this.Ac)&&YI.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class XI{constructor(t,i,a){this.databaseId=t,this.ignoreUndefinedProperties=i,this.serializer=a||jh(t)}Cc(t,i,a,l=!1){return new wg({Ac:t,methodName:i,Dc:a,path:on.emptyPath(),fc:!1,bc:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Qh(r){const t=r._freezeSettings(),i=jh(r._databaseId);return new XI(r._databaseId,!!t.ignoreUndefinedProperties,i)}function sT(r,t,i,a,l,c={}){const d=r.Cc(c.merge||c.mergeFields?2:0,t,i,l);Cg("Data must be an object, but it was:",d,a);const p=aT(a,d);let y,_;if(c.merge)y=new Kn(d.fieldMask),_=d.fieldTransforms;else if(c.mergeFields){const b=[];for(const S of c.mergeFields){const V=Lm(t,S,i);if(!d.contains(V))throw new ct(Z.INVALID_ARGUMENT,`Field '${V}' is specified in your field mask but missing from your input data.`);lT(b,V)||b.push(V)}y=new Kn(b),_=d.fieldTransforms.filter((S=>y.covers(S.field)))}else y=null,_=d.fieldTransforms;return new KI(new kn(p),y,_)}class Yh extends Gh{_toFieldTransform(t){if(t.Ac!==2)throw t.Ac===1?t.Sc(`${this._methodName}() can only appear at the top level of your update data`):t.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof Yh}}class Rg extends Gh{_toFieldTransform(t){return new zR(t.path,new ou)}isEqual(t){return t instanceof Rg}}function $I(r,t,i,a){const l=r.Cc(1,t,i);Cg("Data must be an object, but it was:",l,a);const c=[],d=kn.empty();Us(a,((y,_)=>{const b=Ig(t,y,i);_=ln(_);const S=l.yc(b);if(_ instanceof Yh)c.push(b);else{const V=Au(_,S);V!=null&&(c.push(b),d.set(b,V))}}));const p=new Kn(c);return new iT(d,p,l.fieldTransforms)}function JI(r,t,i,a,l,c){const d=r.Cc(1,t,i),p=[Lm(t,a,i)],y=[l];if(c.length%2!=0)throw new ct(Z.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let V=0;V<c.length;V+=2)p.push(Lm(t,c[V])),y.push(c[V+1]);const _=[],b=kn.empty();for(let V=p.length-1;V>=0;--V)if(!lT(_,p[V])){const Q=p[V];let tt=y[V];tt=ln(tt);const nt=d.yc(Q);if(tt instanceof Yh)_.push(Q);else{const et=Au(tt,nt);et!=null&&(_.push(Q),b.set(Q,et))}}const S=new Kn(_);return new iT(b,S,d.fieldTransforms)}function ZI(r,t,i,a=!1){return Au(i,r.Cc(a?4:3,t))}function Au(r,t){if(oT(r=ln(r)))return Cg("Unsupported field value:",t,r),aT(r,t);if(r instanceof Gh)return(function(a,l){if(!rT(l.Ac))throw l.Sc(`${a._methodName}() can only be used with update() and set()`);if(!l.path)throw l.Sc(`${a._methodName}() is not currently supported inside arrays`);const c=a._toFieldTransform(l);c&&l.fieldTransforms.push(c)})(r,t),null;if(r===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),r instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return(function(a,l){const c=[];let d=0;for(const p of a){let y=Au(p,l.wc(d));y==null&&(y={nullValue:"NULL_VALUE"}),c.push(y),d++}return{arrayValue:{values:c}}})(r,t)}return(function(a,l){if((a=ln(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return UR(l.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const c=me.fromDate(a);return{timestampValue:Eh(l.serializer,c)}}if(a instanceof me){const c=new me(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:Eh(l.serializer,c)}}if(a instanceof Wi)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof _i)return{bytesValue:RE(l.serializer,a._byteString)};if(a instanceof Ue){const c=l.databaseId,d=a.firestore._databaseId;if(!d.isEqual(c))throw l.Sc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:hg(a.firestore._databaseId||l.databaseId,a._key.path)}}if(a instanceof tr)return(function(d,p){return{mapValue:{fields:{[eE]:{stringValue:nE},[ph]:{arrayValue:{values:d.toArray().map((_=>{if(typeof _!="number")throw p.Sc("VectorValues must only contain numeric values.");return og(p.serializer,_)}))}}}}}})(a,l);throw l.Sc(`Unsupported field value: ${Dh(a)}`)})(r,t)}function aT(r,t){const i={};return X1(r)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Us(r,((a,l)=>{const c=Au(l,t.mc(a));c!=null&&(i[a]=c)})),{mapValue:{fields:i}}}function oT(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof me||r instanceof Wi||r instanceof _i||r instanceof Ue||r instanceof Gh||r instanceof tr)}function Cg(r,t,i){if(!oT(i)||!Y1(i)){const a=Dh(i);throw a==="an object"?t.Sc(r+" a custom object"):t.Sc(r+" "+a)}}function Lm(r,t,i){if((t=ln(t))instanceof Fh)return t._internalPath;if(typeof t=="string")return Ig(r,t);throw Ah("Field path arguments must be of type string or ",r,!1,void 0,i)}const WI=new RegExp("[~\\*/\\[\\]]");function Ig(r,t,i){if(t.search(WI)>=0)throw Ah(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,i);try{return new Fh(...t.split("."))._internalPath}catch{throw Ah(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,i)}}function Ah(r,t,i,a,l){const c=a&&!a.isEmpty(),d=l!==void 0;let p=`Function ${t}() called with invalid data`;i&&(p+=" (via `toFirestore()`)"),p+=". ";let y="";return(c||d)&&(y+=" (found",c&&(y+=` in field ${a}`),d&&(y+=` in document ${l}`),y+=")"),new ct(Z.INVALID_ARGUMENT,p+r+y)}function lT(r,t){return r.some((i=>i.isEqual(t)))}class uT{constructor(t,i,a,l,c){this._firestore=t,this._userDataWriter=i,this._key=a,this._document=l,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new Ue(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new tN(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const i=this._document.data.field(cT("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i)}}}class tN extends uT{data(){return super.data()}}function cT(r,t){return typeof t=="string"?Ig(r,t):t instanceof Fh?t._internalPath:t._delegate._internalPath}function eN(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new ct(Z.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Ng{}class nN extends Ng{}function kv(r,t,...i){let a=[];t instanceof Ng&&a.push(t),a=a.concat(i),(function(c){const d=c.filter((y=>y instanceof Dg)).length,p=c.filter((y=>y instanceof xg)).length;if(d>1||d>0&&p>0)throw new ct(Z.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(a);for(const l of a)r=l._apply(r);return r}class xg extends nN{constructor(t,i,a){super(),this._field=t,this._op=i,this._value=a,this.type="where"}static _create(t,i,a){return new xg(t,i,a)}_apply(t){const i=this._parse(t);return hT(t._query,i),new Zo(t.firestore,t.converter,Rm(t._query,i))}_parse(t){const i=Qh(t.firestore);return(function(c,d,p,y,_,b,S){let V;if(_.isKeyField()){if(b==="array-contains"||b==="array-contains-any")throw new ct(Z.INVALID_ARGUMENT,`Invalid Query. You can't perform '${b}' queries on documentId().`);if(b==="in"||b==="not-in"){Lv(S,b);const tt=[];for(const nt of S)tt.push(Uv(y,c,nt));V={arrayValue:{values:tt}}}else V=Uv(y,c,S)}else b!=="in"&&b!=="not-in"&&b!=="array-contains-any"||Lv(S,b),V=ZI(p,d,S,b==="in"||b==="not-in");return Fe.create(_,b,V)})(t._query,"where",i,t.firestore._databaseId,this._field,this._op,this._value)}}class Dg extends Ng{constructor(t,i){super(),this.type=t,this._queryConstraints=i}static _create(t,i){return new Dg(t,i)}_parse(t){const i=this._queryConstraints.map((a=>a._parse(t))).filter((a=>a.getFilters().length>0));return i.length===1?i[0]:xi.create(i,this._getOperator())}_apply(t){const i=this._parse(t);return i.getFilters().length===0?t:((function(l,c){let d=l;const p=c.getFlattenedFilters();for(const y of p)hT(d,y),d=Rm(d,y)})(t._query,i),new Zo(t.firestore,t.converter,Rm(t._query,i)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function Uv(r,t,i){if(typeof(i=ln(i))=="string"){if(i==="")throw new ct(Z.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!cE(t)&&i.indexOf("/")!==-1)throw new ct(Z.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${i}' contains a '/' character.`);const a=t.path.child(ce.fromString(i));if(!pt.isDocumentKey(a))throw new ct(Z.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${a}' is not because it has an odd number of segments (${a.length}).`);return $0(r,new pt(a))}if(i instanceof Ue)return $0(r,i._key);throw new ct(Z.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Dh(i)}.`)}function Lv(r,t){if(!Array.isArray(r)||r.length===0)throw new ct(Z.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function hT(r,t){const i=(function(l,c){for(const d of l)for(const p of d.getFlattenedFilters())if(c.indexOf(p.op)>=0)return p.op;return null})(r.filters,(function(l){switch(l){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(t.op));if(i!==null)throw i===t.op?new ct(Z.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new ct(Z.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${i.toString()}' filters.`)}class iN{convertValue(t,i="none"){switch(Os(t)){case 0:return null;case 1:return t.booleanValue;case 2:return ke(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,i);case 5:return t.stringValue;case 6:return this.convertBytes(Ms(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,i);case 11:return this.convertObject(t.mapValue,i);case 10:return this.convertVectorValue(t.mapValue);default:throw Et(62114,{value:t})}}convertObject(t,i){return this.convertObjectMap(t.fields,i)}convertObjectMap(t,i="none"){const a={};return Us(t,((l,c)=>{a[l]=this.convertValue(c,i)})),a}convertVectorValue(t){const i=t.fields?.[ph].arrayValue?.values?.map((a=>ke(a.doubleValue)));return new tr(i)}convertGeoPoint(t){return new Wi(ke(t.latitude),ke(t.longitude))}convertArray(t,i){return(t.values||[]).map((a=>this.convertValue(a,i)))}convertServerTimestamp(t,i){switch(i){case"previous":const a=Vh(t);return a==null?null:this.convertValue(a,i);case"estimate":return this.convertTimestamp(ru(t));default:return null}}convertTimestamp(t){const i=Ds(t);return new me(i.seconds,i.nanos)}convertDocumentKey(t,i){const a=ce.fromString(t);te(ME(a),9688,{name:t});const l=new su(a.get(1),a.get(3)),c=new pt(a.popFirst(5));return l.isEqual(i)||Dr(`Document ${c} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),c}}function fT(r,t,i){let a;return a=r?r.toFirestore(t):t,a}class Kl{constructor(t,i){this.hasPendingWrites=t,this.fromCache=i}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Na extends uT{constructor(t,i,a,l,c,d){super(t,i,a,l,d),this._firestore=t,this._firestoreImpl=t,this.metadata=c}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const i=new rh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,i={}){if(this._document){const a=this._document.data.field(cT("DocumentSnapshot.get",t));if(a!==null)return this._userDataWriter.convertValue(a,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ct(Z.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,i={};return i.type=Na._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}Na._jsonSchemaVersion="firestore/documentSnapshot/1.0",Na._jsonSchema={type:Ge("string",Na._jsonSchemaVersion),bundleSource:Ge("string","DocumentSnapshot"),bundleName:Ge("string"),bundle:Ge("string")};class rh extends Na{data(t={}){return super.data(t)}}class Uo{constructor(t,i,a,l){this._firestore=t,this._userDataWriter=i,this._snapshot=l,this.metadata=new Kl(l.hasPendingWrites,l.fromCache),this.query=a}get docs(){const t=[];return this.forEach((i=>t.push(i))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,i){this._snapshot.docs.forEach((a=>{t.call(i,new rh(this._firestore,this._userDataWriter,a.key,a,new Kl(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const i=!!t.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new ct(Z.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(l,c){if(l._snapshot.oldDocs.isEmpty()){let d=0;return l._snapshot.docChanges.map((p=>{const y=new rh(l._firestore,l._userDataWriter,p.doc.key,p.doc,new Kl(l._snapshot.mutatedKeys.has(p.doc.key),l._snapshot.fromCache),l.query.converter);return p.doc,{type:"added",doc:y,oldIndex:-1,newIndex:d++}}))}{let d=l._snapshot.oldDocs;return l._snapshot.docChanges.filter((p=>c||p.type!==3)).map((p=>{const y=new rh(l._firestore,l._userDataWriter,p.doc.key,p.doc,new Kl(l._snapshot.mutatedKeys.has(p.doc.key),l._snapshot.fromCache),l.query.converter);let _=-1,b=-1;return p.type!==0&&(_=d.indexOf(p.doc.key),d=d.delete(p.doc.key)),p.type!==1&&(d=d.add(p.doc),b=d.indexOf(p.doc.key)),{type:rN(p.type),doc:y,oldIndex:_,newIndex:b}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ct(Z.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=Uo._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=tg.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],a=[],l=[];return this.docs.forEach((c=>{c._document!==null&&(i.push(c._document),a.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),l.push(c.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function rN(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Et(61501,{type:r})}}Uo._jsonSchemaVersion="firestore/querySnapshot/1.0",Uo._jsonSchema={type:Ge("string",Uo._jsonSchemaVersion),bundleSource:Ge("string","QuerySnapshot"),bundleName:Ge("string"),bundle:Ge("string")};class dT extends iN{constructor(t){super(),this.firestore=t}convertBytes(t){return new _i(t)}convertReference(t){const i=this.convertDocumentKey(t,this.firestore._databaseId);return new Ue(this.firestore,null,i)}}function sN(r,t,i){r=$i(r,Ue);const a=$i(r.firestore,Ua),l=fT(r.converter,t);return Kh(a,[sT(Qh(a),"setDoc",r._key,l,r.converter!==null,i).toMutation(r._key,vi.none())])}function Gc(r,t,i,...a){r=$i(r,Ue);const l=$i(r.firestore,Ua),c=Qh(l);let d;return d=typeof(t=ln(t))=="string"||t instanceof Fh?JI(c,"updateDoc",r._key,t,i,a):$I(c,"updateDoc",r._key,t),Kh(l,[d.toMutation(r._key,vi.exists(!0))])}function aN(r){return Kh($i(r.firestore,Ua),[new lg(r._key,vi.none())])}function oN(r,t){const i=$i(r.firestore,Ua),a=Aa(r),l=fT(r.converter,t);return Kh(i,[sT(Qh(r.firestore),"addDoc",a._key,l,r.converter!==null,{}).toMutation(a._key,vi.exists(!1))]).then((()=>a))}function Pv(r,...t){r=ln(r);let i={includeMetadataChanges:!1,source:"default"},a=0;typeof t[a]!="object"||Vv(t[a])||(i=t[a++]);const l={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(Vv(t[a])){const y=t[a];t[a]=y.next?.bind(y),t[a+1]=y.error?.bind(y),t[a+2]=y.complete?.bind(y)}let c,d,p;if(r instanceof Ue)d=$i(r.firestore,Ua),p=ag(r._key.path),c={next:y=>{t[a]&&t[a](lN(d,r,y))},error:t[a+1],complete:t[a+2]};else{const y=$i(r,Zo);d=$i(y.firestore,Ua),p=y._query;const _=new dT(d);c={next:b=>{t[a]&&t[a](new Uo(d,_,y,b))},error:t[a+1],complete:t[a+2]},eN(r._query)}return(function(_,b,S,V){const Q=new jI(V),tt=new TI(b,Q,S);return _.asyncQueue.enqueueAndForget((async()=>yI(await Cv(_),tt))),()=>{Q.Nu(),_.asyncQueue.enqueueAndForget((async()=>_I(await Cv(_),tt)))}})(nT(d),p,l,c)}function Kh(r,t){return(function(a,l){const c=new Ia;return a.asyncQueue.enqueueAndForget((async()=>DI(await HI(a),l,c))),c.promise})(nT(r),t)}function lN(r,t,i){const a=i.docs.get(t._key),l=new dT(r);return new Na(r,l,t._key,a,new Kl(i.hasPendingWrites,i.fromCache),t.converter)}function uN(){return new Rg("serverTimestamp")}(function(t,i=!0){(function(l){Ko=l})(Qo),Po(new Ma("firestore",((a,{instanceIdentifier:l,options:c})=>{const d=a.getProvider("app").getImmediate(),p=new Ua(new Kw(a.getProvider("auth-internal")),new Jw(d,a.getProvider("app-check-internal")),(function(_,b){if(!Object.prototype.hasOwnProperty.apply(_.options,["projectId"]))throw new ct(Z.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new su(_.options.projectId,b)})(d,l),d);return c={useFetchStreams:i,...c},p._setSettings(c),p}),"PUBLIC").setMultipleInstances(!0)),Cs(L0,P0,t),Cs(L0,P0,"esm2020")})();const cN=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),hN=r=>r.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,i,a)=>a?a.toUpperCase():i.toLowerCase()),zv=r=>{const t=hN(r);return t.charAt(0).toUpperCase()+t.slice(1)},mT=(...r)=>r.filter((t,i,a)=>!!t&&t.trim()!==""&&a.indexOf(t)===i).join(" ").trim(),fN=r=>{for(const t in r)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};var dN={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const mN=at.forwardRef(({color:r="currentColor",size:t=24,strokeWidth:i=2,absoluteStrokeWidth:a,className:l="",children:c,iconNode:d,...p},y)=>at.createElement("svg",{ref:y,...dN,width:t,height:t,stroke:r,strokeWidth:a?Number(i)*24/Number(t):i,className:mT("lucide",l),...!c&&!fN(p)&&{"aria-hidden":"true"},...p},[...d.map(([_,b])=>at.createElement(_,b)),...Array.isArray(c)?c:[c]]));const Ut=(r,t)=>{const i=at.forwardRef(({className:a,...l},c)=>at.createElement(mN,{ref:c,iconNode:t,className:mT(`lucide-${cN(zv(r))}`,`lucide-${r}`,a),...l}));return i.displayName=zv(r),i};const gN=[["path",{d:"M12 6v16",key:"nqf5sj"}],["path",{d:"m19 13 2-1a9 9 0 0 1-18 0l2 1",key:"y7qv08"}],["path",{d:"M9 11h6",key:"1fldmi"}],["circle",{cx:"12",cy:"4",r:"2",key:"muu5ef"}]],pN=Ut("anchor",gN);const yN=[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]],lm=Ut("bot",yN);const _N=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],um=Ut("briefcase",_N);const vN=[["path",{d:"M12 20v-9",key:"1qisl0"}],["path",{d:"M14 7a4 4 0 0 1 4 4v3a6 6 0 0 1-12 0v-3a4 4 0 0 1 4-4z",key:"uouzyp"}],["path",{d:"M14.12 3.88 16 2",key:"qol33r"}],["path",{d:"M21 21a4 4 0 0 0-3.81-4",key:"1b0z45"}],["path",{d:"M21 5a4 4 0 0 1-3.55 3.97",key:"5cxbf6"}],["path",{d:"M22 13h-4",key:"1jl80f"}],["path",{d:"M3 21a4 4 0 0 1 3.81-4",key:"1fjd4g"}],["path",{d:"M3 5a4 4 0 0 0 3.55 3.97",key:"1d7oge"}],["path",{d:"M6 13H2",key:"82j7cp"}],["path",{d:"m8 2 1.88 1.88",key:"fmnt4t"}],["path",{d:"M9 7.13V6a3 3 0 1 1 6 0v1.13",key:"1vgav8"}]],EN=Ut("bug",vN);const TN=[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],Pm=Ut("camera",TN);const bN=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],SN=Ut("chevron-down",bN);const AN=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],wN=Ut("chevron-right",AN);const RN=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}]],sh=Ut("circle-dot",RN);const CN=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],jv=Ut("crown",CN);const IN=[["path",{d:"M11 20H2",key:"nlcfvz"}],["path",{d:"M11 4.562v16.157a1 1 0 0 0 1.242.97L19 20V5.562a2 2 0 0 0-1.515-1.94l-4-1A2 2 0 0 0 11 4.561z",key:"au4z13"}],["path",{d:"M11 4H8a2 2 0 0 0-2 2v14",key:"74r1mk"}],["path",{d:"M14 12h.01",key:"1jfl7z"}],["path",{d:"M22 20h-3",key:"vhrsz"}]],NN=Ut("door-open",IN);const xN=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],DN=Ut("eye-off",xN);const MN=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],ON=Ut("eye",MN);const VN=[["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}],["path",{d:"M12 16.5A4.5 4.5 0 1 1 7.5 12 4.5 4.5 0 1 1 12 7.5a4.5 4.5 0 1 1 4.5 4.5 4.5 4.5 0 1 1-4.5 4.5",key:"14wa3c"}],["path",{d:"M12 7.5V9",key:"1oy5b0"}],["path",{d:"M7.5 12H9",key:"eltsq1"}],["path",{d:"M16.5 12H15",key:"vk5kw4"}],["path",{d:"M12 16.5V15",key:"k7eayi"}],["path",{d:"m8 8 1.88 1.88",key:"nxy4qf"}],["path",{d:"M14.12 9.88 16 8",key:"1lst6k"}],["path",{d:"m8 16 1.88-1.88",key:"h2eex1"}],["path",{d:"M14.12 14.12 16 16",key:"uqkrx3"}]],Qc=Ut("flower",VN);const kN=[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]],UN=Ut("heart",kN);const LN=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],gT=Ut("image",LN);const PN=[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]],Bv=Ut("key",PN);const zN=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],jN=Ut("layers",zN);const BN=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],Lo=Ut("map-pin",BN);const qN=[["path",{d:"M12 2v20",key:"t6zp3m"}],["path",{d:"m15 19-3 3-3-3",key:"11eu04"}],["path",{d:"m19 9 3 3-3 3",key:"1mg7y2"}],["path",{d:"M2 12h20",key:"9i4pu4"}],["path",{d:"m5 9-3 3 3 3",key:"j64kie"}],["path",{d:"m9 5 3-3 3 3",key:"l8vdw6"}]],HN=Ut("move",qN);const FN=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],Hl=Ut("package",FN);const GN=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],QN=Ut("plus",GN);const YN=[["path",{d:"M16.247 7.761a6 6 0 0 1 0 8.478",key:"1fwjs5"}],["path",{d:"M19.075 4.933a10 10 0 0 1 0 14.134",key:"ehdyv1"}],["path",{d:"M4.925 19.067a10 10 0 0 1 0-14.134",key:"1q22gi"}],["path",{d:"M7.753 16.239a6 6 0 0 1 0-8.478",key:"r2q7qm"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],qv=Ut("radio",YN);const KN=[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]],XN=Ut("rocket",KN);const $N=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M14 15H9v-5",key:"pi4jk9"}],["path",{d:"M16 3h5v5",key:"1806ms"}],["path",{d:"M21 3 9 15",key:"15kdhq"}]],JN=Ut("scaling",$N);const ZN=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],WN=Ut("search",ZN);const t4=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],e4=Ut("settings",t4);const n4=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]],wh=Ut("shield-alert",n4);const i4=[["path",{d:"m12.5 17-.5-1-.5 1h1z",key:"3me087"}],["path",{d:"M15 22a1 1 0 0 0 1-1v-1a2 2 0 0 0 1.56-3.25 8 8 0 1 0-11.12 0A2 2 0 0 0 8 20v1a1 1 0 0 0 1 1z",key:"1o5pge"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}]],r4=Ut("skull",i4);const s4=[["path",{d:"M14 9.536V7a4 4 0 0 1 4-4h1.5a.5.5 0 0 1 .5.5V5a4 4 0 0 1-4 4 4 4 0 0 0-4 4c0 2 1 3 1 5a5 5 0 0 1-1 3",key:"139s4v"}],["path",{d:"M4 9a5 5 0 0 1 8 4 5 5 0 0 1-8-4",key:"1dlkgp"}],["path",{d:"M5 21h14",key:"11awu3"}]],Hv=Ut("sprout",s4);const a4=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]],o4=Ut("square-plus",a4);const l4=[["path",{d:"M3.5 21 14 3",key:"1szst5"}],["path",{d:"M20.5 21 10 3",key:"1310c3"}],["path",{d:"M15.5 21 12 15l-3.5 6",key:"1ddtfw"}],["path",{d:"M2 21h20",key:"1nyx9w"}]],u4=Ut("tent",l4);const c4=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],h4=Ut("trash-2",c4);const f4=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],Rh=Ut("upload",f4);const d4=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],pT=Ut("user",d4);const m4=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],g4=Ut("users",m4);const p4=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],zm=Ut("x",p4);const y4=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],Fv=Ut("zap",y4),cm=typeof globalThis<"u"&&typeof globalThis.__firebase_config<"u"?globalThis.__firebase_config:"{}";let cu={};try{cu=typeof cm=="string"?JSON.parse(cm):cm||{}}catch(r){console.warn("Failed to parse __firebase_config, falling back to empty config.",r),cu={}}const _4=!!(cu&&cu.apiKey),v4=typeof globalThis<"u"&&typeof globalThis.__disable_firebase<"u"?!!globalThis.__disable_firebase:!1;let Yc=null,wa=null,On=null,jm=!1;if(_4&&!v4)try{Yc=i1(cu),wa=Fw(Yc),On=GI(Yc),jm=!!(Yc&&wa&&On)}catch(r){console.warn("Firebase init failed, running in local mode instead.",r),jm=!1}const Kc=jm,Sr=typeof globalThis<"u"&&typeof globalThis.__app_id<"u"?globalThis.__app_id:"default-app",Ro=r=>`./maps/${r}`,Ii={dam:{id:"dam",name:"",width:2e3,height:2e3,defaultUrl:Ro("dam.jpg"),bgColor:"#1a1d21",gridColor:"#2a2e33"},spaceport:{id:"spaceport",name:"",width:2400,height:1600,defaultUrl:Ro("spaceport.jpg"),bgColor:"#161b22",gridColor:"#1f2937"},buried:{id:"buried",name:"",width:2e3,height:2e3,defaultUrl:Ro("buried.jpg"),bgColor:"#1f1a16",gridColor:"#332b25"},bluegate:{id:"bluegate",name:"",width:2400,height:1600,defaultUrl:Ro("bluegate.jpg"),bgColor:"#1e293b",gridColor:"#334155"},stella:{id:"stella",name:"",width:2400,height:1600,bgColor:"#0f172a",gridColor:"#1e293b",layers:[{id:"upper",name:" ()",defaultUrl:Ro("stella_upper.jpg")},{id:"lower",name:" ()",defaultUrl:Ro("stella_lower.jpg")}]}},Ra={containers:{label:"",color:"#f59e0b"},arc:{label:"",color:"#ef4444"},nature:{label:"",color:"#10b981"},events:{label:"",color:"#a855f7"},others:{label:"",color:"#3b82f6"}},E4={weapon_case:{id:"weapon_case",cat:"containers",label:"",icon:um},med_bag:{id:"med_bag",cat:"containers",label:"",icon:o4},grenade_tube:{id:"grenade_tube",cat:"containers",label:"",icon:sh},ammo_crate:{id:"ammo_crate",cat:"containers",label:"",icon:Hl},backpack:{id:"backpack",cat:"containers",label:"",icon:um},security_lockbox:{id:"security_lockbox",cat:"containers",label:"",icon:Bv},baron_husk:{id:"baron_husk",cat:"containers",label:"",icon:r4},rocketeer_husk:{id:"rocketeer_husk",cat:"containers",label:"",icon:XN},wasp_husk:{id:"wasp_husk",cat:"containers",label:"",icon:sh},arc_courier:{id:"arc_courier",cat:"containers",label:"ARC",icon:Hl},crashed_probe:{id:"crashed_probe",cat:"containers",label:"",icon:qv},tick:{id:"tick",cat:"arc",label:"",icon:EN},pop:{id:"pop",cat:"arc",label:"",icon:sh},fireball:{id:"fireball",cat:"arc",label:"",icon:Fv},surveyor:{id:"surveyor",cat:"arc",label:"arc",icon:ON},sentinel:{id:"sentinel",cat:"arc",label:"",icon:wh},rocketeer_arc:{id:"rocketeer_arc",cat:"arc",label:"",icon:lm},leaper:{id:"leaper",cat:"arc",label:"Leaper",icon:lm},bombardier:{id:"bombardier",cat:"arc",label:"",icon:lm},bastion:{id:"bastion",cat:"arc",label:"",icon:wh},queen:{id:"queen",cat:"arc",label:"",icon:jv},matriarch:{id:"matriarch",cat:"arc",label:"",icon:jv},mushrooms:{id:"mushrooms",cat:"nature",label:"",icon:Hv},great_mullein:{id:"great_mullein",cat:"nature",label:"",icon:Qc},agave:{id:"agave",cat:"nature",label:"",icon:Qc},apricot_tree:{id:"apricot_tree",cat:"nature",label:"",icon:Qc},prickly_pear:{id:"prickly_pear",cat:"nature",label:"",icon:Qc},moss:{id:"moss",cat:"nature",label:"",icon:Hv},harvester:{id:"harvester",cat:"events",label:"",icon:Fv},raider_cache:{id:"raider_cache",cat:"events",label:"",icon:Hl},wicker_basket:{id:"wicker_basket",cat:"events",label:"",icon:Hl},elevator:{id:"elevator",cat:"others",label:"",icon:pN},hatch:{id:"hatch",cat:"others",label:"",icon:NN},supply_call:{id:"supply_call",cat:"others",label:"",icon:qv},raider_camp:{id:"raider_camp",cat:"others",label:"",icon:u4},field_depot:{id:"field_depot",cat:"others",label:"",icon:um},player_spawn:{id:"player_spawn",cat:"others",label:"",icon:pT},quest:{id:"quest",cat:"others",label:"",icon:Lo},locked_room:{id:"locked_room",cat:"others",label:"",icon:Bv},field_crate:{id:"field_crate",cat:"others",label:"",icon:Hl},custom_pin:{id:"custom_pin",cat:"others",label:"",icon:Lo}},Gv={id:"unknown",cat:"others",label:"",icon:sh},xa={weapon_case:"/icon/weapon_case.svg",med_bag:"/icon/med_bag.svg",grenade_tube:"/icon/grenade_tube.svg",ammo_crate:"/icon/ammo_crate.svg",backpack:"/icon/backpack.svg",security_lockbox:"/icon/security_locker.svg",baron_husk:"/icon/baron_husk.svg",rocketeer_husk:"/icon/rocketeer_husk.svg",wasp_husk:"/icon/wasp_husk.svg",arc_courier:"/icon/arc_courier.svg",crashed_probe:"/icon/crashed_probe.svg",tick:"/icon/tick.svg",pop:"/icon/pop.svg",fireball:"/icon/fireball.svg",surveyor:"/icon/surveyor.svg",sentinel:"/icon/sentinel.svg",rocketeer_arc:"/icon/rocketeer.svg",leaper:"/icon/leaper.svg",bombardier:"/icon/bombardier.svg",bastion:"/icon/bastion.svg",queen:"/icon/queen.svg",matriarch:"/icon/apricot_tree.svg",mushrooms:"/icon/mushrooms.svg",great_mullein:"/icon/great_mullein.svg",agave:"/icon/agave.svg",apricot_tree:"/icon/apricot_tree.svg",prickly_pear:"/icon/prickly_pear.svg",moss:"/icon/moss.svg",harvester:"/icon/harvester.svg",raider_cache:"/icon/raider_cache.svg",wicker_basket:"/icon/wicker_basket.svg",elevator:"/icon/elevator.svg",hatch:"/icon/hatch.svg",supply_call:"/icon/supply_call_station.svg",raider_camp:"/icon/raider_camp.svg",field_depot:"/icon/field_depot.svg",player_spawn:"/icon/player_spawn.svg",quest:"/icon/quest.svg",locked_room:"/icon/locked_room.svg",field_crate:"/icon/field_crate.svg",custom_pin:"/icon/field_crate.svg"},T4="./";Object.keys(xa).forEach(r=>{const t=xa[r];if(typeof t=="string"&&t.startsWith("/")){const i=t.replace(/^\//,"");xa[r]=`${T4}${i}`}});const b4=new Set(Object.values(xa)),Fl=(r,t="")=>`data:image/svg+xml;utf8,${encodeURIComponent(`<svg xmlns="http://www.w3.org/2000/svg" width="64" height="64" viewBox="0 0 64 64"><rect width="64" height="64" rx="12" fill="${r}"/><text x="50%" y="54%" text-anchor="middle" font-size="28" fill="#0f172a" font-family="Arial, sans-serif" font-weight="700">${t}</text></svg>`)}`,S4=[{id:"preset-orange",label:"",dataUrl:Fl("#fb923c","P")},{id:"preset-blue",label:"",dataUrl:Fl("#60a5fa","P")},{id:"preset-green",label:"",dataUrl:Fl("#34d399","P")},{id:"preset-purple",label:"",dataUrl:Fl("#c084fc","P")},{id:"preset-gray",label:"",dataUrl:Fl("#9ca3af","P")}],hm=()=>Math.random().toString(36).substring(2,8).toUpperCase(),Ch=(r,t=600)=>new Promise((i,a)=>{const l=new FileReader;l.readAsDataURL(r),l.onload=c=>{const d=new Image;d.src=c.target.result,d.onload=()=>{const p=document.createElement("canvas"),y=t/d.width;p.width=t,p.height=d.height*y,p.getContext("2d").drawImage(d,0,0,p.width,p.height),i(p.toDataURL("image/jpeg",.7))},d.onerror=a},l.onerror=a}),A4=({config:r,onUpload:t})=>x.jsx("div",{className:"w-full h-full absolute top-0 left-0 flex flex-col items-center justify-center",style:{backgroundColor:r.bgColor,backgroundImage:`
        linear-gradient(${r.gridColor} 1px, transparent 1px),
        linear-gradient(90deg, ${r.gridColor} 1px, transparent 1px)
      `,backgroundSize:"100px 100px"},children:x.jsxs("div",{className:"text-center p-6 bg-black/50 backdrop-blur rounded-xl border border-gray-700",children:[x.jsx(gT,{size:48,className:"mx-auto text-gray-500 mb-4"}),x.jsx("p",{className:"text-gray-300 font-bold mb-2",children:"NO MAP IMAGE"}),x.jsx("p",{className:"text-gray-500 text-sm mb-4 max-w-xs",children:""}),x.jsxs("button",{onClick:t,className:"bg-orange-600 hover:bg-orange-500 text-white px-4 py-2 rounded flex items-center gap-2 mx-auto transition-colors",children:[x.jsx(Rh,{size:16}),""]})]})}),w4=({pin:r,markerDef:t,onClose:i,onUpdateImage:a,onUpdateIcon:l,onDelete:c,onMark:d})=>{const p=at.useRef(null),y=at.useRef(null),_=Ra[t.cat]||Ra.others,b=async V=>{const Q=V.target.files[0];if(Q)try{const tt=await Ch(Q);a(r.id,tt)}catch(tt){console.error("Image upload failed",tt),alert("")}},S=async V=>{const Q=V.target.files[0];if(!(!Q||!l))try{const tt=await Ch(Q,128);l(r.id,tt)}catch(tt){console.error("Icon upload failed",tt),alert("")}};return x.jsxs("div",{className:"absolute z-[100] bg-gray-900 text-white rounded-lg shadow-2xl border border-gray-700 w-72 overflow-hidden",style:{top:"50%",left:"50%",transform:"translate(-50%, -50%)"},onClick:V=>V.stopPropagation(),children:[x.jsxs("div",{className:"relative h-40 bg-gray-800 flex items-center justify-center overflow-hidden group",children:[r.imageUrl?x.jsx("img",{src:r.imageUrl,alt:"Pin Attachment",className:"w-full h-full object-cover"}):x.jsxs("div",{className:"flex flex-col items-center text-gray-500",children:[x.jsx(Pm,{size:32,className:"mb-2 opacity-50"}),x.jsx("span",{className:"text-xs",children:"No Image"})]}),x.jsx("div",{className:"absolute inset-0 bg-black/60 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center cursor-pointer",onClick:()=>p.current?.click(),children:x.jsxs("div",{className:"text-center",children:[x.jsx(Rh,{className:"mx-auto mb-1 text-white",size:24}),x.jsx("span",{className:"text-xs font-bold text-white",children:"/"})]})}),x.jsx("input",{type:"file",ref:p,className:"hidden",accept:"image/*",onChange:b}),x.jsx("input",{type:"file",ref:y,className:"hidden",accept:"image/*",onChange:S})]}),x.jsxs("div",{className:"p-4",children:[x.jsxs("div",{className:"flex justify-between items-start mb-2",children:[x.jsxs("div",{children:[x.jsxs("div",{className:"flex items-center gap-2 text-orange-400 text-xs font-bold uppercase mb-0.5",children:[x.jsx(t.icon,{size:12,color:_.color}),_.label]}),x.jsx("h3",{className:"text-lg font-bold leading-tight",children:t.label})]}),x.jsx("button",{onClick:i,className:"text-gray-400 hover:text-white",children:x.jsx(zm,{size:20})})]}),x.jsxs("div",{className:"text-xs text-gray-500 mb-4",children:[": ",x.jsx("span",{className:"text-gray-300 font-semibold",children:r.createdByName||""})," ",x.jsxs("span",{className:"ml-2 text-gray-600",children:["ID: ",r.id.slice(0,6),""]})]}),x.jsxs("div",{className:"flex gap-2 mb-2",children:[x.jsxs("button",{onClick:()=>y.current?.click(),className:"flex-1 bg-gray-700 hover:bg-gray-600 text-white text-xs font-bold py-2 rounded transition-colors flex items-center justify-center gap-2",children:[x.jsx(Pm,{size:14}),""]}),x.jsxs("button",{onClick:()=>p.current?.click(),className:"flex-1 bg-gray-700 hover:bg-gray-600 text-white text-xs font-bold py-2 rounded transition-colors flex items-center justify-center gap-2",children:[x.jsx(Rh,{size:14}),""]})]}),x.jsxs("div",{className:"flex gap-2",children:[x.jsxs("button",{onClick:()=>d?.(r.id),className:"flex-1 bg-gray-700 hover:bg-gray-600 text-white text-xs font-bold py-2 rounded transition-colors flex items-center justify-center gap-2",children:[x.jsx(Lo,{size:14}),""]}),x.jsx("button",{onClick:()=>c(r.id),className:"bg-red-900/50 hover:bg-red-900 text-red-200 p-2 rounded transition-colors",title:"",children:x.jsx(h4,{size:16})})]})]})]})};function R4(){const[r,t]=at.useState(null),[i,a]=at.useState(null),[l,c]=at.useState("dam"),[d,p]=at.useState(null),[y,_]=at.useState({}),[b,S]=at.useState([]),[V,Q]=at.useState([]),[tt,nt]=at.useState(null),[et,yt]=at.useState([]),[At,_t]=at.useState({}),[Ot,Jt]=at.useState({}),[Dt,N]=at.useState([]),[A,I]=at.useState(null),[k,D]=at.useState(!1),[L,R]=at.useState(null),[re,Te]=at.useState(""),[G,rt]=at.useState(null),[dt,Lt]=at.useState([]),[Ft,O]=at.useState(""),[X,st]=at.useState(!1),[lt,Tt]=at.useState([]),[Ct,Gt]=at.useState(""),[Le,he]=at.useState(""),[Vr,Ps]=at.useState("#7dd3fc"),[zs,js]=at.useState(""),[Pe,Un]=at.useState("move"),[Re,nr]=at.useState({x:0,y:0,scale:.4}),[kr,be]=at.useState(1),[Ce,Xn]=at.useState(!1),[Bs,qs]=at.useState(!1),[Xe,ir]=at.useState({x:0,y:0}),[Hs,Ur]=at.useState(!1),[cn,za]=at.useState(""),[Di,Lr]=at.useState(i?"shared":"local"),[Pr,vn]=at.useState(i||""),[Qe,En]=at.useState("map"),[_e,zr]=at.useState(!!i),[Mi,Fs]=at.useState({}),[$n,Ei]=at.useState({}),Pt=Di==="shared"&&i?"shared":"local",$e=Pt==="shared"?b:V,hn=(w,F=Pt)=>{F==="shared"?S(J=>typeof w=="function"?w(J):w):Q(J=>typeof w=="function"?w(J):w)},Ie=at.useMemo(()=>Kc&&!!i,[i]),[ja,Ba]=at.useState({containers:!0,arc:!0,others:!0,nature:!0,events:!0}),[Ln,rr]=at.useState("");Ot.custom_pin,at.useMemo(()=>{const w={...Ra};return lt.forEach(F=>{w[F.id]={label:F.label,color:F.color||"#6b7280"}}),w},[lt]);const Pn=at.useMemo(()=>{const w={...E4};return Dt.forEach(F=>{w[F.id]={...F,icon:Lo}}),w},[Dt]),Oi=[...dt,...S4],jr=w=>At[w]!==!1,Gs=at.useMemo(()=>{const w={};return $e.forEach(F=>{F.mapId!==l||Ii[l].layers&&F.layerId!==d||(w[F.type]=(w[F.type]||0)+1)}),w},[$e,l,d]),Vi=at.useRef(null),Jn=at.useRef(null),Qs=at.useRef(null),Rn=at.useRef(null),Cn=at.useRef(null);at.useEffect(()=>{const w=localStorage.getItem("tactical_display_name");w&&za(w)},[]),at.useEffect(()=>{!Ft&&Object.keys(Pn).length>0&&O(Object.keys(Pn)[0])},[Pn,Ft]),at.useEffect(()=>{cn&&localStorage.setItem("tactical_display_name",cn)},[cn]),at.useEffect(()=>{const w=localStorage.getItem("tactical_custom_markers");if(w)try{const F=JSON.parse(w);Array.isArray(F)&&N(F)}catch(F){console.warn("Failed to parse stored custom markers",F)}},[]),at.useEffect(()=>{localStorage.setItem("tactical_custom_markers",JSON.stringify(Dt||[]))},[Dt]),at.useEffect(()=>{if(!et.length)return;const w=new Set($e.map(F=>F.id));yt(F=>F.filter(J=>w.has(J)))},[$e,et]),at.useEffect(()=>{const w=localStorage.getItem("tactical_user_icon_library");if(w)try{const F=JSON.parse(w);Array.isArray(F)&&Lt(F)}catch(F){console.warn("Failed to parse stored icon library",F)}},[]),at.useEffect(()=>{localStorage.setItem("tactical_user_icon_library",JSON.stringify(dt||[]))},[dt]),at.useEffect(()=>{const w=localStorage.getItem("tactical_marker_icons");if(w)try{const F=JSON.parse(w);if(F&&typeof F=="object"){const J={...xa};Object.entries(F).forEach(([ot,mt])=>{if(!mt)return;const Mt=typeof mt=="string"&&mt.startsWith("data:"),ee=typeof mt=="string"&&mt.startsWith("http"),fn=typeof mt=="string"&&b4.has(mt);mt.startsWith("/icon/")&&!fn||(Mt||ee||fn)&&(J[ot]=mt)}),Jt(J);return}}catch(F){console.warn("Failed to parse stored marker icons",F)}Jt(xa)},[]),at.useEffect(()=>{localStorage.setItem("tactical_marker_icons",JSON.stringify(Ot||{}))},[Ot]),at.useEffect(()=>{if((async()=>{if(!Kc){t({uid:"local-demo"});return}try{typeof __initial_auth_token<"u"&&__initial_auth_token?await x2(wa,__initial_auth_token):await w2(wa)}catch(J){console.error("Auth error:",J)}})(),!Kc)return;const F=O2(wa,t);return()=>F()},[]),at.useEffect(()=>{const w=new URLSearchParams(window.location.search),F=w.get("room"),J=w.get("map"),ot=w.get("view");a(F||null),Lr(F?"shared":"local"),vn(F||""),F&&zr(!0),J&&Ii[J]&&c(J),ot==="list"&&En("list");const mt=localStorage.getItem("tactical_local_pins");if(mt)try{const ee=JSON.parse(mt);Array.isArray(ee)&&Q(ee)}catch(ee){console.warn("Failed to parse local pins",ee)}const Mt=localStorage.getItem("tactical_local_map_meta");if(Mt)try{const ee=JSON.parse(Mt);ee&&typeof ee=="object"&&Fs(ee)}catch(ee){console.warn("Failed to parse local map meta",ee)}},[]),at.useEffect(()=>{const w=Ii[l];w.layers&&w.layers.length>0?p(w.layers[0].id):p(null),Js();const F=new URLSearchParams(window.location.search);F.set("map",l),i&&F.set("room",i);const J=`${window.location.pathname}?${F.toString()}`;window.history.replaceState({},"",J)},[l]),at.useEffect(()=>{localStorage.setItem("tactical_local_pins",JSON.stringify(V||[]))},[V]),at.useEffect(()=>{localStorage.setItem("tactical_local_map_meta",JSON.stringify(Mi||{}))},[Mi]),at.useEffect(()=>{if(!Ie||Pt!=="shared"||!wa||!On||!r)return;const w=`${i}_pins`,F=kv(om(On,"artifacts",Sr,"public","data",w)),J=Pv(F,ot=>{const mt=ot.docs.map(Mt=>({id:Mt.id,...Mt.data()}));S(mt)},ot=>console.error(ot));return()=>J()},[r,i]),at.useEffect(()=>{if(!Ie||Pt!=="shared"||!wa||!On||!r)return;const w=`${i}_mapmeta`,F=kv(om(On,"artifacts",Sr,"public","data",w)),J=Pv(F,ot=>{const mt={};ot.docs.forEach(Mt=>{mt[Mt.id]=Mt.data()}),Ei(mt)},ot=>console.error(ot));return()=>J()},[r,i,Pt,Ie]);const Se=w=>{const F=w.target.files[0];if(!F)return;const J=URL.createObjectURL(F),ot=d?`${l}_${d}`:l;_(mt=>({...mt,[ot]:J}))},Ne=()=>Qs.current?.click(),Zn=async w=>{const F=w.target.files?.[0];if(!(!F||!A))try{const J=await Ch(F,128);Jt(ot=>({...ot,[A]:J})),Ys(J)}catch(J){console.error("Icon upload failed",J),alert("Icon image could not be loaded.")}finally{w.target.value="",I(null)}},Br=(w="custom_pin")=>{I(w),Rn.current?.click()},Ys=w=>{w&&Lt(F=>{if(F.some(ot=>ot.dataUrl===w))return F;const J=`user_${F.length+1}_${Date.now().toString(36)}`;return[...F,{id:J,label:"My Icon",dataUrl:w}]})},qa=async w=>{const F=xa[w];if(F){if(st(!0),Jt(J=>({...J,[w]:F})),hn(J=>J.map(ot=>ot.type===w?{...ot,iconUrl:F}:ot)),Ie&&i){const J=`${i}_pins`,ot=$e.filter(mt=>mt.type===w);await Promise.allSettled(ot.map(mt=>Gc(Aa(On,"artifacts",Sr,"public","data",J,mt.id),{iconUrl:F})))}st(!1)}},Ha=w=>{R(w),Te(""),rt(Ot.custom_pin||Oi[0]?.dataUrl||null),D(!0)},Wn=async w=>{const F=w.target.files?.[0];if(F)try{const J=await Ch(F,128);rt(J),Ys(J)}catch(J){console.error("Marker icon upload failed",J),alert("")}finally{w.target.value=""}},qr=()=>{if(!re.trim()||!L){alert("");return}const w=`custom_${Date.now().toString(36)}`,F={id:w,label:re.trim(),cat:L};N(J=>[...J,F]),G&&Jt(J=>({...J,[w]:G})),Un(w),D(!1)},zn=(w,F)=>{const J=Math.min(Math.max(.2,w),5),ot=F?.x??window.innerWidth/2,mt=F?.y??window.innerHeight/2,Mt=(ot-Re.x)/Re.scale,ee=(mt-Re.y)/Re.scale,fn=ot-Mt*J,dn=mt-ee*J;nr({x:fn,y:dn,scale:J})},Tn=w=>{w.preventDefault(),w.stopPropagation(),(w.ctrlKey||w.metaKey)&&w.preventDefault();const J=Re.scale-w.deltaY*.001;zn(J,{x:w.clientX,y:w.clientY})};at.useEffect(()=>{const w=Jn.current;if(w)return w.addEventListener("wheel",Tn,{passive:!1}),()=>w.removeEventListener("wheel",Tn)});const bn=w=>{(w.button===1||Pe==="move")&&(qs(!0),ir({x:w.clientX-Re.x,y:w.clientY-Re.y}))},ti=w=>{Bs&&nr(F=>({...F,x:w.clientX-Xe.x,y:w.clientY-Xe.y}))},ve=()=>qs(!1),Ks=async w=>{if(Bs||Pt==="shared"&&!r)return;if(tt){nt(null);return}if(Pe==="move")return;const F=Vi.current.getBoundingClientRect(),J=(w.clientX-F.left)/Re.scale,ot=(w.clientY-F.top)/Re.scale,mt=Ii[l];if(!(J<0||ot<0||J>mt.width||ot>mt.height)){if(!Ie||Pt==="local"){const Mt=`local-${Date.now()}-${Math.random().toString(36).slice(2,8)}`;hn(ee=>[...ee,{id:Mt,mapId:l,layerId:d,x:J,y:ot,type:Pe,iconUrl:Ot[Pe]||void 0,createdAt:new Date,createdBy:r?.uid||"local",createdByName:cn||""}]),nt(Mt),Un("move");return}if(i)try{const Mt=`${i}_pins`,ee=await oN(om(On,"artifacts",Sr,"public","data",Mt),{mapId:l,layerId:d,x:J,y:ot,type:Pe,iconUrl:Ot[Pe]||void 0,createdAt:uN(),createdBy:r.uid,createdByName:cn||""});nt(ee.id),Un("move")}catch(Mt){console.error("Error adding pin:",Mt)}}},Xs=(w,F)=>{w.stopPropagation(),nt(J=>J===F?null:F)},ei=async w=>{if(!r&&Pt==="shared")return;if(!Ie||Pt==="local"){hn(J=>J.filter(ot=>ot.id!==w)),tt===w&&nt(null),yt(J=>J.filter(ot=>ot!==w));return}const F=`${i}_pins`;try{await aN(Aa(On,"artifacts",Sr,"public","data",F,w)),tt===w&&nt(null),yt(J=>J.filter(ot=>ot!==w))}catch(J){console.error(J)}},ni=async(w,F)=>{if(!r&&Pt==="shared")return;if(!Ie||Pt==="local"){hn(ot=>ot.map(mt=>mt.id===w?{...mt,imageUrl:F}:mt));return}if(!i)return;const J=`${i}_pins`;try{await Gc(Aa(On,"artifacts",Sr,"public","data",J,w),{imageUrl:F})}catch(ot){console.error(ot)}},$s=async(w,F)=>{if(!r&&Pt==="shared")return;if(Ys(F),!Ie||Pt==="local"){hn(ot=>ot.map(mt=>mt.id===w?{...mt,iconUrl:F}:mt));return}if(!i)return;const J=`${i}_pins`;try{await Gc(Aa(On,"artifacts",Sr,"public","data",J,w),{iconUrl:F})}catch(ot){console.error(ot)}},Js=()=>{const w=window.innerWidth,F=window.innerHeight,J=Ii[l];nr({x:w/2-J.width*.4/2,y:F/2-J.height*.4/2,scale:.4})},Zs=$e.filter(w=>!(w.mapId!==l||Ii[l].layers&&w.layerId!==d||!jr(w.type))),Fa=w=>{Ba(F=>({...F,[w]:!F[w]}))},Hr=()=>{const w={};Object.keys(Pn).forEach(F=>{w[F]=!0}),_t(w)},Sn=()=>{const w={};Object.keys(Pn).forEach(F=>{w[F]=!1}),_t(w)},ge=Pt==="shared"?$n:Mi,xe=ge[l]||{title:"",note:""},Je=Ii[l];let Fr=Je.defaultUrl,Kt=l;if(Je.layers&&d){const w=Je.layers.find(F=>F.id===d);w&&(Fr=w.defaultUrl),Kt=`${l}_${d}`}const ki=y[Kt]||Fr,[ii,Ui]=at.useState(!1);at.useEffect(()=>Ui(!1),[l,d,y]);const De=w=>{a(w),Lr(w?"shared":"local"),vn(w||""),nt(null),w||(S([]),Ei({}));const F=new URLSearchParams(window.location.search);w?F.set("room",w):F.delete("room"),F.set("map",l);const J=`${window.location.pathname}${F.toString()?`?${F.toString()}`:""}`;window.history.replaceState({},"",J)},ri=w=>{En(w);const F=new URLSearchParams(window.location.search);i&&F.set("room",i),F.set("map",l),w==="list"?F.set("view","list"):F.delete("view");const J=`${window.location.pathname}${F.toString()?`?${F.toString()}`:""}`;window.history.replaceState({},"",J)},Ws=async(w,F)=>{const ot={...ge[w]||{},...F,updatedAt:Date.now(),updatedBy:r?.uid||"local",updatedByName:cn||""};if(Pt==="shared"){if(!Ie||!i||!r||!On)return;const mt=`${i}_mapmeta`;try{await Gc(Aa(On,"artifacts",Sr,"public","data",mt,w),ot).catch(async Mt=>{if(Mt.code==="not-found"||String(Mt).includes("No document"))await sN(Aa(On,"artifacts",Sr,"public","data",mt,w),ot);else throw Mt}),Ei(Mt=>({...Mt,[w]:ot}))}catch(Mt){console.error("Map meta update failed",Mt)}}else Fs(mt=>({...mt,[w]:ot}))},ta=()=>{const w=i||hm();i||De(w);const F=`${window.location.origin}${window.location.pathname}?room=${w}`;navigator.clipboard.writeText(F).then(()=>{Ur(!0),setTimeout(()=>Ur(!1),2e3)}).catch(()=>alert("Room ID: "+w))};return _e?Qe==="list"?x.jsxs("div",{className:"min-h-screen bg-black text-gray-200 p-6",children:[x.jsxs("header",{className:"flex items-center justify-between mb-6",children:[x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx(wh,{className:"text-orange-500 w-5 h-5"}),x.jsx("h1",{className:"font-bold text-base tracking-wider text-gray-100",children:"TACTICAL - "})]}),x.jsx("button",{onClick:()=>ri("map"),className:"px-4 py-2 rounded bg-orange-600 hover:bg-orange-500 text-white text-sm font-semibold",children:""})]}),x.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-4",children:Object.values(Ii).map(w=>{const F=ge[w.id]||{};return x.jsxs("div",{className:"bg-gray-900 border border-gray-800 rounded-lg p-4 flex flex-col gap-2 shadow",children:[x.jsxs("div",{className:"flex items-center justify-between",children:[x.jsx("div",{className:"text-xs text-gray-500 uppercase",children:w.id}),x.jsx("button",{onClick:()=>{c(w.id),ri("map")},className:"text-xs px-2 py-1 rounded bg-gray-800 border border-gray-700 hover:bg-gray-700",children:""})]}),x.jsx("div",{className:"text-lg font-bold text-white",children:F.title||w.name}),x.jsx("div",{className:"text-sm text-gray-400 line-clamp-3",children:F.note||""})]},w.id)})})]}):x.jsxs("div",{className:"flex flex-col h-screen bg-black text-gray-200 overflow-hidden font-sans relative",children:[!Kc&&x.jsx("div",{className:"absolute top-2 right-2 z-50 bg-orange-500 text-black text-xs font-bold px-3 py-1 rounded shadow",children:"Firebase disabled (local demo mode)"}),x.jsx("input",{type:"file",ref:Qs,className:"hidden",accept:"image/*",onChange:Se}),x.jsx("input",{type:"file",ref:Rn,className:"hidden",accept:"image/*",onChange:Zn}),x.jsx("input",{type:"file",ref:Cn,className:"hidden",accept:"image/*",onChange:Wn}),x.jsxs("header",{className:"h-12 bg-gray-900 border-b border-gray-800 flex items-center justify-between px-4 z-30 shadow-lg shrink-0 gap-4",children:[x.jsxs("div",{className:"flex items-center gap-2 min-w-fit",children:[x.jsx(wh,{className:"text-orange-500 w-5 h-5"}),x.jsx("h1",{className:"font-bold text-base tracking-wider text-gray-100",children:"TACTICAL"})]}),x.jsxs("div",{className:"flex items-center gap-3 flex-1 justify-center min-w-0",children:[x.jsx("div",{className:"flex items-center bg-gray-800 rounded p-0.5 gap-1 overflow-x-auto scrollbar-hide",children:Object.values(Ii).map(w=>x.jsx("button",{onClick:()=>c(w.id),className:`px-3 py-1 text-xs font-bold rounded transition-colors uppercase whitespace-nowrap ${l===w.id?"bg-orange-600 text-white":"text-gray-400 hover:text-white hover:bg-gray-700"}`,children:w.name},w.id))}),x.jsx("select",{value:l,onChange:w=>c(w.target.value),className:"bg-gray-800 border border-gray-700 text-gray-200 text-xs rounded px-2 py-1",children:Object.values(Ii).map(w=>x.jsx("option",{value:w.id,children:w.name},w.id))}),x.jsx("button",{onClick:()=>ri("list"),className:"px-3 py-1 text-xs font-medium rounded border border-gray-700 bg-gray-800 text-gray-300 hover:bg-gray-700 whitespace-nowrap",children:""}),x.jsxs("button",{onClick:()=>Un("custom_pin"),className:`flex items-center gap-1 px-3 py-1 text-xs font-bold rounded border transition-all whitespace-nowrap ${Pe==="custom_pin"?"bg-orange-600 text-white border-orange-400":"bg-gray-800 text-gray-300 border-gray-700 hover:bg-gray-700"}`,children:[x.jsx(Lo,{size:14}),"Drop Pin"]})]}),x.jsxs("div",{className:"flex items-center gap-3 min-w-fit",children:[x.jsxs("div",{className:"flex items-center gap-2 bg-gray-800 rounded px-2 py-1 border border-gray-700",children:[x.jsx("span",{className:"text-xs text-gray-400",children:""}),x.jsx("input",{type:"text",value:cn,onChange:w=>za(w.target.value.slice(0,24)),placeholder:"",className:"bg-transparent text-sm text-white outline-none w-28"})]}),x.jsx("button",{onClick:ta,className:"bg-blue-600 hover:bg-blue-500 text-white px-3 py-1 rounded text-xs font-medium transition-all",children:""})]})]}),Je.layers&&x.jsx("div",{className:"absolute top-14 left-1/2 -translate-x-1/2 z-30 flex gap-2 bg-black/80 backdrop-blur p-1 rounded-lg border border-gray-700",children:Je.layers.map(w=>x.jsxs("button",{onClick:()=>p(w.id),className:`flex items-center gap-2 px-3 py-1 text-xs font-bold rounded transition-all ${d===w.id?"bg-orange-500 text-white":"text-gray-400 hover:bg-gray-700"}`,children:[x.jsx(jN,{size:14}),w.name]},w.id))}),x.jsxs("div",{className:"flex-1 relative flex overflow-hidden",children:[x.jsxs("div",{className:"w-64 bg-gray-900/95 backdrop-blur border-r border-gray-800 flex flex-col z-20 shadow-xl shrink-0 overflow-hidden",children:[x.jsxs("div",{className:"p-3 border-b border-gray-800 space-y-3",children:[x.jsxs("div",{className:"relative",children:[x.jsx(WN,{className:"absolute left-2 top-1.5 text-gray-500 w-4 h-4"}),x.jsx("input",{type:"text",placeholder:"...",value:Ln,onChange:w=>rr(w.target.value),className:"w-full bg-black/40 border border-gray-700 rounded pl-8 pr-2 py-1 text-sm text-gray-300 focus:outline-none focus:border-orange-500"})]}),x.jsx("div",{className:"flex gap-2",children:x.jsxs("div",{className:"flex-1 flex items-center gap-2",children:[x.jsxs("select",{value:Di,onChange:w=>{const F=w.target.value;Lr(F),F==="local"&&De(null)},className:"w-24 bg-gray-800 border border-gray-700 text-gray-200 text-xs rounded px-2 py-1",children:[x.jsx("option",{value:"local",children:""}),x.jsx("option",{value:"shared",children:""})]}),x.jsx("input",{value:Pr,onChange:w=>vn(w.target.value.toUpperCase()),placeholder:"ROOM ID",disabled:Di==="local",className:"flex-1 bg-gray-900 border border-gray-700 rounded px-2 py-1 text-xs text-gray-200 disabled:opacity-50"}),x.jsx("button",{onClick:()=>{if(Di==="local")return De(null);const w=Pr.trim()||hm();De(w)},className:"px-2 py-1 text-xs bg-gray-800 border border-gray-700 text-gray-200 rounded hover:bg-gray-700 disabled:opacity-50",disabled:Di==="local",children:"/"})]})}),x.jsxs("div",{className:"flex gap-2 mt-2",children:[x.jsxs("div",{className:"flex flex-col gap-1 flex-1",children:[x.jsx("label",{className:"text-[10px] text-gray-400",children:""}),x.jsx("input",{value:xe.title||Ii[l]?.name||"",onChange:w=>Ws(l,{title:w.target.value}),className:"w-full bg-gray-800 border border-gray-700 rounded px-2 py-1 text-xs text-gray-200",placeholder:""})]}),x.jsxs("div",{className:"flex flex-col gap-1 flex-1",children:[x.jsx("label",{className:"text-[10px] text-gray-400",children:""}),x.jsx("input",{value:xe.note||"",onChange:w=>Ws(l,{note:w.target.value}),className:"w-full bg-gray-800 border border-gray-700 rounded px-2 py-1 text-xs text-gray-200",placeholder:""})]})]}),x.jsxs("div",{className:"flex gap-2",children:[x.jsxs("button",{onClick:()=>Un("move"),className:`flex-1 py-1.5 rounded flex items-center justify-center gap-2 text-xs font-bold transition-colors border ${Pe==="move"?"bg-gray-700 text-white border-gray-500":"bg-gray-800 text-gray-400 border-gray-700 hover:bg-gray-700"}`,children:[x.jsx(HN,{size:14}),""]}),x.jsx("button",{onClick:Ne,className:"px-3 py-1.5 rounded bg-gray-800 text-gray-400 border border-gray-700 hover:text-white hover:border-gray-500",children:x.jsx(gT,{size:14})})]}),x.jsxs("div",{className:"flex gap-2",children:[x.jsx("button",{onClick:Hr,className:"flex-1 py-1.5 rounded bg-gray-800 text-gray-300 border border-gray-700 hover:bg-gray-700 text-xs font-bold",children:""}),x.jsx("button",{onClick:Sn,className:"flex-1 py-1.5 rounded bg-gray-800 text-gray-300 border border-gray-700 hover:bg-gray-700 text-xs font-bold",children:""})]})]}),x.jsx("div",{className:"flex-1 overflow-y-auto p-2 space-y-1 scrollbar-thin scrollbar-thumb-gray-700",children:Object.entries(Ra).map(([w,F])=>x.jsxs("div",{className:"rounded overflow-hidden",children:[x.jsxs("div",{className:"w-full flex items-center justify-between px-2 py-1.5 bg-gray-800/50 text-xs font-bold text-gray-300",children:[x.jsxs("button",{onClick:()=>Fa(w),className:"flex items-center gap-2 flex-1 text-left hover:text-white",children:[x.jsx("span",{children:F.label}),ja[w]?x.jsx(SN,{size:14}):x.jsx(wN,{size:14})]}),x.jsx("button",{onClick:()=>Ha(w),className:"p-1 rounded hover:bg-gray-700 text-gray-300 hover:text-white",title:"",children:x.jsx(QN,{size:14})})]}),ja[w]&&x.jsx("div",{className:"bg-black/20 p-1 space-y-0.5",children:Object.values(Pn).filter(J=>J.cat===w).filter(J=>J.label.includes(Ln)).map(J=>{const ot=J.icon,mt=Pe===J.id,Mt=Ot[J.id],ee=Gs[J.id]||0,fn=jr(J.id);return x.jsxs("div",{role:"button",tabIndex:0,onClick:()=>Un(J.id),onKeyDown:dn=>{(dn.key==="Enter"||dn.key===" ")&&(dn.preventDefault(),Un(J.id))},className:`w-full flex items-center gap-3 px-2 py-1.5 rounded text-xs transition-all cursor-pointer ${mt?"bg-gray-700 text-white ring-1 ring-inset ring-gray-500":"text-gray-400 hover:bg-gray-800 hover:text-gray-200"}`,children:[Mt?x.jsx("img",{src:Mt,alt:`${J.label} icon`,className:"w-5 h-5 rounded-full object-cover border border-gray-600/60"}):x.jsx(ot,{size:16,color:F.color}),x.jsx("span",{className:"flex-1 text-left truncate",children:J.label}),x.jsx("span",{className:"text-[11px] text-gray-400",children:ee}),x.jsxs("div",{className:"flex items-center gap-1 ml-1",children:[x.jsx("button",{onClick:dn=>{dn.stopPropagation(),Br(J.id)},className:"p-1 rounded bg-gray-800 hover:bg-gray-700 text-gray-300 border border-gray-700",title:"",children:x.jsx(Pm,{size:12})}),x.jsx("button",{onClick:dn=>{dn.stopPropagation(),_t(si=>({...si,[J.id]:!fn}))},className:`p-1 rounded border ${fn?"bg-gray-800 text-gray-300 border-gray-700 hover:bg-gray-700":"bg-gray-900 text-gray-500 border-gray-800 hover:text-gray-300"}`,title:fn?"":"",children:x.jsx(DN,{size:12})})]})]},J.id)})})]},w))}),x.jsxs("div",{className:"p-2 border-t border-gray-800 text-[10px] text-gray-600 text-center",children:["Room: ",i||""]})]}),x.jsxs("div",{ref:Jn,className:"flex-1 relative overflow-hidden bg-black cursor-crosshair",onMouseDown:bn,onMouseMove:ti,onMouseUp:ve,onMouseLeave:ve,children:[x.jsxs("div",{ref:Vi,className:"absolute origin-top-left will-change-transform",style:{transform:`translate(${Re.x}px, ${Re.y}px) scale(${Re.scale})`,width:Je.width,height:Je.height,transition:Bs?"none":"transform 0.1s ease-out"},onClick:Ks,children:[!ii&&ki?x.jsx("img",{src:ki,alt:Je.name,className:"w-full h-full object-fill pointer-events-none select-none",draggable:!1,onError:()=>Ui(!0)}):x.jsx(A4,{config:Je,onUpload:Ne}),Zs.map(w=>{const F=Pn[w.type]||Gv,J=Ra[F.cat]||Ra.others,ot=F.icon,mt=w.id===tt,Mt=et.includes(w.id),ee=w.iconUrl||Ot[w.type],dn=Math.max(.3,kr),si=tt&&!mt?.4:1,Gr=mt?50:10;return x.jsx("div",{className:"absolute -translate-x-1/2 -translate-y-1/2 cursor-pointer transition-all duration-200",style:{left:w.x,top:w.y,transform:`scale(${dn})`,opacity:si,zIndex:Gr},onClick:jn=>Xs(jn,w.id),children:x.jsxs("div",{className:"relative flex flex-col items-center group",children:[x.jsxs("div",{className:`drop-shadow-md filter transition-all ${mt?"drop-shadow-[0_0_10px_rgba(255,255,255,0.8)]":""}`,children:[x.jsx("div",{className:"absolute inset-[-6px] rounded-full border-2 border-orange-500 opacity-80 pointer-events-none"}),Mt&&x.jsx(UN,{size:16,color:"#f87171",fill:"#f87171",className:"absolute -top-2 -right-2 drop-shadow-md pointer-events-none"}),ee?x.jsx("img",{src:ee,alt:"Custom pin",className:"w-8 h-8 rounded-full border border-black/40 object-cover"}):x.jsx(ot,{size:24,fill:J.color,color:"#000000",strokeWidth:1.5,className:mt?"text-white":""})]}),!mt&&x.jsx("div",{className:"absolute top-full mt-1 opacity-0 group-hover:opacity-100 bg-black/80 text-white text-[10px] px-2 py-1 rounded whitespace-nowrap pointer-events-none border border-white/20 z-50",children:F.label})]})},w.id)})]}),tt&&(()=>{const w=$e.find(J=>J.id===tt);if(!w)return null;const F=Pn[w.type]||Gv;return x.jsx(w4,{pin:w,markerDef:F,onClose:()=>nt(null),onUpdateImage:ni,onUpdateIcon:$s,onMark:J=>{yt(ot=>ot.includes(J)?ot.filter(mt=>mt!==J):[...ot,J]),nt(J)},onDelete:ei})})(),!1]})]}),x.jsxs("div",{className:"absolute bottom-4 right-4 flex items-end gap-3 z-10 pointer-events-none",children:[x.jsxs("div",{className:"flex items-center gap-3 bg-black/30 backdrop-blur-sm rounded-full px-4 py-2 border border-gray-700/50 shadow pointer-events-auto",children:[x.jsx(JN,{size:16,className:"text-gray-400"}),x.jsx("input",{type:"range",min:"0.5",max:"3",step:"0.1",value:kr,onChange:w=>be(parseFloat(w.target.value)),className:"w-28 h-1 bg-gray-600 rounded-lg appearance-none cursor-pointer accent-blue-500"})]}),x.jsxs("div",{className:"flex flex-col items-center gap-3 pointer-events-auto",children:[x.jsx("div",{className:"relative h-40 w-12 flex items-center justify-center bg-black/30 backdrop-blur-sm rounded-full border border-gray-700/50 shadow",children:x.jsx("div",{className:"-rotate-90 w-28",children:x.jsx("input",{type:"range",min:"0.2",max:"5",step:"0.1",value:Re.scale,onChange:w=>zn(parseFloat(w.target.value)),className:"w-full h-1 bg-gray-600 rounded-lg appearance-none cursor-pointer accent-orange-500"})})}),x.jsx("button",{onClick:()=>Xn(!0),className:"bg-gray-800 hover:bg-gray-700 text-gray-200 p-2 rounded-full shadow-lg border border-gray-700",title:"",children:x.jsx(e4,{size:18})})]})]}),Hs&&x.jsx("div",{className:"absolute top-20 left-1/2 -translate-x-1/2 bg-green-600 text-white px-4 py-2 rounded shadow-xl z-50 animate-bounce pointer-events-none",children:""}),Ce&&x.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/70 backdrop-blur-sm p-4",children:x.jsxs("div",{className:"bg-gray-900 rounded-xl border border-gray-700 w-full max-w-md p-5 space-y-4 shadow-2xl",children:[x.jsxs("div",{className:"flex items-center justify-between",children:[x.jsx("h3",{className:"text-lg font-bold text-white",children:""}),x.jsx("button",{onClick:()=>Xn(!1),className:"text-gray-400 hover:text-white",children:x.jsx(zm,{size:18})})]}),x.jsxs("div",{className:"flex justify-end gap-2",children:[x.jsxs("div",{className:"flex-1 space-y-2 text-sm text-gray-300",children:[x.jsx("div",{className:"text-xs text-gray-400",children:""}),x.jsx("select",{value:Ft,onChange:w=>O(w.target.value),className:"w-full bg-gray-800 border border-gray-700 rounded px-2 py-1 text-sm text-white",children:Object.values(Pn).map(w=>x.jsx("option",{value:w.id,children:w.label},w.id))})]}),x.jsxs("div",{className:"flex items-end gap-2",children:[x.jsx("button",{onClick:()=>qa(Ft),disabled:!Ft||X,className:"px-3 py-2 text-xs font-semibold rounded bg-gray-800 text-gray-200 border border-gray-700 hover:bg-gray-700 shadow disabled:opacity-50 disabled:cursor-not-allowed",children:""}),x.jsx("button",{onClick:()=>Xn(!1),className:"px-3 py-2 text-xs font-semibold rounded bg-orange-600 hover:bg-orange-500 text-white",children:""})]})]})]})}),k&&x.jsx("div",{className:"absolute inset-0 bg-black/60 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:x.jsxs("div",{className:"bg-gray-900 rounded-xl border border-gray-700 w-full max-w-md p-4 space-y-4 shadow-2xl",children:[x.jsxs("div",{className:"flex items-center justify-between",children:[x.jsx("h3",{className:"text-lg font-bold text-white",children:""}),x.jsx("button",{onClick:()=>D(!1),className:"text-gray-400 hover:text-white",children:x.jsx(zm,{size:18})})]}),x.jsxs("div",{className:"text-xs text-gray-400",children:[": ",L&&Ra[L]?.label]}),x.jsx("input",{value:re,onChange:w=>Te(w.target.value),placeholder:"",className:"w-full bg-gray-800 border border-gray-700 rounded px-3 py-2 text-sm text-white focus:border-orange-500 outline-none"}),x.jsxs("div",{children:[x.jsx("div",{className:"text-xs text-gray-400 mb-2",children:""}),x.jsx("div",{className:"grid grid-cols-5 gap-2 mb-3",children:Oi.map(w=>x.jsx("button",{onClick:()=>rt(w.dataUrl),className:`h-12 rounded-lg border ${G===w.dataUrl?"border-orange-500 ring-1 ring-orange-400":"border-gray-700"} bg-gray-800 flex items-center justify-center hover:border-gray-500`,children:x.jsx("img",{src:w.dataUrl,alt:w.label,className:"w-8 h-8 rounded"})},w.id))}),x.jsxs("div",{className:"flex items-center gap-3",children:[x.jsx("div",{className:"w-12 h-12 rounded-full border border-gray-700 bg-gray-800 flex items-center justify-center overflow-hidden",children:G?x.jsx("img",{src:G,alt:"",className:"w-full h-full object-cover"}):x.jsx(Lo,{size:20,className:"text-gray-500"})}),x.jsxs("button",{onClick:()=>Cn.current?.click(),className:"px-3 py-2 text-xs font-semibold rounded border border-gray-700 bg-gray-800 text-gray-200 hover:bg-gray-700 flex items-center gap-2",children:[x.jsx(Rh,{size:14}),""]})]})]}),x.jsxs("div",{className:"flex justify-end gap-2 pt-2",children:[x.jsx("button",{onClick:()=>D(!1),className:"px-3 py-2 text-xs rounded border border-gray-700 text-gray-300 hover:bg-gray-800",children:""}),x.jsx("button",{onClick:qr,className:"px-3 py-2 text-xs rounded bg-orange-600 hover:bg-orange-500 text-white font-bold",children:""})]})]})})]}):x.jsx("div",{className:"min-h-screen bg-gradient-to-b from-slate-900 via-slate-950 to-slate-900 text-gray-100 flex items-center justify-center p-6",children:x.jsxs("div",{className:"max-w-5xl w-full space-y-8 text-center",children:[x.jsxs("div",{children:[x.jsx("div",{className:"text-3xl font-extrabold text-indigo-300 mb-2",children:""}),x.jsx("div",{className:"text-sm text-gray-400",children:""})]}),x.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[x.jsxs("button",{onClick:()=>{De(null),zr(!0),ri("map")},className:"p-6 rounded-2xl bg-slate-900 border border-slate-700 hover:border-indigo-500 transition shadow-lg flex flex-col items-center gap-3",children:[x.jsx("div",{className:"p-4 rounded-full bg-indigo-600/20 text-indigo-300",children:x.jsx(pT,{size:32})}),x.jsx("div",{className:"text-xl font-bold",children:""}),x.jsx("div",{className:"text-sm text-gray-400 leading-relaxed",children:""}),x.jsxs("div",{className:"text-xs text-gray-500 flex items-center gap-2 mt-2",children:[x.jsx("span",{className:"h-2 w-2 rounded-full bg-green-400"})," "]})]}),x.jsxs("button",{onClick:()=>{const w=Pr.trim()||i||hm();De(w),zr(!0),ri("map")},className:"p-6 rounded-2xl bg-slate-900 border border-slate-700 hover:border-purple-500 transition shadow-lg flex flex-col items-center gap-3",children:[x.jsx("div",{className:"p-4 rounded-full bg-purple-600/20 text-purple-300",children:x.jsx(g4,{size:32})}),x.jsx("div",{className:"text-xl font-bold",children:""}),x.jsx("div",{className:"text-sm text-gray-400 leading-relaxed",children:""}),x.jsxs("div",{className:"text-xs text-gray-500 flex items-center gap-2 mt-2",children:[x.jsx("span",{className:"h-2 w-2 rounded-full bg-blue-400"})," "]})]})]})]})})}rS.createRoot(document.getElementById("root")).render(x.jsx($b.StrictMode,{children:x.jsx(R4,{})}));
