(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))a(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function i(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function a(l){if(l.ep)return;l.ep=!0;const c=i(l);fetch(l.href,c)}})();function Qv(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var Hd={exports:{}},Bl={};var Z_;function Yb(){if(Z_)return Bl;Z_=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(a,l,c){var d=null;if(c!==void 0&&(d=""+c),l.key!==void 0&&(d=""+l.key),"key"in l){c={};for(var p in l)p!=="key"&&(c[p]=l[p])}else c=l;return l=c.ref,{$$typeof:r,type:a,key:d,ref:l!==void 0?l:null,props:c}}return Bl.Fragment=e,Bl.jsx=i,Bl.jsxs=i,Bl}var W_;function Kb(){return W_||(W_=1,Hd.exports=Yb()),Hd.exports}var x=Kb(),Fd={exports:{}},we={};var e0;function Xb(){if(e0)return we;e0=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),A=Symbol.for("react.activity"),V=Symbol.iterator;function Y(O){return O===null||typeof O!="object"?null:(O=V&&O[V]||O["@@iterator"],typeof O=="function"?O:null)}var ee={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},ne=Object.assign,te={};function de(O,$,ae){this.props=O,this.context=$,this.refs=te,this.updater=ae||ee}de.prototype.isReactComponent={},de.prototype.setState=function(O,$){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,$,"setState")},de.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function Ae(){}Ae.prototype=de.prototype;function _e(O,$,ae){this.props=O,this.context=$,this.refs=te,this.updater=ae||ee}var Oe=_e.prototype=new Ae;Oe.constructor=_e,ne(Oe,de.prototype),Oe.isPureReactComponent=!0;var Xe=Array.isArray;function De(){}var N={H:null,A:null,T:null,S:null},w=Object.prototype.hasOwnProperty;function I(O,$,ae){var oe=ae.ref;return{$$typeof:r,type:O,key:$,ref:oe!==void 0?oe:null,props:ae}}function k(O,$){return I(O.type,$,O.props)}function D(O){return typeof O=="object"&&O!==null&&O.$$typeof===r}function L(O){var $={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(ae){return $[ae]})}var R=/\/+/g;function it(O,$){return typeof O=="object"&&O!==null&&O.key!=null?L(""+O.key):$.toString(36)}function bt(O){switch(O.status){case"fulfilled":return O.value;case"rejected":throw O.reason;default:switch(typeof O.status=="string"?O.then(De,De):(O.status="pending",O.then(function($){O.status==="pending"&&(O.status="fulfilled",O.value=$)},function($){O.status==="pending"&&(O.status="rejected",O.reason=$)})),O.status){case"fulfilled":return O.value;case"rejected":throw O.reason}}throw O}function G(O,$,ae,oe,Te){var Ce=typeof O;(Ce==="undefined"||Ce==="boolean")&&(O=null);var Fe=!1;if(O===null)Fe=!0;else switch(Ce){case"bigint":case"string":case"number":Fe=!0;break;case"object":switch(O.$$typeof){case r:case e:Fe=!0;break;case b:return Fe=O._init,G(Fe(O._payload),$,ae,oe,Te)}}if(Fe)return Te=Te(O),Fe=oe===""?"."+it(O,0):oe,Xe(Te)?(ae="",Fe!=null&&(ae=Fe.replace(R,"$&/")+"/"),G(Te,$,ae,"",function(Br){return Br})):Te!=null&&(D(Te)&&(Te=k(Te,ae+(Te.key==null||O&&O.key===Te.key?"":(""+Te.key).replace(R,"$&/")+"/")+Fe)),$.push(Te)),1;Fe=0;var Pt=oe===""?".":oe+":";if(Xe(O))for(var ht=0;ht<O.length;ht++)oe=O[ht],Ce=Pt+it(oe,ht),Fe+=G(oe,$,ae,Ce,Te);else if(ht=Y(O),typeof ht=="function")for(O=ht.call(O),ht=0;!(oe=O.next()).done;)oe=oe.value,Ce=Pt+it(oe,ht++),Fe+=G(oe,$,ae,Ce,Te);else if(Ce==="object"){if(typeof O.then=="function")return G(bt(O),$,ae,oe,Te);throw $=String(O),Error("Objects are not valid as a React child (found: "+($==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":$)+"). If you meant to render a collection of children, use an array instead.")}return Fe}function se(O,$,ae){if(O==null)return O;var oe=[],Te=0;return G(O,oe,"","",function(Ce){return $.call(ae,Ce,Te++)}),oe}function ge(O){if(O._status===-1){var $=O._result;$=$(),$.then(function(ae){(O._status===0||O._status===-1)&&(O._status=1,O._result=ae)},function(ae){(O._status===0||O._status===-1)&&(O._status=2,O._result=ae)}),O._status===-1&&(O._status=0,O._result=$)}if(O._status===1)return O._result.default;throw O._result}var Le=typeof reportError=="function"?reportError:function(O){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var $=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof O=="object"&&O!==null&&typeof O.message=="string"?String(O.message):String(O),error:O});if(!window.dispatchEvent($))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",O);return}console.error(O)},He={map:se,forEach:function(O,$,ae){se(O,function(){$.apply(this,arguments)},ae)},count:function(O){var $=0;return se(O,function(){$++}),$},toArray:function(O){return se(O,function($){return $})||[]},only:function(O){if(!D(O))throw Error("React.Children.only expected to receive a single React element child.");return O}};return we.Activity=A,we.Children=He,we.Component=de,we.Fragment=i,we.Profiler=l,we.PureComponent=_e,we.StrictMode=a,we.Suspense=y,we.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=N,we.__COMPILER_RUNTIME={__proto__:null,c:function(O){return N.H.useMemoCache(O)}},we.cache=function(O){return function(){return O.apply(null,arguments)}},we.cacheSignal=function(){return null},we.cloneElement=function(O,$,ae){if(O==null)throw Error("The argument must be a React element, but you passed "+O+".");var oe=ne({},O.props),Te=O.key;if($!=null)for(Ce in $.key!==void 0&&(Te=""+$.key),$)!w.call($,Ce)||Ce==="key"||Ce==="__self"||Ce==="__source"||Ce==="ref"&&$.ref===void 0||(oe[Ce]=$[Ce]);var Ce=arguments.length-2;if(Ce===1)oe.children=ae;else if(1<Ce){for(var Fe=Array(Ce),Pt=0;Pt<Ce;Pt++)Fe[Pt]=arguments[Pt+2];oe.children=Fe}return I(O.type,Te,oe)},we.createContext=function(O){return O={$$typeof:d,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null},O.Provider=O,O.Consumer={$$typeof:c,_context:O},O},we.createElement=function(O,$,ae){var oe,Te={},Ce=null;if($!=null)for(oe in $.key!==void 0&&(Ce=""+$.key),$)w.call($,oe)&&oe!=="key"&&oe!=="__self"&&oe!=="__source"&&(Te[oe]=$[oe]);var Fe=arguments.length-2;if(Fe===1)Te.children=ae;else if(1<Fe){for(var Pt=Array(Fe),ht=0;ht<Fe;ht++)Pt[ht]=arguments[ht+2];Te.children=Pt}if(O&&O.defaultProps)for(oe in Fe=O.defaultProps,Fe)Te[oe]===void 0&&(Te[oe]=Fe[oe]);return I(O,Ce,Te)},we.createRef=function(){return{current:null}},we.forwardRef=function(O){return{$$typeof:p,render:O}},we.isValidElement=D,we.lazy=function(O){return{$$typeof:b,_payload:{_status:-1,_result:O},_init:ge}},we.memo=function(O,$){return{$$typeof:_,type:O,compare:$===void 0?null:$}},we.startTransition=function(O){var $=N.T,ae={};N.T=ae;try{var oe=O(),Te=N.S;Te!==null&&Te(ae,oe),typeof oe=="object"&&oe!==null&&typeof oe.then=="function"&&oe.then(De,Le)}catch(Ce){Le(Ce)}finally{$!==null&&ae.types!==null&&($.types=ae.types),N.T=$}},we.unstable_useCacheRefresh=function(){return N.H.useCacheRefresh()},we.use=function(O){return N.H.use(O)},we.useActionState=function(O,$,ae){return N.H.useActionState(O,$,ae)},we.useCallback=function(O,$){return N.H.useCallback(O,$)},we.useContext=function(O){return N.H.useContext(O)},we.useDebugValue=function(){},we.useDeferredValue=function(O,$){return N.H.useDeferredValue(O,$)},we.useEffect=function(O,$){return N.H.useEffect(O,$)},we.useEffectEvent=function(O){return N.H.useEffectEvent(O)},we.useId=function(){return N.H.useId()},we.useImperativeHandle=function(O,$,ae){return N.H.useImperativeHandle(O,$,ae)},we.useInsertionEffect=function(O,$){return N.H.useInsertionEffect(O,$)},we.useLayoutEffect=function(O,$){return N.H.useLayoutEffect(O,$)},we.useMemo=function(O,$){return N.H.useMemo(O,$)},we.useOptimistic=function(O,$){return N.H.useOptimistic(O,$)},we.useReducer=function(O,$,ae){return N.H.useReducer(O,$,ae)},we.useRef=function(O){return N.H.useRef(O)},we.useState=function(O){return N.H.useState(O)},we.useSyncExternalStore=function(O,$,ae){return N.H.useSyncExternalStore(O,$,ae)},we.useTransition=function(){return N.H.useTransition()},we.version="19.2.0",we}var t0;function Bm(){return t0||(t0=1,Fd.exports=Xb()),Fd.exports}var re=Bm();const $b=Qv(re);var Gd={exports:{}},ql={},Qd={exports:{}},Yd={};var n0;function Jb(){return n0||(n0=1,(function(r){function e(G,se){var ge=G.length;G.push(se);e:for(;0<ge;){var Le=ge-1>>>1,He=G[Le];if(0<l(He,se))G[Le]=se,G[ge]=He,ge=Le;else break e}}function i(G){return G.length===0?null:G[0]}function a(G){if(G.length===0)return null;var se=G[0],ge=G.pop();if(ge!==se){G[0]=ge;e:for(var Le=0,He=G.length,O=He>>>1;Le<O;){var $=2*(Le+1)-1,ae=G[$],oe=$+1,Te=G[oe];if(0>l(ae,ge))oe<He&&0>l(Te,ae)?(G[Le]=Te,G[oe]=ge,Le=oe):(G[Le]=ae,G[$]=ge,Le=$);else if(oe<He&&0>l(Te,ge))G[Le]=Te,G[oe]=ge,Le=oe;else break e}}return se}function l(G,se){var ge=G.sortIndex-se.sortIndex;return ge!==0?ge:G.id-se.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;r.unstable_now=function(){return c.now()}}else{var d=Date,p=d.now();r.unstable_now=function(){return d.now()-p}}var y=[],_=[],b=1,A=null,V=3,Y=!1,ee=!1,ne=!1,te=!1,de=typeof setTimeout=="function"?setTimeout:null,Ae=typeof clearTimeout=="function"?clearTimeout:null,_e=typeof setImmediate<"u"?setImmediate:null;function Oe(G){for(var se=i(_);se!==null;){if(se.callback===null)a(_);else if(se.startTime<=G)a(_),se.sortIndex=se.expirationTime,e(y,se);else break;se=i(_)}}function Xe(G){if(ne=!1,Oe(G),!ee)if(i(y)!==null)ee=!0,De||(De=!0,L());else{var se=i(_);se!==null&&bt(Xe,se.startTime-G)}}var De=!1,N=-1,w=5,I=-1;function k(){return te?!0:!(r.unstable_now()-I<w)}function D(){if(te=!1,De){var G=r.unstable_now();I=G;var se=!0;try{e:{ee=!1,ne&&(ne=!1,Ae(N),N=-1),Y=!0;var ge=V;try{t:{for(Oe(G),A=i(y);A!==null&&!(A.expirationTime>G&&k());){var Le=A.callback;if(typeof Le=="function"){A.callback=null,V=A.priorityLevel;var He=Le(A.expirationTime<=G);if(G=r.unstable_now(),typeof He=="function"){A.callback=He,Oe(G),se=!0;break t}A===i(y)&&a(y),Oe(G)}else a(y);A=i(y)}if(A!==null)se=!0;else{var O=i(_);O!==null&&bt(Xe,O.startTime-G),se=!1}}break e}finally{A=null,V=ge,Y=!1}se=void 0}}finally{se?L():De=!1}}}var L;if(typeof _e=="function")L=function(){_e(D)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,it=R.port2;R.port1.onmessage=D,L=function(){it.postMessage(null)}}else L=function(){de(D,0)};function bt(G,se){N=de(function(){G(r.unstable_now())},se)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(G){G.callback=null},r.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):w=0<G?Math.floor(1e3/G):5},r.unstable_getCurrentPriorityLevel=function(){return V},r.unstable_next=function(G){switch(V){case 1:case 2:case 3:var se=3;break;default:se=V}var ge=V;V=se;try{return G()}finally{V=ge}},r.unstable_requestPaint=function(){te=!0},r.unstable_runWithPriority=function(G,se){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var ge=V;V=G;try{return se()}finally{V=ge}},r.unstable_scheduleCallback=function(G,se,ge){var Le=r.unstable_now();switch(typeof ge=="object"&&ge!==null?(ge=ge.delay,ge=typeof ge=="number"&&0<ge?Le+ge:Le):ge=Le,G){case 1:var He=-1;break;case 2:He=250;break;case 5:He=1073741823;break;case 4:He=1e4;break;default:He=5e3}return He=ge+He,G={id:b++,callback:se,priorityLevel:G,startTime:ge,expirationTime:He,sortIndex:-1},ge>Le?(G.sortIndex=ge,e(_,G),i(y)===null&&G===i(_)&&(ne?(Ae(N),N=-1):ne=!0,bt(Xe,ge-Le))):(G.sortIndex=He,e(y,G),ee||Y||(ee=!0,De||(De=!0,L()))),G},r.unstable_shouldYield=k,r.unstable_wrapCallback=function(G){var se=V;return function(){var ge=V;V=se;try{return G.apply(this,arguments)}finally{V=ge}}}})(Yd)),Yd}var i0;function Zb(){return i0||(i0=1,Qd.exports=Jb()),Qd.exports}var Kd={exports:{}},_n={};var r0;function Wb(){if(r0)return _n;r0=1;var r=Bm();function e(y){var _="https://react.dev/errors/"+y;if(1<arguments.length){_+="?args[]="+encodeURIComponent(arguments[1]);for(var b=2;b<arguments.length;b++)_+="&args[]="+encodeURIComponent(arguments[b])}return"Minified React error #"+y+"; visit "+_+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var a={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},l=Symbol.for("react.portal");function c(y,_,b){var A=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:A==null?null:""+A,children:y,containerInfo:_,implementation:b}}var d=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(y,_){if(y==="font")return"";if(typeof _=="string")return _==="use-credentials"?_:""}return _n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,_n.createPortal=function(y,_){var b=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_||_.nodeType!==1&&_.nodeType!==9&&_.nodeType!==11)throw Error(e(299));return c(y,_,null,b)},_n.flushSync=function(y){var _=d.T,b=a.p;try{if(d.T=null,a.p=2,y)return y()}finally{d.T=_,a.p=b,a.d.f()}},_n.preconnect=function(y,_){typeof y=="string"&&(_?(_=_.crossOrigin,_=typeof _=="string"?_==="use-credentials"?_:"":void 0):_=null,a.d.C(y,_))},_n.prefetchDNS=function(y){typeof y=="string"&&a.d.D(y)},_n.preinit=function(y,_){if(typeof y=="string"&&_&&typeof _.as=="string"){var b=_.as,A=p(b,_.crossOrigin),V=typeof _.integrity=="string"?_.integrity:void 0,Y=typeof _.fetchPriority=="string"?_.fetchPriority:void 0;b==="style"?a.d.S(y,typeof _.precedence=="string"?_.precedence:void 0,{crossOrigin:A,integrity:V,fetchPriority:Y}):b==="script"&&a.d.X(y,{crossOrigin:A,integrity:V,fetchPriority:Y,nonce:typeof _.nonce=="string"?_.nonce:void 0})}},_n.preinitModule=function(y,_){if(typeof y=="string")if(typeof _=="object"&&_!==null){if(_.as==null||_.as==="script"){var b=p(_.as,_.crossOrigin);a.d.M(y,{crossOrigin:b,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0})}}else _==null&&a.d.M(y)},_n.preload=function(y,_){if(typeof y=="string"&&typeof _=="object"&&_!==null&&typeof _.as=="string"){var b=_.as,A=p(b,_.crossOrigin);a.d.L(y,b,{crossOrigin:A,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0,type:typeof _.type=="string"?_.type:void 0,fetchPriority:typeof _.fetchPriority=="string"?_.fetchPriority:void 0,referrerPolicy:typeof _.referrerPolicy=="string"?_.referrerPolicy:void 0,imageSrcSet:typeof _.imageSrcSet=="string"?_.imageSrcSet:void 0,imageSizes:typeof _.imageSizes=="string"?_.imageSizes:void 0,media:typeof _.media=="string"?_.media:void 0})}},_n.preloadModule=function(y,_){if(typeof y=="string")if(_){var b=p(_.as,_.crossOrigin);a.d.m(y,{as:typeof _.as=="string"&&_.as!=="script"?_.as:void 0,crossOrigin:b,integrity:typeof _.integrity=="string"?_.integrity:void 0})}else a.d.m(y)},_n.requestFormReset=function(y){a.d.r(y)},_n.unstable_batchedUpdates=function(y,_){return y(_)},_n.useFormState=function(y,_,b){return d.H.useFormState(y,_,b)},_n.useFormStatus=function(){return d.H.useHostTransitionStatus()},_n.version="19.2.0",_n}var s0;function eS(){if(s0)return Kd.exports;s0=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Kd.exports=Wb(),Kd.exports}var a0;function tS(){if(a0)return ql;a0=1;var r=Zb(),e=Bm(),i=eS();function a(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)n+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function c(t){var n=t,s=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(s=n.return),t=n.return;while(t)}return n.tag===3?s:null}function d(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function p(t){if(t.tag===31){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function y(t){if(c(t)!==t)throw Error(a(188))}function _(t){var n=t.alternate;if(!n){if(n=c(t),n===null)throw Error(a(188));return n!==t?null:t}for(var s=t,o=n;;){var h=s.return;if(h===null)break;var f=h.alternate;if(f===null){if(o=h.return,o!==null){s=o;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===s)return y(h),t;if(f===o)return y(h),n;f=f.sibling}throw Error(a(188))}if(s.return!==o.return)s=h,o=f;else{for(var g=!1,E=h.child;E;){if(E===s){g=!0,s=h,o=f;break}if(E===o){g=!0,o=h,s=f;break}E=E.sibling}if(!g){for(E=f.child;E;){if(E===s){g=!0,s=f,o=h;break}if(E===o){g=!0,o=f,s=h;break}E=E.sibling}if(!g)throw Error(a(189))}}if(s.alternate!==o)throw Error(a(190))}if(s.tag!==3)throw Error(a(188));return s.stateNode.current===s?t:n}function b(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=b(t),n!==null)return n;t=t.sibling}return null}var A=Object.assign,V=Symbol.for("react.element"),Y=Symbol.for("react.transitional.element"),ee=Symbol.for("react.portal"),ne=Symbol.for("react.fragment"),te=Symbol.for("react.strict_mode"),de=Symbol.for("react.profiler"),Ae=Symbol.for("react.consumer"),_e=Symbol.for("react.context"),Oe=Symbol.for("react.forward_ref"),Xe=Symbol.for("react.suspense"),De=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),k=Symbol.for("react.memo_cache_sentinel"),D=Symbol.iterator;function L(t){return t===null||typeof t!="object"?null:(t=D&&t[D]||t["@@iterator"],typeof t=="function"?t:null)}var R=Symbol.for("react.client.reference");function it(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===R?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case ne:return"Fragment";case de:return"Profiler";case te:return"StrictMode";case Xe:return"Suspense";case De:return"SuspenseList";case I:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case ee:return"Portal";case _e:return t.displayName||"Context";case Ae:return(t._context.displayName||"Context")+".Consumer";case Oe:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case N:return n=t.displayName||null,n!==null?n:it(t.type)||"Memo";case w:n=t._payload,t=t._init;try{return it(t(n))}catch{}}return null}var bt=Array.isArray,G=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,se=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ge={pending:!1,data:null,method:null,action:null},Le=[],He=-1;function O(t){return{current:t}}function $(t){0>He||(t.current=Le[He],Le[He]=null,He--)}function ae(t,n){He++,Le[He]=t.current,t.current=n}var oe=O(null),Te=O(null),Ce=O(null),Fe=O(null);function Pt(t,n){switch(ae(Ce,n),ae(Te,t),ae(oe,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?T_(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=T_(n),t=b_(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}$(oe),ae(oe,t)}function ht(){$(oe),$(Te),$(Ce)}function Br(t){t.memoizedState!==null&&ae(Fe,t);var n=oe.current,s=b_(n,t.type);n!==s&&(ae(Te,t),ae(oe,s))}function Hs(t){Te.current===t&&($(oe),$(Te)),Fe.current===t&&($(Fe),Ll._currentValue=ge)}var Fs,Gs;function zt(t){if(Fs===void 0)try{throw Error()}catch(s){var n=s.stack.trim().match(/\n( *(at )?)/);Fs=n&&n[1]||"",Gs=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Fs+t+Gs}var Bn=!1;function It(t,n){if(!t||Bn)return"";Bn=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(n){var J=function(){throw Error()};if(Object.defineProperty(J.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(J,[])}catch(F){var B=F}Reflect.construct(t,[],J)}else{try{J.call()}catch(F){B=F}t.call(J.prototype)}}else{try{throw Error()}catch(F){B=F}(J=t())&&typeof J.catch=="function"&&J.catch(function(){})}}catch(F){if(F&&B&&typeof F.stack=="string")return[F.stack,B.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=o.DetermineComponentFrameRoot(),g=f[0],E=f[1];if(g&&E){var C=g.split(`
`),j=E.split(`
`);for(h=o=0;o<C.length&&!C[o].includes("DetermineComponentFrameRoot");)o++;for(;h<j.length&&!j[h].includes("DetermineComponentFrameRoot");)h++;if(o===C.length||h===j.length)for(o=C.length-1,h=j.length-1;1<=o&&0<=h&&C[o]!==j[h];)h--;for(;1<=o&&0<=h;o--,h--)if(C[o]!==j[h]){if(o!==1||h!==1)do if(o--,h--,0>h||C[o]!==j[h]){var Q=`
`+C[o].replace(" at new "," at ");return t.displayName&&Q.includes("<anonymous>")&&(Q=Q.replace("<anonymous>",t.displayName)),Q}while(1<=o&&0<=h);break}}}finally{Bn=!1,Error.prepareStackTrace=s}return(s=t?t.displayName||t.name:"")?zt(s):""}function or(t,n){switch(t.tag){case 26:case 27:case 5:return zt(t.type);case 16:return zt("Lazy");case 13:return t.child!==n&&n!==null?zt("Suspense Fallback"):zt("Suspense");case 19:return zt("SuspenseList");case 0:case 15:return It(t.type,!1);case 11:return It(t.type.render,!1);case 1:return It(t.type,!0);case 31:return zt("Activity");default:return""}}function qr(t){try{var n="",s=null;do n+=or(t,s),s=t,t=t.return;while(t);return n}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var St=Object.prototype.hasOwnProperty,Nt=r.unstable_scheduleCallback,ti=r.unstable_cancelCallback,Qs=r.unstable_shouldYield,Ys=r.unstable_requestPaint,Jt=r.unstable_now,lr=r.unstable_getCurrentPriorityLevel,Ks=r.unstable_ImmediatePriority,Hr=r.unstable_UserBlockingPriority,mn=r.unstable_NormalPriority,Ba=r.unstable_LowPriority,Ui=r.unstable_IdlePriority,Fr=r.log,Gr=r.unstable_setDisableYieldValue,Sn=null,Kt=null;function An(t){if(typeof Fr=="function"&&Gr(t),Kt&&typeof Kt.setStrictMode=="function")try{Kt.setStrictMode(Sn,t)}catch{}}var _t=Math.clz32?Math.clz32:ur,Qr=Math.log,Zt=Math.LN2;function ur(t){return t>>>=0,t===0?32:31-(Qr(t)/Zt|0)|0}var qn=256,Li=262144,gt=4194304;function Hn(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function ni(t,n,s){var o=t.pendingLanes;if(o===0)return 0;var h=0,f=t.suspendedLanes,g=t.pingedLanes;t=t.warmLanes;var E=o&134217727;return E!==0?(o=E&~f,o!==0?h=Hn(o):(g&=E,g!==0?h=Hn(g):s||(s=E&~t,s!==0&&(h=Hn(s))))):(E=o&~f,E!==0?h=Hn(E):g!==0?h=Hn(g):s||(s=o&~t,s!==0&&(h=Hn(s)))),h===0?0:n!==0&&n!==h&&(n&f)===0&&(f=h&-h,s=n&-n,f>=s||f===32&&(s&4194048)!==0)?n:h}function wn(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function xt(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ii(){var t=gt;return gt<<=1,(gt&62914560)===0&&(gt=4194304),t}function nn(t){for(var n=[],s=0;31>s;s++)n.push(t);return n}function Wt(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function qa(t,n,s,o,h,f){var g=t.pendingLanes;t.pendingLanes=s,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=s,t.entangledLanes&=s,t.errorRecoveryDisabledLanes&=s,t.shellSuspendCounter=0;var E=t.entanglements,C=t.expirationTimes,j=t.hiddenUpdates;for(s=g&~s;0<s;){var Q=31-_t(s),J=1<<Q;E[Q]=0,C[Q]=-1;var B=j[Q];if(B!==null)for(j[Q]=null,Q=0;Q<B.length;Q++){var F=B[Q];F!==null&&(F.lane&=-536870913)}s&=~J}o!==0&&cr(t,o,0),f!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=f&~(g&~n))}function cr(t,n,s){t.pendingLanes|=n,t.suspendedLanes&=~n;var o=31-_t(n);t.entangledLanes|=n,t.entanglements[o]=t.entanglements[o]|1073741824|s&261930}function Yr(t,n){var s=t.entangledLanes|=n;for(t=t.entanglements;s;){var o=31-_t(s),h=1<<o;h&n|t[o]&n&&(t[o]|=n),s&=~h}}function Xs(t,n){var s=n&-n;return s=(s&42)!==0?1:rn(s),(s&(t.suspendedLanes|n))!==0?0:s}function rn(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function ri(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function $s(){var t=se.p;return t!==0?t:(t=window.event,t===void 0?32:G_(t.type))}function Fn(t,n){var s=se.p;try{return se.p=t,n()}finally{se.p=s}}var Dn=Math.random().toString(36).slice(2),vt="__reactFiber$"+Dn,Dt="__reactProps$"+Dn,Gn="__reactContainer$"+Dn,hr="__reactEvents$"+Dn,Wo="__reactListeners$"+Dn,Js="__reactHandles$"+Dn,Ha="__reactResources$"+Dn,si="__reactMarker$"+Dn;function Pi(t){delete t[vt],delete t[Dt],delete t[hr],delete t[Wo],delete t[Js]}function ai(t){var n=t[vt];if(n)return n;for(var s=t.parentNode;s;){if(n=s[Gn]||s[vt]){if(s=n.alternate,n.child!==null||s!==null&&s.child!==null)for(t=N_(t);t!==null;){if(s=t[vt])return s;t=N_(t)}return n}t=s,s=t.parentNode}return null}function Mn(t){if(t=t[vt]||t[Gn]){var n=t.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return t}return null}function Rn(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(a(33))}function oi(t){var n=t[Ha];return n||(n=t[Ha]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Et(t){t[si]=!0}var Kr=new Set,Zs={};function li(t,n){Qn(t,n),Qn(t+"Capture",n)}function Qn(t,n){for(Zs[t]=n,t=0;t<n.length;t++)Kr.add(n[t])}var Ws=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ea={},ta={};function Fa(t){return St.call(ta,t)?!0:St.call(ea,t)?!1:Ws.test(t)?ta[t]=!0:(ea[t]=!0,!1)}function Xr(t,n,s){if(Fa(n))if(s===null)t.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var o=n.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+s)}}function Cn(t,n,s){if(s===null)t.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+s)}}function At(t,n,s,o){if(o===null)t.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(s);return}t.setAttributeNS(n,s,""+o)}}function jt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function zi(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function na(t,n,s){var o=Object.getOwnPropertyDescriptor(t.constructor.prototype,n);if(!t.hasOwnProperty(n)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var h=o.get,f=o.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return h.call(this)},set:function(g){s=""+g,f.call(this,g)}}),Object.defineProperty(t,n,{enumerable:o.enumerable}),{getValue:function(){return s},setValue:function(g){s=""+g},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function $e(t){if(!t._valueTracker){var n=zi(t)?"checked":"value";t._valueTracker=na(t,n,""+t[n])}}function bi(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var s=n.getValue(),o="";return t&&(o=zi(t)?t.checked?"true":"false":t.value),t=o,t!==s?(n.setValue(t),!0):!1}function gn(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var On=/[\n"\\]/g;function pn(t){return t.replace(On,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function yn(t,n,s,o,h,f,g,E){t.name="",g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"?t.type=g:t.removeAttribute("type"),n!=null?g==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+jt(n)):t.value!==""+jt(n)&&(t.value=""+jt(n)):g!=="submit"&&g!=="reset"||t.removeAttribute("value"),n!=null?$r(t,g,jt(n)):s!=null?$r(t,g,jt(s)):o!=null&&t.removeAttribute("value"),h==null&&f!=null&&(t.defaultChecked=!!f),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?t.name=""+jt(E):t.removeAttribute("name")}function ia(t,n,s,o,h,f,g,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),n!=null||s!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){$e(t);return}s=s!=null?""+jt(s):"",n=n!=null?""+jt(n):s,E||n===t.value||(t.value=n),t.defaultValue=n}o=o??h,o=typeof o!="function"&&typeof o!="symbol"&&!!o,t.checked=E?t.checked:!!o,t.defaultChecked=!!o,g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(t.name=g),$e(t)}function $r(t,n,s){n==="number"&&gn(t.ownerDocument)===t||t.defaultValue===""+s||(t.defaultValue=""+s)}function Si(t,n,s,o){if(t=t.options,n){n={};for(var h=0;h<s.length;h++)n["$"+s[h]]=!0;for(s=0;s<t.length;s++)h=n.hasOwnProperty("$"+t[s].value),t[s].selected!==h&&(t[s].selected=h),h&&o&&(t[s].defaultSelected=!0)}else{for(s=""+jt(s),n=null,h=0;h<t.length;h++){if(t[h].value===s){t[h].selected=!0,o&&(t[h].defaultSelected=!0);return}n!==null||t[h].disabled||(n=t[h])}n!==null&&(n.selected=!0)}}function Ga(t,n,s){if(n!=null&&(n=""+jt(n),n!==t.value&&(t.value=n),s==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=s!=null?""+jt(s):""}function Ai(t,n,s,o){if(n==null){if(o!=null){if(s!=null)throw Error(a(92));if(bt(o)){if(1<o.length)throw Error(a(93));o=o[0]}s=o}s==null&&(s=""),n=s}s=jt(n),t.defaultValue=s,o=t.textContent,o===s&&o!==""&&o!==null&&(t.value=o),$e(t)}function Mt(t,n){if(n){var s=t.firstChild;if(s&&s===t.lastChild&&s.nodeType===3){s.nodeValue=n;return}}t.textContent=n}var ji=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function fr(t,n,s){var o=n.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?o?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":o?t.setProperty(n,s):typeof s!="number"||s===0||ji.has(n)?n==="float"?t.cssFloat=s:t[n]=(""+s).trim():t[n]=s+"px"}function ra(t,n,s){if(n!=null&&typeof n!="object")throw Error(a(62));if(t=t.style,s!=null){for(var o in s)!s.hasOwnProperty(o)||n!=null&&n.hasOwnProperty(o)||(o.indexOf("--")===0?t.setProperty(o,""):o==="float"?t.cssFloat="":t[o]="");for(var h in n)o=n[h],n.hasOwnProperty(h)&&s[h]!==o&&fr(t,h,o)}else for(var f in n)n.hasOwnProperty(f)&&fr(t,f,n[f])}function S(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var q=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),X=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function le(t){return X.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function ue(){}var Me=null;function rt(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var et=null,wt=null;function wi(t){var n=Mn(t);if(n&&(t=n.stateNode)){var s=t[Dt]||null;e:switch(t=n.stateNode,n.type){case"input":if(yn(t,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),n=s.name,s.type==="radio"&&n!=null){for(s=t;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+pn(""+n)+'"][type="radio"]'),n=0;n<s.length;n++){var o=s[n];if(o!==t&&o.form===t.form){var h=o[Dt]||null;if(!h)throw Error(a(90));yn(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<s.length;n++)o=s[n],o.form===t.form&&bi(o)}break e;case"textarea":Ga(t,s.value,s.defaultValue);break e;case"select":n=s.value,n!=null&&Si(t,!!s.multiple,n,!1)}}}var Jr=!1;function Bi(t,n,s){if(Jr)return t(n,s);Jr=!0;try{var o=t(n);return o}finally{if(Jr=!1,(et!==null||wt!==null)&&(_c(),et&&(n=et,t=wt,wt=et=null,wi(n),t)))for(n=0;n<t.length;n++)wi(t[n])}}function Ri(t,n){var s=t.stateNode;if(s===null)return null;var o=s[Dt]||null;if(o===null)return null;s=o[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(t=t.type,o=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!o;break e;default:t=!1}if(t)return null;if(s&&typeof s!="function")throw Error(a(231,n,typeof s));return s}var ui=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),sa=!1;if(ui)try{var st={};Object.defineProperty(st,"passive",{get:function(){sa=!0}}),window.addEventListener("test",st,st),window.removeEventListener("test",st,st)}catch{sa=!1}var qi=null,el=null,aa=null;function tl(){if(aa)return aa;var t,n=el,s=n.length,o,h="value"in qi?qi.value:qi.textContent,f=h.length;for(t=0;t<s&&n[t]===h[t];t++);var g=s-t;for(o=1;o<=g&&n[s-o]===h[f-o];o++);return aa=h.slice(t,1<o?1-o:void 0)}function oa(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function dr(){return!0}function Ci(){return!1}function sn(t){function n(s,o,h,f,g){this._reactName=s,this._targetInst=h,this.type=o,this.nativeEvent=f,this.target=g,this.currentTarget=null;for(var E in t)t.hasOwnProperty(E)&&(s=t[E],this[E]=s?s(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?dr:Ci,this.isPropagationStopped=Ci,this}return A(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=dr)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=dr)},persist:function(){},isPersistent:dr}),n}var mr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Hi=sn(mr),Zr=A({},mr,{view:0,detail:0}),nl=sn(Zr),Wr,Qa,Fi,Ya=A({},Zr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:es,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Fi&&(Fi&&t.type==="mousemove"?(Wr=t.screenX-Fi.screenX,Qa=t.screenY-Fi.screenY):Qa=Wr=0,Fi=t),Wr)},movementY:function(t){return"movementY"in t?t.movementY:Qa}}),il=sn(Ya),la=A({},Ya,{dataTransfer:0}),Ru=sn(la),Cu=A({},Zr,{relatedTarget:0}),ua=sn(Cu),rl=A({},mr,{animationName:0,elapsedTime:0,pseudoElement:0}),Iu=sn(rl),Ka=A({},mr,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Nu=sn(Ka),xu=A({},mr,{data:0}),Gi=sn(xu),Du={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Mu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ou={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Vu(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=Ou[t])?!!n[t]:!1}function es(){return Vu}var In=A({},Zr,{key:function(t){if(t.key){var n=Du[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=oa(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Mu[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:es,charCode:function(t){return t.type==="keypress"?oa(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?oa(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),ku=sn(In),Uu=A({},Ya,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),gr=sn(Uu),u=A({},Zr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:es}),m=sn(u),v=A({},mr,{propertyName:0,elapsedTime:0,pseudoElement:0}),T=sn(v),P=A({},Ya,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),H=sn(P),ie=A({},mr,{newState:0,oldState:0}),Ie=sn(ie),Ot=[9,13,27,32],Je=ui&&"CompositionEvent"in window,pt=null;ui&&"documentMode"in document&&(pt=document.documentMode);var ci=ui&&"TextEvent"in window&&!pt,Qi=ui&&(!Je||pt&&8<pt&&11>=pt),Ii=" ",Ni=!1;function ca(t,n){switch(t){case"keyup":return Ot.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Xa(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var $a=!1;function yT(t,n){switch(t){case"compositionend":return Xa(n);case"keypress":return n.which!==32?null:(Ni=!0,Ii);case"textInput":return t=n.data,t===Ii&&Ni?null:t;default:return null}}function _T(t,n){if($a)return t==="compositionend"||!Je&&ca(t,n)?(t=tl(),aa=el=qi=null,$a=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return Qi&&n.locale!=="ko"?null:n.data;default:return null}}var vT={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Mg(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!vT[t.type]:n==="textarea"}function Og(t,n,s,o){et?wt?wt.push(o):wt=[o]:et=o,n=wc(n,"onChange"),0<n.length&&(s=new Hi("onChange","change",null,s,o),t.push({event:s,listeners:n}))}var sl=null,al=null;function ET(t){g_(t,0)}function Lu(t){var n=Rn(t);if(bi(n))return t}function Vg(t,n){if(t==="change")return n}var kg=!1;if(ui){var Xh;if(ui){var $h="oninput"in document;if(!$h){var Ug=document.createElement("div");Ug.setAttribute("oninput","return;"),$h=typeof Ug.oninput=="function"}Xh=$h}else Xh=!1;kg=Xh&&(!document.documentMode||9<document.documentMode)}function Lg(){sl&&(sl.detachEvent("onpropertychange",Pg),al=sl=null)}function Pg(t){if(t.propertyName==="value"&&Lu(al)){var n=[];Og(n,al,t,rt(t)),Bi(ET,n)}}function TT(t,n,s){t==="focusin"?(Lg(),sl=n,al=s,sl.attachEvent("onpropertychange",Pg)):t==="focusout"&&Lg()}function bT(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Lu(al)}function ST(t,n){if(t==="click")return Lu(n)}function AT(t,n){if(t==="input"||t==="change")return Lu(n)}function wT(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var Yn=typeof Object.is=="function"?Object.is:wT;function ol(t,n){if(Yn(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var s=Object.keys(t),o=Object.keys(n);if(s.length!==o.length)return!1;for(o=0;o<s.length;o++){var h=s[o];if(!St.call(n,h)||!Yn(t[h],n[h]))return!1}return!0}function zg(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function jg(t,n){var s=zg(t);t=0;for(var o;s;){if(s.nodeType===3){if(o=t+s.textContent.length,t<=n&&o>=n)return{node:s,offset:n-t};t=o}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=zg(s)}}function Bg(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?Bg(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function qg(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=gn(t.document);n instanceof t.HTMLIFrameElement;){try{var s=typeof n.contentWindow.location.href=="string"}catch{s=!1}if(s)t=n.contentWindow;else break;n=gn(t.document)}return n}function Jh(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var RT=ui&&"documentMode"in document&&11>=document.documentMode,Ja=null,Zh=null,ll=null,Wh=!1;function Hg(t,n,s){var o=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;Wh||Ja==null||Ja!==gn(o)||(o=Ja,"selectionStart"in o&&Jh(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),ll&&ol(ll,o)||(ll=o,o=wc(Zh,"onSelect"),0<o.length&&(n=new Hi("onSelect","select",null,n,s),t.push({event:n,listeners:o}),n.target=Ja)))}function ha(t,n){var s={};return s[t.toLowerCase()]=n.toLowerCase(),s["Webkit"+t]="webkit"+n,s["Moz"+t]="moz"+n,s}var Za={animationend:ha("Animation","AnimationEnd"),animationiteration:ha("Animation","AnimationIteration"),animationstart:ha("Animation","AnimationStart"),transitionrun:ha("Transition","TransitionRun"),transitionstart:ha("Transition","TransitionStart"),transitioncancel:ha("Transition","TransitionCancel"),transitionend:ha("Transition","TransitionEnd")},ef={},Fg={};ui&&(Fg=document.createElement("div").style,"AnimationEvent"in window||(delete Za.animationend.animation,delete Za.animationiteration.animation,delete Za.animationstart.animation),"TransitionEvent"in window||delete Za.transitionend.transition);function fa(t){if(ef[t])return ef[t];if(!Za[t])return t;var n=Za[t],s;for(s in n)if(n.hasOwnProperty(s)&&s in Fg)return ef[t]=n[s];return t}var Gg=fa("animationend"),Qg=fa("animationiteration"),Yg=fa("animationstart"),CT=fa("transitionrun"),IT=fa("transitionstart"),NT=fa("transitioncancel"),Kg=fa("transitionend"),Xg=new Map,tf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");tf.push("scrollEnd");function xi(t,n){Xg.set(t,n),li(n,[t])}var Pu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},hi=[],Wa=0,nf=0;function zu(){for(var t=Wa,n=nf=Wa=0;n<t;){var s=hi[n];hi[n++]=null;var o=hi[n];hi[n++]=null;var h=hi[n];hi[n++]=null;var f=hi[n];if(hi[n++]=null,o!==null&&h!==null){var g=o.pending;g===null?h.next=h:(h.next=g.next,g.next=h),o.pending=h}f!==0&&$g(s,h,f)}}function ju(t,n,s,o){hi[Wa++]=t,hi[Wa++]=n,hi[Wa++]=s,hi[Wa++]=o,nf|=o,t.lanes|=o,t=t.alternate,t!==null&&(t.lanes|=o)}function rf(t,n,s,o){return ju(t,n,s,o),Bu(t)}function da(t,n){return ju(t,null,null,n),Bu(t)}function $g(t,n,s){t.lanes|=s;var o=t.alternate;o!==null&&(o.lanes|=s);for(var h=!1,f=t.return;f!==null;)f.childLanes|=s,o=f.alternate,o!==null&&(o.childLanes|=s),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(h=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,h&&n!==null&&(h=31-_t(s),t=f.hiddenUpdates,o=t[h],o===null?t[h]=[n]:o.push(n),n.lane=s|536870912),f):null}function Bu(t){if(50<xl)throw xl=0,dd=null,Error(a(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var eo={};function xT(t,n,s,o){this.tag=t,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Kn(t,n,s,o){return new xT(t,n,s,o)}function sf(t){return t=t.prototype,!(!t||!t.isReactComponent)}function pr(t,n){var s=t.alternate;return s===null?(s=Kn(t.tag,n,t.key,t.mode),s.elementType=t.elementType,s.type=t.type,s.stateNode=t.stateNode,s.alternate=t,t.alternate=s):(s.pendingProps=n,s.type=t.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=t.flags&65011712,s.childLanes=t.childLanes,s.lanes=t.lanes,s.child=t.child,s.memoizedProps=t.memoizedProps,s.memoizedState=t.memoizedState,s.updateQueue=t.updateQueue,n=t.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},s.sibling=t.sibling,s.index=t.index,s.ref=t.ref,s.refCleanup=t.refCleanup,s}function Jg(t,n){t.flags&=65011714;var s=t.alternate;return s===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=s.childLanes,t.lanes=s.lanes,t.child=s.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=s.memoizedProps,t.memoizedState=s.memoizedState,t.updateQueue=s.updateQueue,t.type=s.type,n=s.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function qu(t,n,s,o,h,f){var g=0;if(o=t,typeof t=="function")sf(t)&&(g=1);else if(typeof t=="string")g=kb(t,s,oe.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case I:return t=Kn(31,s,n,h),t.elementType=I,t.lanes=f,t;case ne:return ma(s.children,h,f,n);case te:g=8,h|=24;break;case de:return t=Kn(12,s,n,h|2),t.elementType=de,t.lanes=f,t;case Xe:return t=Kn(13,s,n,h),t.elementType=Xe,t.lanes=f,t;case De:return t=Kn(19,s,n,h),t.elementType=De,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case _e:g=10;break e;case Ae:g=9;break e;case Oe:g=11;break e;case N:g=14;break e;case w:g=16,o=null;break e}g=29,s=Error(a(130,t===null?"null":typeof t,"")),o=null}return n=Kn(g,s,n,h),n.elementType=t,n.type=o,n.lanes=f,n}function ma(t,n,s,o){return t=Kn(7,t,o,n),t.lanes=s,t}function af(t,n,s){return t=Kn(6,t,null,n),t.lanes=s,t}function Zg(t){var n=Kn(18,null,null,0);return n.stateNode=t,n}function of(t,n,s){return n=Kn(4,t.children!==null?t.children:[],t.key,n),n.lanes=s,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var Wg=new WeakMap;function fi(t,n){if(typeof t=="object"&&t!==null){var s=Wg.get(t);return s!==void 0?s:(n={value:t,source:n,stack:qr(n)},Wg.set(t,n),n)}return{value:t,source:n,stack:qr(n)}}var to=[],no=0,Hu=null,ul=0,di=[],mi=0,ts=null,Yi=1,Ki="";function yr(t,n){to[no++]=ul,to[no++]=Hu,Hu=t,ul=n}function ep(t,n,s){di[mi++]=Yi,di[mi++]=Ki,di[mi++]=ts,ts=t;var o=Yi;t=Ki;var h=32-_t(o)-1;o&=~(1<<h),s+=1;var f=32-_t(n)+h;if(30<f){var g=h-h%5;f=(o&(1<<g)-1).toString(32),o>>=g,h-=g,Yi=1<<32-_t(n)+h|s<<h|o,Ki=f+t}else Yi=1<<f|s<<h|o,Ki=t}function lf(t){t.return!==null&&(yr(t,1),ep(t,1,0))}function uf(t){for(;t===Hu;)Hu=to[--no],to[no]=null,ul=to[--no],to[no]=null;for(;t===ts;)ts=di[--mi],di[mi]=null,Ki=di[--mi],di[mi]=null,Yi=di[--mi],di[mi]=null}function tp(t,n){di[mi++]=Yi,di[mi++]=Ki,di[mi++]=ts,Yi=n.id,Ki=n.overflow,ts=t}var an=null,ft=null,Ge=!1,ns=null,gi=!1,cf=Error(a(519));function is(t){var n=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw cl(fi(n,t)),cf}function np(t){var n=t.stateNode,s=t.type,o=t.memoizedProps;switch(n[vt]=t,n[Dt]=o,s){case"dialog":ke("cancel",n),ke("close",n);break;case"iframe":case"object":case"embed":ke("load",n);break;case"video":case"audio":for(s=0;s<Ml.length;s++)ke(Ml[s],n);break;case"source":ke("error",n);break;case"img":case"image":case"link":ke("error",n),ke("load",n);break;case"details":ke("toggle",n);break;case"input":ke("invalid",n),ia(n,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":ke("invalid",n);break;case"textarea":ke("invalid",n),Ai(n,o.value,o.defaultValue,o.children)}s=o.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||n.textContent===""+s||o.suppressHydrationWarning===!0||v_(n.textContent,s)?(o.popover!=null&&(ke("beforetoggle",n),ke("toggle",n)),o.onScroll!=null&&ke("scroll",n),o.onScrollEnd!=null&&ke("scrollend",n),o.onClick!=null&&(n.onclick=ue),n=!0):n=!1,n||is(t,!0)}function ip(t){for(an=t.return;an;)switch(an.tag){case 5:case 31:case 13:gi=!1;return;case 27:case 3:gi=!0;return;default:an=an.return}}function io(t){if(t!==an)return!1;if(!Ge)return ip(t),Ge=!0,!1;var n=t.tag,s;if((s=n!==3&&n!==27)&&((s=n===5)&&(s=t.type,s=!(s!=="form"&&s!=="button")||Id(t.type,t.memoizedProps)),s=!s),s&&ft&&is(t),ip(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));ft=I_(t)}else if(n===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));ft=I_(t)}else n===27?(n=ft,ys(t.type)?(t=Od,Od=null,ft=t):ft=n):ft=an?yi(t.stateNode.nextSibling):null;return!0}function ga(){ft=an=null,Ge=!1}function hf(){var t=ns;return t!==null&&(Ln===null?Ln=t:Ln.push.apply(Ln,t),ns=null),t}function cl(t){ns===null?ns=[t]:ns.push(t)}var ff=O(null),pa=null,_r=null;function rs(t,n,s){ae(ff,n._currentValue),n._currentValue=s}function vr(t){t._currentValue=ff.current,$(ff)}function df(t,n,s){for(;t!==null;){var o=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,o!==null&&(o.childLanes|=n)):o!==null&&(o.childLanes&n)!==n&&(o.childLanes|=n),t===s)break;t=t.return}}function mf(t,n,s,o){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var f=h.dependencies;if(f!==null){var g=h.child;f=f.firstContext;e:for(;f!==null;){var E=f;f=h;for(var C=0;C<n.length;C++)if(E.context===n[C]){f.lanes|=s,E=f.alternate,E!==null&&(E.lanes|=s),df(f.return,s,t),o||(g=null);break e}f=E.next}}else if(h.tag===18){if(g=h.return,g===null)throw Error(a(341));g.lanes|=s,f=g.alternate,f!==null&&(f.lanes|=s),df(g,s,t),g=null}else g=h.child;if(g!==null)g.return=h;else for(g=h;g!==null;){if(g===t){g=null;break}if(h=g.sibling,h!==null){h.return=g.return,g=h;break}g=g.return}h=g}}function ro(t,n,s,o){t=null;for(var h=n,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var g=h.alternate;if(g===null)throw Error(a(387));if(g=g.memoizedProps,g!==null){var E=h.type;Yn(h.pendingProps.value,g.value)||(t!==null?t.push(E):t=[E])}}else if(h===Fe.current){if(g=h.alternate,g===null)throw Error(a(387));g.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(Ll):t=[Ll])}h=h.return}t!==null&&mf(n,t,s,o),n.flags|=262144}function Fu(t){for(t=t.firstContext;t!==null;){if(!Yn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function ya(t){pa=t,_r=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function on(t){return rp(pa,t)}function Gu(t,n){return pa===null&&ya(t),rp(t,n)}function rp(t,n){var s=n._currentValue;if(n={context:n,memoizedValue:s,next:null},_r===null){if(t===null)throw Error(a(308));_r=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else _r=_r.next=n;return s}var DT=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(s,o){t.push(o)}};this.abort=function(){n.aborted=!0,t.forEach(function(s){return s()})}},MT=r.unstable_scheduleCallback,OT=r.unstable_NormalPriority,Bt={$$typeof:_e,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function gf(){return{controller:new DT,data:new Map,refCount:0}}function hl(t){t.refCount--,t.refCount===0&&MT(OT,function(){t.controller.abort()})}var fl=null,pf=0,so=0,ao=null;function VT(t,n){if(fl===null){var s=fl=[];pf=0,so=vd(),ao={status:"pending",value:void 0,then:function(o){s.push(o)}}}return pf++,n.then(sp,sp),n}function sp(){if(--pf===0&&fl!==null){ao!==null&&(ao.status="fulfilled");var t=fl;fl=null,so=0,ao=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function kT(t,n){var s=[],o={status:"pending",value:null,reason:null,then:function(h){s.push(h)}};return t.then(function(){o.status="fulfilled",o.value=n;for(var h=0;h<s.length;h++)(0,s[h])(n)},function(h){for(o.status="rejected",o.reason=h,h=0;h<s.length;h++)(0,s[h])(void 0)}),o}var ap=G.S;G.S=function(t,n){Hy=Jt(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&VT(t,n),ap!==null&&ap(t,n)};var _a=O(null);function yf(){var t=_a.current;return t!==null?t:ut.pooledCache}function Qu(t,n){n===null?ae(_a,_a.current):ae(_a,n.pool)}function op(){var t=yf();return t===null?null:{parent:Bt._currentValue,pool:t}}var oo=Error(a(460)),_f=Error(a(474)),Yu=Error(a(542)),Ku={then:function(){}};function lp(t){return t=t.status,t==="fulfilled"||t==="rejected"}function up(t,n,s){switch(s=t[s],s===void 0?t.push(n):s!==n&&(n.then(ue,ue),n=s),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,hp(t),t;default:if(typeof n.status=="string")n.then(ue,ue);else{if(t=ut,t!==null&&100<t.shellSuspendCounter)throw Error(a(482));t=n,t.status="pending",t.then(function(o){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=o}},function(o){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=o}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,hp(t),t}throw Ea=n,oo}}function va(t){try{var n=t._init;return n(t._payload)}catch(s){throw s!==null&&typeof s=="object"&&typeof s.then=="function"?(Ea=s,oo):s}}var Ea=null;function cp(){if(Ea===null)throw Error(a(459));var t=Ea;return Ea=null,t}function hp(t){if(t===oo||t===Yu)throw Error(a(483))}var lo=null,dl=0;function Xu(t){var n=dl;return dl+=1,lo===null&&(lo=[]),up(lo,t,n)}function ml(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function $u(t,n){throw n.$$typeof===V?Error(a(525)):(t=Object.prototype.toString.call(n),Error(a(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function fp(t){function n(U,M){if(t){var z=U.deletions;z===null?(U.deletions=[M],U.flags|=16):z.push(M)}}function s(U,M){if(!t)return null;for(;M!==null;)n(U,M),M=M.sibling;return null}function o(U){for(var M=new Map;U!==null;)U.key!==null?M.set(U.key,U):M.set(U.index,U),U=U.sibling;return M}function h(U,M){return U=pr(U,M),U.index=0,U.sibling=null,U}function f(U,M,z){return U.index=z,t?(z=U.alternate,z!==null?(z=z.index,z<M?(U.flags|=67108866,M):z):(U.flags|=67108866,M)):(U.flags|=1048576,M)}function g(U){return t&&U.alternate===null&&(U.flags|=67108866),U}function E(U,M,z,K){return M===null||M.tag!==6?(M=af(z,U.mode,K),M.return=U,M):(M=h(M,z),M.return=U,M)}function C(U,M,z,K){var pe=z.type;return pe===ne?Q(U,M,z.props.children,K,z.key):M!==null&&(M.elementType===pe||typeof pe=="object"&&pe!==null&&pe.$$typeof===w&&va(pe)===M.type)?(M=h(M,z.props),ml(M,z),M.return=U,M):(M=qu(z.type,z.key,z.props,null,U.mode,K),ml(M,z),M.return=U,M)}function j(U,M,z,K){return M===null||M.tag!==4||M.stateNode.containerInfo!==z.containerInfo||M.stateNode.implementation!==z.implementation?(M=of(z,U.mode,K),M.return=U,M):(M=h(M,z.children||[]),M.return=U,M)}function Q(U,M,z,K,pe){return M===null||M.tag!==7?(M=ma(z,U.mode,K,pe),M.return=U,M):(M=h(M,z),M.return=U,M)}function J(U,M,z){if(typeof M=="string"&&M!==""||typeof M=="number"||typeof M=="bigint")return M=af(""+M,U.mode,z),M.return=U,M;if(typeof M=="object"&&M!==null){switch(M.$$typeof){case Y:return z=qu(M.type,M.key,M.props,null,U.mode,z),ml(z,M),z.return=U,z;case ee:return M=of(M,U.mode,z),M.return=U,M;case w:return M=va(M),J(U,M,z)}if(bt(M)||L(M))return M=ma(M,U.mode,z,null),M.return=U,M;if(typeof M.then=="function")return J(U,Xu(M),z);if(M.$$typeof===_e)return J(U,Gu(U,M),z);$u(U,M)}return null}function B(U,M,z,K){var pe=M!==null?M.key:null;if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return pe!==null?null:E(U,M,""+z,K);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case Y:return z.key===pe?C(U,M,z,K):null;case ee:return z.key===pe?j(U,M,z,K):null;case w:return z=va(z),B(U,M,z,K)}if(bt(z)||L(z))return pe!==null?null:Q(U,M,z,K,null);if(typeof z.then=="function")return B(U,M,Xu(z),K);if(z.$$typeof===_e)return B(U,M,Gu(U,z),K);$u(U,z)}return null}function F(U,M,z,K,pe){if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return U=U.get(z)||null,E(M,U,""+K,pe);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case Y:return U=U.get(K.key===null?z:K.key)||null,C(M,U,K,pe);case ee:return U=U.get(K.key===null?z:K.key)||null,j(M,U,K,pe);case w:return K=va(K),F(U,M,z,K,pe)}if(bt(K)||L(K))return U=U.get(z)||null,Q(M,U,K,pe,null);if(typeof K.then=="function")return F(U,M,z,Xu(K),pe);if(K.$$typeof===_e)return F(U,M,z,Gu(M,K),pe);$u(M,K)}return null}function fe(U,M,z,K){for(var pe=null,Ye=null,me=M,xe=M=0,ze=null;me!==null&&xe<z.length;xe++){me.index>xe?(ze=me,me=null):ze=me.sibling;var Ke=B(U,me,z[xe],K);if(Ke===null){me===null&&(me=ze);break}t&&me&&Ke.alternate===null&&n(U,me),M=f(Ke,M,xe),Ye===null?pe=Ke:Ye.sibling=Ke,Ye=Ke,me=ze}if(xe===z.length)return s(U,me),Ge&&yr(U,xe),pe;if(me===null){for(;xe<z.length;xe++)me=J(U,z[xe],K),me!==null&&(M=f(me,M,xe),Ye===null?pe=me:Ye.sibling=me,Ye=me);return Ge&&yr(U,xe),pe}for(me=o(me);xe<z.length;xe++)ze=F(me,U,xe,z[xe],K),ze!==null&&(t&&ze.alternate!==null&&me.delete(ze.key===null?xe:ze.key),M=f(ze,M,xe),Ye===null?pe=ze:Ye.sibling=ze,Ye=ze);return t&&me.forEach(function(bs){return n(U,bs)}),Ge&&yr(U,xe),pe}function ve(U,M,z,K){if(z==null)throw Error(a(151));for(var pe=null,Ye=null,me=M,xe=M=0,ze=null,Ke=z.next();me!==null&&!Ke.done;xe++,Ke=z.next()){me.index>xe?(ze=me,me=null):ze=me.sibling;var bs=B(U,me,Ke.value,K);if(bs===null){me===null&&(me=ze);break}t&&me&&bs.alternate===null&&n(U,me),M=f(bs,M,xe),Ye===null?pe=bs:Ye.sibling=bs,Ye=bs,me=ze}if(Ke.done)return s(U,me),Ge&&yr(U,xe),pe;if(me===null){for(;!Ke.done;xe++,Ke=z.next())Ke=J(U,Ke.value,K),Ke!==null&&(M=f(Ke,M,xe),Ye===null?pe=Ke:Ye.sibling=Ke,Ye=Ke);return Ge&&yr(U,xe),pe}for(me=o(me);!Ke.done;xe++,Ke=z.next())Ke=F(me,U,xe,Ke.value,K),Ke!==null&&(t&&Ke.alternate!==null&&me.delete(Ke.key===null?xe:Ke.key),M=f(Ke,M,xe),Ye===null?pe=Ke:Ye.sibling=Ke,Ye=Ke);return t&&me.forEach(function(Qb){return n(U,Qb)}),Ge&&yr(U,xe),pe}function lt(U,M,z,K){if(typeof z=="object"&&z!==null&&z.type===ne&&z.key===null&&(z=z.props.children),typeof z=="object"&&z!==null){switch(z.$$typeof){case Y:e:{for(var pe=z.key;M!==null;){if(M.key===pe){if(pe=z.type,pe===ne){if(M.tag===7){s(U,M.sibling),K=h(M,z.props.children),K.return=U,U=K;break e}}else if(M.elementType===pe||typeof pe=="object"&&pe!==null&&pe.$$typeof===w&&va(pe)===M.type){s(U,M.sibling),K=h(M,z.props),ml(K,z),K.return=U,U=K;break e}s(U,M);break}else n(U,M);M=M.sibling}z.type===ne?(K=ma(z.props.children,U.mode,K,z.key),K.return=U,U=K):(K=qu(z.type,z.key,z.props,null,U.mode,K),ml(K,z),K.return=U,U=K)}return g(U);case ee:e:{for(pe=z.key;M!==null;){if(M.key===pe)if(M.tag===4&&M.stateNode.containerInfo===z.containerInfo&&M.stateNode.implementation===z.implementation){s(U,M.sibling),K=h(M,z.children||[]),K.return=U,U=K;break e}else{s(U,M);break}else n(U,M);M=M.sibling}K=of(z,U.mode,K),K.return=U,U=K}return g(U);case w:return z=va(z),lt(U,M,z,K)}if(bt(z))return fe(U,M,z,K);if(L(z)){if(pe=L(z),typeof pe!="function")throw Error(a(150));return z=pe.call(z),ve(U,M,z,K)}if(typeof z.then=="function")return lt(U,M,Xu(z),K);if(z.$$typeof===_e)return lt(U,M,Gu(U,z),K);$u(U,z)}return typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint"?(z=""+z,M!==null&&M.tag===6?(s(U,M.sibling),K=h(M,z),K.return=U,U=K):(s(U,M),K=af(z,U.mode,K),K.return=U,U=K),g(U)):s(U,M)}return function(U,M,z,K){try{dl=0;var pe=lt(U,M,z,K);return lo=null,pe}catch(me){if(me===oo||me===Yu)throw me;var Ye=Kn(29,me,null,U.mode);return Ye.lanes=K,Ye.return=U,Ye}finally{}}}var Ta=fp(!0),dp=fp(!1),ss=!1;function vf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Ef(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function as(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function os(t,n,s){var o=t.updateQueue;if(o===null)return null;if(o=o.shared,(Ze&2)!==0){var h=o.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),o.pending=n,n=Bu(t),$g(t,null,s),n}return ju(t,o,n,s),Bu(t)}function gl(t,n,s){if(n=n.updateQueue,n!==null&&(n=n.shared,(s&4194048)!==0)){var o=n.lanes;o&=t.pendingLanes,s|=o,n.lanes=s,Yr(t,s)}}function Tf(t,n){var s=t.updateQueue,o=t.alternate;if(o!==null&&(o=o.updateQueue,s===o)){var h=null,f=null;if(s=s.firstBaseUpdate,s!==null){do{var g={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};f===null?h=f=g:f=f.next=g,s=s.next}while(s!==null);f===null?h=f=n:f=f.next=n}else h=f=n;s={baseState:o.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:o.shared,callbacks:o.callbacks},t.updateQueue=s;return}t=s.lastBaseUpdate,t===null?s.firstBaseUpdate=n:t.next=n,s.lastBaseUpdate=n}var bf=!1;function pl(){if(bf){var t=ao;if(t!==null)throw t}}function yl(t,n,s,o){bf=!1;var h=t.updateQueue;ss=!1;var f=h.firstBaseUpdate,g=h.lastBaseUpdate,E=h.shared.pending;if(E!==null){h.shared.pending=null;var C=E,j=C.next;C.next=null,g===null?f=j:g.next=j,g=C;var Q=t.alternate;Q!==null&&(Q=Q.updateQueue,E=Q.lastBaseUpdate,E!==g&&(E===null?Q.firstBaseUpdate=j:E.next=j,Q.lastBaseUpdate=C))}if(f!==null){var J=h.baseState;g=0,Q=j=C=null,E=f;do{var B=E.lane&-536870913,F=B!==E.lane;if(F?(Pe&B)===B:(o&B)===B){B!==0&&B===so&&(bf=!0),Q!==null&&(Q=Q.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});e:{var fe=t,ve=E;B=n;var lt=s;switch(ve.tag){case 1:if(fe=ve.payload,typeof fe=="function"){J=fe.call(lt,J,B);break e}J=fe;break e;case 3:fe.flags=fe.flags&-65537|128;case 0:if(fe=ve.payload,B=typeof fe=="function"?fe.call(lt,J,B):fe,B==null)break e;J=A({},J,B);break e;case 2:ss=!0}}B=E.callback,B!==null&&(t.flags|=64,F&&(t.flags|=8192),F=h.callbacks,F===null?h.callbacks=[B]:F.push(B))}else F={lane:B,tag:E.tag,payload:E.payload,callback:E.callback,next:null},Q===null?(j=Q=F,C=J):Q=Q.next=F,g|=B;if(E=E.next,E===null){if(E=h.shared.pending,E===null)break;F=E,E=F.next,F.next=null,h.lastBaseUpdate=F,h.shared.pending=null}}while(!0);Q===null&&(C=J),h.baseState=C,h.firstBaseUpdate=j,h.lastBaseUpdate=Q,f===null&&(h.shared.lanes=0),fs|=g,t.lanes=g,t.memoizedState=J}}function mp(t,n){if(typeof t!="function")throw Error(a(191,t));t.call(n)}function gp(t,n){var s=t.callbacks;if(s!==null)for(t.callbacks=null,t=0;t<s.length;t++)mp(s[t],n)}var uo=O(null),Ju=O(0);function pp(t,n){t=Ir,ae(Ju,t),ae(uo,n),Ir=t|n.baseLanes}function Sf(){ae(Ju,Ir),ae(uo,uo.current)}function Af(){Ir=Ju.current,$(uo),$(Ju)}var Xn=O(null),pi=null;function ls(t){var n=t.alternate;ae(Vt,Vt.current&1),ae(Xn,t),pi===null&&(n===null||uo.current!==null||n.memoizedState!==null)&&(pi=t)}function wf(t){ae(Vt,Vt.current),ae(Xn,t),pi===null&&(pi=t)}function yp(t){t.tag===22?(ae(Vt,Vt.current),ae(Xn,t),pi===null&&(pi=t)):us()}function us(){ae(Vt,Vt.current),ae(Xn,Xn.current)}function $n(t){$(Xn),pi===t&&(pi=null),$(Vt)}var Vt=O(0);function Zu(t){for(var n=t;n!==null;){if(n.tag===13){var s=n.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||Dd(s)||Md(s)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Er=0,Ne=null,at=null,qt=null,Wu=!1,co=!1,ba=!1,ec=0,_l=0,ho=null,UT=0;function Rt(){throw Error(a(321))}function Rf(t,n){if(n===null)return!1;for(var s=0;s<n.length&&s<t.length;s++)if(!Yn(t[s],n[s]))return!1;return!0}function Cf(t,n,s,o,h,f){return Er=f,Ne=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,G.H=t===null||t.memoizedState===null?ey:qf,ba=!1,f=s(o,h),ba=!1,co&&(f=vp(n,s,o,h)),_p(t),f}function _p(t){G.H=Tl;var n=at!==null&&at.next!==null;if(Er=0,qt=at=Ne=null,Wu=!1,_l=0,ho=null,n)throw Error(a(300));t===null||Ht||(t=t.dependencies,t!==null&&Fu(t)&&(Ht=!0))}function vp(t,n,s,o){Ne=t;var h=0;do{if(co&&(ho=null),_l=0,co=!1,25<=h)throw Error(a(301));if(h+=1,qt=at=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}G.H=ty,f=n(s,o)}while(co);return f}function LT(){var t=G.H,n=t.useState()[0];return n=typeof n.then=="function"?vl(n):n,t=t.useState()[0],(at!==null?at.memoizedState:null)!==t&&(Ne.flags|=1024),n}function If(){var t=ec!==0;return ec=0,t}function Nf(t,n,s){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~s}function xf(t){if(Wu){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}Wu=!1}Er=0,qt=at=Ne=null,co=!1,_l=ec=0,ho=null}function Nn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return qt===null?Ne.memoizedState=qt=t:qt=qt.next=t,qt}function kt(){if(at===null){var t=Ne.alternate;t=t!==null?t.memoizedState:null}else t=at.next;var n=qt===null?Ne.memoizedState:qt.next;if(n!==null)qt=n,at=t;else{if(t===null)throw Ne.alternate===null?Error(a(467)):Error(a(310));at=t,t={memoizedState:at.memoizedState,baseState:at.baseState,baseQueue:at.baseQueue,queue:at.queue,next:null},qt===null?Ne.memoizedState=qt=t:qt=qt.next=t}return qt}function tc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function vl(t){var n=_l;return _l+=1,ho===null&&(ho=[]),t=up(ho,t,n),n=Ne,(qt===null?n.memoizedState:qt.next)===null&&(n=n.alternate,G.H=n===null||n.memoizedState===null?ey:qf),t}function nc(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return vl(t);if(t.$$typeof===_e)return on(t)}throw Error(a(438,String(t)))}function Df(t){var n=null,s=Ne.updateQueue;if(s!==null&&(n=s.memoCache),n==null){var o=Ne.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(n={data:o.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),s===null&&(s=tc(),Ne.updateQueue=s),s.memoCache=n,s=n.data[n.index],s===void 0)for(s=n.data[n.index]=Array(t),o=0;o<t;o++)s[o]=k;return n.index++,s}function Tr(t,n){return typeof n=="function"?n(t):n}function ic(t){var n=kt();return Mf(n,at,t)}function Mf(t,n,s){var o=t.queue;if(o===null)throw Error(a(311));o.lastRenderedReducer=s;var h=t.baseQueue,f=o.pending;if(f!==null){if(h!==null){var g=h.next;h.next=f.next,f.next=g}n.baseQueue=h=f,o.pending=null}if(f=t.baseState,h===null)t.memoizedState=f;else{n=h.next;var E=g=null,C=null,j=n,Q=!1;do{var J=j.lane&-536870913;if(J!==j.lane?(Pe&J)===J:(Er&J)===J){var B=j.revertLane;if(B===0)C!==null&&(C=C.next={lane:0,revertLane:0,gesture:null,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null}),J===so&&(Q=!0);else if((Er&B)===B){j=j.next,B===so&&(Q=!0);continue}else J={lane:0,revertLane:j.revertLane,gesture:null,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null},C===null?(E=C=J,g=f):C=C.next=J,Ne.lanes|=B,fs|=B;J=j.action,ba&&s(f,J),f=j.hasEagerState?j.eagerState:s(f,J)}else B={lane:J,revertLane:j.revertLane,gesture:j.gesture,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null},C===null?(E=C=B,g=f):C=C.next=B,Ne.lanes|=J,fs|=J;j=j.next}while(j!==null&&j!==n);if(C===null?g=f:C.next=E,!Yn(f,t.memoizedState)&&(Ht=!0,Q&&(s=ao,s!==null)))throw s;t.memoizedState=f,t.baseState=g,t.baseQueue=C,o.lastRenderedState=f}return h===null&&(o.lanes=0),[t.memoizedState,o.dispatch]}function Of(t){var n=kt(),s=n.queue;if(s===null)throw Error(a(311));s.lastRenderedReducer=t;var o=s.dispatch,h=s.pending,f=n.memoizedState;if(h!==null){s.pending=null;var g=h=h.next;do f=t(f,g.action),g=g.next;while(g!==h);Yn(f,n.memoizedState)||(Ht=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),s.lastRenderedState=f}return[f,o]}function Ep(t,n,s){var o=Ne,h=kt(),f=Ge;if(f){if(s===void 0)throw Error(a(407));s=s()}else s=n();var g=!Yn((at||h).memoizedState,s);if(g&&(h.memoizedState=s,Ht=!0),h=h.queue,Uf(Sp.bind(null,o,h,t),[t]),h.getSnapshot!==n||g||qt!==null&&qt.memoizedState.tag&1){if(o.flags|=2048,fo(9,{destroy:void 0},bp.bind(null,o,h,s,n),null),ut===null)throw Error(a(349));f||(Er&127)!==0||Tp(o,n,s)}return s}function Tp(t,n,s){t.flags|=16384,t={getSnapshot:n,value:s},n=Ne.updateQueue,n===null?(n=tc(),Ne.updateQueue=n,n.stores=[t]):(s=n.stores,s===null?n.stores=[t]:s.push(t))}function bp(t,n,s,o){n.value=s,n.getSnapshot=o,Ap(n)&&wp(t)}function Sp(t,n,s){return s(function(){Ap(n)&&wp(t)})}function Ap(t){var n=t.getSnapshot;t=t.value;try{var s=n();return!Yn(t,s)}catch{return!0}}function wp(t){var n=da(t,2);n!==null&&Pn(n,t,2)}function Vf(t){var n=Nn();if(typeof t=="function"){var s=t;if(t=s(),ba){An(!0);try{s()}finally{An(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Tr,lastRenderedState:t},n}function Rp(t,n,s,o){return t.baseState=s,Mf(t,at,typeof o=="function"?o:Tr)}function PT(t,n,s,o,h){if(ac(t))throw Error(a(485));if(t=n.action,t!==null){var f={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(g){f.listeners.push(g)}};G.T!==null?s(!0):f.isTransition=!1,o(f),s=n.pending,s===null?(f.next=n.pending=f,Cp(n,f)):(f.next=s.next,n.pending=s.next=f)}}function Cp(t,n){var s=n.action,o=n.payload,h=t.state;if(n.isTransition){var f=G.T,g={};G.T=g;try{var E=s(h,o),C=G.S;C!==null&&C(g,E),Ip(t,n,E)}catch(j){kf(t,n,j)}finally{f!==null&&g.types!==null&&(f.types=g.types),G.T=f}}else try{f=s(h,o),Ip(t,n,f)}catch(j){kf(t,n,j)}}function Ip(t,n,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(o){Np(t,n,o)},function(o){return kf(t,n,o)}):Np(t,n,s)}function Np(t,n,s){n.status="fulfilled",n.value=s,xp(n),t.state=s,n=t.pending,n!==null&&(s=n.next,s===n?t.pending=null:(s=s.next,n.next=s,Cp(t,s)))}function kf(t,n,s){var o=t.pending;if(t.pending=null,o!==null){o=o.next;do n.status="rejected",n.reason=s,xp(n),n=n.next;while(n!==o)}t.action=null}function xp(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function Dp(t,n){return n}function Mp(t,n){if(Ge){var s=ut.formState;if(s!==null){e:{var o=Ne;if(Ge){if(ft){t:{for(var h=ft,f=gi;h.nodeType!==8;){if(!f){h=null;break t}if(h=yi(h.nextSibling),h===null){h=null;break t}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){ft=yi(h.nextSibling),o=h.data==="F!";break e}}is(o)}o=!1}o&&(n=s[0])}}return s=Nn(),s.memoizedState=s.baseState=n,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Dp,lastRenderedState:n},s.queue=o,s=Jp.bind(null,Ne,o),o.dispatch=s,o=Vf(!1),f=Bf.bind(null,Ne,!1,o.queue),o=Nn(),h={state:n,dispatch:null,action:t,pending:null},o.queue=h,s=PT.bind(null,Ne,h,f,s),h.dispatch=s,o.memoizedState=t,[n,s,!1]}function Op(t){var n=kt();return Vp(n,at,t)}function Vp(t,n,s){if(n=Mf(t,n,Dp)[0],t=ic(Tr)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var o=vl(n)}catch(g){throw g===oo?Yu:g}else o=n;n=kt();var h=n.queue,f=h.dispatch;return s!==n.memoizedState&&(Ne.flags|=2048,fo(9,{destroy:void 0},zT.bind(null,h,s),null)),[o,f,t]}function zT(t,n){t.action=n}function kp(t){var n=kt(),s=at;if(s!==null)return Vp(n,s,t);kt(),n=n.memoizedState,s=kt();var o=s.queue.dispatch;return s.memoizedState=t,[n,o,!1]}function fo(t,n,s,o){return t={tag:t,create:s,deps:o,inst:n,next:null},n=Ne.updateQueue,n===null&&(n=tc(),Ne.updateQueue=n),s=n.lastEffect,s===null?n.lastEffect=t.next=t:(o=s.next,s.next=t,t.next=o,n.lastEffect=t),t}function Up(){return kt().memoizedState}function rc(t,n,s,o){var h=Nn();Ne.flags|=t,h.memoizedState=fo(1|n,{destroy:void 0},s,o===void 0?null:o)}function sc(t,n,s,o){var h=kt();o=o===void 0?null:o;var f=h.memoizedState.inst;at!==null&&o!==null&&Rf(o,at.memoizedState.deps)?h.memoizedState=fo(n,f,s,o):(Ne.flags|=t,h.memoizedState=fo(1|n,f,s,o))}function Lp(t,n){rc(8390656,8,t,n)}function Uf(t,n){sc(2048,8,t,n)}function jT(t){Ne.flags|=4;var n=Ne.updateQueue;if(n===null)n=tc(),Ne.updateQueue=n,n.events=[t];else{var s=n.events;s===null?n.events=[t]:s.push(t)}}function Pp(t){var n=kt().memoizedState;return jT({ref:n,nextImpl:t}),function(){if((Ze&2)!==0)throw Error(a(440));return n.impl.apply(void 0,arguments)}}function zp(t,n){return sc(4,2,t,n)}function jp(t,n){return sc(4,4,t,n)}function Bp(t,n){if(typeof n=="function"){t=t();var s=n(t);return function(){typeof s=="function"?s():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function qp(t,n,s){s=s!=null?s.concat([t]):null,sc(4,4,Bp.bind(null,n,t),s)}function Lf(){}function Hp(t,n){var s=kt();n=n===void 0?null:n;var o=s.memoizedState;return n!==null&&Rf(n,o[1])?o[0]:(s.memoizedState=[t,n],t)}function Fp(t,n){var s=kt();n=n===void 0?null:n;var o=s.memoizedState;if(n!==null&&Rf(n,o[1]))return o[0];if(o=t(),ba){An(!0);try{t()}finally{An(!1)}}return s.memoizedState=[o,n],o}function Pf(t,n,s){return s===void 0||(Er&1073741824)!==0&&(Pe&261930)===0?t.memoizedState=n:(t.memoizedState=s,t=Gy(),Ne.lanes|=t,fs|=t,s)}function Gp(t,n,s,o){return Yn(s,n)?s:uo.current!==null?(t=Pf(t,s,o),Yn(t,n)||(Ht=!0),t):(Er&42)===0||(Er&1073741824)!==0&&(Pe&261930)===0?(Ht=!0,t.memoizedState=s):(t=Gy(),Ne.lanes|=t,fs|=t,n)}function Qp(t,n,s,o,h){var f=se.p;se.p=f!==0&&8>f?f:8;var g=G.T,E={};G.T=E,Bf(t,!1,n,s);try{var C=h(),j=G.S;if(j!==null&&j(E,C),C!==null&&typeof C=="object"&&typeof C.then=="function"){var Q=kT(C,o);El(t,n,Q,Wn(t))}else El(t,n,o,Wn(t))}catch(J){El(t,n,{then:function(){},status:"rejected",reason:J},Wn())}finally{se.p=f,g!==null&&E.types!==null&&(g.types=E.types),G.T=g}}function BT(){}function zf(t,n,s,o){if(t.tag!==5)throw Error(a(476));var h=Yp(t).queue;Qp(t,h,n,ge,s===null?BT:function(){return Kp(t),s(o)})}function Yp(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:ge,baseState:ge,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Tr,lastRenderedState:ge},next:null};var s={};return n.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Tr,lastRenderedState:s},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function Kp(t){var n=Yp(t);n.next===null&&(n=t.alternate.memoizedState),El(t,n.next.queue,{},Wn())}function jf(){return on(Ll)}function Xp(){return kt().memoizedState}function $p(){return kt().memoizedState}function qT(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var s=Wn();t=as(s);var o=os(n,t,s);o!==null&&(Pn(o,n,s),gl(o,n,s)),n={cache:gf()},t.payload=n;return}n=n.return}}function HT(t,n,s){var o=Wn();s={lane:o,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},ac(t)?Zp(n,s):(s=rf(t,n,s,o),s!==null&&(Pn(s,t,o),Wp(s,n,o)))}function Jp(t,n,s){var o=Wn();El(t,n,s,o)}function El(t,n,s,o){var h={lane:o,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null};if(ac(t))Zp(n,h);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var g=n.lastRenderedState,E=f(g,s);if(h.hasEagerState=!0,h.eagerState=E,Yn(E,g))return ju(t,n,h,0),ut===null&&zu(),!1}catch{}finally{}if(s=rf(t,n,h,o),s!==null)return Pn(s,t,o),Wp(s,n,o),!0}return!1}function Bf(t,n,s,o){if(o={lane:2,revertLane:vd(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},ac(t)){if(n)throw Error(a(479))}else n=rf(t,s,o,2),n!==null&&Pn(n,t,2)}function ac(t){var n=t.alternate;return t===Ne||n!==null&&n===Ne}function Zp(t,n){co=Wu=!0;var s=t.pending;s===null?n.next=n:(n.next=s.next,s.next=n),t.pending=n}function Wp(t,n,s){if((s&4194048)!==0){var o=n.lanes;o&=t.pendingLanes,s|=o,n.lanes=s,Yr(t,s)}}var Tl={readContext:on,use:nc,useCallback:Rt,useContext:Rt,useEffect:Rt,useImperativeHandle:Rt,useLayoutEffect:Rt,useInsertionEffect:Rt,useMemo:Rt,useReducer:Rt,useRef:Rt,useState:Rt,useDebugValue:Rt,useDeferredValue:Rt,useTransition:Rt,useSyncExternalStore:Rt,useId:Rt,useHostTransitionStatus:Rt,useFormState:Rt,useActionState:Rt,useOptimistic:Rt,useMemoCache:Rt,useCacheRefresh:Rt};Tl.useEffectEvent=Rt;var ey={readContext:on,use:nc,useCallback:function(t,n){return Nn().memoizedState=[t,n===void 0?null:n],t},useContext:on,useEffect:Lp,useImperativeHandle:function(t,n,s){s=s!=null?s.concat([t]):null,rc(4194308,4,Bp.bind(null,n,t),s)},useLayoutEffect:function(t,n){return rc(4194308,4,t,n)},useInsertionEffect:function(t,n){rc(4,2,t,n)},useMemo:function(t,n){var s=Nn();n=n===void 0?null:n;var o=t();if(ba){An(!0);try{t()}finally{An(!1)}}return s.memoizedState=[o,n],o},useReducer:function(t,n,s){var o=Nn();if(s!==void 0){var h=s(n);if(ba){An(!0);try{s(n)}finally{An(!1)}}}else h=n;return o.memoizedState=o.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},o.queue=t,t=t.dispatch=HT.bind(null,Ne,t),[o.memoizedState,t]},useRef:function(t){var n=Nn();return t={current:t},n.memoizedState=t},useState:function(t){t=Vf(t);var n=t.queue,s=Jp.bind(null,Ne,n);return n.dispatch=s,[t.memoizedState,s]},useDebugValue:Lf,useDeferredValue:function(t,n){var s=Nn();return Pf(s,t,n)},useTransition:function(){var t=Vf(!1);return t=Qp.bind(null,Ne,t.queue,!0,!1),Nn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,s){var o=Ne,h=Nn();if(Ge){if(s===void 0)throw Error(a(407));s=s()}else{if(s=n(),ut===null)throw Error(a(349));(Pe&127)!==0||Tp(o,n,s)}h.memoizedState=s;var f={value:s,getSnapshot:n};return h.queue=f,Lp(Sp.bind(null,o,f,t),[t]),o.flags|=2048,fo(9,{destroy:void 0},bp.bind(null,o,f,s,n),null),s},useId:function(){var t=Nn(),n=ut.identifierPrefix;if(Ge){var s=Ki,o=Yi;s=(o&~(1<<32-_t(o)-1)).toString(32)+s,n="_"+n+"R_"+s,s=ec++,0<s&&(n+="H"+s.toString(32)),n+="_"}else s=UT++,n="_"+n+"r_"+s.toString(32)+"_";return t.memoizedState=n},useHostTransitionStatus:jf,useFormState:Mp,useActionState:Mp,useOptimistic:function(t){var n=Nn();n.memoizedState=n.baseState=t;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=s,n=Bf.bind(null,Ne,!0,s),s.dispatch=n,[t,n]},useMemoCache:Df,useCacheRefresh:function(){return Nn().memoizedState=qT.bind(null,Ne)},useEffectEvent:function(t){var n=Nn(),s={impl:t};return n.memoizedState=s,function(){if((Ze&2)!==0)throw Error(a(440));return s.impl.apply(void 0,arguments)}}},qf={readContext:on,use:nc,useCallback:Hp,useContext:on,useEffect:Uf,useImperativeHandle:qp,useInsertionEffect:zp,useLayoutEffect:jp,useMemo:Fp,useReducer:ic,useRef:Up,useState:function(){return ic(Tr)},useDebugValue:Lf,useDeferredValue:function(t,n){var s=kt();return Gp(s,at.memoizedState,t,n)},useTransition:function(){var t=ic(Tr)[0],n=kt().memoizedState;return[typeof t=="boolean"?t:vl(t),n]},useSyncExternalStore:Ep,useId:Xp,useHostTransitionStatus:jf,useFormState:Op,useActionState:Op,useOptimistic:function(t,n){var s=kt();return Rp(s,at,t,n)},useMemoCache:Df,useCacheRefresh:$p};qf.useEffectEvent=Pp;var ty={readContext:on,use:nc,useCallback:Hp,useContext:on,useEffect:Uf,useImperativeHandle:qp,useInsertionEffect:zp,useLayoutEffect:jp,useMemo:Fp,useReducer:Of,useRef:Up,useState:function(){return Of(Tr)},useDebugValue:Lf,useDeferredValue:function(t,n){var s=kt();return at===null?Pf(s,t,n):Gp(s,at.memoizedState,t,n)},useTransition:function(){var t=Of(Tr)[0],n=kt().memoizedState;return[typeof t=="boolean"?t:vl(t),n]},useSyncExternalStore:Ep,useId:Xp,useHostTransitionStatus:jf,useFormState:kp,useActionState:kp,useOptimistic:function(t,n){var s=kt();return at!==null?Rp(s,at,t,n):(s.baseState=t,[t,s.queue.dispatch])},useMemoCache:Df,useCacheRefresh:$p};ty.useEffectEvent=Pp;function Hf(t,n,s,o){n=t.memoizedState,s=s(o,n),s=s==null?n:A({},n,s),t.memoizedState=s,t.lanes===0&&(t.updateQueue.baseState=s)}var Ff={enqueueSetState:function(t,n,s){t=t._reactInternals;var o=Wn(),h=as(o);h.payload=n,s!=null&&(h.callback=s),n=os(t,h,o),n!==null&&(Pn(n,t,o),gl(n,t,o))},enqueueReplaceState:function(t,n,s){t=t._reactInternals;var o=Wn(),h=as(o);h.tag=1,h.payload=n,s!=null&&(h.callback=s),n=os(t,h,o),n!==null&&(Pn(n,t,o),gl(n,t,o))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var s=Wn(),o=as(s);o.tag=2,n!=null&&(o.callback=n),n=os(t,o,s),n!==null&&(Pn(n,t,s),gl(n,t,s))}};function ny(t,n,s,o,h,f,g){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(o,f,g):n.prototype&&n.prototype.isPureReactComponent?!ol(s,o)||!ol(h,f):!0}function iy(t,n,s,o){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(s,o),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(s,o),n.state!==t&&Ff.enqueueReplaceState(n,n.state,null)}function Sa(t,n){var s=n;if("ref"in n){s={};for(var o in n)o!=="ref"&&(s[o]=n[o])}if(t=t.defaultProps){s===n&&(s=A({},s));for(var h in t)s[h]===void 0&&(s[h]=t[h])}return s}function ry(t){Pu(t)}function sy(t){console.error(t)}function ay(t){Pu(t)}function oc(t,n){try{var s=t.onUncaughtError;s(n.value,{componentStack:n.stack})}catch(o){setTimeout(function(){throw o})}}function oy(t,n,s){try{var o=t.onCaughtError;o(s.value,{componentStack:s.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Gf(t,n,s){return s=as(s),s.tag=3,s.payload={element:null},s.callback=function(){oc(t,n)},s}function ly(t){return t=as(t),t.tag=3,t}function uy(t,n,s,o){var h=s.type.getDerivedStateFromError;if(typeof h=="function"){var f=o.value;t.payload=function(){return h(f)},t.callback=function(){oy(n,s,o)}}var g=s.stateNode;g!==null&&typeof g.componentDidCatch=="function"&&(t.callback=function(){oy(n,s,o),typeof h!="function"&&(ds===null?ds=new Set([this]):ds.add(this));var E=o.stack;this.componentDidCatch(o.value,{componentStack:E!==null?E:""})})}function FT(t,n,s,o,h){if(s.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(n=s.alternate,n!==null&&ro(n,s,h,!0),s=Xn.current,s!==null){switch(s.tag){case 31:case 13:return pi===null?vc():s.alternate===null&&Ct===0&&(Ct=3),s.flags&=-257,s.flags|=65536,s.lanes=h,o===Ku?s.flags|=16384:(n=s.updateQueue,n===null?s.updateQueue=new Set([o]):n.add(o),pd(t,o,h)),!1;case 22:return s.flags|=65536,o===Ku?s.flags|=16384:(n=s.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([o])},s.updateQueue=n):(s=n.retryQueue,s===null?n.retryQueue=new Set([o]):s.add(o)),pd(t,o,h)),!1}throw Error(a(435,s.tag))}return pd(t,o,h),vc(),!1}if(Ge)return n=Xn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,o!==cf&&(t=Error(a(422),{cause:o}),cl(fi(t,s)))):(o!==cf&&(n=Error(a(423),{cause:o}),cl(fi(n,s))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,o=fi(o,s),h=Gf(t.stateNode,o,h),Tf(t,h),Ct!==4&&(Ct=2)),!1;var f=Error(a(520),{cause:o});if(f=fi(f,s),Nl===null?Nl=[f]:Nl.push(f),Ct!==4&&(Ct=2),n===null)return!0;o=fi(o,s),s=n;do{switch(s.tag){case 3:return s.flags|=65536,t=h&-h,s.lanes|=t,t=Gf(s.stateNode,o,t),Tf(s,t),!1;case 1:if(n=s.type,f=s.stateNode,(s.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(ds===null||!ds.has(f))))return s.flags|=65536,h&=-h,s.lanes|=h,h=ly(h),uy(h,t,s,o),Tf(s,h),!1}s=s.return}while(s!==null);return!1}var Qf=Error(a(461)),Ht=!1;function ln(t,n,s,o){n.child=t===null?dp(n,null,s,o):Ta(n,t.child,s,o)}function cy(t,n,s,o,h){s=s.render;var f=n.ref;if("ref"in o){var g={};for(var E in o)E!=="ref"&&(g[E]=o[E])}else g=o;return ya(n),o=Cf(t,n,s,g,f,h),E=If(),t!==null&&!Ht?(Nf(t,n,h),br(t,n,h)):(Ge&&E&&lf(n),n.flags|=1,ln(t,n,o,h),n.child)}function hy(t,n,s,o,h){if(t===null){var f=s.type;return typeof f=="function"&&!sf(f)&&f.defaultProps===void 0&&s.compare===null?(n.tag=15,n.type=f,fy(t,n,f,o,h)):(t=qu(s.type,null,o,n,n.mode,h),t.ref=n.ref,t.return=n,n.child=t)}if(f=t.child,!ed(t,h)){var g=f.memoizedProps;if(s=s.compare,s=s!==null?s:ol,s(g,o)&&t.ref===n.ref)return br(t,n,h)}return n.flags|=1,t=pr(f,o),t.ref=n.ref,t.return=n,n.child=t}function fy(t,n,s,o,h){if(t!==null){var f=t.memoizedProps;if(ol(f,o)&&t.ref===n.ref)if(Ht=!1,n.pendingProps=o=f,ed(t,h))(t.flags&131072)!==0&&(Ht=!0);else return n.lanes=t.lanes,br(t,n,h)}return Yf(t,n,s,o,h)}function dy(t,n,s,o){var h=o.children,f=t!==null?t.memoizedState:null;if(t===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|s:s,t!==null){for(o=n.child=t.child,h=0;o!==null;)h=h|o.lanes|o.childLanes,o=o.sibling;o=h&~f}else o=0,n.child=null;return my(t,n,f,s,o)}if((s&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&Qu(n,f!==null?f.cachePool:null),f!==null?pp(n,f):Sf(),yp(n);else return o=n.lanes=536870912,my(t,n,f!==null?f.baseLanes|s:s,s,o)}else f!==null?(Qu(n,f.cachePool),pp(n,f),us(),n.memoizedState=null):(t!==null&&Qu(n,null),Sf(),us());return ln(t,n,h,s),n.child}function bl(t,n){return t!==null&&t.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function my(t,n,s,o,h){var f=yf();return f=f===null?null:{parent:Bt._currentValue,pool:f},n.memoizedState={baseLanes:s,cachePool:f},t!==null&&Qu(n,null),Sf(),yp(n),t!==null&&ro(t,n,o,!0),n.childLanes=h,null}function lc(t,n){return n=cc({mode:n.mode,children:n.children},t.mode),n.ref=t.ref,t.child=n,n.return=t,n}function gy(t,n,s){return Ta(n,t.child,null,s),t=lc(n,n.pendingProps),t.flags|=2,$n(n),n.memoizedState=null,t}function GT(t,n,s){var o=n.pendingProps,h=(n.flags&128)!==0;if(n.flags&=-129,t===null){if(Ge){if(o.mode==="hidden")return t=lc(n,o),n.lanes=536870912,bl(null,t);if(wf(n),(t=ft)?(t=C_(t,gi),t=t!==null&&t.data==="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:ts!==null?{id:Yi,overflow:Ki}:null,retryLane:536870912,hydrationErrors:null},s=Zg(t),s.return=n,n.child=s,an=n,ft=null)):t=null,t===null)throw is(n);return n.lanes=536870912,null}return lc(n,o)}var f=t.memoizedState;if(f!==null){var g=f.dehydrated;if(wf(n),h)if(n.flags&256)n.flags&=-257,n=gy(t,n,s);else if(n.memoizedState!==null)n.child=t.child,n.flags|=128,n=null;else throw Error(a(558));else if(Ht||ro(t,n,s,!1),h=(s&t.childLanes)!==0,Ht||h){if(o=ut,o!==null&&(g=Xs(o,s),g!==0&&g!==f.retryLane))throw f.retryLane=g,da(t,g),Pn(o,t,g),Qf;vc(),n=gy(t,n,s)}else t=f.treeContext,ft=yi(g.nextSibling),an=n,Ge=!0,ns=null,gi=!1,t!==null&&tp(n,t),n=lc(n,o),n.flags|=4096;return n}return t=pr(t.child,{mode:o.mode,children:o.children}),t.ref=n.ref,n.child=t,t.return=n,t}function uc(t,n){var s=n.ref;if(s===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(a(284));(t===null||t.ref!==s)&&(n.flags|=4194816)}}function Yf(t,n,s,o,h){return ya(n),s=Cf(t,n,s,o,void 0,h),o=If(),t!==null&&!Ht?(Nf(t,n,h),br(t,n,h)):(Ge&&o&&lf(n),n.flags|=1,ln(t,n,s,h),n.child)}function py(t,n,s,o,h,f){return ya(n),n.updateQueue=null,s=vp(n,o,s,h),_p(t),o=If(),t!==null&&!Ht?(Nf(t,n,f),br(t,n,f)):(Ge&&o&&lf(n),n.flags|=1,ln(t,n,s,f),n.child)}function yy(t,n,s,o,h){if(ya(n),n.stateNode===null){var f=eo,g=s.contextType;typeof g=="object"&&g!==null&&(f=on(g)),f=new s(o,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Ff,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=o,f.state=n.memoizedState,f.refs={},vf(n),g=s.contextType,f.context=typeof g=="object"&&g!==null?on(g):eo,f.state=n.memoizedState,g=s.getDerivedStateFromProps,typeof g=="function"&&(Hf(n,s,g,o),f.state=n.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(g=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),g!==f.state&&Ff.enqueueReplaceState(f,f.state,null),yl(n,o,f,h),pl(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!0}else if(t===null){f=n.stateNode;var E=n.memoizedProps,C=Sa(s,E);f.props=C;var j=f.context,Q=s.contextType;g=eo,typeof Q=="object"&&Q!==null&&(g=on(Q));var J=s.getDerivedStateFromProps;Q=typeof J=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,Q||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||j!==g)&&iy(n,f,o,g),ss=!1;var B=n.memoizedState;f.state=B,yl(n,o,f,h),pl(),j=n.memoizedState,E||B!==j||ss?(typeof J=="function"&&(Hf(n,s,J,o),j=n.memoizedState),(C=ss||ny(n,s,C,o,B,j,g))?(Q||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=o,n.memoizedState=j),f.props=o,f.state=j,f.context=g,o=C):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!1)}else{f=n.stateNode,Ef(t,n),g=n.memoizedProps,Q=Sa(s,g),f.props=Q,J=n.pendingProps,B=f.context,j=s.contextType,C=eo,typeof j=="object"&&j!==null&&(C=on(j)),E=s.getDerivedStateFromProps,(j=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(g!==J||B!==C)&&iy(n,f,o,C),ss=!1,B=n.memoizedState,f.state=B,yl(n,o,f,h),pl();var F=n.memoizedState;g!==J||B!==F||ss||t!==null&&t.dependencies!==null&&Fu(t.dependencies)?(typeof E=="function"&&(Hf(n,s,E,o),F=n.memoizedState),(Q=ss||ny(n,s,Q,o,B,F,C)||t!==null&&t.dependencies!==null&&Fu(t.dependencies))?(j||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(o,F,C),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(o,F,C)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||g===t.memoizedProps&&B===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===t.memoizedProps&&B===t.memoizedState||(n.flags|=1024),n.memoizedProps=o,n.memoizedState=F),f.props=o,f.state=F,f.context=C,o=Q):(typeof f.componentDidUpdate!="function"||g===t.memoizedProps&&B===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===t.memoizedProps&&B===t.memoizedState||(n.flags|=1024),o=!1)}return f=o,uc(t,n),o=(n.flags&128)!==0,f||o?(f=n.stateNode,s=o&&typeof s.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,t!==null&&o?(n.child=Ta(n,t.child,null,h),n.child=Ta(n,null,s,h)):ln(t,n,s,h),n.memoizedState=f.state,t=n.child):t=br(t,n,h),t}function _y(t,n,s,o){return ga(),n.flags|=256,ln(t,n,s,o),n.child}var Kf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Xf(t){return{baseLanes:t,cachePool:op()}}function $f(t,n,s){return t=t!==null?t.childLanes&~s:0,n&&(t|=Zn),t}function vy(t,n,s){var o=n.pendingProps,h=!1,f=(n.flags&128)!==0,g;if((g=f)||(g=t!==null&&t.memoizedState===null?!1:(Vt.current&2)!==0),g&&(h=!0,n.flags&=-129),g=(n.flags&32)!==0,n.flags&=-33,t===null){if(Ge){if(h?ls(n):us(),(t=ft)?(t=C_(t,gi),t=t!==null&&t.data!=="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:ts!==null?{id:Yi,overflow:Ki}:null,retryLane:536870912,hydrationErrors:null},s=Zg(t),s.return=n,n.child=s,an=n,ft=null)):t=null,t===null)throw is(n);return Md(t)?n.lanes=32:n.lanes=536870912,null}var E=o.children;return o=o.fallback,h?(us(),h=n.mode,E=cc({mode:"hidden",children:E},h),o=ma(o,h,s,null),E.return=n,o.return=n,E.sibling=o,n.child=E,o=n.child,o.memoizedState=Xf(s),o.childLanes=$f(t,g,s),n.memoizedState=Kf,bl(null,o)):(ls(n),Jf(n,E))}var C=t.memoizedState;if(C!==null&&(E=C.dehydrated,E!==null)){if(f)n.flags&256?(ls(n),n.flags&=-257,n=Zf(t,n,s)):n.memoizedState!==null?(us(),n.child=t.child,n.flags|=128,n=null):(us(),E=o.fallback,h=n.mode,o=cc({mode:"visible",children:o.children},h),E=ma(E,h,s,null),E.flags|=2,o.return=n,E.return=n,o.sibling=E,n.child=o,Ta(n,t.child,null,s),o=n.child,o.memoizedState=Xf(s),o.childLanes=$f(t,g,s),n.memoizedState=Kf,n=bl(null,o));else if(ls(n),Md(E)){if(g=E.nextSibling&&E.nextSibling.dataset,g)var j=g.dgst;g=j,o=Error(a(419)),o.stack="",o.digest=g,cl({value:o,source:null,stack:null}),n=Zf(t,n,s)}else if(Ht||ro(t,n,s,!1),g=(s&t.childLanes)!==0,Ht||g){if(g=ut,g!==null&&(o=Xs(g,s),o!==0&&o!==C.retryLane))throw C.retryLane=o,da(t,o),Pn(g,t,o),Qf;Dd(E)||vc(),n=Zf(t,n,s)}else Dd(E)?(n.flags|=192,n.child=t.child,n=null):(t=C.treeContext,ft=yi(E.nextSibling),an=n,Ge=!0,ns=null,gi=!1,t!==null&&tp(n,t),n=Jf(n,o.children),n.flags|=4096);return n}return h?(us(),E=o.fallback,h=n.mode,C=t.child,j=C.sibling,o=pr(C,{mode:"hidden",children:o.children}),o.subtreeFlags=C.subtreeFlags&65011712,j!==null?E=pr(j,E):(E=ma(E,h,s,null),E.flags|=2),E.return=n,o.return=n,o.sibling=E,n.child=o,bl(null,o),o=n.child,E=t.child.memoizedState,E===null?E=Xf(s):(h=E.cachePool,h!==null?(C=Bt._currentValue,h=h.parent!==C?{parent:C,pool:C}:h):h=op(),E={baseLanes:E.baseLanes|s,cachePool:h}),o.memoizedState=E,o.childLanes=$f(t,g,s),n.memoizedState=Kf,bl(t.child,o)):(ls(n),s=t.child,t=s.sibling,s=pr(s,{mode:"visible",children:o.children}),s.return=n,s.sibling=null,t!==null&&(g=n.deletions,g===null?(n.deletions=[t],n.flags|=16):g.push(t)),n.child=s,n.memoizedState=null,s)}function Jf(t,n){return n=cc({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function cc(t,n){return t=Kn(22,t,null,n),t.lanes=0,t}function Zf(t,n,s){return Ta(n,t.child,null,s),t=Jf(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function Ey(t,n,s){t.lanes|=n;var o=t.alternate;o!==null&&(o.lanes|=n),df(t.return,n,s)}function Wf(t,n,s,o,h,f){var g=t.memoizedState;g===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:o,tail:s,tailMode:h,treeForkCount:f}:(g.isBackwards=n,g.rendering=null,g.renderingStartTime=0,g.last=o,g.tail=s,g.tailMode=h,g.treeForkCount=f)}function Ty(t,n,s){var o=n.pendingProps,h=o.revealOrder,f=o.tail;o=o.children;var g=Vt.current,E=(g&2)!==0;if(E?(g=g&1|2,n.flags|=128):g&=1,ae(Vt,g),ln(t,n,o,s),o=Ge?ul:0,!E&&t!==null&&(t.flags&128)!==0)e:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Ey(t,s,n);else if(t.tag===19)Ey(t,s,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break e;for(;t.sibling===null;){if(t.return===null||t.return===n)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(h){case"forwards":for(s=n.child,h=null;s!==null;)t=s.alternate,t!==null&&Zu(t)===null&&(h=s),s=s.sibling;s=h,s===null?(h=n.child,n.child=null):(h=s.sibling,s.sibling=null),Wf(n,!1,h,s,f,o);break;case"backwards":case"unstable_legacy-backwards":for(s=null,h=n.child,n.child=null;h!==null;){if(t=h.alternate,t!==null&&Zu(t)===null){n.child=h;break}t=h.sibling,h.sibling=s,s=h,h=t}Wf(n,!0,s,null,f,o);break;case"together":Wf(n,!1,null,null,void 0,o);break;default:n.memoizedState=null}return n.child}function br(t,n,s){if(t!==null&&(n.dependencies=t.dependencies),fs|=n.lanes,(s&n.childLanes)===0)if(t!==null){if(ro(t,n,s,!1),(s&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(a(153));if(n.child!==null){for(t=n.child,s=pr(t,t.pendingProps),n.child=s,s.return=n;t.sibling!==null;)t=t.sibling,s=s.sibling=pr(t,t.pendingProps),s.return=n;s.sibling=null}return n.child}function ed(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&Fu(t)))}function QT(t,n,s){switch(n.tag){case 3:Pt(n,n.stateNode.containerInfo),rs(n,Bt,t.memoizedState.cache),ga();break;case 27:case 5:Br(n);break;case 4:Pt(n,n.stateNode.containerInfo);break;case 10:rs(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,wf(n),null;break;case 13:var o=n.memoizedState;if(o!==null)return o.dehydrated!==null?(ls(n),n.flags|=128,null):(s&n.child.childLanes)!==0?vy(t,n,s):(ls(n),t=br(t,n,s),t!==null?t.sibling:null);ls(n);break;case 19:var h=(t.flags&128)!==0;if(o=(s&n.childLanes)!==0,o||(ro(t,n,s,!1),o=(s&n.childLanes)!==0),h){if(o)return Ty(t,n,s);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),ae(Vt,Vt.current),o)break;return null;case 22:return n.lanes=0,dy(t,n,s,n.pendingProps);case 24:rs(n,Bt,t.memoizedState.cache)}return br(t,n,s)}function by(t,n,s){if(t!==null)if(t.memoizedProps!==n.pendingProps)Ht=!0;else{if(!ed(t,s)&&(n.flags&128)===0)return Ht=!1,QT(t,n,s);Ht=(t.flags&131072)!==0}else Ht=!1,Ge&&(n.flags&1048576)!==0&&ep(n,ul,n.index);switch(n.lanes=0,n.tag){case 16:e:{var o=n.pendingProps;if(t=va(n.elementType),n.type=t,typeof t=="function")sf(t)?(o=Sa(t,o),n.tag=1,n=yy(null,n,t,o,s)):(n.tag=0,n=Yf(null,n,t,o,s));else{if(t!=null){var h=t.$$typeof;if(h===Oe){n.tag=11,n=cy(null,n,t,o,s);break e}else if(h===N){n.tag=14,n=hy(null,n,t,o,s);break e}}throw n=it(t)||t,Error(a(306,n,""))}}return n;case 0:return Yf(t,n,n.type,n.pendingProps,s);case 1:return o=n.type,h=Sa(o,n.pendingProps),yy(t,n,o,h,s);case 3:e:{if(Pt(n,n.stateNode.containerInfo),t===null)throw Error(a(387));o=n.pendingProps;var f=n.memoizedState;h=f.element,Ef(t,n),yl(n,o,null,s);var g=n.memoizedState;if(o=g.cache,rs(n,Bt,o),o!==f.cache&&mf(n,[Bt],s,!0),pl(),o=g.element,f.isDehydrated)if(f={element:o,isDehydrated:!1,cache:g.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=_y(t,n,o,s);break e}else if(o!==h){h=fi(Error(a(424)),n),cl(h),n=_y(t,n,o,s);break e}else{switch(t=n.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(ft=yi(t.firstChild),an=n,Ge=!0,ns=null,gi=!0,s=dp(n,null,o,s),n.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling}else{if(ga(),o===h){n=br(t,n,s);break e}ln(t,n,o,s)}n=n.child}return n;case 26:return uc(t,n),t===null?(s=O_(n.type,null,n.pendingProps,null))?n.memoizedState=s:Ge||(s=n.type,t=n.pendingProps,o=Rc(Ce.current).createElement(s),o[vt]=n,o[Dt]=t,un(o,s,t),Et(o),n.stateNode=o):n.memoizedState=O_(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return Br(n),t===null&&Ge&&(o=n.stateNode=x_(n.type,n.pendingProps,Ce.current),an=n,gi=!0,h=ft,ys(n.type)?(Od=h,ft=yi(o.firstChild)):ft=h),ln(t,n,n.pendingProps.children,s),uc(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&Ge&&((h=o=ft)&&(o=bb(o,n.type,n.pendingProps,gi),o!==null?(n.stateNode=o,an=n,ft=yi(o.firstChild),gi=!1,h=!0):h=!1),h||is(n)),Br(n),h=n.type,f=n.pendingProps,g=t!==null?t.memoizedProps:null,o=f.children,Id(h,f)?o=null:g!==null&&Id(h,g)&&(n.flags|=32),n.memoizedState!==null&&(h=Cf(t,n,LT,null,null,s),Ll._currentValue=h),uc(t,n),ln(t,n,o,s),n.child;case 6:return t===null&&Ge&&((t=s=ft)&&(s=Sb(s,n.pendingProps,gi),s!==null?(n.stateNode=s,an=n,ft=null,t=!0):t=!1),t||is(n)),null;case 13:return vy(t,n,s);case 4:return Pt(n,n.stateNode.containerInfo),o=n.pendingProps,t===null?n.child=Ta(n,null,o,s):ln(t,n,o,s),n.child;case 11:return cy(t,n,n.type,n.pendingProps,s);case 7:return ln(t,n,n.pendingProps,s),n.child;case 8:return ln(t,n,n.pendingProps.children,s),n.child;case 12:return ln(t,n,n.pendingProps.children,s),n.child;case 10:return o=n.pendingProps,rs(n,n.type,o.value),ln(t,n,o.children,s),n.child;case 9:return h=n.type._context,o=n.pendingProps.children,ya(n),h=on(h),o=o(h),n.flags|=1,ln(t,n,o,s),n.child;case 14:return hy(t,n,n.type,n.pendingProps,s);case 15:return fy(t,n,n.type,n.pendingProps,s);case 19:return Ty(t,n,s);case 31:return GT(t,n,s);case 22:return dy(t,n,s,n.pendingProps);case 24:return ya(n),o=on(Bt),t===null?(h=yf(),h===null&&(h=ut,f=gf(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=s),h=f),n.memoizedState={parent:o,cache:h},vf(n),rs(n,Bt,h)):((t.lanes&s)!==0&&(Ef(t,n),yl(n,null,null,s),pl()),h=t.memoizedState,f=n.memoizedState,h.parent!==o?(h={parent:o,cache:o},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),rs(n,Bt,o)):(o=f.cache,rs(n,Bt,o),o!==h.cache&&mf(n,[Bt],s,!0))),ln(t,n,n.pendingProps.children,s),n.child;case 29:throw n.pendingProps}throw Error(a(156,n.tag))}function Sr(t){t.flags|=4}function td(t,n,s,o,h){if((n=(t.mode&32)!==0)&&(n=!1),n){if(t.flags|=16777216,(h&335544128)===h)if(t.stateNode.complete)t.flags|=8192;else if(Xy())t.flags|=8192;else throw Ea=Ku,_f}else t.flags&=-16777217}function Sy(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!P_(n))if(Xy())t.flags|=8192;else throw Ea=Ku,_f}function hc(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?ii():536870912,t.lanes|=n,yo|=n)}function Sl(t,n){if(!Ge)switch(t.tailMode){case"hidden":n=t.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?t.tail=null:s.sibling=null;break;case"collapsed":s=t.tail;for(var o=null;s!==null;)s.alternate!==null&&(o=s),s=s.sibling;o===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:o.sibling=null}}function dt(t){var n=t.alternate!==null&&t.alternate.child===t.child,s=0,o=0;if(n)for(var h=t.child;h!==null;)s|=h.lanes|h.childLanes,o|=h.subtreeFlags&65011712,o|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)s|=h.lanes|h.childLanes,o|=h.subtreeFlags,o|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=o,t.childLanes=s,n}function YT(t,n,s){var o=n.pendingProps;switch(uf(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return dt(n),null;case 1:return dt(n),null;case 3:return s=n.stateNode,o=null,t!==null&&(o=t.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),vr(Bt),ht(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(t===null||t.child===null)&&(io(n)?Sr(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,hf())),dt(n),null;case 26:var h=n.type,f=n.memoizedState;return t===null?(Sr(n),f!==null?(dt(n),Sy(n,f)):(dt(n),td(n,h,null,o,s))):f?f!==t.memoizedState?(Sr(n),dt(n),Sy(n,f)):(dt(n),n.flags&=-16777217):(t=t.memoizedProps,t!==o&&Sr(n),dt(n),td(n,h,t,o,s)),null;case 27:if(Hs(n),s=Ce.current,h=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==o&&Sr(n);else{if(!o){if(n.stateNode===null)throw Error(a(166));return dt(n),null}t=oe.current,io(n)?np(n):(t=x_(h,o,s),n.stateNode=t,Sr(n))}return dt(n),null;case 5:if(Hs(n),h=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==o&&Sr(n);else{if(!o){if(n.stateNode===null)throw Error(a(166));return dt(n),null}if(f=oe.current,io(n))np(n);else{var g=Rc(Ce.current);switch(f){case 1:f=g.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:f=g.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":f=g.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":f=g.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":f=g.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof o.is=="string"?g.createElement("select",{is:o.is}):g.createElement("select"),o.multiple?f.multiple=!0:o.size&&(f.size=o.size);break;default:f=typeof o.is=="string"?g.createElement(h,{is:o.is}):g.createElement(h)}}f[vt]=n,f[Dt]=o;e:for(g=n.child;g!==null;){if(g.tag===5||g.tag===6)f.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===n)break e;for(;g.sibling===null;){if(g.return===null||g.return===n)break e;g=g.return}g.sibling.return=g.return,g=g.sibling}n.stateNode=f;e:switch(un(f,h,o),h){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break e;case"img":o=!0;break e;default:o=!1}o&&Sr(n)}}return dt(n),td(n,n.type,t===null?null:t.memoizedProps,n.pendingProps,s),null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==o&&Sr(n);else{if(typeof o!="string"&&n.stateNode===null)throw Error(a(166));if(t=Ce.current,io(n)){if(t=n.stateNode,s=n.memoizedProps,o=null,h=an,h!==null)switch(h.tag){case 27:case 5:o=h.memoizedProps}t[vt]=n,t=!!(t.nodeValue===s||o!==null&&o.suppressHydrationWarning===!0||v_(t.nodeValue,s)),t||is(n,!0)}else t=Rc(t).createTextNode(o),t[vt]=n,n.stateNode=t}return dt(n),null;case 31:if(s=n.memoizedState,t===null||t.memoizedState!==null){if(o=io(n),s!==null){if(t===null){if(!o)throw Error(a(318));if(t=n.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(557));t[vt]=n}else ga(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;dt(n),t=!1}else s=hf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=s),t=!0;if(!t)return n.flags&256?($n(n),n):($n(n),null);if((n.flags&128)!==0)throw Error(a(558))}return dt(n),null;case 13:if(o=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=io(n),o!==null&&o.dehydrated!==null){if(t===null){if(!h)throw Error(a(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(a(317));h[vt]=n}else ga(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;dt(n),h=!1}else h=hf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?($n(n),n):($n(n),null)}return $n(n),(n.flags&128)!==0?(n.lanes=s,n):(s=o!==null,t=t!==null&&t.memoizedState!==null,s&&(o=n.child,h=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(h=o.alternate.memoizedState.cachePool.pool),f=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),f!==h&&(o.flags|=2048)),s!==t&&s&&(n.child.flags|=8192),hc(n,n.updateQueue),dt(n),null);case 4:return ht(),t===null&&Sd(n.stateNode.containerInfo),dt(n),null;case 10:return vr(n.type),dt(n),null;case 19:if($(Vt),o=n.memoizedState,o===null)return dt(n),null;if(h=(n.flags&128)!==0,f=o.rendering,f===null)if(h)Sl(o,!1);else{if(Ct!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(f=Zu(t),f!==null){for(n.flags|=128,Sl(o,!1),t=f.updateQueue,n.updateQueue=t,hc(n,t),n.subtreeFlags=0,t=s,s=n.child;s!==null;)Jg(s,t),s=s.sibling;return ae(Vt,Vt.current&1|2),Ge&&yr(n,o.treeForkCount),n.child}t=t.sibling}o.tail!==null&&Jt()>pc&&(n.flags|=128,h=!0,Sl(o,!1),n.lanes=4194304)}else{if(!h)if(t=Zu(f),t!==null){if(n.flags|=128,h=!0,t=t.updateQueue,n.updateQueue=t,hc(n,t),Sl(o,!0),o.tail===null&&o.tailMode==="hidden"&&!f.alternate&&!Ge)return dt(n),null}else 2*Jt()-o.renderingStartTime>pc&&s!==536870912&&(n.flags|=128,h=!0,Sl(o,!1),n.lanes=4194304);o.isBackwards?(f.sibling=n.child,n.child=f):(t=o.last,t!==null?t.sibling=f:n.child=f,o.last=f)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Jt(),t.sibling=null,s=Vt.current,ae(Vt,h?s&1|2:s&1),Ge&&yr(n,o.treeForkCount),t):(dt(n),null);case 22:case 23:return $n(n),Af(),o=n.memoizedState!==null,t!==null?t.memoizedState!==null!==o&&(n.flags|=8192):o&&(n.flags|=8192),o?(s&536870912)!==0&&(n.flags&128)===0&&(dt(n),n.subtreeFlags&6&&(n.flags|=8192)):dt(n),s=n.updateQueue,s!==null&&hc(n,s.retryQueue),s=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),o=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),o!==s&&(n.flags|=2048),t!==null&&$(_a),null;case 24:return s=null,t!==null&&(s=t.memoizedState.cache),n.memoizedState.cache!==s&&(n.flags|=2048),vr(Bt),dt(n),null;case 25:return null;case 30:return null}throw Error(a(156,n.tag))}function KT(t,n){switch(uf(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return vr(Bt),ht(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return Hs(n),null;case 31:if(n.memoizedState!==null){if($n(n),n.alternate===null)throw Error(a(340));ga()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 13:if($n(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(a(340));ga()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return $(Vt),null;case 4:return ht(),null;case 10:return vr(n.type),null;case 22:case 23:return $n(n),Af(),t!==null&&$(_a),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return vr(Bt),null;case 25:return null;default:return null}}function Ay(t,n){switch(uf(n),n.tag){case 3:vr(Bt),ht();break;case 26:case 27:case 5:Hs(n);break;case 4:ht();break;case 31:n.memoizedState!==null&&$n(n);break;case 13:$n(n);break;case 19:$(Vt);break;case 10:vr(n.type);break;case 22:case 23:$n(n),Af(),t!==null&&$(_a);break;case 24:vr(Bt)}}function Al(t,n){try{var s=n.updateQueue,o=s!==null?s.lastEffect:null;if(o!==null){var h=o.next;s=h;do{if((s.tag&t)===t){o=void 0;var f=s.create,g=s.inst;o=f(),g.destroy=o}s=s.next}while(s!==h)}}catch(E){nt(n,n.return,E)}}function cs(t,n,s){try{var o=n.updateQueue,h=o!==null?o.lastEffect:null;if(h!==null){var f=h.next;o=f;do{if((o.tag&t)===t){var g=o.inst,E=g.destroy;if(E!==void 0){g.destroy=void 0,h=n;var C=s,j=E;try{j()}catch(Q){nt(h,C,Q)}}}o=o.next}while(o!==f)}}catch(Q){nt(n,n.return,Q)}}function wy(t){var n=t.updateQueue;if(n!==null){var s=t.stateNode;try{gp(n,s)}catch(o){nt(t,t.return,o)}}}function Ry(t,n,s){s.props=Sa(t.type,t.memoizedProps),s.state=t.memoizedState;try{s.componentWillUnmount()}catch(o){nt(t,n,o)}}function wl(t,n){try{var s=t.ref;if(s!==null){switch(t.tag){case 26:case 27:case 5:var o=t.stateNode;break;case 30:o=t.stateNode;break;default:o=t.stateNode}typeof s=="function"?t.refCleanup=s(o):s.current=o}}catch(h){nt(t,n,h)}}function Xi(t,n){var s=t.ref,o=t.refCleanup;if(s!==null)if(typeof o=="function")try{o()}catch(h){nt(t,n,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(h){nt(t,n,h)}else s.current=null}function Cy(t){var n=t.type,s=t.memoizedProps,o=t.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":s.autoFocus&&o.focus();break e;case"img":s.src?o.src=s.src:s.srcSet&&(o.srcset=s.srcSet)}}catch(h){nt(t,t.return,h)}}function nd(t,n,s){try{var o=t.stateNode;pb(o,t.type,s,n),o[Dt]=n}catch(h){nt(t,t.return,h)}}function Iy(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&ys(t.type)||t.tag===4}function id(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Iy(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&ys(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function rd(t,n,s){var o=t.tag;if(o===5||o===6)t=t.stateNode,n?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(t,n):(n=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,n.appendChild(t),s=s._reactRootContainer,s!=null||n.onclick!==null||(n.onclick=ue));else if(o!==4&&(o===27&&ys(t.type)&&(s=t.stateNode,n=null),t=t.child,t!==null))for(rd(t,n,s),t=t.sibling;t!==null;)rd(t,n,s),t=t.sibling}function fc(t,n,s){var o=t.tag;if(o===5||o===6)t=t.stateNode,n?s.insertBefore(t,n):s.appendChild(t);else if(o!==4&&(o===27&&ys(t.type)&&(s=t.stateNode),t=t.child,t!==null))for(fc(t,n,s),t=t.sibling;t!==null;)fc(t,n,s),t=t.sibling}function Ny(t){var n=t.stateNode,s=t.memoizedProps;try{for(var o=t.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);un(n,o,s),n[vt]=t,n[Dt]=s}catch(f){nt(t,t.return,f)}}var Ar=!1,Ft=!1,sd=!1,xy=typeof WeakSet=="function"?WeakSet:Set,en=null;function XT(t,n){if(t=t.containerInfo,Rd=Oc,t=qg(t),Jh(t)){if("selectionStart"in t)var s={start:t.selectionStart,end:t.selectionEnd};else e:{s=(s=t.ownerDocument)&&s.defaultView||window;var o=s.getSelection&&s.getSelection();if(o&&o.rangeCount!==0){s=o.anchorNode;var h=o.anchorOffset,f=o.focusNode;o=o.focusOffset;try{s.nodeType,f.nodeType}catch{s=null;break e}var g=0,E=-1,C=-1,j=0,Q=0,J=t,B=null;t:for(;;){for(var F;J!==s||h!==0&&J.nodeType!==3||(E=g+h),J!==f||o!==0&&J.nodeType!==3||(C=g+o),J.nodeType===3&&(g+=J.nodeValue.length),(F=J.firstChild)!==null;)B=J,J=F;for(;;){if(J===t)break t;if(B===s&&++j===h&&(E=g),B===f&&++Q===o&&(C=g),(F=J.nextSibling)!==null)break;J=B,B=J.parentNode}J=F}s=E===-1||C===-1?null:{start:E,end:C}}else s=null}s=s||{start:0,end:0}}else s=null;for(Cd={focusedElem:t,selectionRange:s},Oc=!1,en=n;en!==null;)if(n=en,t=n.child,(n.subtreeFlags&1028)!==0&&t!==null)t.return=n,en=t;else for(;en!==null;){switch(n=en,f=n.alternate,t=n.flags,n.tag){case 0:if((t&4)!==0&&(t=n.updateQueue,t=t!==null?t.events:null,t!==null))for(s=0;s<t.length;s++)h=t[s],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,s=n,h=f.memoizedProps,f=f.memoizedState,o=s.stateNode;try{var fe=Sa(s.type,h);t=o.getSnapshotBeforeUpdate(fe,f),o.__reactInternalSnapshotBeforeUpdate=t}catch(ve){nt(s,s.return,ve)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,s=t.nodeType,s===9)xd(t);else if(s===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":xd(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(a(163))}if(t=n.sibling,t!==null){t.return=n.return,en=t;break}en=n.return}}function Dy(t,n,s){var o=s.flags;switch(s.tag){case 0:case 11:case 15:Rr(t,s),o&4&&Al(5,s);break;case 1:if(Rr(t,s),o&4)if(t=s.stateNode,n===null)try{t.componentDidMount()}catch(g){nt(s,s.return,g)}else{var h=Sa(s.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(h,n,t.__reactInternalSnapshotBeforeUpdate)}catch(g){nt(s,s.return,g)}}o&64&&wy(s),o&512&&wl(s,s.return);break;case 3:if(Rr(t,s),o&64&&(t=s.updateQueue,t!==null)){if(n=null,s.child!==null)switch(s.child.tag){case 27:case 5:n=s.child.stateNode;break;case 1:n=s.child.stateNode}try{gp(t,n)}catch(g){nt(s,s.return,g)}}break;case 27:n===null&&o&4&&Ny(s);case 26:case 5:Rr(t,s),n===null&&o&4&&Cy(s),o&512&&wl(s,s.return);break;case 12:Rr(t,s);break;case 31:Rr(t,s),o&4&&Vy(t,s);break;case 13:Rr(t,s),o&4&&ky(t,s),o&64&&(t=s.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(s=rb.bind(null,s),Ab(t,s))));break;case 22:if(o=s.memoizedState!==null||Ar,!o){n=n!==null&&n.memoizedState!==null||Ft,h=Ar;var f=Ft;Ar=o,(Ft=n)&&!f?Cr(t,s,(s.subtreeFlags&8772)!==0):Rr(t,s),Ar=h,Ft=f}break;case 30:break;default:Rr(t,s)}}function My(t){var n=t.alternate;n!==null&&(t.alternate=null,My(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&Pi(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var yt=null,Vn=!1;function wr(t,n,s){for(s=s.child;s!==null;)Oy(t,n,s),s=s.sibling}function Oy(t,n,s){if(Kt&&typeof Kt.onCommitFiberUnmount=="function")try{Kt.onCommitFiberUnmount(Sn,s)}catch{}switch(s.tag){case 26:Ft||Xi(s,n),wr(t,n,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:Ft||Xi(s,n);var o=yt,h=Vn;ys(s.type)&&(yt=s.stateNode,Vn=!1),wr(t,n,s),Vl(s.stateNode),yt=o,Vn=h;break;case 5:Ft||Xi(s,n);case 6:if(o=yt,h=Vn,yt=null,wr(t,n,s),yt=o,Vn=h,yt!==null)if(Vn)try{(yt.nodeType===9?yt.body:yt.nodeName==="HTML"?yt.ownerDocument.body:yt).removeChild(s.stateNode)}catch(f){nt(s,n,f)}else try{yt.removeChild(s.stateNode)}catch(f){nt(s,n,f)}break;case 18:yt!==null&&(Vn?(t=yt,w_(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,s.stateNode),wo(t)):w_(yt,s.stateNode));break;case 4:o=yt,h=Vn,yt=s.stateNode.containerInfo,Vn=!0,wr(t,n,s),yt=o,Vn=h;break;case 0:case 11:case 14:case 15:cs(2,s,n),Ft||cs(4,s,n),wr(t,n,s);break;case 1:Ft||(Xi(s,n),o=s.stateNode,typeof o.componentWillUnmount=="function"&&Ry(s,n,o)),wr(t,n,s);break;case 21:wr(t,n,s);break;case 22:Ft=(o=Ft)||s.memoizedState!==null,wr(t,n,s),Ft=o;break;default:wr(t,n,s)}}function Vy(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{wo(t)}catch(s){nt(n,n.return,s)}}}function ky(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{wo(t)}catch(s){nt(n,n.return,s)}}function $T(t){switch(t.tag){case 31:case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new xy),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new xy),n;default:throw Error(a(435,t.tag))}}function dc(t,n){var s=$T(t);n.forEach(function(o){if(!s.has(o)){s.add(o);var h=sb.bind(null,t,o);o.then(h,h)}})}function kn(t,n){var s=n.deletions;if(s!==null)for(var o=0;o<s.length;o++){var h=s[o],f=t,g=n,E=g;e:for(;E!==null;){switch(E.tag){case 27:if(ys(E.type)){yt=E.stateNode,Vn=!1;break e}break;case 5:yt=E.stateNode,Vn=!1;break e;case 3:case 4:yt=E.stateNode.containerInfo,Vn=!0;break e}E=E.return}if(yt===null)throw Error(a(160));Oy(f,g,h),yt=null,Vn=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)Uy(n,t),n=n.sibling}var Di=null;function Uy(t,n){var s=t.alternate,o=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:kn(n,t),Un(t),o&4&&(cs(3,t,t.return),Al(3,t),cs(5,t,t.return));break;case 1:kn(n,t),Un(t),o&512&&(Ft||s===null||Xi(s,s.return)),o&64&&Ar&&(t=t.updateQueue,t!==null&&(o=t.callbacks,o!==null&&(s=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=s===null?o:s.concat(o))));break;case 26:var h=Di;if(kn(n,t),Un(t),o&512&&(Ft||s===null||Xi(s,s.return)),o&4){var f=s!==null?s.memoizedState:null;if(o=t.memoizedState,s===null)if(o===null)if(t.stateNode===null){e:{o=t.type,s=t.memoizedProps,h=h.ownerDocument||h;t:switch(o){case"title":f=h.getElementsByTagName("title")[0],(!f||f[si]||f[vt]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(o),h.head.insertBefore(f,h.querySelector("head > title"))),un(f,o,s),f[vt]=t,Et(f),o=f;break e;case"link":var g=U_("link","href",h).get(o+(s.href||""));if(g){for(var E=0;E<g.length;E++)if(f=g[E],f.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&f.getAttribute("rel")===(s.rel==null?null:s.rel)&&f.getAttribute("title")===(s.title==null?null:s.title)&&f.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){g.splice(E,1);break t}}f=h.createElement(o),un(f,o,s),h.head.appendChild(f);break;case"meta":if(g=U_("meta","content",h).get(o+(s.content||""))){for(E=0;E<g.length;E++)if(f=g[E],f.getAttribute("content")===(s.content==null?null:""+s.content)&&f.getAttribute("name")===(s.name==null?null:s.name)&&f.getAttribute("property")===(s.property==null?null:s.property)&&f.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&f.getAttribute("charset")===(s.charSet==null?null:s.charSet)){g.splice(E,1);break t}}f=h.createElement(o),un(f,o,s),h.head.appendChild(f);break;default:throw Error(a(468,o))}f[vt]=t,Et(f),o=f}t.stateNode=o}else L_(h,t.type,t.stateNode);else t.stateNode=k_(h,o,t.memoizedProps);else f!==o?(f===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):f.count--,o===null?L_(h,t.type,t.stateNode):k_(h,o,t.memoizedProps)):o===null&&t.stateNode!==null&&nd(t,t.memoizedProps,s.memoizedProps)}break;case 27:kn(n,t),Un(t),o&512&&(Ft||s===null||Xi(s,s.return)),s!==null&&o&4&&nd(t,t.memoizedProps,s.memoizedProps);break;case 5:if(kn(n,t),Un(t),o&512&&(Ft||s===null||Xi(s,s.return)),t.flags&32){h=t.stateNode;try{Mt(h,"")}catch(fe){nt(t,t.return,fe)}}o&4&&t.stateNode!=null&&(h=t.memoizedProps,nd(t,h,s!==null?s.memoizedProps:h)),o&1024&&(sd=!0);break;case 6:if(kn(n,t),Un(t),o&4){if(t.stateNode===null)throw Error(a(162));o=t.memoizedProps,s=t.stateNode;try{s.nodeValue=o}catch(fe){nt(t,t.return,fe)}}break;case 3:if(Nc=null,h=Di,Di=Cc(n.containerInfo),kn(n,t),Di=h,Un(t),o&4&&s!==null&&s.memoizedState.isDehydrated)try{wo(n.containerInfo)}catch(fe){nt(t,t.return,fe)}sd&&(sd=!1,Ly(t));break;case 4:o=Di,Di=Cc(t.stateNode.containerInfo),kn(n,t),Un(t),Di=o;break;case 12:kn(n,t),Un(t);break;case 31:kn(n,t),Un(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,dc(t,o)));break;case 13:kn(n,t),Un(t),t.child.flags&8192&&t.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(gc=Jt()),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,dc(t,o)));break;case 22:h=t.memoizedState!==null;var C=s!==null&&s.memoizedState!==null,j=Ar,Q=Ft;if(Ar=j||h,Ft=Q||C,kn(n,t),Ft=Q,Ar=j,Un(t),o&8192)e:for(n=t.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(s===null||C||Ar||Ft||Aa(t)),s=null,n=t;;){if(n.tag===5||n.tag===26){if(s===null){C=s=n;try{if(f=C.stateNode,h)g=f.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none";else{E=C.stateNode;var J=C.memoizedProps.style,B=J!=null&&J.hasOwnProperty("display")?J.display:null;E.style.display=B==null||typeof B=="boolean"?"":(""+B).trim()}}catch(fe){nt(C,C.return,fe)}}}else if(n.tag===6){if(s===null){C=n;try{C.stateNode.nodeValue=h?"":C.memoizedProps}catch(fe){nt(C,C.return,fe)}}}else if(n.tag===18){if(s===null){C=n;try{var F=C.stateNode;h?R_(F,!0):R_(C.stateNode,!1)}catch(fe){nt(C,C.return,fe)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break e;for(;n.sibling===null;){if(n.return===null||n.return===t)break e;s===n&&(s=null),n=n.return}s===n&&(s=null),n.sibling.return=n.return,n=n.sibling}o&4&&(o=t.updateQueue,o!==null&&(s=o.retryQueue,s!==null&&(o.retryQueue=null,dc(t,s))));break;case 19:kn(n,t),Un(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,dc(t,o)));break;case 30:break;case 21:break;default:kn(n,t),Un(t)}}function Un(t){var n=t.flags;if(n&2){try{for(var s,o=t.return;o!==null;){if(Iy(o)){s=o;break}o=o.return}if(s==null)throw Error(a(160));switch(s.tag){case 27:var h=s.stateNode,f=id(t);fc(t,f,h);break;case 5:var g=s.stateNode;s.flags&32&&(Mt(g,""),s.flags&=-33);var E=id(t);fc(t,E,g);break;case 3:case 4:var C=s.stateNode.containerInfo,j=id(t);rd(t,j,C);break;default:throw Error(a(161))}}catch(Q){nt(t,t.return,Q)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function Ly(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;Ly(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function Rr(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Dy(t,n.alternate,n),n=n.sibling}function Aa(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:cs(4,n,n.return),Aa(n);break;case 1:Xi(n,n.return);var s=n.stateNode;typeof s.componentWillUnmount=="function"&&Ry(n,n.return,s),Aa(n);break;case 27:Vl(n.stateNode);case 26:case 5:Xi(n,n.return),Aa(n);break;case 22:n.memoizedState===null&&Aa(n);break;case 30:Aa(n);break;default:Aa(n)}t=t.sibling}}function Cr(t,n,s){for(s=s&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var o=n.alternate,h=t,f=n,g=f.flags;switch(f.tag){case 0:case 11:case 15:Cr(h,f,s),Al(4,f);break;case 1:if(Cr(h,f,s),o=f,h=o.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(j){nt(o,o.return,j)}if(o=f,h=o.updateQueue,h!==null){var E=o.stateNode;try{var C=h.shared.hiddenCallbacks;if(C!==null)for(h.shared.hiddenCallbacks=null,h=0;h<C.length;h++)mp(C[h],E)}catch(j){nt(o,o.return,j)}}s&&g&64&&wy(f),wl(f,f.return);break;case 27:Ny(f);case 26:case 5:Cr(h,f,s),s&&o===null&&g&4&&Cy(f),wl(f,f.return);break;case 12:Cr(h,f,s);break;case 31:Cr(h,f,s),s&&g&4&&Vy(h,f);break;case 13:Cr(h,f,s),s&&g&4&&ky(h,f);break;case 22:f.memoizedState===null&&Cr(h,f,s),wl(f,f.return);break;case 30:break;default:Cr(h,f,s)}n=n.sibling}}function ad(t,n){var s=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==s&&(t!=null&&t.refCount++,s!=null&&hl(s))}function od(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&hl(t))}function Mi(t,n,s,o){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Py(t,n,s,o),n=n.sibling}function Py(t,n,s,o){var h=n.flags;switch(n.tag){case 0:case 11:case 15:Mi(t,n,s,o),h&2048&&Al(9,n);break;case 1:Mi(t,n,s,o);break;case 3:Mi(t,n,s,o),h&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&hl(t)));break;case 12:if(h&2048){Mi(t,n,s,o),t=n.stateNode;try{var f=n.memoizedProps,g=f.id,E=f.onPostCommit;typeof E=="function"&&E(g,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(C){nt(n,n.return,C)}}else Mi(t,n,s,o);break;case 31:Mi(t,n,s,o);break;case 13:Mi(t,n,s,o);break;case 23:break;case 22:f=n.stateNode,g=n.alternate,n.memoizedState!==null?f._visibility&2?Mi(t,n,s,o):Rl(t,n):f._visibility&2?Mi(t,n,s,o):(f._visibility|=2,mo(t,n,s,o,(n.subtreeFlags&10256)!==0||!1)),h&2048&&ad(g,n);break;case 24:Mi(t,n,s,o),h&2048&&od(n.alternate,n);break;default:Mi(t,n,s,o)}}function mo(t,n,s,o,h){for(h=h&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=t,g=n,E=s,C=o,j=g.flags;switch(g.tag){case 0:case 11:case 15:mo(f,g,E,C,h),Al(8,g);break;case 23:break;case 22:var Q=g.stateNode;g.memoizedState!==null?Q._visibility&2?mo(f,g,E,C,h):Rl(f,g):(Q._visibility|=2,mo(f,g,E,C,h)),h&&j&2048&&ad(g.alternate,g);break;case 24:mo(f,g,E,C,h),h&&j&2048&&od(g.alternate,g);break;default:mo(f,g,E,C,h)}n=n.sibling}}function Rl(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var s=t,o=n,h=o.flags;switch(o.tag){case 22:Rl(s,o),h&2048&&ad(o.alternate,o);break;case 24:Rl(s,o),h&2048&&od(o.alternate,o);break;default:Rl(s,o)}n=n.sibling}}var Cl=8192;function go(t,n,s){if(t.subtreeFlags&Cl)for(t=t.child;t!==null;)zy(t,n,s),t=t.sibling}function zy(t,n,s){switch(t.tag){case 26:go(t,n,s),t.flags&Cl&&t.memoizedState!==null&&Ub(s,Di,t.memoizedState,t.memoizedProps);break;case 5:go(t,n,s);break;case 3:case 4:var o=Di;Di=Cc(t.stateNode.containerInfo),go(t,n,s),Di=o;break;case 22:t.memoizedState===null&&(o=t.alternate,o!==null&&o.memoizedState!==null?(o=Cl,Cl=16777216,go(t,n,s),Cl=o):go(t,n,s));break;default:go(t,n,s)}}function jy(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function Il(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var o=n[s];en=o,qy(o,t)}jy(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)By(t),t=t.sibling}function By(t){switch(t.tag){case 0:case 11:case 15:Il(t),t.flags&2048&&cs(9,t,t.return);break;case 3:Il(t);break;case 12:Il(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,mc(t)):Il(t);break;default:Il(t)}}function mc(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var o=n[s];en=o,qy(o,t)}jy(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:cs(8,n,n.return),mc(n);break;case 22:s=n.stateNode,s._visibility&2&&(s._visibility&=-3,mc(n));break;default:mc(n)}t=t.sibling}}function qy(t,n){for(;en!==null;){var s=en;switch(s.tag){case 0:case 11:case 15:cs(8,s,n);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var o=s.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:hl(s.memoizedState.cache)}if(o=s.child,o!==null)o.return=s,en=o;else e:for(s=t;en!==null;){o=en;var h=o.sibling,f=o.return;if(My(o),o===s){en=null;break e}if(h!==null){h.return=f,en=h;break e}en=f}}}var JT={getCacheForType:function(t){var n=on(Bt),s=n.data.get(t);return s===void 0&&(s=t(),n.data.set(t,s)),s},cacheSignal:function(){return on(Bt).controller.signal}},ZT=typeof WeakMap=="function"?WeakMap:Map,Ze=0,ut=null,Ve=null,Pe=0,tt=0,Jn=null,hs=!1,po=!1,ld=!1,Ir=0,Ct=0,fs=0,wa=0,ud=0,Zn=0,yo=0,Nl=null,Ln=null,cd=!1,gc=0,Hy=0,pc=1/0,yc=null,ds=null,Xt=0,ms=null,_o=null,Nr=0,hd=0,fd=null,Fy=null,xl=0,dd=null;function Wn(){return(Ze&2)!==0&&Pe!==0?Pe&-Pe:G.T!==null?vd():$s()}function Gy(){if(Zn===0)if((Pe&536870912)===0||Ge){var t=Li;Li<<=1,(Li&3932160)===0&&(Li=262144),Zn=t}else Zn=536870912;return t=Xn.current,t!==null&&(t.flags|=32),Zn}function Pn(t,n,s){(t===ut&&(tt===2||tt===9)||t.cancelPendingCommit!==null)&&(vo(t,0),gs(t,Pe,Zn,!1)),Wt(t,s),((Ze&2)===0||t!==ut)&&(t===ut&&((Ze&2)===0&&(wa|=s),Ct===4&&gs(t,Pe,Zn,!1)),$i(t))}function Qy(t,n,s){if((Ze&6)!==0)throw Error(a(327));var o=!s&&(n&127)===0&&(n&t.expiredLanes)===0||wn(t,n),h=o?tb(t,n):gd(t,n,!0),f=o;do{if(h===0){po&&!o&&gs(t,n,0,!1);break}else{if(s=t.current.alternate,f&&!WT(s)){h=gd(t,n,!1),f=!1;continue}if(h===2){if(f=n,t.errorRecoveryDisabledLanes&f)var g=0;else g=t.pendingLanes&-536870913,g=g!==0?g:g&536870912?536870912:0;if(g!==0){n=g;e:{var E=t;h=Nl;var C=E.current.memoizedState.isDehydrated;if(C&&(vo(E,g).flags|=256),g=gd(E,g,!1),g!==2){if(ld&&!C){E.errorRecoveryDisabledLanes|=f,wa|=f,h=4;break e}f=Ln,Ln=h,f!==null&&(Ln===null?Ln=f:Ln.push.apply(Ln,f))}h=g}if(f=!1,h!==2)continue}}if(h===1){vo(t,0),gs(t,n,0,!0);break}e:{switch(o=t,f=h,f){case 0:case 1:throw Error(a(345));case 4:if((n&4194048)!==n)break;case 6:gs(o,n,Zn,!hs);break e;case 2:Ln=null;break;case 3:case 5:break;default:throw Error(a(329))}if((n&62914560)===n&&(h=gc+300-Jt(),10<h)){if(gs(o,n,Zn,!hs),ni(o,0,!0)!==0)break e;Nr=n,o.timeoutHandle=S_(Yy.bind(null,o,s,Ln,yc,cd,n,Zn,wa,yo,hs,f,"Throttled",-0,0),h);break e}Yy(o,s,Ln,yc,cd,n,Zn,wa,yo,hs,f,null,-0,0)}}break}while(!0);$i(t)}function Yy(t,n,s,o,h,f,g,E,C,j,Q,J,B,F){if(t.timeoutHandle=-1,J=n.subtreeFlags,J&8192||(J&16785408)===16785408){J={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ue},zy(n,f,J);var fe=(f&62914560)===f?gc-Jt():(f&4194048)===f?Hy-Jt():0;if(fe=Lb(J,fe),fe!==null){Nr=f,t.cancelPendingCommit=fe(t_.bind(null,t,n,f,s,o,h,g,E,C,Q,J,null,B,F)),gs(t,f,g,!j);return}}t_(t,n,f,s,o,h,g,E,C)}function WT(t){for(var n=t;;){var s=n.tag;if((s===0||s===11||s===15)&&n.flags&16384&&(s=n.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var o=0;o<s.length;o++){var h=s[o],f=h.getSnapshot;h=h.value;try{if(!Yn(f(),h))return!1}catch{return!1}}if(s=n.child,n.subtreeFlags&16384&&s!==null)s.return=n,n=s;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function gs(t,n,s,o){n&=~ud,n&=~wa,t.suspendedLanes|=n,t.pingedLanes&=~n,o&&(t.warmLanes|=n),o=t.expirationTimes;for(var h=n;0<h;){var f=31-_t(h),g=1<<f;o[f]=-1,h&=~g}s!==0&&cr(t,s,n)}function _c(){return(Ze&6)===0?(Dl(0),!1):!0}function md(){if(Ve!==null){if(tt===0)var t=Ve.return;else t=Ve,_r=pa=null,xf(t),lo=null,dl=0,t=Ve;for(;t!==null;)Ay(t.alternate,t),t=t.return;Ve=null}}function vo(t,n){var s=t.timeoutHandle;s!==-1&&(t.timeoutHandle=-1,vb(s)),s=t.cancelPendingCommit,s!==null&&(t.cancelPendingCommit=null,s()),Nr=0,md(),ut=t,Ve=s=pr(t.current,null),Pe=n,tt=0,Jn=null,hs=!1,po=wn(t,n),ld=!1,yo=Zn=ud=wa=fs=Ct=0,Ln=Nl=null,cd=!1,(n&8)!==0&&(n|=n&32);var o=t.entangledLanes;if(o!==0)for(t=t.entanglements,o&=n;0<o;){var h=31-_t(o),f=1<<h;n|=t[h],o&=~f}return Ir=n,zu(),s}function Ky(t,n){Ne=null,G.H=Tl,n===oo||n===Yu?(n=cp(),tt=3):n===_f?(n=cp(),tt=4):tt=n===Qf?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,Jn=n,Ve===null&&(Ct=1,oc(t,fi(n,t.current)))}function Xy(){var t=Xn.current;return t===null?!0:(Pe&4194048)===Pe?pi===null:(Pe&62914560)===Pe||(Pe&536870912)!==0?t===pi:!1}function $y(){var t=G.H;return G.H=Tl,t===null?Tl:t}function Jy(){var t=G.A;return G.A=JT,t}function vc(){Ct=4,hs||(Pe&4194048)!==Pe&&Xn.current!==null||(po=!0),(fs&134217727)===0&&(wa&134217727)===0||ut===null||gs(ut,Pe,Zn,!1)}function gd(t,n,s){var o=Ze;Ze|=2;var h=$y(),f=Jy();(ut!==t||Pe!==n)&&(yc=null,vo(t,n)),n=!1;var g=Ct;e:do try{if(tt!==0&&Ve!==null){var E=Ve,C=Jn;switch(tt){case 8:md(),g=6;break e;case 3:case 2:case 9:case 6:Xn.current===null&&(n=!0);var j=tt;if(tt=0,Jn=null,Eo(t,E,C,j),s&&po){g=0;break e}break;default:j=tt,tt=0,Jn=null,Eo(t,E,C,j)}}eb(),g=Ct;break}catch(Q){Ky(t,Q)}while(!0);return n&&t.shellSuspendCounter++,_r=pa=null,Ze=o,G.H=h,G.A=f,Ve===null&&(ut=null,Pe=0,zu()),g}function eb(){for(;Ve!==null;)Zy(Ve)}function tb(t,n){var s=Ze;Ze|=2;var o=$y(),h=Jy();ut!==t||Pe!==n?(yc=null,pc=Jt()+500,vo(t,n)):po=wn(t,n);e:do try{if(tt!==0&&Ve!==null){n=Ve;var f=Jn;t:switch(tt){case 1:tt=0,Jn=null,Eo(t,n,f,1);break;case 2:case 9:if(lp(f)){tt=0,Jn=null,Wy(n);break}n=function(){tt!==2&&tt!==9||ut!==t||(tt=7),$i(t)},f.then(n,n);break e;case 3:tt=7;break e;case 4:tt=5;break e;case 7:lp(f)?(tt=0,Jn=null,Wy(n)):(tt=0,Jn=null,Eo(t,n,f,7));break;case 5:var g=null;switch(Ve.tag){case 26:g=Ve.memoizedState;case 5:case 27:var E=Ve;if(g?P_(g):E.stateNode.complete){tt=0,Jn=null;var C=E.sibling;if(C!==null)Ve=C;else{var j=E.return;j!==null?(Ve=j,Ec(j)):Ve=null}break t}}tt=0,Jn=null,Eo(t,n,f,5);break;case 6:tt=0,Jn=null,Eo(t,n,f,6);break;case 8:md(),Ct=6;break e;default:throw Error(a(462))}}nb();break}catch(Q){Ky(t,Q)}while(!0);return _r=pa=null,G.H=o,G.A=h,Ze=s,Ve!==null?0:(ut=null,Pe=0,zu(),Ct)}function nb(){for(;Ve!==null&&!Qs();)Zy(Ve)}function Zy(t){var n=by(t.alternate,t,Ir);t.memoizedProps=t.pendingProps,n===null?Ec(t):Ve=n}function Wy(t){var n=t,s=n.alternate;switch(n.tag){case 15:case 0:n=py(s,n,n.pendingProps,n.type,void 0,Pe);break;case 11:n=py(s,n,n.pendingProps,n.type.render,n.ref,Pe);break;case 5:xf(n);default:Ay(s,n),n=Ve=Jg(n,Ir),n=by(s,n,Ir)}t.memoizedProps=t.pendingProps,n===null?Ec(t):Ve=n}function Eo(t,n,s,o){_r=pa=null,xf(n),lo=null,dl=0;var h=n.return;try{if(FT(t,h,n,s,Pe)){Ct=1,oc(t,fi(s,t.current)),Ve=null;return}}catch(f){if(h!==null)throw Ve=h,f;Ct=1,oc(t,fi(s,t.current)),Ve=null;return}n.flags&32768?(Ge||o===1?t=!0:po||(Pe&536870912)!==0?t=!1:(hs=t=!0,(o===2||o===9||o===3||o===6)&&(o=Xn.current,o!==null&&o.tag===13&&(o.flags|=16384))),e_(n,t)):Ec(n)}function Ec(t){var n=t;do{if((n.flags&32768)!==0){e_(n,hs);return}t=n.return;var s=YT(n.alternate,n,Ir);if(s!==null){Ve=s;return}if(n=n.sibling,n!==null){Ve=n;return}Ve=n=t}while(n!==null);Ct===0&&(Ct=5)}function e_(t,n){do{var s=KT(t.alternate,t);if(s!==null){s.flags&=32767,Ve=s;return}if(s=t.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!n&&(t=t.sibling,t!==null)){Ve=t;return}Ve=t=s}while(t!==null);Ct=6,Ve=null}function t_(t,n,s,o,h,f,g,E,C){t.cancelPendingCommit=null;do Tc();while(Xt!==0);if((Ze&6)!==0)throw Error(a(327));if(n!==null){if(n===t.current)throw Error(a(177));if(f=n.lanes|n.childLanes,f|=nf,qa(t,s,f,g,E,C),t===ut&&(Ve=ut=null,Pe=0),_o=n,ms=t,Nr=s,hd=f,fd=h,Fy=o,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,ab(mn,function(){return a_(),null})):(t.callbackNode=null,t.callbackPriority=0),o=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||o){o=G.T,G.T=null,h=se.p,se.p=2,g=Ze,Ze|=4;try{XT(t,n,s)}finally{Ze=g,se.p=h,G.T=o}}Xt=1,n_(),i_(),r_()}}function n_(){if(Xt===1){Xt=0;var t=ms,n=_o,s=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||s){s=G.T,G.T=null;var o=se.p;se.p=2;var h=Ze;Ze|=4;try{Uy(n,t);var f=Cd,g=qg(t.containerInfo),E=f.focusedElem,C=f.selectionRange;if(g!==E&&E&&E.ownerDocument&&Bg(E.ownerDocument.documentElement,E)){if(C!==null&&Jh(E)){var j=C.start,Q=C.end;if(Q===void 0&&(Q=j),"selectionStart"in E)E.selectionStart=j,E.selectionEnd=Math.min(Q,E.value.length);else{var J=E.ownerDocument||document,B=J&&J.defaultView||window;if(B.getSelection){var F=B.getSelection(),fe=E.textContent.length,ve=Math.min(C.start,fe),lt=C.end===void 0?ve:Math.min(C.end,fe);!F.extend&&ve>lt&&(g=lt,lt=ve,ve=g);var U=jg(E,ve),M=jg(E,lt);if(U&&M&&(F.rangeCount!==1||F.anchorNode!==U.node||F.anchorOffset!==U.offset||F.focusNode!==M.node||F.focusOffset!==M.offset)){var z=J.createRange();z.setStart(U.node,U.offset),F.removeAllRanges(),ve>lt?(F.addRange(z),F.extend(M.node,M.offset)):(z.setEnd(M.node,M.offset),F.addRange(z))}}}}for(J=[],F=E;F=F.parentNode;)F.nodeType===1&&J.push({element:F,left:F.scrollLeft,top:F.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<J.length;E++){var K=J[E];K.element.scrollLeft=K.left,K.element.scrollTop=K.top}}Oc=!!Rd,Cd=Rd=null}finally{Ze=h,se.p=o,G.T=s}}t.current=n,Xt=2}}function i_(){if(Xt===2){Xt=0;var t=ms,n=_o,s=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||s){s=G.T,G.T=null;var o=se.p;se.p=2;var h=Ze;Ze|=4;try{Dy(t,n.alternate,n)}finally{Ze=h,se.p=o,G.T=s}}Xt=3}}function r_(){if(Xt===4||Xt===3){Xt=0,Ys();var t=ms,n=_o,s=Nr,o=Fy;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Xt=5:(Xt=0,_o=ms=null,s_(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(ds=null),ri(s),n=n.stateNode,Kt&&typeof Kt.onCommitFiberRoot=="function")try{Kt.onCommitFiberRoot(Sn,n,void 0,(n.current.flags&128)===128)}catch{}if(o!==null){n=G.T,h=se.p,se.p=2,G.T=null;try{for(var f=t.onRecoverableError,g=0;g<o.length;g++){var E=o[g];f(E.value,{componentStack:E.stack})}}finally{G.T=n,se.p=h}}(Nr&3)!==0&&Tc(),$i(t),h=t.pendingLanes,(s&261930)!==0&&(h&42)!==0?t===dd?xl++:(xl=0,dd=t):xl=0,Dl(0)}}function s_(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,hl(n)))}function Tc(){return n_(),i_(),r_(),a_()}function a_(){if(Xt!==5)return!1;var t=ms,n=hd;hd=0;var s=ri(Nr),o=G.T,h=se.p;try{se.p=32>s?32:s,G.T=null,s=fd,fd=null;var f=ms,g=Nr;if(Xt=0,_o=ms=null,Nr=0,(Ze&6)!==0)throw Error(a(331));var E=Ze;if(Ze|=4,By(f.current),Py(f,f.current,g,s),Ze=E,Dl(0,!1),Kt&&typeof Kt.onPostCommitFiberRoot=="function")try{Kt.onPostCommitFiberRoot(Sn,f)}catch{}return!0}finally{se.p=h,G.T=o,s_(t,n)}}function o_(t,n,s){n=fi(s,n),n=Gf(t.stateNode,n,2),t=os(t,n,2),t!==null&&(Wt(t,2),$i(t))}function nt(t,n,s){if(t.tag===3)o_(t,t,s);else for(;n!==null;){if(n.tag===3){o_(n,t,s);break}else if(n.tag===1){var o=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(ds===null||!ds.has(o))){t=fi(s,t),s=ly(2),o=os(n,s,2),o!==null&&(uy(s,o,n,t),Wt(o,2),$i(o));break}}n=n.return}}function pd(t,n,s){var o=t.pingCache;if(o===null){o=t.pingCache=new ZT;var h=new Set;o.set(n,h)}else h=o.get(n),h===void 0&&(h=new Set,o.set(n,h));h.has(s)||(ld=!0,h.add(s),t=ib.bind(null,t,n,s),n.then(t,t))}function ib(t,n,s){var o=t.pingCache;o!==null&&o.delete(n),t.pingedLanes|=t.suspendedLanes&s,t.warmLanes&=~s,ut===t&&(Pe&s)===s&&(Ct===4||Ct===3&&(Pe&62914560)===Pe&&300>Jt()-gc?(Ze&2)===0&&vo(t,0):ud|=s,yo===Pe&&(yo=0)),$i(t)}function l_(t,n){n===0&&(n=ii()),t=da(t,n),t!==null&&(Wt(t,n),$i(t))}function rb(t){var n=t.memoizedState,s=0;n!==null&&(s=n.retryLane),l_(t,s)}function sb(t,n){var s=0;switch(t.tag){case 31:case 13:var o=t.stateNode,h=t.memoizedState;h!==null&&(s=h.retryLane);break;case 19:o=t.stateNode;break;case 22:o=t.stateNode._retryCache;break;default:throw Error(a(314))}o!==null&&o.delete(n),l_(t,s)}function ab(t,n){return Nt(t,n)}var bc=null,To=null,yd=!1,Sc=!1,_d=!1,ps=0;function $i(t){t!==To&&t.next===null&&(To===null?bc=To=t:To=To.next=t),Sc=!0,yd||(yd=!0,lb())}function Dl(t,n){if(!_d&&Sc){_d=!0;do for(var s=!1,o=bc;o!==null;){if(t!==0){var h=o.pendingLanes;if(h===0)var f=0;else{var g=o.suspendedLanes,E=o.pingedLanes;f=(1<<31-_t(42|t)+1)-1,f&=h&~(g&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(s=!0,f_(o,f))}else f=Pe,f=ni(o,o===ut?f:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(f&3)===0||wn(o,f)||(s=!0,f_(o,f));o=o.next}while(s);_d=!1}}function ob(){u_()}function u_(){Sc=yd=!1;var t=0;ps!==0&&_b()&&(t=ps);for(var n=Jt(),s=null,o=bc;o!==null;){var h=o.next,f=c_(o,n);f===0?(o.next=null,s===null?bc=h:s.next=h,h===null&&(To=s)):(s=o,(t!==0||(f&3)!==0)&&(Sc=!0)),o=h}Xt!==0&&Xt!==5||Dl(t),ps!==0&&(ps=0)}function c_(t,n){for(var s=t.suspendedLanes,o=t.pingedLanes,h=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var g=31-_t(f),E=1<<g,C=h[g];C===-1?((E&s)===0||(E&o)!==0)&&(h[g]=xt(E,n)):C<=n&&(t.expiredLanes|=E),f&=~E}if(n=ut,s=Pe,s=ni(t,t===n?s:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o=t.callbackNode,s===0||t===n&&(tt===2||tt===9)||t.cancelPendingCommit!==null)return o!==null&&o!==null&&ti(o),t.callbackNode=null,t.callbackPriority=0;if((s&3)===0||wn(t,s)){if(n=s&-s,n===t.callbackPriority)return n;switch(o!==null&&ti(o),ri(s)){case 2:case 8:s=Hr;break;case 32:s=mn;break;case 268435456:s=Ui;break;default:s=mn}return o=h_.bind(null,t),s=Nt(s,o),t.callbackPriority=n,t.callbackNode=s,n}return o!==null&&o!==null&&ti(o),t.callbackPriority=2,t.callbackNode=null,2}function h_(t,n){if(Xt!==0&&Xt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var s=t.callbackNode;if(Tc()&&t.callbackNode!==s)return null;var o=Pe;return o=ni(t,t===ut?o:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o===0?null:(Qy(t,o,n),c_(t,Jt()),t.callbackNode!=null&&t.callbackNode===s?h_.bind(null,t):null)}function f_(t,n){if(Tc())return null;Qy(t,n,!0)}function lb(){Eb(function(){(Ze&6)!==0?Nt(Ks,ob):u_()})}function vd(){if(ps===0){var t=so;t===0&&(t=qn,qn<<=1,(qn&261888)===0&&(qn=256)),ps=t}return ps}function d_(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:le(""+t)}function m_(t,n){var s=n.ownerDocument.createElement("input");return s.name=n.name,s.value=n.value,t.id&&s.setAttribute("form",t.id),n.parentNode.insertBefore(s,n),t=new FormData(t),s.parentNode.removeChild(s),t}function ub(t,n,s,o,h){if(n==="submit"&&s&&s.stateNode===h){var f=d_((h[Dt]||null).action),g=o.submitter;g&&(n=(n=g[Dt]||null)?d_(n.formAction):g.getAttribute("formAction"),n!==null&&(f=n,g=null));var E=new Hi("action","action",null,o,h);t.push({event:E,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(ps!==0){var C=g?m_(h,g):new FormData(h);zf(s,{pending:!0,data:C,method:h.method,action:f},null,C)}}else typeof f=="function"&&(E.preventDefault(),C=g?m_(h,g):new FormData(h),zf(s,{pending:!0,data:C,method:h.method,action:f},f,C))},currentTarget:h}]})}}for(var Ed=0;Ed<tf.length;Ed++){var Td=tf[Ed],cb=Td.toLowerCase(),hb=Td[0].toUpperCase()+Td.slice(1);xi(cb,"on"+hb)}xi(Gg,"onAnimationEnd"),xi(Qg,"onAnimationIteration"),xi(Yg,"onAnimationStart"),xi("dblclick","onDoubleClick"),xi("focusin","onFocus"),xi("focusout","onBlur"),xi(CT,"onTransitionRun"),xi(IT,"onTransitionStart"),xi(NT,"onTransitionCancel"),xi(Kg,"onTransitionEnd"),Qn("onMouseEnter",["mouseout","mouseover"]),Qn("onMouseLeave",["mouseout","mouseover"]),Qn("onPointerEnter",["pointerout","pointerover"]),Qn("onPointerLeave",["pointerout","pointerover"]),li("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),li("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),li("onBeforeInput",["compositionend","keypress","textInput","paste"]),li("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),li("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),li("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ml="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),fb=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ml));function g_(t,n){n=(n&4)!==0;for(var s=0;s<t.length;s++){var o=t[s],h=o.event;o=o.listeners;e:{var f=void 0;if(n)for(var g=o.length-1;0<=g;g--){var E=o[g],C=E.instance,j=E.currentTarget;if(E=E.listener,C!==f&&h.isPropagationStopped())break e;f=E,h.currentTarget=j;try{f(h)}catch(Q){Pu(Q)}h.currentTarget=null,f=C}else for(g=0;g<o.length;g++){if(E=o[g],C=E.instance,j=E.currentTarget,E=E.listener,C!==f&&h.isPropagationStopped())break e;f=E,h.currentTarget=j;try{f(h)}catch(Q){Pu(Q)}h.currentTarget=null,f=C}}}}function ke(t,n){var s=n[hr];s===void 0&&(s=n[hr]=new Set);var o=t+"__bubble";s.has(o)||(p_(n,t,2,!1),s.add(o))}function bd(t,n,s){var o=0;n&&(o|=4),p_(s,t,o,n)}var Ac="_reactListening"+Math.random().toString(36).slice(2);function Sd(t){if(!t[Ac]){t[Ac]=!0,Kr.forEach(function(s){s!=="selectionchange"&&(fb.has(s)||bd(s,!1,t),bd(s,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[Ac]||(n[Ac]=!0,bd("selectionchange",!1,n))}}function p_(t,n,s,o){switch(G_(n)){case 2:var h=jb;break;case 8:h=Bb;break;default:h=Pd}s=h.bind(null,n,s,t),h=void 0,!sa||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),o?h!==void 0?t.addEventListener(n,s,{capture:!0,passive:h}):t.addEventListener(n,s,!0):h!==void 0?t.addEventListener(n,s,{passive:h}):t.addEventListener(n,s,!1)}function Ad(t,n,s,o,h){var f=o;if((n&1)===0&&(n&2)===0&&o!==null)e:for(;;){if(o===null)return;var g=o.tag;if(g===3||g===4){var E=o.stateNode.containerInfo;if(E===h)break;if(g===4)for(g=o.return;g!==null;){var C=g.tag;if((C===3||C===4)&&g.stateNode.containerInfo===h)return;g=g.return}for(;E!==null;){if(g=ai(E),g===null)return;if(C=g.tag,C===5||C===6||C===26||C===27){o=f=g;continue e}E=E.parentNode}}o=o.return}Bi(function(){var j=f,Q=rt(s),J=[];e:{var B=Xg.get(t);if(B!==void 0){var F=Hi,fe=t;switch(t){case"keypress":if(oa(s)===0)break e;case"keydown":case"keyup":F=ku;break;case"focusin":fe="focus",F=ua;break;case"focusout":fe="blur",F=ua;break;case"beforeblur":case"afterblur":F=ua;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":F=il;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":F=Ru;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":F=m;break;case Gg:case Qg:case Yg:F=Iu;break;case Kg:F=T;break;case"scroll":case"scrollend":F=nl;break;case"wheel":F=H;break;case"copy":case"cut":case"paste":F=Nu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":F=gr;break;case"toggle":case"beforetoggle":F=Ie}var ve=(n&4)!==0,lt=!ve&&(t==="scroll"||t==="scrollend"),U=ve?B!==null?B+"Capture":null:B;ve=[];for(var M=j,z;M!==null;){var K=M;if(z=K.stateNode,K=K.tag,K!==5&&K!==26&&K!==27||z===null||U===null||(K=Ri(M,U),K!=null&&ve.push(Ol(M,K,z))),lt)break;M=M.return}0<ve.length&&(B=new F(B,fe,null,s,Q),J.push({event:B,listeners:ve}))}}if((n&7)===0){e:{if(B=t==="mouseover"||t==="pointerover",F=t==="mouseout"||t==="pointerout",B&&s!==Me&&(fe=s.relatedTarget||s.fromElement)&&(ai(fe)||fe[Gn]))break e;if((F||B)&&(B=Q.window===Q?Q:(B=Q.ownerDocument)?B.defaultView||B.parentWindow:window,F?(fe=s.relatedTarget||s.toElement,F=j,fe=fe?ai(fe):null,fe!==null&&(lt=c(fe),ve=fe.tag,fe!==lt||ve!==5&&ve!==27&&ve!==6)&&(fe=null)):(F=null,fe=j),F!==fe)){if(ve=il,K="onMouseLeave",U="onMouseEnter",M="mouse",(t==="pointerout"||t==="pointerover")&&(ve=gr,K="onPointerLeave",U="onPointerEnter",M="pointer"),lt=F==null?B:Rn(F),z=fe==null?B:Rn(fe),B=new ve(K,M+"leave",F,s,Q),B.target=lt,B.relatedTarget=z,K=null,ai(Q)===j&&(ve=new ve(U,M+"enter",fe,s,Q),ve.target=z,ve.relatedTarget=lt,K=ve),lt=K,F&&fe)t:{for(ve=db,U=F,M=fe,z=0,K=U;K;K=ve(K))z++;K=0;for(var pe=M;pe;pe=ve(pe))K++;for(;0<z-K;)U=ve(U),z--;for(;0<K-z;)M=ve(M),K--;for(;z--;){if(U===M||M!==null&&U===M.alternate){ve=U;break t}U=ve(U),M=ve(M)}ve=null}else ve=null;F!==null&&y_(J,B,F,ve,!1),fe!==null&&lt!==null&&y_(J,lt,fe,ve,!0)}}e:{if(B=j?Rn(j):window,F=B.nodeName&&B.nodeName.toLowerCase(),F==="select"||F==="input"&&B.type==="file")var Ye=Vg;else if(Mg(B))if(kg)Ye=AT;else{Ye=bT;var me=TT}else F=B.nodeName,!F||F.toLowerCase()!=="input"||B.type!=="checkbox"&&B.type!=="radio"?j&&S(j.elementType)&&(Ye=Vg):Ye=ST;if(Ye&&(Ye=Ye(t,j))){Og(J,Ye,s,Q);break e}me&&me(t,B,j),t==="focusout"&&j&&B.type==="number"&&j.memoizedProps.value!=null&&$r(B,"number",B.value)}switch(me=j?Rn(j):window,t){case"focusin":(Mg(me)||me.contentEditable==="true")&&(Ja=me,Zh=j,ll=null);break;case"focusout":ll=Zh=Ja=null;break;case"mousedown":Wh=!0;break;case"contextmenu":case"mouseup":case"dragend":Wh=!1,Hg(J,s,Q);break;case"selectionchange":if(RT)break;case"keydown":case"keyup":Hg(J,s,Q)}var xe;if(Je)e:{switch(t){case"compositionstart":var ze="onCompositionStart";break e;case"compositionend":ze="onCompositionEnd";break e;case"compositionupdate":ze="onCompositionUpdate";break e}ze=void 0}else $a?ca(t,s)&&(ze="onCompositionEnd"):t==="keydown"&&s.keyCode===229&&(ze="onCompositionStart");ze&&(Qi&&s.locale!=="ko"&&($a||ze!=="onCompositionStart"?ze==="onCompositionEnd"&&$a&&(xe=tl()):(qi=Q,el="value"in qi?qi.value:qi.textContent,$a=!0)),me=wc(j,ze),0<me.length&&(ze=new Gi(ze,t,null,s,Q),J.push({event:ze,listeners:me}),xe?ze.data=xe:(xe=Xa(s),xe!==null&&(ze.data=xe)))),(xe=ci?yT(t,s):_T(t,s))&&(ze=wc(j,"onBeforeInput"),0<ze.length&&(me=new Gi("onBeforeInput","beforeinput",null,s,Q),J.push({event:me,listeners:ze}),me.data=xe)),ub(J,t,j,s,Q)}g_(J,n)})}function Ol(t,n,s){return{instance:t,listener:n,currentTarget:s}}function wc(t,n){for(var s=n+"Capture",o=[];t!==null;){var h=t,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=Ri(t,s),h!=null&&o.unshift(Ol(t,h,f)),h=Ri(t,n),h!=null&&o.push(Ol(t,h,f))),t.tag===3)return o;t=t.return}return[]}function db(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function y_(t,n,s,o,h){for(var f=n._reactName,g=[];s!==null&&s!==o;){var E=s,C=E.alternate,j=E.stateNode;if(E=E.tag,C!==null&&C===o)break;E!==5&&E!==26&&E!==27||j===null||(C=j,h?(j=Ri(s,f),j!=null&&g.unshift(Ol(s,j,C))):h||(j=Ri(s,f),j!=null&&g.push(Ol(s,j,C)))),s=s.return}g.length!==0&&t.push({event:n,listeners:g})}var mb=/\r\n?/g,gb=/\u0000|\uFFFD/g;function __(t){return(typeof t=="string"?t:""+t).replace(mb,`
`).replace(gb,"")}function v_(t,n){return n=__(n),__(t)===n}function ot(t,n,s,o,h,f){switch(s){case"children":typeof o=="string"?n==="body"||n==="textarea"&&o===""||Mt(t,o):(typeof o=="number"||typeof o=="bigint")&&n!=="body"&&Mt(t,""+o);break;case"className":Cn(t,"class",o);break;case"tabIndex":Cn(t,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":Cn(t,s,o);break;case"style":ra(t,o,f);break;case"data":if(n!=="object"){Cn(t,"data",o);break}case"src":case"href":if(o===""&&(n!=="a"||s!=="href")){t.removeAttribute(s);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(s);break}o=le(""+o),t.setAttribute(s,o);break;case"action":case"formAction":if(typeof o=="function"){t.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(s==="formAction"?(n!=="input"&&ot(t,n,"name",h.name,h,null),ot(t,n,"formEncType",h.formEncType,h,null),ot(t,n,"formMethod",h.formMethod,h,null),ot(t,n,"formTarget",h.formTarget,h,null)):(ot(t,n,"encType",h.encType,h,null),ot(t,n,"method",h.method,h,null),ot(t,n,"target",h.target,h,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(s);break}o=le(""+o),t.setAttribute(s,o);break;case"onClick":o!=null&&(t.onclick=ue);break;case"onScroll":o!=null&&ke("scroll",t);break;case"onScrollEnd":o!=null&&ke("scrollend",t);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(a(61));if(s=o.__html,s!=null){if(h.children!=null)throw Error(a(60));t.innerHTML=s}}break;case"multiple":t.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":t.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){t.removeAttribute("xlink:href");break}s=le(""+o),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(s,""+o):t.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(s,""):t.removeAttribute(s);break;case"capture":case"download":o===!0?t.setAttribute(s,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(s,o):t.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?t.setAttribute(s,o):t.removeAttribute(s);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?t.removeAttribute(s):t.setAttribute(s,o);break;case"popover":ke("beforetoggle",t),ke("toggle",t),Xr(t,"popover",o);break;case"xlinkActuate":At(t,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":At(t,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":At(t,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":At(t,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":At(t,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":At(t,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":At(t,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":At(t,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":At(t,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":Xr(t,"is",o);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=q.get(s)||s,Xr(t,s,o))}}function wd(t,n,s,o,h,f){switch(s){case"style":ra(t,o,f);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(a(61));if(s=o.__html,s!=null){if(h.children!=null)throw Error(a(60));t.innerHTML=s}}break;case"children":typeof o=="string"?Mt(t,o):(typeof o=="number"||typeof o=="bigint")&&Mt(t,""+o);break;case"onScroll":o!=null&&ke("scroll",t);break;case"onScrollEnd":o!=null&&ke("scrollend",t);break;case"onClick":o!=null&&(t.onclick=ue);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Zs.hasOwnProperty(s))e:{if(s[0]==="o"&&s[1]==="n"&&(h=s.endsWith("Capture"),n=s.slice(2,h?s.length-7:void 0),f=t[Dt]||null,f=f!=null?f[s]:null,typeof f=="function"&&t.removeEventListener(n,f,h),typeof o=="function")){typeof f!="function"&&f!==null&&(s in t?t[s]=null:t.hasAttribute(s)&&t.removeAttribute(s)),t.addEventListener(n,o,h);break e}s in t?t[s]=o:o===!0?t.setAttribute(s,""):Xr(t,s,o)}}}function un(t,n,s){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ke("error",t),ke("load",t);var o=!1,h=!1,f;for(f in s)if(s.hasOwnProperty(f)){var g=s[f];if(g!=null)switch(f){case"src":o=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:ot(t,n,f,g,s,null)}}h&&ot(t,n,"srcSet",s.srcSet,s,null),o&&ot(t,n,"src",s.src,s,null);return;case"input":ke("invalid",t);var E=f=g=h=null,C=null,j=null;for(o in s)if(s.hasOwnProperty(o)){var Q=s[o];if(Q!=null)switch(o){case"name":h=Q;break;case"type":g=Q;break;case"checked":C=Q;break;case"defaultChecked":j=Q;break;case"value":f=Q;break;case"defaultValue":E=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(a(137,n));break;default:ot(t,n,o,Q,s,null)}}ia(t,f,E,C,j,g,h,!1);return;case"select":ke("invalid",t),o=g=f=null;for(h in s)if(s.hasOwnProperty(h)&&(E=s[h],E!=null))switch(h){case"value":f=E;break;case"defaultValue":g=E;break;case"multiple":o=E;default:ot(t,n,h,E,s,null)}n=f,s=g,t.multiple=!!o,n!=null?Si(t,!!o,n,!1):s!=null&&Si(t,!!o,s,!0);return;case"textarea":ke("invalid",t),f=h=o=null;for(g in s)if(s.hasOwnProperty(g)&&(E=s[g],E!=null))switch(g){case"value":o=E;break;case"defaultValue":h=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(a(91));break;default:ot(t,n,g,E,s,null)}Ai(t,o,h,f);return;case"option":for(C in s)if(s.hasOwnProperty(C)&&(o=s[C],o!=null))switch(C){case"selected":t.selected=o&&typeof o!="function"&&typeof o!="symbol";break;default:ot(t,n,C,o,s,null)}return;case"dialog":ke("beforetoggle",t),ke("toggle",t),ke("cancel",t),ke("close",t);break;case"iframe":case"object":ke("load",t);break;case"video":case"audio":for(o=0;o<Ml.length;o++)ke(Ml[o],t);break;case"image":ke("error",t),ke("load",t);break;case"details":ke("toggle",t);break;case"embed":case"source":case"link":ke("error",t),ke("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(j in s)if(s.hasOwnProperty(j)&&(o=s[j],o!=null))switch(j){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:ot(t,n,j,o,s,null)}return;default:if(S(n)){for(Q in s)s.hasOwnProperty(Q)&&(o=s[Q],o!==void 0&&wd(t,n,Q,o,s,void 0));return}}for(E in s)s.hasOwnProperty(E)&&(o=s[E],o!=null&&ot(t,n,E,o,s,null))}function pb(t,n,s,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,g=null,E=null,C=null,j=null,Q=null;for(F in s){var J=s[F];if(s.hasOwnProperty(F)&&J!=null)switch(F){case"checked":break;case"value":break;case"defaultValue":C=J;default:o.hasOwnProperty(F)||ot(t,n,F,null,o,J)}}for(var B in o){var F=o[B];if(J=s[B],o.hasOwnProperty(B)&&(F!=null||J!=null))switch(B){case"type":f=F;break;case"name":h=F;break;case"checked":j=F;break;case"defaultChecked":Q=F;break;case"value":g=F;break;case"defaultValue":E=F;break;case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(a(137,n));break;default:F!==J&&ot(t,n,B,F,o,J)}}yn(t,g,E,C,j,Q,f,h);return;case"select":F=g=E=B=null;for(f in s)if(C=s[f],s.hasOwnProperty(f)&&C!=null)switch(f){case"value":break;case"multiple":F=C;default:o.hasOwnProperty(f)||ot(t,n,f,null,o,C)}for(h in o)if(f=o[h],C=s[h],o.hasOwnProperty(h)&&(f!=null||C!=null))switch(h){case"value":B=f;break;case"defaultValue":E=f;break;case"multiple":g=f;default:f!==C&&ot(t,n,h,f,o,C)}n=E,s=g,o=F,B!=null?Si(t,!!s,B,!1):!!o!=!!s&&(n!=null?Si(t,!!s,n,!0):Si(t,!!s,s?[]:"",!1));return;case"textarea":F=B=null;for(E in s)if(h=s[E],s.hasOwnProperty(E)&&h!=null&&!o.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:ot(t,n,E,null,o,h)}for(g in o)if(h=o[g],f=s[g],o.hasOwnProperty(g)&&(h!=null||f!=null))switch(g){case"value":B=h;break;case"defaultValue":F=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(a(91));break;default:h!==f&&ot(t,n,g,h,o,f)}Ga(t,B,F);return;case"option":for(var fe in s)if(B=s[fe],s.hasOwnProperty(fe)&&B!=null&&!o.hasOwnProperty(fe))switch(fe){case"selected":t.selected=!1;break;default:ot(t,n,fe,null,o,B)}for(C in o)if(B=o[C],F=s[C],o.hasOwnProperty(C)&&B!==F&&(B!=null||F!=null))switch(C){case"selected":t.selected=B&&typeof B!="function"&&typeof B!="symbol";break;default:ot(t,n,C,B,o,F)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ve in s)B=s[ve],s.hasOwnProperty(ve)&&B!=null&&!o.hasOwnProperty(ve)&&ot(t,n,ve,null,o,B);for(j in o)if(B=o[j],F=s[j],o.hasOwnProperty(j)&&B!==F&&(B!=null||F!=null))switch(j){case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(a(137,n));break;default:ot(t,n,j,B,o,F)}return;default:if(S(n)){for(var lt in s)B=s[lt],s.hasOwnProperty(lt)&&B!==void 0&&!o.hasOwnProperty(lt)&&wd(t,n,lt,void 0,o,B);for(Q in o)B=o[Q],F=s[Q],!o.hasOwnProperty(Q)||B===F||B===void 0&&F===void 0||wd(t,n,Q,B,o,F);return}}for(var U in s)B=s[U],s.hasOwnProperty(U)&&B!=null&&!o.hasOwnProperty(U)&&ot(t,n,U,null,o,B);for(J in o)B=o[J],F=s[J],!o.hasOwnProperty(J)||B===F||B==null&&F==null||ot(t,n,J,B,o,F)}function E_(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function yb(){if(typeof performance.getEntriesByType=="function"){for(var t=0,n=0,s=performance.getEntriesByType("resource"),o=0;o<s.length;o++){var h=s[o],f=h.transferSize,g=h.initiatorType,E=h.duration;if(f&&E&&E_(g)){for(g=0,E=h.responseEnd,o+=1;o<s.length;o++){var C=s[o],j=C.startTime;if(j>E)break;var Q=C.transferSize,J=C.initiatorType;Q&&E_(J)&&(C=C.responseEnd,g+=Q*(C<E?1:(E-j)/(C-j)))}if(--o,n+=8*(f+g)/(h.duration/1e3),t++,10<t)break}}if(0<t)return n/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var Rd=null,Cd=null;function Rc(t){return t.nodeType===9?t:t.ownerDocument}function T_(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function b_(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function Id(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Nd=null;function _b(){var t=window.event;return t&&t.type==="popstate"?t===Nd?!1:(Nd=t,!0):(Nd=null,!1)}var S_=typeof setTimeout=="function"?setTimeout:void 0,vb=typeof clearTimeout=="function"?clearTimeout:void 0,A_=typeof Promise=="function"?Promise:void 0,Eb=typeof queueMicrotask=="function"?queueMicrotask:typeof A_<"u"?function(t){return A_.resolve(null).then(t).catch(Tb)}:S_;function Tb(t){setTimeout(function(){throw t})}function ys(t){return t==="head"}function w_(t,n){var s=n,o=0;do{var h=s.nextSibling;if(t.removeChild(s),h&&h.nodeType===8)if(s=h.data,s==="/$"||s==="/&"){if(o===0){t.removeChild(h),wo(n);return}o--}else if(s==="$"||s==="$?"||s==="$~"||s==="$!"||s==="&")o++;else if(s==="html")Vl(t.ownerDocument.documentElement);else if(s==="head"){s=t.ownerDocument.head,Vl(s);for(var f=s.firstChild;f;){var g=f.nextSibling,E=f.nodeName;f[si]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&f.rel.toLowerCase()==="stylesheet"||s.removeChild(f),f=g}}else s==="body"&&Vl(t.ownerDocument.body);s=h}while(s);wo(n)}function R_(t,n){var s=t;t=0;do{var o=s.nextSibling;if(s.nodeType===1?n?(s._stashedDisplay=s.style.display,s.style.display="none"):(s.style.display=s._stashedDisplay||"",s.getAttribute("style")===""&&s.removeAttribute("style")):s.nodeType===3&&(n?(s._stashedText=s.nodeValue,s.nodeValue=""):s.nodeValue=s._stashedText||""),o&&o.nodeType===8)if(s=o.data,s==="/$"){if(t===0)break;t--}else s!=="$"&&s!=="$?"&&s!=="$~"&&s!=="$!"||t++;s=o}while(s)}function xd(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var s=n;switch(n=n.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":xd(s),Pi(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}t.removeChild(s)}}function bb(t,n,s,o){for(;t.nodeType===1;){var h=s;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!o&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(o){if(!t[si])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=yi(t.nextSibling),t===null)break}return null}function Sb(t,n,s){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!s||(t=yi(t.nextSibling),t===null))return null;return t}function C_(t,n){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=yi(t.nextSibling),t===null))return null;return t}function Dd(t){return t.data==="$?"||t.data==="$~"}function Md(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function Ab(t,n){var s=t.ownerDocument;if(t.data==="$~")t._reactRetry=n;else if(t.data!=="$?"||s.readyState!=="loading")n();else{var o=function(){n(),s.removeEventListener("DOMContentLoaded",o)};s.addEventListener("DOMContentLoaded",o),t._reactRetry=o}}function yi(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return t}var Od=null;function I_(t){t=t.nextSibling;for(var n=0;t;){if(t.nodeType===8){var s=t.data;if(s==="/$"||s==="/&"){if(n===0)return yi(t.nextSibling);n--}else s!=="$"&&s!=="$!"&&s!=="$?"&&s!=="$~"&&s!=="&"||n++}t=t.nextSibling}return null}function N_(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var s=t.data;if(s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"){if(n===0)return t;n--}else s!=="/$"&&s!=="/&"||n++}t=t.previousSibling}return null}function x_(t,n,s){switch(n=Rc(s),t){case"html":if(t=n.documentElement,!t)throw Error(a(452));return t;case"head":if(t=n.head,!t)throw Error(a(453));return t;case"body":if(t=n.body,!t)throw Error(a(454));return t;default:throw Error(a(451))}}function Vl(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);Pi(t)}var _i=new Map,D_=new Set;function Cc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var xr=se.d;se.d={f:wb,r:Rb,D:Cb,C:Ib,L:Nb,m:xb,X:Mb,S:Db,M:Ob};function wb(){var t=xr.f(),n=_c();return t||n}function Rb(t){var n=Mn(t);n!==null&&n.tag===5&&n.type==="form"?Kp(n):xr.r(t)}var bo=typeof document>"u"?null:document;function M_(t,n,s){var o=bo;if(o&&typeof n=="string"&&n){var h=pn(n);h='link[rel="'+t+'"][href="'+h+'"]',typeof s=="string"&&(h+='[crossorigin="'+s+'"]'),D_.has(h)||(D_.add(h),t={rel:t,crossOrigin:s,href:n},o.querySelector(h)===null&&(n=o.createElement("link"),un(n,"link",t),Et(n),o.head.appendChild(n)))}}function Cb(t){xr.D(t),M_("dns-prefetch",t,null)}function Ib(t,n){xr.C(t,n),M_("preconnect",t,n)}function Nb(t,n,s){xr.L(t,n,s);var o=bo;if(o&&t&&n){var h='link[rel="preload"][as="'+pn(n)+'"]';n==="image"&&s&&s.imageSrcSet?(h+='[imagesrcset="'+pn(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(h+='[imagesizes="'+pn(s.imageSizes)+'"]')):h+='[href="'+pn(t)+'"]';var f=h;switch(n){case"style":f=So(t);break;case"script":f=Ao(t)}_i.has(f)||(t=A({rel:"preload",href:n==="image"&&s&&s.imageSrcSet?void 0:t,as:n},s),_i.set(f,t),o.querySelector(h)!==null||n==="style"&&o.querySelector(kl(f))||n==="script"&&o.querySelector(Ul(f))||(n=o.createElement("link"),un(n,"link",t),Et(n),o.head.appendChild(n)))}}function xb(t,n){xr.m(t,n);var s=bo;if(s&&t){var o=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+pn(o)+'"][href="'+pn(t)+'"]',f=h;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=Ao(t)}if(!_i.has(f)&&(t=A({rel:"modulepreload",href:t},n),_i.set(f,t),s.querySelector(h)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(Ul(f)))return}o=s.createElement("link"),un(o,"link",t),Et(o),s.head.appendChild(o)}}}function Db(t,n,s){xr.S(t,n,s);var o=bo;if(o&&t){var h=oi(o).hoistableStyles,f=So(t);n=n||"default";var g=h.get(f);if(!g){var E={loading:0,preload:null};if(g=o.querySelector(kl(f)))E.loading=5;else{t=A({rel:"stylesheet",href:t,"data-precedence":n},s),(s=_i.get(f))&&Vd(t,s);var C=g=o.createElement("link");Et(C),un(C,"link",t),C._p=new Promise(function(j,Q){C.onload=j,C.onerror=Q}),C.addEventListener("load",function(){E.loading|=1}),C.addEventListener("error",function(){E.loading|=2}),E.loading|=4,Ic(g,n,o)}g={type:"stylesheet",instance:g,count:1,state:E},h.set(f,g)}}}function Mb(t,n){xr.X(t,n);var s=bo;if(s&&t){var o=oi(s).hoistableScripts,h=Ao(t),f=o.get(h);f||(f=s.querySelector(Ul(h)),f||(t=A({src:t,async:!0},n),(n=_i.get(h))&&kd(t,n),f=s.createElement("script"),Et(f),un(f,"link",t),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function Ob(t,n){xr.M(t,n);var s=bo;if(s&&t){var o=oi(s).hoistableScripts,h=Ao(t),f=o.get(h);f||(f=s.querySelector(Ul(h)),f||(t=A({src:t,async:!0,type:"module"},n),(n=_i.get(h))&&kd(t,n),f=s.createElement("script"),Et(f),un(f,"link",t),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function O_(t,n,s,o){var h=(h=Ce.current)?Cc(h):null;if(!h)throw Error(a(446));switch(t){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(n=So(s.href),s=oi(h).hoistableStyles,o=s.get(n),o||(o={type:"style",instance:null,count:0,state:null},s.set(n,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){t=So(s.href);var f=oi(h).hoistableStyles,g=f.get(t);if(g||(h=h.ownerDocument||h,g={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,g),(f=h.querySelector(kl(t)))&&!f._p&&(g.instance=f,g.state.loading=5),_i.has(t)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},_i.set(t,s),f||Vb(h,t,s,g.state))),n&&o===null)throw Error(a(528,""));return g}if(n&&o!==null)throw Error(a(529,""));return null;case"script":return n=s.async,s=s.src,typeof s=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Ao(s),s=oi(h).hoistableScripts,o=s.get(n),o||(o={type:"script",instance:null,count:0,state:null},s.set(n,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,t))}}function So(t){return'href="'+pn(t)+'"'}function kl(t){return'link[rel="stylesheet"]['+t+"]"}function V_(t){return A({},t,{"data-precedence":t.precedence,precedence:null})}function Vb(t,n,s,o){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?o.loading=1:(n=t.createElement("link"),o.preload=n,n.addEventListener("load",function(){return o.loading|=1}),n.addEventListener("error",function(){return o.loading|=2}),un(n,"link",s),Et(n),t.head.appendChild(n))}function Ao(t){return'[src="'+pn(t)+'"]'}function Ul(t){return"script[async]"+t}function k_(t,n,s){if(n.count++,n.instance===null)switch(n.type){case"style":var o=t.querySelector('style[data-href~="'+pn(s.href)+'"]');if(o)return n.instance=o,Et(o),o;var h=A({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return o=(t.ownerDocument||t).createElement("style"),Et(o),un(o,"style",h),Ic(o,s.precedence,t),n.instance=o;case"stylesheet":h=So(s.href);var f=t.querySelector(kl(h));if(f)return n.state.loading|=4,n.instance=f,Et(f),f;o=V_(s),(h=_i.get(h))&&Vd(o,h),f=(t.ownerDocument||t).createElement("link"),Et(f);var g=f;return g._p=new Promise(function(E,C){g.onload=E,g.onerror=C}),un(f,"link",o),n.state.loading|=4,Ic(f,s.precedence,t),n.instance=f;case"script":return f=Ao(s.src),(h=t.querySelector(Ul(f)))?(n.instance=h,Et(h),h):(o=s,(h=_i.get(f))&&(o=A({},s),kd(o,h)),t=t.ownerDocument||t,h=t.createElement("script"),Et(h),un(h,"link",o),t.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(a(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(o=n.instance,n.state.loading|=4,Ic(o,s.precedence,t));return n.instance}function Ic(t,n,s){for(var o=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=o.length?o[o.length-1]:null,f=h,g=0;g<o.length;g++){var E=o[g];if(E.dataset.precedence===n)f=E;else if(f!==h)break}f?f.parentNode.insertBefore(t,f.nextSibling):(n=s.nodeType===9?s.head:s,n.insertBefore(t,n.firstChild))}function Vd(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function kd(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var Nc=null;function U_(t,n,s){if(Nc===null){var o=new Map,h=Nc=new Map;h.set(s,o)}else h=Nc,o=h.get(s),o||(o=new Map,h.set(s,o));if(o.has(t))return o;for(o.set(t,null),s=s.getElementsByTagName(t),h=0;h<s.length;h++){var f=s[h];if(!(f[si]||f[vt]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var g=f.getAttribute(n)||"";g=t+g;var E=o.get(g);E?E.push(f):o.set(g,[f])}}return o}function L_(t,n,s){t=t.ownerDocument||t,t.head.insertBefore(s,n==="title"?t.querySelector("head > title"):null)}function kb(t,n,s){if(s===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return t=n.disabled,typeof n.precedence=="string"&&t==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function P_(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function Ub(t,n,s,o){if(s.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var h=So(o.href),f=n.querySelector(kl(h));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(t.count++,t=xc.bind(t),n.then(t,t)),s.state.loading|=4,s.instance=f,Et(f);return}f=n.ownerDocument||n,o=V_(o),(h=_i.get(h))&&Vd(o,h),f=f.createElement("link"),Et(f);var g=f;g._p=new Promise(function(E,C){g.onload=E,g.onerror=C}),un(f,"link",o),s.instance=f}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(s,n),(n=s.state.preload)&&(s.state.loading&3)===0&&(t.count++,s=xc.bind(t),n.addEventListener("load",s),n.addEventListener("error",s))}}var Ud=0;function Lb(t,n){return t.stylesheets&&t.count===0&&Mc(t,t.stylesheets),0<t.count||0<t.imgCount?function(s){var o=setTimeout(function(){if(t.stylesheets&&Mc(t,t.stylesheets),t.unsuspend){var f=t.unsuspend;t.unsuspend=null,f()}},6e4+n);0<t.imgBytes&&Ud===0&&(Ud=62500*yb());var h=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&Mc(t,t.stylesheets),t.unsuspend)){var f=t.unsuspend;t.unsuspend=null,f()}},(t.imgBytes>Ud?50:800)+n);return t.unsuspend=s,function(){t.unsuspend=null,clearTimeout(o),clearTimeout(h)}}:null}function xc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Mc(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Dc=null;function Mc(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Dc=new Map,n.forEach(Pb,t),Dc=null,xc.call(t))}function Pb(t,n){if(!(n.state.loading&4)){var s=Dc.get(t);if(s)var o=s.get(null);else{s=new Map,Dc.set(t,s);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var g=h[f];(g.nodeName==="LINK"||g.getAttribute("media")!=="not all")&&(s.set(g.dataset.precedence,g),o=g)}o&&s.set(null,o)}h=n.instance,g=h.getAttribute("data-precedence"),f=s.get(g)||o,f===o&&s.set(null,h),s.set(g,h),this.count++,o=xc.bind(this),h.addEventListener("load",o),h.addEventListener("error",o),f?f.parentNode.insertBefore(h,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),n.state.loading|=4}}var Ll={$$typeof:_e,Provider:null,Consumer:null,_currentValue:ge,_currentValue2:ge,_threadCount:0};function zb(t,n,s,o,h,f,g,E,C){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=nn(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=nn(0),this.hiddenUpdates=nn(null),this.identifierPrefix=o,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=g,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=C,this.incompleteTransitions=new Map}function z_(t,n,s,o,h,f,g,E,C,j,Q,J){return t=new zb(t,n,s,g,C,j,Q,J,E),n=1,f===!0&&(n|=24),f=Kn(3,null,null,n),t.current=f,f.stateNode=t,n=gf(),n.refCount++,t.pooledCache=n,n.refCount++,f.memoizedState={element:o,isDehydrated:s,cache:n},vf(f),t}function j_(t){return t?(t=eo,t):eo}function B_(t,n,s,o,h,f){h=j_(h),o.context===null?o.context=h:o.pendingContext=h,o=as(n),o.payload={element:s},f=f===void 0?null:f,f!==null&&(o.callback=f),s=os(t,o,n),s!==null&&(Pn(s,t,n),gl(s,t,n))}function q_(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var s=t.retryLane;t.retryLane=s!==0&&s<n?s:n}}function Ld(t,n){q_(t,n),(t=t.alternate)&&q_(t,n)}function H_(t){if(t.tag===13||t.tag===31){var n=da(t,67108864);n!==null&&Pn(n,t,67108864),Ld(t,67108864)}}function F_(t){if(t.tag===13||t.tag===31){var n=Wn();n=rn(n);var s=da(t,n);s!==null&&Pn(s,t,n),Ld(t,n)}}var Oc=!0;function jb(t,n,s,o){var h=G.T;G.T=null;var f=se.p;try{se.p=2,Pd(t,n,s,o)}finally{se.p=f,G.T=h}}function Bb(t,n,s,o){var h=G.T;G.T=null;var f=se.p;try{se.p=8,Pd(t,n,s,o)}finally{se.p=f,G.T=h}}function Pd(t,n,s,o){if(Oc){var h=zd(o);if(h===null)Ad(t,n,o,Vc,s),Q_(t,o);else if(Hb(h,t,n,s,o))o.stopPropagation();else if(Q_(t,o),n&4&&-1<qb.indexOf(t)){for(;h!==null;){var f=Mn(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var g=Hn(f.pendingLanes);if(g!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;g;){var C=1<<31-_t(g);E.entanglements[1]|=C,g&=~C}$i(f),(Ze&6)===0&&(pc=Jt()+500,Dl(0))}}break;case 31:case 13:E=da(f,2),E!==null&&Pn(E,f,2),_c(),Ld(f,2)}if(f=zd(o),f===null&&Ad(t,n,o,Vc,s),f===h)break;h=f}h!==null&&o.stopPropagation()}else Ad(t,n,o,null,s)}}function zd(t){return t=rt(t),jd(t)}var Vc=null;function jd(t){if(Vc=null,t=ai(t),t!==null){var n=c(t);if(n===null)t=null;else{var s=n.tag;if(s===13){if(t=d(n),t!==null)return t;t=null}else if(s===31){if(t=p(n),t!==null)return t;t=null}else if(s===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return Vc=t,null}function G_(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(lr()){case Ks:return 2;case Hr:return 8;case mn:case Ba:return 32;case Ui:return 268435456;default:return 32}default:return 32}}var Bd=!1,_s=null,vs=null,Es=null,Pl=new Map,zl=new Map,Ts=[],qb="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Q_(t,n){switch(t){case"focusin":case"focusout":_s=null;break;case"dragenter":case"dragleave":vs=null;break;case"mouseover":case"mouseout":Es=null;break;case"pointerover":case"pointerout":Pl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":zl.delete(n.pointerId)}}function jl(t,n,s,o,h,f){return t===null||t.nativeEvent!==f?(t={blockedOn:n,domEventName:s,eventSystemFlags:o,nativeEvent:f,targetContainers:[h]},n!==null&&(n=Mn(n),n!==null&&H_(n)),t):(t.eventSystemFlags|=o,n=t.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),t)}function Hb(t,n,s,o,h){switch(n){case"focusin":return _s=jl(_s,t,n,s,o,h),!0;case"dragenter":return vs=jl(vs,t,n,s,o,h),!0;case"mouseover":return Es=jl(Es,t,n,s,o,h),!0;case"pointerover":var f=h.pointerId;return Pl.set(f,jl(Pl.get(f)||null,t,n,s,o,h)),!0;case"gotpointercapture":return f=h.pointerId,zl.set(f,jl(zl.get(f)||null,t,n,s,o,h)),!0}return!1}function Y_(t){var n=ai(t.target);if(n!==null){var s=c(n);if(s!==null){if(n=s.tag,n===13){if(n=d(s),n!==null){t.blockedOn=n,Fn(t.priority,function(){F_(s)});return}}else if(n===31){if(n=p(s),n!==null){t.blockedOn=n,Fn(t.priority,function(){F_(s)});return}}else if(n===3&&s.stateNode.current.memoizedState.isDehydrated){t.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}t.blockedOn=null}function kc(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var s=zd(t.nativeEvent);if(s===null){s=t.nativeEvent;var o=new s.constructor(s.type,s);Me=o,s.target.dispatchEvent(o),Me=null}else return n=Mn(s),n!==null&&H_(n),t.blockedOn=s,!1;n.shift()}return!0}function K_(t,n,s){kc(t)&&s.delete(n)}function Fb(){Bd=!1,_s!==null&&kc(_s)&&(_s=null),vs!==null&&kc(vs)&&(vs=null),Es!==null&&kc(Es)&&(Es=null),Pl.forEach(K_),zl.forEach(K_)}function Uc(t,n){t.blockedOn===n&&(t.blockedOn=null,Bd||(Bd=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,Fb)))}var Lc=null;function X_(t){Lc!==t&&(Lc=t,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Lc===t&&(Lc=null);for(var n=0;n<t.length;n+=3){var s=t[n],o=t[n+1],h=t[n+2];if(typeof o!="function"){if(jd(o||s)===null)continue;break}var f=Mn(s);f!==null&&(t.splice(n,3),n-=3,zf(f,{pending:!0,data:h,method:s.method,action:o},o,h))}}))}function wo(t){function n(C){return Uc(C,t)}_s!==null&&Uc(_s,t),vs!==null&&Uc(vs,t),Es!==null&&Uc(Es,t),Pl.forEach(n),zl.forEach(n);for(var s=0;s<Ts.length;s++){var o=Ts[s];o.blockedOn===t&&(o.blockedOn=null)}for(;0<Ts.length&&(s=Ts[0],s.blockedOn===null);)Y_(s),s.blockedOn===null&&Ts.shift();if(s=(t.ownerDocument||t).$$reactFormReplay,s!=null)for(o=0;o<s.length;o+=3){var h=s[o],f=s[o+1],g=h[Dt]||null;if(typeof f=="function")g||X_(s);else if(g){var E=null;if(f&&f.hasAttribute("formAction")){if(h=f,g=f[Dt]||null)E=g.formAction;else if(jd(h)!==null)continue}else E=g.action;typeof E=="function"?s[o+1]=E:(s.splice(o,3),o-=3),X_(s)}}}function $_(){function t(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(g){return h=g})},focusReset:"manual",scroll:"manual"})}function n(){h!==null&&(h(),h=null),o||setTimeout(s,20)}function s(){if(!o&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,h=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(s,100),function(){o=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),h!==null&&(h(),h=null)}}}function qd(t){this._internalRoot=t}Pc.prototype.render=qd.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(a(409));var s=n.current,o=Wn();B_(s,o,t,n,null,null)},Pc.prototype.unmount=qd.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;B_(t.current,2,null,t,null,null),_c(),n[Gn]=null}};function Pc(t){this._internalRoot=t}Pc.prototype.unstable_scheduleHydration=function(t){if(t){var n=$s();t={blockedOn:null,target:t,priority:n};for(var s=0;s<Ts.length&&n!==0&&n<Ts[s].priority;s++);Ts.splice(s,0,t),s===0&&Y_(t)}};var J_=e.version;if(J_!=="19.2.0")throw Error(a(527,J_,"19.2.0"));se.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(a(188)):(t=Object.keys(t).join(","),Error(a(268,t)));return t=_(n),t=t!==null?b(t):null,t=t===null?null:t.stateNode,t};var Gb={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:G,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var zc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!zc.isDisabled&&zc.supportsFiber)try{Sn=zc.inject(Gb),Kt=zc}catch{}}return ql.createRoot=function(t,n){if(!l(t))throw Error(a(299));var s=!1,o="",h=ry,f=sy,g=ay;return n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(g=n.onRecoverableError)),n=z_(t,1,!1,null,null,s,o,null,h,f,g,$_),t[Gn]=n.current,Sd(t),new qd(n)},ql.hydrateRoot=function(t,n,s){if(!l(t))throw Error(a(299));var o=!1,h="",f=ry,g=sy,E=ay,C=null;return s!=null&&(s.unstable_strictMode===!0&&(o=!0),s.identifierPrefix!==void 0&&(h=s.identifierPrefix),s.onUncaughtError!==void 0&&(f=s.onUncaughtError),s.onCaughtError!==void 0&&(g=s.onCaughtError),s.onRecoverableError!==void 0&&(E=s.onRecoverableError),s.formState!==void 0&&(C=s.formState)),n=z_(t,1,!0,n,s??null,o,h,C,f,g,E,$_),n.context=j_(null),s=n.current,o=Wn(),o=rn(o),h=as(o),h.callback=null,os(s,h,o),s=o,n.current.lanes=s,Wt(n,s),$i(n),t[Gn]=n.current,Sd(t),new Pc(n)},ql.version="19.2.0",ql}var o0;function nS(){if(o0)return Gd.exports;o0=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Gd.exports=tS(),Gd.exports}var iS=nS();const rS=Qv(iS),sS=()=>{};var l0={};const Yv=function(r){const e=[];let i=0;for(let a=0;a<r.length;a++){let l=r.charCodeAt(a);l<128?e[i++]=l:l<2048?(e[i++]=l>>6|192,e[i++]=l&63|128):(l&64512)===55296&&a+1<r.length&&(r.charCodeAt(a+1)&64512)===56320?(l=65536+((l&1023)<<10)+(r.charCodeAt(++a)&1023),e[i++]=l>>18|240,e[i++]=l>>12&63|128,e[i++]=l>>6&63|128,e[i++]=l&63|128):(e[i++]=l>>12|224,e[i++]=l>>6&63|128,e[i++]=l&63|128)}return e},aS=function(r){const e=[];let i=0,a=0;for(;i<r.length;){const l=r[i++];if(l<128)e[a++]=String.fromCharCode(l);else if(l>191&&l<224){const c=r[i++];e[a++]=String.fromCharCode((l&31)<<6|c&63)}else if(l>239&&l<365){const c=r[i++],d=r[i++],p=r[i++],y=((l&7)<<18|(c&63)<<12|(d&63)<<6|p&63)-65536;e[a++]=String.fromCharCode(55296+(y>>10)),e[a++]=String.fromCharCode(56320+(y&1023))}else{const c=r[i++],d=r[i++];e[a++]=String.fromCharCode((l&15)<<12|(c&63)<<6|d&63)}}return e.join("")},Kv={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let l=0;l<r.length;l+=3){const c=r[l],d=l+1<r.length,p=d?r[l+1]:0,y=l+2<r.length,_=y?r[l+2]:0,b=c>>2,A=(c&3)<<4|p>>4;let V=(p&15)<<2|_>>6,Y=_&63;y||(Y=64,d||(V=64)),a.push(i[b],i[A],i[V],i[Y])}return a.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(Yv(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):aS(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let l=0;l<r.length;){const c=i[r.charAt(l++)],p=l<r.length?i[r.charAt(l)]:0;++l;const _=l<r.length?i[r.charAt(l)]:64;++l;const A=l<r.length?i[r.charAt(l)]:64;if(++l,c==null||p==null||_==null||A==null)throw new oS;const V=c<<2|p>>4;if(a.push(V),_!==64){const Y=p<<4&240|_>>2;if(a.push(Y),A!==64){const ee=_<<6&192|A;a.push(ee)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class oS extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const lS=function(r){const e=Yv(r);return Kv.encodeByteArray(e,!0)},ah=function(r){return lS(r).replace(/\./g,"")},Xv=function(r){try{return Kv.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function uS(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const cS=()=>uS().__FIREBASE_DEFAULTS__,hS=()=>{if(typeof process>"u"||typeof l0>"u")return;const r=l0.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},fS=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&Xv(r[1]);return e&&JSON.parse(e)},Ih=()=>{try{return sS()||cS()||hS()||fS()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},$v=r=>Ih()?.emulatorHosts?.[r],dS=r=>{const e=$v(r);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const a=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),a]:[e.substring(0,i),a]},Jv=()=>Ih()?.config,Zv=r=>Ih()?.[`_${r}`];class mS{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,a)=>{i?this.reject(i):this.resolve(a),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,a))}}}function Go(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Wv(r){return(await fetch(r,{credentials:"include"})).ok}function gS(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},a=e||"demo-project",l=r.iat||0,c=r.sub||r.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${a}`,aud:a,iat:l,exp:l+3600,auth_time:l,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...r};return[ah(JSON.stringify(i)),ah(JSON.stringify(d)),""].join(".")}const $l={};function pS(){const r={prod:[],emulator:[]};for(const e of Object.keys($l))$l[e]?r.emulator.push(e):r.prod.push(e);return r}function yS(r){let e=document.getElementById(r),i=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),i=!0),{created:i,element:e}}let u0=!1;function e1(r,e){if(typeof window>"u"||typeof document>"u"||!Go(window.location.host)||$l[r]===e||$l[r]||u0)return;$l[r]=e;function i(V){return`__firebase__banner__${V}`}const a="__firebase__banner",c=pS().prod.length>0;function d(){const V=document.getElementById(a);V&&V.remove()}function p(V){V.style.display="flex",V.style.background="#7faaf0",V.style.position="fixed",V.style.bottom="5px",V.style.left="5px",V.style.padding=".5em",V.style.borderRadius="5px",V.style.alignItems="center"}function y(V,Y){V.setAttribute("width","24"),V.setAttribute("id",Y),V.setAttribute("height","24"),V.setAttribute("viewBox","0 0 24 24"),V.setAttribute("fill","none"),V.style.marginLeft="-6px"}function _(){const V=document.createElement("span");return V.style.cursor="pointer",V.style.marginLeft="16px",V.style.fontSize="24px",V.innerHTML=" &times;",V.onclick=()=>{u0=!0,d()},V}function b(V,Y){V.setAttribute("id",Y),V.innerText="Learn more",V.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",V.setAttribute("target","__blank"),V.style.paddingLeft="5px",V.style.textDecoration="underline"}function A(){const V=yS(a),Y=i("text"),ee=document.getElementById(Y)||document.createElement("span"),ne=i("learnmore"),te=document.getElementById(ne)||document.createElement("a"),de=i("preprendIcon"),Ae=document.getElementById(de)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(V.created){const _e=V.element;p(_e),b(te,ne);const Oe=_();y(Ae,de),_e.append(Ae,ee,te,Oe),document.body.appendChild(_e)}c?(ee.innerText="Preview backend disconnected.",Ae.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(Ae.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,ee.innerText="Preview backend running in this workspace."),ee.setAttribute("id",Y)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",A):A()}function bn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function _S(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(bn())}function vS(){const r=Ih()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function ES(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function TS(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function bS(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function SS(){const r=bn();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function AS(){return!vS()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function wS(){try{return typeof indexedDB=="object"}catch{return!1}}function RS(){return new Promise((r,e)=>{try{let i=!0;const a="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(a);l.onsuccess=()=>{l.result.close(),i||self.indexedDB.deleteDatabase(a),r(!0)},l.onupgradeneeded=()=>{i=!1},l.onerror=()=>{e(l.error?.message||"")}}catch(i){e(i)}})}const CS="FirebaseError";class jr extends Error{constructor(e,i,a){super(i),this.code=e,this.customData=a,this.name=CS,Object.setPrototypeOf(this,jr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,fu.prototype.create)}}class fu{constructor(e,i,a){this.service=e,this.serviceName=i,this.errors=a}create(e,...i){const a=i[0]||{},l=`${this.service}/${e}`,c=this.errors[e],d=c?IS(c,a):"Error",p=`${this.serviceName}: ${d} (${l}).`;return new jr(l,p,a)}}function IS(r,e){return r.replace(NS,(i,a)=>{const l=e[a];return l!=null?String(l):`<${a}?>`})}const NS=/\{\$([^}]+)}/g;function xS(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function Oa(r,e){if(r===e)return!0;const i=Object.keys(r),a=Object.keys(e);for(const l of i){if(!a.includes(l))return!1;const c=r[l],d=e[l];if(c0(c)&&c0(d)){if(!Oa(c,d))return!1}else if(c!==d)return!1}for(const l of a)if(!i.includes(l))return!1;return!0}function c0(r){return r!==null&&typeof r=="object"}function du(r){const e=[];for(const[i,a]of Object.entries(r))Array.isArray(a)?a.forEach(l=>{e.push(encodeURIComponent(i)+"="+encodeURIComponent(l))}):e.push(encodeURIComponent(i)+"="+encodeURIComponent(a));return e.length?"&"+e.join("&"):""}function DS(r,e){const i=new MS(r,e);return i.subscribe.bind(i)}class MS{constructor(e,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{e(this)}).catch(a=>{this.error(a)})}next(e){this.forEachObserver(i=>{i.next(e)})}error(e){this.forEachObserver(i=>{i.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,i,a){let l;if(e===void 0&&i===void 0&&a===void 0)throw new Error("Missing Observer.");OS(e,["next","error","complete"])?l=e:l={next:e,error:i,complete:a},l.next===void 0&&(l.next=Xd),l.error===void 0&&(l.error=Xd),l.complete===void 0&&(l.complete=Xd);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),c}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,e)}sendOne(e,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{i(this.observers[e])}catch(a){typeof console<"u"&&console.error&&console.error(a)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function OS(r,e){if(typeof r!="object"||r===null)return!1;for(const i of e)if(i in r&&typeof r[i]=="function")return!0;return!1}function Xd(){}function fn(r){return r&&r._delegate?r._delegate:r}class Va{constructor(e,i,a){this.name=e,this.instanceFactory=i,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Ra="[DEFAULT]";class VS{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const a=new mS;if(this.instancesDeferred.set(i,a),this.isInitialized(i)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:i});l&&a.resolve(l)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){const i=this.normalizeInstanceIdentifier(e?.identifier),a=e?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(l){if(a)return null;throw l}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(US(e))try{this.getOrInitializeService({instanceIdentifier:Ra})}catch{}for(const[i,a]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:l});a.resolve(c)}catch{}}}}clearInstance(e=Ra){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ra){return this.instances.has(e)}getOptions(e=Ra){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,a=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:a,options:i});for(const[c,d]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(c);a===p&&d.resolve(l)}return l}onInit(e,i){const a=this.normalizeInstanceIdentifier(i),l=this.onInitCallbacks.get(a)??new Set;l.add(e),this.onInitCallbacks.set(a,l);const c=this.instances.get(a);return c&&e(c,a),()=>{l.delete(e)}}invokeOnInitCallbacks(e,i){const a=this.onInitCallbacks.get(i);if(a)for(const l of a)try{l(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let a=this.instances.get(e);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:kS(e),options:i}),this.instances.set(e,a),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(a,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,a)}catch{}return a||null}normalizeInstanceIdentifier(e=Ra){return this.component?this.component.multipleInstances?e:Ra:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function kS(r){return r===Ra?void 0:r}function US(r){return r.instantiationMode==="EAGER"}class LS{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new VS(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}var je;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(je||(je={}));const PS={debug:je.DEBUG,verbose:je.VERBOSE,info:je.INFO,warn:je.WARN,error:je.ERROR,silent:je.SILENT},zS=je.INFO,jS={[je.DEBUG]:"log",[je.VERBOSE]:"log",[je.INFO]:"info",[je.WARN]:"warn",[je.ERROR]:"error"},BS=(r,e,...i)=>{if(e<r.logLevel)return;const a=new Date().toISOString(),l=jS[e];if(l)console[l](`[${a}]  ${r.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class qm{constructor(e){this.name=e,this._logLevel=zS,this._logHandler=BS,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in je))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?PS[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,je.DEBUG,...e),this._logHandler(this,je.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,je.VERBOSE,...e),this._logHandler(this,je.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,je.INFO,...e),this._logHandler(this,je.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,je.WARN,...e),this._logHandler(this,je.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,je.ERROR,...e),this._logHandler(this,je.ERROR,...e)}}const qS=(r,e)=>e.some(i=>r instanceof i);let h0,f0;function HS(){return h0||(h0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function FS(){return f0||(f0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const t1=new WeakMap,fm=new WeakMap,n1=new WeakMap,$d=new WeakMap,Hm=new WeakMap;function GS(r){const e=new Promise((i,a)=>{const l=()=>{r.removeEventListener("success",c),r.removeEventListener("error",d)},c=()=>{i(xs(r.result)),l()},d=()=>{a(r.error),l()};r.addEventListener("success",c),r.addEventListener("error",d)});return e.then(i=>{i instanceof IDBCursor&&t1.set(i,r)}).catch(()=>{}),Hm.set(e,r),e}function QS(r){if(fm.has(r))return;const e=new Promise((i,a)=>{const l=()=>{r.removeEventListener("complete",c),r.removeEventListener("error",d),r.removeEventListener("abort",d)},c=()=>{i(),l()},d=()=>{a(r.error||new DOMException("AbortError","AbortError")),l()};r.addEventListener("complete",c),r.addEventListener("error",d),r.addEventListener("abort",d)});fm.set(r,e)}let dm={get(r,e,i){if(r instanceof IDBTransaction){if(e==="done")return fm.get(r);if(e==="objectStoreNames")return r.objectStoreNames||n1.get(r);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return xs(r[e])},set(r,e,i){return r[e]=i,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function YS(r){dm=r(dm)}function KS(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const a=r.call(Jd(this),e,...i);return n1.set(a,e.sort?e.sort():[e]),xs(a)}:FS().includes(r)?function(...e){return r.apply(Jd(this),e),xs(t1.get(this))}:function(...e){return xs(r.apply(Jd(this),e))}}function XS(r){return typeof r=="function"?KS(r):(r instanceof IDBTransaction&&QS(r),qS(r,HS())?new Proxy(r,dm):r)}function xs(r){if(r instanceof IDBRequest)return GS(r);if($d.has(r))return $d.get(r);const e=XS(r);return e!==r&&($d.set(r,e),Hm.set(e,r)),e}const Jd=r=>Hm.get(r);function $S(r,e,{blocked:i,upgrade:a,blocking:l,terminated:c}={}){const d=indexedDB.open(r,e),p=xs(d);return a&&d.addEventListener("upgradeneeded",y=>{a(xs(d.result),y.oldVersion,y.newVersion,xs(d.transaction),y)}),i&&d.addEventListener("blocked",y=>i(y.oldVersion,y.newVersion,y)),p.then(y=>{c&&y.addEventListener("close",()=>c()),l&&y.addEventListener("versionchange",_=>l(_.oldVersion,_.newVersion,_))}).catch(()=>{}),p}const JS=["get","getKey","getAll","getAllKeys","count"],ZS=["put","add","delete","clear"],Zd=new Map;function d0(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(Zd.get(e))return Zd.get(e);const i=e.replace(/FromIndex$/,""),a=e!==i,l=ZS.includes(i);if(!(i in(a?IDBIndex:IDBObjectStore).prototype)||!(l||JS.includes(i)))return;const c=async function(d,...p){const y=this.transaction(d,l?"readwrite":"readonly");let _=y.store;return a&&(_=_.index(p.shift())),(await Promise.all([_[i](...p),l&&y.done]))[0]};return Zd.set(e,c),c}YS(r=>({...r,get:(e,i,a)=>d0(e,i)||r.get(e,i,a),has:(e,i)=>!!d0(e,i)||r.has(e,i)}));class WS{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(eA(i)){const a=i.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(i=>i).join(" ")}}function eA(r){return r.getComponent()?.type==="VERSION"}const mm="@firebase/app",m0="0.14.6";const Vr=new qm("@firebase/app"),tA="@firebase/app-compat",nA="@firebase/analytics-compat",iA="@firebase/analytics",rA="@firebase/app-check-compat",sA="@firebase/app-check",aA="@firebase/auth",oA="@firebase/auth-compat",lA="@firebase/database",uA="@firebase/data-connect",cA="@firebase/database-compat",hA="@firebase/functions",fA="@firebase/functions-compat",dA="@firebase/installations",mA="@firebase/installations-compat",gA="@firebase/messaging",pA="@firebase/messaging-compat",yA="@firebase/performance",_A="@firebase/performance-compat",vA="@firebase/remote-config",EA="@firebase/remote-config-compat",TA="@firebase/storage",bA="@firebase/storage-compat",SA="@firebase/firestore",AA="@firebase/ai",wA="@firebase/firestore-compat",RA="firebase",CA="12.6.0";const gm="[DEFAULT]",IA={[mm]:"fire-core",[tA]:"fire-core-compat",[iA]:"fire-analytics",[nA]:"fire-analytics-compat",[sA]:"fire-app-check",[rA]:"fire-app-check-compat",[aA]:"fire-auth",[oA]:"fire-auth-compat",[lA]:"fire-rtdb",[uA]:"fire-data-connect",[cA]:"fire-rtdb-compat",[hA]:"fire-fn",[fA]:"fire-fn-compat",[dA]:"fire-iid",[mA]:"fire-iid-compat",[gA]:"fire-fcm",[pA]:"fire-fcm-compat",[yA]:"fire-perf",[_A]:"fire-perf-compat",[vA]:"fire-rc",[EA]:"fire-rc-compat",[TA]:"fire-gcs",[bA]:"fire-gcs-compat",[SA]:"fire-fst",[wA]:"fire-fst-compat",[AA]:"fire-vertex","fire-js":"fire-js",[RA]:"fire-js-all"};const oh=new Map,NA=new Map,pm=new Map;function g0(r,e){try{r.container.addComponent(e)}catch(i){Vr.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,i)}}function Po(r){const e=r.name;if(pm.has(e))return Vr.debug(`There were multiple attempts to register component ${e}.`),!1;pm.set(e,r);for(const i of oh.values())g0(i,r);for(const i of NA.values())g0(i,r);return!0}function Fm(r,e){const i=r.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),r.container.getProvider(e)}function vi(r){return r==null?!1:r.settings!==void 0}const xA={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ds=new fu("app","Firebase",xA);class DA{constructor(e,i,a){this._isDeleted=!1,this._options={...e},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new Va("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ds.create("app-deleted",{appName:this._name})}}const Qo=CA;function i1(r,e={}){let i=r;typeof e!="object"&&(e={name:e});const a={name:gm,automaticDataCollectionEnabled:!0,...e},l=a.name;if(typeof l!="string"||!l)throw Ds.create("bad-app-name",{appName:String(l)});if(i||(i=Jv()),!i)throw Ds.create("no-options");const c=oh.get(l);if(c){if(Oa(i,c.options)&&Oa(a,c.config))return c;throw Ds.create("duplicate-app",{appName:l})}const d=new LS(l);for(const y of pm.values())d.addComponent(y);const p=new DA(i,a,d);return oh.set(l,p),p}function r1(r=gm){const e=oh.get(r);if(!e&&r===gm&&Jv())return i1();if(!e)throw Ds.create("no-app",{appName:r});return e}function Ms(r,e,i){let a=IA[r]??r;i&&(a+=`-${i}`);const l=a.match(/\s|\//),c=e.match(/\s|\//);if(l||c){const d=[`Unable to register library "${a}" with version "${e}":`];l&&d.push(`library name "${a}" contains illegal characters (whitespace or "/")`),l&&c&&d.push("and"),c&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Vr.warn(d.join(" "));return}Po(new Va(`${a}-version`,()=>({library:a,version:e}),"VERSION"))}const MA="firebase-heartbeat-database",OA=1,nu="firebase-heartbeat-store";let Wd=null;function s1(){return Wd||(Wd=$S(MA,OA,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(nu)}catch(i){console.warn(i)}}}}).catch(r=>{throw Ds.create("idb-open",{originalErrorMessage:r.message})})),Wd}async function VA(r){try{const i=(await s1()).transaction(nu),a=await i.objectStore(nu).get(a1(r));return await i.done,a}catch(e){if(e instanceof jr)Vr.warn(e.message);else{const i=Ds.create("idb-get",{originalErrorMessage:e?.message});Vr.warn(i.message)}}}async function p0(r,e){try{const a=(await s1()).transaction(nu,"readwrite");await a.objectStore(nu).put(e,a1(r)),await a.done}catch(i){if(i instanceof jr)Vr.warn(i.message);else{const a=Ds.create("idb-set",{originalErrorMessage:i?.message});Vr.warn(a.message)}}}function a1(r){return`${r.name}!${r.options.appId}`}const kA=1024,UA=30;class LA{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new zA(i),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=y0();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(l=>l.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>UA){const l=jA(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Vr.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=y0(),{heartbeatsToSend:i,unsentEntries:a}=PA(this._heartbeatsCache.heartbeats),l=ah(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=e,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(e){return Vr.warn(e),""}}}function y0(){return new Date().toISOString().substring(0,10)}function PA(r,e=kA){const i=[];let a=r.slice();for(const l of r){const c=i.find(d=>d.agent===l.agent);if(c){if(c.dates.push(l.date),_0(i)>e){c.dates.pop();break}}else if(i.push({agent:l.agent,dates:[l.date]}),_0(i)>e){i.pop();break}a=a.slice(1)}return{heartbeatsToSend:i,unsentEntries:a}}class zA{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return wS()?RS().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await VA(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const a=await this.read();return p0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const a=await this.read();return p0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...e.heartbeats]})}else return}}function _0(r){return ah(JSON.stringify({version:2,heartbeats:r})).length}function jA(r){if(r.length===0)return-1;let e=0,i=r[0].date;for(let a=1;a<r.length;a++)r[a].date<i&&(i=r[a].date,e=a);return e}function BA(r){Po(new Va("platform-logger",e=>new WS(e),"PRIVATE")),Po(new Va("heartbeat",e=>new LA(e),"PRIVATE")),Ms(mm,m0,r),Ms(mm,m0,"esm2020"),Ms("fire-js","")}BA("");var qA="firebase",HA="12.6.0";Ms(qA,HA,"app");function o1(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const FA=o1,l1=new fu("auth","Firebase",o1());const lh=new qm("@firebase/auth");function GA(r,...e){lh.logLevel<=je.WARN&&lh.warn(`Auth (${Qo}): ${r}`,...e)}function Xc(r,...e){lh.logLevel<=je.ERROR&&lh.error(`Auth (${Qo}): ${r}`,...e)}function kr(r,...e){throw Gm(r,...e)}function Wi(r,...e){return Gm(r,...e)}function u1(r,e,i){const a={...FA(),[e]:i};return new fu("auth","Firebase",a).create(e,{appName:r.name})}function Or(r){return u1(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Gm(r,...e){if(typeof r!="string"){const i=e[0],a=[...e.slice(1)];return a[0]&&(a[0].appName=r.name),r._errorFactory.create(i,...a)}return l1.create(r,...e)}function be(r,e,...i){if(!r)throw Gm(e,...i)}function Dr(r){const e="INTERNAL ASSERTION FAILED: "+r;throw Xc(e),new Error(e)}function Ur(r,e){r||Dr(e)}function ym(){return typeof self<"u"&&self.location?.href||""}function QA(){return v0()==="http:"||v0()==="https:"}function v0(){return typeof self<"u"&&self.location?.protocol||null}function YA(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(QA()||TS()||"connection"in navigator)?navigator.onLine:!0}function KA(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}class mu{constructor(e,i){this.shortDelay=e,this.longDelay=i,Ur(i>e,"Short delay should be less than long delay!"),this.isMobile=_S()||bS()}get(){return YA()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Qm(r,e){Ur(r.emulator,"Emulator should always be set here");const{url:i}=r.emulator;return e?`${i}${e.startsWith("/")?e.slice(1):e}`:i}class c1{static initialize(e,i,a){this.fetchImpl=e,i&&(this.headersImpl=i),a&&(this.responseImpl=a)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Dr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Dr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Dr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const XA={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const $A=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],JA=new mu(3e4,6e4);function gu(r,e){return r.tenantId&&!e.tenantId?{...e,tenantId:r.tenantId}:e}async function Yo(r,e,i,a,l={}){return h1(r,l,async()=>{let c={},d={};a&&(e==="GET"?d=a:c={body:JSON.stringify(a)});const p=du({key:r.config.apiKey,...d}).slice(1),y=await r._getAdditionalHeaders();y["Content-Type"]="application/json",r.languageCode&&(y["X-Firebase-Locale"]=r.languageCode);const _={method:e,headers:y,...c};return ES()||(_.referrerPolicy="no-referrer"),r.emulatorConfig&&Go(r.emulatorConfig.host)&&(_.credentials="include"),c1.fetch()(await f1(r,r.config.apiHost,i,p),_)})}async function h1(r,e,i){r._canInitEmulator=!1;const a={...XA,...e};try{const l=new ZA(r),c=await Promise.race([i(),l.promise]);l.clearNetworkTimeout();const d=await c.json();if("needConfirmation"in d)throw jc(r,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const p=c.ok?d.errorMessage:d.error.message,[y,_]=p.split(" : ");if(y==="FEDERATED_USER_ID_ALREADY_LINKED")throw jc(r,"credential-already-in-use",d);if(y==="EMAIL_EXISTS")throw jc(r,"email-already-in-use",d);if(y==="USER_DISABLED")throw jc(r,"user-disabled",d);const b=a[y]||y.toLowerCase().replace(/[_\s]+/g,"-");if(_)throw u1(r,b,_);kr(r,b)}}catch(l){if(l instanceof jr)throw l;kr(r,"network-request-failed",{message:String(l)})}}async function Ym(r,e,i,a,l={}){const c=await Yo(r,e,i,a,l);return"mfaPendingCredential"in c&&kr(r,"multi-factor-auth-required",{_serverResponse:c}),c}async function f1(r,e,i,a){const l=`${e}${i}?${a}`,c=r,d=c.config.emulator?Qm(r.config,l):`${r.config.apiScheme}://${l}`;return $A.includes(i)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(d).toString():d}class ZA{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((i,a)=>{this.timer=setTimeout(()=>a(Wi(this.auth,"network-request-failed")),JA.get())})}}function jc(r,e,i){const a={appName:r.name};i.email&&(a.email=i.email),i.phoneNumber&&(a.phoneNumber=i.phoneNumber);const l=Wi(r,e,a);return l.customData._tokenResponse=i,l}async function WA(r,e){return Yo(r,"POST","/v1/accounts:delete",e)}async function uh(r,e){return Yo(r,"POST","/v1/accounts:lookup",e)}function Jl(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function e2(r,e=!1){const i=fn(r),a=await i.getIdToken(e),l=Km(a);be(l&&l.exp&&l.auth_time&&l.iat,i.auth,"internal-error");const c=typeof l.firebase=="object"?l.firebase:void 0,d=c?.sign_in_provider;return{claims:l,token:a,authTime:Jl(em(l.auth_time)),issuedAtTime:Jl(em(l.iat)),expirationTime:Jl(em(l.exp)),signInProvider:d||null,signInSecondFactor:c?.sign_in_second_factor||null}}function em(r){return Number(r)*1e3}function Km(r){const[e,i,a]=r.split(".");if(e===void 0||i===void 0||a===void 0)return Xc("JWT malformed, contained fewer than 3 sections"),null;try{const l=Xv(i);return l?JSON.parse(l):(Xc("Failed to decode base64 JWT payload"),null)}catch(l){return Xc("Caught error parsing JWT payload as JSON",l?.toString()),null}}function E0(r){const e=Km(r);return be(e,"internal-error"),be(typeof e.exp<"u","internal-error"),be(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function iu(r,e,i=!1){if(i)return e;try{return await e}catch(a){throw a instanceof jr&&t2(a)&&r.auth.currentUser===r&&await r.auth.signOut(),a}}function t2({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}class n2{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const a=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,a)}}schedule(e=!1){if(!this.isRunning)return;const i=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class _m{constructor(e,i){this.createdAt=e,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=Jl(this.lastLoginAt),this.creationTime=Jl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function ch(r){const e=r.auth,i=await r.getIdToken(),a=await iu(r,uh(e,{idToken:i}));be(a?.users.length,e,"internal-error");const l=a.users[0];r._notifyReloadListener(l);const c=l.providerUserInfo?.length?d1(l.providerUserInfo):[],d=r2(r.providerData,c),p=r.isAnonymous,y=!(r.email&&l.passwordHash)&&!d?.length,_=p?y:!1,b={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:d,metadata:new _m(l.createdAt,l.lastLoginAt),isAnonymous:_};Object.assign(r,b)}async function i2(r){const e=fn(r);await ch(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function r2(r,e){return[...r.filter(a=>!e.some(l=>l.providerId===a.providerId)),...e]}function d1(r){return r.map(({providerId:e,...i})=>({providerId:e,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}async function s2(r,e){const i=await h1(r,{},async()=>{const a=du({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:l,apiKey:c}=r.config,d=await f1(r,l,"/v1/token",`key=${c}`),p=await r._getAdditionalHeaders();p["Content-Type"]="application/x-www-form-urlencoded";const y={method:"POST",headers:p,body:a};return r.emulatorConfig&&Go(r.emulatorConfig.host)&&(y.credentials="include"),c1.fetch()(d,y)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function a2(r,e){return Yo(r,"POST","/v2/accounts:revokeToken",gu(r,e))}class Mo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){be(e.idToken,"internal-error"),be(typeof e.idToken<"u","internal-error"),be(typeof e.refreshToken<"u","internal-error");const i="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):E0(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,i)}updateFromIdToken(e){be(e.length!==0,"internal-error");const i=E0(e);this.updateTokensAndExpiration(e,null,i)}async getToken(e,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(be(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,i){const{accessToken:a,refreshToken:l,expiresIn:c}=await s2(e,i);this.updateTokensAndExpiration(a,l,Number(c))}updateTokensAndExpiration(e,i,a){this.refreshToken=i||null,this.accessToken=e||null,this.expirationTime=Date.now()+a*1e3}static fromJSON(e,i){const{refreshToken:a,accessToken:l,expirationTime:c}=i,d=new Mo;return a&&(be(typeof a=="string","internal-error",{appName:e}),d.refreshToken=a),l&&(be(typeof l=="string","internal-error",{appName:e}),d.accessToken=l),c&&(be(typeof c=="number","internal-error",{appName:e}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Mo,this.toJSON())}_performRefresh(){return Dr("not implemented")}}function Ss(r,e){be(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class Vi{constructor({uid:e,auth:i,stsTokenManager:a,...l}){this.providerId="firebase",this.proactiveRefresh=new n2(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=i,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new _m(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(e){const i=await iu(this,this.stsTokenManager.getToken(this.auth,e));return be(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(e){return e2(this,e)}reload(){return i2(this)}_assign(e){this!==e&&(be(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(i=>({...i})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const i=new Vi({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(e){be(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,i=!1){let a=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),a=!0),i&&await ch(this),await this.auth._persistUserIfCurrent(this),a&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(vi(this.auth.app))return Promise.reject(Or(this.auth));const e=await this.getIdToken();return await iu(this,WA(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,i){const a=i.displayName??void 0,l=i.email??void 0,c=i.phoneNumber??void 0,d=i.photoURL??void 0,p=i.tenantId??void 0,y=i._redirectEventId??void 0,_=i.createdAt??void 0,b=i.lastLoginAt??void 0,{uid:A,emailVerified:V,isAnonymous:Y,providerData:ee,stsTokenManager:ne}=i;be(A&&ne,e,"internal-error");const te=Mo.fromJSON(this.name,ne);be(typeof A=="string",e,"internal-error"),Ss(a,e.name),Ss(l,e.name),be(typeof V=="boolean",e,"internal-error"),be(typeof Y=="boolean",e,"internal-error"),Ss(c,e.name),Ss(d,e.name),Ss(p,e.name),Ss(y,e.name),Ss(_,e.name),Ss(b,e.name);const de=new Vi({uid:A,auth:e,email:l,emailVerified:V,displayName:a,isAnonymous:Y,photoURL:d,phoneNumber:c,tenantId:p,stsTokenManager:te,createdAt:_,lastLoginAt:b});return ee&&Array.isArray(ee)&&(de.providerData=ee.map(Ae=>({...Ae}))),y&&(de._redirectEventId=y),de}static async _fromIdTokenResponse(e,i,a=!1){const l=new Mo;l.updateFromServerResponse(i);const c=new Vi({uid:i.localId,auth:e,stsTokenManager:l,isAnonymous:a});return await ch(c),c}static async _fromGetAccountInfoResponse(e,i,a){const l=i.users[0];be(l.localId!==void 0,"internal-error");const c=l.providerUserInfo!==void 0?d1(l.providerUserInfo):[],d=!(l.email&&l.passwordHash)&&!c?.length,p=new Mo;p.updateFromIdToken(a);const y=new Vi({uid:l.localId,auth:e,stsTokenManager:p,isAnonymous:d}),_={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:c,metadata:new _m(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!c?.length};return Object.assign(y,_),y}}const T0=new Map;function Mr(r){Ur(r instanceof Function,"Expected a class definition");let e=T0.get(r);return e?(Ur(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,T0.set(r,e),e)}class m1{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,i){this.storage[e]=i}async _get(e){const i=this.storage[e];return i===void 0?null:i}async _remove(e){delete this.storage[e]}_addListener(e,i){}_removeListener(e,i){}}m1.type="NONE";const b0=m1;function $c(r,e,i){return`firebase:${r}:${e}:${i}`}class Oo{constructor(e,i,a){this.persistence=e,this.auth=i,this.userKey=a;const{config:l,name:c}=this.auth;this.fullUserKey=$c(this.userKey,l.apiKey,c),this.fullPersistenceKey=$c("persistence",l.apiKey,c),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const i=await uh(this.auth,{idToken:e}).catch(()=>{});return i?Vi._fromGetAccountInfoResponse(this.auth,i,e):null}return Vi._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,i,a="authUser"){if(!i.length)return new Oo(Mr(b0),e,a);const l=(await Promise.all(i.map(async _=>{if(await _._isAvailable())return _}))).filter(_=>_);let c=l[0]||Mr(b0);const d=$c(a,e.config.apiKey,e.name);let p=null;for(const _ of i)try{const b=await _._get(d);if(b){let A;if(typeof b=="string"){const V=await uh(e,{idToken:b}).catch(()=>{});if(!V)break;A=await Vi._fromGetAccountInfoResponse(e,V,b)}else A=Vi._fromJSON(e,b);_!==c&&(p=A),c=_;break}}catch{}const y=l.filter(_=>_._shouldAllowMigration);return!c._shouldAllowMigration||!y.length?new Oo(c,e,a):(c=y[0],p&&await c._set(d,p.toJSON()),await Promise.all(i.map(async _=>{if(_!==c)try{await _._remove(d)}catch{}})),new Oo(c,e,a))}}function S0(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(_1(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(g1(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(E1(e))return"Blackberry";if(T1(e))return"Webos";if(p1(e))return"Safari";if((e.includes("chrome/")||y1(e))&&!e.includes("edge/"))return"Chrome";if(v1(e))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,a=r.match(i);if(a?.length===2)return a[1]}return"Other"}function g1(r=bn()){return/firefox\//i.test(r)}function p1(r=bn()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function y1(r=bn()){return/crios\//i.test(r)}function _1(r=bn()){return/iemobile/i.test(r)}function v1(r=bn()){return/android/i.test(r)}function E1(r=bn()){return/blackberry/i.test(r)}function T1(r=bn()){return/webos/i.test(r)}function Xm(r=bn()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function o2(r=bn()){return Xm(r)&&!!window.navigator?.standalone}function l2(){return SS()&&document.documentMode===10}function b1(r=bn()){return Xm(r)||v1(r)||T1(r)||E1(r)||/windows phone/i.test(r)||_1(r)}function S1(r,e=[]){let i;switch(r){case"Browser":i=S0(bn());break;case"Worker":i=`${S0(bn())}-${r}`;break;default:i=r}const a=e.length?e.join(","):"FirebaseCore-web";return`${i}/JsCore/${Qo}/${a}`}class u2{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,i){const a=c=>new Promise((d,p)=>{try{const y=e(c);d(y)}catch(y){p(y)}});a.onAbort=i,this.queue.push(a);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const i=[];try{for(const a of this.queue)await a(e),a.onAbort&&i.push(a.onAbort)}catch(a){i.reverse();for(const l of i)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:a?.message})}}}async function c2(r,e={}){return Yo(r,"GET","/v2/passwordPolicy",gu(r,e))}const h2=6;class f2{constructor(e){const i=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??h2,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,i),this.validatePasswordCharacterOptions(e,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(e,i){const a=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;a&&(i.meetsMinPasswordLength=e.length>=a),l&&(i.meetsMaxPasswordLength=e.length<=l)}validatePasswordCharacterOptions(e,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let a;for(let l=0;l<e.length;l++)a=e.charAt(l),this.updatePasswordCharacterOptionsStatuses(i,a>="a"&&a<="z",a>="A"&&a<="Z",a>="0"&&a<="9",this.allowedNonAlphanumericCharacters.includes(a))}updatePasswordCharacterOptionsStatuses(e,i,a,l,c){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=a)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=c))}}class d2{constructor(e,i,a,l){this.app=e,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=a,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new A0(this),this.idTokenSubscription=new A0(this),this.beforeStateQueue=new u2(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=l1,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(e,i){return i&&(this._popupRedirectResolver=Mr(i)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Oo.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const i=await uh(this,{idToken:e}),a=await Vi._fromGetAccountInfoResponse(this,i,e);await this.directlySetCurrentUser(a)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(vi(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let a=i,l=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,d=a?._redirectEventId,p=await this.tryRedirectSignIn(e);(!c||c===d)&&p?.user&&(a=p.user,l=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(a)}catch(c){a=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return be(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(e){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(e){try{await ch(e)}catch(i){if(i?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=KA()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(vi(this.app))return Promise.reject(Or(this));const i=e?fn(e):null;return i&&be(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(e,i=!1){if(!this._deleted)return e&&be(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return vi(this.app)?Promise.reject(Or(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return vi(this.app)?Promise.reject(Or(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Mr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await c2(this),i=new f2(e);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new fu("auth","Firebase",e())}onAuthStateChanged(e,i,a){return this.registerStateListener(this.authStateSubscription,e,i,a)}beforeAuthStateChanged(e,i){return this.beforeStateQueue.pushCallback(e,i)}onIdTokenChanged(e,i,a){return this.registerStateListener(this.idTokenSubscription,e,i,a)}authStateReady(){return new Promise((e,i)=>{if(this.currentUser)e();else{const a=this.onAuthStateChanged(()=>{a(),e()},i)}})}async revokeAccessToken(e){if(this.currentUser){const i=await this.currentUser.getIdToken(),a={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:i};this.tenantId!=null&&(a.tenantId=this.tenantId),await a2(this,a)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,i){const a=await this.getOrInitRedirectPersistenceManager(i);return e===null?a.removeCurrentUser():a.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const i=e&&Mr(e)||this._popupRedirectResolver;be(i,this,"argument-error"),this.redirectPersistenceManager=await Oo.create(this,[Mr(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,i,a,l){if(this._deleted)return()=>{};const c=typeof i=="function"?i:i.next.bind(i);let d=!1;const p=this._isInitialized?Promise.resolve():this._initializationPromise;if(be(p,this,"internal-error"),p.then(()=>{d||c(this.currentUser)}),typeof i=="function"){const y=e.addObserver(i,a,l);return()=>{d=!0,y()}}else{const y=e.addObserver(i);return()=>{d=!0,y()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return be(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=S1(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const i=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();i&&(e["X-Firebase-Client"]=i);const a=await this._getAppCheckToken();return a&&(e["X-Firebase-AppCheck"]=a),e}async _getAppCheckToken(){if(vi(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&GA(`Error while retrieving App Check token: ${e.error}`),e?.token}}function pu(r){return fn(r)}class A0{constructor(e){this.auth=e,this.observer=null,this.addObserver=DS(i=>this.observer=i)}get next(){return be(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let $m={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function m2(r){$m=r}function g2(r){return $m.loadJS(r)}function p2(){return $m.gapiScript}function y2(r){return`__${r}${Math.floor(Math.random()*1e6)}`}function _2(r,e){const i=Fm(r,"auth");if(i.isInitialized()){const l=i.getImmediate(),c=i.getOptions();if(Oa(c,e??{}))return l;kr(l,"already-initialized")}return i.initialize({options:e})}function v2(r,e){const i=e?.persistence||[],a=(Array.isArray(i)?i:[i]).map(Mr);e?.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(a,e?.popupRedirectResolver)}function E2(r,e,i){const a=pu(r);be(/^https?:\/\//.test(e),a,"invalid-emulator-scheme");const l=!1,c=A1(e),{host:d,port:p}=T2(e),y=p===null?"":`:${p}`,_={url:`${c}//${d}${y}/`},b=Object.freeze({host:d,port:p,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!a._canInitEmulator){be(a.config.emulator&&a.emulatorConfig,a,"emulator-config-failed"),be(Oa(_,a.config.emulator)&&Oa(b,a.emulatorConfig),a,"emulator-config-failed");return}a.config.emulator=_,a.emulatorConfig=b,a.settings.appVerificationDisabledForTesting=!0,Go(d)?(Wv(`${c}//${d}${y}`),e1("Auth",!0)):b2()}function A1(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function T2(r){const e=A1(r),i=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!i)return{host:"",port:null};const a=i[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(a);if(l){const c=l[1];return{host:c,port:w0(a.substr(c.length+1))}}else{const[c,d]=a.split(":");return{host:c,port:w0(d)}}}function w0(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function b2(){function r(){const e=document.createElement("p"),i=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}class w1{constructor(e,i){this.providerId=e,this.signInMethod=i}toJSON(){return Dr("not implemented")}_getIdTokenResponse(e){return Dr("not implemented")}_linkToIdToken(e,i){return Dr("not implemented")}_getReauthenticationResolver(e){return Dr("not implemented")}}async function Vo(r,e){return Ym(r,"POST","/v1/accounts:signInWithIdp",gu(r,e))}const S2="http://localhost";class ka extends w1{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const i=new ka(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(i.idToken=e.idToken),e.accessToken&&(i.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(i.nonce=e.nonce),e.pendingToken&&(i.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(i.accessToken=e.oauthToken,i.secret=e.oauthTokenSecret):kr("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const i=typeof e=="string"?JSON.parse(e):e,{providerId:a,signInMethod:l,...c}=i;if(!a||!l)return null;const d=new ka(a,l);return d.idToken=c.idToken||void 0,d.accessToken=c.accessToken||void 0,d.secret=c.secret,d.nonce=c.nonce,d.pendingToken=c.pendingToken||null,d}_getIdTokenResponse(e){const i=this.buildRequest();return Vo(e,i)}_linkToIdToken(e,i){const a=this.buildRequest();return a.idToken=i,Vo(e,a)}_getReauthenticationResolver(e){const i=this.buildRequest();return i.autoCreate=!1,Vo(e,i)}buildRequest(){const e={requestUri:S2,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),e.postBody=du(i)}return e}}class R1{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class yu extends R1{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class ws extends yu{constructor(){super("facebook.com")}static credential(e){return ka._fromParams({providerId:ws.PROVIDER_ID,signInMethod:ws.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ws.credentialFromTaggedObject(e)}static credentialFromError(e){return ws.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ws.credential(e.oauthAccessToken)}catch{return null}}}ws.FACEBOOK_SIGN_IN_METHOD="facebook.com";ws.PROVIDER_ID="facebook.com";class Rs extends yu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,i){return ka._fromParams({providerId:Rs.PROVIDER_ID,signInMethod:Rs.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:i})}static credentialFromResult(e){return Rs.credentialFromTaggedObject(e)}static credentialFromError(e){return Rs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:i,oauthAccessToken:a}=e;if(!i&&!a)return null;try{return Rs.credential(i,a)}catch{return null}}}Rs.GOOGLE_SIGN_IN_METHOD="google.com";Rs.PROVIDER_ID="google.com";class Cs extends yu{constructor(){super("github.com")}static credential(e){return ka._fromParams({providerId:Cs.PROVIDER_ID,signInMethod:Cs.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Cs.credentialFromTaggedObject(e)}static credentialFromError(e){return Cs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Cs.credential(e.oauthAccessToken)}catch{return null}}}Cs.GITHUB_SIGN_IN_METHOD="github.com";Cs.PROVIDER_ID="github.com";class Is extends yu{constructor(){super("twitter.com")}static credential(e,i){return ka._fromParams({providerId:Is.PROVIDER_ID,signInMethod:Is.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:i})}static credentialFromResult(e){return Is.credentialFromTaggedObject(e)}static credentialFromError(e){return Is.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:i,oauthTokenSecret:a}=e;if(!i||!a)return null;try{return Is.credential(i,a)}catch{return null}}}Is.TWITTER_SIGN_IN_METHOD="twitter.com";Is.PROVIDER_ID="twitter.com";async function A2(r,e){return Ym(r,"POST","/v1/accounts:signUp",gu(r,e))}class Lr{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,i,a,l=!1){const c=await Vi._fromIdTokenResponse(e,a,l),d=R0(a);return new Lr({user:c,providerId:d,_tokenResponse:a,operationType:i})}static async _forOperation(e,i,a){await e._updateTokensIfNecessary(a,!0);const l=R0(a);return new Lr({user:e,providerId:l,_tokenResponse:a,operationType:i})}}function R0(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}async function w2(r){if(vi(r.app))return Promise.reject(Or(r));const e=pu(r);if(await e._initializationPromise,e.currentUser?.isAnonymous)return new Lr({user:e.currentUser,providerId:null,operationType:"signIn"});const i=await A2(e,{returnSecureToken:!0}),a=await Lr._fromIdTokenResponse(e,"signIn",i,!0);return await e._updateCurrentUser(a.user),a}class hh extends jr{constructor(e,i,a,l){super(i.code,i.message),this.operationType=a,this.user=l,Object.setPrototypeOf(this,hh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:a}}static _fromErrorAndOperation(e,i,a,l){return new hh(e,i,a,l)}}function C1(r,e,i,a){return(e==="reauthenticate"?i._getReauthenticationResolver(r):i._getIdTokenResponse(r)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?hh._fromErrorAndOperation(r,c,e,a):c})}async function R2(r,e,i=!1){const a=await iu(r,e._linkToIdToken(r.auth,await r.getIdToken()),i);return Lr._forOperation(r,"link",a)}async function C2(r,e,i=!1){const{auth:a}=r;if(vi(a.app))return Promise.reject(Or(a));const l="reauthenticate";try{const c=await iu(r,C1(a,l,e,r),i);be(c.idToken,a,"internal-error");const d=Km(c.idToken);be(d,a,"internal-error");const{sub:p}=d;return be(r.uid===p,a,"user-mismatch"),Lr._forOperation(r,l,c)}catch(c){throw c?.code==="auth/user-not-found"&&kr(a,"user-mismatch"),c}}async function I2(r,e,i=!1){if(vi(r.app))return Promise.reject(Or(r));const a="signIn",l=await C1(r,a,e),c=await Lr._fromIdTokenResponse(r,a,l);return i||await r._updateCurrentUser(c.user),c}async function N2(r,e){return Ym(r,"POST","/v1/accounts:signInWithCustomToken",gu(r,e))}async function x2(r,e){if(vi(r.app))return Promise.reject(Or(r));const i=pu(r),a=await N2(i,{token:e,returnSecureToken:!0}),l=await Lr._fromIdTokenResponse(i,"signIn",a);return await i._updateCurrentUser(l.user),l}function D2(r,e,i,a){return fn(r).onIdTokenChanged(e,i,a)}function M2(r,e,i){return fn(r).beforeAuthStateChanged(e,i)}function O2(r,e,i,a){return fn(r).onAuthStateChanged(e,i,a)}const fh="__sak";class I1{constructor(e,i){this.storageRetriever=e,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(fh,"1"),this.storage.removeItem(fh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,i){return this.storage.setItem(e,JSON.stringify(i)),Promise.resolve()}_get(e){const i=this.storage.getItem(e);return Promise.resolve(i?JSON.parse(i):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const V2=1e3,k2=10;class N1 extends I1{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,i)=>this.onStorageEvent(e,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=b1(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const i of Object.keys(this.listeners)){const a=this.storage.getItem(i),l=this.localCache[i];a!==l&&e(i,l,a)}}onStorageEvent(e,i=!1){if(!e.key){this.forAllChangedKeys((d,p,y)=>{this.notifyListeners(d,y)});return}const a=e.key;i?this.detachListener():this.stopPolling();const l=()=>{const d=this.storage.getItem(a);!i&&this.localCache[a]===d||this.notifyListeners(a,d)},c=this.storage.getItem(a);l2()&&c!==e.newValue&&e.newValue!==e.oldValue?setTimeout(l,k2):l()}notifyListeners(e,i){this.localCache[e]=i;const a=this.listeners[e];if(a)for(const l of Array.from(a))l(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,i,a)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:i,newValue:a}),!0)})},V2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,i){await super._set(e,i),this.localCache[e]=JSON.stringify(i)}async _get(e){const i=await super._get(e);return this.localCache[e]=JSON.stringify(i),i}async _remove(e){await super._remove(e),delete this.localCache[e]}}N1.type="LOCAL";const U2=N1;class x1 extends I1{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,i){}_removeListener(e,i){}}x1.type="SESSION";const D1=x1;function L2(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(i){return{fulfilled:!1,reason:i}}}))}class Nh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const i=this.receivers.find(l=>l.isListeningto(e));if(i)return i;const a=new Nh(e);return this.receivers.push(a),a}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const i=e,{eventId:a,eventType:l,data:c}=i.data,d=this.handlersMap[l];if(!d?.size)return;i.ports[0].postMessage({status:"ack",eventId:a,eventType:l});const p=Array.from(d).map(async _=>_(i.origin,c)),y=await L2(p);i.ports[0].postMessage({status:"done",eventId:a,eventType:l,response:y})}_subscribe(e,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(i)}_unsubscribe(e,i){this.handlersMap[e]&&i&&this.handlersMap[e].delete(i),(!i||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Nh.receivers=[];function Jm(r="",e=10){let i="";for(let a=0;a<e;a++)i+=Math.floor(Math.random()*10);return r+i}class P2{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,i,a=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let c,d;return new Promise((p,y)=>{const _=Jm("",20);l.port1.start();const b=setTimeout(()=>{y(new Error("unsupported_event"))},a);d={messageChannel:l,onMessage(A){const V=A;if(V.data.eventId===_)switch(V.data.status){case"ack":clearTimeout(b),c=setTimeout(()=>{y(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),p(V.data.response);break;default:clearTimeout(b),clearTimeout(c),y(new Error("invalid_response"));break}}},this.handlers.add(d),l.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:e,eventId:_,data:i},[l.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}function er(){return window}function z2(r){er().location.href=r}function M1(){return typeof er().WorkerGlobalScope<"u"&&typeof er().importScripts=="function"}async function j2(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function B2(){return navigator?.serviceWorker?.controller||null}function q2(){return M1()?self:null}const O1="firebaseLocalStorageDb",H2=1,dh="firebaseLocalStorage",V1="fbase_key";class _u{constructor(e){this.request=e}toPromise(){return new Promise((e,i)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function xh(r,e){return r.transaction([dh],e?"readwrite":"readonly").objectStore(dh)}function F2(){const r=indexedDB.deleteDatabase(O1);return new _u(r).toPromise()}function vm(){const r=indexedDB.open(O1,H2);return new Promise((e,i)=>{r.addEventListener("error",()=>{i(r.error)}),r.addEventListener("upgradeneeded",()=>{const a=r.result;try{a.createObjectStore(dh,{keyPath:V1})}catch(l){i(l)}}),r.addEventListener("success",async()=>{const a=r.result;a.objectStoreNames.contains(dh)?e(a):(a.close(),await F2(),e(await vm()))})})}async function C0(r,e,i){const a=xh(r,!0).put({[V1]:e,value:i});return new _u(a).toPromise()}async function G2(r,e){const i=xh(r,!1).get(e),a=await new _u(i).toPromise();return a===void 0?null:a.value}function I0(r,e){const i=xh(r,!0).delete(e);return new _u(i).toPromise()}const Q2=800,Y2=3;class k1{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await vm(),this.db)}async _withRetries(e){let i=0;for(;;)try{const a=await this._openDb();return await e(a)}catch(a){if(i++>Y2)throw a;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return M1()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Nh._getInstance(q2()),this.receiver._subscribe("keyChanged",async(e,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(e,i)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await j2(),!this.activeServiceWorker)return;this.sender=new P2(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||B2()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await vm();return await C0(e,fh,"1"),await I0(e,fh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,i){return this._withPendingWrite(async()=>(await this._withRetries(a=>C0(a,e,i)),this.localCache[e]=i,this.notifyServiceWorker(e)))}async _get(e){const i=await this._withRetries(a=>G2(a,e));return this.localCache[e]=i,i}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(i=>I0(i,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(l=>{const c=xh(l,!1).getAll();return new _u(c).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const i=[],a=new Set;if(e.length!==0)for(const{fbase_key:l,value:c}of e)a.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(c)&&(this.notifyListeners(l,c),i.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!a.has(l)&&(this.notifyListeners(l,null),i.push(l));return i}notifyListeners(e,i){this.localCache[e]=i;const a=this.listeners[e];if(a)for(const l of Array.from(a))l(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Q2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}k1.type="LOCAL";const K2=k1;new mu(3e4,6e4);function X2(r,e){return e?Mr(e):(be(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}class Zm extends w1{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Vo(e,this._buildIdpRequest())}_linkToIdToken(e,i){return Vo(e,this._buildIdpRequest(i))}_getReauthenticationResolver(e){return Vo(e,this._buildIdpRequest())}_buildIdpRequest(e){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(i.idToken=e),i}}function $2(r){return I2(r.auth,new Zm(r),r.bypassAuthState)}function J2(r){const{auth:e,user:i}=r;return be(i,e,"internal-error"),C2(i,new Zm(r),r.bypassAuthState)}async function Z2(r){const{auth:e,user:i}=r;return be(i,e,"internal-error"),R2(i,new Zm(r),r.bypassAuthState)}class U1{constructor(e,i,a,l,c=!1){this.auth=e,this.resolver=a,this.user=l,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(e,i)=>{this.pendingPromise={resolve:e,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(a){this.reject(a)}})}async onAuthEvent(e){const{urlResponse:i,sessionId:a,postBody:l,tenantId:c,error:d,type:p}=e;if(d){this.reject(d);return}const y={auth:this.auth,requestUri:i,sessionId:a,tenantId:c||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(p)(y))}catch(_){this.reject(_)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return $2;case"linkViaPopup":case"linkViaRedirect":return Z2;case"reauthViaPopup":case"reauthViaRedirect":return J2;default:kr(this.auth,"internal-error")}}resolve(e){Ur(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ur(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const W2=new mu(2e3,1e4);class Do extends U1{constructor(e,i,a,l,c){super(e,i,l,c),this.provider=a,this.authWindow=null,this.pollId=null,Do.currentPopupAction&&Do.currentPopupAction.cancel(),Do.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return be(e,this.auth,"internal-error"),e}async onExecution(){Ur(this.filter.length===1,"Popup operations only handle one event");const e=Jm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(Wi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Wi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Do.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Wi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,W2.get())};e()}}Do.currentPopupAction=null;const ew="pendingRedirect",Jc=new Map;class tw extends U1{constructor(e,i,a=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,a),this.eventId=null}async execute(){let e=Jc.get(this.auth._key());if(!e){try{const a=await nw(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(a)}catch(i){e=()=>Promise.reject(i)}Jc.set(this.auth._key(),e)}return this.bypassAuthState||Jc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const i=await this.auth._redirectUserForId(e.eventId);if(i)return this.user=i,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function nw(r,e){const i=sw(e),a=rw(r);if(!await a._isAvailable())return!1;const l=await a._get(i)==="true";return await a._remove(i),l}function iw(r,e){Jc.set(r._key(),e)}function rw(r){return Mr(r._redirectPersistence)}function sw(r){return $c(ew,r.config.apiKey,r.name)}async function aw(r,e,i=!1){if(vi(r.app))return Promise.reject(Or(r));const a=pu(r),l=X2(a,e),d=await new tw(a,l,i).execute();return d&&!i&&(delete d.user._redirectEventId,await a._persistUserIfCurrent(d.user),await a._setRedirectUser(null,e)),d}const ow=600*1e3;class lw{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let i=!1;return this.consumers.forEach(a=>{this.isEventForConsumer(e,a)&&(i=!0,this.sendToConsumer(e,a),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!uw(e)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=e,i=!0)),i}sendToConsumer(e,i){if(e.error&&!L1(e)){const a=e.error.code?.split("auth/")[1]||"internal-error";i.onError(Wi(this.auth,a))}else i.onAuthEvent(e)}isEventForConsumer(e,i){const a=i.eventId===null||!!e.eventId&&e.eventId===i.eventId;return i.filter.includes(e.type)&&a}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=ow&&this.cachedEventUids.clear(),this.cachedEventUids.has(N0(e))}saveEventToCache(e){this.cachedEventUids.add(N0(e)),this.lastProcessedEventTime=Date.now()}}function N0(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function L1({type:r,error:e}){return r==="unknown"&&e?.code==="auth/no-auth-event"}function uw(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return L1(r);default:return!1}}async function cw(r,e={}){return Yo(r,"GET","/v1/projects",e)}const hw=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,fw=/^https?/;async function dw(r){if(r.config.emulator)return;const{authorizedDomains:e}=await cw(r);for(const i of e)try{if(mw(i))return}catch{}kr(r,"unauthorized-domain")}function mw(r){const e=ym(),{protocol:i,hostname:a}=new URL(e);if(r.startsWith("chrome-extension://")){const d=new URL(r);return d.hostname===""&&a===""?i==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):i==="chrome-extension:"&&d.hostname===a}if(!fw.test(i))return!1;if(hw.test(r))return a===r;const l=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(a)}const gw=new mu(3e4,6e4);function x0(){const r=er().___jsl;if(r?.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let i=0;i<r.CP.length;i++)r.CP[i]=null}}function pw(r){return new Promise((e,i)=>{function a(){x0(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{x0(),i(Wi(r,"network-request-failed"))},timeout:gw.get()})}if(er().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(er().gapi?.load)a();else{const l=y2("iframefcb");return er()[l]=()=>{gapi.load?a():i(Wi(r,"network-request-failed"))},g2(`${p2()}?onload=${l}`).catch(c=>i(c))}}).catch(e=>{throw Zc=null,e})}let Zc=null;function yw(r){return Zc=Zc||pw(r),Zc}const _w=new mu(5e3,15e3),vw="__/auth/iframe",Ew="emulator/auth/iframe",Tw={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},bw=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Sw(r){const e=r.config;be(e.authDomain,r,"auth-domain-config-required");const i=e.emulator?Qm(e,Ew):`https://${r.config.authDomain}/${vw}`,a={apiKey:e.apiKey,appName:r.name,v:Qo},l=bw.get(r.config.apiHost);l&&(a.eid=l);const c=r._getFrameworks();return c.length&&(a.fw=c.join(",")),`${i}?${du(a).slice(1)}`}async function Aw(r){const e=await yw(r),i=er().gapi;return be(i,r,"internal-error"),e.open({where:document.body,url:Sw(r),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Tw,dontclear:!0},a=>new Promise(async(l,c)=>{await a.restyle({setHideOnLeave:!1});const d=Wi(r,"network-request-failed"),p=er().setTimeout(()=>{c(d)},_w.get());function y(){er().clearTimeout(p),l(a)}a.ping(y).then(y,()=>{c(d)})}))}const ww={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Rw=500,Cw=600,Iw="_blank",Nw="http://localhost";class D0{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function xw(r,e,i,a=Rw,l=Cw){const c=Math.max((window.screen.availHeight-l)/2,0).toString(),d=Math.max((window.screen.availWidth-a)/2,0).toString();let p="";const y={...ww,width:a.toString(),height:l.toString(),top:c,left:d},_=bn().toLowerCase();i&&(p=y1(_)?Iw:i),g1(_)&&(e=e||Nw,y.scrollbars="yes");const b=Object.entries(y).reduce((V,[Y,ee])=>`${V}${Y}=${ee},`,"");if(o2(_)&&p!=="_self")return Dw(e||"",p),new D0(null);const A=window.open(e||"",p,b);be(A,r,"popup-blocked");try{A.focus()}catch{}return new D0(A)}function Dw(r,e){const i=document.createElement("a");i.href=r,i.target=e;const a=document.createEvent("MouseEvent");a.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(a)}const Mw="__/auth/handler",Ow="emulator/auth/handler",Vw=encodeURIComponent("fac");async function M0(r,e,i,a,l,c){be(r.config.authDomain,r,"auth-domain-config-required"),be(r.config.apiKey,r,"invalid-api-key");const d={apiKey:r.config.apiKey,appName:r.name,authType:i,redirectUrl:a,v:Qo,eventId:l};if(e instanceof R1){e.setDefaultLanguage(r.languageCode),d.providerId=e.providerId||"",xS(e.getCustomParameters())||(d.customParameters=JSON.stringify(e.getCustomParameters()));for(const[b,A]of Object.entries({}))d[b]=A}if(e instanceof yu){const b=e.getScopes().filter(A=>A!=="");b.length>0&&(d.scopes=b.join(","))}r.tenantId&&(d.tid=r.tenantId);const p=d;for(const b of Object.keys(p))p[b]===void 0&&delete p[b];const y=await r._getAppCheckToken(),_=y?`#${Vw}=${encodeURIComponent(y)}`:"";return`${kw(r)}?${du(p).slice(1)}${_}`}function kw({config:r}){return r.emulator?Qm(r,Ow):`https://${r.authDomain}/${Mw}`}const tm="webStorageSupport";class Uw{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=D1,this._completeRedirectFn=aw,this._overrideRedirectResult=iw}async _openPopup(e,i,a,l){Ur(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const c=await M0(e,i,a,ym(),l);return xw(e,c,Jm())}async _openRedirect(e,i,a,l){await this._originValidation(e);const c=await M0(e,i,a,ym(),l);return z2(c),new Promise(()=>{})}_initialize(e){const i=e._key();if(this.eventManagers[i]){const{manager:l,promise:c}=this.eventManagers[i];return l?Promise.resolve(l):(Ur(c,"If manager is not set, promise should be"),c)}const a=this.initAndGetManager(e);return this.eventManagers[i]={promise:a},a.catch(()=>{delete this.eventManagers[i]}),a}async initAndGetManager(e){const i=await Aw(e),a=new lw(e);return i.register("authEvent",l=>(be(l?.authEvent,e,"invalid-auth-event"),{status:a.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:a},this.iframes[e._key()]=i,a}_isIframeWebStorageSupported(e,i){this.iframes[e._key()].send(tm,{type:tm},l=>{const c=l?.[0]?.[tm];c!==void 0&&i(!!c),kr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const i=e._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=dw(e)),this.originValidationPromises[i]}get _shouldInitProactively(){return b1()||p1()||Xm()}}const Lw=Uw;var O0="@firebase/auth",V0="1.11.1";class Pw{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const i=this.auth.onIdTokenChanged(a=>{e(a?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,i),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const i=this.internalListeners.get(e);i&&(this.internalListeners.delete(e),i(),this.updateProactiveRefresh())}assertAuthConfigured(){be(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function zw(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function jw(r){Po(new Va("auth",(e,{options:i})=>{const a=e.getProvider("app").getImmediate(),l=e.getProvider("heartbeat"),c=e.getProvider("app-check-internal"),{apiKey:d,authDomain:p}=a.options;be(d&&!d.includes(":"),"invalid-api-key",{appName:a.name});const y={apiKey:d,authDomain:p,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:S1(r)},_=new d2(a,l,c,y);return v2(_,i),_},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,i,a)=>{e.getProvider("auth-internal").initialize()})),Po(new Va("auth-internal",e=>{const i=pu(e.getProvider("auth").getImmediate());return(a=>new Pw(a))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ms(O0,V0,zw(r)),Ms(O0,V0,"esm2020")}const Bw=300,qw=Zv("authIdTokenMaxAge")||Bw;let k0=null;const Hw=r=>async e=>{const i=e&&await e.getIdTokenResult(),a=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(a&&a>qw)return;const l=i?.token;k0!==l&&(k0=l,await fetch(r,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function Fw(r=r1()){const e=Fm(r,"auth");if(e.isInitialized())return e.getImmediate();const i=_2(r,{popupRedirectResolver:Lw,persistence:[K2,U2,D1]}),a=Zv("authTokenSyncURL");if(a&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(a,location.origin);if(location.origin===c.origin){const d=Hw(c.toString());M2(i,d,()=>d(i.currentUser)),D2(i,p=>d(p))}}const l=$v("auth");return l&&E2(i,`http://${l}`),i}function Gw(){return document.getElementsByTagName("head")?.[0]??document}m2({loadJS(r){return new Promise((e,i)=>{const a=document.createElement("script");a.setAttribute("src",r),a.onload=e,a.onerror=l=>{const c=Wi("internal-error");c.customData=l,i(c)},a.type="text/javascript",a.charset="UTF-8",Gw().appendChild(a)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});jw("Browser");var U0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Os,P1;(function(){var r;function e(N,w){function I(){}I.prototype=w.prototype,N.F=w.prototype,N.prototype=new I,N.prototype.constructor=N,N.D=function(k,D,L){for(var R=Array(arguments.length-2),it=2;it<arguments.length;it++)R[it-2]=arguments[it];return w.prototype[D].apply(k,R)}}function i(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(a,i),a.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(N,w,I){I||(I=0);const k=Array(16);if(typeof w=="string")for(var D=0;D<16;++D)k[D]=w.charCodeAt(I++)|w.charCodeAt(I++)<<8|w.charCodeAt(I++)<<16|w.charCodeAt(I++)<<24;else for(D=0;D<16;++D)k[D]=w[I++]|w[I++]<<8|w[I++]<<16|w[I++]<<24;w=N.g[0],I=N.g[1],D=N.g[2];let L=N.g[3],R;R=w+(L^I&(D^L))+k[0]+3614090360&4294967295,w=I+(R<<7&4294967295|R>>>25),R=L+(D^w&(I^D))+k[1]+3905402710&4294967295,L=w+(R<<12&4294967295|R>>>20),R=D+(I^L&(w^I))+k[2]+606105819&4294967295,D=L+(R<<17&4294967295|R>>>15),R=I+(w^D&(L^w))+k[3]+3250441966&4294967295,I=D+(R<<22&4294967295|R>>>10),R=w+(L^I&(D^L))+k[4]+4118548399&4294967295,w=I+(R<<7&4294967295|R>>>25),R=L+(D^w&(I^D))+k[5]+1200080426&4294967295,L=w+(R<<12&4294967295|R>>>20),R=D+(I^L&(w^I))+k[6]+2821735955&4294967295,D=L+(R<<17&4294967295|R>>>15),R=I+(w^D&(L^w))+k[7]+4249261313&4294967295,I=D+(R<<22&4294967295|R>>>10),R=w+(L^I&(D^L))+k[8]+1770035416&4294967295,w=I+(R<<7&4294967295|R>>>25),R=L+(D^w&(I^D))+k[9]+2336552879&4294967295,L=w+(R<<12&4294967295|R>>>20),R=D+(I^L&(w^I))+k[10]+4294925233&4294967295,D=L+(R<<17&4294967295|R>>>15),R=I+(w^D&(L^w))+k[11]+2304563134&4294967295,I=D+(R<<22&4294967295|R>>>10),R=w+(L^I&(D^L))+k[12]+1804603682&4294967295,w=I+(R<<7&4294967295|R>>>25),R=L+(D^w&(I^D))+k[13]+4254626195&4294967295,L=w+(R<<12&4294967295|R>>>20),R=D+(I^L&(w^I))+k[14]+2792965006&4294967295,D=L+(R<<17&4294967295|R>>>15),R=I+(w^D&(L^w))+k[15]+1236535329&4294967295,I=D+(R<<22&4294967295|R>>>10),R=w+(D^L&(I^D))+k[1]+4129170786&4294967295,w=I+(R<<5&4294967295|R>>>27),R=L+(I^D&(w^I))+k[6]+3225465664&4294967295,L=w+(R<<9&4294967295|R>>>23),R=D+(w^I&(L^w))+k[11]+643717713&4294967295,D=L+(R<<14&4294967295|R>>>18),R=I+(L^w&(D^L))+k[0]+3921069994&4294967295,I=D+(R<<20&4294967295|R>>>12),R=w+(D^L&(I^D))+k[5]+3593408605&4294967295,w=I+(R<<5&4294967295|R>>>27),R=L+(I^D&(w^I))+k[10]+38016083&4294967295,L=w+(R<<9&4294967295|R>>>23),R=D+(w^I&(L^w))+k[15]+3634488961&4294967295,D=L+(R<<14&4294967295|R>>>18),R=I+(L^w&(D^L))+k[4]+3889429448&4294967295,I=D+(R<<20&4294967295|R>>>12),R=w+(D^L&(I^D))+k[9]+568446438&4294967295,w=I+(R<<5&4294967295|R>>>27),R=L+(I^D&(w^I))+k[14]+3275163606&4294967295,L=w+(R<<9&4294967295|R>>>23),R=D+(w^I&(L^w))+k[3]+4107603335&4294967295,D=L+(R<<14&4294967295|R>>>18),R=I+(L^w&(D^L))+k[8]+1163531501&4294967295,I=D+(R<<20&4294967295|R>>>12),R=w+(D^L&(I^D))+k[13]+2850285829&4294967295,w=I+(R<<5&4294967295|R>>>27),R=L+(I^D&(w^I))+k[2]+4243563512&4294967295,L=w+(R<<9&4294967295|R>>>23),R=D+(w^I&(L^w))+k[7]+1735328473&4294967295,D=L+(R<<14&4294967295|R>>>18),R=I+(L^w&(D^L))+k[12]+2368359562&4294967295,I=D+(R<<20&4294967295|R>>>12),R=w+(I^D^L)+k[5]+4294588738&4294967295,w=I+(R<<4&4294967295|R>>>28),R=L+(w^I^D)+k[8]+2272392833&4294967295,L=w+(R<<11&4294967295|R>>>21),R=D+(L^w^I)+k[11]+1839030562&4294967295,D=L+(R<<16&4294967295|R>>>16),R=I+(D^L^w)+k[14]+4259657740&4294967295,I=D+(R<<23&4294967295|R>>>9),R=w+(I^D^L)+k[1]+2763975236&4294967295,w=I+(R<<4&4294967295|R>>>28),R=L+(w^I^D)+k[4]+1272893353&4294967295,L=w+(R<<11&4294967295|R>>>21),R=D+(L^w^I)+k[7]+4139469664&4294967295,D=L+(R<<16&4294967295|R>>>16),R=I+(D^L^w)+k[10]+3200236656&4294967295,I=D+(R<<23&4294967295|R>>>9),R=w+(I^D^L)+k[13]+681279174&4294967295,w=I+(R<<4&4294967295|R>>>28),R=L+(w^I^D)+k[0]+3936430074&4294967295,L=w+(R<<11&4294967295|R>>>21),R=D+(L^w^I)+k[3]+3572445317&4294967295,D=L+(R<<16&4294967295|R>>>16),R=I+(D^L^w)+k[6]+76029189&4294967295,I=D+(R<<23&4294967295|R>>>9),R=w+(I^D^L)+k[9]+3654602809&4294967295,w=I+(R<<4&4294967295|R>>>28),R=L+(w^I^D)+k[12]+3873151461&4294967295,L=w+(R<<11&4294967295|R>>>21),R=D+(L^w^I)+k[15]+530742520&4294967295,D=L+(R<<16&4294967295|R>>>16),R=I+(D^L^w)+k[2]+3299628645&4294967295,I=D+(R<<23&4294967295|R>>>9),R=w+(D^(I|~L))+k[0]+4096336452&4294967295,w=I+(R<<6&4294967295|R>>>26),R=L+(I^(w|~D))+k[7]+1126891415&4294967295,L=w+(R<<10&4294967295|R>>>22),R=D+(w^(L|~I))+k[14]+2878612391&4294967295,D=L+(R<<15&4294967295|R>>>17),R=I+(L^(D|~w))+k[5]+4237533241&4294967295,I=D+(R<<21&4294967295|R>>>11),R=w+(D^(I|~L))+k[12]+1700485571&4294967295,w=I+(R<<6&4294967295|R>>>26),R=L+(I^(w|~D))+k[3]+2399980690&4294967295,L=w+(R<<10&4294967295|R>>>22),R=D+(w^(L|~I))+k[10]+4293915773&4294967295,D=L+(R<<15&4294967295|R>>>17),R=I+(L^(D|~w))+k[1]+2240044497&4294967295,I=D+(R<<21&4294967295|R>>>11),R=w+(D^(I|~L))+k[8]+1873313359&4294967295,w=I+(R<<6&4294967295|R>>>26),R=L+(I^(w|~D))+k[15]+4264355552&4294967295,L=w+(R<<10&4294967295|R>>>22),R=D+(w^(L|~I))+k[6]+2734768916&4294967295,D=L+(R<<15&4294967295|R>>>17),R=I+(L^(D|~w))+k[13]+1309151649&4294967295,I=D+(R<<21&4294967295|R>>>11),R=w+(D^(I|~L))+k[4]+4149444226&4294967295,w=I+(R<<6&4294967295|R>>>26),R=L+(I^(w|~D))+k[11]+3174756917&4294967295,L=w+(R<<10&4294967295|R>>>22),R=D+(w^(L|~I))+k[2]+718787259&4294967295,D=L+(R<<15&4294967295|R>>>17),R=I+(L^(D|~w))+k[9]+3951481745&4294967295,N.g[0]=N.g[0]+w&4294967295,N.g[1]=N.g[1]+(D+(R<<21&4294967295|R>>>11))&4294967295,N.g[2]=N.g[2]+D&4294967295,N.g[3]=N.g[3]+L&4294967295}a.prototype.v=function(N,w){w===void 0&&(w=N.length);const I=w-this.blockSize,k=this.C;let D=this.h,L=0;for(;L<w;){if(D==0)for(;L<=I;)l(this,N,L),L+=this.blockSize;if(typeof N=="string"){for(;L<w;)if(k[D++]=N.charCodeAt(L++),D==this.blockSize){l(this,k),D=0;break}}else for(;L<w;)if(k[D++]=N[L++],D==this.blockSize){l(this,k),D=0;break}}this.h=D,this.o+=w},a.prototype.A=function(){var N=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);N[0]=128;for(var w=1;w<N.length-8;++w)N[w]=0;w=this.o*8;for(var I=N.length-8;I<N.length;++I)N[I]=w&255,w/=256;for(this.v(N),N=Array(16),w=0,I=0;I<4;++I)for(let k=0;k<32;k+=8)N[w++]=this.g[I]>>>k&255;return N};function c(N,w){var I=p;return Object.prototype.hasOwnProperty.call(I,N)?I[N]:I[N]=w(N)}function d(N,w){this.h=w;const I=[];let k=!0;for(let D=N.length-1;D>=0;D--){const L=N[D]|0;k&&L==w||(I[D]=L,k=!1)}this.g=I}var p={};function y(N){return-128<=N&&N<128?c(N,function(w){return new d([w|0],w<0?-1:0)}):new d([N|0],N<0?-1:0)}function _(N){if(isNaN(N)||!isFinite(N))return A;if(N<0)return te(_(-N));const w=[];let I=1;for(let k=0;N>=I;k++)w[k]=N/I|0,I*=4294967296;return new d(w,0)}function b(N,w){if(N.length==0)throw Error("number format error: empty string");if(w=w||10,w<2||36<w)throw Error("radix out of range: "+w);if(N.charAt(0)=="-")return te(b(N.substring(1),w));if(N.indexOf("-")>=0)throw Error('number format error: interior "-" character');const I=_(Math.pow(w,8));let k=A;for(let L=0;L<N.length;L+=8){var D=Math.min(8,N.length-L);const R=parseInt(N.substring(L,L+D),w);D<8?(D=_(Math.pow(w,D)),k=k.j(D).add(_(R))):(k=k.j(I),k=k.add(_(R)))}return k}var A=y(0),V=y(1),Y=y(16777216);r=d.prototype,r.m=function(){if(ne(this))return-te(this).m();let N=0,w=1;for(let I=0;I<this.g.length;I++){const k=this.i(I);N+=(k>=0?k:4294967296+k)*w,w*=4294967296}return N},r.toString=function(N){if(N=N||10,N<2||36<N)throw Error("radix out of range: "+N);if(ee(this))return"0";if(ne(this))return"-"+te(this).toString(N);const w=_(Math.pow(N,6));var I=this;let k="";for(;;){const D=Oe(I,w).g;I=de(I,D.j(w));let L=((I.g.length>0?I.g[0]:I.h)>>>0).toString(N);if(I=D,ee(I))return L+k;for(;L.length<6;)L="0"+L;k=L+k}},r.i=function(N){return N<0?0:N<this.g.length?this.g[N]:this.h};function ee(N){if(N.h!=0)return!1;for(let w=0;w<N.g.length;w++)if(N.g[w]!=0)return!1;return!0}function ne(N){return N.h==-1}r.l=function(N){return N=de(this,N),ne(N)?-1:ee(N)?0:1};function te(N){const w=N.g.length,I=[];for(let k=0;k<w;k++)I[k]=~N.g[k];return new d(I,~N.h).add(V)}r.abs=function(){return ne(this)?te(this):this},r.add=function(N){const w=Math.max(this.g.length,N.g.length),I=[];let k=0;for(let D=0;D<=w;D++){let L=k+(this.i(D)&65535)+(N.i(D)&65535),R=(L>>>16)+(this.i(D)>>>16)+(N.i(D)>>>16);k=R>>>16,L&=65535,R&=65535,I[D]=R<<16|L}return new d(I,I[I.length-1]&-2147483648?-1:0)};function de(N,w){return N.add(te(w))}r.j=function(N){if(ee(this)||ee(N))return A;if(ne(this))return ne(N)?te(this).j(te(N)):te(te(this).j(N));if(ne(N))return te(this.j(te(N)));if(this.l(Y)<0&&N.l(Y)<0)return _(this.m()*N.m());const w=this.g.length+N.g.length,I=[];for(var k=0;k<2*w;k++)I[k]=0;for(k=0;k<this.g.length;k++)for(let D=0;D<N.g.length;D++){const L=this.i(k)>>>16,R=this.i(k)&65535,it=N.i(D)>>>16,bt=N.i(D)&65535;I[2*k+2*D]+=R*bt,Ae(I,2*k+2*D),I[2*k+2*D+1]+=L*bt,Ae(I,2*k+2*D+1),I[2*k+2*D+1]+=R*it,Ae(I,2*k+2*D+1),I[2*k+2*D+2]+=L*it,Ae(I,2*k+2*D+2)}for(N=0;N<w;N++)I[N]=I[2*N+1]<<16|I[2*N];for(N=w;N<2*w;N++)I[N]=0;return new d(I,0)};function Ae(N,w){for(;(N[w]&65535)!=N[w];)N[w+1]+=N[w]>>>16,N[w]&=65535,w++}function _e(N,w){this.g=N,this.h=w}function Oe(N,w){if(ee(w))throw Error("division by zero");if(ee(N))return new _e(A,A);if(ne(N))return w=Oe(te(N),w),new _e(te(w.g),te(w.h));if(ne(w))return w=Oe(N,te(w)),new _e(te(w.g),w.h);if(N.g.length>30){if(ne(N)||ne(w))throw Error("slowDivide_ only works with positive integers.");for(var I=V,k=w;k.l(N)<=0;)I=Xe(I),k=Xe(k);var D=De(I,1),L=De(k,1);for(k=De(k,2),I=De(I,2);!ee(k);){var R=L.add(k);R.l(N)<=0&&(D=D.add(I),L=R),k=De(k,1),I=De(I,1)}return w=de(N,D.j(w)),new _e(D,w)}for(D=A;N.l(w)>=0;){for(I=Math.max(1,Math.floor(N.m()/w.m())),k=Math.ceil(Math.log(I)/Math.LN2),k=k<=48?1:Math.pow(2,k-48),L=_(I),R=L.j(w);ne(R)||R.l(N)>0;)I-=k,L=_(I),R=L.j(w);ee(L)&&(L=V),D=D.add(L),N=de(N,R)}return new _e(D,N)}r.B=function(N){return Oe(this,N).h},r.and=function(N){const w=Math.max(this.g.length,N.g.length),I=[];for(let k=0;k<w;k++)I[k]=this.i(k)&N.i(k);return new d(I,this.h&N.h)},r.or=function(N){const w=Math.max(this.g.length,N.g.length),I=[];for(let k=0;k<w;k++)I[k]=this.i(k)|N.i(k);return new d(I,this.h|N.h)},r.xor=function(N){const w=Math.max(this.g.length,N.g.length),I=[];for(let k=0;k<w;k++)I[k]=this.i(k)^N.i(k);return new d(I,this.h^N.h)};function Xe(N){const w=N.g.length+1,I=[];for(let k=0;k<w;k++)I[k]=N.i(k)<<1|N.i(k-1)>>>31;return new d(I,N.h)}function De(N,w){const I=w>>5;w%=32;const k=N.g.length-I,D=[];for(let L=0;L<k;L++)D[L]=w>0?N.i(L+I)>>>w|N.i(L+I+1)<<32-w:N.i(L+I);return new d(D,N.h)}a.prototype.digest=a.prototype.A,a.prototype.reset=a.prototype.u,a.prototype.update=a.prototype.v,P1=a,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=_,d.fromString=b,Os=d}).apply(typeof U0<"u"?U0:typeof self<"u"?self:typeof window<"u"?window:{});var Bc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var z1,Ql,j1,Wc,Em,B1,q1,H1;(function(){var r,e=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Bc=="object"&&Bc];for(var m=0;m<u.length;++m){var v=u[m];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var a=i(this);function l(u,m){if(m)e:{var v=a;u=u.split(".");for(var T=0;T<u.length-1;T++){var P=u[T];if(!(P in v))break e;v=v[P]}u=u[u.length-1],T=v[u],m=m(T),m!=T&&m!=null&&e(v,u,{configurable:!0,writable:!0,value:m})}}l("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),l("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),l("Object.entries",function(u){return u||function(m){var v=[],T;for(T in m)Object.prototype.hasOwnProperty.call(m,T)&&v.push([T,m[T]]);return v}});var c=c||{},d=this||self;function p(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function y(u,m,v){return u.call.apply(u.bind,arguments)}function _(u,m,v){return _=y,_.apply(null,arguments)}function b(u,m){var v=Array.prototype.slice.call(arguments,1);return function(){var T=v.slice();return T.push.apply(T,arguments),u.apply(this,T)}}function A(u,m){function v(){}v.prototype=m.prototype,u.Z=m.prototype,u.prototype=new v,u.prototype.constructor=u,u.Ob=function(T,P,H){for(var ie=Array(arguments.length-2),Ie=2;Ie<arguments.length;Ie++)ie[Ie-2]=arguments[Ie];return m.prototype[P].apply(T,ie)}}var V=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function Y(u){const m=u.length;if(m>0){const v=Array(m);for(let T=0;T<m;T++)v[T]=u[T];return v}return[]}function ee(u,m){for(let T=1;T<arguments.length;T++){const P=arguments[T];var v=typeof P;if(v=v!="object"?v:P?Array.isArray(P)?"array":v:"null",v=="array"||v=="object"&&typeof P.length=="number"){v=u.length||0;const H=P.length||0;u.length=v+H;for(let ie=0;ie<H;ie++)u[v+ie]=P[ie]}else u.push(P)}}class ne{constructor(m,v){this.i=m,this.j=v,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function te(u){d.setTimeout(()=>{throw u},0)}function de(){var u=N;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class Ae{constructor(){this.h=this.g=null}add(m,v){const T=_e.get();T.set(m,v),this.h?this.h.next=T:this.g=T,this.h=T}}var _e=new ne(()=>new Oe,u=>u.reset());class Oe{constructor(){this.next=this.g=this.h=null}set(m,v){this.h=m,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let Xe,De=!1,N=new Ae,w=()=>{const u=Promise.resolve(void 0);Xe=()=>{u.then(I)}};function I(){for(var u;u=de();){try{u.h.call(u.g)}catch(v){te(v)}var m=_e;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}De=!1}function k(){this.u=this.u,this.C=this.C}k.prototype.u=!1,k.prototype.dispose=function(){this.u||(this.u=!0,this.N())},k.prototype[Symbol.dispose]=function(){this.dispose()},k.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function D(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}D.prototype.h=function(){this.defaultPrevented=!0};var L=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const v=()=>{};d.addEventListener("test",v,m),d.removeEventListener("test",v,m)}catch{}return u})();function R(u){return/^[\s\xa0]*$/.test(u)}function it(u,m){D.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}A(it,D),it.prototype.init=function(u,m){const v=this.type=u.type,T=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(v=="mouseover"?m=u.fromElement:v=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&it.Z.h.call(this)},it.prototype.h=function(){it.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var bt="closure_listenable_"+(Math.random()*1e6|0),G=0;function se(u,m,v,T,P){this.listener=u,this.proxy=null,this.src=m,this.type=v,this.capture=!!T,this.ha=P,this.key=++G,this.da=this.fa=!1}function ge(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Le(u,m,v){for(const T in u)m.call(v,u[T],T,u)}function He(u,m){for(const v in u)m.call(void 0,u[v],v,u)}function O(u){const m={};for(const v in u)m[v]=u[v];return m}const $="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ae(u,m){let v,T;for(let P=1;P<arguments.length;P++){T=arguments[P];for(v in T)u[v]=T[v];for(let H=0;H<$.length;H++)v=$[H],Object.prototype.hasOwnProperty.call(T,v)&&(u[v]=T[v])}}function oe(u){this.src=u,this.g={},this.h=0}oe.prototype.add=function(u,m,v,T,P){const H=u.toString();u=this.g[H],u||(u=this.g[H]=[],this.h++);const ie=Ce(u,m,T,P);return ie>-1?(m=u[ie],v||(m.fa=!1)):(m=new se(m,this.src,H,!!T,P),m.fa=v,u.push(m)),m};function Te(u,m){const v=m.type;if(v in u.g){var T=u.g[v],P=Array.prototype.indexOf.call(T,m,void 0),H;(H=P>=0)&&Array.prototype.splice.call(T,P,1),H&&(ge(m),u.g[v].length==0&&(delete u.g[v],u.h--))}}function Ce(u,m,v,T){for(let P=0;P<u.length;++P){const H=u[P];if(!H.da&&H.listener==m&&H.capture==!!v&&H.ha==T)return P}return-1}var Fe="closure_lm_"+(Math.random()*1e6|0),Pt={};function ht(u,m,v,T,P){if(Array.isArray(m)){for(let H=0;H<m.length;H++)ht(u,m[H],v,T,P);return null}return v=qr(v),u&&u[bt]?u.J(m,v,p(T)?!!T.capture:!1,P):Br(u,m,v,!1,T,P)}function Br(u,m,v,T,P,H){if(!m)throw Error("Invalid event type");const ie=p(P)?!!P.capture:!!P;let Ie=It(u);if(Ie||(u[Fe]=Ie=new oe(u)),v=Ie.add(m,v,T,ie,H),v.proxy)return v;if(T=Hs(),v.proxy=T,T.src=u,T.listener=v,u.addEventListener)L||(P=ie),P===void 0&&(P=!1),u.addEventListener(m.toString(),T,P);else if(u.attachEvent)u.attachEvent(zt(m.toString()),T);else if(u.addListener&&u.removeListener)u.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return v}function Hs(){function u(v){return m.call(u.src,u.listener,v)}const m=Bn;return u}function Fs(u,m,v,T,P){if(Array.isArray(m))for(var H=0;H<m.length;H++)Fs(u,m[H],v,T,P);else T=p(T)?!!T.capture:!!T,v=qr(v),u&&u[bt]?(u=u.i,H=String(m).toString(),H in u.g&&(m=u.g[H],v=Ce(m,v,T,P),v>-1&&(ge(m[v]),Array.prototype.splice.call(m,v,1),m.length==0&&(delete u.g[H],u.h--)))):u&&(u=It(u))&&(m=u.g[m.toString()],u=-1,m&&(u=Ce(m,v,T,P)),(v=u>-1?m[u]:null)&&Gs(v))}function Gs(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[bt])Te(m.i,u);else{var v=u.type,T=u.proxy;m.removeEventListener?m.removeEventListener(v,T,u.capture):m.detachEvent?m.detachEvent(zt(v),T):m.addListener&&m.removeListener&&m.removeListener(T),(v=It(m))?(Te(v,u),v.h==0&&(v.src=null,m[Fe]=null)):ge(u)}}}function zt(u){return u in Pt?Pt[u]:Pt[u]="on"+u}function Bn(u,m){if(u.da)u=!0;else{m=new it(m,this);const v=u.listener,T=u.ha||u.src;u.fa&&Gs(u),u=v.call(T,m)}return u}function It(u){return u=u[Fe],u instanceof oe?u:null}var or="__closure_events_fn_"+(Math.random()*1e9>>>0);function qr(u){return typeof u=="function"?u:(u[or]||(u[or]=function(m){return u.handleEvent(m)}),u[or])}function St(){k.call(this),this.i=new oe(this),this.M=this,this.G=null}A(St,k),St.prototype[bt]=!0,St.prototype.removeEventListener=function(u,m,v,T){Fs(this,u,m,v,T)};function Nt(u,m){var v,T=u.G;if(T)for(v=[];T;T=T.G)v.push(T);if(u=u.M,T=m.type||m,typeof m=="string")m=new D(m,u);else if(m instanceof D)m.target=m.target||u;else{var P=m;m=new D(T,u),ae(m,P)}P=!0;let H,ie;if(v)for(ie=v.length-1;ie>=0;ie--)H=m.g=v[ie],P=ti(H,T,!0,m)&&P;if(H=m.g=u,P=ti(H,T,!0,m)&&P,P=ti(H,T,!1,m)&&P,v)for(ie=0;ie<v.length;ie++)H=m.g=v[ie],P=ti(H,T,!1,m)&&P}St.prototype.N=function(){if(St.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const v=u.g[m];for(let T=0;T<v.length;T++)ge(v[T]);delete u.g[m],u.h--}}this.G=null},St.prototype.J=function(u,m,v,T){return this.i.add(String(u),m,!1,v,T)},St.prototype.K=function(u,m,v,T){return this.i.add(String(u),m,!0,v,T)};function ti(u,m,v,T){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let P=!0;for(let H=0;H<m.length;++H){const ie=m[H];if(ie&&!ie.da&&ie.capture==v){const Ie=ie.listener,Ot=ie.ha||ie.src;ie.fa&&Te(u.i,ie),P=Ie.call(Ot,T)!==!1&&P}}return P&&!T.defaultPrevented}function Qs(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=_(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(u,m||0)}function Ys(u){u.g=Qs(()=>{u.g=null,u.i&&(u.i=!1,Ys(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class Jt extends k{constructor(m,v){super(),this.m=m,this.l=v,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:Ys(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function lr(u){k.call(this),this.h=u,this.g={}}A(lr,k);var Ks=[];function Hr(u){Le(u.g,function(m,v){this.g.hasOwnProperty(v)&&Gs(m)},u),u.g={}}lr.prototype.N=function(){lr.Z.N.call(this),Hr(this)},lr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var mn=d.JSON.stringify,Ba=d.JSON.parse,Ui=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function Fr(){}function Gr(){}var Sn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Kt(){D.call(this,"d")}A(Kt,D);function An(){D.call(this,"c")}A(An,D);var _t={},Qr=null;function Zt(){return Qr=Qr||new St}_t.Ia="serverreachability";function ur(u){D.call(this,_t.Ia,u)}A(ur,D);function qn(u){const m=Zt();Nt(m,new ur(m))}_t.STAT_EVENT="statevent";function Li(u,m){D.call(this,_t.STAT_EVENT,u),this.stat=m}A(Li,D);function gt(u){const m=Zt();Nt(m,new Li(m,u))}_t.Ja="timingevent";function Hn(u,m){D.call(this,_t.Ja,u),this.size=m}A(Hn,D);function ni(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function wn(){this.g=!0}wn.prototype.ua=function(){this.g=!1};function xt(u,m,v,T,P,H){u.info(function(){if(u.g)if(H){var ie="",Ie=H.split("&");for(let Je=0;Je<Ie.length;Je++){var Ot=Ie[Je].split("=");if(Ot.length>1){const pt=Ot[0];Ot=Ot[1];const ci=pt.split("_");ie=ci.length>=2&&ci[1]=="type"?ie+(pt+"="+Ot+"&"):ie+(pt+"=redacted&")}}}else ie=null;else ie=H;return"XMLHTTP REQ ("+T+") [attempt "+P+"]: "+m+`
`+v+`
`+ie})}function ii(u,m,v,T,P,H,ie){u.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+P+"]: "+m+`
`+v+`
`+H+" "+ie})}function nn(u,m,v,T){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+qa(u,v)+(T?" "+T:"")})}function Wt(u,m){u.info(function(){return"TIMEOUT: "+m})}wn.prototype.info=function(){};function qa(u,m){if(!u.g)return m;if(!m)return null;try{const H=JSON.parse(m);if(H){for(u=0;u<H.length;u++)if(Array.isArray(H[u])){var v=H[u];if(!(v.length<2)){var T=v[1];if(Array.isArray(T)&&!(T.length<1)){var P=T[0];if(P!="noop"&&P!="stop"&&P!="close")for(let ie=1;ie<T.length;ie++)T[ie]=""}}}}return mn(H)}catch{return m}}var cr={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Yr={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Xs;function rn(){}A(rn,Fr),rn.prototype.g=function(){return new XMLHttpRequest},Xs=new rn;function ri(u){return encodeURIComponent(String(u))}function $s(u){var m=1;u=u.split(":");const v=[];for(;m>0&&u.length;)v.push(u.shift()),m--;return u.length&&v.push(u.join(":")),v}function Fn(u,m,v,T){this.j=u,this.i=m,this.l=v,this.S=T||1,this.V=new lr(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Dn}function Dn(){this.i=null,this.g="",this.h=!1}var vt={},Dt={};function Gn(u,m,v){u.M=1,u.A=bi(At(m)),u.u=v,u.R=!0,hr(u,null)}function hr(u,m){u.F=Date.now(),si(u),u.B=At(u.A);var v=u.B,T=u.S;Array.isArray(T)||(T=[String(T)]),S(v.i,"t",T),u.C=0,v=u.j.L,u.h=new Dn,u.g=Ou(u.j,v?m:null,!u.u),u.P>0&&(u.O=new Jt(_(u.Y,u,u.g),u.P)),m=u.V,v=u.g,T=u.ba;var P="readystatechange";Array.isArray(P)||(P&&(Ks[0]=P.toString()),P=Ks);for(let H=0;H<P.length;H++){const ie=ht(v,P[H],T||m.handleEvent,!1,m.h||m);if(!ie)break;m.g[ie.key]=ie}m=u.J?O(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),qn(),xt(u.i,u.v,u.B,u.l,u.S,u.u)}Fn.prototype.ba=function(u){u=u.target;const m=this.O;m&&Ci(u)==3?m.j():this.Y(u)},Fn.prototype.Y=function(u){try{if(u==this.g)e:{const Ie=Ci(this.g),Ot=this.g.ya(),Je=this.g.ca();if(!(Ie<3)&&(Ie!=3||this.g&&(this.h.h||this.g.la()||sn(this.g)))){this.K||Ie!=4||Ot==7||(Ot==8||Je<=0?qn(3):qn(2)),ai(this);var m=this.g.ca();this.X=m;var v=Wo(this);if(this.o=m==200,ii(this.i,this.v,this.B,this.l,this.S,Ie,m),this.o){if(this.U&&!this.L){t:{if(this.g){var T,P=this.g;if((T=P.g?P.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!R(T)){var H=T;break t}}H=null}if(u=H)nn(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,oi(this,u);else{this.o=!1,this.m=3,gt(12),Rn(this),Mn(this);break e}}if(this.R){u=!0;let pt;for(;!this.K&&this.C<v.length;)if(pt=Ha(this,v),pt==Dt){Ie==4&&(this.m=4,gt(14),u=!1),nn(this.i,this.l,null,"[Incomplete Response]");break}else if(pt==vt){this.m=4,gt(15),nn(this.i,this.l,v,"[Invalid Chunk]"),u=!1;break}else nn(this.i,this.l,pt,null),oi(this,pt);if(Js(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ie!=4||v.length!=0||this.h.h||(this.m=1,gt(16),u=!1),this.o=this.o&&u,!u)nn(this.i,this.l,v,"[Invalid Chunked Response]"),Rn(this),Mn(this);else if(v.length>0&&!this.W){this.W=!0;var ie=this.j;ie.g==this&&ie.aa&&!ie.P&&(ie.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),rl(ie),ie.P=!0,gt(11))}}else nn(this.i,this.l,v,null),oi(this,v);Ie==4&&Rn(this),this.o&&!this.K&&(Ie==4?Nu(this.j,this):(this.o=!1,si(this)))}else mr(this.g),m==400&&v.indexOf("Unknown SID")>0?(this.m=3,gt(12)):(this.m=0,gt(13)),Rn(this),Mn(this)}}}catch{}finally{}};function Wo(u){if(!Js(u))return u.g.la();const m=sn(u.g);if(m==="")return"";let v="";const T=m.length,P=Ci(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return Rn(u),Mn(u),"";u.h.i=new d.TextDecoder}for(let H=0;H<T;H++)u.h.h=!0,v+=u.h.i.decode(m[H],{stream:!(P&&H==T-1)});return m.length=0,u.h.g+=v,u.C=0,u.h.g}function Js(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function Ha(u,m){var v=u.C,T=m.indexOf(`
`,v);return T==-1?Dt:(v=Number(m.substring(v,T)),isNaN(v)?vt:(T+=1,T+v>m.length?Dt:(m=m.slice(T,T+v),u.C=T+v,m)))}Fn.prototype.cancel=function(){this.K=!0,Rn(this)};function si(u){u.T=Date.now()+u.H,Pi(u,u.H)}function Pi(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=ni(_(u.aa,u),m)}function ai(u){u.D&&(d.clearTimeout(u.D),u.D=null)}Fn.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(Wt(this.i,this.B),this.M!=2&&(qn(),gt(17)),Rn(this),this.m=2,Mn(this)):Pi(this,this.T-u)};function Mn(u){u.j.I==0||u.K||Nu(u.j,u)}function Rn(u){ai(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,Hr(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function oi(u,m){try{var v=u.j;if(v.I!=0&&(v.g==u||Qn(v.h,u))){if(!u.L&&Qn(v.h,u)&&v.I==3){try{var T=v.Ba.g.parse(m)}catch{T=null}if(Array.isArray(T)&&T.length==3){var P=T;if(P[0]==0){e:if(!v.v){if(v.g)if(v.g.F+3e3<u.F)Ka(v),Wr(v);else break e;ua(v),gt(18)}}else v.xa=P[1],0<v.xa-v.K&&P[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=ni(_(v.Va,v),6e3));li(v.h)<=1&&v.ta&&(v.ta=void 0)}else Gi(v,11)}else if((u.L||v.g==u)&&Ka(v),!R(m))for(P=v.Ba.g.parse(m),m=0;m<P.length;m++){let Je=P[m];const pt=Je[0];if(!(pt<=v.K))if(v.K=pt,Je=Je[1],v.I==2)if(Je[0]=="c"){v.M=Je[1],v.ba=Je[2];const ci=Je[3];ci!=null&&(v.ka=ci,v.j.info("VER="+v.ka));const Qi=Je[4];Qi!=null&&(v.za=Qi,v.j.info("SVER="+v.za));const Ii=Je[5];Ii!=null&&typeof Ii=="number"&&Ii>0&&(T=1.5*Ii,v.O=T,v.j.info("backChannelRequestTimeoutMs_="+T)),T=v;const Ni=u.g;if(Ni){const ca=Ni.g?Ni.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ca){var H=T.h;H.g||ca.indexOf("spdy")==-1&&ca.indexOf("quic")==-1&&ca.indexOf("h2")==-1||(H.j=H.l,H.g=new Set,H.h&&(Ws(H,H.h),H.h=null))}if(T.G){const Xa=Ni.g?Ni.g.getResponseHeader("X-HTTP-Session-Id"):null;Xa&&(T.wa=Xa,$e(T.J,T.G,Xa))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-u.F,v.j.info("Handshake RTT: "+v.T+"ms")),T=v;var ie=u;if(T.na=Mu(T,T.L?T.ba:null,T.W),ie.L){ea(T.h,ie);var Ie=ie,Ot=T.O;Ot&&(Ie.H=Ot),Ie.D&&(ai(Ie),si(Ie)),T.g=ie}else Cu(T);v.i.length>0&&Fi(v)}else Je[0]!="stop"&&Je[0]!="close"||Gi(v,7);else v.I==3&&(Je[0]=="stop"||Je[0]=="close"?Je[0]=="stop"?Gi(v,7):nl(v):Je[0]!="noop"&&v.l&&v.l.qa(Je),v.A=0)}}qn(4)}catch{}}var Et=class{constructor(u,m){this.g=u,this.map=m}};function Kr(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Zs(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function li(u){return u.h?1:u.g?u.g.size:0}function Qn(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function Ws(u,m){u.g?u.g.add(m):u.h=m}function ea(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}Kr.prototype.cancel=function(){if(this.i=ta(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function ta(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const v of u.g.values())m=m.concat(v.G);return m}return Y(u.i)}var Fa=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Xr(u,m){if(u){u=u.split("&");for(let v=0;v<u.length;v++){const T=u[v].indexOf("=");let P,H=null;T>=0?(P=u[v].substring(0,T),H=u[v].substring(T+1)):P=u[v],m(P,H?decodeURIComponent(H.replace(/\+/g," ")):"")}}}function Cn(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof Cn?(this.l=u.l,jt(this,u.j),this.o=u.o,this.g=u.g,zi(this,u.u),this.h=u.h,na(this,q(u.i)),this.m=u.m):u&&(m=String(u).match(Fa))?(this.l=!1,jt(this,m[1]||"",!0),this.o=gn(m[2]||""),this.g=gn(m[3]||"",!0),zi(this,m[4]),this.h=gn(m[5]||"",!0),na(this,m[6]||"",!0),this.m=gn(m[7]||"")):(this.l=!1,this.i=new Ai(null,this.l))}Cn.prototype.toString=function(){const u=[];var m=this.j;m&&u.push(On(m,yn,!0),":");var v=this.g;return(v||m=="file")&&(u.push("//"),(m=this.o)&&u.push(On(m,yn,!0),"@"),u.push(ri(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&u.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&u.push("/"),u.push(On(v,v.charAt(0)=="/"?$r:ia,!0))),(v=this.i.toString())&&u.push("?",v),(v=this.m)&&u.push("#",On(v,Ga)),u.join("")},Cn.prototype.resolve=function(u){const m=At(this);let v=!!u.j;v?jt(m,u.j):v=!!u.o,v?m.o=u.o:v=!!u.g,v?m.g=u.g:v=u.u!=null;var T=u.h;if(v)zi(m,u.u);else if(v=!!u.h){if(T.charAt(0)!="/")if(this.g&&!this.h)T="/"+T;else{var P=m.h.lastIndexOf("/");P!=-1&&(T=m.h.slice(0,P+1)+T)}if(P=T,P==".."||P==".")T="";else if(P.indexOf("./")!=-1||P.indexOf("/.")!=-1){T=P.lastIndexOf("/",0)==0,P=P.split("/");const H=[];for(let ie=0;ie<P.length;){const Ie=P[ie++];Ie=="."?T&&ie==P.length&&H.push(""):Ie==".."?((H.length>1||H.length==1&&H[0]!="")&&H.pop(),T&&ie==P.length&&H.push("")):(H.push(Ie),T=!0)}T=H.join("/")}else T=P}return v?m.h=T:v=u.i.toString()!=="",v?na(m,q(u.i)):v=!!u.m,v&&(m.m=u.m),m};function At(u){return new Cn(u)}function jt(u,m,v){u.j=v?gn(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function zi(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function na(u,m,v){m instanceof Ai?(u.i=m,le(u.i,u.l)):(v||(m=On(m,Si)),u.i=new Ai(m,u.l))}function $e(u,m,v){u.i.set(m,v)}function bi(u){return $e(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function gn(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function On(u,m,v){return typeof u=="string"?(u=encodeURI(u).replace(m,pn),v&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function pn(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var yn=/[#\/\?@]/g,ia=/[#\?:]/g,$r=/[#\?]/g,Si=/[#\?@]/g,Ga=/#/g;function Ai(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function Mt(u){u.g||(u.g=new Map,u.h=0,u.i&&Xr(u.i,function(m,v){u.add(decodeURIComponent(m.replace(/\+/g," ")),v)}))}r=Ai.prototype,r.add=function(u,m){Mt(this),this.i=null,u=X(this,u);let v=this.g.get(u);return v||this.g.set(u,v=[]),v.push(m),this.h+=1,this};function ji(u,m){Mt(u),m=X(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function fr(u,m){return Mt(u),m=X(u,m),u.g.has(m)}r.forEach=function(u,m){Mt(this),this.g.forEach(function(v,T){v.forEach(function(P){u.call(m,P,T,this)},this)},this)};function ra(u,m){Mt(u);let v=[];if(typeof m=="string")fr(u,m)&&(v=v.concat(u.g.get(X(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)v=v.concat(u[m]);return v}r.set=function(u,m){return Mt(this),this.i=null,u=X(this,u),fr(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},r.get=function(u,m){return u?(u=ra(this,u),u.length>0?String(u[0]):m):m};function S(u,m,v){ji(u,m),v.length>0&&(u.i=null,u.g.set(X(u,m),Y(v)),u.h+=v.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let T=0;T<m.length;T++){var v=m[T];const P=ri(v);v=ra(this,v);for(let H=0;H<v.length;H++){let ie=P;v[H]!==""&&(ie+="="+ri(v[H])),u.push(ie)}}return this.i=u.join("&")};function q(u){const m=new Ai;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function X(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function le(u,m){m&&!u.j&&(Mt(u),u.i=null,u.g.forEach(function(v,T){const P=T.toLowerCase();T!=P&&(ji(this,T),S(this,P,v))},u)),u.j=m}function ue(u,m){const v=new wn;if(d.Image){const T=new Image;T.onload=b(rt,v,"TestLoadImage: loaded",!0,m,T),T.onerror=b(rt,v,"TestLoadImage: error",!1,m,T),T.onabort=b(rt,v,"TestLoadImage: abort",!1,m,T),T.ontimeout=b(rt,v,"TestLoadImage: timeout",!1,m,T),d.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=u}else m(!1)}function Me(u,m){const v=new wn,T=new AbortController,P=setTimeout(()=>{T.abort(),rt(v,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:T.signal}).then(H=>{clearTimeout(P),H.ok?rt(v,"TestPingServer: ok",!0,m):rt(v,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(P),rt(v,"TestPingServer: error",!1,m)})}function rt(u,m,v,T,P){try{P&&(P.onload=null,P.onerror=null,P.onabort=null,P.ontimeout=null),T(v)}catch{}}function et(){this.g=new Ui}function wt(u){this.i=u.Sb||null,this.h=u.ab||!1}A(wt,Fr),wt.prototype.g=function(){return new wi(this.i,this.h)};function wi(u,m){St.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}A(wi,St),r=wi.prototype,r.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,Ri(this)},r.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Bi(this)),this.readyState=0},r.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Ri(this)),this.g&&(this.readyState=3,Ri(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Jr(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function Jr(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}r.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?Bi(this):Ri(this),this.readyState==3&&Jr(this)}},r.Oa=function(u){this.g&&(this.response=this.responseText=u,Bi(this))},r.Na=function(u){this.g&&(this.response=u,Bi(this))},r.ga=function(){this.g&&Bi(this)};function Bi(u){u.readyState=4,u.l=null,u.j=null,u.B=null,Ri(u)}r.setRequestHeader=function(u,m){this.A.append(u,m)},r.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var v=m.next();!v.done;)v=v.value,u.push(v[0]+": "+v[1]),v=m.next();return u.join(`\r
`)};function Ri(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(wi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function ui(u){let m="";return Le(u,function(v,T){m+=T,m+=":",m+=v,m+=`\r
`}),m}function sa(u,m,v){e:{for(T in v){var T=!1;break e}T=!0}T||(v=ui(v),typeof u=="string"?v!=null&&ri(v):$e(u,m,v))}function st(u){St.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}A(st,St);var qi=/^https?$/i,el=["POST","PUT"];r=st.prototype,r.Fa=function(u){this.H=u},r.ea=function(u,m,v,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Xs.g(),this.g.onreadystatechange=V(_(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(H){aa(this,H);return}if(u=v||"",v=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var P in T)v.set(P,T[P]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const H of T.keys())v.set(H,T.get(H));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(v.keys()).find(H=>H.toLowerCase()=="content-type"),P=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call(el,m,void 0)>=0)||T||P||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[H,ie]of v)this.g.setRequestHeader(H,ie);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(H){aa(this,H)}};function aa(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,tl(u),dr(u)}function tl(u){u.A||(u.A=!0,Nt(u,"complete"),Nt(u,"error"))}r.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,Nt(this,"complete"),Nt(this,"abort"),dr(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),dr(this,!0)),st.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?oa(this):this.Xa())},r.Xa=function(){oa(this)};function oa(u){if(u.h&&typeof c<"u"){if(u.v&&Ci(u)==4)setTimeout(u.Ca.bind(u),0);else if(Nt(u,"readystatechange"),Ci(u)==4){u.h=!1;try{const H=u.ca();e:switch(H){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var v;if(!(v=m)){var T;if(T=H===0){let ie=String(u.D).match(Fa)[1]||null;!ie&&d.self&&d.self.location&&(ie=d.self.location.protocol.slice(0,-1)),T=!qi.test(ie?ie.toLowerCase():"")}v=T}if(v)Nt(u,"complete"),Nt(u,"success");else{u.o=6;try{var P=Ci(u)>2?u.g.statusText:""}catch{P=""}u.l=P+" ["+u.ca()+"]",tl(u)}}finally{dr(u)}}}}function dr(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const v=u.g;u.g=null,m||Nt(u,"ready");try{v.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function Ci(u){return u.g?u.g.readyState:0}r.ca=function(){try{return Ci(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),Ba(m)}};function sn(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function mr(u){const m={};u=(u.g&&Ci(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<u.length;T++){if(R(u[T]))continue;var v=$s(u[T]);const P=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const H=m[P]||[];m[P]=H,H.push(v)}He(m,function(T){return T.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Hi(u,m,v){return v&&v.internalChannelParams&&v.internalChannelParams[u]||m}function Zr(u){this.za=0,this.i=[],this.j=new wn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Hi("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Hi("baseRetryDelayMs",5e3,u),this.Za=Hi("retryDelaySeedMs",1e4,u),this.Ta=Hi("forwardChannelMaxRetries",2,u),this.va=Hi("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new Kr(u&&u.concurrentRequestLimit),this.Ba=new et,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=Zr.prototype,r.ka=8,r.I=1,r.connect=function(u,m,v,T){gt(0),this.W=u,this.H=m||{},v&&T!==void 0&&(this.H.OSID=v,this.H.OAID=T),this.F=this.X,this.J=Mu(this,null,this.W),Fi(this)};function nl(u){if(Qa(u),u.I==3){var m=u.V++,v=At(u.J);if($e(v,"SID",u.M),$e(v,"RID",m),$e(v,"TYPE","terminate"),la(u,v),m=new Fn(u,u.j,m),m.M=2,m.A=bi(At(v)),v=!1,d.navigator&&d.navigator.sendBeacon)try{v=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!v&&d.Image&&(new Image().src=m.A,v=!0),v||(m.g=Ou(m.j,null),m.g.ea(m.A)),m.F=Date.now(),si(m)}Du(u)}function Wr(u){u.g&&(rl(u),u.g.cancel(),u.g=null)}function Qa(u){Wr(u),u.v&&(d.clearTimeout(u.v),u.v=null),Ka(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function Fi(u){if(!Zs(u.h)&&!u.m){u.m=!0;var m=u.Ea;Xe||w(),De||(Xe(),De=!0),N.add(m,u),u.D=0}}function Ya(u,m){return li(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=ni(_(u.Ea,u,m),xu(u,u.D)),u.D++,!0)}r.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const P=new Fn(this,this.j,u);let H=this.o;if(this.U&&(H?(H=O(H),ae(H,this.U)):H=this.U),this.u!==null||this.R||(P.J=H,H=null),this.S)e:{for(var m=0,v=0;v<this.i.length;v++){t:{var T=this.i[v];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break t}T=void 0}if(T===void 0)break;if(m+=T,m>4096){m=v;break e}if(m===4096||v===this.i.length-1){m=v+1;break e}}m=1e3}else m=1e3;m=Ru(this,P,m),v=At(this.J),$e(v,"RID",u),$e(v,"CVER",22),this.G&&$e(v,"X-HTTP-Session-Id",this.G),la(this,v),H&&(this.R?m="headers="+ri(ui(H))+"&"+m:this.u&&sa(v,this.u,H)),Ws(this.h,P),this.Ra&&$e(v,"TYPE","init"),this.S?($e(v,"$req",m),$e(v,"SID","null"),P.U=!0,Gn(P,v,null)):Gn(P,v,m),this.I=2}}else this.I==3&&(u?il(this,u):this.i.length==0||Zs(this.h)||il(this))};function il(u,m){var v;m?v=m.l:v=u.V++;const T=At(u.J);$e(T,"SID",u.M),$e(T,"RID",v),$e(T,"AID",u.K),la(u,T),u.u&&u.o&&sa(T,u.u,u.o),v=new Fn(u,u.j,v,u.D+1),u.u===null&&(v.J=u.o),m&&(u.i=m.G.concat(u.i)),m=Ru(u,v,1e3),v.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),Ws(u.h,v),Gn(v,T,m)}function la(u,m){u.H&&Le(u.H,function(v,T){$e(m,T,v)}),u.l&&Le({},function(v,T){$e(m,T,v)})}function Ru(u,m,v){v=Math.min(u.i.length,v);const T=u.l?_(u.l.Ka,u.l,u):null;e:{var P=u.i;let Ie=-1;for(;;){const Ot=["count="+v];Ie==-1?v>0?(Ie=P[0].g,Ot.push("ofs="+Ie)):Ie=0:Ot.push("ofs="+Ie);let Je=!0;for(let pt=0;pt<v;pt++){var H=P[pt].g;const ci=P[pt].map;if(H-=Ie,H<0)Ie=Math.max(0,P[pt].g-100),Je=!1;else try{H="req"+H+"_"||"";try{var ie=ci instanceof Map?ci:Object.entries(ci);for(const[Qi,Ii]of ie){let Ni=Ii;p(Ii)&&(Ni=mn(Ii)),Ot.push(H+Qi+"="+encodeURIComponent(Ni))}}catch(Qi){throw Ot.push(H+"type="+encodeURIComponent("_badmap")),Qi}}catch{T&&T(ci)}}if(Je){ie=Ot.join("&");break e}}ie=void 0}return u=u.i.splice(0,v),m.G=u,ie}function Cu(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;Xe||w(),De||(Xe(),De=!0),N.add(m,u),u.A=0}}function ua(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=ni(_(u.Da,u),xu(u,u.A)),u.A++,!0)}r.Da=function(){if(this.v=null,Iu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=ni(_(this.Wa,this),u)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,gt(10),Wr(this),Iu(this))};function rl(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function Iu(u){u.g=new Fn(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=At(u.na);$e(m,"RID","rpc"),$e(m,"SID",u.M),$e(m,"AID",u.K),$e(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&$e(m,"TO",u.ia),$e(m,"TYPE","xmlhttp"),la(u,m),u.u&&u.o&&sa(m,u.u,u.o),u.O&&(u.g.H=u.O);var v=u.g;u=u.ba,v.M=1,v.A=bi(At(m)),v.u=null,v.R=!0,hr(v,u)}r.Va=function(){this.C!=null&&(this.C=null,Wr(this),ua(this),gt(19))};function Ka(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function Nu(u,m){var v=null;if(u.g==m){Ka(u),rl(u),u.g=null;var T=2}else if(Qn(u.h,m))v=m.G,ea(u.h,m),T=1;else return;if(u.I!=0){if(m.o)if(T==1){v=m.u?m.u.length:0,m=Date.now()-m.F;var P=u.D;T=Zt(),Nt(T,new Hn(T,v)),Fi(u)}else Cu(u);else if(P=m.m,P==3||P==0&&m.X>0||!(T==1&&Ya(u,m)||T==2&&ua(u)))switch(v&&v.length>0&&(m=u.h,m.i=m.i.concat(v)),P){case 1:Gi(u,5);break;case 4:Gi(u,10);break;case 3:Gi(u,6);break;default:Gi(u,2)}}}function xu(u,m){let v=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(v*=2),v*m}function Gi(u,m){if(u.j.info("Error code "+m),m==2){var v=_(u.bb,u),T=u.Ua;const P=!T;T=new Cn(T||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||jt(T,"https"),bi(T),P?ue(T.toString(),v):Me(T.toString(),v)}else gt(2);u.I=0,u.l&&u.l.pa(m),Du(u),Qa(u)}r.bb=function(u){u?(this.j.info("Successfully pinged google.com"),gt(2)):(this.j.info("Failed to ping google.com"),gt(1))};function Du(u){if(u.I=0,u.ja=[],u.l){const m=ta(u.h);(m.length!=0||u.i.length!=0)&&(ee(u.ja,m),ee(u.ja,u.i),u.h.i.length=0,Y(u.i),u.i.length=0),u.l.oa()}}function Mu(u,m,v){var T=v instanceof Cn?At(v):new Cn(v);if(T.g!="")m&&(T.g=m+"."+T.g),zi(T,T.u);else{var P=d.location;T=P.protocol,m=m?m+"."+P.hostname:P.hostname,P=+P.port;const H=new Cn(null);T&&jt(H,T),m&&(H.g=m),P&&zi(H,P),v&&(H.h=v),T=H}return v=u.G,m=u.wa,v&&m&&$e(T,v,m),$e(T,"VER",u.ka),la(u,T),T}function Ou(u,m,v){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new st(new wt({ab:v})):new st(u.ma),m.Fa(u.L),m}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Vu(){}r=Vu.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function es(){}es.prototype.g=function(u,m){return new In(u,m)};function In(u,m){St.call(this),this.g=new Zr(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!R(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!R(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new gr(this)}A(In,St),In.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},In.prototype.close=function(){nl(this.g)},In.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var v={};v.__data__=u,u=v}else this.v&&(v={},v.__data__=mn(u),u=v);m.i.push(new Et(m.Ya++,u)),m.I==3&&Fi(m)},In.prototype.N=function(){this.g.l=null,delete this.j,nl(this.g),delete this.g,In.Z.N.call(this)};function ku(u){Kt.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){e:{for(const v in m){u=v;break e}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}A(ku,Kt);function Uu(){An.call(this),this.status=1}A(Uu,An);function gr(u){this.g=u}A(gr,Vu),gr.prototype.ra=function(){Nt(this.g,"a")},gr.prototype.qa=function(u){Nt(this.g,new ku(u))},gr.prototype.pa=function(u){Nt(this.g,new Uu)},gr.prototype.oa=function(){Nt(this.g,"b")},es.prototype.createWebChannel=es.prototype.g,In.prototype.send=In.prototype.o,In.prototype.open=In.prototype.m,In.prototype.close=In.prototype.close,H1=function(){return new es},q1=function(){return Zt()},B1=_t,Em={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},cr.NO_ERROR=0,cr.TIMEOUT=8,cr.HTTP_ERROR=6,Wc=cr,Yr.COMPLETE="complete",j1=Yr,Gr.EventType=Sn,Sn.OPEN="a",Sn.CLOSE="b",Sn.ERROR="c",Sn.MESSAGE="d",St.prototype.listen=St.prototype.J,Ql=Gr,st.prototype.listenOnce=st.prototype.K,st.prototype.getLastError=st.prototype.Ha,st.prototype.getLastErrorCode=st.prototype.ya,st.prototype.getStatus=st.prototype.ca,st.prototype.getResponseJson=st.prototype.La,st.prototype.getResponseText=st.prototype.la,st.prototype.send=st.prototype.ea,st.prototype.setWithCredentials=st.prototype.Fa,z1=st}).apply(typeof Bc<"u"?Bc:typeof self<"u"?self:typeof window<"u"?window:{});const L0="@firebase/firestore",P0="4.9.2";let En=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};En.UNAUTHENTICATED=new En(null),En.GOOGLE_CREDENTIALS=new En("google-credentials-uid"),En.FIRST_PARTY=new En("first-party-uid"),En.MOCK_USER=new En("mock-user");let Ko="12.3.0";const Ua=new qm("@firebase/firestore");function Co(){return Ua.logLevel}function ce(r,...e){if(Ua.logLevel<=je.DEBUG){const i=e.map(Wm);Ua.debug(`Firestore (${Ko}): ${r}`,...i)}}function Pr(r,...e){if(Ua.logLevel<=je.ERROR){const i=e.map(Wm);Ua.error(`Firestore (${Ko}): ${r}`,...i)}}function zo(r,...e){if(Ua.logLevel<=je.WARN){const i=e.map(Wm);Ua.warn(`Firestore (${Ko}): ${r}`,...i)}}function Wm(r){if(typeof r=="string")return r;try{return(function(i){return JSON.stringify(i)})(r)}catch{return r}}function Ee(r,e,i){let a="Unexpected state";typeof e=="string"?a=e:i=e,F1(r,a,i)}function F1(r,e,i){let a=`FIRESTORE (${Ko}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(i!==void 0)try{a+=" CONTEXT: "+JSON.stringify(i)}catch{a+=" CONTEXT: "+i}throw Pr(a),new Error(a)}function We(r,e,i,a){let l="Unexpected state";typeof i=="string"?l=i:a=i,r||F1(e,l,a)}function Re(r,e){return r}const Z={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class he extends jr{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class xa{constructor(){this.promise=new Promise(((e,i)=>{this.resolve=e,this.reject=i}))}}class G1{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Qw{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable((()=>i(En.UNAUTHENTICATED)))}shutdown(){}}class Yw{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class Kw{constructor(e){this.t=e,this.currentUser=En.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){We(this.o===void 0,42304);let a=this.i;const l=y=>this.i!==a?(a=this.i,i(y)):Promise.resolve();let c=new xa;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new xa,e.enqueueRetryable((()=>l(this.currentUser)))};const d=()=>{const y=c;e.enqueueRetryable((async()=>{await y.promise,await l(this.currentUser)}))},p=y=>{ce("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=y,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((y=>p(y))),setTimeout((()=>{if(!this.auth){const y=this.t.getImmediate({optional:!0});y?p(y):(ce("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new xa)}}),0),d()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((a=>this.i!==e?(ce("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(We(typeof a.accessToken=="string",31837,{l:a}),new G1(a.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return We(e===null||typeof e=="string",2055,{h:e}),new En(e)}}class Xw{constructor(e,i,a){this.P=e,this.T=i,this.I=a,this.type="FirstParty",this.user=En.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class $w{constructor(e,i,a){this.P=e,this.T=i,this.I=a}getToken(){return Promise.resolve(new Xw(this.P,this.T,this.I))}start(e,i){e.enqueueRetryable((()=>i(En.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class z0{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Jw{constructor(e,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,vi(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,i){We(this.o===void 0,3512);const a=c=>{c.error!=null&&ce("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.m;return this.m=c.token,ce("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable((()=>a(c)))};const l=c=>{ce("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>l(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?l(c):ce("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new z0(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((i=>i?(We(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new z0(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function Zw(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(i);else for(let a=0;a<r;a++)i[a]=Math.floor(256*Math.random());return i}class eg{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const l=Zw(40);for(let c=0;c<l.length;++c)a.length<20&&l[c]<i&&(a+=e.charAt(l[c]%62))}return a}}function Be(r,e){return r<e?-1:r>e?1:0}function Tm(r,e){const i=Math.min(r.length,e.length);for(let a=0;a<i;a++){const l=r.charAt(a),c=e.charAt(a);if(l!==c)return nm(l)===nm(c)?Be(l,c):nm(l)?1:-1}return Be(r.length,e.length)}const Ww=55296,eR=57343;function nm(r){const e=r.charCodeAt(0);return e>=Ww&&e<=eR}function jo(r,e,i){return r.length===e.length&&r.every(((a,l)=>i(a,e[l])))}const j0="__name__";class Zi{constructor(e,i,a){i===void 0?i=0:i>e.length&&Ee(637,{offset:i,range:e.length}),a===void 0?a=e.length-i:a>e.length-i&&Ee(1746,{length:a,range:e.length-i}),this.segments=e,this.offset=i,this.len=a}get length(){return this.len}isEqual(e){return Zi.comparator(this,e)===0}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof Zi?e.forEach((a=>{i.push(a)})):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,a=this.limit();i<a;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const a=Math.min(e.length,i.length);for(let l=0;l<a;l++){const c=Zi.compareSegments(e.get(l),i.get(l));if(c!==0)return c}return Be(e.length,i.length)}static compareSegments(e,i){const a=Zi.isNumericId(e),l=Zi.isNumericId(i);return a&&!l?-1:!a&&l?1:a&&l?Zi.extractNumericId(e).compare(Zi.extractNumericId(i)):Tm(e,i)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Os.fromString(e.substring(4,e.length-2))}}class ct extends Zi{construct(e,i,a){return new ct(e,i,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const i=[];for(const a of e){if(a.indexOf("//")>=0)throw new he(Z.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);i.push(...a.split("/").filter((l=>l.length>0)))}return new ct(i)}static emptyPath(){return new ct([])}}const tR=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class hn extends Zi{construct(e,i,a){return new hn(e,i,a)}static isValidIdentifier(e){return tR.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),hn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===j0}static keyField(){return new hn([j0])}static fromServerFormat(e){const i=[];let a="",l=0;const c=()=>{if(a.length===0)throw new he(Z.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(a),a=""};let d=!1;for(;l<e.length;){const p=e[l];if(p==="\\"){if(l+1===e.length)throw new he(Z.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const y=e[l+1];if(y!=="\\"&&y!=="."&&y!=="`")throw new he(Z.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);a+=y,l+=2}else p==="`"?(d=!d,l++):p!=="."||d?(a+=p,l++):(c(),l++)}if(c(),d)throw new he(Z.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new hn(i)}static emptyPath(){return new hn([])}}class ye{constructor(e){this.path=e}static fromPath(e){return new ye(ct.fromString(e))}static fromName(e){return new ye(ct.fromString(e).popFirst(5))}static empty(){return new ye(ct.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ct.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,i){return ct.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ye(new ct(e.slice()))}}function Q1(r,e,i){if(!i)throw new he(Z.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function nR(r,e,i,a){if(e===!0&&a===!0)throw new he(Z.INVALID_ARGUMENT,`${r} and ${i} cannot be used together.`)}function B0(r){if(!ye.isDocumentKey(r))throw new he(Z.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function q0(r){if(ye.isDocumentKey(r))throw new he(Z.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function Y1(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function Dh(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=(function(a){return a.constructor?a.constructor.name:null})(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":Ee(12329,{type:typeof r})}function tr(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new he(Z.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=Dh(r);throw new he(Z.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return r}function Yt(r,e){const i={typeString:r};return e&&(i.value=e),i}function vu(r,e){if(!Y1(r))throw new he(Z.INVALID_ARGUMENT,"JSON must be an object");let i;for(const a in e)if(e[a]){const l=e[a].typeString,c="value"in e[a]?{value:e[a].value}:void 0;if(!(a in r)){i=`JSON missing required field: '${a}'`;break}const d=r[a];if(l&&typeof d!==l){i=`JSON field '${a}' must be a ${l}.`;break}if(c!==void 0&&d!==c.value){i=`Expected '${a}' field to equal '${c.value}'`;break}}if(i)throw new he(Z.INVALID_ARGUMENT,i);return!0}const H0=-62135596800,F0=1e6;class mt{static now(){return mt.fromMillis(Date.now())}static fromDate(e){return mt.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),a=Math.floor((e-1e3*i)*F0);return new mt(i,a)}constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new he(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new he(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<H0)throw new he(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new he(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/F0}_compareTo(e){return this.seconds===e.seconds?Be(this.nanoseconds,e.nanoseconds):Be(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:mt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(vu(e,mt._jsonSchema))return new mt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-H0;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}mt._jsonSchemaVersion="firestore/timestamp/1.0",mt._jsonSchema={type:Yt("string",mt._jsonSchemaVersion),seconds:Yt("number"),nanoseconds:Yt("number")};class Se{static fromTimestamp(e){return new Se(e)}static min(){return new Se(new mt(0,0))}static max(){return new Se(new mt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const ru=-1;function iR(r,e){const i=r.toTimestamp().seconds,a=r.toTimestamp().nanoseconds+1,l=Se.fromTimestamp(a===1e9?new mt(i+1,0):new mt(i,a));return new ks(l,ye.empty(),e)}function rR(r){return new ks(r.readTime,r.key,ru)}class ks{constructor(e,i,a){this.readTime=e,this.documentKey=i,this.largestBatchId=a}static min(){return new ks(Se.min(),ye.empty(),ru)}static max(){return new ks(Se.max(),ye.empty(),ru)}}function sR(r,e){let i=r.readTime.compareTo(e.readTime);return i!==0?i:(i=ye.comparator(r.documentKey,e.documentKey),i!==0?i:Be(r.largestBatchId,e.largestBatchId))}const aR="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class oR{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Xo(r){if(r.code!==Z.FAILED_PRECONDITION||r.message!==aR)throw r;ce("LocalStore","Unexpectedly lost primary lease")}class W{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&Ee(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new W(((a,l)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(a,l)},this.catchCallback=c=>{this.wrapFailure(i,c).next(a,l)}}))}toPromise(){return new Promise(((e,i)=>{this.next(e,i)}))}wrapUserFunction(e){try{const i=e();return i instanceof W?i:W.resolve(i)}catch(i){return W.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction((()=>e(i))):W.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction((()=>e(i))):W.reject(i)}static resolve(e){return new W(((i,a)=>{i(e)}))}static reject(e){return new W(((i,a)=>{a(e)}))}static waitFor(e){return new W(((i,a)=>{let l=0,c=0,d=!1;e.forEach((p=>{++l,p.next((()=>{++c,d&&c===l&&i()}),(y=>a(y)))})),d=!0,c===l&&i()}))}static or(e){let i=W.resolve(!1);for(const a of e)i=i.next((l=>l?W.resolve(l):a()));return i}static forEach(e,i){const a=[];return e.forEach(((l,c)=>{a.push(i.call(this,l,c))})),this.waitFor(a)}static mapArray(e,i){return new W(((a,l)=>{const c=e.length,d=new Array(c);let p=0;for(let y=0;y<c;y++){const _=y;i(e[_]).next((b=>{d[_]=b,++p,p===c&&a(d)}),(b=>l(b)))}}))}static doWhile(e,i){return new W(((a,l)=>{const c=()=>{e()===!0?i().next((()=>{c()}),l):a()};c()}))}}function lR(r){const e=r.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function $o(r){return r.name==="IndexedDbTransactionError"}class Mh{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=a=>this.ae(a),this.ue=a=>i.writeSequenceNumber(a))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Mh.ce=-1;const tg=-1;function Oh(r){return r==null}function mh(r){return r===0&&1/r==-1/0}function uR(r){return typeof r=="number"&&Number.isInteger(r)&&!mh(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}const K1="";function cR(r){let e="";for(let i=0;i<r.length;i++)e.length>0&&(e=G0(e)),e=hR(r.get(i),e);return G0(e)}function hR(r,e){let i=e;const a=r.length;for(let l=0;l<a;l++){const c=r.charAt(l);switch(c){case"\0":i+="";break;case K1:i+="";break;default:i+=c}}return i}function G0(r){return r+K1+""}function Q0(r){let e=0;for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&e++;return e}function Bs(r,e){for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&e(i,r[i])}function X1(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}class Tt{constructor(e,i){this.comparator=e,this.root=i||cn.EMPTY}insert(e,i){return new Tt(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,cn.BLACK,null,null))}remove(e){return new Tt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,cn.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){const a=this.comparator(e,i.key);if(a===0)return i.value;a<0?i=i.left:a>0&&(i=i.right)}return null}indexOf(e){let i=0,a=this.root;for(;!a.isEmpty();){const l=this.comparator(e,a.key);if(l===0)return i+a.left.size;l<0?a=a.left:(i+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((i,a)=>(e(i,a),!1)))}toString(){const e=[];return this.inorderTraversal(((i,a)=>(e.push(`${i}:${a}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new qc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new qc(this.root,e,this.comparator,!1)}getReverseIterator(){return new qc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new qc(this.root,e,this.comparator,!0)}}class qc{constructor(e,i,a,l){this.isReverse=l,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=i?a(e.key,i):1,i&&l&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(c===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class cn{constructor(e,i,a,l,c){this.key=e,this.value=i,this.color=a??cn.RED,this.left=l??cn.EMPTY,this.right=c??cn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,a,l,c){return new cn(e??this.key,i??this.value,a??this.color,l??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,a){let l=this;const c=a(e,l.key);return l=c<0?l.copy(null,null,null,l.left.insert(e,i,a),null):c===0?l.copy(null,i,null,null,null):l.copy(null,null,null,null,l.right.insert(e,i,a)),l.fixUp()}removeMin(){if(this.left.isEmpty())return cn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let a,l=this;if(i(e,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(e,i),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),i(e,l.key)===0){if(l.right.isEmpty())return cn.EMPTY;a=l.right.min(),l=l.copy(a.key,a.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(e,i))}return l.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,cn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,cn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ee(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ee(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ee(27949);return e+(this.isRed()?0:1)}}cn.EMPTY=null,cn.RED=!0,cn.BLACK=!1;cn.EMPTY=new class{constructor(){this.size=0}get key(){throw Ee(57766)}get value(){throw Ee(16141)}get color(){throw Ee(16727)}get left(){throw Ee(29726)}get right(){throw Ee(36894)}copy(e,i,a,l,c){return this}insert(e,i,a){return new cn(e,i)}remove(e,i){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class $t{constructor(e){this.comparator=e,this.data=new Tt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((i,a)=>(e(i),!1)))}forEachInRange(e,i){const a=this.data.getIteratorFrom(e[0]);for(;a.hasNext();){const l=a.getNext();if(this.comparator(l.key,e[1])>=0)return;i(l.key)}}forEachWhile(e,i){let a;for(a=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();a.hasNext();)if(!e(a.getNext().key))return}firstAfterOrEqual(e){const i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new Y0(this.data.getIterator())}getIteratorFrom(e){return new Y0(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach((a=>{i=i.add(a)})),i}isEqual(e){if(!(e instanceof $t)||this.size!==e.size)return!1;const i=this.data.getIterator(),a=e.data.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=a.getNext().key;if(this.comparator(l,c)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((i=>{e.push(i)})),e}toString(){const e=[];return this.forEach((i=>e.push(i))),"SortedSet("+e.toString()+")"}copy(e){const i=new $t(this.comparator);return i.data=e,i}}class Y0{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class ei{constructor(e){this.fields=e,e.sort(hn.comparator)}static empty(){return new ei([])}unionWith(e){let i=new $t(hn.comparator);for(const a of this.fields)i=i.add(a);for(const a of e)i=i.add(a);return new ei(i.toArray())}covers(e){for(const i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return jo(this.fields,e.fields,((i,a)=>i.isEqual(a)))}}class $1 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class dn{constructor(e){this.binaryString=e}static fromBase64String(e){const i=(function(l){try{return atob(l)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new $1("Invalid base64 string: "+c):c}})(e);return new dn(i)}static fromUint8Array(e){const i=(function(l){let c="";for(let d=0;d<l.length;++d)c+=String.fromCharCode(l[d]);return c})(e);return new dn(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const a=new Uint8Array(i.length);for(let l=0;l<i.length;l++)a[l]=i.charCodeAt(l);return a})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Be(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}dn.EMPTY_BYTE_STRING=new dn("");const fR=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Us(r){if(We(!!r,39018),typeof r=="string"){let e=0;const i=fR.exec(r);if(We(!!i,46558,{timestamp:r}),i[1]){let l=i[1];l=(l+"000000000").substr(0,9),e=Number(l)}const a=new Date(r);return{seconds:Math.floor(a.getTime()/1e3),nanos:e}}return{seconds:Ut(r.seconds),nanos:Ut(r.nanos)}}function Ut(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function Ls(r){return typeof r=="string"?dn.fromBase64String(r):dn.fromUint8Array(r)}const J1="server_timestamp",Z1="__type__",W1="__previous_value__",eE="__local_write_time__";function ng(r){return(r?.mapValue?.fields||{})[Z1]?.stringValue===J1}function Vh(r){const e=r.mapValue.fields[W1];return ng(e)?Vh(e):e}function su(r){const e=Us(r.mapValue.fields[eE].timestampValue);return new mt(e.seconds,e.nanos)}class dR{constructor(e,i,a,l,c,d,p,y,_,b){this.databaseId=e,this.appId=i,this.persistenceKey=a,this.host=l,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=p,this.longPollingOptions=y,this.useFetchStreams=_,this.isUsingEmulator=b}}const gh="(default)";class au{constructor(e,i){this.projectId=e,this.database=i||gh}static empty(){return new au("","")}get isDefaultDatabase(){return this.database===gh}isEqual(e){return e instanceof au&&e.projectId===this.projectId&&e.database===this.database}}const tE="__type__",mR="__max__",Hc={mapValue:{}},nE="__vector__",ph="value";function Ps(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?ng(r)?4:pR(r)?9007199254740991:gR(r)?10:11:Ee(28295,{value:r})}function ar(r,e){if(r===e)return!0;const i=Ps(r);if(i!==Ps(e))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return su(r).isEqual(su(e));case 3:return(function(l,c){if(typeof l.timestampValue=="string"&&typeof c.timestampValue=="string"&&l.timestampValue.length===c.timestampValue.length)return l.timestampValue===c.timestampValue;const d=Us(l.timestampValue),p=Us(c.timestampValue);return d.seconds===p.seconds&&d.nanos===p.nanos})(r,e);case 5:return r.stringValue===e.stringValue;case 6:return(function(l,c){return Ls(l.bytesValue).isEqual(Ls(c.bytesValue))})(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return(function(l,c){return Ut(l.geoPointValue.latitude)===Ut(c.geoPointValue.latitude)&&Ut(l.geoPointValue.longitude)===Ut(c.geoPointValue.longitude)})(r,e);case 2:return(function(l,c){if("integerValue"in l&&"integerValue"in c)return Ut(l.integerValue)===Ut(c.integerValue);if("doubleValue"in l&&"doubleValue"in c){const d=Ut(l.doubleValue),p=Ut(c.doubleValue);return d===p?mh(d)===mh(p):isNaN(d)&&isNaN(p)}return!1})(r,e);case 9:return jo(r.arrayValue.values||[],e.arrayValue.values||[],ar);case 10:case 11:return(function(l,c){const d=l.mapValue.fields||{},p=c.mapValue.fields||{};if(Q0(d)!==Q0(p))return!1;for(const y in d)if(d.hasOwnProperty(y)&&(p[y]===void 0||!ar(d[y],p[y])))return!1;return!0})(r,e);default:return Ee(52216,{left:r})}}function ou(r,e){return(r.values||[]).find((i=>ar(i,e)))!==void 0}function Bo(r,e){if(r===e)return 0;const i=Ps(r),a=Ps(e);if(i!==a)return Be(i,a);switch(i){case 0:case 9007199254740991:return 0;case 1:return Be(r.booleanValue,e.booleanValue);case 2:return(function(c,d){const p=Ut(c.integerValue||c.doubleValue),y=Ut(d.integerValue||d.doubleValue);return p<y?-1:p>y?1:p===y?0:isNaN(p)?isNaN(y)?0:-1:1})(r,e);case 3:return K0(r.timestampValue,e.timestampValue);case 4:return K0(su(r),su(e));case 5:return Tm(r.stringValue,e.stringValue);case 6:return(function(c,d){const p=Ls(c),y=Ls(d);return p.compareTo(y)})(r.bytesValue,e.bytesValue);case 7:return(function(c,d){const p=c.split("/"),y=d.split("/");for(let _=0;_<p.length&&_<y.length;_++){const b=Be(p[_],y[_]);if(b!==0)return b}return Be(p.length,y.length)})(r.referenceValue,e.referenceValue);case 8:return(function(c,d){const p=Be(Ut(c.latitude),Ut(d.latitude));return p!==0?p:Be(Ut(c.longitude),Ut(d.longitude))})(r.geoPointValue,e.geoPointValue);case 9:return X0(r.arrayValue,e.arrayValue);case 10:return(function(c,d){const p=c.fields||{},y=d.fields||{},_=p[ph]?.arrayValue,b=y[ph]?.arrayValue,A=Be(_?.values?.length||0,b?.values?.length||0);return A!==0?A:X0(_,b)})(r.mapValue,e.mapValue);case 11:return(function(c,d){if(c===Hc.mapValue&&d===Hc.mapValue)return 0;if(c===Hc.mapValue)return 1;if(d===Hc.mapValue)return-1;const p=c.fields||{},y=Object.keys(p),_=d.fields||{},b=Object.keys(_);y.sort(),b.sort();for(let A=0;A<y.length&&A<b.length;++A){const V=Tm(y[A],b[A]);if(V!==0)return V;const Y=Bo(p[y[A]],_[b[A]]);if(Y!==0)return Y}return Be(y.length,b.length)})(r.mapValue,e.mapValue);default:throw Ee(23264,{he:i})}}function K0(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return Be(r,e);const i=Us(r),a=Us(e),l=Be(i.seconds,a.seconds);return l!==0?l:Be(i.nanos,a.nanos)}function X0(r,e){const i=r.values||[],a=e.values||[];for(let l=0;l<i.length&&l<a.length;++l){const c=Bo(i[l],a[l]);if(c)return c}return Be(i.length,a.length)}function qo(r){return bm(r)}function bm(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(i){const a=Us(i);return`time(${a.seconds},${a.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(i){return Ls(i).toBase64()})(r.bytesValue):"referenceValue"in r?(function(i){return ye.fromName(i).toString()})(r.referenceValue):"geoPointValue"in r?(function(i){return`geo(${i.latitude},${i.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(i){let a="[",l=!0;for(const c of i.values||[])l?l=!1:a+=",",a+=bm(c);return a+"]"})(r.arrayValue):"mapValue"in r?(function(i){const a=Object.keys(i.fields||{}).sort();let l="{",c=!0;for(const d of a)c?c=!1:l+=",",l+=`${d}:${bm(i.fields[d])}`;return l+"}"})(r.mapValue):Ee(61005,{value:r})}function eh(r){switch(Ps(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Vh(r);return e?16+eh(e):16;case 5:return 2*r.stringValue.length;case 6:return Ls(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(a){return(a.values||[]).reduce(((l,c)=>l+eh(c)),0)})(r.arrayValue);case 10:case 11:return(function(a){let l=0;return Bs(a.fields,((c,d)=>{l+=c.length+eh(d)})),l})(r.mapValue);default:throw Ee(13486,{value:r})}}function $0(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function Sm(r){return!!r&&"integerValue"in r}function ig(r){return!!r&&"arrayValue"in r}function J0(r){return!!r&&"nullValue"in r}function Z0(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function th(r){return!!r&&"mapValue"in r}function gR(r){return(r?.mapValue?.fields||{})[tE]?.stringValue===nE}function Zl(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const e={mapValue:{fields:{}}};return Bs(r.mapValue.fields,((i,a)=>e.mapValue.fields[i]=Zl(a))),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(r.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=Zl(r.arrayValue.values[i]);return e}return{...r}}function pR(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===mR}class jn{constructor(e){this.value=e}static empty(){return new jn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let a=0;a<e.length-1;++a)if(i=(i.mapValue.fields||{})[e.get(a)],!th(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=Zl(i)}setAll(e){let i=hn.emptyPath(),a={},l=[];e.forEach(((d,p)=>{if(!i.isImmediateParentOf(p)){const y=this.getFieldsMap(i);this.applyChanges(y,a,l),a={},l=[],i=p.popLast()}d?a[p.lastSegment()]=Zl(d):l.push(p.lastSegment())}));const c=this.getFieldsMap(i);this.applyChanges(c,a,l)}delete(e){const i=this.field(e.popLast());th(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return ar(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let a=0;a<e.length;++a){let l=i.mapValue.fields[e.get(a)];th(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},i.mapValue.fields[e.get(a)]=l),i=l}return i.mapValue.fields}applyChanges(e,i,a){Bs(i,((l,c)=>e[l]=c));for(const l of a)delete e[l]}clone(){return new jn(Zl(this.value))}}function iE(r){const e=[];return Bs(r.fields,((i,a)=>{const l=new hn([i]);if(th(a)){const c=iE(a.mapValue).fields;if(c.length===0)e.push(l);else for(const d of c)e.push(l.child(d))}else e.push(l)})),new ei(e)}class Tn{constructor(e,i,a,l,c,d,p){this.key=e,this.documentType=i,this.version=a,this.readTime=l,this.createTime=c,this.data=d,this.documentState=p}static newInvalidDocument(e){return new Tn(e,0,Se.min(),Se.min(),Se.min(),jn.empty(),0)}static newFoundDocument(e,i,a,l){return new Tn(e,1,i,Se.min(),a,l,0)}static newNoDocument(e,i){return new Tn(e,2,i,Se.min(),Se.min(),jn.empty(),0)}static newUnknownDocument(e,i){return new Tn(e,3,i,Se.min(),Se.min(),jn.empty(),2)}convertToFoundDocument(e,i){return!this.createTime.isEqual(Se.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=jn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=jn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Se.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Tn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Tn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class yh{constructor(e,i){this.position=e,this.inclusive=i}}function W0(r,e,i){let a=0;for(let l=0;l<r.position.length;l++){const c=e[l],d=r.position[l];if(c.field.isKeyField()?a=ye.comparator(ye.fromName(d.referenceValue),i.key):a=Bo(d,i.data.field(c.field)),c.dir==="desc"&&(a*=-1),a!==0)break}return a}function ev(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let i=0;i<r.position.length;i++)if(!ar(r.position[i],e.position[i]))return!1;return!0}class _h{constructor(e,i="asc"){this.field=e,this.dir=i}}function yR(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}class rE{}class Qt extends rE{constructor(e,i,a){super(),this.field=e,this.op=i,this.value=a}static create(e,i,a){return e.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(e,i,a):new vR(e,i,a):i==="array-contains"?new bR(e,a):i==="in"?new SR(e,a):i==="not-in"?new AR(e,a):i==="array-contains-any"?new wR(e,a):new Qt(e,i,a)}static createKeyFieldInFilter(e,i,a){return i==="in"?new ER(e,a):new TR(e,a)}matches(e){const i=e.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(Bo(i,this.value)):i!==null&&Ps(this.value)===Ps(i)&&this.matchesComparison(Bo(i,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ee(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ki extends rE{constructor(e,i){super(),this.filters=e,this.op=i,this.Pe=null}static create(e,i){return new ki(e,i)}matches(e){return sE(this)?this.filters.find((i=>!i.matches(e)))===void 0:this.filters.find((i=>i.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,i)=>e.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function sE(r){return r.op==="and"}function aE(r){return _R(r)&&sE(r)}function _R(r){for(const e of r.filters)if(e instanceof ki)return!1;return!0}function Am(r){if(r instanceof Qt)return r.field.canonicalString()+r.op.toString()+qo(r.value);if(aE(r))return r.filters.map((e=>Am(e))).join(",");{const e=r.filters.map((i=>Am(i))).join(",");return`${r.op}(${e})`}}function oE(r,e){return r instanceof Qt?(function(a,l){return l instanceof Qt&&a.op===l.op&&a.field.isEqual(l.field)&&ar(a.value,l.value)})(r,e):r instanceof ki?(function(a,l){return l instanceof ki&&a.op===l.op&&a.filters.length===l.filters.length?a.filters.reduce(((c,d,p)=>c&&oE(d,l.filters[p])),!0):!1})(r,e):void Ee(19439)}function lE(r){return r instanceof Qt?(function(i){return`${i.field.canonicalString()} ${i.op} ${qo(i.value)}`})(r):r instanceof ki?(function(i){return i.op.toString()+" {"+i.getFilters().map(lE).join(" ,")+"}"})(r):"Filter"}class vR extends Qt{constructor(e,i,a){super(e,i,a),this.key=ye.fromName(a.referenceValue)}matches(e){const i=ye.comparator(e.key,this.key);return this.matchesComparison(i)}}class ER extends Qt{constructor(e,i){super(e,"in",i),this.keys=uE("in",i)}matches(e){return this.keys.some((i=>i.isEqual(e.key)))}}class TR extends Qt{constructor(e,i){super(e,"not-in",i),this.keys=uE("not-in",i)}matches(e){return!this.keys.some((i=>i.isEqual(e.key)))}}function uE(r,e){return(e.arrayValue?.values||[]).map((i=>ye.fromName(i.referenceValue)))}class bR extends Qt{constructor(e,i){super(e,"array-contains",i)}matches(e){const i=e.data.field(this.field);return ig(i)&&ou(i.arrayValue,this.value)}}class SR extends Qt{constructor(e,i){super(e,"in",i)}matches(e){const i=e.data.field(this.field);return i!==null&&ou(this.value.arrayValue,i)}}class AR extends Qt{constructor(e,i){super(e,"not-in",i)}matches(e){if(ou(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=e.data.field(this.field);return i!==null&&i.nullValue===void 0&&!ou(this.value.arrayValue,i)}}class wR extends Qt{constructor(e,i){super(e,"array-contains-any",i)}matches(e){const i=e.data.field(this.field);return!(!ig(i)||!i.arrayValue.values)&&i.arrayValue.values.some((a=>ou(this.value.arrayValue,a)))}}class RR{constructor(e,i=null,a=[],l=[],c=null,d=null,p=null){this.path=e,this.collectionGroup=i,this.orderBy=a,this.filters=l,this.limit=c,this.startAt=d,this.endAt=p,this.Te=null}}function tv(r,e=null,i=[],a=[],l=null,c=null,d=null){return new RR(r,e,i,a,l,c,d)}function rg(r){const e=Re(r);if(e.Te===null){let i=e.path.canonicalString();e.collectionGroup!==null&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map((a=>Am(a))).join(","),i+="|ob:",i+=e.orderBy.map((a=>(function(c){return c.field.canonicalString()+c.dir})(a))).join(","),Oh(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map((a=>qo(a))).join(",")),e.endAt&&(i+="|ub:",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map((a=>qo(a))).join(",")),e.Te=i}return e.Te}function sg(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<r.orderBy.length;i++)if(!yR(r.orderBy[i],e.orderBy[i]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let i=0;i<r.filters.length;i++)if(!oE(r.filters[i],e.filters[i]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!ev(r.startAt,e.startAt)&&ev(r.endAt,e.endAt)}function wm(r){return ye.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}class Eu{constructor(e,i=null,a=[],l=[],c=null,d="F",p=null,y=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=a,this.filters=l,this.limit=c,this.limitType=d,this.startAt=p,this.endAt=y,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function CR(r,e,i,a,l,c,d,p){return new Eu(r,e,i,a,l,c,d,p)}function ag(r){return new Eu(r)}function nv(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function cE(r){return r.collectionGroup!==null}function Wl(r){const e=Re(r);if(e.Ie===null){e.Ie=[];const i=new Set;for(const c of e.explicitOrderBy)e.Ie.push(c),i.add(c.field.canonicalString());const a=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let p=new $t(hn.comparator);return d.filters.forEach((y=>{y.getFlattenedFilters().forEach((_=>{_.isInequality()&&(p=p.add(_.field))}))})),p})(e).forEach((c=>{i.has(c.canonicalString())||c.isKeyField()||e.Ie.push(new _h(c,a))})),i.has(hn.keyField().canonicalString())||e.Ie.push(new _h(hn.keyField(),a))}return e.Ie}function nr(r){const e=Re(r);return e.Ee||(e.Ee=IR(e,Wl(r))),e.Ee}function IR(r,e){if(r.limitType==="F")return tv(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map((l=>{const c=l.dir==="desc"?"asc":"desc";return new _h(l.field,c)}));const i=r.endAt?new yh(r.endAt.position,r.endAt.inclusive):null,a=r.startAt?new yh(r.startAt.position,r.startAt.inclusive):null;return tv(r.path,r.collectionGroup,e,r.filters,r.limit,i,a)}}function Rm(r,e){const i=r.filters.concat([e]);return new Eu(r.path,r.collectionGroup,r.explicitOrderBy.slice(),i,r.limit,r.limitType,r.startAt,r.endAt)}function Cm(r,e,i){return new Eu(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,i,r.startAt,r.endAt)}function kh(r,e){return sg(nr(r),nr(e))&&r.limitType===e.limitType}function hE(r){return`${rg(nr(r))}|lt:${r.limitType}`}function Io(r){return`Query(target=${(function(i){let a=i.path.canonicalString();return i.collectionGroup!==null&&(a+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(a+=`, filters: [${i.filters.map((l=>lE(l))).join(", ")}]`),Oh(i.limit)||(a+=", limit: "+i.limit),i.orderBy.length>0&&(a+=`, orderBy: [${i.orderBy.map((l=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(l))).join(", ")}]`),i.startAt&&(a+=", startAt: ",a+=i.startAt.inclusive?"b:":"a:",a+=i.startAt.position.map((l=>qo(l))).join(",")),i.endAt&&(a+=", endAt: ",a+=i.endAt.inclusive?"a:":"b:",a+=i.endAt.position.map((l=>qo(l))).join(",")),`Target(${a})`})(nr(r))}; limitType=${r.limitType})`}function Uh(r,e){return e.isFoundDocument()&&(function(a,l){const c=l.key.path;return a.collectionGroup!==null?l.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(c):ye.isDocumentKey(a.path)?a.path.isEqual(c):a.path.isImmediateParentOf(c)})(r,e)&&(function(a,l){for(const c of Wl(a))if(!c.field.isKeyField()&&l.data.field(c.field)===null)return!1;return!0})(r,e)&&(function(a,l){for(const c of a.filters)if(!c.matches(l))return!1;return!0})(r,e)&&(function(a,l){return!(a.startAt&&!(function(d,p,y){const _=W0(d,p,y);return d.inclusive?_<=0:_<0})(a.startAt,Wl(a),l)||a.endAt&&!(function(d,p,y){const _=W0(d,p,y);return d.inclusive?_>=0:_>0})(a.endAt,Wl(a),l))})(r,e)}function NR(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function fE(r){return(e,i)=>{let a=!1;for(const l of Wl(r)){const c=xR(l,e,i);if(c!==0)return c;a=a||l.field.isKeyField()}return 0}}function xR(r,e,i){const a=r.field.isKeyField()?ye.comparator(e.key,i.key):(function(c,d,p){const y=d.data.field(c),_=p.data.field(c);return y!==null&&_!==null?Bo(y,_):Ee(42886)})(r.field,e,i);switch(r.dir){case"asc":return a;case"desc":return-1*a;default:return Ee(19790,{direction:r.dir})}}class za{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={},this.innerSize=0}get(e){const i=this.mapKeyFn(e),a=this.inner[i];if(a!==void 0){for(const[l,c]of a)if(this.equalsFn(l,e))return c}}has(e){return this.get(e)!==void 0}set(e,i){const a=this.mapKeyFn(e),l=this.inner[a];if(l===void 0)return this.inner[a]=[[e,i]],void this.innerSize++;for(let c=0;c<l.length;c++)if(this.equalsFn(l[c][0],e))return void(l[c]=[e,i]);l.push([e,i]),this.innerSize++}delete(e){const i=this.mapKeyFn(e),a=this.inner[i];if(a===void 0)return!1;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],e))return a.length===1?delete this.inner[i]:a.splice(l,1),this.innerSize--,!0;return!1}forEach(e){Bs(this.inner,((i,a)=>{for(const[l,c]of a)e(l,c)}))}isEmpty(){return X1(this.inner)}size(){return this.innerSize}}const DR=new Tt(ye.comparator);function zr(){return DR}const dE=new Tt(ye.comparator);function Yl(...r){let e=dE;for(const i of r)e=e.insert(i.key,i);return e}function mE(r){let e=dE;return r.forEach(((i,a)=>e=e.insert(i,a.overlayedDocument))),e}function Na(){return eu()}function gE(){return eu()}function eu(){return new za((r=>r.toString()),((r,e)=>r.isEqual(e)))}const MR=new Tt(ye.comparator),OR=new $t(ye.comparator);function qe(...r){let e=OR;for(const i of r)e=e.add(i);return e}const VR=new $t(Be);function kR(){return VR}function og(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:mh(e)?"-0":e}}function pE(r){return{integerValue:""+r}}function UR(r,e){return uR(e)?pE(e):og(r,e)}class Lh{constructor(){this._=void 0}}function LR(r,e,i){return r instanceof lu?(function(l,c){const d={fields:{[Z1]:{stringValue:J1},[eE]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return c&&ng(c)&&(c=Vh(c)),c&&(d.fields[W1]=c),{mapValue:d}})(i,e):r instanceof uu?_E(r,e):r instanceof cu?vE(r,e):(function(l,c){const d=yE(l,c),p=iv(d)+iv(l.Ae);return Sm(d)&&Sm(l.Ae)?pE(p):og(l.serializer,p)})(r,e)}function PR(r,e,i){return r instanceof uu?_E(r,e):r instanceof cu?vE(r,e):i}function yE(r,e){return r instanceof vh?(function(a){return Sm(a)||(function(c){return!!c&&"doubleValue"in c})(a)})(e)?e:{integerValue:0}:null}class lu extends Lh{}class uu extends Lh{constructor(e){super(),this.elements=e}}function _E(r,e){const i=EE(e);for(const a of r.elements)i.some((l=>ar(l,a)))||i.push(a);return{arrayValue:{values:i}}}class cu extends Lh{constructor(e){super(),this.elements=e}}function vE(r,e){let i=EE(e);for(const a of r.elements)i=i.filter((l=>!ar(l,a)));return{arrayValue:{values:i}}}class vh extends Lh{constructor(e,i){super(),this.serializer=e,this.Ae=i}}function iv(r){return Ut(r.integerValue||r.doubleValue)}function EE(r){return ig(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}class zR{constructor(e,i){this.field=e,this.transform=i}}function jR(r,e){return r.field.isEqual(e.field)&&(function(a,l){return a instanceof uu&&l instanceof uu||a instanceof cu&&l instanceof cu?jo(a.elements,l.elements,ar):a instanceof vh&&l instanceof vh?ar(a.Ae,l.Ae):a instanceof lu&&l instanceof lu})(r.transform,e.transform)}class BR{constructor(e,i){this.version=e,this.transformResults=i}}class Ti{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new Ti}static exists(e){return new Ti(void 0,e)}static updateTime(e){return new Ti(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function nh(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class Ph{}function TE(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new lg(r.key,Ti.none()):new Tu(r.key,r.data,Ti.none());{const i=r.data,a=jn.empty();let l=new $t(hn.comparator);for(let c of e.fields)if(!l.has(c)){let d=i.field(c);d===null&&c.length>1&&(c=c.popLast(),d=i.field(c)),d===null?a.delete(c):a.set(c,d),l=l.add(c)}return new qs(r.key,a,new ei(l.toArray()),Ti.none())}}function qR(r,e,i){r instanceof Tu?(function(l,c,d){const p=l.value.clone(),y=sv(l.fieldTransforms,c,d.transformResults);p.setAll(y),c.convertToFoundDocument(d.version,p).setHasCommittedMutations()})(r,e,i):r instanceof qs?(function(l,c,d){if(!nh(l.precondition,c))return void c.convertToUnknownDocument(d.version);const p=sv(l.fieldTransforms,c,d.transformResults),y=c.data;y.setAll(bE(l)),y.setAll(p),c.convertToFoundDocument(d.version,y).setHasCommittedMutations()})(r,e,i):(function(l,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()})(0,e,i)}function tu(r,e,i,a){return r instanceof Tu?(function(c,d,p,y){if(!nh(c.precondition,d))return p;const _=c.value.clone(),b=av(c.fieldTransforms,y,d);return _.setAll(b),d.convertToFoundDocument(d.version,_).setHasLocalMutations(),null})(r,e,i,a):r instanceof qs?(function(c,d,p,y){if(!nh(c.precondition,d))return p;const _=av(c.fieldTransforms,y,d),b=d.data;return b.setAll(bE(c)),b.setAll(_),d.convertToFoundDocument(d.version,b).setHasLocalMutations(),p===null?null:p.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((A=>A.field)))})(r,e,i,a):(function(c,d,p){return nh(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):p})(r,e,i)}function HR(r,e){let i=null;for(const a of r.fieldTransforms){const l=e.data.field(a.field),c=yE(a.transform,l||null);c!=null&&(i===null&&(i=jn.empty()),i.set(a.field,c))}return i||null}function rv(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!(function(a,l){return a===void 0&&l===void 0||!(!a||!l)&&jo(a,l,((c,d)=>jR(c,d)))})(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class Tu extends Ph{constructor(e,i,a,l=[]){super(),this.key=e,this.value=i,this.precondition=a,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class qs extends Ph{constructor(e,i,a,l,c=[]){super(),this.key=e,this.data=i,this.fieldMask=a,this.precondition=l,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function bE(r){const e=new Map;return r.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const a=r.data.field(i);e.set(i,a)}})),e}function sv(r,e,i){const a=new Map;We(r.length===i.length,32656,{Re:i.length,Ve:r.length});for(let l=0;l<i.length;l++){const c=r[l],d=c.transform,p=e.data.field(c.field);a.set(c.field,PR(d,p,i[l]))}return a}function av(r,e,i){const a=new Map;for(const l of r){const c=l.transform,d=i.data.field(l.field);a.set(l.field,LR(c,d,e))}return a}class lg extends Ph{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class FR extends Ph{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class GR{constructor(e,i,a,l){this.batchId=e,this.localWriteTime=i,this.baseMutations=a,this.mutations=l}applyToRemoteDocument(e,i){const a=i.mutationResults;for(let l=0;l<this.mutations.length;l++){const c=this.mutations[l];c.key.isEqual(e.key)&&qR(c,e,a[l])}}applyToLocalView(e,i){for(const a of this.baseMutations)a.key.isEqual(e.key)&&(i=tu(a,e,i,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(e.key)&&(i=tu(a,e,i,this.localWriteTime));return i}applyToLocalDocumentSet(e,i){const a=gE();return this.mutations.forEach((l=>{const c=e.get(l.key),d=c.overlayedDocument;let p=this.applyToLocalView(d,c.mutatedFields);p=i.has(l.key)?null:p;const y=TE(d,p);y!==null&&a.set(l.key,y),d.isValidDocument()||d.convertToNoDocument(Se.min())})),a}keys(){return this.mutations.reduce(((e,i)=>e.add(i.key)),qe())}isEqual(e){return this.batchId===e.batchId&&jo(this.mutations,e.mutations,((i,a)=>rv(i,a)))&&jo(this.baseMutations,e.baseMutations,((i,a)=>rv(i,a)))}}class ug{constructor(e,i,a,l){this.batch=e,this.commitVersion=i,this.mutationResults=a,this.docVersions=l}static from(e,i,a){We(e.mutations.length===a.length,58842,{me:e.mutations.length,fe:a.length});let l=(function(){return MR})();const c=e.mutations;for(let d=0;d<c.length;d++)l=l.insert(c[d].key,a[d].version);return new ug(e,i,a,l)}}class QR{constructor(e,i){this.largestBatchId=e,this.mutation=i}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class YR{constructor(e,i){this.count=e,this.unchangedNames=i}}var Gt,Qe;function KR(r){switch(r){case Z.OK:return Ee(64938);case Z.CANCELLED:case Z.UNKNOWN:case Z.DEADLINE_EXCEEDED:case Z.RESOURCE_EXHAUSTED:case Z.INTERNAL:case Z.UNAVAILABLE:case Z.UNAUTHENTICATED:return!1;case Z.INVALID_ARGUMENT:case Z.NOT_FOUND:case Z.ALREADY_EXISTS:case Z.PERMISSION_DENIED:case Z.FAILED_PRECONDITION:case Z.ABORTED:case Z.OUT_OF_RANGE:case Z.UNIMPLEMENTED:case Z.DATA_LOSS:return!0;default:return Ee(15467,{code:r})}}function SE(r){if(r===void 0)return Pr("GRPC error has no .code"),Z.UNKNOWN;switch(r){case Gt.OK:return Z.OK;case Gt.CANCELLED:return Z.CANCELLED;case Gt.UNKNOWN:return Z.UNKNOWN;case Gt.DEADLINE_EXCEEDED:return Z.DEADLINE_EXCEEDED;case Gt.RESOURCE_EXHAUSTED:return Z.RESOURCE_EXHAUSTED;case Gt.INTERNAL:return Z.INTERNAL;case Gt.UNAVAILABLE:return Z.UNAVAILABLE;case Gt.UNAUTHENTICATED:return Z.UNAUTHENTICATED;case Gt.INVALID_ARGUMENT:return Z.INVALID_ARGUMENT;case Gt.NOT_FOUND:return Z.NOT_FOUND;case Gt.ALREADY_EXISTS:return Z.ALREADY_EXISTS;case Gt.PERMISSION_DENIED:return Z.PERMISSION_DENIED;case Gt.FAILED_PRECONDITION:return Z.FAILED_PRECONDITION;case Gt.ABORTED:return Z.ABORTED;case Gt.OUT_OF_RANGE:return Z.OUT_OF_RANGE;case Gt.UNIMPLEMENTED:return Z.UNIMPLEMENTED;case Gt.DATA_LOSS:return Z.DATA_LOSS;default:return Ee(39323,{code:r})}}(Qe=Gt||(Gt={}))[Qe.OK=0]="OK",Qe[Qe.CANCELLED=1]="CANCELLED",Qe[Qe.UNKNOWN=2]="UNKNOWN",Qe[Qe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Qe[Qe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Qe[Qe.NOT_FOUND=5]="NOT_FOUND",Qe[Qe.ALREADY_EXISTS=6]="ALREADY_EXISTS",Qe[Qe.PERMISSION_DENIED=7]="PERMISSION_DENIED",Qe[Qe.UNAUTHENTICATED=16]="UNAUTHENTICATED",Qe[Qe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Qe[Qe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Qe[Qe.ABORTED=10]="ABORTED",Qe[Qe.OUT_OF_RANGE=11]="OUT_OF_RANGE",Qe[Qe.UNIMPLEMENTED=12]="UNIMPLEMENTED",Qe[Qe.INTERNAL=13]="INTERNAL",Qe[Qe.UNAVAILABLE=14]="UNAVAILABLE",Qe[Qe.DATA_LOSS=15]="DATA_LOSS";function XR(){return new TextEncoder}const $R=new Os([4294967295,4294967295],0);function ov(r){const e=XR().encode(r),i=new P1;return i.update(e),new Uint8Array(i.digest())}function lv(r){const e=new DataView(r.buffer),i=e.getUint32(0,!0),a=e.getUint32(4,!0),l=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new Os([i,a],0),new Os([l,c],0)]}class cg{constructor(e,i,a){if(this.bitmap=e,this.padding=i,this.hashCount=a,i<0||i>=8)throw new Kl(`Invalid padding: ${i}`);if(a<0)throw new Kl(`Invalid hash count: ${a}`);if(e.length>0&&this.hashCount===0)throw new Kl(`Invalid hash count: ${a}`);if(e.length===0&&i!==0)throw new Kl(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*e.length-i,this.pe=Os.fromNumber(this.ge)}ye(e,i,a){let l=e.add(i.multiply(Os.fromNumber(a)));return l.compare($R)===1&&(l=new Os([l.getBits(0),l.getBits(1)],0)),l.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const i=ov(e),[a,l]=lv(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,l,c);if(!this.we(d))return!1}return!0}static create(e,i,a){const l=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),d=new cg(c,l,i);return a.forEach((p=>d.insert(p))),d}insert(e){if(this.ge===0)return;const i=ov(e),[a,l]=lv(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,l,c);this.Se(d)}}Se(e){const i=Math.floor(e/8),a=e%8;this.bitmap[i]|=1<<a}}class Kl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class zh{constructor(e,i,a,l,c){this.snapshotVersion=e,this.targetChanges=i,this.targetMismatches=a,this.documentUpdates=l,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,i,a){const l=new Map;return l.set(e,bu.createSynthesizedTargetChangeForCurrentChange(e,i,a)),new zh(Se.min(),l,new Tt(Be),zr(),qe())}}class bu{constructor(e,i,a,l,c){this.resumeToken=e,this.current=i,this.addedDocuments=a,this.modifiedDocuments=l,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,i,a){return new bu(a,i,qe(),qe(),qe())}}class ih{constructor(e,i,a,l){this.be=e,this.removedTargetIds=i,this.key=a,this.De=l}}class AE{constructor(e,i){this.targetId=e,this.Ce=i}}class wE{constructor(e,i,a=dn.EMPTY_BYTE_STRING,l=null){this.state=e,this.targetIds=i,this.resumeToken=a,this.cause=l}}class uv{constructor(){this.ve=0,this.Fe=cv(),this.Me=dn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=qe(),i=qe(),a=qe();return this.Fe.forEach(((l,c)=>{switch(c){case 0:e=e.add(l);break;case 2:i=i.add(l);break;case 1:a=a.add(l);break;default:Ee(38017,{changeType:c})}})),new bu(this.Me,this.xe,e,i,a)}qe(){this.Oe=!1,this.Fe=cv()}Qe(e,i){this.Oe=!0,this.Fe=this.Fe.insert(e,i)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,We(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class JR{constructor(e){this.Ge=e,this.ze=new Map,this.je=zr(),this.Je=Fc(),this.He=Fc(),this.Ye=new Tt(Be)}Ze(e){for(const i of e.be)e.De&&e.De.isFoundDocument()?this.Xe(i,e.De):this.et(i,e.key,e.De);for(const i of e.removedTargetIds)this.et(i,e.key,e.De)}tt(e){this.forEachTarget(e,(i=>{const a=this.nt(i);switch(e.state){case 0:this.rt(i)&&a.Le(e.resumeToken);break;case 1:a.Ke(),a.Ne||a.qe(),a.Le(e.resumeToken);break;case 2:a.Ke(),a.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(a.We(),a.Le(e.resumeToken));break;case 4:this.rt(i)&&(this.it(i),a.Le(e.resumeToken));break;default:Ee(56790,{state:e.state})}}))}forEachTarget(e,i){e.targetIds.length>0?e.targetIds.forEach(i):this.ze.forEach(((a,l)=>{this.rt(l)&&i(l)}))}st(e){const i=e.targetId,a=e.Ce.count,l=this.ot(i);if(l){const c=l.target;if(wm(c))if(a===0){const d=new ye(c.path);this.et(i,d,Tn.newNoDocument(d,Se.min()))}else We(a===1,20013,{expectedCount:a});else{const d=this._t(i);if(d!==a){const p=this.ut(e),y=p?this.ct(p,e,d):1;if(y!==0){this.it(i);const _=y===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(i,_)}}}}}ut(e){const i=e.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:a="",padding:l=0},hashCount:c=0}=i;let d,p;try{d=Ls(a).toUint8Array()}catch(y){if(y instanceof $1)return zo("Decoding the base64 bloom filter in existence filter failed ("+y.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw y}try{p=new cg(d,l,c)}catch(y){return zo(y instanceof Kl?"BloomFilter error: ":"Applying bloom filter failed: ",y),null}return p.ge===0?null:p}ct(e,i,a){return i.Ce.count===a-this.Pt(e,i.targetId)?0:2}Pt(e,i){const a=this.Ge.getRemoteKeysForTarget(i);let l=0;return a.forEach((c=>{const d=this.Ge.ht(),p=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;e.mightContain(p)||(this.et(i,c,null),l++)})),l}Tt(e){const i=new Map;this.ze.forEach(((c,d)=>{const p=this.ot(d);if(p){if(c.current&&wm(p.target)){const y=new ye(p.target.path);this.It(y).has(d)||this.Et(d,y)||this.et(d,y,Tn.newNoDocument(y,e))}c.Be&&(i.set(d,c.ke()),c.qe())}}));let a=qe();this.He.forEach(((c,d)=>{let p=!0;d.forEachWhile((y=>{const _=this.ot(y);return!_||_.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)})),p&&(a=a.add(c))})),this.je.forEach(((c,d)=>d.setReadTime(e)));const l=new zh(e,i,this.Ye,this.je,a);return this.je=zr(),this.Je=Fc(),this.He=Fc(),this.Ye=new Tt(Be),l}Xe(e,i){if(!this.rt(e))return;const a=this.Et(e,i.key)?2:0;this.nt(e).Qe(i.key,a),this.je=this.je.insert(i.key,i),this.Je=this.Je.insert(i.key,this.It(i.key).add(e)),this.He=this.He.insert(i.key,this.dt(i.key).add(e))}et(e,i,a){if(!this.rt(e))return;const l=this.nt(e);this.Et(e,i)?l.Qe(i,1):l.$e(i),this.He=this.He.insert(i,this.dt(i).delete(e)),this.He=this.He.insert(i,this.dt(i).add(e)),a&&(this.je=this.je.insert(i,a))}removeTarget(e){this.ze.delete(e)}_t(e){const i=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+i.addedDocuments.size-i.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let i=this.ze.get(e);return i||(i=new uv,this.ze.set(e,i)),i}dt(e){let i=this.He.get(e);return i||(i=new $t(Be),this.He=this.He.insert(e,i)),i}It(e){let i=this.Je.get(e);return i||(i=new $t(Be),this.Je=this.Je.insert(e,i)),i}rt(e){const i=this.ot(e)!==null;return i||ce("WatchChangeAggregator","Detected inactive target",e),i}ot(e){const i=this.ze.get(e);return i&&i.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new uv),this.Ge.getRemoteKeysForTarget(e).forEach((i=>{this.et(e,i,null)}))}Et(e,i){return this.Ge.getRemoteKeysForTarget(e).has(i)}}function Fc(){return new Tt(ye.comparator)}function cv(){return new Tt(ye.comparator)}const ZR={asc:"ASCENDING",desc:"DESCENDING"},WR={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},eC={and:"AND",or:"OR"};class tC{constructor(e,i){this.databaseId=e,this.useProto3Json=i}}function Im(r,e){return r.useProto3Json||Oh(e)?e:{value:e}}function Eh(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function RE(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function nC(r,e){return Eh(r,e.toTimestamp())}function ir(r){return We(!!r,49232),Se.fromTimestamp((function(i){const a=Us(i);return new mt(a.seconds,a.nanos)})(r))}function hg(r,e){return Nm(r,e).canonicalString()}function Nm(r,e){const i=(function(l){return new ct(["projects",l.projectId,"databases",l.database])})(r).child("documents");return e===void 0?i:i.child(e)}function CE(r){const e=ct.fromString(r);return We(ME(e),10190,{key:e.toString()}),e}function xm(r,e){return hg(r.databaseId,e.path)}function im(r,e){const i=CE(e);if(i.get(1)!==r.databaseId.projectId)throw new he(Z.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+r.databaseId.projectId);if(i.get(3)!==r.databaseId.database)throw new he(Z.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+r.databaseId.database);return new ye(NE(i))}function IE(r,e){return hg(r.databaseId,e)}function iC(r){const e=CE(r);return e.length===4?ct.emptyPath():NE(e)}function Dm(r){return new ct(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function NE(r){return We(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function hv(r,e,i){return{name:xm(r,e),fields:i.value.mapValue.fields}}function rC(r,e){let i;if("targetChange"in e){e.targetChange;const a=(function(_){return _==="NO_CHANGE"?0:_==="ADD"?1:_==="REMOVE"?2:_==="CURRENT"?3:_==="RESET"?4:Ee(39313,{state:_})})(e.targetChange.targetChangeType||"NO_CHANGE"),l=e.targetChange.targetIds||[],c=(function(_,b){return _.useProto3Json?(We(b===void 0||typeof b=="string",58123),dn.fromBase64String(b||"")):(We(b===void 0||b instanceof Buffer||b instanceof Uint8Array,16193),dn.fromUint8Array(b||new Uint8Array))})(r,e.targetChange.resumeToken),d=e.targetChange.cause,p=d&&(function(_){const b=_.code===void 0?Z.UNKNOWN:SE(_.code);return new he(b,_.message||"")})(d);i=new wE(a,l,c,p||null)}else if("documentChange"in e){e.documentChange;const a=e.documentChange;a.document,a.document.name,a.document.updateTime;const l=im(r,a.document.name),c=ir(a.document.updateTime),d=a.document.createTime?ir(a.document.createTime):Se.min(),p=new jn({mapValue:{fields:a.document.fields}}),y=Tn.newFoundDocument(l,c,d,p),_=a.targetIds||[],b=a.removedTargetIds||[];i=new ih(_,b,y.key,y)}else if("documentDelete"in e){e.documentDelete;const a=e.documentDelete;a.document;const l=im(r,a.document),c=a.readTime?ir(a.readTime):Se.min(),d=Tn.newNoDocument(l,c),p=a.removedTargetIds||[];i=new ih([],p,d.key,d)}else if("documentRemove"in e){e.documentRemove;const a=e.documentRemove;a.document;const l=im(r,a.document),c=a.removedTargetIds||[];i=new ih([],c,l,null)}else{if(!("filter"in e))return Ee(11601,{Rt:e});{e.filter;const a=e.filter;a.targetId;const{count:l=0,unchangedNames:c}=a,d=new YR(l,c),p=a.targetId;i=new AE(p,d)}}return i}function sC(r,e){let i;if(e instanceof Tu)i={update:hv(r,e.key,e.value)};else if(e instanceof lg)i={delete:xm(r,e.key)};else if(e instanceof qs)i={update:hv(r,e.key,e.data),updateMask:mC(e.fieldMask)};else{if(!(e instanceof FR))return Ee(16599,{Vt:e.type});i={verify:xm(r,e.key)}}return e.fieldTransforms.length>0&&(i.updateTransforms=e.fieldTransforms.map((a=>(function(c,d){const p=d.transform;if(p instanceof lu)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof uu)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof cu)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof vh)return{fieldPath:d.field.canonicalString(),increment:p.Ae};throw Ee(20930,{transform:d.transform})})(0,a)))),e.precondition.isNone||(i.currentDocument=(function(l,c){return c.updateTime!==void 0?{updateTime:nC(l,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:Ee(27497)})(r,e.precondition)),i}function aC(r,e){return r&&r.length>0?(We(e!==void 0,14353),r.map((i=>(function(l,c){let d=l.updateTime?ir(l.updateTime):ir(c);return d.isEqual(Se.min())&&(d=ir(c)),new BR(d,l.transformResults||[])})(i,e)))):[]}function oC(r,e){return{documents:[IE(r,e.path)]}}function lC(r,e){const i={structuredQuery:{}},a=e.path;let l;e.collectionGroup!==null?(l=a,i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(l=a.popLast(),i.structuredQuery.from=[{collectionId:a.lastSegment()}]),i.parent=IE(r,l);const c=(function(_){if(_.length!==0)return DE(ki.create(_,"and"))})(e.filters);c&&(i.structuredQuery.where=c);const d=(function(_){if(_.length!==0)return _.map((b=>(function(V){return{field:No(V.field),direction:hC(V.dir)}})(b)))})(e.orderBy);d&&(i.structuredQuery.orderBy=d);const p=Im(r,e.limit);return p!==null&&(i.structuredQuery.limit=p),e.startAt&&(i.structuredQuery.startAt=(function(_){return{before:_.inclusive,values:_.position}})(e.startAt)),e.endAt&&(i.structuredQuery.endAt=(function(_){return{before:!_.inclusive,values:_.position}})(e.endAt)),{ft:i,parent:l}}function uC(r){let e=iC(r.parent);const i=r.structuredQuery,a=i.from?i.from.length:0;let l=null;if(a>0){We(a===1,65062);const b=i.from[0];b.allDescendants?l=b.collectionId:e=e.child(b.collectionId)}let c=[];i.where&&(c=(function(A){const V=xE(A);return V instanceof ki&&aE(V)?V.getFilters():[V]})(i.where));let d=[];i.orderBy&&(d=(function(A){return A.map((V=>(function(ee){return new _h(xo(ee.field),(function(te){switch(te){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(ee.direction))})(V)))})(i.orderBy));let p=null;i.limit&&(p=(function(A){let V;return V=typeof A=="object"?A.value:A,Oh(V)?null:V})(i.limit));let y=null;i.startAt&&(y=(function(A){const V=!!A.before,Y=A.values||[];return new yh(Y,V)})(i.startAt));let _=null;return i.endAt&&(_=(function(A){const V=!A.before,Y=A.values||[];return new yh(Y,V)})(i.endAt)),CR(e,l,d,c,p,"F",y,_)}function cC(r,e){const i=(function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ee(28987,{purpose:l})}})(e.purpose);return i==null?null:{"goog-listen-tags":i}}function xE(r){return r.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const a=xo(i.unaryFilter.field);return Qt.create(a,"==",{doubleValue:NaN});case"IS_NULL":const l=xo(i.unaryFilter.field);return Qt.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=xo(i.unaryFilter.field);return Qt.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=xo(i.unaryFilter.field);return Qt.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ee(61313);default:return Ee(60726)}})(r):r.fieldFilter!==void 0?(function(i){return Qt.create(xo(i.fieldFilter.field),(function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ee(58110);default:return Ee(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(i){return ki.create(i.compositeFilter.filters.map((a=>xE(a))),(function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return Ee(1026)}})(i.compositeFilter.op))})(r):Ee(30097,{filter:r})}function hC(r){return ZR[r]}function fC(r){return WR[r]}function dC(r){return eC[r]}function No(r){return{fieldPath:r.canonicalString()}}function xo(r){return hn.fromServerFormat(r.fieldPath)}function DE(r){return r instanceof Qt?(function(i){if(i.op==="=="){if(Z0(i.value))return{unaryFilter:{field:No(i.field),op:"IS_NAN"}};if(J0(i.value))return{unaryFilter:{field:No(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(Z0(i.value))return{unaryFilter:{field:No(i.field),op:"IS_NOT_NAN"}};if(J0(i.value))return{unaryFilter:{field:No(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:No(i.field),op:fC(i.op),value:i.value}}})(r):r instanceof ki?(function(i){const a=i.getFilters().map((l=>DE(l)));return a.length===1?a[0]:{compositeFilter:{op:dC(i.op),filters:a}}})(r):Ee(54877,{filter:r})}function mC(r){const e=[];return r.fields.forEach((i=>e.push(i.canonicalString()))),{fieldPaths:e}}function ME(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}class Ns{constructor(e,i,a,l,c=Se.min(),d=Se.min(),p=dn.EMPTY_BYTE_STRING,y=null){this.target=e,this.targetId=i,this.purpose=a,this.sequenceNumber=l,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=p,this.expectedCount=y}withSequenceNumber(e){return new Ns(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,i){return new Ns(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ns(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ns(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class gC{constructor(e){this.yt=e}}function pC(r){const e=uC({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?Cm(e,e.limit,"L"):e}class yC{constructor(){this.Cn=new _C}addToCollectionParentIndex(e,i){return this.Cn.add(i),W.resolve()}getCollectionParents(e,i){return W.resolve(this.Cn.getEntries(i))}addFieldIndex(e,i){return W.resolve()}deleteFieldIndex(e,i){return W.resolve()}deleteAllFieldIndexes(e){return W.resolve()}createTargetIndexes(e,i){return W.resolve()}getDocumentsMatchingTarget(e,i){return W.resolve(null)}getIndexType(e,i){return W.resolve(0)}getFieldIndexes(e,i){return W.resolve([])}getNextCollectionGroupToUpdate(e){return W.resolve(null)}getMinOffset(e,i){return W.resolve(ks.min())}getMinOffsetFromCollectionGroup(e,i){return W.resolve(ks.min())}updateCollectionGroup(e,i,a){return W.resolve()}updateIndexEntries(e,i){return W.resolve()}}class _C{constructor(){this.index={}}add(e){const i=e.lastSegment(),a=e.popLast(),l=this.index[i]||new $t(ct.comparator),c=!l.has(a);return this.index[i]=l.add(a),c}has(e){const i=e.lastSegment(),a=e.popLast(),l=this.index[i];return l&&l.has(a)}getEntries(e){return(this.index[e]||new $t(ct.comparator)).toArray()}}const fv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},OE=41943040;class zn{static withCacheSize(e){return new zn(e,zn.DEFAULT_COLLECTION_PERCENTILE,zn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,i,a){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=a}}zn.DEFAULT_COLLECTION_PERCENTILE=10,zn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,zn.DEFAULT=new zn(OE,zn.DEFAULT_COLLECTION_PERCENTILE,zn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),zn.DISABLED=new zn(-1,0,0);class Ho{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Ho(0)}static cr(){return new Ho(-1)}}const dv="LruGarbageCollector",vC=1048576;function mv([r,e],[i,a]){const l=Be(r,i);return l===0?Be(e,a):l}class EC{constructor(e){this.Ir=e,this.buffer=new $t(mv),this.Er=0}dr(){return++this.Er}Ar(e){const i=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(i);else{const a=this.buffer.last();mv(i,a)<0&&(this.buffer=this.buffer.delete(a).add(i))}}get maxValue(){return this.buffer.last()[0]}}class TC{constructor(e,i,a){this.garbageCollector=e,this.asyncQueue=i,this.localStore=a,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){ce(dv,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){$o(i)?ce(dv,"Ignoring IndexedDB error during garbage collection: ",i):await Xo(i)}await this.Vr(3e5)}))}}class bC{constructor(e,i){this.mr=e,this.params=i}calculateTargetCount(e,i){return this.mr.gr(e).next((a=>Math.floor(i/100*a)))}nthSequenceNumber(e,i){if(i===0)return W.resolve(Mh.ce);const a=new EC(i);return this.mr.forEachTarget(e,(l=>a.Ar(l.sequenceNumber))).next((()=>this.mr.pr(e,(l=>a.Ar(l))))).next((()=>a.maxValue))}removeTargets(e,i,a){return this.mr.removeTargets(e,i,a)}removeOrphanedDocuments(e,i){return this.mr.removeOrphanedDocuments(e,i)}collect(e,i){return this.params.cacheSizeCollectionThreshold===-1?(ce("LruGarbageCollector","Garbage collection skipped; disabled"),W.resolve(fv)):this.getCacheSize(e).next((a=>a<this.params.cacheSizeCollectionThreshold?(ce("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),fv):this.yr(e,i)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,i){let a,l,c,d,p,y,_;const b=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((A=>(A>this.params.maximumSequenceNumbersToCollect?(ce("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${A}`),l=this.params.maximumSequenceNumbersToCollect):l=A,d=Date.now(),this.nthSequenceNumber(e,l)))).next((A=>(a=A,p=Date.now(),this.removeTargets(e,a,i)))).next((A=>(c=A,y=Date.now(),this.removeOrphanedDocuments(e,a)))).next((A=>(_=Date.now(),Co()<=je.DEBUG&&ce("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-b}ms
	Determined least recently used ${l} in `+(p-d)+`ms
	Removed ${c} targets in `+(y-p)+`ms
	Removed ${A} documents in `+(_-y)+`ms
Total Duration: ${_-b}ms`),W.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:c,documentsRemoved:A}))))}}function SC(r,e){return new bC(r,e)}class AC{constructor(){this.changes=new za((e=>e.toString()),((e,i)=>e.isEqual(i))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,i){this.assertNotApplied(),this.changes.set(e,Tn.newInvalidDocument(e).setReadTime(i))}getEntry(e,i){this.assertNotApplied();const a=this.changes.get(i);return a!==void 0?W.resolve(a):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class wC{constructor(e,i){this.overlayedDocument=e,this.mutatedFields=i}}class RC{constructor(e,i,a,l){this.remoteDocumentCache=e,this.mutationQueue=i,this.documentOverlayCache=a,this.indexManager=l}getDocument(e,i){let a=null;return this.documentOverlayCache.getOverlay(e,i).next((l=>(a=l,this.remoteDocumentCache.getEntry(e,i)))).next((l=>(a!==null&&tu(a.mutation,l,ei.empty(),mt.now()),l)))}getDocuments(e,i){return this.remoteDocumentCache.getEntries(e,i).next((a=>this.getLocalViewOfDocuments(e,a,qe()).next((()=>a))))}getLocalViewOfDocuments(e,i,a=qe()){const l=Na();return this.populateOverlays(e,l,i).next((()=>this.computeViews(e,i,l,a).next((c=>{let d=Yl();return c.forEach(((p,y)=>{d=d.insert(p,y.overlayedDocument)})),d}))))}getOverlayedDocuments(e,i){const a=Na();return this.populateOverlays(e,a,i).next((()=>this.computeViews(e,i,a,qe())))}populateOverlays(e,i,a){const l=[];return a.forEach((c=>{i.has(c)||l.push(c)})),this.documentOverlayCache.getOverlays(e,l).next((c=>{c.forEach(((d,p)=>{i.set(d,p)}))}))}computeViews(e,i,a,l){let c=zr();const d=eu(),p=(function(){return eu()})();return i.forEach(((y,_)=>{const b=a.get(_.key);l.has(_.key)&&(b===void 0||b.mutation instanceof qs)?c=c.insert(_.key,_):b!==void 0?(d.set(_.key,b.mutation.getFieldMask()),tu(b.mutation,_,b.mutation.getFieldMask(),mt.now())):d.set(_.key,ei.empty())})),this.recalculateAndSaveOverlays(e,c).next((y=>(y.forEach(((_,b)=>d.set(_,b))),i.forEach(((_,b)=>p.set(_,new wC(b,d.get(_)??null)))),p)))}recalculateAndSaveOverlays(e,i){const a=eu();let l=new Tt(((d,p)=>d-p)),c=qe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,i).next((d=>{for(const p of d)p.keys().forEach((y=>{const _=i.get(y);if(_===null)return;let b=a.get(y)||ei.empty();b=p.applyToLocalView(_,b),a.set(y,b);const A=(l.get(p.batchId)||qe()).add(y);l=l.insert(p.batchId,A)}))})).next((()=>{const d=[],p=l.getReverseIterator();for(;p.hasNext();){const y=p.getNext(),_=y.key,b=y.value,A=gE();b.forEach((V=>{if(!c.has(V)){const Y=TE(i.get(V),a.get(V));Y!==null&&A.set(V,Y),c=c.add(V)}})),d.push(this.documentOverlayCache.saveOverlays(e,_,A))}return W.waitFor(d)})).next((()=>a))}recalculateAndSaveOverlaysForDocumentKeys(e,i){return this.remoteDocumentCache.getEntries(e,i).next((a=>this.recalculateAndSaveOverlays(e,a)))}getDocumentsMatchingQuery(e,i,a,l){return(function(d){return ye.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0})(i)?this.getDocumentsMatchingDocumentQuery(e,i.path):cE(i)?this.getDocumentsMatchingCollectionGroupQuery(e,i,a,l):this.getDocumentsMatchingCollectionQuery(e,i,a,l)}getNextDocuments(e,i,a,l){return this.remoteDocumentCache.getAllFromCollectionGroup(e,i,a,l).next((c=>{const d=l-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,i,a.largestBatchId,l-c.size):W.resolve(Na());let p=ru,y=c;return d.next((_=>W.forEach(_,((b,A)=>(p<A.largestBatchId&&(p=A.largestBatchId),c.get(b)?W.resolve():this.remoteDocumentCache.getEntry(e,b).next((V=>{y=y.insert(b,V)}))))).next((()=>this.populateOverlays(e,_,c))).next((()=>this.computeViews(e,y,_,qe()))).next((b=>({batchId:p,changes:mE(b)})))))}))}getDocumentsMatchingDocumentQuery(e,i){return this.getDocument(e,new ye(i)).next((a=>{let l=Yl();return a.isFoundDocument()&&(l=l.insert(a.key,a)),l}))}getDocumentsMatchingCollectionGroupQuery(e,i,a,l){const c=i.collectionGroup;let d=Yl();return this.indexManager.getCollectionParents(e,c).next((p=>W.forEach(p,(y=>{const _=(function(A,V){return new Eu(V,null,A.explicitOrderBy.slice(),A.filters.slice(),A.limit,A.limitType,A.startAt,A.endAt)})(i,y.child(c));return this.getDocumentsMatchingCollectionQuery(e,_,a,l).next((b=>{b.forEach(((A,V)=>{d=d.insert(A,V)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(e,i,a,l){let c;return this.documentOverlayCache.getOverlaysForCollection(e,i.path,a.largestBatchId).next((d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,i,a,c,l)))).next((d=>{c.forEach(((y,_)=>{const b=_.getKey();d.get(b)===null&&(d=d.insert(b,Tn.newInvalidDocument(b)))}));let p=Yl();return d.forEach(((y,_)=>{const b=c.get(y);b!==void 0&&tu(b.mutation,_,ei.empty(),mt.now()),Uh(i,_)&&(p=p.insert(y,_))})),p}))}}class CC{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,i){return W.resolve(this.Lr.get(i))}saveBundleMetadata(e,i){return this.Lr.set(i.id,(function(l){return{id:l.id,version:l.version,createTime:ir(l.createTime)}})(i)),W.resolve()}getNamedQuery(e,i){return W.resolve(this.kr.get(i))}saveNamedQuery(e,i){return this.kr.set(i.name,(function(l){return{name:l.name,query:pC(l.bundledQuery),readTime:ir(l.readTime)}})(i)),W.resolve()}}class IC{constructor(){this.overlays=new Tt(ye.comparator),this.qr=new Map}getOverlay(e,i){return W.resolve(this.overlays.get(i))}getOverlays(e,i){const a=Na();return W.forEach(i,(l=>this.getOverlay(e,l).next((c=>{c!==null&&a.set(l,c)})))).next((()=>a))}saveOverlays(e,i,a){return a.forEach(((l,c)=>{this.St(e,i,c)})),W.resolve()}removeOverlaysForBatchId(e,i,a){const l=this.qr.get(a);return l!==void 0&&(l.forEach((c=>this.overlays=this.overlays.remove(c))),this.qr.delete(a)),W.resolve()}getOverlaysForCollection(e,i,a){const l=Na(),c=i.length+1,d=new ye(i.child("")),p=this.overlays.getIteratorFrom(d);for(;p.hasNext();){const y=p.getNext().value,_=y.getKey();if(!i.isPrefixOf(_.path))break;_.path.length===c&&y.largestBatchId>a&&l.set(y.getKey(),y)}return W.resolve(l)}getOverlaysForCollectionGroup(e,i,a,l){let c=new Tt(((_,b)=>_-b));const d=this.overlays.getIterator();for(;d.hasNext();){const _=d.getNext().value;if(_.getKey().getCollectionGroup()===i&&_.largestBatchId>a){let b=c.get(_.largestBatchId);b===null&&(b=Na(),c=c.insert(_.largestBatchId,b)),b.set(_.getKey(),_)}}const p=Na(),y=c.getIterator();for(;y.hasNext()&&(y.getNext().value.forEach(((_,b)=>p.set(_,b))),!(p.size()>=l)););return W.resolve(p)}St(e,i,a){const l=this.overlays.get(a.key);if(l!==null){const d=this.qr.get(l.largestBatchId).delete(a.key);this.qr.set(l.largestBatchId,d)}this.overlays=this.overlays.insert(a.key,new QR(i,a));let c=this.qr.get(i);c===void 0&&(c=qe(),this.qr.set(i,c)),this.qr.set(i,c.add(a.key))}}class NC{constructor(){this.sessionToken=dn.EMPTY_BYTE_STRING}getSessionToken(e){return W.resolve(this.sessionToken)}setSessionToken(e,i){return this.sessionToken=i,W.resolve()}}class fg{constructor(){this.Qr=new $t(tn.$r),this.Ur=new $t(tn.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,i){const a=new tn(e,i);this.Qr=this.Qr.add(a),this.Ur=this.Ur.add(a)}Wr(e,i){e.forEach((a=>this.addReference(a,i)))}removeReference(e,i){this.Gr(new tn(e,i))}zr(e,i){e.forEach((a=>this.removeReference(a,i)))}jr(e){const i=new ye(new ct([])),a=new tn(i,e),l=new tn(i,e+1),c=[];return this.Ur.forEachInRange([a,l],(d=>{this.Gr(d),c.push(d.key)})),c}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const i=new ye(new ct([])),a=new tn(i,e),l=new tn(i,e+1);let c=qe();return this.Ur.forEachInRange([a,l],(d=>{c=c.add(d.key)})),c}containsKey(e){const i=new tn(e,0),a=this.Qr.firstAfterOrEqual(i);return a!==null&&e.isEqual(a.key)}}class tn{constructor(e,i){this.key=e,this.Yr=i}static $r(e,i){return ye.comparator(e.key,i.key)||Be(e.Yr,i.Yr)}static Kr(e,i){return Be(e.Yr,i.Yr)||ye.comparator(e.key,i.key)}}class xC{constructor(e,i){this.indexManager=e,this.referenceDelegate=i,this.mutationQueue=[],this.tr=1,this.Zr=new $t(tn.$r)}checkEmpty(e){return W.resolve(this.mutationQueue.length===0)}addMutationBatch(e,i,a,l){const c=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new GR(c,i,a,l);this.mutationQueue.push(d);for(const p of l)this.Zr=this.Zr.add(new tn(p.key,c)),this.indexManager.addToCollectionParentIndex(e,p.key.path.popLast());return W.resolve(d)}lookupMutationBatch(e,i){return W.resolve(this.Xr(i))}getNextMutationBatchAfterBatchId(e,i){const a=i+1,l=this.ei(a),c=l<0?0:l;return W.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return W.resolve(this.mutationQueue.length===0?tg:this.tr-1)}getAllMutationBatches(e){return W.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){const a=new tn(i,0),l=new tn(i,Number.POSITIVE_INFINITY),c=[];return this.Zr.forEachInRange([a,l],(d=>{const p=this.Xr(d.Yr);c.push(p)})),W.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,i){let a=new $t(Be);return i.forEach((l=>{const c=new tn(l,0),d=new tn(l,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([c,d],(p=>{a=a.add(p.Yr)}))})),W.resolve(this.ti(a))}getAllMutationBatchesAffectingQuery(e,i){const a=i.path,l=a.length+1;let c=a;ye.isDocumentKey(c)||(c=c.child(""));const d=new tn(new ye(c),0);let p=new $t(Be);return this.Zr.forEachWhile((y=>{const _=y.key.path;return!!a.isPrefixOf(_)&&(_.length===l&&(p=p.add(y.Yr)),!0)}),d),W.resolve(this.ti(p))}ti(e){const i=[];return e.forEach((a=>{const l=this.Xr(a);l!==null&&i.push(l)})),i}removeMutationBatch(e,i){We(this.ni(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let a=this.Zr;return W.forEach(i.mutations,(l=>{const c=new tn(l.key,i.batchId);return a=a.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,l.key)})).next((()=>{this.Zr=a}))}ir(e){}containsKey(e,i){const a=new tn(i,0),l=this.Zr.firstAfterOrEqual(a);return W.resolve(i.isEqual(l&&l.key))}performConsistencyCheck(e){return this.mutationQueue.length,W.resolve()}ni(e,i){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const i=this.ei(e);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class DC{constructor(e){this.ri=e,this.docs=(function(){return new Tt(ye.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,i){const a=i.key,l=this.docs.get(a),c=l?l.size:0,d=this.ri(i);return this.docs=this.docs.insert(a,{document:i.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(e,a.path.popLast())}removeEntry(e){const i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){const a=this.docs.get(i);return W.resolve(a?a.document.mutableCopy():Tn.newInvalidDocument(i))}getEntries(e,i){let a=zr();return i.forEach((l=>{const c=this.docs.get(l);a=a.insert(l,c?c.document.mutableCopy():Tn.newInvalidDocument(l))})),W.resolve(a)}getDocumentsMatchingQuery(e,i,a,l){let c=zr();const d=i.path,p=new ye(d.child("__id-9223372036854775808__")),y=this.docs.getIteratorFrom(p);for(;y.hasNext();){const{key:_,value:{document:b}}=y.getNext();if(!d.isPrefixOf(_.path))break;_.path.length>d.length+1||sR(rR(b),a)<=0||(l.has(b.key)||Uh(i,b))&&(c=c.insert(b.key,b.mutableCopy()))}return W.resolve(c)}getAllFromCollectionGroup(e,i,a,l){Ee(9500)}ii(e,i){return W.forEach(this.docs,(a=>i(a)))}newChangeBuffer(e){return new MC(this)}getSize(e){return W.resolve(this.size)}}class MC extends AC{constructor(e){super(),this.Nr=e}applyChanges(e){const i=[];return this.changes.forEach(((a,l)=>{l.isValidDocument()?i.push(this.Nr.addEntry(e,l)):this.Nr.removeEntry(a)})),W.waitFor(i)}getFromCache(e,i){return this.Nr.getEntry(e,i)}getAllFromCache(e,i){return this.Nr.getEntries(e,i)}}class OC{constructor(e){this.persistence=e,this.si=new za((i=>rg(i)),sg),this.lastRemoteSnapshotVersion=Se.min(),this.highestTargetId=0,this.oi=0,this._i=new fg,this.targetCount=0,this.ai=Ho.ur()}forEachTarget(e,i){return this.si.forEach(((a,l)=>i(l))),W.resolve()}getLastRemoteSnapshotVersion(e){return W.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return W.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),W.resolve(this.highestTargetId)}setTargetsMetadata(e,i,a){return a&&(this.lastRemoteSnapshotVersion=a),i>this.oi&&(this.oi=i),W.resolve()}Pr(e){this.si.set(e.target,e);const i=e.targetId;i>this.highestTargetId&&(this.ai=new Ho(i),this.highestTargetId=i),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,i){return this.Pr(i),this.targetCount+=1,W.resolve()}updateTargetData(e,i){return this.Pr(i),W.resolve()}removeTargetData(e,i){return this.si.delete(i.target),this._i.jr(i.targetId),this.targetCount-=1,W.resolve()}removeTargets(e,i,a){let l=0;const c=[];return this.si.forEach(((d,p)=>{p.sequenceNumber<=i&&a.get(p.targetId)===null&&(this.si.delete(d),c.push(this.removeMatchingKeysForTargetId(e,p.targetId)),l++)})),W.waitFor(c).next((()=>l))}getTargetCount(e){return W.resolve(this.targetCount)}getTargetData(e,i){const a=this.si.get(i)||null;return W.resolve(a)}addMatchingKeys(e,i,a){return this._i.Wr(i,a),W.resolve()}removeMatchingKeys(e,i,a){this._i.zr(i,a);const l=this.persistence.referenceDelegate,c=[];return l&&i.forEach((d=>{c.push(l.markPotentiallyOrphaned(e,d))})),W.waitFor(c)}removeMatchingKeysForTargetId(e,i){return this._i.jr(i),W.resolve()}getMatchingKeysForTargetId(e,i){const a=this._i.Hr(i);return W.resolve(a)}containsKey(e,i){return W.resolve(this._i.containsKey(i))}}class VE{constructor(e,i){this.ui={},this.overlays={},this.ci=new Mh(0),this.li=!1,this.li=!0,this.hi=new NC,this.referenceDelegate=e(this),this.Pi=new OC(this),this.indexManager=new yC,this.remoteDocumentCache=(function(l){return new DC(l)})((a=>this.referenceDelegate.Ti(a))),this.serializer=new gC(i),this.Ii=new CC(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let i=this.overlays[e.toKey()];return i||(i=new IC,this.overlays[e.toKey()]=i),i}getMutationQueue(e,i){let a=this.ui[e.toKey()];return a||(a=new xC(i,this.referenceDelegate),this.ui[e.toKey()]=a),a}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,i,a){ce("MemoryPersistence","Starting transaction:",e);const l=new VC(this.ci.next());return this.referenceDelegate.Ei(),a(l).next((c=>this.referenceDelegate.di(l).next((()=>c)))).toPromise().then((c=>(l.raiseOnCommittedEvent(),c)))}Ai(e,i){return W.or(Object.values(this.ui).map((a=>()=>a.containsKey(e,i))))}}class VC extends oR{constructor(e){super(),this.currentSequenceNumber=e}}class dg{constructor(e){this.persistence=e,this.Ri=new fg,this.Vi=null}static mi(e){return new dg(e)}get fi(){if(this.Vi)return this.Vi;throw Ee(60996)}addReference(e,i,a){return this.Ri.addReference(a,i),this.fi.delete(a.toString()),W.resolve()}removeReference(e,i,a){return this.Ri.removeReference(a,i),this.fi.add(a.toString()),W.resolve()}markPotentiallyOrphaned(e,i){return this.fi.add(i.toString()),W.resolve()}removeTarget(e,i){this.Ri.jr(i.targetId).forEach((l=>this.fi.add(l.toString())));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(e,i.targetId).next((l=>{l.forEach((c=>this.fi.add(c.toString())))})).next((()=>a.removeTargetData(e,i)))}Ei(){this.Vi=new Set}di(e){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return W.forEach(this.fi,(a=>{const l=ye.fromPath(a);return this.gi(e,l).next((c=>{c||i.removeEntry(l,Se.min())}))})).next((()=>(this.Vi=null,i.apply(e))))}updateLimboDocument(e,i){return this.gi(e,i).next((a=>{a?this.fi.delete(i.toString()):this.fi.add(i.toString())}))}Ti(e){return 0}gi(e,i){return W.or([()=>W.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.Ai(e,i)])}}class Th{constructor(e,i){this.persistence=e,this.pi=new za((a=>cR(a.path)),((a,l)=>a.isEqual(l))),this.garbageCollector=SC(this,i)}static mi(e,i){return new Th(e,i)}Ei(){}di(e){return W.resolve()}forEachTarget(e,i){return this.persistence.getTargetCache().forEachTarget(e,i)}gr(e){const i=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((a=>i.next((l=>a+l))))}wr(e){let i=0;return this.pr(e,(a=>{i++})).next((()=>i))}pr(e,i){return W.forEach(this.pi,((a,l)=>this.br(e,a,l).next((c=>c?W.resolve():i(l)))))}removeTargets(e,i,a){return this.persistence.getTargetCache().removeTargets(e,i,a)}removeOrphanedDocuments(e,i){let a=0;const l=this.persistence.getRemoteDocumentCache(),c=l.newChangeBuffer();return l.ii(e,(d=>this.br(e,d,i).next((p=>{p||(a++,c.removeEntry(d,Se.min()))})))).next((()=>c.apply(e))).next((()=>a))}markPotentiallyOrphaned(e,i){return this.pi.set(i,e.currentSequenceNumber),W.resolve()}removeTarget(e,i){const a=i.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,a)}addReference(e,i,a){return this.pi.set(a,e.currentSequenceNumber),W.resolve()}removeReference(e,i,a){return this.pi.set(a,e.currentSequenceNumber),W.resolve()}updateLimboDocument(e,i){return this.pi.set(i,e.currentSequenceNumber),W.resolve()}Ti(e){let i=e.key.toString().length;return e.isFoundDocument()&&(i+=eh(e.data.value)),i}br(e,i,a){return W.or([()=>this.persistence.Ai(e,i),()=>this.persistence.getTargetCache().containsKey(e,i),()=>{const l=this.pi.get(i);return W.resolve(l!==void 0&&l>a)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class mg{constructor(e,i,a,l){this.targetId=e,this.fromCache=i,this.Es=a,this.ds=l}static As(e,i){let a=qe(),l=qe();for(const c of i.docChanges)switch(c.type){case 0:a=a.add(c.doc.key);break;case 1:l=l.add(c.doc.key)}return new mg(e,i.fromCache,a,l)}}class kC{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class UC{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return AS()?8:lR(bn())>0?6:4})()}initialize(e,i){this.ps=e,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(e,i,a,l){const c={result:null};return this.ys(e,i).next((d=>{c.result=d})).next((()=>{if(!c.result)return this.ws(e,i,l,a).next((d=>{c.result=d}))})).next((()=>{if(c.result)return;const d=new kC;return this.Ss(e,i,d).next((p=>{if(c.result=p,this.Vs)return this.bs(e,i,d,p.size)}))})).next((()=>c.result))}bs(e,i,a,l){return a.documentReadCount<this.fs?(Co()<=je.DEBUG&&ce("QueryEngine","SDK will not create cache indexes for query:",Io(i),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),W.resolve()):(Co()<=je.DEBUG&&ce("QueryEngine","Query:",Io(i),"scans",a.documentReadCount,"local documents and returns",l,"documents as results."),a.documentReadCount>this.gs*l?(Co()<=je.DEBUG&&ce("QueryEngine","The SDK decides to create cache indexes for query:",Io(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,nr(i))):W.resolve())}ys(e,i){if(nv(i))return W.resolve(null);let a=nr(i);return this.indexManager.getIndexType(e,a).next((l=>l===0?null:(i.limit!==null&&l===1&&(i=Cm(i,null,"F"),a=nr(i)),this.indexManager.getDocumentsMatchingTarget(e,a).next((c=>{const d=qe(...c);return this.ps.getDocuments(e,d).next((p=>this.indexManager.getMinOffset(e,a).next((y=>{const _=this.Ds(i,p);return this.Cs(i,_,d,y.readTime)?this.ys(e,Cm(i,null,"F")):this.vs(e,_,i,y)}))))})))))}ws(e,i,a,l){return nv(i)||l.isEqual(Se.min())?W.resolve(null):this.ps.getDocuments(e,a).next((c=>{const d=this.Ds(i,c);return this.Cs(i,d,a,l)?W.resolve(null):(Co()<=je.DEBUG&&ce("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),Io(i)),this.vs(e,d,i,iR(l,ru)).next((p=>p)))}))}Ds(e,i){let a=new $t(fE(e));return i.forEach(((l,c)=>{Uh(e,c)&&(a=a.add(c))})),a}Cs(e,i,a,l){if(e.limit===null)return!1;if(a.size!==i.size)return!0;const c=e.limitType==="F"?i.last():i.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(l)>0)}Ss(e,i,a){return Co()<=je.DEBUG&&ce("QueryEngine","Using full collection scan to execute query:",Io(i)),this.ps.getDocumentsMatchingQuery(e,i,ks.min(),a)}vs(e,i,a,l){return this.ps.getDocumentsMatchingQuery(e,a,l).next((c=>(i.forEach((d=>{c=c.insert(d.key,d)})),c)))}}const gg="LocalStore",LC=3e8;class PC{constructor(e,i,a,l){this.persistence=e,this.Fs=i,this.serializer=l,this.Ms=new Tt(Be),this.xs=new za((c=>rg(c)),sg),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(a)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new RC(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>e.collect(i,this.Ms)))}}function zC(r,e,i,a){return new PC(r,e,i,a)}async function kE(r,e){const i=Re(r);return await i.persistence.runTransaction("Handle user change","readonly",(a=>{let l;return i.mutationQueue.getAllMutationBatches(a).next((c=>(l=c,i.Bs(e),i.mutationQueue.getAllMutationBatches(a)))).next((c=>{const d=[],p=[];let y=qe();for(const _ of l){d.push(_.batchId);for(const b of _.mutations)y=y.add(b.key)}for(const _ of c){p.push(_.batchId);for(const b of _.mutations)y=y.add(b.key)}return i.localDocuments.getDocuments(a,y).next((_=>({Ls:_,removedBatchIds:d,addedBatchIds:p})))}))}))}function jC(r,e){const i=Re(r);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(a=>{const l=e.batch.keys(),c=i.Ns.newChangeBuffer({trackRemovals:!0});return(function(p,y,_,b){const A=_.batch,V=A.keys();let Y=W.resolve();return V.forEach((ee=>{Y=Y.next((()=>b.getEntry(y,ee))).next((ne=>{const te=_.docVersions.get(ee);We(te!==null,48541),ne.version.compareTo(te)<0&&(A.applyToRemoteDocument(ne,_),ne.isValidDocument()&&(ne.setReadTime(_.commitVersion),b.addEntry(ne)))}))})),Y.next((()=>p.mutationQueue.removeMutationBatch(y,A)))})(i,a,e,c).next((()=>c.apply(a))).next((()=>i.mutationQueue.performConsistencyCheck(a))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(a,l,e.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,(function(p){let y=qe();for(let _=0;_<p.mutationResults.length;++_)p.mutationResults[_].transformResults.length>0&&(y=y.add(p.batch.mutations[_].key));return y})(e)))).next((()=>i.localDocuments.getDocuments(a,l)))}))}function UE(r){const e=Re(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>e.Pi.getLastRemoteSnapshotVersion(i)))}function BC(r,e){const i=Re(r),a=e.snapshotVersion;let l=i.Ms;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const d=i.Ns.newChangeBuffer({trackRemovals:!0});l=i.Ms;const p=[];e.targetChanges.forEach(((b,A)=>{const V=l.get(A);if(!V)return;p.push(i.Pi.removeMatchingKeys(c,b.removedDocuments,A).next((()=>i.Pi.addMatchingKeys(c,b.addedDocuments,A))));let Y=V.withSequenceNumber(c.currentSequenceNumber);e.targetMismatches.get(A)!==null?Y=Y.withResumeToken(dn.EMPTY_BYTE_STRING,Se.min()).withLastLimboFreeSnapshotVersion(Se.min()):b.resumeToken.approximateByteSize()>0&&(Y=Y.withResumeToken(b.resumeToken,a)),l=l.insert(A,Y),(function(ne,te,de){return ne.resumeToken.approximateByteSize()===0||te.snapshotVersion.toMicroseconds()-ne.snapshotVersion.toMicroseconds()>=LC?!0:de.addedDocuments.size+de.modifiedDocuments.size+de.removedDocuments.size>0})(V,Y,b)&&p.push(i.Pi.updateTargetData(c,Y))}));let y=zr(),_=qe();if(e.documentUpdates.forEach((b=>{e.resolvedLimboDocuments.has(b)&&p.push(i.persistence.referenceDelegate.updateLimboDocument(c,b))})),p.push(qC(c,d,e.documentUpdates).next((b=>{y=b.ks,_=b.qs}))),!a.isEqual(Se.min())){const b=i.Pi.getLastRemoteSnapshotVersion(c).next((A=>i.Pi.setTargetsMetadata(c,c.currentSequenceNumber,a)));p.push(b)}return W.waitFor(p).next((()=>d.apply(c))).next((()=>i.localDocuments.getLocalViewOfDocuments(c,y,_))).next((()=>y))})).then((c=>(i.Ms=l,c)))}function qC(r,e,i){let a=qe(),l=qe();return i.forEach((c=>a=a.add(c))),e.getEntries(r,a).next((c=>{let d=zr();return i.forEach(((p,y)=>{const _=c.get(p);y.isFoundDocument()!==_.isFoundDocument()&&(l=l.add(p)),y.isNoDocument()&&y.version.isEqual(Se.min())?(e.removeEntry(p,y.readTime),d=d.insert(p,y)):!_.isValidDocument()||y.version.compareTo(_.version)>0||y.version.compareTo(_.version)===0&&_.hasPendingWrites?(e.addEntry(y),d=d.insert(p,y)):ce(gg,"Ignoring outdated watch update for ",p,". Current version:",_.version," Watch version:",y.version)})),{ks:d,qs:l}}))}function HC(r,e){const i=Re(r);return i.persistence.runTransaction("Get next mutation batch","readonly",(a=>(e===void 0&&(e=tg),i.mutationQueue.getNextMutationBatchAfterBatchId(a,e))))}function FC(r,e){const i=Re(r);return i.persistence.runTransaction("Allocate target","readwrite",(a=>{let l;return i.Pi.getTargetData(a,e).next((c=>c?(l=c,W.resolve(l)):i.Pi.allocateTargetId(a).next((d=>(l=new Ns(e,d,"TargetPurposeListen",a.currentSequenceNumber),i.Pi.addTargetData(a,l).next((()=>l)))))))})).then((a=>{const l=i.Ms.get(a.targetId);return(l===null||a.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(i.Ms=i.Ms.insert(a.targetId,a),i.xs.set(e,a.targetId)),a}))}async function Mm(r,e,i){const a=Re(r),l=a.Ms.get(e),c=i?"readwrite":"readwrite-primary";try{i||await a.persistence.runTransaction("Release target",c,(d=>a.persistence.referenceDelegate.removeTarget(d,l)))}catch(d){if(!$o(d))throw d;ce(gg,`Failed to update sequence numbers for target ${e}: ${d}`)}a.Ms=a.Ms.remove(e),a.xs.delete(l.target)}function gv(r,e,i){const a=Re(r);let l=Se.min(),c=qe();return a.persistence.runTransaction("Execute query","readwrite",(d=>(function(y,_,b){const A=Re(y),V=A.xs.get(b);return V!==void 0?W.resolve(A.Ms.get(V)):A.Pi.getTargetData(_,b)})(a,d,nr(e)).next((p=>{if(p)return l=p.lastLimboFreeSnapshotVersion,a.Pi.getMatchingKeysForTargetId(d,p.targetId).next((y=>{c=y}))})).next((()=>a.Fs.getDocumentsMatchingQuery(d,e,i?l:Se.min(),i?c:qe()))).next((p=>(GC(a,NR(e),p),{documents:p,Qs:c})))))}function GC(r,e,i){let a=r.Os.get(e)||Se.min();i.forEach(((l,c)=>{c.readTime.compareTo(a)>0&&(a=c.readTime)})),r.Os.set(e,a)}class pv{constructor(){this.activeTargetIds=kR()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class QC{constructor(){this.Mo=new pv,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,a){}addLocalQueryTarget(e,i=!0){return i&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,i,a){this.xo[e]=i}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new pv,Promise.resolve()}handleUserChange(e,i,a){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class YC{Oo(e){}shutdown(){}}const yv="ConnectivityMonitor";class _v{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ce(yv,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){ce(yv,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Gc=null;function Om(){return Gc===null?Gc=(function(){return 268435456+Math.round(2147483648*Math.random())})():Gc++,"0x"+Gc.toString(16)}const rm="RestConnection",KC={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class XC{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.Uo=i+"://"+e.host,this.Ko=`projects/${a}/databases/${l}`,this.Wo=this.databaseId.database===gh?`project_id=${a}`:`project_id=${a}&database_id=${l}`}Go(e,i,a,l,c){const d=Om(),p=this.zo(e,i.toUriEncodedString());ce(rm,`Sending RPC '${e}' ${d}:`,p,a);const y={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(y,l,c);const{host:_}=new URL(p),b=Go(_);return this.Jo(e,p,y,a,b).then((A=>(ce(rm,`Received RPC '${e}' ${d}: `,A),A)),(A=>{throw zo(rm,`RPC '${e}' ${d} failed with error: `,A,"url: ",p,"request:",a),A}))}Ho(e,i,a,l,c,d){return this.Go(e,i,a,l,c)}jo(e,i,a){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Ko})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((l,c)=>e[c]=l)),a&&a.headers.forEach(((l,c)=>e[c]=l))}zo(e,i){const a=KC[e];return`${this.Uo}/v1/${i}:${a}`}terminate(){}}class $C{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const vn="WebChannelConnection";class JC extends XC{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,i,a,l,c){const d=Om();return new Promise(((p,y)=>{const _=new z1;_.setWithCredentials(!0),_.listenOnce(j1.COMPLETE,(()=>{try{switch(_.getLastErrorCode()){case Wc.NO_ERROR:const A=_.getResponseJson();ce(vn,`XHR for RPC '${e}' ${d} received:`,JSON.stringify(A)),p(A);break;case Wc.TIMEOUT:ce(vn,`RPC '${e}' ${d} timed out`),y(new he(Z.DEADLINE_EXCEEDED,"Request time out"));break;case Wc.HTTP_ERROR:const V=_.getStatus();if(ce(vn,`RPC '${e}' ${d} failed with status:`,V,"response text:",_.getResponseText()),V>0){let Y=_.getResponseJson();Array.isArray(Y)&&(Y=Y[0]);const ee=Y?.error;if(ee&&ee.status&&ee.message){const ne=(function(de){const Ae=de.toLowerCase().replace(/_/g,"-");return Object.values(Z).indexOf(Ae)>=0?Ae:Z.UNKNOWN})(ee.status);y(new he(ne,ee.message))}else y(new he(Z.UNKNOWN,"Server responded with status "+_.getStatus()))}else y(new he(Z.UNAVAILABLE,"Connection failed."));break;default:Ee(9055,{l_:e,streamId:d,h_:_.getLastErrorCode(),P_:_.getLastError()})}}finally{ce(vn,`RPC '${e}' ${d} completed.`)}}));const b=JSON.stringify(l);ce(vn,`RPC '${e}' ${d} sending request:`,l),_.send(i,"POST",b,a,15)}))}T_(e,i,a){const l=Om(),c=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=H1(),p=q1(),y={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},_=this.longPollingOptions.timeoutSeconds;_!==void 0&&(y.longPollingTimeout=Math.round(1e3*_)),this.useFetchStreams&&(y.useFetchStreams=!0),this.jo(y.initMessageHeaders,i,a),y.encodeInitMessageHeaders=!0;const b=c.join("");ce(vn,`Creating RPC '${e}' stream ${l}: ${b}`,y);const A=d.createWebChannel(b,y);this.I_(A);let V=!1,Y=!1;const ee=new $C({Yo:te=>{Y?ce(vn,`Not sending because RPC '${e}' stream ${l} is closed:`,te):(V||(ce(vn,`Opening RPC '${e}' stream ${l} transport.`),A.open(),V=!0),ce(vn,`RPC '${e}' stream ${l} sending:`,te),A.send(te))},Zo:()=>A.close()}),ne=(te,de,Ae)=>{te.listen(de,(_e=>{try{Ae(_e)}catch(Oe){setTimeout((()=>{throw Oe}),0)}}))};return ne(A,Ql.EventType.OPEN,(()=>{Y||(ce(vn,`RPC '${e}' stream ${l} transport opened.`),ee.o_())})),ne(A,Ql.EventType.CLOSE,(()=>{Y||(Y=!0,ce(vn,`RPC '${e}' stream ${l} transport closed`),ee.a_(),this.E_(A))})),ne(A,Ql.EventType.ERROR,(te=>{Y||(Y=!0,zo(vn,`RPC '${e}' stream ${l} transport errored. Name:`,te.name,"Message:",te.message),ee.a_(new he(Z.UNAVAILABLE,"The operation could not be completed")))})),ne(A,Ql.EventType.MESSAGE,(te=>{if(!Y){const de=te.data[0];We(!!de,16349);const Ae=de,_e=Ae?.error||Ae[0]?.error;if(_e){ce(vn,`RPC '${e}' stream ${l} received error:`,_e);const Oe=_e.status;let Xe=(function(w){const I=Gt[w];if(I!==void 0)return SE(I)})(Oe),De=_e.message;Xe===void 0&&(Xe=Z.INTERNAL,De="Unknown error status: "+Oe+" with message "+_e.message),Y=!0,ee.a_(new he(Xe,De)),A.close()}else ce(vn,`RPC '${e}' stream ${l} received:`,de),ee.u_(de)}})),ne(p,B1.STAT_EVENT,(te=>{te.stat===Em.PROXY?ce(vn,`RPC '${e}' stream ${l} detected buffering proxy`):te.stat===Em.NOPROXY&&ce(vn,`RPC '${e}' stream ${l} detected no buffering proxy`)})),setTimeout((()=>{ee.__()}),0),ee}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((i=>i===e))}}function sm(){return typeof document<"u"?document:null}function jh(r){return new tC(r,!0)}class LE{constructor(e,i,a=1e3,l=1.5,c=6e4){this.Mi=e,this.timerId=i,this.d_=a,this.A_=l,this.R_=c,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const i=Math.floor(this.V_+this.y_()),a=Math.max(0,Date.now()-this.f_),l=Math.max(0,i-a);l>0&&ce("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.V_} ms, delay with jitter: ${i} ms, last attempt: ${a} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,l,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const vv="PersistentStream";class PE{constructor(e,i,a,l,c,d,p,y){this.Mi=e,this.S_=a,this.b_=l,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=p,this.listener=y,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new LE(e,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,i){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():i&&i.code===Z.RESOURCE_EXHAUSTED?(Pr(i.toString()),Pr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===Z.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(i)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([a,l])=>{this.D_===i&&this.G_(a,l)}),(a=>{e((()=>{const l=new he(Z.UNKNOWN,"Fetching auth token failed: "+a.message);return this.z_(l)}))}))}G_(e,i){const a=this.W_(this.D_);this.stream=this.j_(e,i),this.stream.Xo((()=>{a((()=>this.listener.Xo()))})),this.stream.t_((()=>{a((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((l=>{a((()=>this.z_(l)))})),this.stream.onMessage((l=>{a((()=>++this.F_==1?this.J_(l):this.onNext(l)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return ce(vv,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return i=>{this.Mi.enqueueAndForget((()=>this.D_===e?i():(ce(vv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class ZC extends PE{constructor(e,i,a,l,c,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,a,l,d),this.serializer=c}j_(e,i){return this.connection.T_("Listen",e,i)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const i=rC(this.serializer,e),a=(function(c){if(!("targetChange"in c))return Se.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?Se.min():d.readTime?ir(d.readTime):Se.min()})(e);return this.listener.H_(i,a)}Y_(e){const i={};i.database=Dm(this.serializer),i.addTarget=(function(c,d){let p;const y=d.target;if(p=wm(y)?{documents:oC(c,y)}:{query:lC(c,y).ft},p.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){p.resumeToken=RE(c,d.resumeToken);const _=Im(c,d.expectedCount);_!==null&&(p.expectedCount=_)}else if(d.snapshotVersion.compareTo(Se.min())>0){p.readTime=Eh(c,d.snapshotVersion.toTimestamp());const _=Im(c,d.expectedCount);_!==null&&(p.expectedCount=_)}return p})(this.serializer,e);const a=cC(this.serializer,e);a&&(i.labels=a),this.q_(i)}Z_(e){const i={};i.database=Dm(this.serializer),i.removeTarget=e,this.q_(i)}}class WC extends PE{constructor(e,i,a,l,c,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,a,l,d),this.serializer=c}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,i){return this.connection.T_("Write",e,i)}J_(e){return We(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,We(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){We(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const i=aC(e.writeResults,e.commitTime),a=ir(e.commitTime);return this.listener.na(a,i)}ra(){const e={};e.database=Dm(this.serializer),this.q_(e)}ea(e){const i={streamToken:this.lastStreamToken,writes:e.map((a=>sC(this.serializer,a)))};this.q_(i)}}class eI{}class tI extends eI{constructor(e,i,a,l){super(),this.authCredentials=e,this.appCheckCredentials=i,this.connection=a,this.serializer=l,this.ia=!1}sa(){if(this.ia)throw new he(Z.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,i,a,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Go(e,Nm(i,a),l,c,d))).catch((c=>{throw c.name==="FirebaseError"?(c.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new he(Z.UNKNOWN,c.toString())}))}Ho(e,i,a,l,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,p])=>this.connection.Ho(e,Nm(i,a),l,d,p,c))).catch((d=>{throw d.name==="FirebaseError"?(d.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new he(Z.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class nI{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const i=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Pr(i),this.aa=!1):ce("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const La="RemoteStore";class iI{constructor(e,i,a,l,c){this.localStore=e,this.datastore=i,this.asyncQueue=a,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=c,this.Aa.Oo((d=>{a.enqueueAndForget((async()=>{ja(this)&&(ce(La,"Restarting streams for network reachability change."),await(async function(y){const _=Re(y);_.Ea.add(4),await Su(_),_.Ra.set("Unknown"),_.Ea.delete(4),await Bh(_)})(this))}))})),this.Ra=new nI(a,l)}}async function Bh(r){if(ja(r))for(const e of r.da)await e(!0)}async function Su(r){for(const e of r.da)await e(!1)}function zE(r,e){const i=Re(r);i.Ia.has(e.targetId)||(i.Ia.set(e.targetId,e),vg(i)?_g(i):Jo(i).O_()&&yg(i,e))}function pg(r,e){const i=Re(r),a=Jo(i);i.Ia.delete(e),a.O_()&&jE(i,e),i.Ia.size===0&&(a.O_()?a.L_():ja(i)&&i.Ra.set("Unknown"))}function yg(r,e){if(r.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Se.min())>0){const i=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(i)}Jo(r).Y_(e)}function jE(r,e){r.Va.Ue(e),Jo(r).Z_(e)}function _g(r){r.Va=new JR({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),At:e=>r.Ia.get(e)||null,ht:()=>r.datastore.serializer.databaseId}),Jo(r).start(),r.Ra.ua()}function vg(r){return ja(r)&&!Jo(r).x_()&&r.Ia.size>0}function ja(r){return Re(r).Ea.size===0}function BE(r){r.Va=void 0}async function rI(r){r.Ra.set("Online")}async function sI(r){r.Ia.forEach(((e,i)=>{yg(r,e)}))}async function aI(r,e){BE(r),vg(r)?(r.Ra.ha(e),_g(r)):r.Ra.set("Unknown")}async function oI(r,e,i){if(r.Ra.set("Online"),e instanceof wE&&e.state===2&&e.cause)try{await(async function(l,c){const d=c.cause;for(const p of c.targetIds)l.Ia.has(p)&&(await l.remoteSyncer.rejectListen(p,d),l.Ia.delete(p),l.Va.removeTarget(p))})(r,e)}catch(a){ce(La,"Failed to remove targets %s: %s ",e.targetIds.join(","),a),await bh(r,a)}else if(e instanceof ih?r.Va.Ze(e):e instanceof AE?r.Va.st(e):r.Va.tt(e),!i.isEqual(Se.min()))try{const a=await UE(r.localStore);i.compareTo(a)>=0&&await(function(c,d){const p=c.Va.Tt(d);return p.targetChanges.forEach(((y,_)=>{if(y.resumeToken.approximateByteSize()>0){const b=c.Ia.get(_);b&&c.Ia.set(_,b.withResumeToken(y.resumeToken,d))}})),p.targetMismatches.forEach(((y,_)=>{const b=c.Ia.get(y);if(!b)return;c.Ia.set(y,b.withResumeToken(dn.EMPTY_BYTE_STRING,b.snapshotVersion)),jE(c,y);const A=new Ns(b.target,y,_,b.sequenceNumber);yg(c,A)})),c.remoteSyncer.applyRemoteEvent(p)})(r,i)}catch(a){ce(La,"Failed to raise snapshot:",a),await bh(r,a)}}async function bh(r,e,i){if(!$o(e))throw e;r.Ea.add(1),await Su(r),r.Ra.set("Offline"),i||(i=()=>UE(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{ce(La,"Retrying IndexedDB access"),await i(),r.Ea.delete(1),await Bh(r)}))}function qE(r,e){return e().catch((i=>bh(r,i,e)))}async function qh(r){const e=Re(r),i=zs(e);let a=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:tg;for(;lI(e);)try{const l=await HC(e.localStore,a);if(l===null){e.Ta.length===0&&i.L_();break}a=l.batchId,uI(e,l)}catch(l){await bh(e,l)}HE(e)&&FE(e)}function lI(r){return ja(r)&&r.Ta.length<10}function uI(r,e){r.Ta.push(e);const i=zs(r);i.O_()&&i.X_&&i.ea(e.mutations)}function HE(r){return ja(r)&&!zs(r).x_()&&r.Ta.length>0}function FE(r){zs(r).start()}async function cI(r){zs(r).ra()}async function hI(r){const e=zs(r);for(const i of r.Ta)e.ea(i.mutations)}async function fI(r,e,i){const a=r.Ta.shift(),l=ug.from(a,e,i);await qE(r,(()=>r.remoteSyncer.applySuccessfulWrite(l))),await qh(r)}async function dI(r,e){e&&zs(r).X_&&await(async function(a,l){if((function(d){return KR(d)&&d!==Z.ABORTED})(l.code)){const c=a.Ta.shift();zs(a).B_(),await qE(a,(()=>a.remoteSyncer.rejectFailedWrite(c.batchId,l))),await qh(a)}})(r,e),HE(r)&&FE(r)}async function Ev(r,e){const i=Re(r);i.asyncQueue.verifyOperationInProgress(),ce(La,"RemoteStore received new credentials");const a=ja(i);i.Ea.add(3),await Su(i),a&&i.Ra.set("Unknown"),await i.remoteSyncer.handleCredentialChange(e),i.Ea.delete(3),await Bh(i)}async function mI(r,e){const i=Re(r);e?(i.Ea.delete(2),await Bh(i)):e||(i.Ea.add(2),await Su(i),i.Ra.set("Unknown"))}function Jo(r){return r.ma||(r.ma=(function(i,a,l){const c=Re(i);return c.sa(),new ZC(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(r.datastore,r.asyncQueue,{Xo:rI.bind(null,r),t_:sI.bind(null,r),r_:aI.bind(null,r),H_:oI.bind(null,r)}),r.da.push((async e=>{e?(r.ma.B_(),vg(r)?_g(r):r.Ra.set("Unknown")):(await r.ma.stop(),BE(r))}))),r.ma}function zs(r){return r.fa||(r.fa=(function(i,a,l){const c=Re(i);return c.sa(),new WC(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(r.datastore,r.asyncQueue,{Xo:()=>Promise.resolve(),t_:cI.bind(null,r),r_:dI.bind(null,r),ta:hI.bind(null,r),na:fI.bind(null,r)}),r.da.push((async e=>{e?(r.fa.B_(),await qh(r)):(await r.fa.stop(),r.Ta.length>0&&(ce(La,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}class Eg{constructor(e,i,a,l,c){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=a,this.op=l,this.removalCallback=c,this.deferred=new xa,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,i,a,l,c){const d=Date.now()+a,p=new Eg(e,i,d,l,c);return p.start(a),p}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new he(Z.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Tg(r,e){if(Pr("AsyncQueue",`${e}: ${r}`),$o(r))return new he(Z.UNAVAILABLE,`${e}: ${r}`);throw r}class ko{static emptySet(e){return new ko(e.comparator)}constructor(e){this.comparator=e?(i,a)=>e(i,a)||ye.comparator(i.key,a.key):(i,a)=>ye.comparator(i.key,a.key),this.keyedMap=Yl(),this.sortedSet=new Tt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const i=this.keyedMap.get(e);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((i,a)=>(e(i),!1)))}add(e){const i=this.delete(e.key);return i.copy(i.keyedMap.insert(e.key,e),i.sortedSet.insert(e,null))}delete(e){const i=this.get(e);return i?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(i)):this}isEqual(e){if(!(e instanceof ko)||this.size!==e.size)return!1;const i=this.sortedSet.getIterator(),a=e.sortedSet.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=a.getNext().key;if(!l.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach((i=>{e.push(i.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,i){const a=new ko;return a.comparator=this.comparator,a.keyedMap=e,a.sortedSet=i,a}}class Tv{constructor(){this.ga=new Tt(ye.comparator)}track(e){const i=e.doc.key,a=this.ga.get(i);a?e.type!==0&&a.type===3?this.ga=this.ga.insert(i,e):e.type===3&&a.type!==1?this.ga=this.ga.insert(i,{type:a.type,doc:e.doc}):e.type===2&&a.type===2?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):e.type===2&&a.type===0?this.ga=this.ga.insert(i,{type:0,doc:e.doc}):e.type===1&&a.type===0?this.ga=this.ga.remove(i):e.type===1&&a.type===2?this.ga=this.ga.insert(i,{type:1,doc:a.doc}):e.type===0&&a.type===1?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):Ee(63341,{Rt:e,pa:a}):this.ga=this.ga.insert(i,e)}ya(){const e=[];return this.ga.inorderTraversal(((i,a)=>{e.push(a)})),e}}class Fo{constructor(e,i,a,l,c,d,p,y,_){this.query=e,this.docs=i,this.oldDocs=a,this.docChanges=l,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=p,this.excludesMetadataChanges=y,this.hasCachedResults=_}static fromInitialDocuments(e,i,a,l,c){const d=[];return i.forEach((p=>{d.push({type:0,doc:p})})),new Fo(e,i,ko.emptySet(i),d,a,l,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&kh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const i=this.docChanges,a=e.docChanges;if(i.length!==a.length)return!1;for(let l=0;l<i.length;l++)if(i[l].type!==a[l].type||!i[l].doc.isEqual(a[l].doc))return!1;return!0}}class gI{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class pI{constructor(){this.queries=bv(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,a){const l=Re(i),c=l.queries;l.queries=bv(),c.forEach(((d,p)=>{for(const y of p.Sa)y.onError(a)}))})(this,new he(Z.ABORTED,"Firestore shutting down"))}}function bv(){return new za((r=>hE(r)),kh)}async function yI(r,e){const i=Re(r);let a=3;const l=e.query;let c=i.queries.get(l);c?!c.ba()&&e.Da()&&(a=2):(c=new gI,a=e.Da()?0:1);try{switch(a){case 0:c.wa=await i.onListen(l,!0);break;case 1:c.wa=await i.onListen(l,!1);break;case 2:await i.onFirstRemoteStoreListen(l)}}catch(d){const p=Tg(d,`Initialization of query '${Io(e.query)}' failed`);return void e.onError(p)}i.queries.set(l,c),c.Sa.push(e),e.va(i.onlineState),c.wa&&e.Fa(c.wa)&&bg(i)}async function _I(r,e){const i=Re(r),a=e.query;let l=3;const c=i.queries.get(a);if(c){const d=c.Sa.indexOf(e);d>=0&&(c.Sa.splice(d,1),c.Sa.length===0?l=e.Da()?0:1:!c.ba()&&e.Da()&&(l=2))}switch(l){case 0:return i.queries.delete(a),i.onUnlisten(a,!0);case 1:return i.queries.delete(a),i.onUnlisten(a,!1);case 2:return i.onLastRemoteStoreUnlisten(a);default:return}}function vI(r,e){const i=Re(r);let a=!1;for(const l of e){const c=l.query,d=i.queries.get(c);if(d){for(const p of d.Sa)p.Fa(l)&&(a=!0);d.wa=l}}a&&bg(i)}function EI(r,e,i){const a=Re(r),l=a.queries.get(e);if(l)for(const c of l.Sa)c.onError(i);a.queries.delete(e)}function bg(r){r.Ca.forEach((e=>{e.next()}))}var Vm,Sv;(Sv=Vm||(Vm={})).Ma="default",Sv.Cache="cache";class TI{constructor(e,i,a){this.query=e,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=a||{}}Fa(e){if(!this.options.includeMetadataChanges){const a=[];for(const l of e.docChanges)l.type!==3&&a.push(l);e=new Fo(e.query,e.docs,e.oldDocs,a,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let i=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),i=!0):this.La(e,this.onlineState)&&(this.ka(e),i=!0),this.Na=e,i}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),i=!0),i}La(e,i){if(!e.fromCache||!this.Da())return!0;const a=i!=="Offline";return(!this.options.qa||!a)&&(!e.docs.isEmpty()||e.hasCachedResults||i==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(e){e=Fo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Vm.Cache}}class GE{constructor(e){this.key=e}}class QE{constructor(e){this.key=e}}class bI{constructor(e,i){this.query=e,this.Ya=i,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=qe(),this.mutatedKeys=qe(),this.eu=fE(e),this.tu=new ko(this.eu)}get nu(){return this.Ya}ru(e,i){const a=i?i.iu:new Tv,l=i?i.tu:this.tu;let c=i?i.mutatedKeys:this.mutatedKeys,d=l,p=!1;const y=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,_=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(e.inorderTraversal(((b,A)=>{const V=l.get(b),Y=Uh(this.query,A)?A:null,ee=!!V&&this.mutatedKeys.has(V.key),ne=!!Y&&(Y.hasLocalMutations||this.mutatedKeys.has(Y.key)&&Y.hasCommittedMutations);let te=!1;V&&Y?V.data.isEqual(Y.data)?ee!==ne&&(a.track({type:3,doc:Y}),te=!0):this.su(V,Y)||(a.track({type:2,doc:Y}),te=!0,(y&&this.eu(Y,y)>0||_&&this.eu(Y,_)<0)&&(p=!0)):!V&&Y?(a.track({type:0,doc:Y}),te=!0):V&&!Y&&(a.track({type:1,doc:V}),te=!0,(y||_)&&(p=!0)),te&&(Y?(d=d.add(Y),c=ne?c.add(b):c.delete(b)):(d=d.delete(b),c=c.delete(b)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const b=this.query.limitType==="F"?d.last():d.first();d=d.delete(b.key),c=c.delete(b.key),a.track({type:1,doc:b})}return{tu:d,iu:a,Cs:p,mutatedKeys:c}}su(e,i){return e.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(e,i,a,l){const c=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const d=e.iu.ya();d.sort(((b,A)=>(function(Y,ee){const ne=te=>{switch(te){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ee(20277,{Rt:te})}};return ne(Y)-ne(ee)})(b.type,A.type)||this.eu(b.doc,A.doc))),this.ou(a),l=l??!1;const p=i&&!l?this._u():[],y=this.Xa.size===0&&this.current&&!l?1:0,_=y!==this.Za;return this.Za=y,d.length!==0||_?{snapshot:new Fo(this.query,e.tu,c,d,e.mutatedKeys,y===0,_,!1,!!a&&a.resumeToken.approximateByteSize()>0),au:p}:{au:p}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Tv,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((i=>this.Ya=this.Ya.add(i))),e.modifiedDocuments.forEach((i=>{})),e.removedDocuments.forEach((i=>this.Ya=this.Ya.delete(i))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=qe(),this.tu.forEach((a=>{this.uu(a.key)&&(this.Xa=this.Xa.add(a.key))}));const i=[];return e.forEach((a=>{this.Xa.has(a)||i.push(new QE(a))})),this.Xa.forEach((a=>{e.has(a)||i.push(new GE(a))})),i}cu(e){this.Ya=e.Qs,this.Xa=qe();const i=this.ru(e.documents);return this.applyChanges(i,!0)}lu(){return Fo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Sg="SyncEngine";class SI{constructor(e,i,a){this.query=e,this.targetId=i,this.view=a}}class AI{constructor(e){this.key=e,this.hu=!1}}class wI{constructor(e,i,a,l,c,d){this.localStore=e,this.remoteStore=i,this.eventManager=a,this.sharedClientState=l,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new za((p=>hE(p)),kh),this.Iu=new Map,this.Eu=new Set,this.du=new Tt(ye.comparator),this.Au=new Map,this.Ru=new fg,this.Vu={},this.mu=new Map,this.fu=Ho.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function RI(r,e,i=!0){const a=ZE(r);let l;const c=a.Tu.get(e);return c?(a.sharedClientState.addLocalQueryTarget(c.targetId),l=c.view.lu()):l=await YE(a,e,i,!0),l}async function CI(r,e){const i=ZE(r);await YE(i,e,!0,!1)}async function YE(r,e,i,a){const l=await FC(r.localStore,nr(e)),c=l.targetId,d=r.sharedClientState.addLocalQueryTarget(c,i);let p;return a&&(p=await II(r,e,c,d==="current",l.resumeToken)),r.isPrimaryClient&&i&&zE(r.remoteStore,l),p}async function II(r,e,i,a,l){r.pu=(A,V,Y)=>(async function(ne,te,de,Ae){let _e=te.view.ru(de);_e.Cs&&(_e=await gv(ne.localStore,te.query,!1).then((({documents:N})=>te.view.ru(N,_e))));const Oe=Ae&&Ae.targetChanges.get(te.targetId),Xe=Ae&&Ae.targetMismatches.get(te.targetId)!=null,De=te.view.applyChanges(_e,ne.isPrimaryClient,Oe,Xe);return wv(ne,te.targetId,De.au),De.snapshot})(r,A,V,Y);const c=await gv(r.localStore,e,!0),d=new bI(e,c.Qs),p=d.ru(c.documents),y=bu.createSynthesizedTargetChangeForCurrentChange(i,a&&r.onlineState!=="Offline",l),_=d.applyChanges(p,r.isPrimaryClient,y);wv(r,i,_.au);const b=new SI(e,i,d);return r.Tu.set(e,b),r.Iu.has(i)?r.Iu.get(i).push(e):r.Iu.set(i,[e]),_.snapshot}async function NI(r,e,i){const a=Re(r),l=a.Tu.get(e),c=a.Iu.get(l.targetId);if(c.length>1)return a.Iu.set(l.targetId,c.filter((d=>!kh(d,e)))),void a.Tu.delete(e);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(l.targetId),a.sharedClientState.isActiveQueryTarget(l.targetId)||await Mm(a.localStore,l.targetId,!1).then((()=>{a.sharedClientState.clearQueryState(l.targetId),i&&pg(a.remoteStore,l.targetId),km(a,l.targetId)})).catch(Xo)):(km(a,l.targetId),await Mm(a.localStore,l.targetId,!0))}async function xI(r,e){const i=Re(r),a=i.Tu.get(e),l=i.Iu.get(a.targetId);i.isPrimaryClient&&l.length===1&&(i.sharedClientState.removeLocalQueryTarget(a.targetId),pg(i.remoteStore,a.targetId))}async function DI(r,e,i){const a=PI(r);try{const l=await(function(d,p){const y=Re(d),_=mt.now(),b=p.reduce(((Y,ee)=>Y.add(ee.key)),qe());let A,V;return y.persistence.runTransaction("Locally write mutations","readwrite",(Y=>{let ee=zr(),ne=qe();return y.Ns.getEntries(Y,b).next((te=>{ee=te,ee.forEach(((de,Ae)=>{Ae.isValidDocument()||(ne=ne.add(de))}))})).next((()=>y.localDocuments.getOverlayedDocuments(Y,ee))).next((te=>{A=te;const de=[];for(const Ae of p){const _e=HR(Ae,A.get(Ae.key).overlayedDocument);_e!=null&&de.push(new qs(Ae.key,_e,iE(_e.value.mapValue),Ti.exists(!0)))}return y.mutationQueue.addMutationBatch(Y,_,de,p)})).next((te=>{V=te;const de=te.applyToLocalDocumentSet(A,ne);return y.documentOverlayCache.saveOverlays(Y,te.batchId,de)}))})).then((()=>({batchId:V.batchId,changes:mE(A)})))})(a.localStore,e);a.sharedClientState.addPendingMutation(l.batchId),(function(d,p,y){let _=d.Vu[d.currentUser.toKey()];_||(_=new Tt(Be)),_=_.insert(p,y),d.Vu[d.currentUser.toKey()]=_})(a,l.batchId,i),await Au(a,l.changes),await qh(a.remoteStore)}catch(l){const c=Tg(l,"Failed to persist write");i.reject(c)}}async function KE(r,e){const i=Re(r);try{const a=await BC(i.localStore,e);e.targetChanges.forEach(((l,c)=>{const d=i.Au.get(c);d&&(We(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?d.hu=!0:l.modifiedDocuments.size>0?We(d.hu,14607):l.removedDocuments.size>0&&(We(d.hu,42227),d.hu=!1))})),await Au(i,a,e)}catch(a){await Xo(a)}}function Av(r,e,i){const a=Re(r);if(a.isPrimaryClient&&i===0||!a.isPrimaryClient&&i===1){const l=[];a.Tu.forEach(((c,d)=>{const p=d.view.va(e);p.snapshot&&l.push(p.snapshot)})),(function(d,p){const y=Re(d);y.onlineState=p;let _=!1;y.queries.forEach(((b,A)=>{for(const V of A.Sa)V.va(p)&&(_=!0)})),_&&bg(y)})(a.eventManager,e),l.length&&a.Pu.H_(l),a.onlineState=e,a.isPrimaryClient&&a.sharedClientState.setOnlineState(e)}}async function MI(r,e,i){const a=Re(r);a.sharedClientState.updateQueryState(e,"rejected",i);const l=a.Au.get(e),c=l&&l.key;if(c){let d=new Tt(ye.comparator);d=d.insert(c,Tn.newNoDocument(c,Se.min()));const p=qe().add(c),y=new zh(Se.min(),new Map,new Tt(Be),d,p);await KE(a,y),a.du=a.du.remove(c),a.Au.delete(e),Ag(a)}else await Mm(a.localStore,e,!1).then((()=>km(a,e,i))).catch(Xo)}async function OI(r,e){const i=Re(r),a=e.batch.batchId;try{const l=await jC(i.localStore,e);$E(i,a,null),XE(i,a),i.sharedClientState.updateMutationState(a,"acknowledged"),await Au(i,l)}catch(l){await Xo(l)}}async function VI(r,e,i){const a=Re(r);try{const l=await(function(d,p){const y=Re(d);return y.persistence.runTransaction("Reject batch","readwrite-primary",(_=>{let b;return y.mutationQueue.lookupMutationBatch(_,p).next((A=>(We(A!==null,37113),b=A.keys(),y.mutationQueue.removeMutationBatch(_,A)))).next((()=>y.mutationQueue.performConsistencyCheck(_))).next((()=>y.documentOverlayCache.removeOverlaysForBatchId(_,b,p))).next((()=>y.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,b))).next((()=>y.localDocuments.getDocuments(_,b)))}))})(a.localStore,e);$E(a,e,i),XE(a,e),a.sharedClientState.updateMutationState(e,"rejected",i),await Au(a,l)}catch(l){await Xo(l)}}function XE(r,e){(r.mu.get(e)||[]).forEach((i=>{i.resolve()})),r.mu.delete(e)}function $E(r,e,i){const a=Re(r);let l=a.Vu[a.currentUser.toKey()];if(l){const c=l.get(e);c&&(i?c.reject(i):c.resolve(),l=l.remove(e)),a.Vu[a.currentUser.toKey()]=l}}function km(r,e,i=null){r.sharedClientState.removeLocalQueryTarget(e);for(const a of r.Iu.get(e))r.Tu.delete(a),i&&r.Pu.yu(a,i);r.Iu.delete(e),r.isPrimaryClient&&r.Ru.jr(e).forEach((a=>{r.Ru.containsKey(a)||JE(r,a)}))}function JE(r,e){r.Eu.delete(e.path.canonicalString());const i=r.du.get(e);i!==null&&(pg(r.remoteStore,i),r.du=r.du.remove(e),r.Au.delete(i),Ag(r))}function wv(r,e,i){for(const a of i)a instanceof GE?(r.Ru.addReference(a.key,e),kI(r,a)):a instanceof QE?(ce(Sg,"Document no longer in limbo: "+a.key),r.Ru.removeReference(a.key,e),r.Ru.containsKey(a.key)||JE(r,a.key)):Ee(19791,{wu:a})}function kI(r,e){const i=e.key,a=i.path.canonicalString();r.du.get(i)||r.Eu.has(a)||(ce(Sg,"New document in limbo: "+i),r.Eu.add(a),Ag(r))}function Ag(r){for(;r.Eu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const e=r.Eu.values().next().value;r.Eu.delete(e);const i=new ye(ct.fromString(e)),a=r.fu.next();r.Au.set(a,new AI(i)),r.du=r.du.insert(i,a),zE(r.remoteStore,new Ns(nr(ag(i.path)),a,"TargetPurposeLimboResolution",Mh.ce))}}async function Au(r,e,i){const a=Re(r),l=[],c=[],d=[];a.Tu.isEmpty()||(a.Tu.forEach(((p,y)=>{d.push(a.pu(y,e,i).then((_=>{if((_||i)&&a.isPrimaryClient){const b=_?!_.fromCache:i?.targetChanges.get(y.targetId)?.current;a.sharedClientState.updateQueryState(y.targetId,b?"current":"not-current")}if(_){l.push(_);const b=mg.As(y.targetId,_);c.push(b)}})))})),await Promise.all(d),a.Pu.H_(l),await(async function(y,_){const b=Re(y);try{await b.persistence.runTransaction("notifyLocalViewChanges","readwrite",(A=>W.forEach(_,(V=>W.forEach(V.Es,(Y=>b.persistence.referenceDelegate.addReference(A,V.targetId,Y))).next((()=>W.forEach(V.ds,(Y=>b.persistence.referenceDelegate.removeReference(A,V.targetId,Y)))))))))}catch(A){if(!$o(A))throw A;ce(gg,"Failed to update sequence numbers: "+A)}for(const A of _){const V=A.targetId;if(!A.fromCache){const Y=b.Ms.get(V),ee=Y.snapshotVersion,ne=Y.withLastLimboFreeSnapshotVersion(ee);b.Ms=b.Ms.insert(V,ne)}}})(a.localStore,c))}async function UI(r,e){const i=Re(r);if(!i.currentUser.isEqual(e)){ce(Sg,"User change. New user:",e.toKey());const a=await kE(i.localStore,e);i.currentUser=e,(function(c,d){c.mu.forEach((p=>{p.forEach((y=>{y.reject(new he(Z.CANCELLED,d))}))})),c.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(e,a.removedBatchIds,a.addedBatchIds),await Au(i,a.Ls)}}function LI(r,e){const i=Re(r),a=i.Au.get(e);if(a&&a.hu)return qe().add(a.key);{let l=qe();const c=i.Iu.get(e);if(!c)return l;for(const d of c){const p=i.Tu.get(d);l=l.unionWith(p.view.nu)}return l}}function ZE(r){const e=Re(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=KE.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=LI.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=MI.bind(null,e),e.Pu.H_=vI.bind(null,e.eventManager),e.Pu.yu=EI.bind(null,e.eventManager),e}function PI(r){const e=Re(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=OI.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=VI.bind(null,e),e}class Sh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=jh(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,i){return null}Mu(e,i){return null}vu(e){return zC(this.persistence,new UC,e.initialUser,this.serializer)}Cu(e){return new VE(dg.mi,this.serializer)}Du(e){return new QC}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Sh.provider={build:()=>new Sh};class zI extends Sh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,i){We(this.persistence.referenceDelegate instanceof Th,46915);const a=this.persistence.referenceDelegate.garbageCollector;return new TC(a,e.asyncQueue,i)}Cu(e){const i=this.cacheSizeBytes!==void 0?zn.withCacheSize(this.cacheSizeBytes):zn.DEFAULT;return new VE((a=>Th.mi(a,i)),this.serializer)}}class Um{async initialize(e,i){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>Av(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=UI.bind(null,this.syncEngine),await mI(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new pI})()}createDatastore(e){const i=jh(e.databaseInfo.databaseId),a=(function(c){return new JC(c)})(e.databaseInfo);return(function(c,d,p,y){return new tI(c,d,p,y)})(e.authCredentials,e.appCheckCredentials,a,i)}createRemoteStore(e){return(function(a,l,c,d,p){return new iI(a,l,c,d,p)})(this.localStore,this.datastore,e.asyncQueue,(i=>Av(this.syncEngine,i,0)),(function(){return _v.v()?new _v:new YC})())}createSyncEngine(e,i){return(function(l,c,d,p,y,_,b){const A=new wI(l,c,d,p,y,_);return b&&(A.gu=!0),A})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const a=Re(i);ce(La,"RemoteStore shutting down."),a.Ea.add(5),await Su(a),a.Aa.shutdown(),a.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Um.provider={build:()=>new Um};class jI{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Pr("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,i){setTimeout((()=>{this.muted||e(i)}),0)}}const js="FirestoreClient";class BI{constructor(e,i,a,l,c){this.authCredentials=e,this.appCheckCredentials=i,this.asyncQueue=a,this.databaseInfo=l,this.user=En.UNAUTHENTICATED,this.clientId=eg.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(a,(async d=>{ce(js,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(a,(d=>(ce(js,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new xa;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(i){const a=Tg(i,"Failed to shutdown persistence");e.reject(a)}})),e.promise}}async function am(r,e){r.asyncQueue.verifyOperationInProgress(),ce(js,"Initializing OfflineComponentProvider");const i=r.configuration;await e.initialize(i);let a=i.initialUser;r.setCredentialChangeListener((async l=>{a.isEqual(l)||(await kE(e.localStore,l),a=l)})),e.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=e}async function Rv(r,e){r.asyncQueue.verifyOperationInProgress();const i=await qI(r);ce(js,"Initializing OnlineComponentProvider"),await e.initialize(i,r.configuration),r.setCredentialChangeListener((a=>Ev(e.remoteStore,a))),r.setAppCheckTokenChangeListener(((a,l)=>Ev(e.remoteStore,l))),r._onlineComponents=e}async function qI(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){ce(js,"Using user provided OfflineComponentProvider");try{await am(r,r._uninitializedComponentsProvider._offline)}catch(e){const i=e;if(!(function(l){return l.name==="FirebaseError"?l.code===Z.FAILED_PRECONDITION||l.code===Z.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11})(i))throw i;zo("Error using user provided cache. Falling back to memory cache: "+i),await am(r,new Sh)}}else ce(js,"Using default OfflineComponentProvider"),await am(r,new zI(void 0));return r._offlineComponents}async function WE(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(ce(js,"Using user provided OnlineComponentProvider"),await Rv(r,r._uninitializedComponentsProvider._online)):(ce(js,"Using default OnlineComponentProvider"),await Rv(r,new Um))),r._onlineComponents}function HI(r){return WE(r).then((e=>e.syncEngine))}async function Cv(r){const e=await WE(r),i=e.eventManager;return i.onListen=RI.bind(null,e.syncEngine),i.onUnlisten=NI.bind(null,e.syncEngine),i.onFirstRemoteStoreListen=CI.bind(null,e.syncEngine),i.onLastRemoteStoreUnlisten=xI.bind(null,e.syncEngine),i}function eT(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}const Iv=new Map;const tT="firestore.googleapis.com",Nv=!0;class xv{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new he(Z.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=tT,this.ssl=Nv}else this.host=e.host,this.ssl=e.ssl??Nv;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=OE;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<vC)throw new he(Z.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}nR("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=eT(e.experimentalLongPollingOptions??{}),(function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new he(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new he(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new he(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(a,l){return a.timeoutSeconds===l.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Hh{constructor(e,i,a,l){this._authCredentials=e,this._appCheckCredentials=i,this._databaseId=a,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new xv({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new he(Z.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new he(Z.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new xv(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(a){if(!a)return new Qw;switch(a.type){case"firstParty":return new $w(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new he(Z.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const a=Iv.get(i);a&&(ce("ComponentProvider","Removing Datastore"),Iv.delete(i),a.terminate())})(this),Promise.resolve()}}function FI(r,e,i,a={}){r=tr(r,Hh);const l=Go(e),c=r._getSettings(),d={...c,emulatorOptions:r._getEmulatorOptions()},p=`${e}:${i}`;l&&(Wv(`https://${p}`),e1("Firestore",!0)),c.host!==tT&&c.host!==p&&zo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const y={...c,host:p,ssl:l,emulatorOptions:a};if(!Oa(y,d)&&(r._setSettings(y),a.mockUserToken)){let _,b;if(typeof a.mockUserToken=="string")_=a.mockUserToken,b=En.MOCK_USER;else{_=gS(a.mockUserToken,r._app?.options.projectId);const A=a.mockUserToken.sub||a.mockUserToken.user_id;if(!A)throw new he(Z.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");b=new En(A)}r._authCredentials=new Yw(new G1(_,b))}}class Zo{constructor(e,i,a){this.converter=i,this._query=a,this.type="query",this.firestore=e}withConverter(e){return new Zo(this.firestore,e,this._query)}}class Lt{constructor(e,i,a){this.converter=i,this._key=a,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Vs(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Lt(this.firestore,e,this._key)}toJSON(){return{type:Lt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,i,a){if(vu(i,Lt._jsonSchema))return new Lt(e,a||null,new ye(ct.fromString(i.referencePath)))}}Lt._jsonSchemaVersion="firestore/documentReference/1.0",Lt._jsonSchema={type:Yt("string",Lt._jsonSchemaVersion),referencePath:Yt("string")};class Vs extends Zo{constructor(e,i,a){super(e,i,ag(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Lt(this.firestore,null,new ye(e))}withConverter(e){return new Vs(this.firestore,e,this._path)}}function om(r,e,...i){if(r=fn(r),Q1("collection","path",e),r instanceof Hh){const a=ct.fromString(e,...i);return q0(a),new Vs(r,null,a)}{if(!(r instanceof Lt||r instanceof Vs))throw new he(Z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=r._path.child(ct.fromString(e,...i));return q0(a),new Vs(r.firestore,null,a)}}function As(r,e,...i){if(r=fn(r),arguments.length===1&&(e=eg.newId()),Q1("doc","path",e),r instanceof Hh){const a=ct.fromString(e,...i);return B0(a),new Lt(r,null,new ye(a))}{if(!(r instanceof Lt||r instanceof Vs))throw new he(Z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=r._path.child(ct.fromString(e,...i));return B0(a),new Lt(r.firestore,r instanceof Vs?r.converter:null,new ye(a))}}const Dv="AsyncQueue";class Mv{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new LE(this,"async_queue_retry"),this._c=()=>{const a=sm();a&&ce(Dv,"Visibility state changed to "+a.visibilityState),this.M_.w_()},this.ac=e;const i=sm();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const i=sm();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new xa;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!$o(e))throw e;ce(Dv,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const i=this.ac.then((()=>(this.rc=!0,e().catch((a=>{throw this.nc=a,this.rc=!1,Pr("INTERNAL UNHANDLED ERROR: ",Ov(a)),a})).then((a=>(this.rc=!1,a))))));return this.ac=i,i}enqueueAfterDelay(e,i,a){this.uc(),this.oc.indexOf(e)>-1&&(i=0);const l=Eg.createAndSchedule(this,e,i,a,(c=>this.hc(c)));return this.tc.push(l),l}uc(){this.nc&&Ee(47125,{Pc:Ov(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const i of this.tc)if(i.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((i,a)=>i.targetTimeMs-a.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),e!=="all"&&i.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const i=this.tc.indexOf(e);this.tc.splice(i,1)}}function Ov(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}function Vv(r){return(function(i,a){if(typeof i!="object"||i===null)return!1;const l=i;for(const c of a)if(c in l&&typeof l[c]=="function")return!0;return!1})(r,["next","error","complete"])}class Pa extends Hh{constructor(e,i,a,l){super(e,i,a,l),this.type="firestore",this._queue=new Mv,this._persistenceKey=l?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Mv(e),this._firestoreClient=void 0,await e}}}function GI(r,e){const i=typeof r=="object"?r:r1(),a=typeof r=="string"?r:gh,l=Fm(i,"firestore").getImmediate({identifier:a});if(!l._initialized){const c=dS("firestore");c&&FI(l,...c)}return l}function nT(r){if(r._terminated)throw new he(Z.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||QI(r),r._firestoreClient}function QI(r){const e=r._freezeSettings(),i=(function(l,c,d,p){return new dR(l,c,d,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,eT(p.experimentalLongPollingOptions),p.useFetchStreams,p.isUsingEmulator)})(r._databaseId,r._app?.options.appId||"",r._persistenceKey,e);r._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),r._firestoreClient=new BI(r._authCredentials,r._appCheckCredentials,r._queue,i,r._componentsProvider&&(function(l){const c=l?._online.build();return{_offline:l?._offline.build(c),_online:c}})(r._componentsProvider))}class Ei{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ei(dn.fromBase64String(e))}catch(i){throw new he(Z.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new Ei(dn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Ei._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(vu(e,Ei._jsonSchema))return Ei.fromBase64String(e.bytes)}}Ei._jsonSchemaVersion="firestore/bytes/1.0",Ei._jsonSchema={type:Yt("string",Ei._jsonSchemaVersion),bytes:Yt("string")};class Fh{constructor(...e){for(let i=0;i<e.length;++i)if(e[i].length===0)throw new he(Z.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new hn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Gh{constructor(e){this._methodName=e}}class rr{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new he(Z.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new he(Z.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Be(this._lat,e._lat)||Be(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:rr._jsonSchemaVersion}}static fromJSON(e){if(vu(e,rr._jsonSchema))return new rr(e.latitude,e.longitude)}}rr._jsonSchemaVersion="firestore/geoPoint/1.0",rr._jsonSchema={type:Yt("string",rr._jsonSchemaVersion),latitude:Yt("number"),longitude:Yt("number")};class sr{constructor(e){this._values=(e||[]).map((i=>i))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(a,l){if(a.length!==l.length)return!1;for(let c=0;c<a.length;++c)if(a[c]!==l[c])return!1;return!0})(this._values,e._values)}toJSON(){return{type:sr._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(vu(e,sr._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((i=>typeof i=="number")))return new sr(e.vectorValues);throw new he(Z.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}sr._jsonSchemaVersion="firestore/vectorValue/1.0",sr._jsonSchema={type:Yt("string",sr._jsonSchemaVersion),vectorValues:Yt("object")};const YI=/^__.*__$/;class KI{constructor(e,i,a){this.data=e,this.fieldMask=i,this.fieldTransforms=a}toMutation(e,i){return this.fieldMask!==null?new qs(e,this.data,this.fieldMask,i,this.fieldTransforms):new Tu(e,this.data,i,this.fieldTransforms)}}class iT{constructor(e,i,a){this.data=e,this.fieldMask=i,this.fieldTransforms=a}toMutation(e,i){return new qs(e,this.data,this.fieldMask,i,this.fieldTransforms)}}function rT(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ee(40011,{Ac:r})}}class wg{constructor(e,i,a,l,c,d){this.settings=e,this.databaseId=i,this.serializer=a,this.ignoreUndefinedProperties=l,c===void 0&&this.Rc(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new wg({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const i=this.path?.child(e),a=this.Vc({path:i,fc:!1});return a.gc(e),a}yc(e){const i=this.path?.child(e),a=this.Vc({path:i,fc:!1});return a.Rc(),a}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Ah(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((i=>e.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>e.isPrefixOf(i.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(rT(this.Ac)&&YI.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class XI{constructor(e,i,a){this.databaseId=e,this.ignoreUndefinedProperties=i,this.serializer=a||jh(e)}Cc(e,i,a,l=!1){return new wg({Ac:e,methodName:i,Dc:a,path:hn.emptyPath(),fc:!1,bc:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Qh(r){const e=r._freezeSettings(),i=jh(r._databaseId);return new XI(r._databaseId,!!e.ignoreUndefinedProperties,i)}function sT(r,e,i,a,l,c={}){const d=r.Cc(c.merge||c.mergeFields?2:0,e,i,l);Cg("Data must be an object, but it was:",d,a);const p=aT(a,d);let y,_;if(c.merge)y=new ei(d.fieldMask),_=d.fieldTransforms;else if(c.mergeFields){const b=[];for(const A of c.mergeFields){const V=Lm(e,A,i);if(!d.contains(V))throw new he(Z.INVALID_ARGUMENT,`Field '${V}' is specified in your field mask but missing from your input data.`);lT(b,V)||b.push(V)}y=new ei(b),_=d.fieldTransforms.filter((A=>y.covers(A.field)))}else y=null,_=d.fieldTransforms;return new KI(new jn(p),y,_)}class Yh extends Gh{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Yh}}class Rg extends Gh{_toFieldTransform(e){return new zR(e.path,new lu)}isEqual(e){return e instanceof Rg}}function $I(r,e,i,a){const l=r.Cc(1,e,i);Cg("Data must be an object, but it was:",l,a);const c=[],d=jn.empty();Bs(a,((y,_)=>{const b=Ig(e,y,i);_=fn(_);const A=l.yc(b);if(_ instanceof Yh)c.push(b);else{const V=wu(_,A);V!=null&&(c.push(b),d.set(b,V))}}));const p=new ei(c);return new iT(d,p,l.fieldTransforms)}function JI(r,e,i,a,l,c){const d=r.Cc(1,e,i),p=[Lm(e,a,i)],y=[l];if(c.length%2!=0)throw new he(Z.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let V=0;V<c.length;V+=2)p.push(Lm(e,c[V])),y.push(c[V+1]);const _=[],b=jn.empty();for(let V=p.length-1;V>=0;--V)if(!lT(_,p[V])){const Y=p[V];let ee=y[V];ee=fn(ee);const ne=d.yc(Y);if(ee instanceof Yh)_.push(Y);else{const te=wu(ee,ne);te!=null&&(_.push(Y),b.set(Y,te))}}const A=new ei(_);return new iT(b,A,d.fieldTransforms)}function ZI(r,e,i,a=!1){return wu(i,r.Cc(a?4:3,e))}function wu(r,e){if(oT(r=fn(r)))return Cg("Unsupported field value:",e,r),aT(r,e);if(r instanceof Gh)return(function(a,l){if(!rT(l.Ac))throw l.Sc(`${a._methodName}() can only be used with update() and set()`);if(!l.path)throw l.Sc(`${a._methodName}() is not currently supported inside arrays`);const c=a._toFieldTransform(l);c&&l.fieldTransforms.push(c)})(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(a,l){const c=[];let d=0;for(const p of a){let y=wu(p,l.wc(d));y==null&&(y={nullValue:"NULL_VALUE"}),c.push(y),d++}return{arrayValue:{values:c}}})(r,e)}return(function(a,l){if((a=fn(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return UR(l.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const c=mt.fromDate(a);return{timestampValue:Eh(l.serializer,c)}}if(a instanceof mt){const c=new mt(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:Eh(l.serializer,c)}}if(a instanceof rr)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof Ei)return{bytesValue:RE(l.serializer,a._byteString)};if(a instanceof Lt){const c=l.databaseId,d=a.firestore._databaseId;if(!d.isEqual(c))throw l.Sc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:hg(a.firestore._databaseId||l.databaseId,a._key.path)}}if(a instanceof sr)return(function(d,p){return{mapValue:{fields:{[tE]:{stringValue:nE},[ph]:{arrayValue:{values:d.toArray().map((_=>{if(typeof _!="number")throw p.Sc("VectorValues must only contain numeric values.");return og(p.serializer,_)}))}}}}}})(a,l);throw l.Sc(`Unsupported field value: ${Dh(a)}`)})(r,e)}function aT(r,e){const i={};return X1(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Bs(r,((a,l)=>{const c=wu(l,e.mc(a));c!=null&&(i[a]=c)})),{mapValue:{fields:i}}}function oT(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof mt||r instanceof rr||r instanceof Ei||r instanceof Lt||r instanceof Gh||r instanceof sr)}function Cg(r,e,i){if(!oT(i)||!Y1(i)){const a=Dh(i);throw a==="an object"?e.Sc(r+" a custom object"):e.Sc(r+" "+a)}}function Lm(r,e,i){if((e=fn(e))instanceof Fh)return e._internalPath;if(typeof e=="string")return Ig(r,e);throw Ah("Field path arguments must be of type string or ",r,!1,void 0,i)}const WI=new RegExp("[~\\*/\\[\\]]");function Ig(r,e,i){if(e.search(WI)>=0)throw Ah(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,i);try{return new Fh(...e.split("."))._internalPath}catch{throw Ah(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,i)}}function Ah(r,e,i,a,l){const c=a&&!a.isEmpty(),d=l!==void 0;let p=`Function ${e}() called with invalid data`;i&&(p+=" (via `toFirestore()`)"),p+=". ";let y="";return(c||d)&&(y+=" (found",c&&(y+=` in field ${a}`),d&&(y+=` in document ${l}`),y+=")"),new he(Z.INVALID_ARGUMENT,p+r+y)}function lT(r,e){return r.some((i=>i.isEqual(e)))}class uT{constructor(e,i,a,l,c){this._firestore=e,this._userDataWriter=i,this._key=a,this._document=l,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new Lt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new eN(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const i=this._document.data.field(cT("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i)}}}class eN extends uT{data(){return super.data()}}function cT(r,e){return typeof e=="string"?Ig(r,e):e instanceof Fh?e._internalPath:e._delegate._internalPath}function tN(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new he(Z.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Ng{}class nN extends Ng{}function kv(r,e,...i){let a=[];e instanceof Ng&&a.push(e),a=a.concat(i),(function(c){const d=c.filter((y=>y instanceof Dg)).length,p=c.filter((y=>y instanceof xg)).length;if(d>1||d>0&&p>0)throw new he(Z.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(a);for(const l of a)r=l._apply(r);return r}class xg extends nN{constructor(e,i,a){super(),this._field=e,this._op=i,this._value=a,this.type="where"}static _create(e,i,a){return new xg(e,i,a)}_apply(e){const i=this._parse(e);return hT(e._query,i),new Zo(e.firestore,e.converter,Rm(e._query,i))}_parse(e){const i=Qh(e.firestore);return(function(c,d,p,y,_,b,A){let V;if(_.isKeyField()){if(b==="array-contains"||b==="array-contains-any")throw new he(Z.INVALID_ARGUMENT,`Invalid Query. You can't perform '${b}' queries on documentId().`);if(b==="in"||b==="not-in"){Lv(A,b);const ee=[];for(const ne of A)ee.push(Uv(y,c,ne));V={arrayValue:{values:ee}}}else V=Uv(y,c,A)}else b!=="in"&&b!=="not-in"&&b!=="array-contains-any"||Lv(A,b),V=ZI(p,d,A,b==="in"||b==="not-in");return Qt.create(_,b,V)})(e._query,"where",i,e.firestore._databaseId,this._field,this._op,this._value)}}class Dg extends Ng{constructor(e,i){super(),this.type=e,this._queryConstraints=i}static _create(e,i){return new Dg(e,i)}_parse(e){const i=this._queryConstraints.map((a=>a._parse(e))).filter((a=>a.getFilters().length>0));return i.length===1?i[0]:ki.create(i,this._getOperator())}_apply(e){const i=this._parse(e);return i.getFilters().length===0?e:((function(l,c){let d=l;const p=c.getFlattenedFilters();for(const y of p)hT(d,y),d=Rm(d,y)})(e._query,i),new Zo(e.firestore,e.converter,Rm(e._query,i)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function Uv(r,e,i){if(typeof(i=fn(i))=="string"){if(i==="")throw new he(Z.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!cE(e)&&i.indexOf("/")!==-1)throw new he(Z.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${i}' contains a '/' character.`);const a=e.path.child(ct.fromString(i));if(!ye.isDocumentKey(a))throw new he(Z.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${a}' is not because it has an odd number of segments (${a.length}).`);return $0(r,new ye(a))}if(i instanceof Lt)return $0(r,i._key);throw new he(Z.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Dh(i)}.`)}function Lv(r,e){if(!Array.isArray(r)||r.length===0)throw new he(Z.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function hT(r,e){const i=(function(l,c){for(const d of l)for(const p of d.getFlattenedFilters())if(c.indexOf(p.op)>=0)return p.op;return null})(r.filters,(function(l){switch(l){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(i!==null)throw i===e.op?new he(Z.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new he(Z.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${i.toString()}' filters.`)}class iN{convertValue(e,i="none"){switch(Ps(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ut(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,i);case 5:return e.stringValue;case 6:return this.convertBytes(Ls(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,i);case 11:return this.convertObject(e.mapValue,i);case 10:return this.convertVectorValue(e.mapValue);default:throw Ee(62114,{value:e})}}convertObject(e,i){return this.convertObjectMap(e.fields,i)}convertObjectMap(e,i="none"){const a={};return Bs(e,((l,c)=>{a[l]=this.convertValue(c,i)})),a}convertVectorValue(e){const i=e.fields?.[ph].arrayValue?.values?.map((a=>Ut(a.doubleValue)));return new sr(i)}convertGeoPoint(e){return new rr(Ut(e.latitude),Ut(e.longitude))}convertArray(e,i){return(e.values||[]).map((a=>this.convertValue(a,i)))}convertServerTimestamp(e,i){switch(i){case"previous":const a=Vh(e);return a==null?null:this.convertValue(a,i);case"estimate":return this.convertTimestamp(su(e));default:return null}}convertTimestamp(e){const i=Us(e);return new mt(i.seconds,i.nanos)}convertDocumentKey(e,i){const a=ct.fromString(e);We(ME(a),9688,{name:e});const l=new au(a.get(1),a.get(3)),c=new ye(a.popFirst(5));return l.isEqual(i)||Pr(`Document ${c} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),c}}function fT(r,e,i){let a;return a=r?r.toFirestore(e):e,a}class Xl{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Da extends uT{constructor(e,i,a,l,c,d){super(e,i,a,l,d),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const i=new rh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){const a=this._document.data.field(cT("DocumentSnapshot.get",e));if(a!==null)return this._userDataWriter.convertValue(a,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new he(Z.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,i={};return i.type=Da._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}Da._jsonSchemaVersion="firestore/documentSnapshot/1.0",Da._jsonSchema={type:Yt("string",Da._jsonSchemaVersion),bundleSource:Yt("string","DocumentSnapshot"),bundleName:Yt("string"),bundle:Yt("string")};class rh extends Da{data(e={}){return super.data(e)}}class Uo{constructor(e,i,a,l){this._firestore=e,this._userDataWriter=i,this._snapshot=l,this.metadata=new Xl(l.hasPendingWrites,l.fromCache),this.query=a}get docs(){const e=[];return this.forEach((i=>e.push(i))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,i){this._snapshot.docs.forEach((a=>{e.call(i,new rh(this._firestore,this._userDataWriter,a.key,a,new Xl(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new he(Z.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(l,c){if(l._snapshot.oldDocs.isEmpty()){let d=0;return l._snapshot.docChanges.map((p=>{const y=new rh(l._firestore,l._userDataWriter,p.doc.key,p.doc,new Xl(l._snapshot.mutatedKeys.has(p.doc.key),l._snapshot.fromCache),l.query.converter);return p.doc,{type:"added",doc:y,oldIndex:-1,newIndex:d++}}))}{let d=l._snapshot.oldDocs;return l._snapshot.docChanges.filter((p=>c||p.type!==3)).map((p=>{const y=new rh(l._firestore,l._userDataWriter,p.doc.key,p.doc,new Xl(l._snapshot.mutatedKeys.has(p.doc.key),l._snapshot.fromCache),l.query.converter);let _=-1,b=-1;return p.type!==0&&(_=d.indexOf(p.doc.key),d=d.delete(p.doc.key)),p.type!==1&&(d=d.add(p.doc),b=d.indexOf(p.doc.key)),{type:rN(p.type),doc:y,oldIndex:_,newIndex:b}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new he(Z.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Uo._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=eg.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],a=[],l=[];return this.docs.forEach((c=>{c._document!==null&&(i.push(c._document),a.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),l.push(c.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function rN(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ee(61501,{type:r})}}Uo._jsonSchemaVersion="firestore/querySnapshot/1.0",Uo._jsonSchema={type:Yt("string",Uo._jsonSchemaVersion),bundleSource:Yt("string","QuerySnapshot"),bundleName:Yt("string"),bundle:Yt("string")};class dT extends iN{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ei(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new Lt(this.firestore,null,i)}}function sN(r,e,i){r=tr(r,Lt);const a=tr(r.firestore,Pa),l=fT(r.converter,e);return Kh(a,[sT(Qh(a),"setDoc",r._key,l,r.converter!==null,i).toMutation(r._key,Ti.none())])}function Hl(r,e,i,...a){r=tr(r,Lt);const l=tr(r.firestore,Pa),c=Qh(l);let d;return d=typeof(e=fn(e))=="string"||e instanceof Fh?JI(c,"updateDoc",r._key,e,i,a):$I(c,"updateDoc",r._key,e),Kh(l,[d.toMutation(r._key,Ti.exists(!0))])}function aN(r){return Kh(tr(r.firestore,Pa),[new lg(r._key,Ti.none())])}function oN(r,e){const i=tr(r.firestore,Pa),a=As(r),l=fT(r.converter,e);return Kh(i,[sT(Qh(r.firestore),"addDoc",a._key,l,r.converter!==null,{}).toMutation(a._key,Ti.exists(!1))]).then((()=>a))}function Pv(r,...e){r=fn(r);let i={includeMetadataChanges:!1,source:"default"},a=0;typeof e[a]!="object"||Vv(e[a])||(i=e[a++]);const l={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(Vv(e[a])){const y=e[a];e[a]=y.next?.bind(y),e[a+1]=y.error?.bind(y),e[a+2]=y.complete?.bind(y)}let c,d,p;if(r instanceof Lt)d=tr(r.firestore,Pa),p=ag(r._key.path),c={next:y=>{e[a]&&e[a](lN(d,r,y))},error:e[a+1],complete:e[a+2]};else{const y=tr(r,Zo);d=tr(y.firestore,Pa),p=y._query;const _=new dT(d);c={next:b=>{e[a]&&e[a](new Uo(d,_,y,b))},error:e[a+1],complete:e[a+2]},tN(r._query)}return(function(_,b,A,V){const Y=new jI(V),ee=new TI(b,Y,A);return _.asyncQueue.enqueueAndForget((async()=>yI(await Cv(_),ee))),()=>{Y.Nu(),_.asyncQueue.enqueueAndForget((async()=>_I(await Cv(_),ee)))}})(nT(d),p,l,c)}function Kh(r,e){return(function(a,l){const c=new xa;return a.asyncQueue.enqueueAndForget((async()=>DI(await HI(a),l,c))),c.promise})(nT(r),e)}function lN(r,e,i){const a=i.docs.get(e._key),l=new dT(r);return new Da(r,l,e._key,a,new Xl(i.hasPendingWrites,i.fromCache),e.converter)}function uN(){return new Rg("serverTimestamp")}(function(e,i=!0){(function(l){Ko=l})(Qo),Po(new Va("firestore",((a,{instanceIdentifier:l,options:c})=>{const d=a.getProvider("app").getImmediate(),p=new Pa(new Kw(a.getProvider("auth-internal")),new Jw(d,a.getProvider("app-check-internal")),(function(_,b){if(!Object.prototype.hasOwnProperty.apply(_.options,["projectId"]))throw new he(Z.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new au(_.options.projectId,b)})(d,l),d);return c={useFetchStreams:i,...c},p._setSettings(c),p}),"PUBLIC").setMultipleInstances(!0)),Ms(L0,P0,e),Ms(L0,P0,"esm2020")})();const cN=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),hN=r=>r.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,i,a)=>a?a.toUpperCase():i.toLowerCase()),zv=r=>{const e=hN(r);return e.charAt(0).toUpperCase()+e.slice(1)},mT=(...r)=>r.filter((e,i,a)=>!!e&&e.trim()!==""&&a.indexOf(e)===i).join(" ").trim(),fN=r=>{for(const e in r)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var dN={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const mN=re.forwardRef(({color:r="currentColor",size:e=24,strokeWidth:i=2,absoluteStrokeWidth:a,className:l="",children:c,iconNode:d,...p},y)=>re.createElement("svg",{ref:y,...dN,width:e,height:e,stroke:r,strokeWidth:a?Number(i)*24/Number(e):i,className:mT("lucide",l),...!c&&!fN(p)&&{"aria-hidden":"true"},...p},[...d.map(([_,b])=>re.createElement(_,b)),...Array.isArray(c)?c:[c]]));const Ue=(r,e)=>{const i=re.forwardRef(({className:a,...l},c)=>re.createElement(mN,{ref:c,iconNode:e,className:mT(`lucide-${cN(zv(r))}`,`lucide-${r}`,a),...l}));return i.displayName=zv(r),i};const gN=[["path",{d:"M12 6v16",key:"nqf5sj"}],["path",{d:"m19 13 2-1a9 9 0 0 1-18 0l2 1",key:"y7qv08"}],["path",{d:"M9 11h6",key:"1fldmi"}],["circle",{cx:"12",cy:"4",r:"2",key:"muu5ef"}]],pN=Ue("anchor",gN);const yN=[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]],lm=Ue("bot",yN);const _N=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],um=Ue("briefcase",_N);const vN=[["path",{d:"M12 20v-9",key:"1qisl0"}],["path",{d:"M14 7a4 4 0 0 1 4 4v3a6 6 0 0 1-12 0v-3a4 4 0 0 1 4-4z",key:"uouzyp"}],["path",{d:"M14.12 3.88 16 2",key:"qol33r"}],["path",{d:"M21 21a4 4 0 0 0-3.81-4",key:"1b0z45"}],["path",{d:"M21 5a4 4 0 0 1-3.55 3.97",key:"5cxbf6"}],["path",{d:"M22 13h-4",key:"1jl80f"}],["path",{d:"M3 21a4 4 0 0 1 3.81-4",key:"1fjd4g"}],["path",{d:"M3 5a4 4 0 0 0 3.55 3.97",key:"1d7oge"}],["path",{d:"M6 13H2",key:"82j7cp"}],["path",{d:"m8 2 1.88 1.88",key:"fmnt4t"}],["path",{d:"M9 7.13V6a3 3 0 1 1 6 0v1.13",key:"1vgav8"}]],EN=Ue("bug",vN);const TN=[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],Pm=Ue("camera",TN);const bN=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],SN=Ue("chevron-down",bN);const AN=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],wN=Ue("chevron-right",AN);const RN=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}]],sh=Ue("circle-dot",RN);const CN=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],jv=Ue("crown",CN);const IN=[["path",{d:"M11 20H2",key:"nlcfvz"}],["path",{d:"M11 4.562v16.157a1 1 0 0 0 1.242.97L19 20V5.562a2 2 0 0 0-1.515-1.94l-4-1A2 2 0 0 0 11 4.561z",key:"au4z13"}],["path",{d:"M11 4H8a2 2 0 0 0-2 2v14",key:"74r1mk"}],["path",{d:"M14 12h.01",key:"1jfl7z"}],["path",{d:"M22 20h-3",key:"vhrsz"}]],NN=Ue("door-open",IN);const xN=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],DN=Ue("eye-off",xN);const MN=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],ON=Ue("eye",MN);const VN=[["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}],["path",{d:"M12 16.5A4.5 4.5 0 1 1 7.5 12 4.5 4.5 0 1 1 12 7.5a4.5 4.5 0 1 1 4.5 4.5 4.5 4.5 0 1 1-4.5 4.5",key:"14wa3c"}],["path",{d:"M12 7.5V9",key:"1oy5b0"}],["path",{d:"M7.5 12H9",key:"eltsq1"}],["path",{d:"M16.5 12H15",key:"vk5kw4"}],["path",{d:"M12 16.5V15",key:"k7eayi"}],["path",{d:"m8 8 1.88 1.88",key:"nxy4qf"}],["path",{d:"M14.12 9.88 16 8",key:"1lst6k"}],["path",{d:"m8 16 1.88-1.88",key:"h2eex1"}],["path",{d:"M14.12 14.12 16 16",key:"uqkrx3"}]],Qc=Ue("flower",VN);const kN=[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]],UN=Ue("heart",kN);const LN=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],gT=Ue("image",LN);const PN=[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]],Bv=Ue("key",PN);const zN=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],jN=Ue("layers",zN);const BN=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],Lo=Ue("map-pin",BN);const qN=[["path",{d:"M12 2v20",key:"t6zp3m"}],["path",{d:"m15 19-3 3-3-3",key:"11eu04"}],["path",{d:"m19 9 3 3-3 3",key:"1mg7y2"}],["path",{d:"M2 12h20",key:"9i4pu4"}],["path",{d:"m5 9-3 3 3 3",key:"j64kie"}],["path",{d:"m9 5 3-3 3 3",key:"l8vdw6"}]],HN=Ue("move",qN);const FN=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],Fl=Ue("package",FN);const GN=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],QN=Ue("plus",GN);const YN=[["path",{d:"M16.247 7.761a6 6 0 0 1 0 8.478",key:"1fwjs5"}],["path",{d:"M19.075 4.933a10 10 0 0 1 0 14.134",key:"ehdyv1"}],["path",{d:"M4.925 19.067a10 10 0 0 1 0-14.134",key:"1q22gi"}],["path",{d:"M7.753 16.239a6 6 0 0 1 0-8.478",key:"r2q7qm"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],qv=Ue("radio",YN);const KN=[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]],XN=Ue("rocket",KN);const $N=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M14 15H9v-5",key:"pi4jk9"}],["path",{d:"M16 3h5v5",key:"1806ms"}],["path",{d:"M21 3 9 15",key:"15kdhq"}]],JN=Ue("scaling",$N);const ZN=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],WN=Ue("search",ZN);const ex=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],tx=Ue("settings",ex);const nx=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]],wh=Ue("shield-alert",nx);const ix=[["path",{d:"m12.5 17-.5-1-.5 1h1z",key:"3me087"}],["path",{d:"M15 22a1 1 0 0 0 1-1v-1a2 2 0 0 0 1.56-3.25 8 8 0 1 0-11.12 0A2 2 0 0 0 8 20v1a1 1 0 0 0 1 1z",key:"1o5pge"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}]],rx=Ue("skull",ix);const sx=[["path",{d:"M14 9.536V7a4 4 0 0 1 4-4h1.5a.5.5 0 0 1 .5.5V5a4 4 0 0 1-4 4 4 4 0 0 0-4 4c0 2 1 3 1 5a5 5 0 0 1-1 3",key:"139s4v"}],["path",{d:"M4 9a5 5 0 0 1 8 4 5 5 0 0 1-8-4",key:"1dlkgp"}],["path",{d:"M5 21h14",key:"11awu3"}]],Hv=Ue("sprout",sx);const ax=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]],ox=Ue("square-plus",ax);const lx=[["path",{d:"M3.5 21 14 3",key:"1szst5"}],["path",{d:"M20.5 21 10 3",key:"1310c3"}],["path",{d:"M15.5 21 12 15l-3.5 6",key:"1ddtfw"}],["path",{d:"M2 21h20",key:"1nyx9w"}]],ux=Ue("tent",lx);const cx=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],hx=Ue("trash-2",cx);const fx=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],Rh=Ue("upload",fx);const dx=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],pT=Ue("user",dx);const mx=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],gx=Ue("users",mx);const px=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],zm=Ue("x",px);const yx=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],Fv=Ue("zap",yx),cm=typeof globalThis<"u"&&typeof globalThis.__firebase_config<"u"?globalThis.__firebase_config:"{}";let hu={};try{hu=typeof cm=="string"?JSON.parse(cm):cm||{}}catch(r){console.warn("Failed to parse __firebase_config, falling back to empty config.",r),hu={}}const _x=!!(hu&&hu.apiKey),vx=typeof globalThis<"u"&&typeof globalThis.__disable_firebase<"u"?!!globalThis.__disable_firebase:!1;let Yc=null,Ca=null,xn=null,jm=!1;if(_x&&!vx)try{Yc=i1(hu),Ca=Fw(Yc),xn=GI(Yc),jm=!!(Yc&&Ca&&xn)}catch(r){console.warn("Firebase init failed, running in local mode instead.",r),jm=!1}const Kc=jm,Ji=typeof globalThis<"u"&&typeof globalThis.__app_id<"u"?globalThis.__app_id:"default-app",Ro=r=>`./maps/${r}`,Oi={dam:{id:"dam",name:"",width:2e3,height:2e3,defaultUrl:Ro("dam.jpg"),bgColor:"#1a1d21",gridColor:"#2a2e33"},spaceport:{id:"spaceport",name:"",width:2400,height:1600,defaultUrl:Ro("spaceport.jpg"),bgColor:"#161b22",gridColor:"#1f2937"},buried:{id:"buried",name:"",width:2e3,height:2e3,defaultUrl:Ro("buried.jpg"),bgColor:"#1f1a16",gridColor:"#332b25"},bluegate:{id:"bluegate",name:"",width:2400,height:1600,defaultUrl:Ro("bluegate.jpg"),bgColor:"#1e293b",gridColor:"#334155"},stella:{id:"stella",name:"",width:2400,height:1600,bgColor:"#0f172a",gridColor:"#1e293b",layers:[{id:"upper",name:" ()",defaultUrl:Ro("stella_upper.jpg")},{id:"lower",name:" ()",defaultUrl:Ro("stella_lower.jpg")}]}},Ia={containers:{label:"",color:"#f59e0b"},arc:{label:"",color:"#ef4444"},nature:{label:"",color:"#10b981"},events:{label:"",color:"#a855f7"},others:{label:"",color:"#3b82f6"}},Ex={weapon_case:{id:"weapon_case",cat:"containers",label:"",icon:um},med_bag:{id:"med_bag",cat:"containers",label:"",icon:ox},grenade_tube:{id:"grenade_tube",cat:"containers",label:"",icon:sh},ammo_crate:{id:"ammo_crate",cat:"containers",label:"",icon:Fl},backpack:{id:"backpack",cat:"containers",label:"",icon:um},security_lockbox:{id:"security_lockbox",cat:"containers",label:"",icon:Bv},baron_husk:{id:"baron_husk",cat:"containers",label:"",icon:rx},rocketeer_husk:{id:"rocketeer_husk",cat:"containers",label:"",icon:XN},wasp_husk:{id:"wasp_husk",cat:"containers",label:"",icon:sh},arc_courier:{id:"arc_courier",cat:"containers",label:"ARC",icon:Fl},crashed_probe:{id:"crashed_probe",cat:"containers",label:"",icon:qv},tick:{id:"tick",cat:"arc",label:"",icon:EN},pop:{id:"pop",cat:"arc",label:"",icon:sh},fireball:{id:"fireball",cat:"arc",label:"",icon:Fv},surveyor:{id:"surveyor",cat:"arc",label:"arc",icon:ON},sentinel:{id:"sentinel",cat:"arc",label:"",icon:wh},rocketeer_arc:{id:"rocketeer_arc",cat:"arc",label:"",icon:lm},leaper:{id:"leaper",cat:"arc",label:"Leaper",icon:lm},bombardier:{id:"bombardier",cat:"arc",label:"",icon:lm},bastion:{id:"bastion",cat:"arc",label:"",icon:wh},queen:{id:"queen",cat:"arc",label:"",icon:jv},matriarch:{id:"matriarch",cat:"arc",label:"",icon:jv},mushrooms:{id:"mushrooms",cat:"nature",label:"",icon:Hv},great_mullein:{id:"great_mullein",cat:"nature",label:"",icon:Qc},agave:{id:"agave",cat:"nature",label:"",icon:Qc},apricot_tree:{id:"apricot_tree",cat:"nature",label:"",icon:Qc},prickly_pear:{id:"prickly_pear",cat:"nature",label:"",icon:Qc},moss:{id:"moss",cat:"nature",label:"",icon:Hv},harvester:{id:"harvester",cat:"events",label:"",icon:Fv},raider_cache:{id:"raider_cache",cat:"events",label:"",icon:Fl},wicker_basket:{id:"wicker_basket",cat:"events",label:"",icon:Fl},elevator:{id:"elevator",cat:"others",label:"",icon:pN},hatch:{id:"hatch",cat:"others",label:"",icon:NN},supply_call:{id:"supply_call",cat:"others",label:"",icon:qv},raider_camp:{id:"raider_camp",cat:"others",label:"",icon:ux},field_depot:{id:"field_depot",cat:"others",label:"",icon:um},player_spawn:{id:"player_spawn",cat:"others",label:"",icon:pT},quest:{id:"quest",cat:"others",label:"",icon:Lo},locked_room:{id:"locked_room",cat:"others",label:"",icon:Bv},field_crate:{id:"field_crate",cat:"others",label:"",icon:Fl},custom_pin:{id:"custom_pin",cat:"others",label:"",icon:Lo}},Gv={id:"unknown",cat:"others",label:"",icon:sh},Ma={weapon_case:"/icon/weapon_case.svg",med_bag:"/icon/med_bag.svg",grenade_tube:"/icon/grenade_tube.svg",ammo_crate:"/icon/ammo_crate.svg",backpack:"/icon/backpack.svg",security_lockbox:"/icon/security_locker.svg",baron_husk:"/icon/baron_husk.svg",rocketeer_husk:"/icon/rocketeer_husk.svg",wasp_husk:"/icon/wasp_husk.svg",arc_courier:"/icon/arc_courier.svg",crashed_probe:"/icon/crashed_probe.svg",tick:"/icon/tick.svg",pop:"/icon/pop.svg",fireball:"/icon/fireball.svg",surveyor:"/icon/surveyor.svg",sentinel:"/icon/sentinel.svg",rocketeer_arc:"/icon/rocketeer.svg",leaper:"/icon/leaper.svg",bombardier:"/icon/bombardier.svg",bastion:"/icon/bastion.svg",queen:"/icon/queen.svg",matriarch:"/icon/apricot_tree.svg",mushrooms:"/icon/mushrooms.svg",great_mullein:"/icon/great_mullein.svg",agave:"/icon/agave.svg",apricot_tree:"/icon/apricot_tree.svg",prickly_pear:"/icon/prickly_pear.svg",moss:"/icon/moss.svg",harvester:"/icon/harvester.svg",raider_cache:"/icon/raider_cache.svg",wicker_basket:"/icon/wicker_basket.svg",elevator:"/icon/elevator.svg",hatch:"/icon/hatch.svg",supply_call:"/icon/supply_call_station.svg",raider_camp:"/icon/raider_camp.svg",field_depot:"/icon/field_depot.svg",player_spawn:"/icon/player_spawn.svg",quest:"/icon/quest.svg",locked_room:"/icon/locked_room.svg",field_crate:"/icon/field_crate.svg",custom_pin:"/icon/field_crate.svg"},Tx="./";Object.keys(Ma).forEach(r=>{const e=Ma[r];if(typeof e=="string"&&e.startsWith("/")){const i=e.replace(/^\//,"");Ma[r]=`${Tx}${i}`}});const bx=new Set(Object.values(Ma)),Gl=(r,e="")=>`data:image/svg+xml;utf8,${encodeURIComponent(`<svg xmlns="http://www.w3.org/2000/svg" width="64" height="64" viewBox="0 0 64 64"><rect width="64" height="64" rx="12" fill="${r}"/><text x="50%" y="54%" text-anchor="middle" font-size="28" fill="#0f172a" font-family="Arial, sans-serif" font-weight="700">${e}</text></svg>`)}`,Sx=[{id:"preset-orange",label:"",dataUrl:Gl("#fb923c","P")},{id:"preset-blue",label:"",dataUrl:Gl("#60a5fa","P")},{id:"preset-green",label:"",dataUrl:Gl("#34d399","P")},{id:"preset-purple",label:"",dataUrl:Gl("#c084fc","P")},{id:"preset-gray",label:"",dataUrl:Gl("#9ca3af","P")}],hm=()=>Math.random().toString(36).substring(2,8).toUpperCase(),Ch=(r,e=600)=>new Promise((i,a)=>{const l=new FileReader;l.readAsDataURL(r),l.onload=c=>{const d=new Image;d.src=c.target.result,d.onload=()=>{const p=document.createElement("canvas"),y=e/d.width;p.width=e,p.height=d.height*y,p.getContext("2d").drawImage(d,0,0,p.width,p.height),i(p.toDataURL("image/jpeg",.7))},d.onerror=a},l.onerror=a}),Ax=({config:r,onUpload:e})=>x.jsx("div",{className:"w-full h-full absolute top-0 left-0 flex flex-col items-center justify-center",style:{backgroundColor:r.bgColor,backgroundImage:`
        linear-gradient(${r.gridColor} 1px, transparent 1px),
        linear-gradient(90deg, ${r.gridColor} 1px, transparent 1px)
      `,backgroundSize:"100px 100px"},children:x.jsxs("div",{className:"text-center p-6 bg-black/50 backdrop-blur rounded-xl border border-gray-700",children:[x.jsx(gT,{size:48,className:"mx-auto text-gray-500 mb-4"}),x.jsx("p",{className:"text-gray-300 font-bold mb-2",children:"NO MAP IMAGE"}),x.jsx("p",{className:"text-gray-500 text-sm mb-4 max-w-xs",children:""}),x.jsxs("button",{onClick:e,className:"bg-orange-600 hover:bg-orange-500 text-white px-4 py-2 rounded flex items-center gap-2 mx-auto transition-colors",children:[x.jsx(Rh,{size:16}),""]})]})}),wx=({pin:r,markerDef:e,onClose:i,onUpdateImage:a,onUpdateIcon:l,onUpdateNote:c,onDelete:d,onMark:p})=>{const y=re.useRef(null),_=re.useRef(null),b=Ia[e.cat]||Ia.others,[A,V]=re.useState(r.note||""),Y=async ne=>{const te=ne.target.files[0];if(te)try{const de=await Ch(te);a(r.id,de)}catch(de){console.error("Image upload failed",de),alert("")}},ee=async ne=>{const te=ne.target.files[0];if(!(!te||!l))try{const de=await Ch(te,128);l(r.id,de)}catch(de){console.error("Icon upload failed",de),alert("")}};return x.jsxs("div",{className:"absolute z-[100] bg-gray-900 text-white rounded-lg shadow-2xl border border-gray-700 w-72 overflow-hidden",style:{top:"50%",left:"50%",transform:"translate(-50%, -50%)"},onClick:ne=>ne.stopPropagation(),children:[x.jsxs("div",{className:"relative h-40 bg-gray-800 flex items-center justify-center overflow-hidden group",children:[r.imageUrl?x.jsx("img",{src:r.imageUrl,alt:"Pin Attachment",className:"w-full h-full object-cover"}):x.jsxs("div",{className:"flex flex-col items-center text-gray-500",children:[x.jsx(Pm,{size:32,className:"mb-2 opacity-50"}),x.jsx("span",{className:"text-xs",children:"No Image"})]}),x.jsx("div",{className:"absolute inset-0 bg-black/60 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center cursor-pointer",onClick:()=>y.current?.click(),children:x.jsxs("div",{className:"text-center",children:[x.jsx(Rh,{className:"mx-auto mb-1 text-white",size:24}),x.jsx("span",{className:"text-xs font-bold text-white",children:"/"})]})}),x.jsx("input",{type:"file",ref:y,className:"hidden",accept:"image/*",onChange:Y}),x.jsx("input",{type:"file",ref:_,className:"hidden",accept:"image/*",onChange:ee})]}),x.jsxs("div",{className:"p-4",children:[x.jsxs("div",{className:"flex justify-between items-start mb-2",children:[x.jsxs("div",{children:[x.jsxs("div",{className:"flex items-center gap-2 text-orange-400 text-xs font-bold uppercase mb-0.5",children:[x.jsx(e.icon,{size:12,color:b.color}),b.label]}),x.jsx("h3",{className:"text-lg font-bold leading-tight",children:e.label})]}),x.jsx("button",{onClick:i,className:"text-gray-400 hover:text-white",children:x.jsx(zm,{size:20})})]}),x.jsxs("div",{className:"text-xs text-gray-500 mb-4",children:[": ",x.jsx("span",{className:"text-gray-300 font-semibold",children:r.createdByName||""})," ",x.jsxs("span",{className:"ml-2 text-gray-600",children:["ID: ",r.id.slice(0,6),""]})]}),x.jsxs("div",{className:"flex flex-col gap-2 mb-3",children:[x.jsx("label",{className:"text-[10px] text-gray-400",children:""}),x.jsx("textarea",{value:A,onChange:ne=>V(ne.target.value),className:"w-full h-20 bg-gray-800 border border-gray-700 rounded px-2 py-1 text-xs text-gray-200",placeholder:""}),x.jsx("div",{className:"flex justify-end",children:x.jsx("button",{onClick:()=>c?.(r.id,A),className:"text-xs px-2 py-1 rounded bg-gray-800 border border-gray-700 hover:bg-gray-700 text-gray-200",children:""})})]}),x.jsxs("div",{className:"flex gap-2 mb-2",children:[x.jsxs("button",{onClick:()=>_.current?.click(),className:"flex-1 bg-gray-700 hover:bg-gray-600 text-white text-xs font-bold py-2 rounded transition-colors flex items-center justify-center gap-2",children:[x.jsx(Pm,{size:14}),""]}),x.jsxs("button",{onClick:()=>y.current?.click(),className:"flex-1 bg-gray-700 hover:bg-gray-600 text-white text-xs font-bold py-2 rounded transition-colors flex items-center justify-center gap-2",children:[x.jsx(Rh,{size:14}),""]})]}),x.jsxs("div",{className:"flex gap-2",children:[x.jsxs("button",{onClick:()=>p?.(r.id),className:"flex-1 bg-gray-700 hover:bg-gray-600 text-white text-xs font-bold py-2 rounded transition-colors flex items-center justify-center gap-2",children:[x.jsx(Lo,{size:14}),""]}),x.jsx("button",{onClick:()=>d(r.id),className:"bg-red-900/50 hover:bg-red-900 text-red-200 p-2 rounded transition-colors",title:"",children:x.jsx(hx,{size:16})})]})]})]})};function Rx(){const[r,e]=re.useState(null),[i,a]=re.useState(null),[l,c]=re.useState("dam"),[d,p]=re.useState(null),[y,_]=re.useState({}),[b,A]=re.useState([]),[V,Y]=re.useState([]),[ee,ne]=re.useState(null),[te,de]=re.useState([]),[Ae,_e]=re.useState({}),[Oe,Xe]=re.useState({}),[De,N]=re.useState([]),[w,I]=re.useState(null),[k,D]=re.useState(!1),[L,R]=re.useState(null),[it,bt]=re.useState(""),[G,se]=re.useState(null),[ge,Le]=re.useState([]),[He,O]=re.useState(""),[$,ae]=re.useState(!1),[oe,Te]=re.useState([]),[Ce,Fe]=re.useState(""),[Pt,ht]=re.useState(""),[Br,Hs]=re.useState("#7dd3fc"),[Fs,Gs]=re.useState(""),[zt,Bn]=re.useState("move"),[It,or]=re.useState({x:0,y:0,scale:.4}),[qr,St]=re.useState(1),[Nt,ti]=re.useState(!1),[Qs,Ys]=re.useState(!1),[Jt,lr]=re.useState({x:0,y:0}),[Ks,Hr]=re.useState(!1),[mn,Ba]=re.useState(""),[Ui,Fr]=re.useState(i?"shared":"local"),[Gr,Sn]=re.useState(i||""),[Kt,An]=re.useState("map"),[_t,Qr]=re.useState(!!i),[Zt,ur]=re.useState("default"),[qn,Li]=re.useState(""),[gt,Hn]=re.useState({}),[ni,wn]=re.useState({}),xt=Ui==="shared"&&i?"shared":"local",ii=xt==="shared"?b:V,nn=(S,q=xt)=>{q==="shared"?A(X=>typeof S=="function"?S(X):S):Y(X=>typeof S=="function"?S(X):S)},Wt=re.useMemo(()=>Kc&&!!i,[i]),[qa,cr]=re.useState({containers:!0,arc:!0,others:!0,nature:!0,events:!0}),[Yr,Xs]=re.useState("");Oe.custom_pin,re.useMemo(()=>{const S={...Ia};return oe.forEach(q=>{S[q.id]={label:q.label,color:q.color||"#6b7280"}}),S},[oe]);const rn=re.useMemo(()=>{const S={...Ex};return De.forEach(q=>{S[q.id]={...q,icon:Lo}}),S},[De]),ri=[...ge,...Sx],$s=S=>Ae[S]!==!1,Fn=re.useMemo(()=>{const S={};return ii.forEach(q=>{q.mapId!==l||Oi[l].layers&&q.layerId!==d||(S[q.type]=(S[q.type]||0)+1)}),S},[ii,l,d]),Dn=re.useRef(null),vt=re.useRef(null),Dt=re.useRef(null),Gn=re.useRef(null),hr=re.useRef(null);re.useEffect(()=>{const S=localStorage.getItem("tactical_display_name");S&&Ba(S)},[]),re.useEffect(()=>{!He&&Object.keys(rn).length>0&&O(Object.keys(rn)[0])},[rn,He]),re.useEffect(()=>{mn&&localStorage.setItem("tactical_display_name",mn)},[mn]),re.useEffect(()=>{const S=localStorage.getItem("tactical_custom_markers");if(S)try{const q=JSON.parse(S);Array.isArray(q)&&N(q)}catch(q){console.warn("Failed to parse stored custom markers",q)}},[]),re.useEffect(()=>{localStorage.setItem("tactical_custom_markers",JSON.stringify(De||[]))},[De]),re.useEffect(()=>{if(!te.length)return;const S=new Set(ii.map(q=>q.id));de(q=>q.filter(X=>S.has(X)))},[ii,te]),re.useEffect(()=>{const S=localStorage.getItem("tactical_user_icon_library");if(S)try{const q=JSON.parse(S);Array.isArray(q)&&Le(q)}catch(q){console.warn("Failed to parse stored icon library",q)}},[]),re.useEffect(()=>{localStorage.setItem("tactical_user_icon_library",JSON.stringify(ge||[]))},[ge]),re.useEffect(()=>{const S=localStorage.getItem("tactical_marker_icons");if(S)try{const q=JSON.parse(S);if(q&&typeof q=="object"){const X={...Ma};Object.entries(q).forEach(([le,ue])=>{if(!ue)return;const Me=typeof ue=="string"&&ue.startsWith("data:"),rt=typeof ue=="string"&&ue.startsWith("http"),et=typeof ue=="string"&&bx.has(ue);ue.startsWith("/icon/")&&!et||(Me||rt||et)&&(X[le]=ue)}),Xe(X);return}}catch(q){console.warn("Failed to parse stored marker icons",q)}Xe(Ma)},[]),re.useEffect(()=>{localStorage.setItem("tactical_marker_icons",JSON.stringify(Oe||{}))},[Oe]),re.useEffect(()=>{if((async()=>{if(!Kc){e({uid:"local-demo"});return}try{typeof __initial_auth_token<"u"&&__initial_auth_token?await x2(Ca,__initial_auth_token):await w2(Ca)}catch(X){console.error("Auth error:",X)}})(),!Kc)return;const q=O2(Ca,e);return()=>q()},[]),re.useEffect(()=>{const S=new URLSearchParams(window.location.search),q=S.get("room"),X=S.get("map"),le=S.get("view"),ue=S.get("profile");a(q||null),Fr(q?"shared":"local"),Sn(q||""),q&&Qr(!0),X&&Oi[X]&&c(X),ue&&ur(ue),le==="list"&&An("list");const Me=localStorage.getItem("tactical_local_pins");if(Me)try{const et=JSON.parse(Me);Array.isArray(et)&&Y(et)}catch(et){console.warn("Failed to parse local pins",et)}const rt=localStorage.getItem("tactical_local_map_meta");if(rt)try{const et=JSON.parse(rt);et&&typeof et=="object"&&Hn(et)}catch(et){console.warn("Failed to parse local map meta",et)}},[]),re.useEffect(()=>{const S=Oi[l];S.layers&&S.layers.length>0?p(S.layers[0].id):p(null),At();const q=new URLSearchParams(window.location.search);q.set("map",l),q.set("profile",Zt),i&&q.set("room",i);const X=`${window.location.pathname}?${q.toString()}`;window.history.replaceState({},"",X)},[l,Zt,i]),re.useEffect(()=>{const S=new URLSearchParams(window.location.search);S.set("map",l),S.set("profile",Zt),i&&S.set("room",i);const q=`${window.location.pathname}?${S.toString()}`;window.history.replaceState({},"",q)},[Zt]),re.useEffect(()=>{localStorage.setItem("tactical_local_pins",JSON.stringify(V||[]))},[V]),re.useEffect(()=>{localStorage.setItem("tactical_local_map_meta",JSON.stringify(gt||{}))},[gt]),re.useEffect(()=>{if(!Wt||xt!=="shared"||!Ca||!xn||!r)return;const S=`${i}_pins`,q=kv(om(xn,"artifacts",Ji,"public","data",S)),X=Pv(q,le=>{const ue=le.docs.map(Me=>({id:Me.id,...Me.data()}));A(ue)},le=>console.error(le));return()=>X()},[r,i]),re.useEffect(()=>{if(!Wt||xt!=="shared"||!Ca||!xn||!r)return;const S=`${i}_mapmeta`,q=kv(om(xn,"artifacts",Ji,"public","data",S)),X=Pv(q,le=>{const ue={};le.docs.forEach(Me=>{ue[Me.id]=Me.data()}),wn(ue)},le=>console.error(le));return()=>X()},[r,i,xt,Wt]);const Wo=S=>{const q=S.target.files[0];if(!q)return;const X=URL.createObjectURL(q),le=d?`${l}_${d}`:l;_(ue=>({...ue,[le]:X}))},Js=()=>Dt.current?.click(),Ha=async S=>{const q=S.target.files?.[0];if(!(!q||!w))try{const X=await Ch(q,128);Xe(le=>({...le,[w]:X})),Pi(X)}catch(X){console.error("Icon upload failed",X),alert("Icon image could not be loaded.")}finally{S.target.value="",I(null)}},si=(S="custom_pin")=>{I(S),Gn.current?.click()},Pi=S=>{S&&Le(q=>{if(q.some(le=>le.dataUrl===S))return q;const X=`user_${q.length+1}_${Date.now().toString(36)}`;return[...q,{id:X,label:"My Icon",dataUrl:S}]})},ai=async S=>{const q=Ma[S];if(q){if(ae(!0),Xe(X=>({...X,[S]:q})),nn(X=>X.map(le=>le.type===S?{...le,iconUrl:q}:le)),Wt&&i){const X=`${i}_pins`,le=ii.filter(ue=>ue.type===S);await Promise.allSettled(le.map(ue=>Hl(As(xn,"artifacts",Ji,"public","data",X,ue.id),{iconUrl:q})))}ae(!1)}},Mn=S=>{R(S),bt(""),se(Oe.custom_pin||ri[0]?.dataUrl||null),D(!0)},Rn=async S=>{const q=S.target.files?.[0];if(q)try{const X=await Ch(q,128);se(X),Pi(X)}catch(X){console.error("Marker icon upload failed",X),alert("")}finally{S.target.value=""}},oi=()=>{if(!it.trim()||!L){alert("");return}const S=`custom_${Date.now().toString(36)}`,q={id:S,label:it.trim(),cat:L};N(X=>[...X,q]),G&&Xe(X=>({...X,[S]:G})),Bn(S),D(!1)},Et=(S,q)=>{const X=Math.min(Math.max(.2,S),5),le=q?.x??window.innerWidth/2,ue=q?.y??window.innerHeight/2,Me=(le-It.x)/It.scale,rt=(ue-It.y)/It.scale,et=le-Me*X,wt=ue-rt*X;or({x:et,y:wt,scale:X})},Kr=S=>{S.preventDefault(),S.stopPropagation(),(S.ctrlKey||S.metaKey)&&S.preventDefault();const X=It.scale-S.deltaY*.001;Et(X,{x:S.clientX,y:S.clientY})};re.useEffect(()=>{const S=vt.current;if(S)return S.addEventListener("wheel",Kr,{passive:!1}),()=>S.removeEventListener("wheel",Kr)});const Zs=S=>{(S.button===1||zt==="move")&&(Ys(!0),lr({x:S.clientX-It.x,y:S.clientY-It.y}))},li=S=>{Qs&&or(q=>({...q,x:S.clientX-Jt.x,y:S.clientY-Jt.y}))},Qn=()=>Ys(!1),Ws=async S=>{if(Qs||xt==="shared"&&!r)return;if(ee){ne(null);return}if(zt==="move")return;const q=Dn.current.getBoundingClientRect(),X=(S.clientX-q.left)/It.scale,le=(S.clientY-q.top)/It.scale,ue=Oi[l];if(!(X<0||le<0||X>ue.width||le>ue.height)){if(!Wt||xt==="local"){const Me=`local-${Date.now()}-${Math.random().toString(36).slice(2,8)}`;nn(rt=>[...rt,{id:Me,mapId:l,layerId:d,x:X,y:le,type:zt,iconUrl:Oe[zt]||void 0,profileId:Zt,note:"",createdAt:new Date,createdBy:r?.uid||"local",createdByName:mn||""}]),ne(Me),Bn("move");return}if(i)try{const Me=`${i}_pins`,rt=await oN(om(xn,"artifacts",Ji,"public","data",Me),{mapId:l,layerId:d,x:X,y:le,type:zt,iconUrl:Oe[zt]||void 0,profileId:Zt,note:"",createdAt:uN(),createdBy:r.uid,createdByName:mn||""});ne(rt.id),Bn("move")}catch(Me){console.error("Error adding pin:",Me)}}},ea=(S,q)=>{S.stopPropagation(),ne(X=>X===q?null:q)},ta=async S=>{if(!r&&xt==="shared")return;if(!Wt||xt==="local"){nn(X=>X.filter(le=>le.id!==S)),ee===S&&ne(null),de(X=>X.filter(le=>le!==S));return}const q=`${i}_pins`;try{await aN(As(xn,"artifacts",Ji,"public","data",q,S)),ee===S&&ne(null),de(X=>X.filter(le=>le!==S))}catch(X){console.error(X)}},Fa=async(S,q)=>{if(!r&&xt==="shared")return;if(!Wt||xt==="local"){nn(le=>le.map(ue=>ue.id===S?{...ue,imageUrl:q}:ue));return}if(!i)return;const X=`${i}_pins`;try{await Hl(As(xn,"artifacts",Ji,"public","data",X,S),{imageUrl:q})}catch(le){console.error(le)}},Xr=async(S,q)=>{if(!r&&xt==="shared")return;if(Pi(q),!Wt||xt==="local"){nn(le=>le.map(ue=>ue.id===S?{...ue,iconUrl:q}:ue));return}if(!i)return;const X=`${i}_pins`;try{await Hl(As(xn,"artifacts",Ji,"public","data",X,S),{iconUrl:q})}catch(le){console.error(le)}},Cn=async(S,q)=>{if(!r&&xt==="shared")return;if(!Wt||xt==="local"){nn(le=>le.map(ue=>ue.id===S?{...ue,note:q}:ue));return}if(!i)return;const X=`${i}_pins`;try{await Hl(As(xn,"artifacts",Ji,"public","data",X,S),{note:q})}catch(le){console.error(le)}},At=()=>{const S=window.innerWidth,q=window.innerHeight,X=Oi[l];or({x:S/2-X.width*.4/2,y:q/2-X.height*.4/2,scale:.4})},jt=ii.filter(S=>!(S.mapId!==l||(S.profileId||"default")!==Zt||Oi[l].layers&&S.layerId!==d||!$s(S.type))),zi=S=>{cr(q=>({...q,[S]:!q[S]}))},na=()=>{const S={};Object.keys(rn).forEach(q=>{S[q]=!0}),_e(S)},$e=()=>{const S={};Object.keys(rn).forEach(q=>{S[q]=!1}),_e(S)},bi=xt==="shared"?ni:gt,gn=bi[l]||{title:"",note:"",profiles:["default"]},On=gn.profiles&&gn.profiles.length>0?gn.profiles:["default"];re.useEffect(()=>{On.includes(Zt)||ur(On[0]||"default")},[l,On]);const pn=S=>{const q=(S||"").trim();if(!q)return;const X=Array.from(new Set([...On,q]));fr(l,{profiles:X}),ur(q)},yn=Oi[l];let ia=yn.defaultUrl,$r=l;if(yn.layers&&d){const S=yn.layers.find(q=>q.id===d);S&&(ia=S.defaultUrl),$r=`${l}_${d}`}const Si=y[$r]||ia,[Ga,Ai]=re.useState(!1);re.useEffect(()=>Ai(!1),[l,d,y]);const Mt=S=>{a(S),Fr(S?"shared":"local"),Sn(S||""),ne(null),S||(A([]),wn({}));const q=new URLSearchParams(window.location.search);S?q.set("room",S):q.delete("room"),q.set("map",l),q.set("profile",Zt);const X=`${window.location.pathname}${q.toString()?`?${q.toString()}`:""}`;window.history.replaceState({},"",X)},ji=S=>{An(S);const q=new URLSearchParams(window.location.search);i&&q.set("room",i),q.set("map",l),S==="list"?q.set("view","list"):q.delete("view"),q.set("profile",Zt);const X=`${window.location.pathname}${q.toString()?`?${q.toString()}`:""}`;window.history.replaceState({},"",X)},fr=async(S,q)=>{const le={...bi[S]||{},...q,updatedAt:Date.now(),updatedBy:r?.uid||"local",updatedByName:mn||""};if(xt==="shared"){if(!Wt||!i||!r||!xn)return;const ue=`${i}_mapmeta`;try{await Hl(As(xn,"artifacts",Ji,"public","data",ue,S),le).catch(async Me=>{if(Me.code==="not-found"||String(Me).includes("No document"))await sN(As(xn,"artifacts",Ji,"public","data",ue,S),le);else throw Me}),wn(Me=>({...Me,[S]:le}))}catch(Me){console.error("Map meta update failed",Me)}}else Hn(ue=>({...ue,[S]:le}))},ra=()=>{const S=i||hm();i||Mt(S);const q=`${window.location.origin}${window.location.pathname}?room=${S}`;navigator.clipboard.writeText(q).then(()=>{Hr(!0),setTimeout(()=>Hr(!1),2e3)}).catch(()=>alert("Room ID: "+S))};return _t?Kt==="list"?x.jsxs("div",{className:"min-h-screen bg-black text-gray-200 p-6",children:[x.jsxs("header",{className:"flex items-center justify-between mb-6",children:[x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx(wh,{className:"text-orange-500 w-5 h-5"}),x.jsx("h1",{className:"font-bold text-base tracking-wider text-gray-100",children:"TACTICAL - "})]}),x.jsx("button",{onClick:()=>ji("map"),className:"px-4 py-2 rounded bg-orange-600 hover:bg-orange-500 text-white text-sm font-semibold",children:""})]}),x.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-4",children:Object.values(Oi).map(S=>{const q=bi[S.id]||{};return x.jsxs("div",{className:"bg-gray-900 border border-gray-800 rounded-lg p-4 flex flex-col gap-2 shadow",children:[x.jsxs("div",{className:"flex items-center justify-between",children:[x.jsx("div",{className:"text-xs text-gray-500 uppercase",children:S.id}),x.jsx("button",{onClick:()=>{c(S.id),ji("map")},className:"text-xs px-2 py-1 rounded bg-gray-800 border border-gray-700 hover:bg-gray-700",children:""})]}),x.jsx("div",{className:"text-lg font-bold text-white",children:q.title||S.name}),x.jsx("div",{className:"text-sm text-gray-400 line-clamp-3",children:q.note||""})]},S.id)})})]}):x.jsxs("div",{className:"flex flex-col h-screen bg-black text-gray-200 overflow-hidden font-sans relative",children:[!Kc&&x.jsx("div",{className:"absolute top-2 right-2 z-50 bg-orange-500 text-black text-xs font-bold px-3 py-1 rounded shadow",children:"Firebase disabled (local demo mode)"}),x.jsx("input",{type:"file",ref:Dt,className:"hidden",accept:"image/*",onChange:Wo}),x.jsx("input",{type:"file",ref:Gn,className:"hidden",accept:"image/*",onChange:Ha}),x.jsx("input",{type:"file",ref:hr,className:"hidden",accept:"image/*",onChange:Rn}),x.jsxs("header",{className:"h-12 bg-gray-900 border-b border-gray-800 flex items-center justify-between px-4 z-30 shadow-lg shrink-0 gap-4",children:[x.jsxs("div",{className:"flex items-center gap-2 min-w-fit",children:[x.jsx(wh,{className:"text-orange-500 w-5 h-5"}),x.jsx("h1",{className:"font-bold text-base tracking-wider text-gray-100",children:"TACTICAL"})]}),x.jsxs("div",{className:"flex items-center gap-3 flex-1 justify-center min-w-0",children:[x.jsx("div",{className:"flex items-center bg-gray-800 rounded p-0.5 gap-1 overflow-x-auto scrollbar-hide",children:Object.values(Oi).map(S=>x.jsx("button",{onClick:()=>c(S.id),className:`px-3 py-1 text-xs font-bold rounded transition-colors uppercase whitespace-nowrap ${l===S.id?"bg-orange-600 text-white":"text-gray-400 hover:text-white hover:bg-gray-700"}`,children:S.name},S.id))}),x.jsx("select",{value:l,onChange:S=>c(S.target.value),className:"bg-gray-800 border border-gray-700 text-gray-200 text-xs rounded px-2 py-1",children:Object.values(Oi).map(S=>x.jsx("option",{value:S.id,children:S.name},S.id))}),x.jsx("select",{value:Zt,onChange:S=>ur(S.target.value),className:"bg-gray-800 border border-gray-700 text-gray-200 text-xs rounded px-2 py-1",children:On.map(S=>x.jsx("option",{value:S,children:S},S))}),x.jsx("input",{value:qn,onChange:S=>Li(S.target.value),placeholder:"",className:"w-32 bg-gray-800 border border-gray-700 text-gray-200 text-xs rounded px-2 py-1"}),x.jsx("button",{onClick:()=>{pn(qn||`${On.length+1}`),Li("")},className:"px-2 py-1 text-xs rounded bg-gray-800 border border-gray-700 text-gray-200 hover:bg-gray-700 whitespace-nowrap",children:""}),x.jsx("button",{onClick:()=>ji("list"),className:"px-3 py-1 text-xs font-medium rounded border border-gray-700 bg-gray-800 text-gray-300 hover:bg-gray-700 whitespace-nowrap",children:""}),x.jsxs("button",{onClick:()=>Bn("custom_pin"),className:`flex items-center gap-1 px-3 py-1 text-xs font-bold rounded border transition-all whitespace-nowrap ${zt==="custom_pin"?"bg-orange-600 text-white border-orange-400":"bg-gray-800 text-gray-300 border-gray-700 hover:bg-gray-700"}`,children:[x.jsx(Lo,{size:14}),"Drop Pin"]})]}),x.jsxs("div",{className:"flex items-center gap-3 min-w-fit",children:[x.jsxs("div",{className:"flex items-center gap-2 bg-gray-800 rounded px-2 py-1 border border-gray-700",children:[x.jsx("span",{className:"text-xs text-gray-400",children:""}),x.jsx("input",{type:"text",value:mn,onChange:S=>Ba(S.target.value.slice(0,24)),placeholder:"",className:"bg-transparent text-sm text-white outline-none w-28"})]}),x.jsx("button",{onClick:ra,className:"bg-blue-600 hover:bg-blue-500 text-white px-3 py-1 rounded text-xs font-medium transition-all",children:""})]})]}),yn.layers&&x.jsx("div",{className:"absolute top-14 left-1/2 -translate-x-1/2 z-30 flex gap-2 bg-black/80 backdrop-blur p-1 rounded-lg border border-gray-700",children:yn.layers.map(S=>x.jsxs("button",{onClick:()=>p(S.id),className:`flex items-center gap-2 px-3 py-1 text-xs font-bold rounded transition-all ${d===S.id?"bg-orange-500 text-white":"text-gray-400 hover:bg-gray-700"}`,children:[x.jsx(jN,{size:14}),S.name]},S.id))}),x.jsxs("div",{className:"flex-1 relative flex overflow-hidden",children:[x.jsxs("div",{className:"w-64 bg-gray-900/95 backdrop-blur border-r border-gray-800 flex flex-col z-20 shadow-xl shrink-0 overflow-hidden",children:[x.jsxs("div",{className:"p-3 border-b border-gray-800 space-y-3",children:[x.jsxs("div",{className:"relative",children:[x.jsx(WN,{className:"absolute left-2 top-1.5 text-gray-500 w-4 h-4"}),x.jsx("input",{type:"text",placeholder:"...",value:Yr,onChange:S=>Xs(S.target.value),className:"w-full bg-black/40 border border-gray-700 rounded pl-8 pr-2 py-1 text-sm text-gray-300 focus:outline-none focus:border-orange-500"})]}),x.jsx("div",{className:"flex gap-2",children:x.jsxs("div",{className:"flex-1 flex items-center gap-2",children:[x.jsxs("select",{value:Ui,onChange:S=>{const q=S.target.value;Fr(q),q==="local"&&Mt(null)},className:"w-24 bg-gray-800 border border-gray-700 text-gray-200 text-xs rounded px-2 py-1",children:[x.jsx("option",{value:"local",children:""}),x.jsx("option",{value:"shared",children:""})]}),x.jsx("input",{value:Gr,onChange:S=>Sn(S.target.value.toUpperCase()),placeholder:"ROOM ID",disabled:Ui==="local",className:"flex-1 bg-gray-900 border border-gray-700 rounded px-2 py-1 text-xs text-gray-200 disabled:opacity-50"}),x.jsx("button",{onClick:()=>{if(Ui==="local")return Mt(null);const S=Gr.trim()||hm();Mt(S)},className:"px-2 py-1 text-xs bg-gray-800 border border-gray-700 text-gray-200 rounded hover:bg-gray-700 disabled:opacity-50",disabled:Ui==="local",children:"/"})]})}),x.jsxs("div",{className:"flex gap-2 mt-2",children:[x.jsxs("div",{className:"flex flex-col gap-1 flex-1",children:[x.jsx("label",{className:"text-[10px] text-gray-400",children:""}),x.jsx("input",{value:gn.title||Oi[l]?.name||"",onChange:S=>fr(l,{title:S.target.value}),className:"w-full bg-gray-800 border border-gray-700 rounded px-2 py-1 text-xs text-gray-200",placeholder:""})]}),x.jsxs("div",{className:"flex flex-col gap-1 flex-1",children:[x.jsx("label",{className:"text-[10px] text-gray-400",children:""}),x.jsx("input",{value:gn.note||"",onChange:S=>fr(l,{note:S.target.value}),className:"w-full bg-gray-800 border border-gray-700 rounded px-2 py-1 text-xs text-gray-200",placeholder:""})]})]}),x.jsxs("div",{className:"flex gap-2",children:[x.jsxs("button",{onClick:()=>Bn("move"),className:`flex-1 py-1.5 rounded flex items-center justify-center gap-2 text-xs font-bold transition-colors border ${zt==="move"?"bg-gray-700 text-white border-gray-500":"bg-gray-800 text-gray-400 border-gray-700 hover:bg-gray-700"}`,children:[x.jsx(HN,{size:14}),""]}),x.jsx("button",{onClick:Js,className:"px-3 py-1.5 rounded bg-gray-800 text-gray-400 border border-gray-700 hover:text-white hover:border-gray-500",children:x.jsx(gT,{size:14})})]}),x.jsxs("div",{className:"flex gap-2",children:[x.jsx("button",{onClick:na,className:"flex-1 py-1.5 rounded bg-gray-800 text-gray-300 border border-gray-700 hover:bg-gray-700 text-xs font-bold",children:""}),x.jsx("button",{onClick:$e,className:"flex-1 py-1.5 rounded bg-gray-800 text-gray-300 border border-gray-700 hover:bg-gray-700 text-xs font-bold",children:""})]})]}),x.jsx("div",{className:"flex-1 overflow-y-auto p-2 space-y-1 scrollbar-thin scrollbar-thumb-gray-700",children:Object.entries(Ia).map(([S,q])=>x.jsxs("div",{className:"rounded overflow-hidden",children:[x.jsxs("div",{className:"w-full flex items-center justify-between px-2 py-1.5 bg-gray-800/50 text-xs font-bold text-gray-300",children:[x.jsxs("button",{onClick:()=>zi(S),className:"flex items-center gap-2 flex-1 text-left hover:text-white",children:[x.jsx("span",{children:q.label}),qa[S]?x.jsx(SN,{size:14}):x.jsx(wN,{size:14})]}),x.jsx("button",{onClick:()=>Mn(S),className:"p-1 rounded hover:bg-gray-700 text-gray-300 hover:text-white",title:"",children:x.jsx(QN,{size:14})})]}),qa[S]&&x.jsx("div",{className:"bg-black/20 p-1 space-y-0.5",children:Object.values(rn).filter(X=>X.cat===S).filter(X=>X.label.includes(Yr)).map(X=>{const le=X.icon,ue=zt===X.id,Me=Oe[X.id],rt=Fn[X.id]||0,et=$s(X.id);return x.jsxs("div",{role:"button",tabIndex:0,onClick:()=>Bn(X.id),onKeyDown:wt=>{(wt.key==="Enter"||wt.key===" ")&&(wt.preventDefault(),Bn(X.id))},className:`w-full flex items-center gap-3 px-2 py-1.5 rounded text-xs transition-all cursor-pointer ${ue?"bg-gray-700 text-white ring-1 ring-inset ring-gray-500":"text-gray-400 hover:bg-gray-800 hover:text-gray-200"}`,children:[Me?x.jsx("img",{src:Me,alt:`${X.label} icon`,className:"w-5 h-5 rounded-full object-cover border border-gray-600/60"}):x.jsx(le,{size:16,color:q.color}),x.jsx("span",{className:"flex-1 text-left truncate",children:X.label}),x.jsx("span",{className:"text-[11px] text-gray-400",children:rt}),x.jsxs("div",{className:"flex items-center gap-1 ml-1",children:[x.jsx("button",{onClick:wt=>{wt.stopPropagation(),si(X.id)},className:"p-1 rounded bg-gray-800 hover:bg-gray-700 text-gray-300 border border-gray-700",title:"",children:x.jsx(Pm,{size:12})}),x.jsx("button",{onClick:wt=>{wt.stopPropagation(),_e(wi=>({...wi,[X.id]:!et}))},className:`p-1 rounded border ${et?"bg-gray-800 text-gray-300 border-gray-700 hover:bg-gray-700":"bg-gray-900 text-gray-500 border-gray-800 hover:text-gray-300"}`,title:et?"":"",children:x.jsx(DN,{size:12})})]})]},X.id)})})]},S))}),x.jsxs("div",{className:"p-2 border-t border-gray-800 text-[10px] text-gray-600 text-center",children:["Room: ",i||""]})]}),x.jsxs("div",{ref:vt,className:"flex-1 relative overflow-hidden bg-black cursor-crosshair",onMouseDown:Zs,onMouseMove:li,onMouseUp:Qn,onMouseLeave:Qn,children:[x.jsxs("div",{ref:Dn,className:"absolute origin-top-left will-change-transform",style:{transform:`translate(${It.x}px, ${It.y}px) scale(${It.scale})`,width:yn.width,height:yn.height,transition:Qs?"none":"transform 0.1s ease-out"},onClick:Ws,children:[!Ga&&Si?x.jsx("img",{src:Si,alt:yn.name,className:"w-full h-full object-fill pointer-events-none select-none",draggable:!1,onError:()=>Ai(!0)}):x.jsx(Ax,{config:yn,onUpload:Js}),jt.map(S=>{const q=rn[S.type]||Gv,X=Ia[q.cat]||Ia.others,le=q.icon,ue=S.id===ee,Me=te.includes(S.id),rt=S.iconUrl||Oe[S.type],wt=Math.max(.3,qr),wi=ee&&!ue?.4:1,Jr=ue?50:10;return x.jsx("div",{className:"absolute -translate-x-1/2 -translate-y-1/2 cursor-pointer transition-all duration-200",style:{left:S.x,top:S.y,transform:`scale(${wt})`,opacity:wi,zIndex:Jr},onClick:Bi=>ea(Bi,S.id),children:x.jsxs("div",{className:"relative flex flex-col items-center group",children:[x.jsxs("div",{className:`drop-shadow-md filter transition-all ${ue?"drop-shadow-[0_0_10px_rgba(255,255,255,0.8)]":""}`,children:[x.jsx("div",{className:"absolute inset-[-6px] rounded-full border-2 border-orange-500 opacity-80 pointer-events-none"}),Me&&x.jsx(UN,{size:16,color:"#f87171",fill:"#f87171",className:"absolute -top-2 -right-2 drop-shadow-md pointer-events-none"}),rt?x.jsx("img",{src:rt,alt:"Custom pin",className:"w-8 h-8 rounded-full border border-black/40 object-cover"}):x.jsx(le,{size:24,fill:X.color,color:"#000000",strokeWidth:1.5,className:ue?"text-white":""})]}),!ue&&x.jsx("div",{className:"absolute top-full mt-1 opacity-0 group-hover:opacity-100 bg-black/80 text-white text-[10px] px-2 py-1 rounded whitespace-nowrap pointer-events-none border border-white/20 z-50",children:q.label})]})},S.id)})]}),ee&&(()=>{const S=ii.find(X=>X.id===ee);if(!S)return null;const q=rn[S.type]||Gv;return x.jsx(wx,{pin:S,markerDef:q,onClose:()=>ne(null),onUpdateImage:Fa,onUpdateIcon:Xr,onUpdateNote:Cn,onMark:X=>{de(le=>le.includes(X)?le.filter(ue=>ue!==X):[...le,X]),ne(X)},onDelete:ta})})(),!1]})]}),x.jsxs("div",{className:"absolute bottom-4 right-4 flex items-end gap-3 z-10 pointer-events-none",children:[x.jsxs("div",{className:"flex items-center gap-3 bg-black/30 backdrop-blur-sm rounded-full px-4 py-2 border border-gray-700/50 shadow pointer-events-auto",children:[x.jsx(JN,{size:16,className:"text-gray-400"}),x.jsx("input",{type:"range",min:"0.5",max:"3",step:"0.1",value:qr,onChange:S=>St(parseFloat(S.target.value)),className:"w-28 h-1 bg-gray-600 rounded-lg appearance-none cursor-pointer accent-blue-500"})]}),x.jsxs("div",{className:"flex flex-col items-center gap-3 pointer-events-auto",children:[x.jsx("div",{className:"relative h-40 w-12 flex items-center justify-center bg-black/30 backdrop-blur-sm rounded-full border border-gray-700/50 shadow",children:x.jsx("div",{className:"-rotate-90 w-28",children:x.jsx("input",{type:"range",min:"0.2",max:"5",step:"0.1",value:It.scale,onChange:S=>Et(parseFloat(S.target.value)),className:"w-full h-1 bg-gray-600 rounded-lg appearance-none cursor-pointer accent-orange-500"})})}),x.jsx("button",{onClick:()=>ti(!0),className:"bg-gray-800 hover:bg-gray-700 text-gray-200 p-2 rounded-full shadow-lg border border-gray-700",title:"",children:x.jsx(tx,{size:18})})]})]}),Ks&&x.jsx("div",{className:"absolute top-20 left-1/2 -translate-x-1/2 bg-green-600 text-white px-4 py-2 rounded shadow-xl z-50 animate-bounce pointer-events-none",children:""}),Nt&&x.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/70 backdrop-blur-sm p-4",children:x.jsxs("div",{className:"bg-gray-900 rounded-xl border border-gray-700 w-full max-w-md p-5 space-y-4 shadow-2xl",children:[x.jsxs("div",{className:"flex items-center justify-between",children:[x.jsx("h3",{className:"text-lg font-bold text-white",children:""}),x.jsx("button",{onClick:()=>ti(!1),className:"text-gray-400 hover:text-white",children:x.jsx(zm,{size:18})})]}),x.jsxs("div",{className:"flex justify-end gap-2",children:[x.jsxs("div",{className:"flex-1 space-y-2 text-sm text-gray-300",children:[x.jsx("div",{className:"text-xs text-gray-400",children:""}),x.jsx("select",{value:He,onChange:S=>O(S.target.value),className:"w-full bg-gray-800 border border-gray-700 rounded px-2 py-1 text-sm text-white",children:Object.values(rn).map(S=>x.jsx("option",{value:S.id,children:S.label},S.id))})]}),x.jsxs("div",{className:"flex items-end gap-2",children:[x.jsx("button",{onClick:()=>ai(He),disabled:!He||$,className:"px-3 py-2 text-xs font-semibold rounded bg-gray-800 text-gray-200 border border-gray-700 hover:bg-gray-700 shadow disabled:opacity-50 disabled:cursor-not-allowed",children:""}),x.jsx("button",{onClick:()=>ti(!1),className:"px-3 py-2 text-xs font-semibold rounded bg-orange-600 hover:bg-orange-500 text-white",children:""})]})]})]})}),k&&x.jsx("div",{className:"absolute inset-0 bg-black/60 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:x.jsxs("div",{className:"bg-gray-900 rounded-xl border border-gray-700 w-full max-w-md p-4 space-y-4 shadow-2xl",children:[x.jsxs("div",{className:"flex items-center justify-between",children:[x.jsx("h3",{className:"text-lg font-bold text-white",children:""}),x.jsx("button",{onClick:()=>D(!1),className:"text-gray-400 hover:text-white",children:x.jsx(zm,{size:18})})]}),x.jsxs("div",{className:"text-xs text-gray-400",children:[": ",L&&Ia[L]?.label]}),x.jsx("input",{value:it,onChange:S=>bt(S.target.value),placeholder:"",className:"w-full bg-gray-800 border border-gray-700 rounded px-3 py-2 text-sm text-white focus:border-orange-500 outline-none"}),x.jsxs("div",{children:[x.jsx("div",{className:"text-xs text-gray-400 mb-2",children:""}),x.jsx("div",{className:"grid grid-cols-5 gap-2 mb-3",children:ri.map(S=>x.jsx("button",{onClick:()=>se(S.dataUrl),className:`h-12 rounded-lg border ${G===S.dataUrl?"border-orange-500 ring-1 ring-orange-400":"border-gray-700"} bg-gray-800 flex items-center justify-center hover:border-gray-500`,children:x.jsx("img",{src:S.dataUrl,alt:S.label,className:"w-8 h-8 rounded"})},S.id))}),x.jsxs("div",{className:"flex items-center gap-3",children:[x.jsx("div",{className:"w-12 h-12 rounded-full border border-gray-700 bg-gray-800 flex items-center justify-center overflow-hidden",children:G?x.jsx("img",{src:G,alt:"",className:"w-full h-full object-cover"}):x.jsx(Lo,{size:20,className:"text-gray-500"})}),x.jsxs("button",{onClick:()=>hr.current?.click(),className:"px-3 py-2 text-xs font-semibold rounded border border-gray-700 bg-gray-800 text-gray-200 hover:bg-gray-700 flex items-center gap-2",children:[x.jsx(Rh,{size:14}),""]})]})]}),x.jsxs("div",{className:"flex justify-end gap-2 pt-2",children:[x.jsx("button",{onClick:()=>D(!1),className:"px-3 py-2 text-xs rounded border border-gray-700 text-gray-300 hover:bg-gray-800",children:""}),x.jsx("button",{onClick:oi,className:"px-3 py-2 text-xs rounded bg-orange-600 hover:bg-orange-500 text-white font-bold",children:""})]})]})})]}):x.jsx("div",{className:"min-h-screen bg-gradient-to-b from-slate-900 via-slate-950 to-slate-900 text-gray-100 flex items-center justify-center p-6",children:x.jsxs("div",{className:"max-w-5xl w-full space-y-8 text-center",children:[x.jsxs("div",{children:[x.jsx("div",{className:"text-3xl font-extrabold text-indigo-300 mb-2",children:""}),x.jsx("div",{className:"text-sm text-gray-400",children:""})]}),x.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[x.jsxs("button",{onClick:()=>{Mt(null),Qr(!0),ji("map")},className:"p-6 rounded-2xl bg-slate-900 border border-slate-700 hover:border-indigo-500 transition shadow-lg flex flex-col items-center gap-3",children:[x.jsx("div",{className:"p-4 rounded-full bg-indigo-600/20 text-indigo-300",children:x.jsx(pT,{size:32})}),x.jsx("div",{className:"text-xl font-bold",children:""}),x.jsx("div",{className:"text-sm text-gray-400 leading-relaxed",children:""}),x.jsxs("div",{className:"text-xs text-gray-500 flex items-center gap-2 mt-2",children:[x.jsx("span",{className:"h-2 w-2 rounded-full bg-green-400"})," "]})]}),x.jsxs("button",{onClick:()=>{const S=Gr.trim()||i||hm();Mt(S),Qr(!0),ji("map")},className:"p-6 rounded-2xl bg-slate-900 border border-slate-700 hover:border-purple-500 transition shadow-lg flex flex-col items-center gap-3",children:[x.jsx("div",{className:"p-4 rounded-full bg-purple-600/20 text-purple-300",children:x.jsx(gx,{size:32})}),x.jsx("div",{className:"text-xl font-bold",children:""}),x.jsx("div",{className:"text-sm text-gray-400 leading-relaxed",children:""}),x.jsxs("div",{className:"text-xs text-gray-500 flex items-center gap-2 mt-2",children:[x.jsx("span",{className:"h-2 w-2 rounded-full bg-blue-400"})," "]})]})]})]})})}rS.createRoot(document.getElementById("root")).render(x.jsx($b.StrictMode,{children:x.jsx(Rx,{})}));
