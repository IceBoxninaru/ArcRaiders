(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))a(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function i(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function a(l){if(l.ep)return;l.ep=!0;const c=i(l);fetch(l.href,c)}})();function Xv(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var Hd={exports:{}},Bl={};var Z_;function $b(){if(Z_)return Bl;Z_=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function i(a,l,c){var d=null;if(c!==void 0&&(d=""+c),l.key!==void 0&&(d=""+l.key),"key"in l){c={};for(var p in l)p!=="key"&&(c[p]=l[p])}else c=l;return l=c.ref,{$$typeof:r,type:a,key:d,ref:l!==void 0?l:null,props:c}}return Bl.Fragment=t,Bl.jsx=i,Bl.jsxs=i,Bl}var W_;function Jb(){return W_||(W_=1,Hd.exports=$b()),Hd.exports}var x=Jb(),Fd={exports:{}},Rt={};var t0;function Zb(){if(t0)return Rt;t0=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),S=Symbol.for("react.activity"),V=Symbol.iterator;function K(O){return O===null||typeof O!="object"?null:(O=V&&O[V]||O["@@iterator"],typeof O=="function"?O:null)}var tt={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},nt=Object.assign,et={};function dt(O,$,at){this.props=O,this.context=$,this.refs=et,this.updater=at||tt}dt.prototype.isReactComponent={},dt.prototype.setState=function(O,$){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,$,"setState")},dt.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function wt(){}wt.prototype=dt.prototype;function _t(O,$,at){this.props=O,this.context=$,this.refs=et,this.updater=at||tt}var Ot=_t.prototype=new wt;Ot.constructor=_t,nt(Ot,dt.prototype),Ot.isPureReactComponent=!0;var Jt=Array.isArray;function Mt(){}var N={H:null,A:null,T:null,S:null},w=Object.prototype.hasOwnProperty;function C(O,$,at){var ut=at.ref;return{$$typeof:r,type:O,key:$,ref:ut!==void 0?ut:null,props:at}}function k(O,$){return C(O.type,$,O.props)}function D(O){return typeof O=="object"&&O!==null&&O.$$typeof===r}function L(O){var $={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(at){return $[at]})}var R=/\/+/g;function se(O,$){return typeof O=="object"&&O!==null&&O.key!=null?L(""+O.key):$.toString(36)}function Ee(O){switch(O.status){case"fulfilled":return O.value;case"rejected":throw O.reason;default:switch(typeof O.status=="string"?O.then(Mt,Mt):(O.status="pending",O.then(function($){O.status==="pending"&&(O.status="fulfilled",O.value=$)},function($){O.status==="pending"&&(O.status="rejected",O.reason=$)})),O.status){case"fulfilled":return O.value;case"rejected":throw O.reason}}throw O}function G(O,$,at,ut,Tt){var Ct=typeof O;(Ct==="undefined"||Ct==="boolean")&&(O=null);var Ft=!1;if(O===null)Ft=!0;else switch(Ct){case"bigint":case"string":case"number":Ft=!0;break;case"object":switch(O.$$typeof){case r:case t:Ft=!0;break;case b:return Ft=O._init,G(Ft(O._payload),$,at,ut,Tt)}}if(Ft)return Tt=Tt(O),Ft=ut===""?"."+se(O,0):ut,Jt(Tt)?(at="",Ft!=null&&(at=Ft.replace(R,"$&/")+"/"),G(Tt,$,at,"",function(qr){return qr})):Tt!=null&&(D(Tt)&&(Tt=k(Tt,at+(Tt.key==null||O&&O.key===Tt.key?"":(""+Tt.key).replace(R,"$&/")+"/")+Ft)),$.push(Tt)),1;Ft=0;var Ue=ut===""?".":ut+":";if(Jt(O))for(var fe=0;fe<O.length;fe++)ut=O[fe],Ct=Ue+se(ut,fe),Ft+=G(ut,$,at,Ct,Tt);else if(fe=K(O),typeof fe=="function")for(O=fe.call(O),fe=0;!(ut=O.next()).done;)ut=ut.value,Ct=Ue+se(ut,fe++),Ft+=G(ut,$,at,Ct,Tt);else if(Ct==="object"){if(typeof O.then=="function")return G(Ee(O),$,at,ut,Tt);throw $=String(O),Error("Objects are not valid as a React child (found: "+($==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":$)+"). If you meant to render a collection of children, use an array instead.")}return Ft}function st(O,$,at){if(O==null)return O;var ut=[],Tt=0;return G(O,ut,"","",function(Ct){return $.call(at,Ct,Tt++)}),ut}function gt(O){if(O._status===-1){var $=O._result;$=$(),$.then(function(at){(O._status===0||O._status===-1)&&(O._status=1,O._result=at)},function(at){(O._status===0||O._status===-1)&&(O._status=2,O._result=at)}),O._status===-1&&(O._status=0,O._result=$)}if(O._status===1)return O._result.default;throw O._result}var Lt=typeof reportError=="function"?reportError:function(O){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var $=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof O=="object"&&O!==null&&typeof O.message=="string"?String(O.message):String(O),error:O});if(!window.dispatchEvent($))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",O);return}console.error(O)},Ht={map:st,forEach:function(O,$,at){st(O,function(){$.apply(this,arguments)},at)},count:function(O){var $=0;return st(O,function(){$++}),$},toArray:function(O){return st(O,function($){return $})||[]},only:function(O){if(!D(O))throw Error("React.Children.only expected to receive a single React element child.");return O}};return Rt.Activity=S,Rt.Children=Ht,Rt.Component=dt,Rt.Fragment=i,Rt.Profiler=l,Rt.PureComponent=_t,Rt.StrictMode=a,Rt.Suspense=y,Rt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=N,Rt.__COMPILER_RUNTIME={__proto__:null,c:function(O){return N.H.useMemoCache(O)}},Rt.cache=function(O){return function(){return O.apply(null,arguments)}},Rt.cacheSignal=function(){return null},Rt.cloneElement=function(O,$,at){if(O==null)throw Error("The argument must be a React element, but you passed "+O+".");var ut=nt({},O.props),Tt=O.key;if($!=null)for(Ct in $.key!==void 0&&(Tt=""+$.key),$)!w.call($,Ct)||Ct==="key"||Ct==="__self"||Ct==="__source"||Ct==="ref"&&$.ref===void 0||(ut[Ct]=$[Ct]);var Ct=arguments.length-2;if(Ct===1)ut.children=at;else if(1<Ct){for(var Ft=Array(Ct),Ue=0;Ue<Ct;Ue++)Ft[Ue]=arguments[Ue+2];ut.children=Ft}return C(O.type,Tt,ut)},Rt.createContext=function(O){return O={$$typeof:d,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null},O.Provider=O,O.Consumer={$$typeof:c,_context:O},O},Rt.createElement=function(O,$,at){var ut,Tt={},Ct=null;if($!=null)for(ut in $.key!==void 0&&(Ct=""+$.key),$)w.call($,ut)&&ut!=="key"&&ut!=="__self"&&ut!=="__source"&&(Tt[ut]=$[ut]);var Ft=arguments.length-2;if(Ft===1)Tt.children=at;else if(1<Ft){for(var Ue=Array(Ft),fe=0;fe<Ft;fe++)Ue[fe]=arguments[fe+2];Tt.children=Ue}if(O&&O.defaultProps)for(ut in Ft=O.defaultProps,Ft)Tt[ut]===void 0&&(Tt[ut]=Ft[ut]);return C(O,Ct,Tt)},Rt.createRef=function(){return{current:null}},Rt.forwardRef=function(O){return{$$typeof:p,render:O}},Rt.isValidElement=D,Rt.lazy=function(O){return{$$typeof:b,_payload:{_status:-1,_result:O},_init:gt}},Rt.memo=function(O,$){return{$$typeof:_,type:O,compare:$===void 0?null:$}},Rt.startTransition=function(O){var $=N.T,at={};N.T=at;try{var ut=O(),Tt=N.S;Tt!==null&&Tt(at,ut),typeof ut=="object"&&ut!==null&&typeof ut.then=="function"&&ut.then(Mt,Lt)}catch(Ct){Lt(Ct)}finally{$!==null&&at.types!==null&&($.types=at.types),N.T=$}},Rt.unstable_useCacheRefresh=function(){return N.H.useCacheRefresh()},Rt.use=function(O){return N.H.use(O)},Rt.useActionState=function(O,$,at){return N.H.useActionState(O,$,at)},Rt.useCallback=function(O,$){return N.H.useCallback(O,$)},Rt.useContext=function(O){return N.H.useContext(O)},Rt.useDebugValue=function(){},Rt.useDeferredValue=function(O,$){return N.H.useDeferredValue(O,$)},Rt.useEffect=function(O,$){return N.H.useEffect(O,$)},Rt.useEffectEvent=function(O){return N.H.useEffectEvent(O)},Rt.useId=function(){return N.H.useId()},Rt.useImperativeHandle=function(O,$,at){return N.H.useImperativeHandle(O,$,at)},Rt.useInsertionEffect=function(O,$){return N.H.useInsertionEffect(O,$)},Rt.useLayoutEffect=function(O,$){return N.H.useLayoutEffect(O,$)},Rt.useMemo=function(O,$){return N.H.useMemo(O,$)},Rt.useOptimistic=function(O,$){return N.H.useOptimistic(O,$)},Rt.useReducer=function(O,$,at){return N.H.useReducer(O,$,at)},Rt.useRef=function(O){return N.H.useRef(O)},Rt.useState=function(O){return N.H.useState(O)},Rt.useSyncExternalStore=function(O,$,at){return N.H.useSyncExternalStore(O,$,at)},Rt.useTransition=function(){return N.H.useTransition()},Rt.version="19.2.0",Rt}var e0;function Bm(){return e0||(e0=1,Fd.exports=Zb()),Fd.exports}var rt=Bm();const Wb=Xv(rt);var Gd={exports:{}},ql={},Qd={exports:{}},Yd={};var n0;function tS(){return n0||(n0=1,(function(r){function t(G,st){var gt=G.length;G.push(st);t:for(;0<gt;){var Lt=gt-1>>>1,Ht=G[Lt];if(0<l(Ht,st))G[Lt]=st,G[gt]=Ht,gt=Lt;else break t}}function i(G){return G.length===0?null:G[0]}function a(G){if(G.length===0)return null;var st=G[0],gt=G.pop();if(gt!==st){G[0]=gt;t:for(var Lt=0,Ht=G.length,O=Ht>>>1;Lt<O;){var $=2*(Lt+1)-1,at=G[$],ut=$+1,Tt=G[ut];if(0>l(at,gt))ut<Ht&&0>l(Tt,at)?(G[Lt]=Tt,G[ut]=gt,Lt=ut):(G[Lt]=at,G[$]=gt,Lt=$);else if(ut<Ht&&0>l(Tt,gt))G[Lt]=Tt,G[ut]=gt,Lt=ut;else break t}}return st}function l(G,st){var gt=G.sortIndex-st.sortIndex;return gt!==0?gt:G.id-st.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;r.unstable_now=function(){return c.now()}}else{var d=Date,p=d.now();r.unstable_now=function(){return d.now()-p}}var y=[],_=[],b=1,S=null,V=3,K=!1,tt=!1,nt=!1,et=!1,dt=typeof setTimeout=="function"?setTimeout:null,wt=typeof clearTimeout=="function"?clearTimeout:null,_t=typeof setImmediate<"u"?setImmediate:null;function Ot(G){for(var st=i(_);st!==null;){if(st.callback===null)a(_);else if(st.startTime<=G)a(_),st.sortIndex=st.expirationTime,t(y,st);else break;st=i(_)}}function Jt(G){if(nt=!1,Ot(G),!tt)if(i(y)!==null)tt=!0,Mt||(Mt=!0,L());else{var st=i(_);st!==null&&Ee(Jt,st.startTime-G)}}var Mt=!1,N=-1,w=5,C=-1;function k(){return et?!0:!(r.unstable_now()-C<w)}function D(){if(et=!1,Mt){var G=r.unstable_now();C=G;var st=!0;try{t:{tt=!1,nt&&(nt=!1,wt(N),N=-1),K=!0;var gt=V;try{e:{for(Ot(G),S=i(y);S!==null&&!(S.expirationTime>G&&k());){var Lt=S.callback;if(typeof Lt=="function"){S.callback=null,V=S.priorityLevel;var Ht=Lt(S.expirationTime<=G);if(G=r.unstable_now(),typeof Ht=="function"){S.callback=Ht,Ot(G),st=!0;break e}S===i(y)&&a(y),Ot(G)}else a(y);S=i(y)}if(S!==null)st=!0;else{var O=i(_);O!==null&&Ee(Jt,O.startTime-G),st=!1}}break t}finally{S=null,V=gt,K=!1}st=void 0}}finally{st?L():Mt=!1}}}var L;if(typeof _t=="function")L=function(){_t(D)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,se=R.port2;R.port1.onmessage=D,L=function(){se.postMessage(null)}}else L=function(){dt(D,0)};function Ee(G,st){N=dt(function(){G(r.unstable_now())},st)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(G){G.callback=null},r.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):w=0<G?Math.floor(1e3/G):5},r.unstable_getCurrentPriorityLevel=function(){return V},r.unstable_next=function(G){switch(V){case 1:case 2:case 3:var st=3;break;default:st=V}var gt=V;V=st;try{return G()}finally{V=gt}},r.unstable_requestPaint=function(){et=!0},r.unstable_runWithPriority=function(G,st){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var gt=V;V=G;try{return st()}finally{V=gt}},r.unstable_scheduleCallback=function(G,st,gt){var Lt=r.unstable_now();switch(typeof gt=="object"&&gt!==null?(gt=gt.delay,gt=typeof gt=="number"&&0<gt?Lt+gt:Lt):gt=Lt,G){case 1:var Ht=-1;break;case 2:Ht=250;break;case 5:Ht=1073741823;break;case 4:Ht=1e4;break;default:Ht=5e3}return Ht=gt+Ht,G={id:b++,callback:st,priorityLevel:G,startTime:gt,expirationTime:Ht,sortIndex:-1},gt>Lt?(G.sortIndex=gt,t(_,G),i(y)===null&&G===i(_)&&(nt?(wt(N),N=-1):nt=!0,Ee(Jt,gt-Lt))):(G.sortIndex=Ht,t(y,G),tt||K||(tt=!0,Mt||(Mt=!0,L()))),G},r.unstable_shouldYield=k,r.unstable_wrapCallback=function(G){var st=V;return function(){var gt=V;V=st;try{return G.apply(this,arguments)}finally{V=gt}}}})(Yd)),Yd}var i0;function eS(){return i0||(i0=1,Qd.exports=tS()),Qd.exports}var Kd={exports:{}},vn={};var r0;function nS(){if(r0)return vn;r0=1;var r=Bm();function t(y){var _="https://react.dev/errors/"+y;if(1<arguments.length){_+="?args[]="+encodeURIComponent(arguments[1]);for(var b=2;b<arguments.length;b++)_+="&args[]="+encodeURIComponent(arguments[b])}return"Minified React error #"+y+"; visit "+_+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var a={d:{f:i,r:function(){throw Error(t(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},l=Symbol.for("react.portal");function c(y,_,b){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:S==null?null:""+S,children:y,containerInfo:_,implementation:b}}var d=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(y,_){if(y==="font")return"";if(typeof _=="string")return _==="use-credentials"?_:""}return vn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,vn.createPortal=function(y,_){var b=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_||_.nodeType!==1&&_.nodeType!==9&&_.nodeType!==11)throw Error(t(299));return c(y,_,null,b)},vn.flushSync=function(y){var _=d.T,b=a.p;try{if(d.T=null,a.p=2,y)return y()}finally{d.T=_,a.p=b,a.d.f()}},vn.preconnect=function(y,_){typeof y=="string"&&(_?(_=_.crossOrigin,_=typeof _=="string"?_==="use-credentials"?_:"":void 0):_=null,a.d.C(y,_))},vn.prefetchDNS=function(y){typeof y=="string"&&a.d.D(y)},vn.preinit=function(y,_){if(typeof y=="string"&&_&&typeof _.as=="string"){var b=_.as,S=p(b,_.crossOrigin),V=typeof _.integrity=="string"?_.integrity:void 0,K=typeof _.fetchPriority=="string"?_.fetchPriority:void 0;b==="style"?a.d.S(y,typeof _.precedence=="string"?_.precedence:void 0,{crossOrigin:S,integrity:V,fetchPriority:K}):b==="script"&&a.d.X(y,{crossOrigin:S,integrity:V,fetchPriority:K,nonce:typeof _.nonce=="string"?_.nonce:void 0})}},vn.preinitModule=function(y,_){if(typeof y=="string")if(typeof _=="object"&&_!==null){if(_.as==null||_.as==="script"){var b=p(_.as,_.crossOrigin);a.d.M(y,{crossOrigin:b,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0})}}else _==null&&a.d.M(y)},vn.preload=function(y,_){if(typeof y=="string"&&typeof _=="object"&&_!==null&&typeof _.as=="string"){var b=_.as,S=p(b,_.crossOrigin);a.d.L(y,b,{crossOrigin:S,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0,type:typeof _.type=="string"?_.type:void 0,fetchPriority:typeof _.fetchPriority=="string"?_.fetchPriority:void 0,referrerPolicy:typeof _.referrerPolicy=="string"?_.referrerPolicy:void 0,imageSrcSet:typeof _.imageSrcSet=="string"?_.imageSrcSet:void 0,imageSizes:typeof _.imageSizes=="string"?_.imageSizes:void 0,media:typeof _.media=="string"?_.media:void 0})}},vn.preloadModule=function(y,_){if(typeof y=="string")if(_){var b=p(_.as,_.crossOrigin);a.d.m(y,{as:typeof _.as=="string"&&_.as!=="script"?_.as:void 0,crossOrigin:b,integrity:typeof _.integrity=="string"?_.integrity:void 0})}else a.d.m(y)},vn.requestFormReset=function(y){a.d.r(y)},vn.unstable_batchedUpdates=function(y,_){return y(_)},vn.useFormState=function(y,_,b){return d.H.useFormState(y,_,b)},vn.useFormStatus=function(){return d.H.useHostTransitionStatus()},vn.version="19.2.0",vn}var s0;function iS(){if(s0)return Kd.exports;s0=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),Kd.exports=nS(),Kd.exports}var a0;function rS(){if(a0)return ql;a0=1;var r=eS(),t=Bm(),i=iS();function a(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)n+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function c(e){var n=e,s=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(s=n.return),e=n.return;while(e)}return n.tag===3?s:null}function d(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function p(e){if(e.tag===31){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function y(e){if(c(e)!==e)throw Error(a(188))}function _(e){var n=e.alternate;if(!n){if(n=c(e),n===null)throw Error(a(188));return n!==e?null:e}for(var s=e,o=n;;){var h=s.return;if(h===null)break;var f=h.alternate;if(f===null){if(o=h.return,o!==null){s=o;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===s)return y(h),e;if(f===o)return y(h),n;f=f.sibling}throw Error(a(188))}if(s.return!==o.return)s=h,o=f;else{for(var g=!1,E=h.child;E;){if(E===s){g=!0,s=h,o=f;break}if(E===o){g=!0,o=h,s=f;break}E=E.sibling}if(!g){for(E=f.child;E;){if(E===s){g=!0,s=f,o=h;break}if(E===o){g=!0,o=f,s=h;break}E=E.sibling}if(!g)throw Error(a(189))}}if(s.alternate!==o)throw Error(a(190))}if(s.tag!==3)throw Error(a(188));return s.stateNode.current===s?e:n}function b(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=b(e),n!==null)return n;e=e.sibling}return null}var S=Object.assign,V=Symbol.for("react.element"),K=Symbol.for("react.transitional.element"),tt=Symbol.for("react.portal"),nt=Symbol.for("react.fragment"),et=Symbol.for("react.strict_mode"),dt=Symbol.for("react.profiler"),wt=Symbol.for("react.consumer"),_t=Symbol.for("react.context"),Ot=Symbol.for("react.forward_ref"),Jt=Symbol.for("react.suspense"),Mt=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),k=Symbol.for("react.memo_cache_sentinel"),D=Symbol.iterator;function L(e){return e===null||typeof e!="object"?null:(e=D&&e[D]||e["@@iterator"],typeof e=="function"?e:null)}var R=Symbol.for("react.client.reference");function se(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===R?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case nt:return"Fragment";case dt:return"Profiler";case et:return"StrictMode";case Jt:return"Suspense";case Mt:return"SuspenseList";case C:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case tt:return"Portal";case _t:return e.displayName||"Context";case wt:return(e._context.displayName||"Context")+".Consumer";case Ot:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case N:return n=e.displayName||null,n!==null?n:se(e.type)||"Memo";case w:n=e._payload,e=e._init;try{return se(e(n))}catch{}}return null}var Ee=Array.isArray,G=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,st=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,gt={pending:!1,data:null,method:null,action:null},Lt=[],Ht=-1;function O(e){return{current:e}}function $(e){0>Ht||(e.current=Lt[Ht],Lt[Ht]=null,Ht--)}function at(e,n){Ht++,Lt[Ht]=e.current,e.current=n}var ut=O(null),Tt=O(null),Ct=O(null),Ft=O(null);function Ue(e,n){switch(at(Ct,n),at(Tt,e),at(ut,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?T_(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=T_(n),e=b_(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}$(ut),at(ut,e)}function fe(){$(ut),$(Tt),$(Ct)}function qr(e){e.memoizedState!==null&&at(Ft,e);var n=ut.current,s=b_(n,e.type);n!==s&&(at(Tt,e),at(ut,s))}function Fs(e){Tt.current===e&&($(ut),$(Tt)),Ft.current===e&&($(Ft),Ll._currentValue=gt)}var Gs,Qs;function Le(e){if(Gs===void 0)try{throw Error()}catch(s){var n=s.stack.trim().match(/\n( *(at )?)/);Gs=n&&n[1]||"",Qs=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Gs+e+Qs}var qn=!1;function Ie(e,n){if(!e||qn)return"";qn=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(n){var J=function(){throw Error()};if(Object.defineProperty(J.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(J,[])}catch(F){var B=F}Reflect.construct(e,[],J)}else{try{J.call()}catch(F){B=F}e.call(J.prototype)}}else{try{throw Error()}catch(F){B=F}(J=e())&&typeof J.catch=="function"&&J.catch(function(){})}}catch(F){if(F&&B&&typeof F.stack=="string")return[F.stack,B.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=o.DetermineComponentFrameRoot(),g=f[0],E=f[1];if(g&&E){var I=g.split(`
`),j=E.split(`
`);for(h=o=0;o<I.length&&!I[o].includes("DetermineComponentFrameRoot");)o++;for(;h<j.length&&!j[h].includes("DetermineComponentFrameRoot");)h++;if(o===I.length||h===j.length)for(o=I.length-1,h=j.length-1;1<=o&&0<=h&&I[o]!==j[h];)h--;for(;1<=o&&0<=h;o--,h--)if(I[o]!==j[h]){if(o!==1||h!==1)do if(o--,h--,0>h||I[o]!==j[h]){var Y=`
`+I[o].replace(" at new "," at ");return e.displayName&&Y.includes("<anonymous>")&&(Y=Y.replace("<anonymous>",e.displayName)),Y}while(1<=o&&0<=h);break}}}finally{qn=!1,Error.prepareStackTrace=s}return(s=e?e.displayName||e.name:"")?Le(s):""}function ar(e,n){switch(e.tag){case 26:case 27:case 5:return Le(e.type);case 16:return Le("Lazy");case 13:return e.child!==n&&n!==null?Le("Suspense Fallback"):Le("Suspense");case 19:return Le("SuspenseList");case 0:case 15:return Ie(e.type,!1);case 11:return Ie(e.type.render,!1);case 1:return Ie(e.type,!0);case 31:return Le("Activity");default:return""}}function Hr(e){try{var n="",s=null;do n+=ar(e,s),s=e,e=e.return;while(e);return n}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var Te=Object.prototype.hasOwnProperty,Ce=r.unstable_scheduleCallback,ei=r.unstable_cancelCallback,Ys=r.unstable_shouldYield,Ks=r.unstable_requestPaint,$e=r.unstable_now,or=r.unstable_getCurrentPriorityLevel,Xs=r.unstable_ImmediatePriority,Fr=r.unstable_UserBlockingPriority,mn=r.unstable_NormalPriority,Ba=r.unstable_LowPriority,ki=r.unstable_IdlePriority,Gr=r.log,Qr=r.unstable_setDisableYieldValue,An=null,Qe=null;function gn(e){if(typeof Gr=="function"&&Qr(e),Qe&&typeof Qe.setStrictMode=="function")try{Qe.setStrictMode(An,e)}catch{}}var Yt=Math.clz32?Math.clz32:$s,bi=Math.log,lr=Math.LN2;function $s(e){return e>>>=0,e===0?32:31-(bi(e)/lr|0)|0}var xn=256,Ui=262144,be=4194304;function Dn(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Zt(e,n,s){var o=e.pendingLanes;if(o===0)return 0;var h=0,f=e.suspendedLanes,g=e.pingedLanes;e=e.warmLanes;var E=o&134217727;return E!==0?(o=E&~f,o!==0?h=Dn(o):(g&=E,g!==0?h=Dn(g):s||(s=E&~e,s!==0&&(h=Dn(s))))):(E=o&~f,E!==0?h=Dn(E):g!==0?h=Dn(g):s||(s=o&~e,s!==0&&(h=Dn(s)))),h===0?0:n!==0&&n!==h&&(n&f)===0&&(f=h&-h,s=n&-n,f>=s||f===32&&(s&4194048)!==0)?n:h}function Ye(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function Li(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function wn(){var e=be;return be<<=1,(be&62914560)===0&&(be=4194304),e}function Hn(e){for(var n=[],s=0;31>s;s++)n.push(e);return n}function ur(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function qa(e,n,s,o,h,f){var g=e.pendingLanes;e.pendingLanes=s,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=s,e.entangledLanes&=s,e.errorRecoveryDisabledLanes&=s,e.shellSuspendCounter=0;var E=e.entanglements,I=e.expirationTimes,j=e.hiddenUpdates;for(s=g&~s;0<s;){var Y=31-Yt(s),J=1<<Y;E[Y]=0,I[Y]=-1;var B=j[Y];if(B!==null)for(j[Y]=null,Y=0;Y<B.length;Y++){var F=B[Y];F!==null&&(F.lane&=-536870913)}s&=~J}o!==0&&cr(e,o,0),f!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=f&~(g&~n))}function cr(e,n,s){e.pendingLanes|=n,e.suspendedLanes&=~n;var o=31-Yt(n);e.entangledLanes|=n,e.entanglements[o]=e.entanglements[o]|1073741824|s&261930}function Rn(e,n){var s=e.entangledLanes|=n;for(e=e.entanglements;s;){var o=31-Yt(s),h=1<<o;h&n|e[o]&n&&(e[o]|=n),s&=~h}}function Yr(e,n){var s=n&-n;return s=(s&42)!==0?1:Pi(s),(s&(e.suspendedLanes|n))!==0?0:s}function Pi(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Si(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Js(){var e=st.p;return e!==0?e:(e=window.event,e===void 0?32:G_(e.type))}function Mn(e,n){var s=st.p;try{return st.p=e,n()}finally{st.p=s}}var On=Math.random().toString(36).slice(2),_e="__reactFiber$"+On,Ne="__reactProps$"+On,ni="__reactContainer$"+On,hr="__reactEvents$"+On,Wo="__reactListeners$"+On,Ha="__reactHandles$"+On,Kr="__reactResources$"+On,ii="__reactMarker$"+On;function Xr(e){delete e[_e],delete e[Ne],delete e[hr],delete e[Wo],delete e[Ha]}function ri(e){var n=e[_e];if(n)return n;for(var s=e.parentNode;s;){if(n=s[ni]||s[_e]){if(s=n.alternate,n.child!==null||s!==null&&s.child!==null)for(e=N_(e);e!==null;){if(s=e[_e])return s;e=N_(e)}return n}e=s,s=e.parentNode}return null}function Vn(e){if(e=e[_e]||e[ni]){var n=e.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return e}return null}function pn(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(a(33))}function Fn(e){var n=e[Kr];return n||(n=e[Kr]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Se(e){e[ii]=!0}var Zs=new Set,$r={};function si(e,n){ai(e,n),ai(e+"Capture",n)}function ai(e,n){for($r[e]=n,e=0;e<n.length;e++)Zs.add(n[e])}var Ws=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ta={},ea={};function Fa(e){return Te.call(ea,e)?!0:Te.call(ta,e)?!1:Ws.test(e)?ea[e]=!0:(ta[e]=!0,!1)}function Jr(e,n,s){if(Fa(n))if(s===null)e.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var o=n.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+s)}}function In(e,n,s){if(s===null)e.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+s)}}function Ae(e,n,s,o){if(o===null)e.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(s);return}e.setAttributeNS(n,s,""+o)}}function Pe(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function zi(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Zr(e,n,s){var o=Object.getOwnPropertyDescriptor(e.constructor.prototype,n);if(!e.hasOwnProperty(n)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var h=o.get,f=o.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return h.call(this)},set:function(g){s=""+g,f.call(this,g)}}),Object.defineProperty(e,n,{enumerable:o.enumerable}),{getValue:function(){return s},setValue:function(g){s=""+g},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function Gt(e){if(!e._valueTracker){var n=zi(e)?"checked":"value";e._valueTracker=Zr(e,n,""+e[n])}}function We(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var s=n.getValue(),o="";return e&&(o=zi(e)?e.checked?"true":"false":e.value),e=o,e!==s?(n.setValue(e),!0):!1}function Gn(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var tn=/[\n"\\]/g;function en(e){return e.replace(tn,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function fr(e,n,s,o,h,f,g,E){e.name="",g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"?e.type=g:e.removeAttribute("type"),n!=null?g==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+Pe(n)):e.value!==""+Pe(n)&&(e.value=""+Pe(n)):g!=="submit"&&g!=="reset"||e.removeAttribute("value"),n!=null?ia(e,g,Pe(n)):s!=null?ia(e,g,Pe(s)):o!=null&&e.removeAttribute("value"),h==null&&f!=null&&(e.defaultChecked=!!f),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?e.name=""+Pe(E):e.removeAttribute("name")}function na(e,n,s,o,h,f,g,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.type=f),n!=null||s!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){Gt(e);return}s=s!=null?""+Pe(s):"",n=n!=null?""+Pe(n):s,E||n===e.value||(e.value=n),e.defaultValue=n}o=o??h,o=typeof o!="function"&&typeof o!="symbol"&&!!o,e.checked=E?e.checked:!!o,e.defaultChecked=!!o,g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(e.name=g),Gt(e)}function ia(e,n,s){n==="number"&&Gn(e.ownerDocument)===e||e.defaultValue===""+s||(e.defaultValue=""+s)}function Ai(e,n,s,o){if(e=e.options,n){n={};for(var h=0;h<s.length;h++)n["$"+s[h]]=!0;for(s=0;s<e.length;s++)h=n.hasOwnProperty("$"+e[s].value),e[s].selected!==h&&(e[s].selected=h),h&&o&&(e[s].defaultSelected=!0)}else{for(s=""+Pe(s),n=null,h=0;h<e.length;h++){if(e[h].value===s){e[h].selected=!0,o&&(e[h].defaultSelected=!0);return}n!==null||e[h].disabled||(n=e[h])}n!==null&&(n.selected=!0)}}function wi(e,n,s){if(n!=null&&(n=""+Pe(n),n!==e.value&&(e.value=n),s==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=s!=null?""+Pe(s):""}function Qn(e,n,s,o){if(n==null){if(o!=null){if(s!=null)throw Error(a(92));if(Ee(o)){if(1<o.length)throw Error(a(93));o=o[0]}s=o}s==null&&(s=""),n=s}s=Pe(n),e.defaultValue=s,o=e.textContent,o===s&&o!==""&&o!==null&&(e.value=o),Gt(e)}function yn(e,n){if(n){var s=e.firstChild;if(s&&s===e.lastChild&&s.nodeType===3){s.nodeValue=n;return}}e.textContent=n}var A=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function q(e,n,s){var o=n.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?o?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":o?e.setProperty(n,s):typeof s!="number"||s===0||A.has(n)?n==="float"?e.cssFloat=s:e[n]=(""+s).trim():e[n]=s+"px"}function Q(e,n,s){if(n!=null&&typeof n!="object")throw Error(a(62));if(e=e.style,s!=null){for(var o in s)!s.hasOwnProperty(o)||n!=null&&n.hasOwnProperty(o)||(o.indexOf("--")===0?e.setProperty(o,""):o==="float"?e.cssFloat="":e[o]="");for(var h in n)o=n[h],n.hasOwnProperty(h)&&s[h]!==o&&q(e,h,o)}else for(var f in n)n.hasOwnProperty(f)&&q(e,f,n[f])}function ot(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var lt=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),St=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ee(e){return St.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function xe(){}var nn=null;function _n(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var ji=null,oi=null;function ra(e){var n=Vn(e);if(n&&(e=n.stateNode)){var s=e[Ne]||null;t:switch(e=n.stateNode,n.type){case"input":if(fr(e,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),n=s.name,s.type==="radio"&&n!=null){for(s=e;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+en(""+n)+'"][type="radio"]'),n=0;n<s.length;n++){var o=s[n];if(o!==e&&o.form===e.form){var h=o[Ne]||null;if(!h)throw Error(a(90));fr(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<s.length;n++)o=s[n],o.form===e.form&&We(o)}break t;case"textarea":wi(e,s.value,s.defaultValue);break t;case"select":n=s.value,n!=null&&Ai(e,!!s.multiple,n,!1)}}}var Ga=!1;function Wr(e,n,s){if(Ga)return e(n,s);Ga=!0;try{var o=e(n);return o}finally{if(Ga=!1,(ji!==null||oi!==null)&&(_c(),ji&&(n=ji,e=oi,oi=ji=null,ra(n),e)))for(n=0;n<e.length;n++)ra(e[n])}}function Ri(e,n){var s=e.stateNode;if(s===null)return null;var o=s[Ne]||null;if(o===null)return null;s=o[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break t;default:e=!1}if(e)return null;if(s&&typeof s!="function")throw Error(a(231,n,typeof s));return s}var li=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),sa=!1;if(li)try{var ae={};Object.defineProperty(ae,"passive",{get:function(){sa=!0}}),window.addEventListener("test",ae,ae),window.removeEventListener("test",ae,ae)}catch{sa=!1}var Bi=null,tl=null,aa=null;function el(){if(aa)return aa;var e,n=tl,s=n.length,o,h="value"in Bi?Bi.value:Bi.textContent,f=h.length;for(e=0;e<s&&n[e]===h[e];e++);var g=s-e;for(o=1;o<=g&&n[s-o]===h[f-o];o++);return aa=h.slice(e,1<o?1-o:void 0)}function oa(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function dr(){return!0}function Ii(){return!1}function rn(e){function n(s,o,h,f,g){this._reactName=s,this._targetInst=h,this.type=o,this.nativeEvent=f,this.target=g,this.currentTarget=null;for(var E in e)e.hasOwnProperty(E)&&(s=e[E],this[E]=s?s(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?dr:Ii,this.isPropagationStopped=Ii,this}return S(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=dr)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=dr)},persist:function(){},isPersistent:dr}),n}var mr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},qi=rn(mr),ts=S({},mr,{view:0,detail:0}),nl=rn(ts),es,Qa,Hi,Ya=S({},ts,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ns,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Hi&&(Hi&&e.type==="mousemove"?(es=e.screenX-Hi.screenX,Qa=e.screenY-Hi.screenY):Qa=es=0,Hi=e),es)},movementY:function(e){return"movementY"in e?e.movementY:Qa}}),il=rn(Ya),la=S({},Ya,{dataTransfer:0}),Ru=rn(la),Iu=S({},ts,{relatedTarget:0}),ua=rn(Iu),rl=S({},mr,{animationName:0,elapsedTime:0,pseudoElement:0}),Cu=rn(rl),Ka=S({},mr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Nu=rn(Ka),xu=S({},mr,{data:0}),Fi=rn(xu),Du={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Mu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ou={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Vu(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=Ou[e])?!!n[e]:!1}function ns(){return Vu}var Cn=S({},ts,{key:function(e){if(e.key){var n=Du[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=oa(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Mu[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ns,charCode:function(e){return e.type==="keypress"?oa(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?oa(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),ku=rn(Cn),Uu=S({},Ya,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),gr=rn(Uu),u=S({},ts,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ns}),m=rn(u),v=S({},mr,{propertyName:0,elapsedTime:0,pseudoElement:0}),T=rn(v),P=S({},Ya,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),H=rn(P),it=S({},mr,{newState:0,oldState:0}),Nt=rn(it),De=[9,13,27,32],Wt=li&&"CompositionEvent"in window,pe=null;li&&"documentMode"in document&&(pe=document.documentMode);var ui=li&&"TextEvent"in window&&!pe,Gi=li&&(!Wt||pe&&8<pe&&11>=pe),Ci=" ",Ni=!1;function ca(e,n){switch(e){case"keyup":return De.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Xa(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var $a=!1;function ET(e,n){switch(e){case"compositionend":return Xa(n);case"keypress":return n.which!==32?null:(Ni=!0,Ci);case"textInput":return e=n.data,e===Ci&&Ni?null:e;default:return null}}function TT(e,n){if($a)return e==="compositionend"||!Wt&&ca(e,n)?(e=el(),aa=tl=Bi=null,$a=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return Gi&&n.locale!=="ko"?null:n.data;default:return null}}var bT={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Mg(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!bT[e.type]:n==="textarea"}function Og(e,n,s,o){ji?oi?oi.push(o):oi=[o]:ji=o,n=wc(n,"onChange"),0<n.length&&(s=new qi("onChange","change",null,s,o),e.push({event:s,listeners:n}))}var sl=null,al=null;function ST(e){g_(e,0)}function Lu(e){var n=pn(e);if(We(n))return e}function Vg(e,n){if(e==="change")return n}var kg=!1;if(li){var Xh;if(li){var $h="oninput"in document;if(!$h){var Ug=document.createElement("div");Ug.setAttribute("oninput","return;"),$h=typeof Ug.oninput=="function"}Xh=$h}else Xh=!1;kg=Xh&&(!document.documentMode||9<document.documentMode)}function Lg(){sl&&(sl.detachEvent("onpropertychange",Pg),al=sl=null)}function Pg(e){if(e.propertyName==="value"&&Lu(al)){var n=[];Og(n,al,e,_n(e)),Wr(ST,n)}}function AT(e,n,s){e==="focusin"?(Lg(),sl=n,al=s,sl.attachEvent("onpropertychange",Pg)):e==="focusout"&&Lg()}function wT(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Lu(al)}function RT(e,n){if(e==="click")return Lu(n)}function IT(e,n){if(e==="input"||e==="change")return Lu(n)}function CT(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var Yn=typeof Object.is=="function"?Object.is:CT;function ol(e,n){if(Yn(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var s=Object.keys(e),o=Object.keys(n);if(s.length!==o.length)return!1;for(o=0;o<s.length;o++){var h=s[o];if(!Te.call(n,h)||!Yn(e[h],n[h]))return!1}return!0}function zg(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function jg(e,n){var s=zg(e);e=0;for(var o;s;){if(s.nodeType===3){if(o=e+s.textContent.length,e<=n&&o>=n)return{node:s,offset:n-e};e=o}t:{for(;s;){if(s.nextSibling){s=s.nextSibling;break t}s=s.parentNode}s=void 0}s=zg(s)}}function Bg(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?Bg(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function qg(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=Gn(e.document);n instanceof e.HTMLIFrameElement;){try{var s=typeof n.contentWindow.location.href=="string"}catch{s=!1}if(s)e=n.contentWindow;else break;n=Gn(e.document)}return n}function Jh(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var NT=li&&"documentMode"in document&&11>=document.documentMode,Ja=null,Zh=null,ll=null,Wh=!1;function Hg(e,n,s){var o=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;Wh||Ja==null||Ja!==Gn(o)||(o=Ja,"selectionStart"in o&&Jh(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),ll&&ol(ll,o)||(ll=o,o=wc(Zh,"onSelect"),0<o.length&&(n=new qi("onSelect","select",null,n,s),e.push({event:n,listeners:o}),n.target=Ja)))}function ha(e,n){var s={};return s[e.toLowerCase()]=n.toLowerCase(),s["Webkit"+e]="webkit"+n,s["Moz"+e]="moz"+n,s}var Za={animationend:ha("Animation","AnimationEnd"),animationiteration:ha("Animation","AnimationIteration"),animationstart:ha("Animation","AnimationStart"),transitionrun:ha("Transition","TransitionRun"),transitionstart:ha("Transition","TransitionStart"),transitioncancel:ha("Transition","TransitionCancel"),transitionend:ha("Transition","TransitionEnd")},tf={},Fg={};li&&(Fg=document.createElement("div").style,"AnimationEvent"in window||(delete Za.animationend.animation,delete Za.animationiteration.animation,delete Za.animationstart.animation),"TransitionEvent"in window||delete Za.transitionend.transition);function fa(e){if(tf[e])return tf[e];if(!Za[e])return e;var n=Za[e],s;for(s in n)if(n.hasOwnProperty(s)&&s in Fg)return tf[e]=n[s];return e}var Gg=fa("animationend"),Qg=fa("animationiteration"),Yg=fa("animationstart"),xT=fa("transitionrun"),DT=fa("transitionstart"),MT=fa("transitioncancel"),Kg=fa("transitionend"),Xg=new Map,ef="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");ef.push("scrollEnd");function xi(e,n){Xg.set(e,n),si(n,[e])}var Pu=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},ci=[],Wa=0,nf=0;function zu(){for(var e=Wa,n=nf=Wa=0;n<e;){var s=ci[n];ci[n++]=null;var o=ci[n];ci[n++]=null;var h=ci[n];ci[n++]=null;var f=ci[n];if(ci[n++]=null,o!==null&&h!==null){var g=o.pending;g===null?h.next=h:(h.next=g.next,g.next=h),o.pending=h}f!==0&&$g(s,h,f)}}function ju(e,n,s,o){ci[Wa++]=e,ci[Wa++]=n,ci[Wa++]=s,ci[Wa++]=o,nf|=o,e.lanes|=o,e=e.alternate,e!==null&&(e.lanes|=o)}function rf(e,n,s,o){return ju(e,n,s,o),Bu(e)}function da(e,n){return ju(e,null,null,n),Bu(e)}function $g(e,n,s){e.lanes|=s;var o=e.alternate;o!==null&&(o.lanes|=s);for(var h=!1,f=e.return;f!==null;)f.childLanes|=s,o=f.alternate,o!==null&&(o.childLanes|=s),f.tag===22&&(e=f.stateNode,e===null||e._visibility&1||(h=!0)),e=f,f=f.return;return e.tag===3?(f=e.stateNode,h&&n!==null&&(h=31-Yt(s),e=f.hiddenUpdates,o=e[h],o===null?e[h]=[n]:o.push(n),n.lane=s|536870912),f):null}function Bu(e){if(50<xl)throw xl=0,dd=null,Error(a(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var to={};function OT(e,n,s,o){this.tag=e,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Kn(e,n,s,o){return new OT(e,n,s,o)}function sf(e){return e=e.prototype,!(!e||!e.isReactComponent)}function pr(e,n){var s=e.alternate;return s===null?(s=Kn(e.tag,n,e.key,e.mode),s.elementType=e.elementType,s.type=e.type,s.stateNode=e.stateNode,s.alternate=e,e.alternate=s):(s.pendingProps=n,s.type=e.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=e.flags&65011712,s.childLanes=e.childLanes,s.lanes=e.lanes,s.child=e.child,s.memoizedProps=e.memoizedProps,s.memoizedState=e.memoizedState,s.updateQueue=e.updateQueue,n=e.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},s.sibling=e.sibling,s.index=e.index,s.ref=e.ref,s.refCleanup=e.refCleanup,s}function Jg(e,n){e.flags&=65011714;var s=e.alternate;return s===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=s.childLanes,e.lanes=s.lanes,e.child=s.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=s.memoizedProps,e.memoizedState=s.memoizedState,e.updateQueue=s.updateQueue,e.type=s.type,n=s.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function qu(e,n,s,o,h,f){var g=0;if(o=e,typeof e=="function")sf(e)&&(g=1);else if(typeof e=="string")g=Pb(e,s,ut.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case C:return e=Kn(31,s,n,h),e.elementType=C,e.lanes=f,e;case nt:return ma(s.children,h,f,n);case et:g=8,h|=24;break;case dt:return e=Kn(12,s,n,h|2),e.elementType=dt,e.lanes=f,e;case Jt:return e=Kn(13,s,n,h),e.elementType=Jt,e.lanes=f,e;case Mt:return e=Kn(19,s,n,h),e.elementType=Mt,e.lanes=f,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case _t:g=10;break t;case wt:g=9;break t;case Ot:g=11;break t;case N:g=14;break t;case w:g=16,o=null;break t}g=29,s=Error(a(130,e===null?"null":typeof e,"")),o=null}return n=Kn(g,s,n,h),n.elementType=e,n.type=o,n.lanes=f,n}function ma(e,n,s,o){return e=Kn(7,e,o,n),e.lanes=s,e}function af(e,n,s){return e=Kn(6,e,null,n),e.lanes=s,e}function Zg(e){var n=Kn(18,null,null,0);return n.stateNode=e,n}function of(e,n,s){return n=Kn(4,e.children!==null?e.children:[],e.key,n),n.lanes=s,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var Wg=new WeakMap;function hi(e,n){if(typeof e=="object"&&e!==null){var s=Wg.get(e);return s!==void 0?s:(n={value:e,source:n,stack:Hr(n)},Wg.set(e,n),n)}return{value:e,source:n,stack:Hr(n)}}var eo=[],no=0,Hu=null,ul=0,fi=[],di=0,is=null,Qi=1,Yi="";function yr(e,n){eo[no++]=ul,eo[no++]=Hu,Hu=e,ul=n}function tp(e,n,s){fi[di++]=Qi,fi[di++]=Yi,fi[di++]=is,is=e;var o=Qi;e=Yi;var h=32-Yt(o)-1;o&=~(1<<h),s+=1;var f=32-Yt(n)+h;if(30<f){var g=h-h%5;f=(o&(1<<g)-1).toString(32),o>>=g,h-=g,Qi=1<<32-Yt(n)+h|s<<h|o,Yi=f+e}else Qi=1<<f|s<<h|o,Yi=e}function lf(e){e.return!==null&&(yr(e,1),tp(e,1,0))}function uf(e){for(;e===Hu;)Hu=eo[--no],eo[no]=null,ul=eo[--no],eo[no]=null;for(;e===is;)is=fi[--di],fi[di]=null,Yi=fi[--di],fi[di]=null,Qi=fi[--di],fi[di]=null}function ep(e,n){fi[di++]=Qi,fi[di++]=Yi,fi[di++]=is,Qi=n.id,Yi=n.overflow,is=e}var sn=null,de=null,Qt=!1,rs=null,mi=!1,cf=Error(a(519));function ss(e){var n=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw cl(hi(n,e)),cf}function np(e){var n=e.stateNode,s=e.type,o=e.memoizedProps;switch(n[_e]=e,n[Ne]=o,s){case"dialog":kt("cancel",n),kt("close",n);break;case"iframe":case"object":case"embed":kt("load",n);break;case"video":case"audio":for(s=0;s<Ml.length;s++)kt(Ml[s],n);break;case"source":kt("error",n);break;case"img":case"image":case"link":kt("error",n),kt("load",n);break;case"details":kt("toggle",n);break;case"input":kt("invalid",n),na(n,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":kt("invalid",n);break;case"textarea":kt("invalid",n),Qn(n,o.value,o.defaultValue,o.children)}s=o.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||n.textContent===""+s||o.suppressHydrationWarning===!0||v_(n.textContent,s)?(o.popover!=null&&(kt("beforetoggle",n),kt("toggle",n)),o.onScroll!=null&&kt("scroll",n),o.onScrollEnd!=null&&kt("scrollend",n),o.onClick!=null&&(n.onclick=xe),n=!0):n=!1,n||ss(e,!0)}function ip(e){for(sn=e.return;sn;)switch(sn.tag){case 5:case 31:case 13:mi=!1;return;case 27:case 3:mi=!0;return;default:sn=sn.return}}function io(e){if(e!==sn)return!1;if(!Qt)return ip(e),Qt=!0,!1;var n=e.tag,s;if((s=n!==3&&n!==27)&&((s=n===5)&&(s=e.type,s=!(s!=="form"&&s!=="button")||Cd(e.type,e.memoizedProps)),s=!s),s&&de&&ss(e),ip(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));de=C_(e)}else if(n===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));de=C_(e)}else n===27?(n=de,vs(e.type)?(e=Od,Od=null,de=e):de=n):de=sn?pi(e.stateNode.nextSibling):null;return!0}function ga(){de=sn=null,Qt=!1}function hf(){var e=rs;return e!==null&&(Pn===null?Pn=e:Pn.push.apply(Pn,e),rs=null),e}function cl(e){rs===null?rs=[e]:rs.push(e)}var ff=O(null),pa=null,_r=null;function as(e,n,s){at(ff,n._currentValue),n._currentValue=s}function vr(e){e._currentValue=ff.current,$(ff)}function df(e,n,s){for(;e!==null;){var o=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,o!==null&&(o.childLanes|=n)):o!==null&&(o.childLanes&n)!==n&&(o.childLanes|=n),e===s)break;e=e.return}}function mf(e,n,s,o){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var f=h.dependencies;if(f!==null){var g=h.child;f=f.firstContext;t:for(;f!==null;){var E=f;f=h;for(var I=0;I<n.length;I++)if(E.context===n[I]){f.lanes|=s,E=f.alternate,E!==null&&(E.lanes|=s),df(f.return,s,e),o||(g=null);break t}f=E.next}}else if(h.tag===18){if(g=h.return,g===null)throw Error(a(341));g.lanes|=s,f=g.alternate,f!==null&&(f.lanes|=s),df(g,s,e),g=null}else g=h.child;if(g!==null)g.return=h;else for(g=h;g!==null;){if(g===e){g=null;break}if(h=g.sibling,h!==null){h.return=g.return,g=h;break}g=g.return}h=g}}function ro(e,n,s,o){e=null;for(var h=n,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var g=h.alternate;if(g===null)throw Error(a(387));if(g=g.memoizedProps,g!==null){var E=h.type;Yn(h.pendingProps.value,g.value)||(e!==null?e.push(E):e=[E])}}else if(h===Ft.current){if(g=h.alternate,g===null)throw Error(a(387));g.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(Ll):e=[Ll])}h=h.return}e!==null&&mf(n,e,s,o),n.flags|=262144}function Fu(e){for(e=e.firstContext;e!==null;){if(!Yn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function ya(e){pa=e,_r=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function an(e){return rp(pa,e)}function Gu(e,n){return pa===null&&ya(e),rp(e,n)}function rp(e,n){var s=n._currentValue;if(n={context:n,memoizedValue:s,next:null},_r===null){if(e===null)throw Error(a(308));_r=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else _r=_r.next=n;return s}var VT=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(s,o){e.push(o)}};this.abort=function(){n.aborted=!0,e.forEach(function(s){return s()})}},kT=r.unstable_scheduleCallback,UT=r.unstable_NormalPriority,ze={$$typeof:_t,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function gf(){return{controller:new VT,data:new Map,refCount:0}}function hl(e){e.refCount--,e.refCount===0&&kT(UT,function(){e.controller.abort()})}var fl=null,pf=0,so=0,ao=null;function LT(e,n){if(fl===null){var s=fl=[];pf=0,so=vd(),ao={status:"pending",value:void 0,then:function(o){s.push(o)}}}return pf++,n.then(sp,sp),n}function sp(){if(--pf===0&&fl!==null){ao!==null&&(ao.status="fulfilled");var e=fl;fl=null,so=0,ao=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function PT(e,n){var s=[],o={status:"pending",value:null,reason:null,then:function(h){s.push(h)}};return e.then(function(){o.status="fulfilled",o.value=n;for(var h=0;h<s.length;h++)(0,s[h])(n)},function(h){for(o.status="rejected",o.reason=h,h=0;h<s.length;h++)(0,s[h])(void 0)}),o}var ap=G.S;G.S=function(e,n){Hy=$e(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&LT(e,n),ap!==null&&ap(e,n)};var _a=O(null);function yf(){var e=_a.current;return e!==null?e:ce.pooledCache}function Qu(e,n){n===null?at(_a,_a.current):at(_a,n.pool)}function op(){var e=yf();return e===null?null:{parent:ze._currentValue,pool:e}}var oo=Error(a(460)),_f=Error(a(474)),Yu=Error(a(542)),Ku={then:function(){}};function lp(e){return e=e.status,e==="fulfilled"||e==="rejected"}function up(e,n,s){switch(s=e[s],s===void 0?e.push(n):s!==n&&(n.then(xe,xe),n=s),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,hp(e),e;default:if(typeof n.status=="string")n.then(xe,xe);else{if(e=ce,e!==null&&100<e.shellSuspendCounter)throw Error(a(482));e=n,e.status="pending",e.then(function(o){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=o}},function(o){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=o}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,hp(e),e}throw Ea=n,oo}}function va(e){try{var n=e._init;return n(e._payload)}catch(s){throw s!==null&&typeof s=="object"&&typeof s.then=="function"?(Ea=s,oo):s}}var Ea=null;function cp(){if(Ea===null)throw Error(a(459));var e=Ea;return Ea=null,e}function hp(e){if(e===oo||e===Yu)throw Error(a(483))}var lo=null,dl=0;function Xu(e){var n=dl;return dl+=1,lo===null&&(lo=[]),up(lo,e,n)}function ml(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function $u(e,n){throw n.$$typeof===V?Error(a(525)):(e=Object.prototype.toString.call(n),Error(a(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function fp(e){function n(U,M){if(e){var z=U.deletions;z===null?(U.deletions=[M],U.flags|=16):z.push(M)}}function s(U,M){if(!e)return null;for(;M!==null;)n(U,M),M=M.sibling;return null}function o(U){for(var M=new Map;U!==null;)U.key!==null?M.set(U.key,U):M.set(U.index,U),U=U.sibling;return M}function h(U,M){return U=pr(U,M),U.index=0,U.sibling=null,U}function f(U,M,z){return U.index=z,e?(z=U.alternate,z!==null?(z=z.index,z<M?(U.flags|=67108866,M):z):(U.flags|=67108866,M)):(U.flags|=1048576,M)}function g(U){return e&&U.alternate===null&&(U.flags|=67108866),U}function E(U,M,z,X){return M===null||M.tag!==6?(M=af(z,U.mode,X),M.return=U,M):(M=h(M,z),M.return=U,M)}function I(U,M,z,X){var pt=z.type;return pt===nt?Y(U,M,z.props.children,X,z.key):M!==null&&(M.elementType===pt||typeof pt=="object"&&pt!==null&&pt.$$typeof===w&&va(pt)===M.type)?(M=h(M,z.props),ml(M,z),M.return=U,M):(M=qu(z.type,z.key,z.props,null,U.mode,X),ml(M,z),M.return=U,M)}function j(U,M,z,X){return M===null||M.tag!==4||M.stateNode.containerInfo!==z.containerInfo||M.stateNode.implementation!==z.implementation?(M=of(z,U.mode,X),M.return=U,M):(M=h(M,z.children||[]),M.return=U,M)}function Y(U,M,z,X,pt){return M===null||M.tag!==7?(M=ma(z,U.mode,X,pt),M.return=U,M):(M=h(M,z),M.return=U,M)}function J(U,M,z){if(typeof M=="string"&&M!==""||typeof M=="number"||typeof M=="bigint")return M=af(""+M,U.mode,z),M.return=U,M;if(typeof M=="object"&&M!==null){switch(M.$$typeof){case K:return z=qu(M.type,M.key,M.props,null,U.mode,z),ml(z,M),z.return=U,z;case tt:return M=of(M,U.mode,z),M.return=U,M;case w:return M=va(M),J(U,M,z)}if(Ee(M)||L(M))return M=ma(M,U.mode,z,null),M.return=U,M;if(typeof M.then=="function")return J(U,Xu(M),z);if(M.$$typeof===_t)return J(U,Gu(U,M),z);$u(U,M)}return null}function B(U,M,z,X){var pt=M!==null?M.key:null;if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return pt!==null?null:E(U,M,""+z,X);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case K:return z.key===pt?I(U,M,z,X):null;case tt:return z.key===pt?j(U,M,z,X):null;case w:return z=va(z),B(U,M,z,X)}if(Ee(z)||L(z))return pt!==null?null:Y(U,M,z,X,null);if(typeof z.then=="function")return B(U,M,Xu(z),X);if(z.$$typeof===_t)return B(U,M,Gu(U,z),X);$u(U,z)}return null}function F(U,M,z,X,pt){if(typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint")return U=U.get(z)||null,E(M,U,""+X,pt);if(typeof X=="object"&&X!==null){switch(X.$$typeof){case K:return U=U.get(X.key===null?z:X.key)||null,I(M,U,X,pt);case tt:return U=U.get(X.key===null?z:X.key)||null,j(M,U,X,pt);case w:return X=va(X),F(U,M,z,X,pt)}if(Ee(X)||L(X))return U=U.get(z)||null,Y(M,U,X,pt,null);if(typeof X.then=="function")return F(U,M,z,Xu(X),pt);if(X.$$typeof===_t)return F(U,M,z,Gu(M,X),pt);$u(M,X)}return null}function ft(U,M,z,X){for(var pt=null,Xt=null,mt=M,Dt=M=0,zt=null;mt!==null&&Dt<z.length;Dt++){mt.index>Dt?(zt=mt,mt=null):zt=mt.sibling;var $t=B(U,mt,z[Dt],X);if($t===null){mt===null&&(mt=zt);break}e&&mt&&$t.alternate===null&&n(U,mt),M=f($t,M,Dt),Xt===null?pt=$t:Xt.sibling=$t,Xt=$t,mt=zt}if(Dt===z.length)return s(U,mt),Qt&&yr(U,Dt),pt;if(mt===null){for(;Dt<z.length;Dt++)mt=J(U,z[Dt],X),mt!==null&&(M=f(mt,M,Dt),Xt===null?pt=mt:Xt.sibling=mt,Xt=mt);return Qt&&yr(U,Dt),pt}for(mt=o(mt);Dt<z.length;Dt++)zt=F(mt,U,Dt,z[Dt],X),zt!==null&&(e&&zt.alternate!==null&&mt.delete(zt.key===null?Dt:zt.key),M=f(zt,M,Dt),Xt===null?pt=zt:Xt.sibling=zt,Xt=zt);return e&&mt.forEach(function(As){return n(U,As)}),Qt&&yr(U,Dt),pt}function vt(U,M,z,X){if(z==null)throw Error(a(151));for(var pt=null,Xt=null,mt=M,Dt=M=0,zt=null,$t=z.next();mt!==null&&!$t.done;Dt++,$t=z.next()){mt.index>Dt?(zt=mt,mt=null):zt=mt.sibling;var As=B(U,mt,$t.value,X);if(As===null){mt===null&&(mt=zt);break}e&&mt&&As.alternate===null&&n(U,mt),M=f(As,M,Dt),Xt===null?pt=As:Xt.sibling=As,Xt=As,mt=zt}if($t.done)return s(U,mt),Qt&&yr(U,Dt),pt;if(mt===null){for(;!$t.done;Dt++,$t=z.next())$t=J(U,$t.value,X),$t!==null&&(M=f($t,M,Dt),Xt===null?pt=$t:Xt.sibling=$t,Xt=$t);return Qt&&yr(U,Dt),pt}for(mt=o(mt);!$t.done;Dt++,$t=z.next())$t=F(mt,U,Dt,$t.value,X),$t!==null&&(e&&$t.alternate!==null&&mt.delete($t.key===null?Dt:$t.key),M=f($t,M,Dt),Xt===null?pt=$t:Xt.sibling=$t,Xt=$t);return e&&mt.forEach(function(Xb){return n(U,Xb)}),Qt&&yr(U,Dt),pt}function ue(U,M,z,X){if(typeof z=="object"&&z!==null&&z.type===nt&&z.key===null&&(z=z.props.children),typeof z=="object"&&z!==null){switch(z.$$typeof){case K:t:{for(var pt=z.key;M!==null;){if(M.key===pt){if(pt=z.type,pt===nt){if(M.tag===7){s(U,M.sibling),X=h(M,z.props.children),X.return=U,U=X;break t}}else if(M.elementType===pt||typeof pt=="object"&&pt!==null&&pt.$$typeof===w&&va(pt)===M.type){s(U,M.sibling),X=h(M,z.props),ml(X,z),X.return=U,U=X;break t}s(U,M);break}else n(U,M);M=M.sibling}z.type===nt?(X=ma(z.props.children,U.mode,X,z.key),X.return=U,U=X):(X=qu(z.type,z.key,z.props,null,U.mode,X),ml(X,z),X.return=U,U=X)}return g(U);case tt:t:{for(pt=z.key;M!==null;){if(M.key===pt)if(M.tag===4&&M.stateNode.containerInfo===z.containerInfo&&M.stateNode.implementation===z.implementation){s(U,M.sibling),X=h(M,z.children||[]),X.return=U,U=X;break t}else{s(U,M);break}else n(U,M);M=M.sibling}X=of(z,U.mode,X),X.return=U,U=X}return g(U);case w:return z=va(z),ue(U,M,z,X)}if(Ee(z))return ft(U,M,z,X);if(L(z)){if(pt=L(z),typeof pt!="function")throw Error(a(150));return z=pt.call(z),vt(U,M,z,X)}if(typeof z.then=="function")return ue(U,M,Xu(z),X);if(z.$$typeof===_t)return ue(U,M,Gu(U,z),X);$u(U,z)}return typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint"?(z=""+z,M!==null&&M.tag===6?(s(U,M.sibling),X=h(M,z),X.return=U,U=X):(s(U,M),X=af(z,U.mode,X),X.return=U,U=X),g(U)):s(U,M)}return function(U,M,z,X){try{dl=0;var pt=ue(U,M,z,X);return lo=null,pt}catch(mt){if(mt===oo||mt===Yu)throw mt;var Xt=Kn(29,mt,null,U.mode);return Xt.lanes=X,Xt.return=U,Xt}finally{}}}var Ta=fp(!0),dp=fp(!1),os=!1;function vf(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Ef(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function ls(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function us(e,n,s){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,(te&2)!==0){var h=o.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),o.pending=n,n=Bu(e),$g(e,null,s),n}return ju(e,o,n,s),Bu(e)}function gl(e,n,s){if(n=n.updateQueue,n!==null&&(n=n.shared,(s&4194048)!==0)){var o=n.lanes;o&=e.pendingLanes,s|=o,n.lanes=s,Rn(e,s)}}function Tf(e,n){var s=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,s===o)){var h=null,f=null;if(s=s.firstBaseUpdate,s!==null){do{var g={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};f===null?h=f=g:f=f.next=g,s=s.next}while(s!==null);f===null?h=f=n:f=f.next=n}else h=f=n;s={baseState:o.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:o.shared,callbacks:o.callbacks},e.updateQueue=s;return}e=s.lastBaseUpdate,e===null?s.firstBaseUpdate=n:e.next=n,s.lastBaseUpdate=n}var bf=!1;function pl(){if(bf){var e=ao;if(e!==null)throw e}}function yl(e,n,s,o){bf=!1;var h=e.updateQueue;os=!1;var f=h.firstBaseUpdate,g=h.lastBaseUpdate,E=h.shared.pending;if(E!==null){h.shared.pending=null;var I=E,j=I.next;I.next=null,g===null?f=j:g.next=j,g=I;var Y=e.alternate;Y!==null&&(Y=Y.updateQueue,E=Y.lastBaseUpdate,E!==g&&(E===null?Y.firstBaseUpdate=j:E.next=j,Y.lastBaseUpdate=I))}if(f!==null){var J=h.baseState;g=0,Y=j=I=null,E=f;do{var B=E.lane&-536870913,F=B!==E.lane;if(F?(Pt&B)===B:(o&B)===B){B!==0&&B===so&&(bf=!0),Y!==null&&(Y=Y.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var ft=e,vt=E;B=n;var ue=s;switch(vt.tag){case 1:if(ft=vt.payload,typeof ft=="function"){J=ft.call(ue,J,B);break t}J=ft;break t;case 3:ft.flags=ft.flags&-65537|128;case 0:if(ft=vt.payload,B=typeof ft=="function"?ft.call(ue,J,B):ft,B==null)break t;J=S({},J,B);break t;case 2:os=!0}}B=E.callback,B!==null&&(e.flags|=64,F&&(e.flags|=8192),F=h.callbacks,F===null?h.callbacks=[B]:F.push(B))}else F={lane:B,tag:E.tag,payload:E.payload,callback:E.callback,next:null},Y===null?(j=Y=F,I=J):Y=Y.next=F,g|=B;if(E=E.next,E===null){if(E=h.shared.pending,E===null)break;F=E,E=F.next,F.next=null,h.lastBaseUpdate=F,h.shared.pending=null}}while(!0);Y===null&&(I=J),h.baseState=I,h.firstBaseUpdate=j,h.lastBaseUpdate=Y,f===null&&(h.shared.lanes=0),ms|=g,e.lanes=g,e.memoizedState=J}}function mp(e,n){if(typeof e!="function")throw Error(a(191,e));e.call(n)}function gp(e,n){var s=e.callbacks;if(s!==null)for(e.callbacks=null,e=0;e<s.length;e++)mp(s[e],n)}var uo=O(null),Ju=O(0);function pp(e,n){e=Cr,at(Ju,e),at(uo,n),Cr=e|n.baseLanes}function Sf(){at(Ju,Cr),at(uo,uo.current)}function Af(){Cr=Ju.current,$(uo),$(Ju)}var Xn=O(null),gi=null;function cs(e){var n=e.alternate;at(Me,Me.current&1),at(Xn,e),gi===null&&(n===null||uo.current!==null||n.memoizedState!==null)&&(gi=e)}function wf(e){at(Me,Me.current),at(Xn,e),gi===null&&(gi=e)}function yp(e){e.tag===22?(at(Me,Me.current),at(Xn,e),gi===null&&(gi=e)):hs()}function hs(){at(Me,Me.current),at(Xn,Xn.current)}function $n(e){$(Xn),gi===e&&(gi=null),$(Me)}var Me=O(0);function Zu(e){for(var n=e;n!==null;){if(n.tag===13){var s=n.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||Dd(s)||Md(s)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Er=0,xt=null,oe=null,je=null,Wu=!1,co=!1,ba=!1,tc=0,_l=0,ho=null,zT=0;function we(){throw Error(a(321))}function Rf(e,n){if(n===null)return!1;for(var s=0;s<n.length&&s<e.length;s++)if(!Yn(e[s],n[s]))return!1;return!0}function If(e,n,s,o,h,f){return Er=f,xt=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,G.H=e===null||e.memoizedState===null?ty:qf,ba=!1,f=s(o,h),ba=!1,co&&(f=vp(n,s,o,h)),_p(e),f}function _p(e){G.H=Tl;var n=oe!==null&&oe.next!==null;if(Er=0,je=oe=xt=null,Wu=!1,_l=0,ho=null,n)throw Error(a(300));e===null||Be||(e=e.dependencies,e!==null&&Fu(e)&&(Be=!0))}function vp(e,n,s,o){xt=e;var h=0;do{if(co&&(ho=null),_l=0,co=!1,25<=h)throw Error(a(301));if(h+=1,je=oe=null,e.updateQueue!=null){var f=e.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}G.H=ey,f=n(s,o)}while(co);return f}function jT(){var e=G.H,n=e.useState()[0];return n=typeof n.then=="function"?vl(n):n,e=e.useState()[0],(oe!==null?oe.memoizedState:null)!==e&&(xt.flags|=1024),n}function Cf(){var e=tc!==0;return tc=0,e}function Nf(e,n,s){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~s}function xf(e){if(Wu){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}Wu=!1}Er=0,je=oe=xt=null,co=!1,_l=tc=0,ho=null}function Nn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return je===null?xt.memoizedState=je=e:je=je.next=e,je}function Oe(){if(oe===null){var e=xt.alternate;e=e!==null?e.memoizedState:null}else e=oe.next;var n=je===null?xt.memoizedState:je.next;if(n!==null)je=n,oe=e;else{if(e===null)throw xt.alternate===null?Error(a(467)):Error(a(310));oe=e,e={memoizedState:oe.memoizedState,baseState:oe.baseState,baseQueue:oe.baseQueue,queue:oe.queue,next:null},je===null?xt.memoizedState=je=e:je=je.next=e}return je}function ec(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function vl(e){var n=_l;return _l+=1,ho===null&&(ho=[]),e=up(ho,e,n),n=xt,(je===null?n.memoizedState:je.next)===null&&(n=n.alternate,G.H=n===null||n.memoizedState===null?ty:qf),e}function nc(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return vl(e);if(e.$$typeof===_t)return an(e)}throw Error(a(438,String(e)))}function Df(e){var n=null,s=xt.updateQueue;if(s!==null&&(n=s.memoCache),n==null){var o=xt.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(n={data:o.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),s===null&&(s=ec(),xt.updateQueue=s),s.memoCache=n,s=n.data[n.index],s===void 0)for(s=n.data[n.index]=Array(e),o=0;o<e;o++)s[o]=k;return n.index++,s}function Tr(e,n){return typeof n=="function"?n(e):n}function ic(e){var n=Oe();return Mf(n,oe,e)}function Mf(e,n,s){var o=e.queue;if(o===null)throw Error(a(311));o.lastRenderedReducer=s;var h=e.baseQueue,f=o.pending;if(f!==null){if(h!==null){var g=h.next;h.next=f.next,f.next=g}n.baseQueue=h=f,o.pending=null}if(f=e.baseState,h===null)e.memoizedState=f;else{n=h.next;var E=g=null,I=null,j=n,Y=!1;do{var J=j.lane&-536870913;if(J!==j.lane?(Pt&J)===J:(Er&J)===J){var B=j.revertLane;if(B===0)I!==null&&(I=I.next={lane:0,revertLane:0,gesture:null,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null}),J===so&&(Y=!0);else if((Er&B)===B){j=j.next,B===so&&(Y=!0);continue}else J={lane:0,revertLane:j.revertLane,gesture:null,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null},I===null?(E=I=J,g=f):I=I.next=J,xt.lanes|=B,ms|=B;J=j.action,ba&&s(f,J),f=j.hasEagerState?j.eagerState:s(f,J)}else B={lane:J,revertLane:j.revertLane,gesture:j.gesture,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null},I===null?(E=I=B,g=f):I=I.next=B,xt.lanes|=J,ms|=J;j=j.next}while(j!==null&&j!==n);if(I===null?g=f:I.next=E,!Yn(f,e.memoizedState)&&(Be=!0,Y&&(s=ao,s!==null)))throw s;e.memoizedState=f,e.baseState=g,e.baseQueue=I,o.lastRenderedState=f}return h===null&&(o.lanes=0),[e.memoizedState,o.dispatch]}function Of(e){var n=Oe(),s=n.queue;if(s===null)throw Error(a(311));s.lastRenderedReducer=e;var o=s.dispatch,h=s.pending,f=n.memoizedState;if(h!==null){s.pending=null;var g=h=h.next;do f=e(f,g.action),g=g.next;while(g!==h);Yn(f,n.memoizedState)||(Be=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),s.lastRenderedState=f}return[f,o]}function Ep(e,n,s){var o=xt,h=Oe(),f=Qt;if(f){if(s===void 0)throw Error(a(407));s=s()}else s=n();var g=!Yn((oe||h).memoizedState,s);if(g&&(h.memoizedState=s,Be=!0),h=h.queue,Uf(Sp.bind(null,o,h,e),[e]),h.getSnapshot!==n||g||je!==null&&je.memoizedState.tag&1){if(o.flags|=2048,fo(9,{destroy:void 0},bp.bind(null,o,h,s,n),null),ce===null)throw Error(a(349));f||(Er&127)!==0||Tp(o,n,s)}return s}function Tp(e,n,s){e.flags|=16384,e={getSnapshot:n,value:s},n=xt.updateQueue,n===null?(n=ec(),xt.updateQueue=n,n.stores=[e]):(s=n.stores,s===null?n.stores=[e]:s.push(e))}function bp(e,n,s,o){n.value=s,n.getSnapshot=o,Ap(n)&&wp(e)}function Sp(e,n,s){return s(function(){Ap(n)&&wp(e)})}function Ap(e){var n=e.getSnapshot;e=e.value;try{var s=n();return!Yn(e,s)}catch{return!0}}function wp(e){var n=da(e,2);n!==null&&zn(n,e,2)}function Vf(e){var n=Nn();if(typeof e=="function"){var s=e;if(e=s(),ba){gn(!0);try{s()}finally{gn(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Tr,lastRenderedState:e},n}function Rp(e,n,s,o){return e.baseState=s,Mf(e,oe,typeof o=="function"?o:Tr)}function BT(e,n,s,o,h){if(ac(e))throw Error(a(485));if(e=n.action,e!==null){var f={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(g){f.listeners.push(g)}};G.T!==null?s(!0):f.isTransition=!1,o(f),s=n.pending,s===null?(f.next=n.pending=f,Ip(n,f)):(f.next=s.next,n.pending=s.next=f)}}function Ip(e,n){var s=n.action,o=n.payload,h=e.state;if(n.isTransition){var f=G.T,g={};G.T=g;try{var E=s(h,o),I=G.S;I!==null&&I(g,E),Cp(e,n,E)}catch(j){kf(e,n,j)}finally{f!==null&&g.types!==null&&(f.types=g.types),G.T=f}}else try{f=s(h,o),Cp(e,n,f)}catch(j){kf(e,n,j)}}function Cp(e,n,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(o){Np(e,n,o)},function(o){return kf(e,n,o)}):Np(e,n,s)}function Np(e,n,s){n.status="fulfilled",n.value=s,xp(n),e.state=s,n=e.pending,n!==null&&(s=n.next,s===n?e.pending=null:(s=s.next,n.next=s,Ip(e,s)))}function kf(e,n,s){var o=e.pending;if(e.pending=null,o!==null){o=o.next;do n.status="rejected",n.reason=s,xp(n),n=n.next;while(n!==o)}e.action=null}function xp(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function Dp(e,n){return n}function Mp(e,n){if(Qt){var s=ce.formState;if(s!==null){t:{var o=xt;if(Qt){if(de){e:{for(var h=de,f=mi;h.nodeType!==8;){if(!f){h=null;break e}if(h=pi(h.nextSibling),h===null){h=null;break e}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){de=pi(h.nextSibling),o=h.data==="F!";break t}}ss(o)}o=!1}o&&(n=s[0])}}return s=Nn(),s.memoizedState=s.baseState=n,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Dp,lastRenderedState:n},s.queue=o,s=Jp.bind(null,xt,o),o.dispatch=s,o=Vf(!1),f=Bf.bind(null,xt,!1,o.queue),o=Nn(),h={state:n,dispatch:null,action:e,pending:null},o.queue=h,s=BT.bind(null,xt,h,f,s),h.dispatch=s,o.memoizedState=e,[n,s,!1]}function Op(e){var n=Oe();return Vp(n,oe,e)}function Vp(e,n,s){if(n=Mf(e,n,Dp)[0],e=ic(Tr)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var o=vl(n)}catch(g){throw g===oo?Yu:g}else o=n;n=Oe();var h=n.queue,f=h.dispatch;return s!==n.memoizedState&&(xt.flags|=2048,fo(9,{destroy:void 0},qT.bind(null,h,s),null)),[o,f,e]}function qT(e,n){e.action=n}function kp(e){var n=Oe(),s=oe;if(s!==null)return Vp(n,s,e);Oe(),n=n.memoizedState,s=Oe();var o=s.queue.dispatch;return s.memoizedState=e,[n,o,!1]}function fo(e,n,s,o){return e={tag:e,create:s,deps:o,inst:n,next:null},n=xt.updateQueue,n===null&&(n=ec(),xt.updateQueue=n),s=n.lastEffect,s===null?n.lastEffect=e.next=e:(o=s.next,s.next=e,e.next=o,n.lastEffect=e),e}function Up(){return Oe().memoizedState}function rc(e,n,s,o){var h=Nn();xt.flags|=e,h.memoizedState=fo(1|n,{destroy:void 0},s,o===void 0?null:o)}function sc(e,n,s,o){var h=Oe();o=o===void 0?null:o;var f=h.memoizedState.inst;oe!==null&&o!==null&&Rf(o,oe.memoizedState.deps)?h.memoizedState=fo(n,f,s,o):(xt.flags|=e,h.memoizedState=fo(1|n,f,s,o))}function Lp(e,n){rc(8390656,8,e,n)}function Uf(e,n){sc(2048,8,e,n)}function HT(e){xt.flags|=4;var n=xt.updateQueue;if(n===null)n=ec(),xt.updateQueue=n,n.events=[e];else{var s=n.events;s===null?n.events=[e]:s.push(e)}}function Pp(e){var n=Oe().memoizedState;return HT({ref:n,nextImpl:e}),function(){if((te&2)!==0)throw Error(a(440));return n.impl.apply(void 0,arguments)}}function zp(e,n){return sc(4,2,e,n)}function jp(e,n){return sc(4,4,e,n)}function Bp(e,n){if(typeof n=="function"){e=e();var s=n(e);return function(){typeof s=="function"?s():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function qp(e,n,s){s=s!=null?s.concat([e]):null,sc(4,4,Bp.bind(null,n,e),s)}function Lf(){}function Hp(e,n){var s=Oe();n=n===void 0?null:n;var o=s.memoizedState;return n!==null&&Rf(n,o[1])?o[0]:(s.memoizedState=[e,n],e)}function Fp(e,n){var s=Oe();n=n===void 0?null:n;var o=s.memoizedState;if(n!==null&&Rf(n,o[1]))return o[0];if(o=e(),ba){gn(!0);try{e()}finally{gn(!1)}}return s.memoizedState=[o,n],o}function Pf(e,n,s){return s===void 0||(Er&1073741824)!==0&&(Pt&261930)===0?e.memoizedState=n:(e.memoizedState=s,e=Gy(),xt.lanes|=e,ms|=e,s)}function Gp(e,n,s,o){return Yn(s,n)?s:uo.current!==null?(e=Pf(e,s,o),Yn(e,n)||(Be=!0),e):(Er&42)===0||(Er&1073741824)!==0&&(Pt&261930)===0?(Be=!0,e.memoizedState=s):(e=Gy(),xt.lanes|=e,ms|=e,n)}function Qp(e,n,s,o,h){var f=st.p;st.p=f!==0&&8>f?f:8;var g=G.T,E={};G.T=E,Bf(e,!1,n,s);try{var I=h(),j=G.S;if(j!==null&&j(E,I),I!==null&&typeof I=="object"&&typeof I.then=="function"){var Y=PT(I,o);El(e,n,Y,Wn(e))}else El(e,n,o,Wn(e))}catch(J){El(e,n,{then:function(){},status:"rejected",reason:J},Wn())}finally{st.p=f,g!==null&&E.types!==null&&(g.types=E.types),G.T=g}}function FT(){}function zf(e,n,s,o){if(e.tag!==5)throw Error(a(476));var h=Yp(e).queue;Qp(e,h,n,gt,s===null?FT:function(){return Kp(e),s(o)})}function Yp(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:gt,baseState:gt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Tr,lastRenderedState:gt},next:null};var s={};return n.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Tr,lastRenderedState:s},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function Kp(e){var n=Yp(e);n.next===null&&(n=e.alternate.memoizedState),El(e,n.next.queue,{},Wn())}function jf(){return an(Ll)}function Xp(){return Oe().memoizedState}function $p(){return Oe().memoizedState}function GT(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var s=Wn();e=ls(s);var o=us(n,e,s);o!==null&&(zn(o,n,s),gl(o,n,s)),n={cache:gf()},e.payload=n;return}n=n.return}}function QT(e,n,s){var o=Wn();s={lane:o,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},ac(e)?Zp(n,s):(s=rf(e,n,s,o),s!==null&&(zn(s,e,o),Wp(s,n,o)))}function Jp(e,n,s){var o=Wn();El(e,n,s,o)}function El(e,n,s,o){var h={lane:o,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null};if(ac(e))Zp(n,h);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var g=n.lastRenderedState,E=f(g,s);if(h.hasEagerState=!0,h.eagerState=E,Yn(E,g))return ju(e,n,h,0),ce===null&&zu(),!1}catch{}finally{}if(s=rf(e,n,h,o),s!==null)return zn(s,e,o),Wp(s,n,o),!0}return!1}function Bf(e,n,s,o){if(o={lane:2,revertLane:vd(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},ac(e)){if(n)throw Error(a(479))}else n=rf(e,s,o,2),n!==null&&zn(n,e,2)}function ac(e){var n=e.alternate;return e===xt||n!==null&&n===xt}function Zp(e,n){co=Wu=!0;var s=e.pending;s===null?n.next=n:(n.next=s.next,s.next=n),e.pending=n}function Wp(e,n,s){if((s&4194048)!==0){var o=n.lanes;o&=e.pendingLanes,s|=o,n.lanes=s,Rn(e,s)}}var Tl={readContext:an,use:nc,useCallback:we,useContext:we,useEffect:we,useImperativeHandle:we,useLayoutEffect:we,useInsertionEffect:we,useMemo:we,useReducer:we,useRef:we,useState:we,useDebugValue:we,useDeferredValue:we,useTransition:we,useSyncExternalStore:we,useId:we,useHostTransitionStatus:we,useFormState:we,useActionState:we,useOptimistic:we,useMemoCache:we,useCacheRefresh:we};Tl.useEffectEvent=we;var ty={readContext:an,use:nc,useCallback:function(e,n){return Nn().memoizedState=[e,n===void 0?null:n],e},useContext:an,useEffect:Lp,useImperativeHandle:function(e,n,s){s=s!=null?s.concat([e]):null,rc(4194308,4,Bp.bind(null,n,e),s)},useLayoutEffect:function(e,n){return rc(4194308,4,e,n)},useInsertionEffect:function(e,n){rc(4,2,e,n)},useMemo:function(e,n){var s=Nn();n=n===void 0?null:n;var o=e();if(ba){gn(!0);try{e()}finally{gn(!1)}}return s.memoizedState=[o,n],o},useReducer:function(e,n,s){var o=Nn();if(s!==void 0){var h=s(n);if(ba){gn(!0);try{s(n)}finally{gn(!1)}}}else h=n;return o.memoizedState=o.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},o.queue=e,e=e.dispatch=QT.bind(null,xt,e),[o.memoizedState,e]},useRef:function(e){var n=Nn();return e={current:e},n.memoizedState=e},useState:function(e){e=Vf(e);var n=e.queue,s=Jp.bind(null,xt,n);return n.dispatch=s,[e.memoizedState,s]},useDebugValue:Lf,useDeferredValue:function(e,n){var s=Nn();return Pf(s,e,n)},useTransition:function(){var e=Vf(!1);return e=Qp.bind(null,xt,e.queue,!0,!1),Nn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,s){var o=xt,h=Nn();if(Qt){if(s===void 0)throw Error(a(407));s=s()}else{if(s=n(),ce===null)throw Error(a(349));(Pt&127)!==0||Tp(o,n,s)}h.memoizedState=s;var f={value:s,getSnapshot:n};return h.queue=f,Lp(Sp.bind(null,o,f,e),[e]),o.flags|=2048,fo(9,{destroy:void 0},bp.bind(null,o,f,s,n),null),s},useId:function(){var e=Nn(),n=ce.identifierPrefix;if(Qt){var s=Yi,o=Qi;s=(o&~(1<<32-Yt(o)-1)).toString(32)+s,n="_"+n+"R_"+s,s=tc++,0<s&&(n+="H"+s.toString(32)),n+="_"}else s=zT++,n="_"+n+"r_"+s.toString(32)+"_";return e.memoizedState=n},useHostTransitionStatus:jf,useFormState:Mp,useActionState:Mp,useOptimistic:function(e){var n=Nn();n.memoizedState=n.baseState=e;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=s,n=Bf.bind(null,xt,!0,s),s.dispatch=n,[e,n]},useMemoCache:Df,useCacheRefresh:function(){return Nn().memoizedState=GT.bind(null,xt)},useEffectEvent:function(e){var n=Nn(),s={impl:e};return n.memoizedState=s,function(){if((te&2)!==0)throw Error(a(440));return s.impl.apply(void 0,arguments)}}},qf={readContext:an,use:nc,useCallback:Hp,useContext:an,useEffect:Uf,useImperativeHandle:qp,useInsertionEffect:zp,useLayoutEffect:jp,useMemo:Fp,useReducer:ic,useRef:Up,useState:function(){return ic(Tr)},useDebugValue:Lf,useDeferredValue:function(e,n){var s=Oe();return Gp(s,oe.memoizedState,e,n)},useTransition:function(){var e=ic(Tr)[0],n=Oe().memoizedState;return[typeof e=="boolean"?e:vl(e),n]},useSyncExternalStore:Ep,useId:Xp,useHostTransitionStatus:jf,useFormState:Op,useActionState:Op,useOptimistic:function(e,n){var s=Oe();return Rp(s,oe,e,n)},useMemoCache:Df,useCacheRefresh:$p};qf.useEffectEvent=Pp;var ey={readContext:an,use:nc,useCallback:Hp,useContext:an,useEffect:Uf,useImperativeHandle:qp,useInsertionEffect:zp,useLayoutEffect:jp,useMemo:Fp,useReducer:Of,useRef:Up,useState:function(){return Of(Tr)},useDebugValue:Lf,useDeferredValue:function(e,n){var s=Oe();return oe===null?Pf(s,e,n):Gp(s,oe.memoizedState,e,n)},useTransition:function(){var e=Of(Tr)[0],n=Oe().memoizedState;return[typeof e=="boolean"?e:vl(e),n]},useSyncExternalStore:Ep,useId:Xp,useHostTransitionStatus:jf,useFormState:kp,useActionState:kp,useOptimistic:function(e,n){var s=Oe();return oe!==null?Rp(s,oe,e,n):(s.baseState=e,[e,s.queue.dispatch])},useMemoCache:Df,useCacheRefresh:$p};ey.useEffectEvent=Pp;function Hf(e,n,s,o){n=e.memoizedState,s=s(o,n),s=s==null?n:S({},n,s),e.memoizedState=s,e.lanes===0&&(e.updateQueue.baseState=s)}var Ff={enqueueSetState:function(e,n,s){e=e._reactInternals;var o=Wn(),h=ls(o);h.payload=n,s!=null&&(h.callback=s),n=us(e,h,o),n!==null&&(zn(n,e,o),gl(n,e,o))},enqueueReplaceState:function(e,n,s){e=e._reactInternals;var o=Wn(),h=ls(o);h.tag=1,h.payload=n,s!=null&&(h.callback=s),n=us(e,h,o),n!==null&&(zn(n,e,o),gl(n,e,o))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var s=Wn(),o=ls(s);o.tag=2,n!=null&&(o.callback=n),n=us(e,o,s),n!==null&&(zn(n,e,s),gl(n,e,s))}};function ny(e,n,s,o,h,f,g){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,f,g):n.prototype&&n.prototype.isPureReactComponent?!ol(s,o)||!ol(h,f):!0}function iy(e,n,s,o){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(s,o),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(s,o),n.state!==e&&Ff.enqueueReplaceState(n,n.state,null)}function Sa(e,n){var s=n;if("ref"in n){s={};for(var o in n)o!=="ref"&&(s[o]=n[o])}if(e=e.defaultProps){s===n&&(s=S({},s));for(var h in e)s[h]===void 0&&(s[h]=e[h])}return s}function ry(e){Pu(e)}function sy(e){console.error(e)}function ay(e){Pu(e)}function oc(e,n){try{var s=e.onUncaughtError;s(n.value,{componentStack:n.stack})}catch(o){setTimeout(function(){throw o})}}function oy(e,n,s){try{var o=e.onCaughtError;o(s.value,{componentStack:s.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Gf(e,n,s){return s=ls(s),s.tag=3,s.payload={element:null},s.callback=function(){oc(e,n)},s}function ly(e){return e=ls(e),e.tag=3,e}function uy(e,n,s,o){var h=s.type.getDerivedStateFromError;if(typeof h=="function"){var f=o.value;e.payload=function(){return h(f)},e.callback=function(){oy(n,s,o)}}var g=s.stateNode;g!==null&&typeof g.componentDidCatch=="function"&&(e.callback=function(){oy(n,s,o),typeof h!="function"&&(gs===null?gs=new Set([this]):gs.add(this));var E=o.stack;this.componentDidCatch(o.value,{componentStack:E!==null?E:""})})}function YT(e,n,s,o,h){if(s.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(n=s.alternate,n!==null&&ro(n,s,h,!0),s=Xn.current,s!==null){switch(s.tag){case 31:case 13:return gi===null?vc():s.alternate===null&&Re===0&&(Re=3),s.flags&=-257,s.flags|=65536,s.lanes=h,o===Ku?s.flags|=16384:(n=s.updateQueue,n===null?s.updateQueue=new Set([o]):n.add(o),pd(e,o,h)),!1;case 22:return s.flags|=65536,o===Ku?s.flags|=16384:(n=s.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([o])},s.updateQueue=n):(s=n.retryQueue,s===null?n.retryQueue=new Set([o]):s.add(o)),pd(e,o,h)),!1}throw Error(a(435,s.tag))}return pd(e,o,h),vc(),!1}if(Qt)return n=Xn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,o!==cf&&(e=Error(a(422),{cause:o}),cl(hi(e,s)))):(o!==cf&&(n=Error(a(423),{cause:o}),cl(hi(n,s))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,o=hi(o,s),h=Gf(e.stateNode,o,h),Tf(e,h),Re!==4&&(Re=2)),!1;var f=Error(a(520),{cause:o});if(f=hi(f,s),Nl===null?Nl=[f]:Nl.push(f),Re!==4&&(Re=2),n===null)return!0;o=hi(o,s),s=n;do{switch(s.tag){case 3:return s.flags|=65536,e=h&-h,s.lanes|=e,e=Gf(s.stateNode,o,e),Tf(s,e),!1;case 1:if(n=s.type,f=s.stateNode,(s.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(gs===null||!gs.has(f))))return s.flags|=65536,h&=-h,s.lanes|=h,h=ly(h),uy(h,e,s,o),Tf(s,h),!1}s=s.return}while(s!==null);return!1}var Qf=Error(a(461)),Be=!1;function on(e,n,s,o){n.child=e===null?dp(n,null,s,o):Ta(n,e.child,s,o)}function cy(e,n,s,o,h){s=s.render;var f=n.ref;if("ref"in o){var g={};for(var E in o)E!=="ref"&&(g[E]=o[E])}else g=o;return ya(n),o=If(e,n,s,g,f,h),E=Cf(),e!==null&&!Be?(Nf(e,n,h),br(e,n,h)):(Qt&&E&&lf(n),n.flags|=1,on(e,n,o,h),n.child)}function hy(e,n,s,o,h){if(e===null){var f=s.type;return typeof f=="function"&&!sf(f)&&f.defaultProps===void 0&&s.compare===null?(n.tag=15,n.type=f,fy(e,n,f,o,h)):(e=qu(s.type,null,o,n,n.mode,h),e.ref=n.ref,e.return=n,n.child=e)}if(f=e.child,!td(e,h)){var g=f.memoizedProps;if(s=s.compare,s=s!==null?s:ol,s(g,o)&&e.ref===n.ref)return br(e,n,h)}return n.flags|=1,e=pr(f,o),e.ref=n.ref,e.return=n,n.child=e}function fy(e,n,s,o,h){if(e!==null){var f=e.memoizedProps;if(ol(f,o)&&e.ref===n.ref)if(Be=!1,n.pendingProps=o=f,td(e,h))(e.flags&131072)!==0&&(Be=!0);else return n.lanes=e.lanes,br(e,n,h)}return Yf(e,n,s,o,h)}function dy(e,n,s,o){var h=o.children,f=e!==null?e.memoizedState:null;if(e===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|s:s,e!==null){for(o=n.child=e.child,h=0;o!==null;)h=h|o.lanes|o.childLanes,o=o.sibling;o=h&~f}else o=0,n.child=null;return my(e,n,f,s,o)}if((s&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&Qu(n,f!==null?f.cachePool:null),f!==null?pp(n,f):Sf(),yp(n);else return o=n.lanes=536870912,my(e,n,f!==null?f.baseLanes|s:s,s,o)}else f!==null?(Qu(n,f.cachePool),pp(n,f),hs(),n.memoizedState=null):(e!==null&&Qu(n,null),Sf(),hs());return on(e,n,h,s),n.child}function bl(e,n){return e!==null&&e.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function my(e,n,s,o,h){var f=yf();return f=f===null?null:{parent:ze._currentValue,pool:f},n.memoizedState={baseLanes:s,cachePool:f},e!==null&&Qu(n,null),Sf(),yp(n),e!==null&&ro(e,n,o,!0),n.childLanes=h,null}function lc(e,n){return n=cc({mode:n.mode,children:n.children},e.mode),n.ref=e.ref,e.child=n,n.return=e,n}function gy(e,n,s){return Ta(n,e.child,null,s),e=lc(n,n.pendingProps),e.flags|=2,$n(n),n.memoizedState=null,e}function KT(e,n,s){var o=n.pendingProps,h=(n.flags&128)!==0;if(n.flags&=-129,e===null){if(Qt){if(o.mode==="hidden")return e=lc(n,o),n.lanes=536870912,bl(null,e);if(wf(n),(e=de)?(e=I_(e,mi),e=e!==null&&e.data==="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:is!==null?{id:Qi,overflow:Yi}:null,retryLane:536870912,hydrationErrors:null},s=Zg(e),s.return=n,n.child=s,sn=n,de=null)):e=null,e===null)throw ss(n);return n.lanes=536870912,null}return lc(n,o)}var f=e.memoizedState;if(f!==null){var g=f.dehydrated;if(wf(n),h)if(n.flags&256)n.flags&=-257,n=gy(e,n,s);else if(n.memoizedState!==null)n.child=e.child,n.flags|=128,n=null;else throw Error(a(558));else if(Be||ro(e,n,s,!1),h=(s&e.childLanes)!==0,Be||h){if(o=ce,o!==null&&(g=Yr(o,s),g!==0&&g!==f.retryLane))throw f.retryLane=g,da(e,g),zn(o,e,g),Qf;vc(),n=gy(e,n,s)}else e=f.treeContext,de=pi(g.nextSibling),sn=n,Qt=!0,rs=null,mi=!1,e!==null&&ep(n,e),n=lc(n,o),n.flags|=4096;return n}return e=pr(e.child,{mode:o.mode,children:o.children}),e.ref=n.ref,n.child=e,e.return=n,e}function uc(e,n){var s=n.ref;if(s===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(a(284));(e===null||e.ref!==s)&&(n.flags|=4194816)}}function Yf(e,n,s,o,h){return ya(n),s=If(e,n,s,o,void 0,h),o=Cf(),e!==null&&!Be?(Nf(e,n,h),br(e,n,h)):(Qt&&o&&lf(n),n.flags|=1,on(e,n,s,h),n.child)}function py(e,n,s,o,h,f){return ya(n),n.updateQueue=null,s=vp(n,o,s,h),_p(e),o=Cf(),e!==null&&!Be?(Nf(e,n,f),br(e,n,f)):(Qt&&o&&lf(n),n.flags|=1,on(e,n,s,f),n.child)}function yy(e,n,s,o,h){if(ya(n),n.stateNode===null){var f=to,g=s.contextType;typeof g=="object"&&g!==null&&(f=an(g)),f=new s(o,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Ff,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=o,f.state=n.memoizedState,f.refs={},vf(n),g=s.contextType,f.context=typeof g=="object"&&g!==null?an(g):to,f.state=n.memoizedState,g=s.getDerivedStateFromProps,typeof g=="function"&&(Hf(n,s,g,o),f.state=n.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(g=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),g!==f.state&&Ff.enqueueReplaceState(f,f.state,null),yl(n,o,f,h),pl(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!0}else if(e===null){f=n.stateNode;var E=n.memoizedProps,I=Sa(s,E);f.props=I;var j=f.context,Y=s.contextType;g=to,typeof Y=="object"&&Y!==null&&(g=an(Y));var J=s.getDerivedStateFromProps;Y=typeof J=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,Y||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||j!==g)&&iy(n,f,o,g),os=!1;var B=n.memoizedState;f.state=B,yl(n,o,f,h),pl(),j=n.memoizedState,E||B!==j||os?(typeof J=="function"&&(Hf(n,s,J,o),j=n.memoizedState),(I=os||ny(n,s,I,o,B,j,g))?(Y||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=o,n.memoizedState=j),f.props=o,f.state=j,f.context=g,o=I):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!1)}else{f=n.stateNode,Ef(e,n),g=n.memoizedProps,Y=Sa(s,g),f.props=Y,J=n.pendingProps,B=f.context,j=s.contextType,I=to,typeof j=="object"&&j!==null&&(I=an(j)),E=s.getDerivedStateFromProps,(j=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(g!==J||B!==I)&&iy(n,f,o,I),os=!1,B=n.memoizedState,f.state=B,yl(n,o,f,h),pl();var F=n.memoizedState;g!==J||B!==F||os||e!==null&&e.dependencies!==null&&Fu(e.dependencies)?(typeof E=="function"&&(Hf(n,s,E,o),F=n.memoizedState),(Y=os||ny(n,s,Y,o,B,F,I)||e!==null&&e.dependencies!==null&&Fu(e.dependencies))?(j||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(o,F,I),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(o,F,I)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||g===e.memoizedProps&&B===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&B===e.memoizedState||(n.flags|=1024),n.memoizedProps=o,n.memoizedState=F),f.props=o,f.state=F,f.context=I,o=Y):(typeof f.componentDidUpdate!="function"||g===e.memoizedProps&&B===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&B===e.memoizedState||(n.flags|=1024),o=!1)}return f=o,uc(e,n),o=(n.flags&128)!==0,f||o?(f=n.stateNode,s=o&&typeof s.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,e!==null&&o?(n.child=Ta(n,e.child,null,h),n.child=Ta(n,null,s,h)):on(e,n,s,h),n.memoizedState=f.state,e=n.child):e=br(e,n,h),e}function _y(e,n,s,o){return ga(),n.flags|=256,on(e,n,s,o),n.child}var Kf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Xf(e){return{baseLanes:e,cachePool:op()}}function $f(e,n,s){return e=e!==null?e.childLanes&~s:0,n&&(e|=Zn),e}function vy(e,n,s){var o=n.pendingProps,h=!1,f=(n.flags&128)!==0,g;if((g=f)||(g=e!==null&&e.memoizedState===null?!1:(Me.current&2)!==0),g&&(h=!0,n.flags&=-129),g=(n.flags&32)!==0,n.flags&=-33,e===null){if(Qt){if(h?cs(n):hs(),(e=de)?(e=I_(e,mi),e=e!==null&&e.data!=="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:is!==null?{id:Qi,overflow:Yi}:null,retryLane:536870912,hydrationErrors:null},s=Zg(e),s.return=n,n.child=s,sn=n,de=null)):e=null,e===null)throw ss(n);return Md(e)?n.lanes=32:n.lanes=536870912,null}var E=o.children;return o=o.fallback,h?(hs(),h=n.mode,E=cc({mode:"hidden",children:E},h),o=ma(o,h,s,null),E.return=n,o.return=n,E.sibling=o,n.child=E,o=n.child,o.memoizedState=Xf(s),o.childLanes=$f(e,g,s),n.memoizedState=Kf,bl(null,o)):(cs(n),Jf(n,E))}var I=e.memoizedState;if(I!==null&&(E=I.dehydrated,E!==null)){if(f)n.flags&256?(cs(n),n.flags&=-257,n=Zf(e,n,s)):n.memoizedState!==null?(hs(),n.child=e.child,n.flags|=128,n=null):(hs(),E=o.fallback,h=n.mode,o=cc({mode:"visible",children:o.children},h),E=ma(E,h,s,null),E.flags|=2,o.return=n,E.return=n,o.sibling=E,n.child=o,Ta(n,e.child,null,s),o=n.child,o.memoizedState=Xf(s),o.childLanes=$f(e,g,s),n.memoizedState=Kf,n=bl(null,o));else if(cs(n),Md(E)){if(g=E.nextSibling&&E.nextSibling.dataset,g)var j=g.dgst;g=j,o=Error(a(419)),o.stack="",o.digest=g,cl({value:o,source:null,stack:null}),n=Zf(e,n,s)}else if(Be||ro(e,n,s,!1),g=(s&e.childLanes)!==0,Be||g){if(g=ce,g!==null&&(o=Yr(g,s),o!==0&&o!==I.retryLane))throw I.retryLane=o,da(e,o),zn(g,e,o),Qf;Dd(E)||vc(),n=Zf(e,n,s)}else Dd(E)?(n.flags|=192,n.child=e.child,n=null):(e=I.treeContext,de=pi(E.nextSibling),sn=n,Qt=!0,rs=null,mi=!1,e!==null&&ep(n,e),n=Jf(n,o.children),n.flags|=4096);return n}return h?(hs(),E=o.fallback,h=n.mode,I=e.child,j=I.sibling,o=pr(I,{mode:"hidden",children:o.children}),o.subtreeFlags=I.subtreeFlags&65011712,j!==null?E=pr(j,E):(E=ma(E,h,s,null),E.flags|=2),E.return=n,o.return=n,o.sibling=E,n.child=o,bl(null,o),o=n.child,E=e.child.memoizedState,E===null?E=Xf(s):(h=E.cachePool,h!==null?(I=ze._currentValue,h=h.parent!==I?{parent:I,pool:I}:h):h=op(),E={baseLanes:E.baseLanes|s,cachePool:h}),o.memoizedState=E,o.childLanes=$f(e,g,s),n.memoizedState=Kf,bl(e.child,o)):(cs(n),s=e.child,e=s.sibling,s=pr(s,{mode:"visible",children:o.children}),s.return=n,s.sibling=null,e!==null&&(g=n.deletions,g===null?(n.deletions=[e],n.flags|=16):g.push(e)),n.child=s,n.memoizedState=null,s)}function Jf(e,n){return n=cc({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function cc(e,n){return e=Kn(22,e,null,n),e.lanes=0,e}function Zf(e,n,s){return Ta(n,e.child,null,s),e=Jf(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function Ey(e,n,s){e.lanes|=n;var o=e.alternate;o!==null&&(o.lanes|=n),df(e.return,n,s)}function Wf(e,n,s,o,h,f){var g=e.memoizedState;g===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:o,tail:s,tailMode:h,treeForkCount:f}:(g.isBackwards=n,g.rendering=null,g.renderingStartTime=0,g.last=o,g.tail=s,g.tailMode=h,g.treeForkCount=f)}function Ty(e,n,s){var o=n.pendingProps,h=o.revealOrder,f=o.tail;o=o.children;var g=Me.current,E=(g&2)!==0;if(E?(g=g&1|2,n.flags|=128):g&=1,at(Me,g),on(e,n,o,s),o=Qt?ul:0,!E&&e!==null&&(e.flags&128)!==0)t:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Ey(e,s,n);else if(e.tag===19)Ey(e,s,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break t;for(;e.sibling===null;){if(e.return===null||e.return===n)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(h){case"forwards":for(s=n.child,h=null;s!==null;)e=s.alternate,e!==null&&Zu(e)===null&&(h=s),s=s.sibling;s=h,s===null?(h=n.child,n.child=null):(h=s.sibling,s.sibling=null),Wf(n,!1,h,s,f,o);break;case"backwards":case"unstable_legacy-backwards":for(s=null,h=n.child,n.child=null;h!==null;){if(e=h.alternate,e!==null&&Zu(e)===null){n.child=h;break}e=h.sibling,h.sibling=s,s=h,h=e}Wf(n,!0,s,null,f,o);break;case"together":Wf(n,!1,null,null,void 0,o);break;default:n.memoizedState=null}return n.child}function br(e,n,s){if(e!==null&&(n.dependencies=e.dependencies),ms|=n.lanes,(s&n.childLanes)===0)if(e!==null){if(ro(e,n,s,!1),(s&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(a(153));if(n.child!==null){for(e=n.child,s=pr(e,e.pendingProps),n.child=s,s.return=n;e.sibling!==null;)e=e.sibling,s=s.sibling=pr(e,e.pendingProps),s.return=n;s.sibling=null}return n.child}function td(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&Fu(e)))}function XT(e,n,s){switch(n.tag){case 3:Ue(n,n.stateNode.containerInfo),as(n,ze,e.memoizedState.cache),ga();break;case 27:case 5:qr(n);break;case 4:Ue(n,n.stateNode.containerInfo);break;case 10:as(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,wf(n),null;break;case 13:var o=n.memoizedState;if(o!==null)return o.dehydrated!==null?(cs(n),n.flags|=128,null):(s&n.child.childLanes)!==0?vy(e,n,s):(cs(n),e=br(e,n,s),e!==null?e.sibling:null);cs(n);break;case 19:var h=(e.flags&128)!==0;if(o=(s&n.childLanes)!==0,o||(ro(e,n,s,!1),o=(s&n.childLanes)!==0),h){if(o)return Ty(e,n,s);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),at(Me,Me.current),o)break;return null;case 22:return n.lanes=0,dy(e,n,s,n.pendingProps);case 24:as(n,ze,e.memoizedState.cache)}return br(e,n,s)}function by(e,n,s){if(e!==null)if(e.memoizedProps!==n.pendingProps)Be=!0;else{if(!td(e,s)&&(n.flags&128)===0)return Be=!1,XT(e,n,s);Be=(e.flags&131072)!==0}else Be=!1,Qt&&(n.flags&1048576)!==0&&tp(n,ul,n.index);switch(n.lanes=0,n.tag){case 16:t:{var o=n.pendingProps;if(e=va(n.elementType),n.type=e,typeof e=="function")sf(e)?(o=Sa(e,o),n.tag=1,n=yy(null,n,e,o,s)):(n.tag=0,n=Yf(null,n,e,o,s));else{if(e!=null){var h=e.$$typeof;if(h===Ot){n.tag=11,n=cy(null,n,e,o,s);break t}else if(h===N){n.tag=14,n=hy(null,n,e,o,s);break t}}throw n=se(e)||e,Error(a(306,n,""))}}return n;case 0:return Yf(e,n,n.type,n.pendingProps,s);case 1:return o=n.type,h=Sa(o,n.pendingProps),yy(e,n,o,h,s);case 3:t:{if(Ue(n,n.stateNode.containerInfo),e===null)throw Error(a(387));o=n.pendingProps;var f=n.memoizedState;h=f.element,Ef(e,n),yl(n,o,null,s);var g=n.memoizedState;if(o=g.cache,as(n,ze,o),o!==f.cache&&mf(n,[ze],s,!0),pl(),o=g.element,f.isDehydrated)if(f={element:o,isDehydrated:!1,cache:g.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=_y(e,n,o,s);break t}else if(o!==h){h=hi(Error(a(424)),n),cl(h),n=_y(e,n,o,s);break t}else{switch(e=n.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(de=pi(e.firstChild),sn=n,Qt=!0,rs=null,mi=!0,s=dp(n,null,o,s),n.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling}else{if(ga(),o===h){n=br(e,n,s);break t}on(e,n,o,s)}n=n.child}return n;case 26:return uc(e,n),e===null?(s=O_(n.type,null,n.pendingProps,null))?n.memoizedState=s:Qt||(s=n.type,e=n.pendingProps,o=Rc(Ct.current).createElement(s),o[_e]=n,o[Ne]=e,ln(o,s,e),Se(o),n.stateNode=o):n.memoizedState=O_(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return qr(n),e===null&&Qt&&(o=n.stateNode=x_(n.type,n.pendingProps,Ct.current),sn=n,mi=!0,h=de,vs(n.type)?(Od=h,de=pi(o.firstChild)):de=h),on(e,n,n.pendingProps.children,s),uc(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&Qt&&((h=o=de)&&(o=wb(o,n.type,n.pendingProps,mi),o!==null?(n.stateNode=o,sn=n,de=pi(o.firstChild),mi=!1,h=!0):h=!1),h||ss(n)),qr(n),h=n.type,f=n.pendingProps,g=e!==null?e.memoizedProps:null,o=f.children,Cd(h,f)?o=null:g!==null&&Cd(h,g)&&(n.flags|=32),n.memoizedState!==null&&(h=If(e,n,jT,null,null,s),Ll._currentValue=h),uc(e,n),on(e,n,o,s),n.child;case 6:return e===null&&Qt&&((e=s=de)&&(s=Rb(s,n.pendingProps,mi),s!==null?(n.stateNode=s,sn=n,de=null,e=!0):e=!1),e||ss(n)),null;case 13:return vy(e,n,s);case 4:return Ue(n,n.stateNode.containerInfo),o=n.pendingProps,e===null?n.child=Ta(n,null,o,s):on(e,n,o,s),n.child;case 11:return cy(e,n,n.type,n.pendingProps,s);case 7:return on(e,n,n.pendingProps,s),n.child;case 8:return on(e,n,n.pendingProps.children,s),n.child;case 12:return on(e,n,n.pendingProps.children,s),n.child;case 10:return o=n.pendingProps,as(n,n.type,o.value),on(e,n,o.children,s),n.child;case 9:return h=n.type._context,o=n.pendingProps.children,ya(n),h=an(h),o=o(h),n.flags|=1,on(e,n,o,s),n.child;case 14:return hy(e,n,n.type,n.pendingProps,s);case 15:return fy(e,n,n.type,n.pendingProps,s);case 19:return Ty(e,n,s);case 31:return KT(e,n,s);case 22:return dy(e,n,s,n.pendingProps);case 24:return ya(n),o=an(ze),e===null?(h=yf(),h===null&&(h=ce,f=gf(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=s),h=f),n.memoizedState={parent:o,cache:h},vf(n),as(n,ze,h)):((e.lanes&s)!==0&&(Ef(e,n),yl(n,null,null,s),pl()),h=e.memoizedState,f=n.memoizedState,h.parent!==o?(h={parent:o,cache:o},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),as(n,ze,o)):(o=f.cache,as(n,ze,o),o!==h.cache&&mf(n,[ze],s,!0))),on(e,n,n.pendingProps.children,s),n.child;case 29:throw n.pendingProps}throw Error(a(156,n.tag))}function Sr(e){e.flags|=4}function ed(e,n,s,o,h){if((n=(e.mode&32)!==0)&&(n=!1),n){if(e.flags|=16777216,(h&335544128)===h)if(e.stateNode.complete)e.flags|=8192;else if(Xy())e.flags|=8192;else throw Ea=Ku,_f}else e.flags&=-16777217}function Sy(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!P_(n))if(Xy())e.flags|=8192;else throw Ea=Ku,_f}function hc(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?wn():536870912,e.lanes|=n,yo|=n)}function Sl(e,n){if(!Qt)switch(e.tailMode){case"hidden":n=e.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?e.tail=null:s.sibling=null;break;case"collapsed":s=e.tail;for(var o=null;s!==null;)s.alternate!==null&&(o=s),s=s.sibling;o===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function me(e){var n=e.alternate!==null&&e.alternate.child===e.child,s=0,o=0;if(n)for(var h=e.child;h!==null;)s|=h.lanes|h.childLanes,o|=h.subtreeFlags&65011712,o|=h.flags&65011712,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)s|=h.lanes|h.childLanes,o|=h.subtreeFlags,o|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=o,e.childLanes=s,n}function $T(e,n,s){var o=n.pendingProps;switch(uf(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return me(n),null;case 1:return me(n),null;case 3:return s=n.stateNode,o=null,e!==null&&(o=e.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),vr(ze),fe(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(e===null||e.child===null)&&(io(n)?Sr(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,hf())),me(n),null;case 26:var h=n.type,f=n.memoizedState;return e===null?(Sr(n),f!==null?(me(n),Sy(n,f)):(me(n),ed(n,h,null,o,s))):f?f!==e.memoizedState?(Sr(n),me(n),Sy(n,f)):(me(n),n.flags&=-16777217):(e=e.memoizedProps,e!==o&&Sr(n),me(n),ed(n,h,e,o,s)),null;case 27:if(Fs(n),s=Ct.current,h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&Sr(n);else{if(!o){if(n.stateNode===null)throw Error(a(166));return me(n),null}e=ut.current,io(n)?np(n):(e=x_(h,o,s),n.stateNode=e,Sr(n))}return me(n),null;case 5:if(Fs(n),h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&Sr(n);else{if(!o){if(n.stateNode===null)throw Error(a(166));return me(n),null}if(f=ut.current,io(n))np(n);else{var g=Rc(Ct.current);switch(f){case 1:f=g.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:f=g.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":f=g.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":f=g.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":f=g.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof o.is=="string"?g.createElement("select",{is:o.is}):g.createElement("select"),o.multiple?f.multiple=!0:o.size&&(f.size=o.size);break;default:f=typeof o.is=="string"?g.createElement(h,{is:o.is}):g.createElement(h)}}f[_e]=n,f[Ne]=o;t:for(g=n.child;g!==null;){if(g.tag===5||g.tag===6)f.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===n)break t;for(;g.sibling===null;){if(g.return===null||g.return===n)break t;g=g.return}g.sibling.return=g.return,g=g.sibling}n.stateNode=f;t:switch(ln(f,h,o),h){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break t;case"img":o=!0;break t;default:o=!1}o&&Sr(n)}}return me(n),ed(n,n.type,e===null?null:e.memoizedProps,n.pendingProps,s),null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==o&&Sr(n);else{if(typeof o!="string"&&n.stateNode===null)throw Error(a(166));if(e=Ct.current,io(n)){if(e=n.stateNode,s=n.memoizedProps,o=null,h=sn,h!==null)switch(h.tag){case 27:case 5:o=h.memoizedProps}e[_e]=n,e=!!(e.nodeValue===s||o!==null&&o.suppressHydrationWarning===!0||v_(e.nodeValue,s)),e||ss(n,!0)}else e=Rc(e).createTextNode(o),e[_e]=n,n.stateNode=e}return me(n),null;case 31:if(s=n.memoizedState,e===null||e.memoizedState!==null){if(o=io(n),s!==null){if(e===null){if(!o)throw Error(a(318));if(e=n.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(557));e[_e]=n}else ga(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;me(n),e=!1}else s=hf(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=s),e=!0;if(!e)return n.flags&256?($n(n),n):($n(n),null);if((n.flags&128)!==0)throw Error(a(558))}return me(n),null;case 13:if(o=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=io(n),o!==null&&o.dehydrated!==null){if(e===null){if(!h)throw Error(a(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(a(317));h[_e]=n}else ga(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;me(n),h=!1}else h=hf(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?($n(n),n):($n(n),null)}return $n(n),(n.flags&128)!==0?(n.lanes=s,n):(s=o!==null,e=e!==null&&e.memoizedState!==null,s&&(o=n.child,h=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(h=o.alternate.memoizedState.cachePool.pool),f=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),f!==h&&(o.flags|=2048)),s!==e&&s&&(n.child.flags|=8192),hc(n,n.updateQueue),me(n),null);case 4:return fe(),e===null&&Sd(n.stateNode.containerInfo),me(n),null;case 10:return vr(n.type),me(n),null;case 19:if($(Me),o=n.memoizedState,o===null)return me(n),null;if(h=(n.flags&128)!==0,f=o.rendering,f===null)if(h)Sl(o,!1);else{if(Re!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(f=Zu(e),f!==null){for(n.flags|=128,Sl(o,!1),e=f.updateQueue,n.updateQueue=e,hc(n,e),n.subtreeFlags=0,e=s,s=n.child;s!==null;)Jg(s,e),s=s.sibling;return at(Me,Me.current&1|2),Qt&&yr(n,o.treeForkCount),n.child}e=e.sibling}o.tail!==null&&$e()>pc&&(n.flags|=128,h=!0,Sl(o,!1),n.lanes=4194304)}else{if(!h)if(e=Zu(f),e!==null){if(n.flags|=128,h=!0,e=e.updateQueue,n.updateQueue=e,hc(n,e),Sl(o,!0),o.tail===null&&o.tailMode==="hidden"&&!f.alternate&&!Qt)return me(n),null}else 2*$e()-o.renderingStartTime>pc&&s!==536870912&&(n.flags|=128,h=!0,Sl(o,!1),n.lanes=4194304);o.isBackwards?(f.sibling=n.child,n.child=f):(e=o.last,e!==null?e.sibling=f:n.child=f,o.last=f)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=$e(),e.sibling=null,s=Me.current,at(Me,h?s&1|2:s&1),Qt&&yr(n,o.treeForkCount),e):(me(n),null);case 22:case 23:return $n(n),Af(),o=n.memoizedState!==null,e!==null?e.memoizedState!==null!==o&&(n.flags|=8192):o&&(n.flags|=8192),o?(s&536870912)!==0&&(n.flags&128)===0&&(me(n),n.subtreeFlags&6&&(n.flags|=8192)):me(n),s=n.updateQueue,s!==null&&hc(n,s.retryQueue),s=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),o=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),o!==s&&(n.flags|=2048),e!==null&&$(_a),null;case 24:return s=null,e!==null&&(s=e.memoizedState.cache),n.memoizedState.cache!==s&&(n.flags|=2048),vr(ze),me(n),null;case 25:return null;case 30:return null}throw Error(a(156,n.tag))}function JT(e,n){switch(uf(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return vr(ze),fe(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return Fs(n),null;case 31:if(n.memoizedState!==null){if($n(n),n.alternate===null)throw Error(a(340));ga()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 13:if($n(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(a(340));ga()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return $(Me),null;case 4:return fe(),null;case 10:return vr(n.type),null;case 22:case 23:return $n(n),Af(),e!==null&&$(_a),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return vr(ze),null;case 25:return null;default:return null}}function Ay(e,n){switch(uf(n),n.tag){case 3:vr(ze),fe();break;case 26:case 27:case 5:Fs(n);break;case 4:fe();break;case 31:n.memoizedState!==null&&$n(n);break;case 13:$n(n);break;case 19:$(Me);break;case 10:vr(n.type);break;case 22:case 23:$n(n),Af(),e!==null&&$(_a);break;case 24:vr(ze)}}function Al(e,n){try{var s=n.updateQueue,o=s!==null?s.lastEffect:null;if(o!==null){var h=o.next;s=h;do{if((s.tag&e)===e){o=void 0;var f=s.create,g=s.inst;o=f(),g.destroy=o}s=s.next}while(s!==h)}}catch(E){re(n,n.return,E)}}function fs(e,n,s){try{var o=n.updateQueue,h=o!==null?o.lastEffect:null;if(h!==null){var f=h.next;o=f;do{if((o.tag&e)===e){var g=o.inst,E=g.destroy;if(E!==void 0){g.destroy=void 0,h=n;var I=s,j=E;try{j()}catch(Y){re(h,I,Y)}}}o=o.next}while(o!==f)}}catch(Y){re(n,n.return,Y)}}function wy(e){var n=e.updateQueue;if(n!==null){var s=e.stateNode;try{gp(n,s)}catch(o){re(e,e.return,o)}}}function Ry(e,n,s){s.props=Sa(e.type,e.memoizedProps),s.state=e.memoizedState;try{s.componentWillUnmount()}catch(o){re(e,n,o)}}function wl(e,n){try{var s=e.ref;if(s!==null){switch(e.tag){case 26:case 27:case 5:var o=e.stateNode;break;case 30:o=e.stateNode;break;default:o=e.stateNode}typeof s=="function"?e.refCleanup=s(o):s.current=o}}catch(h){re(e,n,h)}}function Ki(e,n){var s=e.ref,o=e.refCleanup;if(s!==null)if(typeof o=="function")try{o()}catch(h){re(e,n,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(h){re(e,n,h)}else s.current=null}function Iy(e){var n=e.type,s=e.memoizedProps,o=e.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":s.autoFocus&&o.focus();break t;case"img":s.src?o.src=s.src:s.srcSet&&(o.srcset=s.srcSet)}}catch(h){re(e,e.return,h)}}function nd(e,n,s){try{var o=e.stateNode;vb(o,e.type,s,n),o[Ne]=n}catch(h){re(e,e.return,h)}}function Cy(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&vs(e.type)||e.tag===4}function id(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||Cy(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&vs(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function rd(e,n,s){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(e,n):(n=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,n.appendChild(e),s=s._reactRootContainer,s!=null||n.onclick!==null||(n.onclick=xe));else if(o!==4&&(o===27&&vs(e.type)&&(s=e.stateNode,n=null),e=e.child,e!==null))for(rd(e,n,s),e=e.sibling;e!==null;)rd(e,n,s),e=e.sibling}function fc(e,n,s){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?s.insertBefore(e,n):s.appendChild(e);else if(o!==4&&(o===27&&vs(e.type)&&(s=e.stateNode),e=e.child,e!==null))for(fc(e,n,s),e=e.sibling;e!==null;)fc(e,n,s),e=e.sibling}function Ny(e){var n=e.stateNode,s=e.memoizedProps;try{for(var o=e.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);ln(n,o,s),n[_e]=e,n[Ne]=s}catch(f){re(e,e.return,f)}}var Ar=!1,qe=!1,sd=!1,xy=typeof WeakSet=="function"?WeakSet:Set,Je=null;function ZT(e,n){if(e=e.containerInfo,Rd=Oc,e=qg(e),Jh(e)){if("selectionStart"in e)var s={start:e.selectionStart,end:e.selectionEnd};else t:{s=(s=e.ownerDocument)&&s.defaultView||window;var o=s.getSelection&&s.getSelection();if(o&&o.rangeCount!==0){s=o.anchorNode;var h=o.anchorOffset,f=o.focusNode;o=o.focusOffset;try{s.nodeType,f.nodeType}catch{s=null;break t}var g=0,E=-1,I=-1,j=0,Y=0,J=e,B=null;e:for(;;){for(var F;J!==s||h!==0&&J.nodeType!==3||(E=g+h),J!==f||o!==0&&J.nodeType!==3||(I=g+o),J.nodeType===3&&(g+=J.nodeValue.length),(F=J.firstChild)!==null;)B=J,J=F;for(;;){if(J===e)break e;if(B===s&&++j===h&&(E=g),B===f&&++Y===o&&(I=g),(F=J.nextSibling)!==null)break;J=B,B=J.parentNode}J=F}s=E===-1||I===-1?null:{start:E,end:I}}else s=null}s=s||{start:0,end:0}}else s=null;for(Id={focusedElem:e,selectionRange:s},Oc=!1,Je=n;Je!==null;)if(n=Je,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,Je=e;else for(;Je!==null;){switch(n=Je,f=n.alternate,e=n.flags,n.tag){case 0:if((e&4)!==0&&(e=n.updateQueue,e=e!==null?e.events:null,e!==null))for(s=0;s<e.length;s++)h=e[s],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&f!==null){e=void 0,s=n,h=f.memoizedProps,f=f.memoizedState,o=s.stateNode;try{var ft=Sa(s.type,h);e=o.getSnapshotBeforeUpdate(ft,f),o.__reactInternalSnapshotBeforeUpdate=e}catch(vt){re(s,s.return,vt)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,s=e.nodeType,s===9)xd(e);else if(s===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":xd(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(a(163))}if(e=n.sibling,e!==null){e.return=n.return,Je=e;break}Je=n.return}}function Dy(e,n,s){var o=s.flags;switch(s.tag){case 0:case 11:case 15:Rr(e,s),o&4&&Al(5,s);break;case 1:if(Rr(e,s),o&4)if(e=s.stateNode,n===null)try{e.componentDidMount()}catch(g){re(s,s.return,g)}else{var h=Sa(s.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(h,n,e.__reactInternalSnapshotBeforeUpdate)}catch(g){re(s,s.return,g)}}o&64&&wy(s),o&512&&wl(s,s.return);break;case 3:if(Rr(e,s),o&64&&(e=s.updateQueue,e!==null)){if(n=null,s.child!==null)switch(s.child.tag){case 27:case 5:n=s.child.stateNode;break;case 1:n=s.child.stateNode}try{gp(e,n)}catch(g){re(s,s.return,g)}}break;case 27:n===null&&o&4&&Ny(s);case 26:case 5:Rr(e,s),n===null&&o&4&&Iy(s),o&512&&wl(s,s.return);break;case 12:Rr(e,s);break;case 31:Rr(e,s),o&4&&Vy(e,s);break;case 13:Rr(e,s),o&4&&ky(e,s),o&64&&(e=s.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(s=ob.bind(null,s),Ib(e,s))));break;case 22:if(o=s.memoizedState!==null||Ar,!o){n=n!==null&&n.memoizedState!==null||qe,h=Ar;var f=qe;Ar=o,(qe=n)&&!f?Ir(e,s,(s.subtreeFlags&8772)!==0):Rr(e,s),Ar=h,qe=f}break;case 30:break;default:Rr(e,s)}}function My(e){var n=e.alternate;n!==null&&(e.alternate=null,My(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&Xr(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var ye=null,kn=!1;function wr(e,n,s){for(s=s.child;s!==null;)Oy(e,n,s),s=s.sibling}function Oy(e,n,s){if(Qe&&typeof Qe.onCommitFiberUnmount=="function")try{Qe.onCommitFiberUnmount(An,s)}catch{}switch(s.tag){case 26:qe||Ki(s,n),wr(e,n,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:qe||Ki(s,n);var o=ye,h=kn;vs(s.type)&&(ye=s.stateNode,kn=!1),wr(e,n,s),Vl(s.stateNode),ye=o,kn=h;break;case 5:qe||Ki(s,n);case 6:if(o=ye,h=kn,ye=null,wr(e,n,s),ye=o,kn=h,ye!==null)if(kn)try{(ye.nodeType===9?ye.body:ye.nodeName==="HTML"?ye.ownerDocument.body:ye).removeChild(s.stateNode)}catch(f){re(s,n,f)}else try{ye.removeChild(s.stateNode)}catch(f){re(s,n,f)}break;case 18:ye!==null&&(kn?(e=ye,w_(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,s.stateNode),wo(e)):w_(ye,s.stateNode));break;case 4:o=ye,h=kn,ye=s.stateNode.containerInfo,kn=!0,wr(e,n,s),ye=o,kn=h;break;case 0:case 11:case 14:case 15:fs(2,s,n),qe||fs(4,s,n),wr(e,n,s);break;case 1:qe||(Ki(s,n),o=s.stateNode,typeof o.componentWillUnmount=="function"&&Ry(s,n,o)),wr(e,n,s);break;case 21:wr(e,n,s);break;case 22:qe=(o=qe)||s.memoizedState!==null,wr(e,n,s),qe=o;break;default:wr(e,n,s)}}function Vy(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{wo(e)}catch(s){re(n,n.return,s)}}}function ky(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{wo(e)}catch(s){re(n,n.return,s)}}function WT(e){switch(e.tag){case 31:case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new xy),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new xy),n;default:throw Error(a(435,e.tag))}}function dc(e,n){var s=WT(e);n.forEach(function(o){if(!s.has(o)){s.add(o);var h=lb.bind(null,e,o);o.then(h,h)}})}function Un(e,n){var s=n.deletions;if(s!==null)for(var o=0;o<s.length;o++){var h=s[o],f=e,g=n,E=g;t:for(;E!==null;){switch(E.tag){case 27:if(vs(E.type)){ye=E.stateNode,kn=!1;break t}break;case 5:ye=E.stateNode,kn=!1;break t;case 3:case 4:ye=E.stateNode.containerInfo,kn=!0;break t}E=E.return}if(ye===null)throw Error(a(160));Oy(f,g,h),ye=null,kn=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)Uy(n,e),n=n.sibling}var Di=null;function Uy(e,n){var s=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Un(n,e),Ln(e),o&4&&(fs(3,e,e.return),Al(3,e),fs(5,e,e.return));break;case 1:Un(n,e),Ln(e),o&512&&(qe||s===null||Ki(s,s.return)),o&64&&Ar&&(e=e.updateQueue,e!==null&&(o=e.callbacks,o!==null&&(s=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=s===null?o:s.concat(o))));break;case 26:var h=Di;if(Un(n,e),Ln(e),o&512&&(qe||s===null||Ki(s,s.return)),o&4){var f=s!==null?s.memoizedState:null;if(o=e.memoizedState,s===null)if(o===null)if(e.stateNode===null){t:{o=e.type,s=e.memoizedProps,h=h.ownerDocument||h;e:switch(o){case"title":f=h.getElementsByTagName("title")[0],(!f||f[ii]||f[_e]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(o),h.head.insertBefore(f,h.querySelector("head > title"))),ln(f,o,s),f[_e]=e,Se(f),o=f;break t;case"link":var g=U_("link","href",h).get(o+(s.href||""));if(g){for(var E=0;E<g.length;E++)if(f=g[E],f.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&f.getAttribute("rel")===(s.rel==null?null:s.rel)&&f.getAttribute("title")===(s.title==null?null:s.title)&&f.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){g.splice(E,1);break e}}f=h.createElement(o),ln(f,o,s),h.head.appendChild(f);break;case"meta":if(g=U_("meta","content",h).get(o+(s.content||""))){for(E=0;E<g.length;E++)if(f=g[E],f.getAttribute("content")===(s.content==null?null:""+s.content)&&f.getAttribute("name")===(s.name==null?null:s.name)&&f.getAttribute("property")===(s.property==null?null:s.property)&&f.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&f.getAttribute("charset")===(s.charSet==null?null:s.charSet)){g.splice(E,1);break e}}f=h.createElement(o),ln(f,o,s),h.head.appendChild(f);break;default:throw Error(a(468,o))}f[_e]=e,Se(f),o=f}e.stateNode=o}else L_(h,e.type,e.stateNode);else e.stateNode=k_(h,o,e.memoizedProps);else f!==o?(f===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):f.count--,o===null?L_(h,e.type,e.stateNode):k_(h,o,e.memoizedProps)):o===null&&e.stateNode!==null&&nd(e,e.memoizedProps,s.memoizedProps)}break;case 27:Un(n,e),Ln(e),o&512&&(qe||s===null||Ki(s,s.return)),s!==null&&o&4&&nd(e,e.memoizedProps,s.memoizedProps);break;case 5:if(Un(n,e),Ln(e),o&512&&(qe||s===null||Ki(s,s.return)),e.flags&32){h=e.stateNode;try{yn(h,"")}catch(ft){re(e,e.return,ft)}}o&4&&e.stateNode!=null&&(h=e.memoizedProps,nd(e,h,s!==null?s.memoizedProps:h)),o&1024&&(sd=!0);break;case 6:if(Un(n,e),Ln(e),o&4){if(e.stateNode===null)throw Error(a(162));o=e.memoizedProps,s=e.stateNode;try{s.nodeValue=o}catch(ft){re(e,e.return,ft)}}break;case 3:if(Nc=null,h=Di,Di=Ic(n.containerInfo),Un(n,e),Di=h,Ln(e),o&4&&s!==null&&s.memoizedState.isDehydrated)try{wo(n.containerInfo)}catch(ft){re(e,e.return,ft)}sd&&(sd=!1,Ly(e));break;case 4:o=Di,Di=Ic(e.stateNode.containerInfo),Un(n,e),Ln(e),Di=o;break;case 12:Un(n,e),Ln(e);break;case 31:Un(n,e),Ln(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,dc(e,o)));break;case 13:Un(n,e),Ln(e),e.child.flags&8192&&e.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(gc=$e()),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,dc(e,o)));break;case 22:h=e.memoizedState!==null;var I=s!==null&&s.memoizedState!==null,j=Ar,Y=qe;if(Ar=j||h,qe=Y||I,Un(n,e),qe=Y,Ar=j,Ln(e),o&8192)t:for(n=e.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(s===null||I||Ar||qe||Aa(e)),s=null,n=e;;){if(n.tag===5||n.tag===26){if(s===null){I=s=n;try{if(f=I.stateNode,h)g=f.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none";else{E=I.stateNode;var J=I.memoizedProps.style,B=J!=null&&J.hasOwnProperty("display")?J.display:null;E.style.display=B==null||typeof B=="boolean"?"":(""+B).trim()}}catch(ft){re(I,I.return,ft)}}}else if(n.tag===6){if(s===null){I=n;try{I.stateNode.nodeValue=h?"":I.memoizedProps}catch(ft){re(I,I.return,ft)}}}else if(n.tag===18){if(s===null){I=n;try{var F=I.stateNode;h?R_(F,!0):R_(I.stateNode,!1)}catch(ft){re(I,I.return,ft)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break t;for(;n.sibling===null;){if(n.return===null||n.return===e)break t;s===n&&(s=null),n=n.return}s===n&&(s=null),n.sibling.return=n.return,n=n.sibling}o&4&&(o=e.updateQueue,o!==null&&(s=o.retryQueue,s!==null&&(o.retryQueue=null,dc(e,s))));break;case 19:Un(n,e),Ln(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,dc(e,o)));break;case 30:break;case 21:break;default:Un(n,e),Ln(e)}}function Ln(e){var n=e.flags;if(n&2){try{for(var s,o=e.return;o!==null;){if(Cy(o)){s=o;break}o=o.return}if(s==null)throw Error(a(160));switch(s.tag){case 27:var h=s.stateNode,f=id(e);fc(e,f,h);break;case 5:var g=s.stateNode;s.flags&32&&(yn(g,""),s.flags&=-33);var E=id(e);fc(e,E,g);break;case 3:case 4:var I=s.stateNode.containerInfo,j=id(e);rd(e,j,I);break;default:throw Error(a(161))}}catch(Y){re(e,e.return,Y)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function Ly(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;Ly(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function Rr(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Dy(e,n.alternate,n),n=n.sibling}function Aa(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:fs(4,n,n.return),Aa(n);break;case 1:Ki(n,n.return);var s=n.stateNode;typeof s.componentWillUnmount=="function"&&Ry(n,n.return,s),Aa(n);break;case 27:Vl(n.stateNode);case 26:case 5:Ki(n,n.return),Aa(n);break;case 22:n.memoizedState===null&&Aa(n);break;case 30:Aa(n);break;default:Aa(n)}e=e.sibling}}function Ir(e,n,s){for(s=s&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var o=n.alternate,h=e,f=n,g=f.flags;switch(f.tag){case 0:case 11:case 15:Ir(h,f,s),Al(4,f);break;case 1:if(Ir(h,f,s),o=f,h=o.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(j){re(o,o.return,j)}if(o=f,h=o.updateQueue,h!==null){var E=o.stateNode;try{var I=h.shared.hiddenCallbacks;if(I!==null)for(h.shared.hiddenCallbacks=null,h=0;h<I.length;h++)mp(I[h],E)}catch(j){re(o,o.return,j)}}s&&g&64&&wy(f),wl(f,f.return);break;case 27:Ny(f);case 26:case 5:Ir(h,f,s),s&&o===null&&g&4&&Iy(f),wl(f,f.return);break;case 12:Ir(h,f,s);break;case 31:Ir(h,f,s),s&&g&4&&Vy(h,f);break;case 13:Ir(h,f,s),s&&g&4&&ky(h,f);break;case 22:f.memoizedState===null&&Ir(h,f,s),wl(f,f.return);break;case 30:break;default:Ir(h,f,s)}n=n.sibling}}function ad(e,n){var s=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==s&&(e!=null&&e.refCount++,s!=null&&hl(s))}function od(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&hl(e))}function Mi(e,n,s,o){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Py(e,n,s,o),n=n.sibling}function Py(e,n,s,o){var h=n.flags;switch(n.tag){case 0:case 11:case 15:Mi(e,n,s,o),h&2048&&Al(9,n);break;case 1:Mi(e,n,s,o);break;case 3:Mi(e,n,s,o),h&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&hl(e)));break;case 12:if(h&2048){Mi(e,n,s,o),e=n.stateNode;try{var f=n.memoizedProps,g=f.id,E=f.onPostCommit;typeof E=="function"&&E(g,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(I){re(n,n.return,I)}}else Mi(e,n,s,o);break;case 31:Mi(e,n,s,o);break;case 13:Mi(e,n,s,o);break;case 23:break;case 22:f=n.stateNode,g=n.alternate,n.memoizedState!==null?f._visibility&2?Mi(e,n,s,o):Rl(e,n):f._visibility&2?Mi(e,n,s,o):(f._visibility|=2,mo(e,n,s,o,(n.subtreeFlags&10256)!==0||!1)),h&2048&&ad(g,n);break;case 24:Mi(e,n,s,o),h&2048&&od(n.alternate,n);break;default:Mi(e,n,s,o)}}function mo(e,n,s,o,h){for(h=h&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=e,g=n,E=s,I=o,j=g.flags;switch(g.tag){case 0:case 11:case 15:mo(f,g,E,I,h),Al(8,g);break;case 23:break;case 22:var Y=g.stateNode;g.memoizedState!==null?Y._visibility&2?mo(f,g,E,I,h):Rl(f,g):(Y._visibility|=2,mo(f,g,E,I,h)),h&&j&2048&&ad(g.alternate,g);break;case 24:mo(f,g,E,I,h),h&&j&2048&&od(g.alternate,g);break;default:mo(f,g,E,I,h)}n=n.sibling}}function Rl(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var s=e,o=n,h=o.flags;switch(o.tag){case 22:Rl(s,o),h&2048&&ad(o.alternate,o);break;case 24:Rl(s,o),h&2048&&od(o.alternate,o);break;default:Rl(s,o)}n=n.sibling}}var Il=8192;function go(e,n,s){if(e.subtreeFlags&Il)for(e=e.child;e!==null;)zy(e,n,s),e=e.sibling}function zy(e,n,s){switch(e.tag){case 26:go(e,n,s),e.flags&Il&&e.memoizedState!==null&&zb(s,Di,e.memoizedState,e.memoizedProps);break;case 5:go(e,n,s);break;case 3:case 4:var o=Di;Di=Ic(e.stateNode.containerInfo),go(e,n,s),Di=o;break;case 22:e.memoizedState===null&&(o=e.alternate,o!==null&&o.memoizedState!==null?(o=Il,Il=16777216,go(e,n,s),Il=o):go(e,n,s));break;default:go(e,n,s)}}function jy(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function Cl(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var o=n[s];Je=o,qy(o,e)}jy(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)By(e),e=e.sibling}function By(e){switch(e.tag){case 0:case 11:case 15:Cl(e),e.flags&2048&&fs(9,e,e.return);break;case 3:Cl(e);break;case 12:Cl(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,mc(e)):Cl(e);break;default:Cl(e)}}function mc(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var o=n[s];Je=o,qy(o,e)}jy(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:fs(8,n,n.return),mc(n);break;case 22:s=n.stateNode,s._visibility&2&&(s._visibility&=-3,mc(n));break;default:mc(n)}e=e.sibling}}function qy(e,n){for(;Je!==null;){var s=Je;switch(s.tag){case 0:case 11:case 15:fs(8,s,n);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var o=s.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:hl(s.memoizedState.cache)}if(o=s.child,o!==null)o.return=s,Je=o;else t:for(s=e;Je!==null;){o=Je;var h=o.sibling,f=o.return;if(My(o),o===s){Je=null;break t}if(h!==null){h.return=f,Je=h;break t}Je=f}}}var tb={getCacheForType:function(e){var n=an(ze),s=n.data.get(e);return s===void 0&&(s=e(),n.data.set(e,s)),s},cacheSignal:function(){return an(ze).controller.signal}},eb=typeof WeakMap=="function"?WeakMap:Map,te=0,ce=null,Vt=null,Pt=0,ie=0,Jn=null,ds=!1,po=!1,ld=!1,Cr=0,Re=0,ms=0,wa=0,ud=0,Zn=0,yo=0,Nl=null,Pn=null,cd=!1,gc=0,Hy=0,pc=1/0,yc=null,gs=null,Ke=0,ps=null,_o=null,Nr=0,hd=0,fd=null,Fy=null,xl=0,dd=null;function Wn(){return(te&2)!==0&&Pt!==0?Pt&-Pt:G.T!==null?vd():Js()}function Gy(){if(Zn===0)if((Pt&536870912)===0||Qt){var e=Ui;Ui<<=1,(Ui&3932160)===0&&(Ui=262144),Zn=e}else Zn=536870912;return e=Xn.current,e!==null&&(e.flags|=32),Zn}function zn(e,n,s){(e===ce&&(ie===2||ie===9)||e.cancelPendingCommit!==null)&&(vo(e,0),ys(e,Pt,Zn,!1)),ur(e,s),((te&2)===0||e!==ce)&&(e===ce&&((te&2)===0&&(wa|=s),Re===4&&ys(e,Pt,Zn,!1)),Xi(e))}function Qy(e,n,s){if((te&6)!==0)throw Error(a(327));var o=!s&&(n&127)===0&&(n&e.expiredLanes)===0||Ye(e,n),h=o?rb(e,n):gd(e,n,!0),f=o;do{if(h===0){po&&!o&&ys(e,n,0,!1);break}else{if(s=e.current.alternate,f&&!nb(s)){h=gd(e,n,!1),f=!1;continue}if(h===2){if(f=n,e.errorRecoveryDisabledLanes&f)var g=0;else g=e.pendingLanes&-536870913,g=g!==0?g:g&536870912?536870912:0;if(g!==0){n=g;t:{var E=e;h=Nl;var I=E.current.memoizedState.isDehydrated;if(I&&(vo(E,g).flags|=256),g=gd(E,g,!1),g!==2){if(ld&&!I){E.errorRecoveryDisabledLanes|=f,wa|=f,h=4;break t}f=Pn,Pn=h,f!==null&&(Pn===null?Pn=f:Pn.push.apply(Pn,f))}h=g}if(f=!1,h!==2)continue}}if(h===1){vo(e,0),ys(e,n,0,!0);break}t:{switch(o=e,f=h,f){case 0:case 1:throw Error(a(345));case 4:if((n&4194048)!==n)break;case 6:ys(o,n,Zn,!ds);break t;case 2:Pn=null;break;case 3:case 5:break;default:throw Error(a(329))}if((n&62914560)===n&&(h=gc+300-$e(),10<h)){if(ys(o,n,Zn,!ds),Zt(o,0,!0)!==0)break t;Nr=n,o.timeoutHandle=S_(Yy.bind(null,o,s,Pn,yc,cd,n,Zn,wa,yo,ds,f,"Throttled",-0,0),h);break t}Yy(o,s,Pn,yc,cd,n,Zn,wa,yo,ds,f,null,-0,0)}}break}while(!0);Xi(e)}function Yy(e,n,s,o,h,f,g,E,I,j,Y,J,B,F){if(e.timeoutHandle=-1,J=n.subtreeFlags,J&8192||(J&16785408)===16785408){J={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:xe},zy(n,f,J);var ft=(f&62914560)===f?gc-$e():(f&4194048)===f?Hy-$e():0;if(ft=jb(J,ft),ft!==null){Nr=f,e.cancelPendingCommit=ft(e_.bind(null,e,n,f,s,o,h,g,E,I,Y,J,null,B,F)),ys(e,f,g,!j);return}}e_(e,n,f,s,o,h,g,E,I)}function nb(e){for(var n=e;;){var s=n.tag;if((s===0||s===11||s===15)&&n.flags&16384&&(s=n.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var o=0;o<s.length;o++){var h=s[o],f=h.getSnapshot;h=h.value;try{if(!Yn(f(),h))return!1}catch{return!1}}if(s=n.child,n.subtreeFlags&16384&&s!==null)s.return=n,n=s;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function ys(e,n,s,o){n&=~ud,n&=~wa,e.suspendedLanes|=n,e.pingedLanes&=~n,o&&(e.warmLanes|=n),o=e.expirationTimes;for(var h=n;0<h;){var f=31-Yt(h),g=1<<f;o[f]=-1,h&=~g}s!==0&&cr(e,s,n)}function _c(){return(te&6)===0?(Dl(0),!1):!0}function md(){if(Vt!==null){if(ie===0)var e=Vt.return;else e=Vt,_r=pa=null,xf(e),lo=null,dl=0,e=Vt;for(;e!==null;)Ay(e.alternate,e),e=e.return;Vt=null}}function vo(e,n){var s=e.timeoutHandle;s!==-1&&(e.timeoutHandle=-1,bb(s)),s=e.cancelPendingCommit,s!==null&&(e.cancelPendingCommit=null,s()),Nr=0,md(),ce=e,Vt=s=pr(e.current,null),Pt=n,ie=0,Jn=null,ds=!1,po=Ye(e,n),ld=!1,yo=Zn=ud=wa=ms=Re=0,Pn=Nl=null,cd=!1,(n&8)!==0&&(n|=n&32);var o=e.entangledLanes;if(o!==0)for(e=e.entanglements,o&=n;0<o;){var h=31-Yt(o),f=1<<h;n|=e[h],o&=~f}return Cr=n,zu(),s}function Ky(e,n){xt=null,G.H=Tl,n===oo||n===Yu?(n=cp(),ie=3):n===_f?(n=cp(),ie=4):ie=n===Qf?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,Jn=n,Vt===null&&(Re=1,oc(e,hi(n,e.current)))}function Xy(){var e=Xn.current;return e===null?!0:(Pt&4194048)===Pt?gi===null:(Pt&62914560)===Pt||(Pt&536870912)!==0?e===gi:!1}function $y(){var e=G.H;return G.H=Tl,e===null?Tl:e}function Jy(){var e=G.A;return G.A=tb,e}function vc(){Re=4,ds||(Pt&4194048)!==Pt&&Xn.current!==null||(po=!0),(ms&134217727)===0&&(wa&134217727)===0||ce===null||ys(ce,Pt,Zn,!1)}function gd(e,n,s){var o=te;te|=2;var h=$y(),f=Jy();(ce!==e||Pt!==n)&&(yc=null,vo(e,n)),n=!1;var g=Re;t:do try{if(ie!==0&&Vt!==null){var E=Vt,I=Jn;switch(ie){case 8:md(),g=6;break t;case 3:case 2:case 9:case 6:Xn.current===null&&(n=!0);var j=ie;if(ie=0,Jn=null,Eo(e,E,I,j),s&&po){g=0;break t}break;default:j=ie,ie=0,Jn=null,Eo(e,E,I,j)}}ib(),g=Re;break}catch(Y){Ky(e,Y)}while(!0);return n&&e.shellSuspendCounter++,_r=pa=null,te=o,G.H=h,G.A=f,Vt===null&&(ce=null,Pt=0,zu()),g}function ib(){for(;Vt!==null;)Zy(Vt)}function rb(e,n){var s=te;te|=2;var o=$y(),h=Jy();ce!==e||Pt!==n?(yc=null,pc=$e()+500,vo(e,n)):po=Ye(e,n);t:do try{if(ie!==0&&Vt!==null){n=Vt;var f=Jn;e:switch(ie){case 1:ie=0,Jn=null,Eo(e,n,f,1);break;case 2:case 9:if(lp(f)){ie=0,Jn=null,Wy(n);break}n=function(){ie!==2&&ie!==9||ce!==e||(ie=7),Xi(e)},f.then(n,n);break t;case 3:ie=7;break t;case 4:ie=5;break t;case 7:lp(f)?(ie=0,Jn=null,Wy(n)):(ie=0,Jn=null,Eo(e,n,f,7));break;case 5:var g=null;switch(Vt.tag){case 26:g=Vt.memoizedState;case 5:case 27:var E=Vt;if(g?P_(g):E.stateNode.complete){ie=0,Jn=null;var I=E.sibling;if(I!==null)Vt=I;else{var j=E.return;j!==null?(Vt=j,Ec(j)):Vt=null}break e}}ie=0,Jn=null,Eo(e,n,f,5);break;case 6:ie=0,Jn=null,Eo(e,n,f,6);break;case 8:md(),Re=6;break t;default:throw Error(a(462))}}sb();break}catch(Y){Ky(e,Y)}while(!0);return _r=pa=null,G.H=o,G.A=h,te=s,Vt!==null?0:(ce=null,Pt=0,zu(),Re)}function sb(){for(;Vt!==null&&!Ys();)Zy(Vt)}function Zy(e){var n=by(e.alternate,e,Cr);e.memoizedProps=e.pendingProps,n===null?Ec(e):Vt=n}function Wy(e){var n=e,s=n.alternate;switch(n.tag){case 15:case 0:n=py(s,n,n.pendingProps,n.type,void 0,Pt);break;case 11:n=py(s,n,n.pendingProps,n.type.render,n.ref,Pt);break;case 5:xf(n);default:Ay(s,n),n=Vt=Jg(n,Cr),n=by(s,n,Cr)}e.memoizedProps=e.pendingProps,n===null?Ec(e):Vt=n}function Eo(e,n,s,o){_r=pa=null,xf(n),lo=null,dl=0;var h=n.return;try{if(YT(e,h,n,s,Pt)){Re=1,oc(e,hi(s,e.current)),Vt=null;return}}catch(f){if(h!==null)throw Vt=h,f;Re=1,oc(e,hi(s,e.current)),Vt=null;return}n.flags&32768?(Qt||o===1?e=!0:po||(Pt&536870912)!==0?e=!1:(ds=e=!0,(o===2||o===9||o===3||o===6)&&(o=Xn.current,o!==null&&o.tag===13&&(o.flags|=16384))),t_(n,e)):Ec(n)}function Ec(e){var n=e;do{if((n.flags&32768)!==0){t_(n,ds);return}e=n.return;var s=$T(n.alternate,n,Cr);if(s!==null){Vt=s;return}if(n=n.sibling,n!==null){Vt=n;return}Vt=n=e}while(n!==null);Re===0&&(Re=5)}function t_(e,n){do{var s=JT(e.alternate,e);if(s!==null){s.flags&=32767,Vt=s;return}if(s=e.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!n&&(e=e.sibling,e!==null)){Vt=e;return}Vt=e=s}while(e!==null);Re=6,Vt=null}function e_(e,n,s,o,h,f,g,E,I){e.cancelPendingCommit=null;do Tc();while(Ke!==0);if((te&6)!==0)throw Error(a(327));if(n!==null){if(n===e.current)throw Error(a(177));if(f=n.lanes|n.childLanes,f|=nf,qa(e,s,f,g,E,I),e===ce&&(Vt=ce=null,Pt=0),_o=n,ps=e,Nr=s,hd=f,fd=h,Fy=o,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,ub(mn,function(){return a_(),null})):(e.callbackNode=null,e.callbackPriority=0),o=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||o){o=G.T,G.T=null,h=st.p,st.p=2,g=te,te|=4;try{ZT(e,n,s)}finally{te=g,st.p=h,G.T=o}}Ke=1,n_(),i_(),r_()}}function n_(){if(Ke===1){Ke=0;var e=ps,n=_o,s=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||s){s=G.T,G.T=null;var o=st.p;st.p=2;var h=te;te|=4;try{Uy(n,e);var f=Id,g=qg(e.containerInfo),E=f.focusedElem,I=f.selectionRange;if(g!==E&&E&&E.ownerDocument&&Bg(E.ownerDocument.documentElement,E)){if(I!==null&&Jh(E)){var j=I.start,Y=I.end;if(Y===void 0&&(Y=j),"selectionStart"in E)E.selectionStart=j,E.selectionEnd=Math.min(Y,E.value.length);else{var J=E.ownerDocument||document,B=J&&J.defaultView||window;if(B.getSelection){var F=B.getSelection(),ft=E.textContent.length,vt=Math.min(I.start,ft),ue=I.end===void 0?vt:Math.min(I.end,ft);!F.extend&&vt>ue&&(g=ue,ue=vt,vt=g);var U=jg(E,vt),M=jg(E,ue);if(U&&M&&(F.rangeCount!==1||F.anchorNode!==U.node||F.anchorOffset!==U.offset||F.focusNode!==M.node||F.focusOffset!==M.offset)){var z=J.createRange();z.setStart(U.node,U.offset),F.removeAllRanges(),vt>ue?(F.addRange(z),F.extend(M.node,M.offset)):(z.setEnd(M.node,M.offset),F.addRange(z))}}}}for(J=[],F=E;F=F.parentNode;)F.nodeType===1&&J.push({element:F,left:F.scrollLeft,top:F.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<J.length;E++){var X=J[E];X.element.scrollLeft=X.left,X.element.scrollTop=X.top}}Oc=!!Rd,Id=Rd=null}finally{te=h,st.p=o,G.T=s}}e.current=n,Ke=2}}function i_(){if(Ke===2){Ke=0;var e=ps,n=_o,s=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||s){s=G.T,G.T=null;var o=st.p;st.p=2;var h=te;te|=4;try{Dy(e,n.alternate,n)}finally{te=h,st.p=o,G.T=s}}Ke=3}}function r_(){if(Ke===4||Ke===3){Ke=0,Ks();var e=ps,n=_o,s=Nr,o=Fy;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Ke=5:(Ke=0,_o=ps=null,s_(e,e.pendingLanes));var h=e.pendingLanes;if(h===0&&(gs=null),Si(s),n=n.stateNode,Qe&&typeof Qe.onCommitFiberRoot=="function")try{Qe.onCommitFiberRoot(An,n,void 0,(n.current.flags&128)===128)}catch{}if(o!==null){n=G.T,h=st.p,st.p=2,G.T=null;try{for(var f=e.onRecoverableError,g=0;g<o.length;g++){var E=o[g];f(E.value,{componentStack:E.stack})}}finally{G.T=n,st.p=h}}(Nr&3)!==0&&Tc(),Xi(e),h=e.pendingLanes,(s&261930)!==0&&(h&42)!==0?e===dd?xl++:(xl=0,dd=e):xl=0,Dl(0)}}function s_(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,hl(n)))}function Tc(){return n_(),i_(),r_(),a_()}function a_(){if(Ke!==5)return!1;var e=ps,n=hd;hd=0;var s=Si(Nr),o=G.T,h=st.p;try{st.p=32>s?32:s,G.T=null,s=fd,fd=null;var f=ps,g=Nr;if(Ke=0,_o=ps=null,Nr=0,(te&6)!==0)throw Error(a(331));var E=te;if(te|=4,By(f.current),Py(f,f.current,g,s),te=E,Dl(0,!1),Qe&&typeof Qe.onPostCommitFiberRoot=="function")try{Qe.onPostCommitFiberRoot(An,f)}catch{}return!0}finally{st.p=h,G.T=o,s_(e,n)}}function o_(e,n,s){n=hi(s,n),n=Gf(e.stateNode,n,2),e=us(e,n,2),e!==null&&(ur(e,2),Xi(e))}function re(e,n,s){if(e.tag===3)o_(e,e,s);else for(;n!==null;){if(n.tag===3){o_(n,e,s);break}else if(n.tag===1){var o=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(gs===null||!gs.has(o))){e=hi(s,e),s=ly(2),o=us(n,s,2),o!==null&&(uy(s,o,n,e),ur(o,2),Xi(o));break}}n=n.return}}function pd(e,n,s){var o=e.pingCache;if(o===null){o=e.pingCache=new eb;var h=new Set;o.set(n,h)}else h=o.get(n),h===void 0&&(h=new Set,o.set(n,h));h.has(s)||(ld=!0,h.add(s),e=ab.bind(null,e,n,s),n.then(e,e))}function ab(e,n,s){var o=e.pingCache;o!==null&&o.delete(n),e.pingedLanes|=e.suspendedLanes&s,e.warmLanes&=~s,ce===e&&(Pt&s)===s&&(Re===4||Re===3&&(Pt&62914560)===Pt&&300>$e()-gc?(te&2)===0&&vo(e,0):ud|=s,yo===Pt&&(yo=0)),Xi(e)}function l_(e,n){n===0&&(n=wn()),e=da(e,n),e!==null&&(ur(e,n),Xi(e))}function ob(e){var n=e.memoizedState,s=0;n!==null&&(s=n.retryLane),l_(e,s)}function lb(e,n){var s=0;switch(e.tag){case 31:case 13:var o=e.stateNode,h=e.memoizedState;h!==null&&(s=h.retryLane);break;case 19:o=e.stateNode;break;case 22:o=e.stateNode._retryCache;break;default:throw Error(a(314))}o!==null&&o.delete(n),l_(e,s)}function ub(e,n){return Ce(e,n)}var bc=null,To=null,yd=!1,Sc=!1,_d=!1,_s=0;function Xi(e){e!==To&&e.next===null&&(To===null?bc=To=e:To=To.next=e),Sc=!0,yd||(yd=!0,hb())}function Dl(e,n){if(!_d&&Sc){_d=!0;do for(var s=!1,o=bc;o!==null;){if(e!==0){var h=o.pendingLanes;if(h===0)var f=0;else{var g=o.suspendedLanes,E=o.pingedLanes;f=(1<<31-Yt(42|e)+1)-1,f&=h&~(g&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(s=!0,f_(o,f))}else f=Pt,f=Zt(o,o===ce?f:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(f&3)===0||Ye(o,f)||(s=!0,f_(o,f));o=o.next}while(s);_d=!1}}function cb(){u_()}function u_(){Sc=yd=!1;var e=0;_s!==0&&Tb()&&(e=_s);for(var n=$e(),s=null,o=bc;o!==null;){var h=o.next,f=c_(o,n);f===0?(o.next=null,s===null?bc=h:s.next=h,h===null&&(To=s)):(s=o,(e!==0||(f&3)!==0)&&(Sc=!0)),o=h}Ke!==0&&Ke!==5||Dl(e),_s!==0&&(_s=0)}function c_(e,n){for(var s=e.suspendedLanes,o=e.pingedLanes,h=e.expirationTimes,f=e.pendingLanes&-62914561;0<f;){var g=31-Yt(f),E=1<<g,I=h[g];I===-1?((E&s)===0||(E&o)!==0)&&(h[g]=Li(E,n)):I<=n&&(e.expiredLanes|=E),f&=~E}if(n=ce,s=Pt,s=Zt(e,e===n?s:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o=e.callbackNode,s===0||e===n&&(ie===2||ie===9)||e.cancelPendingCommit!==null)return o!==null&&o!==null&&ei(o),e.callbackNode=null,e.callbackPriority=0;if((s&3)===0||Ye(e,s)){if(n=s&-s,n===e.callbackPriority)return n;switch(o!==null&&ei(o),Si(s)){case 2:case 8:s=Fr;break;case 32:s=mn;break;case 268435456:s=ki;break;default:s=mn}return o=h_.bind(null,e),s=Ce(s,o),e.callbackPriority=n,e.callbackNode=s,n}return o!==null&&o!==null&&ei(o),e.callbackPriority=2,e.callbackNode=null,2}function h_(e,n){if(Ke!==0&&Ke!==5)return e.callbackNode=null,e.callbackPriority=0,null;var s=e.callbackNode;if(Tc()&&e.callbackNode!==s)return null;var o=Pt;return o=Zt(e,e===ce?o:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o===0?null:(Qy(e,o,n),c_(e,$e()),e.callbackNode!=null&&e.callbackNode===s?h_.bind(null,e):null)}function f_(e,n){if(Tc())return null;Qy(e,n,!0)}function hb(){Sb(function(){(te&6)!==0?Ce(Xs,cb):u_()})}function vd(){if(_s===0){var e=so;e===0&&(e=xn,xn<<=1,(xn&261888)===0&&(xn=256)),_s=e}return _s}function d_(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:ee(""+e)}function m_(e,n){var s=n.ownerDocument.createElement("input");return s.name=n.name,s.value=n.value,e.id&&s.setAttribute("form",e.id),n.parentNode.insertBefore(s,n),e=new FormData(e),s.parentNode.removeChild(s),e}function fb(e,n,s,o,h){if(n==="submit"&&s&&s.stateNode===h){var f=d_((h[Ne]||null).action),g=o.submitter;g&&(n=(n=g[Ne]||null)?d_(n.formAction):g.getAttribute("formAction"),n!==null&&(f=n,g=null));var E=new qi("action","action",null,o,h);e.push({event:E,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(_s!==0){var I=g?m_(h,g):new FormData(h);zf(s,{pending:!0,data:I,method:h.method,action:f},null,I)}}else typeof f=="function"&&(E.preventDefault(),I=g?m_(h,g):new FormData(h),zf(s,{pending:!0,data:I,method:h.method,action:f},f,I))},currentTarget:h}]})}}for(var Ed=0;Ed<ef.length;Ed++){var Td=ef[Ed],db=Td.toLowerCase(),mb=Td[0].toUpperCase()+Td.slice(1);xi(db,"on"+mb)}xi(Gg,"onAnimationEnd"),xi(Qg,"onAnimationIteration"),xi(Yg,"onAnimationStart"),xi("dblclick","onDoubleClick"),xi("focusin","onFocus"),xi("focusout","onBlur"),xi(xT,"onTransitionRun"),xi(DT,"onTransitionStart"),xi(MT,"onTransitionCancel"),xi(Kg,"onTransitionEnd"),ai("onMouseEnter",["mouseout","mouseover"]),ai("onMouseLeave",["mouseout","mouseover"]),ai("onPointerEnter",["pointerout","pointerover"]),ai("onPointerLeave",["pointerout","pointerover"]),si("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),si("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),si("onBeforeInput",["compositionend","keypress","textInput","paste"]),si("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),si("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),si("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ml="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),gb=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ml));function g_(e,n){n=(n&4)!==0;for(var s=0;s<e.length;s++){var o=e[s],h=o.event;o=o.listeners;t:{var f=void 0;if(n)for(var g=o.length-1;0<=g;g--){var E=o[g],I=E.instance,j=E.currentTarget;if(E=E.listener,I!==f&&h.isPropagationStopped())break t;f=E,h.currentTarget=j;try{f(h)}catch(Y){Pu(Y)}h.currentTarget=null,f=I}else for(g=0;g<o.length;g++){if(E=o[g],I=E.instance,j=E.currentTarget,E=E.listener,I!==f&&h.isPropagationStopped())break t;f=E,h.currentTarget=j;try{f(h)}catch(Y){Pu(Y)}h.currentTarget=null,f=I}}}}function kt(e,n){var s=n[hr];s===void 0&&(s=n[hr]=new Set);var o=e+"__bubble";s.has(o)||(p_(n,e,2,!1),s.add(o))}function bd(e,n,s){var o=0;n&&(o|=4),p_(s,e,o,n)}var Ac="_reactListening"+Math.random().toString(36).slice(2);function Sd(e){if(!e[Ac]){e[Ac]=!0,Zs.forEach(function(s){s!=="selectionchange"&&(gb.has(s)||bd(s,!1,e),bd(s,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[Ac]||(n[Ac]=!0,bd("selectionchange",!1,n))}}function p_(e,n,s,o){switch(G_(n)){case 2:var h=Hb;break;case 8:h=Fb;break;default:h=Pd}s=h.bind(null,n,s,e),h=void 0,!sa||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),o?h!==void 0?e.addEventListener(n,s,{capture:!0,passive:h}):e.addEventListener(n,s,!0):h!==void 0?e.addEventListener(n,s,{passive:h}):e.addEventListener(n,s,!1)}function Ad(e,n,s,o,h){var f=o;if((n&1)===0&&(n&2)===0&&o!==null)t:for(;;){if(o===null)return;var g=o.tag;if(g===3||g===4){var E=o.stateNode.containerInfo;if(E===h)break;if(g===4)for(g=o.return;g!==null;){var I=g.tag;if((I===3||I===4)&&g.stateNode.containerInfo===h)return;g=g.return}for(;E!==null;){if(g=ri(E),g===null)return;if(I=g.tag,I===5||I===6||I===26||I===27){o=f=g;continue t}E=E.parentNode}}o=o.return}Wr(function(){var j=f,Y=_n(s),J=[];t:{var B=Xg.get(e);if(B!==void 0){var F=qi,ft=e;switch(e){case"keypress":if(oa(s)===0)break t;case"keydown":case"keyup":F=ku;break;case"focusin":ft="focus",F=ua;break;case"focusout":ft="blur",F=ua;break;case"beforeblur":case"afterblur":F=ua;break;case"click":if(s.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":F=il;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":F=Ru;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":F=m;break;case Gg:case Qg:case Yg:F=Cu;break;case Kg:F=T;break;case"scroll":case"scrollend":F=nl;break;case"wheel":F=H;break;case"copy":case"cut":case"paste":F=Nu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":F=gr;break;case"toggle":case"beforetoggle":F=Nt}var vt=(n&4)!==0,ue=!vt&&(e==="scroll"||e==="scrollend"),U=vt?B!==null?B+"Capture":null:B;vt=[];for(var M=j,z;M!==null;){var X=M;if(z=X.stateNode,X=X.tag,X!==5&&X!==26&&X!==27||z===null||U===null||(X=Ri(M,U),X!=null&&vt.push(Ol(M,X,z))),ue)break;M=M.return}0<vt.length&&(B=new F(B,ft,null,s,Y),J.push({event:B,listeners:vt}))}}if((n&7)===0){t:{if(B=e==="mouseover"||e==="pointerover",F=e==="mouseout"||e==="pointerout",B&&s!==nn&&(ft=s.relatedTarget||s.fromElement)&&(ri(ft)||ft[ni]))break t;if((F||B)&&(B=Y.window===Y?Y:(B=Y.ownerDocument)?B.defaultView||B.parentWindow:window,F?(ft=s.relatedTarget||s.toElement,F=j,ft=ft?ri(ft):null,ft!==null&&(ue=c(ft),vt=ft.tag,ft!==ue||vt!==5&&vt!==27&&vt!==6)&&(ft=null)):(F=null,ft=j),F!==ft)){if(vt=il,X="onMouseLeave",U="onMouseEnter",M="mouse",(e==="pointerout"||e==="pointerover")&&(vt=gr,X="onPointerLeave",U="onPointerEnter",M="pointer"),ue=F==null?B:pn(F),z=ft==null?B:pn(ft),B=new vt(X,M+"leave",F,s,Y),B.target=ue,B.relatedTarget=z,X=null,ri(Y)===j&&(vt=new vt(U,M+"enter",ft,s,Y),vt.target=z,vt.relatedTarget=ue,X=vt),ue=X,F&&ft)e:{for(vt=pb,U=F,M=ft,z=0,X=U;X;X=vt(X))z++;X=0;for(var pt=M;pt;pt=vt(pt))X++;for(;0<z-X;)U=vt(U),z--;for(;0<X-z;)M=vt(M),X--;for(;z--;){if(U===M||M!==null&&U===M.alternate){vt=U;break e}U=vt(U),M=vt(M)}vt=null}else vt=null;F!==null&&y_(J,B,F,vt,!1),ft!==null&&ue!==null&&y_(J,ue,ft,vt,!0)}}t:{if(B=j?pn(j):window,F=B.nodeName&&B.nodeName.toLowerCase(),F==="select"||F==="input"&&B.type==="file")var Xt=Vg;else if(Mg(B))if(kg)Xt=IT;else{Xt=wT;var mt=AT}else F=B.nodeName,!F||F.toLowerCase()!=="input"||B.type!=="checkbox"&&B.type!=="radio"?j&&ot(j.elementType)&&(Xt=Vg):Xt=RT;if(Xt&&(Xt=Xt(e,j))){Og(J,Xt,s,Y);break t}mt&&mt(e,B,j),e==="focusout"&&j&&B.type==="number"&&j.memoizedProps.value!=null&&ia(B,"number",B.value)}switch(mt=j?pn(j):window,e){case"focusin":(Mg(mt)||mt.contentEditable==="true")&&(Ja=mt,Zh=j,ll=null);break;case"focusout":ll=Zh=Ja=null;break;case"mousedown":Wh=!0;break;case"contextmenu":case"mouseup":case"dragend":Wh=!1,Hg(J,s,Y);break;case"selectionchange":if(NT)break;case"keydown":case"keyup":Hg(J,s,Y)}var Dt;if(Wt)t:{switch(e){case"compositionstart":var zt="onCompositionStart";break t;case"compositionend":zt="onCompositionEnd";break t;case"compositionupdate":zt="onCompositionUpdate";break t}zt=void 0}else $a?ca(e,s)&&(zt="onCompositionEnd"):e==="keydown"&&s.keyCode===229&&(zt="onCompositionStart");zt&&(Gi&&s.locale!=="ko"&&($a||zt!=="onCompositionStart"?zt==="onCompositionEnd"&&$a&&(Dt=el()):(Bi=Y,tl="value"in Bi?Bi.value:Bi.textContent,$a=!0)),mt=wc(j,zt),0<mt.length&&(zt=new Fi(zt,e,null,s,Y),J.push({event:zt,listeners:mt}),Dt?zt.data=Dt:(Dt=Xa(s),Dt!==null&&(zt.data=Dt)))),(Dt=ui?ET(e,s):TT(e,s))&&(zt=wc(j,"onBeforeInput"),0<zt.length&&(mt=new Fi("onBeforeInput","beforeinput",null,s,Y),J.push({event:mt,listeners:zt}),mt.data=Dt)),fb(J,e,j,s,Y)}g_(J,n)})}function Ol(e,n,s){return{instance:e,listener:n,currentTarget:s}}function wc(e,n){for(var s=n+"Capture",o=[];e!==null;){var h=e,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=Ri(e,s),h!=null&&o.unshift(Ol(e,h,f)),h=Ri(e,n),h!=null&&o.push(Ol(e,h,f))),e.tag===3)return o;e=e.return}return[]}function pb(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function y_(e,n,s,o,h){for(var f=n._reactName,g=[];s!==null&&s!==o;){var E=s,I=E.alternate,j=E.stateNode;if(E=E.tag,I!==null&&I===o)break;E!==5&&E!==26&&E!==27||j===null||(I=j,h?(j=Ri(s,f),j!=null&&g.unshift(Ol(s,j,I))):h||(j=Ri(s,f),j!=null&&g.push(Ol(s,j,I)))),s=s.return}g.length!==0&&e.push({event:n,listeners:g})}var yb=/\r\n?/g,_b=/\u0000|\uFFFD/g;function __(e){return(typeof e=="string"?e:""+e).replace(yb,`
`).replace(_b,"")}function v_(e,n){return n=__(n),__(e)===n}function le(e,n,s,o,h,f){switch(s){case"children":typeof o=="string"?n==="body"||n==="textarea"&&o===""||yn(e,o):(typeof o=="number"||typeof o=="bigint")&&n!=="body"&&yn(e,""+o);break;case"className":In(e,"class",o);break;case"tabIndex":In(e,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":In(e,s,o);break;case"style":Q(e,o,f);break;case"data":if(n!=="object"){In(e,"data",o);break}case"src":case"href":if(o===""&&(n!=="a"||s!=="href")){e.removeAttribute(s);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(s);break}o=ee(""+o),e.setAttribute(s,o);break;case"action":case"formAction":if(typeof o=="function"){e.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(s==="formAction"?(n!=="input"&&le(e,n,"name",h.name,h,null),le(e,n,"formEncType",h.formEncType,h,null),le(e,n,"formMethod",h.formMethod,h,null),le(e,n,"formTarget",h.formTarget,h,null)):(le(e,n,"encType",h.encType,h,null),le(e,n,"method",h.method,h,null),le(e,n,"target",h.target,h,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(s);break}o=ee(""+o),e.setAttribute(s,o);break;case"onClick":o!=null&&(e.onclick=xe);break;case"onScroll":o!=null&&kt("scroll",e);break;case"onScrollEnd":o!=null&&kt("scrollend",e);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(a(61));if(s=o.__html,s!=null){if(h.children!=null)throw Error(a(60));e.innerHTML=s}}break;case"multiple":e.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":e.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){e.removeAttribute("xlink:href");break}s=ee(""+o),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(s,""+o):e.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(s,""):e.removeAttribute(s);break;case"capture":case"download":o===!0?e.setAttribute(s,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(s,o):e.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?e.setAttribute(s,o):e.removeAttribute(s);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?e.removeAttribute(s):e.setAttribute(s,o);break;case"popover":kt("beforetoggle",e),kt("toggle",e),Jr(e,"popover",o);break;case"xlinkActuate":Ae(e,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":Ae(e,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":Ae(e,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":Ae(e,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":Ae(e,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":Ae(e,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":Ae(e,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":Ae(e,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":Ae(e,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":Jr(e,"is",o);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=lt.get(s)||s,Jr(e,s,o))}}function wd(e,n,s,o,h,f){switch(s){case"style":Q(e,o,f);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(a(61));if(s=o.__html,s!=null){if(h.children!=null)throw Error(a(60));e.innerHTML=s}}break;case"children":typeof o=="string"?yn(e,o):(typeof o=="number"||typeof o=="bigint")&&yn(e,""+o);break;case"onScroll":o!=null&&kt("scroll",e);break;case"onScrollEnd":o!=null&&kt("scrollend",e);break;case"onClick":o!=null&&(e.onclick=xe);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!$r.hasOwnProperty(s))t:{if(s[0]==="o"&&s[1]==="n"&&(h=s.endsWith("Capture"),n=s.slice(2,h?s.length-7:void 0),f=e[Ne]||null,f=f!=null?f[s]:null,typeof f=="function"&&e.removeEventListener(n,f,h),typeof o=="function")){typeof f!="function"&&f!==null&&(s in e?e[s]=null:e.hasAttribute(s)&&e.removeAttribute(s)),e.addEventListener(n,o,h);break t}s in e?e[s]=o:o===!0?e.setAttribute(s,""):Jr(e,s,o)}}}function ln(e,n,s){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":kt("error",e),kt("load",e);var o=!1,h=!1,f;for(f in s)if(s.hasOwnProperty(f)){var g=s[f];if(g!=null)switch(f){case"src":o=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:le(e,n,f,g,s,null)}}h&&le(e,n,"srcSet",s.srcSet,s,null),o&&le(e,n,"src",s.src,s,null);return;case"input":kt("invalid",e);var E=f=g=h=null,I=null,j=null;for(o in s)if(s.hasOwnProperty(o)){var Y=s[o];if(Y!=null)switch(o){case"name":h=Y;break;case"type":g=Y;break;case"checked":I=Y;break;case"defaultChecked":j=Y;break;case"value":f=Y;break;case"defaultValue":E=Y;break;case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(a(137,n));break;default:le(e,n,o,Y,s,null)}}na(e,f,E,I,j,g,h,!1);return;case"select":kt("invalid",e),o=g=f=null;for(h in s)if(s.hasOwnProperty(h)&&(E=s[h],E!=null))switch(h){case"value":f=E;break;case"defaultValue":g=E;break;case"multiple":o=E;default:le(e,n,h,E,s,null)}n=f,s=g,e.multiple=!!o,n!=null?Ai(e,!!o,n,!1):s!=null&&Ai(e,!!o,s,!0);return;case"textarea":kt("invalid",e),f=h=o=null;for(g in s)if(s.hasOwnProperty(g)&&(E=s[g],E!=null))switch(g){case"value":o=E;break;case"defaultValue":h=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(a(91));break;default:le(e,n,g,E,s,null)}Qn(e,o,h,f);return;case"option":for(I in s)if(s.hasOwnProperty(I)&&(o=s[I],o!=null))switch(I){case"selected":e.selected=o&&typeof o!="function"&&typeof o!="symbol";break;default:le(e,n,I,o,s,null)}return;case"dialog":kt("beforetoggle",e),kt("toggle",e),kt("cancel",e),kt("close",e);break;case"iframe":case"object":kt("load",e);break;case"video":case"audio":for(o=0;o<Ml.length;o++)kt(Ml[o],e);break;case"image":kt("error",e),kt("load",e);break;case"details":kt("toggle",e);break;case"embed":case"source":case"link":kt("error",e),kt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(j in s)if(s.hasOwnProperty(j)&&(o=s[j],o!=null))switch(j){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:le(e,n,j,o,s,null)}return;default:if(ot(n)){for(Y in s)s.hasOwnProperty(Y)&&(o=s[Y],o!==void 0&&wd(e,n,Y,o,s,void 0));return}}for(E in s)s.hasOwnProperty(E)&&(o=s[E],o!=null&&le(e,n,E,o,s,null))}function vb(e,n,s,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,g=null,E=null,I=null,j=null,Y=null;for(F in s){var J=s[F];if(s.hasOwnProperty(F)&&J!=null)switch(F){case"checked":break;case"value":break;case"defaultValue":I=J;default:o.hasOwnProperty(F)||le(e,n,F,null,o,J)}}for(var B in o){var F=o[B];if(J=s[B],o.hasOwnProperty(B)&&(F!=null||J!=null))switch(B){case"type":f=F;break;case"name":h=F;break;case"checked":j=F;break;case"defaultChecked":Y=F;break;case"value":g=F;break;case"defaultValue":E=F;break;case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(a(137,n));break;default:F!==J&&le(e,n,B,F,o,J)}}fr(e,g,E,I,j,Y,f,h);return;case"select":F=g=E=B=null;for(f in s)if(I=s[f],s.hasOwnProperty(f)&&I!=null)switch(f){case"value":break;case"multiple":F=I;default:o.hasOwnProperty(f)||le(e,n,f,null,o,I)}for(h in o)if(f=o[h],I=s[h],o.hasOwnProperty(h)&&(f!=null||I!=null))switch(h){case"value":B=f;break;case"defaultValue":E=f;break;case"multiple":g=f;default:f!==I&&le(e,n,h,f,o,I)}n=E,s=g,o=F,B!=null?Ai(e,!!s,B,!1):!!o!=!!s&&(n!=null?Ai(e,!!s,n,!0):Ai(e,!!s,s?[]:"",!1));return;case"textarea":F=B=null;for(E in s)if(h=s[E],s.hasOwnProperty(E)&&h!=null&&!o.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:le(e,n,E,null,o,h)}for(g in o)if(h=o[g],f=s[g],o.hasOwnProperty(g)&&(h!=null||f!=null))switch(g){case"value":B=h;break;case"defaultValue":F=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(a(91));break;default:h!==f&&le(e,n,g,h,o,f)}wi(e,B,F);return;case"option":for(var ft in s)if(B=s[ft],s.hasOwnProperty(ft)&&B!=null&&!o.hasOwnProperty(ft))switch(ft){case"selected":e.selected=!1;break;default:le(e,n,ft,null,o,B)}for(I in o)if(B=o[I],F=s[I],o.hasOwnProperty(I)&&B!==F&&(B!=null||F!=null))switch(I){case"selected":e.selected=B&&typeof B!="function"&&typeof B!="symbol";break;default:le(e,n,I,B,o,F)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var vt in s)B=s[vt],s.hasOwnProperty(vt)&&B!=null&&!o.hasOwnProperty(vt)&&le(e,n,vt,null,o,B);for(j in o)if(B=o[j],F=s[j],o.hasOwnProperty(j)&&B!==F&&(B!=null||F!=null))switch(j){case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(a(137,n));break;default:le(e,n,j,B,o,F)}return;default:if(ot(n)){for(var ue in s)B=s[ue],s.hasOwnProperty(ue)&&B!==void 0&&!o.hasOwnProperty(ue)&&wd(e,n,ue,void 0,o,B);for(Y in o)B=o[Y],F=s[Y],!o.hasOwnProperty(Y)||B===F||B===void 0&&F===void 0||wd(e,n,Y,B,o,F);return}}for(var U in s)B=s[U],s.hasOwnProperty(U)&&B!=null&&!o.hasOwnProperty(U)&&le(e,n,U,null,o,B);for(J in o)B=o[J],F=s[J],!o.hasOwnProperty(J)||B===F||B==null&&F==null||le(e,n,J,B,o,F)}function E_(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Eb(){if(typeof performance.getEntriesByType=="function"){for(var e=0,n=0,s=performance.getEntriesByType("resource"),o=0;o<s.length;o++){var h=s[o],f=h.transferSize,g=h.initiatorType,E=h.duration;if(f&&E&&E_(g)){for(g=0,E=h.responseEnd,o+=1;o<s.length;o++){var I=s[o],j=I.startTime;if(j>E)break;var Y=I.transferSize,J=I.initiatorType;Y&&E_(J)&&(I=I.responseEnd,g+=Y*(I<E?1:(E-j)/(I-j)))}if(--o,n+=8*(f+g)/(h.duration/1e3),e++,10<e)break}}if(0<e)return n/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Rd=null,Id=null;function Rc(e){return e.nodeType===9?e:e.ownerDocument}function T_(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function b_(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function Cd(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Nd=null;function Tb(){var e=window.event;return e&&e.type==="popstate"?e===Nd?!1:(Nd=e,!0):(Nd=null,!1)}var S_=typeof setTimeout=="function"?setTimeout:void 0,bb=typeof clearTimeout=="function"?clearTimeout:void 0,A_=typeof Promise=="function"?Promise:void 0,Sb=typeof queueMicrotask=="function"?queueMicrotask:typeof A_<"u"?function(e){return A_.resolve(null).then(e).catch(Ab)}:S_;function Ab(e){setTimeout(function(){throw e})}function vs(e){return e==="head"}function w_(e,n){var s=n,o=0;do{var h=s.nextSibling;if(e.removeChild(s),h&&h.nodeType===8)if(s=h.data,s==="/$"||s==="/&"){if(o===0){e.removeChild(h),wo(n);return}o--}else if(s==="$"||s==="$?"||s==="$~"||s==="$!"||s==="&")o++;else if(s==="html")Vl(e.ownerDocument.documentElement);else if(s==="head"){s=e.ownerDocument.head,Vl(s);for(var f=s.firstChild;f;){var g=f.nextSibling,E=f.nodeName;f[ii]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&f.rel.toLowerCase()==="stylesheet"||s.removeChild(f),f=g}}else s==="body"&&Vl(e.ownerDocument.body);s=h}while(s);wo(n)}function R_(e,n){var s=e;e=0;do{var o=s.nextSibling;if(s.nodeType===1?n?(s._stashedDisplay=s.style.display,s.style.display="none"):(s.style.display=s._stashedDisplay||"",s.getAttribute("style")===""&&s.removeAttribute("style")):s.nodeType===3&&(n?(s._stashedText=s.nodeValue,s.nodeValue=""):s.nodeValue=s._stashedText||""),o&&o.nodeType===8)if(s=o.data,s==="/$"){if(e===0)break;e--}else s!=="$"&&s!=="$?"&&s!=="$~"&&s!=="$!"||e++;s=o}while(s)}function xd(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var s=n;switch(n=n.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":xd(s),Xr(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}e.removeChild(s)}}function wb(e,n,s,o){for(;e.nodeType===1;){var h=s;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!o&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(o){if(!e[ii])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(f=e.getAttribute("rel"),f==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(f!==h.rel||e.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(f=e.getAttribute("src"),(f!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===f)return e}else return e;if(e=pi(e.nextSibling),e===null)break}return null}function Rb(e,n,s){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!s||(e=pi(e.nextSibling),e===null))return null;return e}function I_(e,n){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=pi(e.nextSibling),e===null))return null;return e}function Dd(e){return e.data==="$?"||e.data==="$~"}function Md(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function Ib(e,n){var s=e.ownerDocument;if(e.data==="$~")e._reactRetry=n;else if(e.data!=="$?"||s.readyState!=="loading")n();else{var o=function(){n(),s.removeEventListener("DOMContentLoaded",o)};s.addEventListener("DOMContentLoaded",o),e._reactRetry=o}}function pi(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return e}var Od=null;function C_(e){e=e.nextSibling;for(var n=0;e;){if(e.nodeType===8){var s=e.data;if(s==="/$"||s==="/&"){if(n===0)return pi(e.nextSibling);n--}else s!=="$"&&s!=="$!"&&s!=="$?"&&s!=="$~"&&s!=="&"||n++}e=e.nextSibling}return null}function N_(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var s=e.data;if(s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"){if(n===0)return e;n--}else s!=="/$"&&s!=="/&"||n++}e=e.previousSibling}return null}function x_(e,n,s){switch(n=Rc(s),e){case"html":if(e=n.documentElement,!e)throw Error(a(452));return e;case"head":if(e=n.head,!e)throw Error(a(453));return e;case"body":if(e=n.body,!e)throw Error(a(454));return e;default:throw Error(a(451))}}function Vl(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);Xr(e)}var yi=new Map,D_=new Set;function Ic(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var xr=st.d;st.d={f:Cb,r:Nb,D:xb,C:Db,L:Mb,m:Ob,X:kb,S:Vb,M:Ub};function Cb(){var e=xr.f(),n=_c();return e||n}function Nb(e){var n=Vn(e);n!==null&&n.tag===5&&n.type==="form"?Kp(n):xr.r(e)}var bo=typeof document>"u"?null:document;function M_(e,n,s){var o=bo;if(o&&typeof n=="string"&&n){var h=en(n);h='link[rel="'+e+'"][href="'+h+'"]',typeof s=="string"&&(h+='[crossorigin="'+s+'"]'),D_.has(h)||(D_.add(h),e={rel:e,crossOrigin:s,href:n},o.querySelector(h)===null&&(n=o.createElement("link"),ln(n,"link",e),Se(n),o.head.appendChild(n)))}}function xb(e){xr.D(e),M_("dns-prefetch",e,null)}function Db(e,n){xr.C(e,n),M_("preconnect",e,n)}function Mb(e,n,s){xr.L(e,n,s);var o=bo;if(o&&e&&n){var h='link[rel="preload"][as="'+en(n)+'"]';n==="image"&&s&&s.imageSrcSet?(h+='[imagesrcset="'+en(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(h+='[imagesizes="'+en(s.imageSizes)+'"]')):h+='[href="'+en(e)+'"]';var f=h;switch(n){case"style":f=So(e);break;case"script":f=Ao(e)}yi.has(f)||(e=S({rel:"preload",href:n==="image"&&s&&s.imageSrcSet?void 0:e,as:n},s),yi.set(f,e),o.querySelector(h)!==null||n==="style"&&o.querySelector(kl(f))||n==="script"&&o.querySelector(Ul(f))||(n=o.createElement("link"),ln(n,"link",e),Se(n),o.head.appendChild(n)))}}function Ob(e,n){xr.m(e,n);var s=bo;if(s&&e){var o=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+en(o)+'"][href="'+en(e)+'"]',f=h;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=Ao(e)}if(!yi.has(f)&&(e=S({rel:"modulepreload",href:e},n),yi.set(f,e),s.querySelector(h)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(Ul(f)))return}o=s.createElement("link"),ln(o,"link",e),Se(o),s.head.appendChild(o)}}}function Vb(e,n,s){xr.S(e,n,s);var o=bo;if(o&&e){var h=Fn(o).hoistableStyles,f=So(e);n=n||"default";var g=h.get(f);if(!g){var E={loading:0,preload:null};if(g=o.querySelector(kl(f)))E.loading=5;else{e=S({rel:"stylesheet",href:e,"data-precedence":n},s),(s=yi.get(f))&&Vd(e,s);var I=g=o.createElement("link");Se(I),ln(I,"link",e),I._p=new Promise(function(j,Y){I.onload=j,I.onerror=Y}),I.addEventListener("load",function(){E.loading|=1}),I.addEventListener("error",function(){E.loading|=2}),E.loading|=4,Cc(g,n,o)}g={type:"stylesheet",instance:g,count:1,state:E},h.set(f,g)}}}function kb(e,n){xr.X(e,n);var s=bo;if(s&&e){var o=Fn(s).hoistableScripts,h=Ao(e),f=o.get(h);f||(f=s.querySelector(Ul(h)),f||(e=S({src:e,async:!0},n),(n=yi.get(h))&&kd(e,n),f=s.createElement("script"),Se(f),ln(f,"link",e),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function Ub(e,n){xr.M(e,n);var s=bo;if(s&&e){var o=Fn(s).hoistableScripts,h=Ao(e),f=o.get(h);f||(f=s.querySelector(Ul(h)),f||(e=S({src:e,async:!0,type:"module"},n),(n=yi.get(h))&&kd(e,n),f=s.createElement("script"),Se(f),ln(f,"link",e),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function O_(e,n,s,o){var h=(h=Ct.current)?Ic(h):null;if(!h)throw Error(a(446));switch(e){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(n=So(s.href),s=Fn(h).hoistableStyles,o=s.get(n),o||(o={type:"style",instance:null,count:0,state:null},s.set(n,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){e=So(s.href);var f=Fn(h).hoistableStyles,g=f.get(e);if(g||(h=h.ownerDocument||h,g={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(e,g),(f=h.querySelector(kl(e)))&&!f._p&&(g.instance=f,g.state.loading=5),yi.has(e)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},yi.set(e,s),f||Lb(h,e,s,g.state))),n&&o===null)throw Error(a(528,""));return g}if(n&&o!==null)throw Error(a(529,""));return null;case"script":return n=s.async,s=s.src,typeof s=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Ao(s),s=Fn(h).hoistableScripts,o=s.get(n),o||(o={type:"script",instance:null,count:0,state:null},s.set(n,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,e))}}function So(e){return'href="'+en(e)+'"'}function kl(e){return'link[rel="stylesheet"]['+e+"]"}function V_(e){return S({},e,{"data-precedence":e.precedence,precedence:null})}function Lb(e,n,s,o){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?o.loading=1:(n=e.createElement("link"),o.preload=n,n.addEventListener("load",function(){return o.loading|=1}),n.addEventListener("error",function(){return o.loading|=2}),ln(n,"link",s),Se(n),e.head.appendChild(n))}function Ao(e){return'[src="'+en(e)+'"]'}function Ul(e){return"script[async]"+e}function k_(e,n,s){if(n.count++,n.instance===null)switch(n.type){case"style":var o=e.querySelector('style[data-href~="'+en(s.href)+'"]');if(o)return n.instance=o,Se(o),o;var h=S({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return o=(e.ownerDocument||e).createElement("style"),Se(o),ln(o,"style",h),Cc(o,s.precedence,e),n.instance=o;case"stylesheet":h=So(s.href);var f=e.querySelector(kl(h));if(f)return n.state.loading|=4,n.instance=f,Se(f),f;o=V_(s),(h=yi.get(h))&&Vd(o,h),f=(e.ownerDocument||e).createElement("link"),Se(f);var g=f;return g._p=new Promise(function(E,I){g.onload=E,g.onerror=I}),ln(f,"link",o),n.state.loading|=4,Cc(f,s.precedence,e),n.instance=f;case"script":return f=Ao(s.src),(h=e.querySelector(Ul(f)))?(n.instance=h,Se(h),h):(o=s,(h=yi.get(f))&&(o=S({},s),kd(o,h)),e=e.ownerDocument||e,h=e.createElement("script"),Se(h),ln(h,"link",o),e.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(a(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(o=n.instance,n.state.loading|=4,Cc(o,s.precedence,e));return n.instance}function Cc(e,n,s){for(var o=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=o.length?o[o.length-1]:null,f=h,g=0;g<o.length;g++){var E=o[g];if(E.dataset.precedence===n)f=E;else if(f!==h)break}f?f.parentNode.insertBefore(e,f.nextSibling):(n=s.nodeType===9?s.head:s,n.insertBefore(e,n.firstChild))}function Vd(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function kd(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var Nc=null;function U_(e,n,s){if(Nc===null){var o=new Map,h=Nc=new Map;h.set(s,o)}else h=Nc,o=h.get(s),o||(o=new Map,h.set(s,o));if(o.has(e))return o;for(o.set(e,null),s=s.getElementsByTagName(e),h=0;h<s.length;h++){var f=s[h];if(!(f[ii]||f[_e]||e==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var g=f.getAttribute(n)||"";g=e+g;var E=o.get(g);E?E.push(f):o.set(g,[f])}}return o}function L_(e,n,s){e=e.ownerDocument||e,e.head.insertBefore(s,n==="title"?e.querySelector("head > title"):null)}function Pb(e,n,s){if(s===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return e=n.disabled,typeof n.precedence=="string"&&e==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function P_(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function zb(e,n,s,o){if(s.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var h=So(o.href),f=n.querySelector(kl(h));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(e.count++,e=xc.bind(e),n.then(e,e)),s.state.loading|=4,s.instance=f,Se(f);return}f=n.ownerDocument||n,o=V_(o),(h=yi.get(h))&&Vd(o,h),f=f.createElement("link"),Se(f);var g=f;g._p=new Promise(function(E,I){g.onload=E,g.onerror=I}),ln(f,"link",o),s.instance=f}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(s,n),(n=s.state.preload)&&(s.state.loading&3)===0&&(e.count++,s=xc.bind(e),n.addEventListener("load",s),n.addEventListener("error",s))}}var Ud=0;function jb(e,n){return e.stylesheets&&e.count===0&&Mc(e,e.stylesheets),0<e.count||0<e.imgCount?function(s){var o=setTimeout(function(){if(e.stylesheets&&Mc(e,e.stylesheets),e.unsuspend){var f=e.unsuspend;e.unsuspend=null,f()}},6e4+n);0<e.imgBytes&&Ud===0&&(Ud=62500*Eb());var h=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Mc(e,e.stylesheets),e.unsuspend)){var f=e.unsuspend;e.unsuspend=null,f()}},(e.imgBytes>Ud?50:800)+n);return e.unsuspend=s,function(){e.unsuspend=null,clearTimeout(o),clearTimeout(h)}}:null}function xc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Mc(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Dc=null;function Mc(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Dc=new Map,n.forEach(Bb,e),Dc=null,xc.call(e))}function Bb(e,n){if(!(n.state.loading&4)){var s=Dc.get(e);if(s)var o=s.get(null);else{s=new Map,Dc.set(e,s);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var g=h[f];(g.nodeName==="LINK"||g.getAttribute("media")!=="not all")&&(s.set(g.dataset.precedence,g),o=g)}o&&s.set(null,o)}h=n.instance,g=h.getAttribute("data-precedence"),f=s.get(g)||o,f===o&&s.set(null,h),s.set(g,h),this.count++,o=xc.bind(this),h.addEventListener("load",o),h.addEventListener("error",o),f?f.parentNode.insertBefore(h,f.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),n.state.loading|=4}}var Ll={$$typeof:_t,Provider:null,Consumer:null,_currentValue:gt,_currentValue2:gt,_threadCount:0};function qb(e,n,s,o,h,f,g,E,I){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Hn(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Hn(0),this.hiddenUpdates=Hn(null),this.identifierPrefix=o,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=g,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=I,this.incompleteTransitions=new Map}function z_(e,n,s,o,h,f,g,E,I,j,Y,J){return e=new qb(e,n,s,g,I,j,Y,J,E),n=1,f===!0&&(n|=24),f=Kn(3,null,null,n),e.current=f,f.stateNode=e,n=gf(),n.refCount++,e.pooledCache=n,n.refCount++,f.memoizedState={element:o,isDehydrated:s,cache:n},vf(f),e}function j_(e){return e?(e=to,e):to}function B_(e,n,s,o,h,f){h=j_(h),o.context===null?o.context=h:o.pendingContext=h,o=ls(n),o.payload={element:s},f=f===void 0?null:f,f!==null&&(o.callback=f),s=us(e,o,n),s!==null&&(zn(s,e,n),gl(s,e,n))}function q_(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var s=e.retryLane;e.retryLane=s!==0&&s<n?s:n}}function Ld(e,n){q_(e,n),(e=e.alternate)&&q_(e,n)}function H_(e){if(e.tag===13||e.tag===31){var n=da(e,67108864);n!==null&&zn(n,e,67108864),Ld(e,67108864)}}function F_(e){if(e.tag===13||e.tag===31){var n=Wn();n=Pi(n);var s=da(e,n);s!==null&&zn(s,e,n),Ld(e,n)}}var Oc=!0;function Hb(e,n,s,o){var h=G.T;G.T=null;var f=st.p;try{st.p=2,Pd(e,n,s,o)}finally{st.p=f,G.T=h}}function Fb(e,n,s,o){var h=G.T;G.T=null;var f=st.p;try{st.p=8,Pd(e,n,s,o)}finally{st.p=f,G.T=h}}function Pd(e,n,s,o){if(Oc){var h=zd(o);if(h===null)Ad(e,n,o,Vc,s),Q_(e,o);else if(Qb(h,e,n,s,o))o.stopPropagation();else if(Q_(e,o),n&4&&-1<Gb.indexOf(e)){for(;h!==null;){var f=Vn(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var g=Dn(f.pendingLanes);if(g!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;g;){var I=1<<31-Yt(g);E.entanglements[1]|=I,g&=~I}Xi(f),(te&6)===0&&(pc=$e()+500,Dl(0))}}break;case 31:case 13:E=da(f,2),E!==null&&zn(E,f,2),_c(),Ld(f,2)}if(f=zd(o),f===null&&Ad(e,n,o,Vc,s),f===h)break;h=f}h!==null&&o.stopPropagation()}else Ad(e,n,o,null,s)}}function zd(e){return e=_n(e),jd(e)}var Vc=null;function jd(e){if(Vc=null,e=ri(e),e!==null){var n=c(e);if(n===null)e=null;else{var s=n.tag;if(s===13){if(e=d(n),e!==null)return e;e=null}else if(s===31){if(e=p(n),e!==null)return e;e=null}else if(s===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return Vc=e,null}function G_(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(or()){case Xs:return 2;case Fr:return 8;case mn:case Ba:return 32;case ki:return 268435456;default:return 32}default:return 32}}var Bd=!1,Es=null,Ts=null,bs=null,Pl=new Map,zl=new Map,Ss=[],Gb="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Q_(e,n){switch(e){case"focusin":case"focusout":Es=null;break;case"dragenter":case"dragleave":Ts=null;break;case"mouseover":case"mouseout":bs=null;break;case"pointerover":case"pointerout":Pl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":zl.delete(n.pointerId)}}function jl(e,n,s,o,h,f){return e===null||e.nativeEvent!==f?(e={blockedOn:n,domEventName:s,eventSystemFlags:o,nativeEvent:f,targetContainers:[h]},n!==null&&(n=Vn(n),n!==null&&H_(n)),e):(e.eventSystemFlags|=o,n=e.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),e)}function Qb(e,n,s,o,h){switch(n){case"focusin":return Es=jl(Es,e,n,s,o,h),!0;case"dragenter":return Ts=jl(Ts,e,n,s,o,h),!0;case"mouseover":return bs=jl(bs,e,n,s,o,h),!0;case"pointerover":var f=h.pointerId;return Pl.set(f,jl(Pl.get(f)||null,e,n,s,o,h)),!0;case"gotpointercapture":return f=h.pointerId,zl.set(f,jl(zl.get(f)||null,e,n,s,o,h)),!0}return!1}function Y_(e){var n=ri(e.target);if(n!==null){var s=c(n);if(s!==null){if(n=s.tag,n===13){if(n=d(s),n!==null){e.blockedOn=n,Mn(e.priority,function(){F_(s)});return}}else if(n===31){if(n=p(s),n!==null){e.blockedOn=n,Mn(e.priority,function(){F_(s)});return}}else if(n===3&&s.stateNode.current.memoizedState.isDehydrated){e.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}e.blockedOn=null}function kc(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var s=zd(e.nativeEvent);if(s===null){s=e.nativeEvent;var o=new s.constructor(s.type,s);nn=o,s.target.dispatchEvent(o),nn=null}else return n=Vn(s),n!==null&&H_(n),e.blockedOn=s,!1;n.shift()}return!0}function K_(e,n,s){kc(e)&&s.delete(n)}function Yb(){Bd=!1,Es!==null&&kc(Es)&&(Es=null),Ts!==null&&kc(Ts)&&(Ts=null),bs!==null&&kc(bs)&&(bs=null),Pl.forEach(K_),zl.forEach(K_)}function Uc(e,n){e.blockedOn===n&&(e.blockedOn=null,Bd||(Bd=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,Yb)))}var Lc=null;function X_(e){Lc!==e&&(Lc=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Lc===e&&(Lc=null);for(var n=0;n<e.length;n+=3){var s=e[n],o=e[n+1],h=e[n+2];if(typeof o!="function"){if(jd(o||s)===null)continue;break}var f=Vn(s);f!==null&&(e.splice(n,3),n-=3,zf(f,{pending:!0,data:h,method:s.method,action:o},o,h))}}))}function wo(e){function n(I){return Uc(I,e)}Es!==null&&Uc(Es,e),Ts!==null&&Uc(Ts,e),bs!==null&&Uc(bs,e),Pl.forEach(n),zl.forEach(n);for(var s=0;s<Ss.length;s++){var o=Ss[s];o.blockedOn===e&&(o.blockedOn=null)}for(;0<Ss.length&&(s=Ss[0],s.blockedOn===null);)Y_(s),s.blockedOn===null&&Ss.shift();if(s=(e.ownerDocument||e).$$reactFormReplay,s!=null)for(o=0;o<s.length;o+=3){var h=s[o],f=s[o+1],g=h[Ne]||null;if(typeof f=="function")g||X_(s);else if(g){var E=null;if(f&&f.hasAttribute("formAction")){if(h=f,g=f[Ne]||null)E=g.formAction;else if(jd(h)!==null)continue}else E=g.action;typeof E=="function"?s[o+1]=E:(s.splice(o,3),o-=3),X_(s)}}}function $_(){function e(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(g){return h=g})},focusReset:"manual",scroll:"manual"})}function n(){h!==null&&(h(),h=null),o||setTimeout(s,20)}function s(){if(!o&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,h=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(s,100),function(){o=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),h!==null&&(h(),h=null)}}}function qd(e){this._internalRoot=e}Pc.prototype.render=qd.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(a(409));var s=n.current,o=Wn();B_(s,o,e,n,null,null)},Pc.prototype.unmount=qd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;B_(e.current,2,null,e,null,null),_c(),n[ni]=null}};function Pc(e){this._internalRoot=e}Pc.prototype.unstable_scheduleHydration=function(e){if(e){var n=Js();e={blockedOn:null,target:e,priority:n};for(var s=0;s<Ss.length&&n!==0&&n<Ss[s].priority;s++);Ss.splice(s,0,e),s===0&&Y_(e)}};var J_=t.version;if(J_!=="19.2.0")throw Error(a(527,J_,"19.2.0"));st.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(a(188)):(e=Object.keys(e).join(","),Error(a(268,e)));return e=_(n),e=e!==null?b(e):null,e=e===null?null:e.stateNode,e};var Kb={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:G,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var zc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!zc.isDisabled&&zc.supportsFiber)try{An=zc.inject(Kb),Qe=zc}catch{}}return ql.createRoot=function(e,n){if(!l(e))throw Error(a(299));var s=!1,o="",h=ry,f=sy,g=ay;return n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(g=n.onRecoverableError)),n=z_(e,1,!1,null,null,s,o,null,h,f,g,$_),e[ni]=n.current,Sd(e),new qd(n)},ql.hydrateRoot=function(e,n,s){if(!l(e))throw Error(a(299));var o=!1,h="",f=ry,g=sy,E=ay,I=null;return s!=null&&(s.unstable_strictMode===!0&&(o=!0),s.identifierPrefix!==void 0&&(h=s.identifierPrefix),s.onUncaughtError!==void 0&&(f=s.onUncaughtError),s.onCaughtError!==void 0&&(g=s.onCaughtError),s.onRecoverableError!==void 0&&(E=s.onRecoverableError),s.formState!==void 0&&(I=s.formState)),n=z_(e,1,!0,n,s??null,o,h,I,f,g,E,$_),n.context=j_(null),s=n.current,o=Wn(),o=Pi(o),h=ls(o),h.callback=null,us(s,h,o),s=o,n.current.lanes=s,ur(n,s),Xi(n),e[ni]=n.current,Sd(e),new Pc(n)},ql.version="19.2.0",ql}var o0;function sS(){if(o0)return Gd.exports;o0=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),Gd.exports=rS(),Gd.exports}var aS=sS();const oS=Xv(aS),lS=()=>{};var l0={};const $v=function(r){const t=[];let i=0;for(let a=0;a<r.length;a++){let l=r.charCodeAt(a);l<128?t[i++]=l:l<2048?(t[i++]=l>>6|192,t[i++]=l&63|128):(l&64512)===55296&&a+1<r.length&&(r.charCodeAt(a+1)&64512)===56320?(l=65536+((l&1023)<<10)+(r.charCodeAt(++a)&1023),t[i++]=l>>18|240,t[i++]=l>>12&63|128,t[i++]=l>>6&63|128,t[i++]=l&63|128):(t[i++]=l>>12|224,t[i++]=l>>6&63|128,t[i++]=l&63|128)}return t},uS=function(r){const t=[];let i=0,a=0;for(;i<r.length;){const l=r[i++];if(l<128)t[a++]=String.fromCharCode(l);else if(l>191&&l<224){const c=r[i++];t[a++]=String.fromCharCode((l&31)<<6|c&63)}else if(l>239&&l<365){const c=r[i++],d=r[i++],p=r[i++],y=((l&7)<<18|(c&63)<<12|(d&63)<<6|p&63)-65536;t[a++]=String.fromCharCode(55296+(y>>10)),t[a++]=String.fromCharCode(56320+(y&1023))}else{const c=r[i++],d=r[i++];t[a++]=String.fromCharCode((l&15)<<12|(c&63)<<6|d&63)}}return t.join("")},Jv={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,t){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let l=0;l<r.length;l+=3){const c=r[l],d=l+1<r.length,p=d?r[l+1]:0,y=l+2<r.length,_=y?r[l+2]:0,b=c>>2,S=(c&3)<<4|p>>4;let V=(p&15)<<2|_>>6,K=_&63;y||(K=64,d||(V=64)),a.push(i[b],i[S],i[V],i[K])}return a.join("")},encodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(r):this.encodeByteArray($v(r),t)},decodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(r):uS(this.decodeStringToByteArray(r,t))},decodeStringToByteArray(r,t){this.init_();const i=t?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let l=0;l<r.length;){const c=i[r.charAt(l++)],p=l<r.length?i[r.charAt(l)]:0;++l;const _=l<r.length?i[r.charAt(l)]:64;++l;const S=l<r.length?i[r.charAt(l)]:64;if(++l,c==null||p==null||_==null||S==null)throw new cS;const V=c<<2|p>>4;if(a.push(V),_!==64){const K=p<<4&240|_>>2;if(a.push(K),S!==64){const tt=_<<6&192|S;a.push(tt)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class cS extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const hS=function(r){const t=$v(r);return Jv.encodeByteArray(t,!0)},oh=function(r){return hS(r).replace(/\./g,"")},Zv=function(r){try{return Jv.decodeString(r,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function fS(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const dS=()=>fS().__FIREBASE_DEFAULTS__,mS=()=>{if(typeof process>"u"||typeof l0>"u")return;const r=l0.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},gS=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=r&&Zv(r[1]);return t&&JSON.parse(t)},Ch=()=>{try{return lS()||dS()||mS()||gS()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},Wv=r=>Ch()?.emulatorHosts?.[r],pS=r=>{const t=Wv(r);if(!t)return;const i=t.lastIndexOf(":");if(i<=0||i+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const a=parseInt(t.substring(i+1),10);return t[0]==="["?[t.substring(1,i-1),a]:[t.substring(0,i),a]},t1=()=>Ch()?.config,e1=r=>Ch()?.[`_${r}`];class yS{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}wrapCallback(t){return(i,a)=>{i?this.reject(i):this.resolve(a),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(i):t(i,a))}}}function Go(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function n1(r){return(await fetch(r,{credentials:"include"})).ok}function _S(r,t){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},a=t||"demo-project",l=r.iat||0,c=r.sub||r.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${a}`,aud:a,iat:l,exp:l+3600,auth_time:l,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...r};return[oh(JSON.stringify(i)),oh(JSON.stringify(d)),""].join(".")}const $l={};function vS(){const r={prod:[],emulator:[]};for(const t of Object.keys($l))$l[t]?r.emulator.push(t):r.prod.push(t);return r}function ES(r){let t=document.getElementById(r),i=!1;return t||(t=document.createElement("div"),t.setAttribute("id",r),i=!0),{created:i,element:t}}let u0=!1;function i1(r,t){if(typeof window>"u"||typeof document>"u"||!Go(window.location.host)||$l[r]===t||$l[r]||u0)return;$l[r]=t;function i(V){return`__firebase__banner__${V}`}const a="__firebase__banner",c=vS().prod.length>0;function d(){const V=document.getElementById(a);V&&V.remove()}function p(V){V.style.display="flex",V.style.background="#7faaf0",V.style.position="fixed",V.style.bottom="5px",V.style.left="5px",V.style.padding=".5em",V.style.borderRadius="5px",V.style.alignItems="center"}function y(V,K){V.setAttribute("width","24"),V.setAttribute("id",K),V.setAttribute("height","24"),V.setAttribute("viewBox","0 0 24 24"),V.setAttribute("fill","none"),V.style.marginLeft="-6px"}function _(){const V=document.createElement("span");return V.style.cursor="pointer",V.style.marginLeft="16px",V.style.fontSize="24px",V.innerHTML=" &times;",V.onclick=()=>{u0=!0,d()},V}function b(V,K){V.setAttribute("id",K),V.innerText="Learn more",V.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",V.setAttribute("target","__blank"),V.style.paddingLeft="5px",V.style.textDecoration="underline"}function S(){const V=ES(a),K=i("text"),tt=document.getElementById(K)||document.createElement("span"),nt=i("learnmore"),et=document.getElementById(nt)||document.createElement("a"),dt=i("preprendIcon"),wt=document.getElementById(dt)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(V.created){const _t=V.element;p(_t),b(et,nt);const Ot=_();y(wt,dt),_t.append(wt,tt,et,Ot),document.body.appendChild(_t)}c?(tt.innerText="Preview backend disconnected.",wt.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(wt.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,tt.innerText="Preview backend running in this workspace."),tt.setAttribute("id",K)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",S):S()}function Sn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function TS(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Sn())}function bS(){const r=Ch()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function SS(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function AS(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function wS(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function RS(){const r=Sn();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function IS(){return!bS()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function CS(){try{return typeof indexedDB=="object"}catch{return!1}}function NS(){return new Promise((r,t)=>{try{let i=!0;const a="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(a);l.onsuccess=()=>{l.result.close(),i||self.indexedDB.deleteDatabase(a),r(!0)},l.onupgradeneeded=()=>{i=!1},l.onerror=()=>{t(l.error?.message||"")}}catch(i){t(i)}})}const xS="FirebaseError";class Br extends Error{constructor(t,i,a){super(i),this.code=t,this.customData=a,this.name=xS,Object.setPrototypeOf(this,Br.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,fu.prototype.create)}}class fu{constructor(t,i,a){this.service=t,this.serviceName=i,this.errors=a}create(t,...i){const a=i[0]||{},l=`${this.service}/${t}`,c=this.errors[t],d=c?DS(c,a):"Error",p=`${this.serviceName}: ${d} (${l}).`;return new Br(l,p,a)}}function DS(r,t){return r.replace(MS,(i,a)=>{const l=t[a];return l!=null?String(l):`<${a}?>`})}const MS=/\{\$([^}]+)}/g;function OS(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}function Oa(r,t){if(r===t)return!0;const i=Object.keys(r),a=Object.keys(t);for(const l of i){if(!a.includes(l))return!1;const c=r[l],d=t[l];if(c0(c)&&c0(d)){if(!Oa(c,d))return!1}else if(c!==d)return!1}for(const l of a)if(!i.includes(l))return!1;return!0}function c0(r){return r!==null&&typeof r=="object"}function du(r){const t=[];for(const[i,a]of Object.entries(r))Array.isArray(a)?a.forEach(l=>{t.push(encodeURIComponent(i)+"="+encodeURIComponent(l))}):t.push(encodeURIComponent(i)+"="+encodeURIComponent(a));return t.length?"&"+t.join("&"):""}function VS(r,t){const i=new kS(r,t);return i.subscribe.bind(i)}class kS{constructor(t,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{t(this)}).catch(a=>{this.error(a)})}next(t){this.forEachObserver(i=>{i.next(t)})}error(t){this.forEachObserver(i=>{i.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,i,a){let l;if(t===void 0&&i===void 0&&a===void 0)throw new Error("Missing Observer.");US(t,["next","error","complete"])?l=t:l={next:t,error:i,complete:a},l.next===void 0&&(l.next=Xd),l.error===void 0&&(l.error=Xd),l.complete===void 0&&(l.complete=Xd);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),c}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,t)}sendOne(t,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{i(this.observers[t])}catch(a){typeof console<"u"&&console.error&&console.error(a)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function US(r,t){if(typeof r!="object"||r===null)return!1;for(const i of t)if(i in r&&typeof r[i]=="function")return!0;return!1}function Xd(){}function fn(r){return r&&r._delegate?r._delegate:r}class Va{constructor(t,i,a){this.name=t,this.instanceFactory=i,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const Ra="[DEFAULT]";class LS{constructor(t,i){this.name=t,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const i=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(i)){const a=new yS;if(this.instancesDeferred.set(i,a),this.isInitialized(i)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:i});l&&a.resolve(l)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(t){const i=this.normalizeInstanceIdentifier(t?.identifier),a=t?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(l){if(a)return null;throw l}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(zS(t))try{this.getOrInitializeService({instanceIdentifier:Ra})}catch{}for(const[i,a]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:l});a.resolve(c)}catch{}}}}clearInstance(t=Ra){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...t.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Ra){return this.instances.has(t)}getOptions(t=Ra){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:i={}}=t,a=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:a,options:i});for(const[c,d]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(c);a===p&&d.resolve(l)}return l}onInit(t,i){const a=this.normalizeInstanceIdentifier(i),l=this.onInitCallbacks.get(a)??new Set;l.add(t),this.onInitCallbacks.set(a,l);const c=this.instances.get(a);return c&&t(c,a),()=>{l.delete(t)}}invokeOnInitCallbacks(t,i){const a=this.onInitCallbacks.get(i);if(a)for(const l of a)try{l(t,i)}catch{}}getOrInitializeService({instanceIdentifier:t,options:i={}}){let a=this.instances.get(t);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:PS(t),options:i}),this.instances.set(t,a),this.instancesOptions.set(t,i),this.invokeOnInitCallbacks(a,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,a)}catch{}return a||null}normalizeInstanceIdentifier(t=Ra){return this.component?this.component.multipleInstances?t:Ra:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function PS(r){return r===Ra?void 0:r}function zS(r){return r.instantiationMode==="EAGER"}class jS{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const i=this.getProvider(t.name);if(i.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);i.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const i=new LS(t,this);return this.providers.set(t,i),i}getProviders(){return Array.from(this.providers.values())}}var jt;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(jt||(jt={}));const BS={debug:jt.DEBUG,verbose:jt.VERBOSE,info:jt.INFO,warn:jt.WARN,error:jt.ERROR,silent:jt.SILENT},qS=jt.INFO,HS={[jt.DEBUG]:"log",[jt.VERBOSE]:"log",[jt.INFO]:"info",[jt.WARN]:"warn",[jt.ERROR]:"error"},FS=(r,t,...i)=>{if(t<r.logLevel)return;const a=new Date().toISOString(),l=HS[t];if(l)console[l](`[${a}]  ${r.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class qm{constructor(t){this.name=t,this._logLevel=qS,this._logHandler=FS,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in jt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?BS[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,jt.DEBUG,...t),this._logHandler(this,jt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,jt.VERBOSE,...t),this._logHandler(this,jt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,jt.INFO,...t),this._logHandler(this,jt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,jt.WARN,...t),this._logHandler(this,jt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,jt.ERROR,...t),this._logHandler(this,jt.ERROR,...t)}}const GS=(r,t)=>t.some(i=>r instanceof i);let h0,f0;function QS(){return h0||(h0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function YS(){return f0||(f0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const r1=new WeakMap,hm=new WeakMap,s1=new WeakMap,$d=new WeakMap,Hm=new WeakMap;function KS(r){const t=new Promise((i,a)=>{const l=()=>{r.removeEventListener("success",c),r.removeEventListener("error",d)},c=()=>{i(Ds(r.result)),l()},d=()=>{a(r.error),l()};r.addEventListener("success",c),r.addEventListener("error",d)});return t.then(i=>{i instanceof IDBCursor&&r1.set(i,r)}).catch(()=>{}),Hm.set(t,r),t}function XS(r){if(hm.has(r))return;const t=new Promise((i,a)=>{const l=()=>{r.removeEventListener("complete",c),r.removeEventListener("error",d),r.removeEventListener("abort",d)},c=()=>{i(),l()},d=()=>{a(r.error||new DOMException("AbortError","AbortError")),l()};r.addEventListener("complete",c),r.addEventListener("error",d),r.addEventListener("abort",d)});hm.set(r,t)}let fm={get(r,t,i){if(r instanceof IDBTransaction){if(t==="done")return hm.get(r);if(t==="objectStoreNames")return r.objectStoreNames||s1.get(r);if(t==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return Ds(r[t])},set(r,t,i){return r[t]=i,!0},has(r,t){return r instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in r}};function $S(r){fm=r(fm)}function JS(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...i){const a=r.call(Jd(this),t,...i);return s1.set(a,t.sort?t.sort():[t]),Ds(a)}:YS().includes(r)?function(...t){return r.apply(Jd(this),t),Ds(r1.get(this))}:function(...t){return Ds(r.apply(Jd(this),t))}}function ZS(r){return typeof r=="function"?JS(r):(r instanceof IDBTransaction&&XS(r),GS(r,QS())?new Proxy(r,fm):r)}function Ds(r){if(r instanceof IDBRequest)return KS(r);if($d.has(r))return $d.get(r);const t=ZS(r);return t!==r&&($d.set(r,t),Hm.set(t,r)),t}const Jd=r=>Hm.get(r);function WS(r,t,{blocked:i,upgrade:a,blocking:l,terminated:c}={}){const d=indexedDB.open(r,t),p=Ds(d);return a&&d.addEventListener("upgradeneeded",y=>{a(Ds(d.result),y.oldVersion,y.newVersion,Ds(d.transaction),y)}),i&&d.addEventListener("blocked",y=>i(y.oldVersion,y.newVersion,y)),p.then(y=>{c&&y.addEventListener("close",()=>c()),l&&y.addEventListener("versionchange",_=>l(_.oldVersion,_.newVersion,_))}).catch(()=>{}),p}const tA=["get","getKey","getAll","getAllKeys","count"],eA=["put","add","delete","clear"],Zd=new Map;function d0(r,t){if(!(r instanceof IDBDatabase&&!(t in r)&&typeof t=="string"))return;if(Zd.get(t))return Zd.get(t);const i=t.replace(/FromIndex$/,""),a=t!==i,l=eA.includes(i);if(!(i in(a?IDBIndex:IDBObjectStore).prototype)||!(l||tA.includes(i)))return;const c=async function(d,...p){const y=this.transaction(d,l?"readwrite":"readonly");let _=y.store;return a&&(_=_.index(p.shift())),(await Promise.all([_[i](...p),l&&y.done]))[0]};return Zd.set(t,c),c}$S(r=>({...r,get:(t,i,a)=>d0(t,i)||r.get(t,i,a),has:(t,i)=>!!d0(t,i)||r.has(t,i)}));class nA{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(iA(i)){const a=i.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(i=>i).join(" ")}}function iA(r){return r.getComponent()?.type==="VERSION"}const dm="@firebase/app",m0="0.14.6";const kr=new qm("@firebase/app"),rA="@firebase/app-compat",sA="@firebase/analytics-compat",aA="@firebase/analytics",oA="@firebase/app-check-compat",lA="@firebase/app-check",uA="@firebase/auth",cA="@firebase/auth-compat",hA="@firebase/database",fA="@firebase/data-connect",dA="@firebase/database-compat",mA="@firebase/functions",gA="@firebase/functions-compat",pA="@firebase/installations",yA="@firebase/installations-compat",_A="@firebase/messaging",vA="@firebase/messaging-compat",EA="@firebase/performance",TA="@firebase/performance-compat",bA="@firebase/remote-config",SA="@firebase/remote-config-compat",AA="@firebase/storage",wA="@firebase/storage-compat",RA="@firebase/firestore",IA="@firebase/ai",CA="@firebase/firestore-compat",NA="firebase",xA="12.6.0";const mm="[DEFAULT]",DA={[dm]:"fire-core",[rA]:"fire-core-compat",[aA]:"fire-analytics",[sA]:"fire-analytics-compat",[lA]:"fire-app-check",[oA]:"fire-app-check-compat",[uA]:"fire-auth",[cA]:"fire-auth-compat",[hA]:"fire-rtdb",[fA]:"fire-data-connect",[dA]:"fire-rtdb-compat",[mA]:"fire-fn",[gA]:"fire-fn-compat",[pA]:"fire-iid",[yA]:"fire-iid-compat",[_A]:"fire-fcm",[vA]:"fire-fcm-compat",[EA]:"fire-perf",[TA]:"fire-perf-compat",[bA]:"fire-rc",[SA]:"fire-rc-compat",[AA]:"fire-gcs",[wA]:"fire-gcs-compat",[RA]:"fire-fst",[CA]:"fire-fst-compat",[IA]:"fire-vertex","fire-js":"fire-js",[NA]:"fire-js-all"};const lh=new Map,MA=new Map,gm=new Map;function g0(r,t){try{r.container.addComponent(t)}catch(i){kr.debug(`Component ${t.name} failed to register with FirebaseApp ${r.name}`,i)}}function Po(r){const t=r.name;if(gm.has(t))return kr.debug(`There were multiple attempts to register component ${t}.`),!1;gm.set(t,r);for(const i of lh.values())g0(i,r);for(const i of MA.values())g0(i,r);return!0}function Fm(r,t){const i=r.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),r.container.getProvider(t)}function vi(r){return r==null?!1:r.settings!==void 0}const OA={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ms=new fu("app","Firebase",OA);class VA{constructor(t,i,a){this._isDeleted=!1,this._options={...t},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new Va("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Ms.create("app-deleted",{appName:this._name})}}const Qo=xA;function a1(r,t={}){let i=r;typeof t!="object"&&(t={name:t});const a={name:mm,automaticDataCollectionEnabled:!0,...t},l=a.name;if(typeof l!="string"||!l)throw Ms.create("bad-app-name",{appName:String(l)});if(i||(i=t1()),!i)throw Ms.create("no-options");const c=lh.get(l);if(c){if(Oa(i,c.options)&&Oa(a,c.config))return c;throw Ms.create("duplicate-app",{appName:l})}const d=new jS(l);for(const y of gm.values())d.addComponent(y);const p=new VA(i,a,d);return lh.set(l,p),p}function o1(r=mm){const t=lh.get(r);if(!t&&r===mm&&t1())return a1();if(!t)throw Ms.create("no-app",{appName:r});return t}function Os(r,t,i){let a=DA[r]??r;i&&(a+=`-${i}`);const l=a.match(/\s|\//),c=t.match(/\s|\//);if(l||c){const d=[`Unable to register library "${a}" with version "${t}":`];l&&d.push(`library name "${a}" contains illegal characters (whitespace or "/")`),l&&c&&d.push("and"),c&&d.push(`version name "${t}" contains illegal characters (whitespace or "/")`),kr.warn(d.join(" "));return}Po(new Va(`${a}-version`,()=>({library:a,version:t}),"VERSION"))}const kA="firebase-heartbeat-database",UA=1,nu="firebase-heartbeat-store";let Wd=null;function l1(){return Wd||(Wd=WS(kA,UA,{upgrade:(r,t)=>{switch(t){case 0:try{r.createObjectStore(nu)}catch(i){console.warn(i)}}}}).catch(r=>{throw Ms.create("idb-open",{originalErrorMessage:r.message})})),Wd}async function LA(r){try{const i=(await l1()).transaction(nu),a=await i.objectStore(nu).get(u1(r));return await i.done,a}catch(t){if(t instanceof Br)kr.warn(t.message);else{const i=Ms.create("idb-get",{originalErrorMessage:t?.message});kr.warn(i.message)}}}async function p0(r,t){try{const a=(await l1()).transaction(nu,"readwrite");await a.objectStore(nu).put(t,u1(r)),await a.done}catch(i){if(i instanceof Br)kr.warn(i.message);else{const a=Ms.create("idb-set",{originalErrorMessage:i?.message});kr.warn(a.message)}}}function u1(r){return`${r.name}!${r.options.appId}`}const PA=1024,zA=30;class jA{constructor(t){this.container=t,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new qA(i),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=y0();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(l=>l.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>zA){const l=HA(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){kr.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=y0(),{heartbeatsToSend:i,unsentEntries:a}=BA(this._heartbeatsCache.heartbeats),l=oh(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return kr.warn(t),""}}}function y0(){return new Date().toISOString().substring(0,10)}function BA(r,t=PA){const i=[];let a=r.slice();for(const l of r){const c=i.find(d=>d.agent===l.agent);if(c){if(c.dates.push(l.date),_0(i)>t){c.dates.pop();break}}else if(i.push({agent:l.agent,dates:[l.date]}),_0(i)>t){i.pop();break}a=a.slice(1)}return{heartbeatsToSend:i,unsentEntries:a}}class qA{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return CS()?NS().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await LA(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const a=await this.read();return p0(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const a=await this.read();return p0(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...t.heartbeats]})}else return}}function _0(r){return oh(JSON.stringify({version:2,heartbeats:r})).length}function HA(r){if(r.length===0)return-1;let t=0,i=r[0].date;for(let a=1;a<r.length;a++)r[a].date<i&&(i=r[a].date,t=a);return t}function FA(r){Po(new Va("platform-logger",t=>new nA(t),"PRIVATE")),Po(new Va("heartbeat",t=>new jA(t),"PRIVATE")),Os(dm,m0,r),Os(dm,m0,"esm2020"),Os("fire-js","")}FA("");var GA="firebase",QA="12.6.0";Os(GA,QA,"app");function c1(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const YA=c1,h1=new fu("auth","Firebase",c1());const uh=new qm("@firebase/auth");function KA(r,...t){uh.logLevel<=jt.WARN&&uh.warn(`Auth (${Qo}): ${r}`,...t)}function $c(r,...t){uh.logLevel<=jt.ERROR&&uh.error(`Auth (${Qo}): ${r}`,...t)}function Ur(r,...t){throw Gm(r,...t)}function Zi(r,...t){return Gm(r,...t)}function f1(r,t,i){const a={...YA(),[t]:i};return new fu("auth","Firebase",a).create(t,{appName:r.name})}function Vr(r){return f1(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Gm(r,...t){if(typeof r!="string"){const i=t[0],a=[...t.slice(1)];return a[0]&&(a[0].appName=r.name),r._errorFactory.create(i,...a)}return h1.create(r,...t)}function bt(r,t,...i){if(!r)throw Gm(t,...i)}function Mr(r){const t="INTERNAL ASSERTION FAILED: "+r;throw $c(t),new Error(t)}function Lr(r,t){r||Mr(t)}function pm(){return typeof self<"u"&&self.location?.href||""}function XA(){return v0()==="http:"||v0()==="https:"}function v0(){return typeof self<"u"&&self.location?.protocol||null}function $A(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(XA()||AS()||"connection"in navigator)?navigator.onLine:!0}function JA(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}class mu{constructor(t,i){this.shortDelay=t,this.longDelay=i,Lr(i>t,"Short delay should be less than long delay!"),this.isMobile=TS()||wS()}get(){return $A()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Qm(r,t){Lr(r.emulator,"Emulator should always be set here");const{url:i}=r.emulator;return t?`${i}${t.startsWith("/")?t.slice(1):t}`:i}class d1{static initialize(t,i,a){this.fetchImpl=t,i&&(this.headersImpl=i),a&&(this.responseImpl=a)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Mr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Mr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Mr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const ZA={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const WA=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],t2=new mu(3e4,6e4);function gu(r,t){return r.tenantId&&!t.tenantId?{...t,tenantId:r.tenantId}:t}async function Yo(r,t,i,a,l={}){return m1(r,l,async()=>{let c={},d={};a&&(t==="GET"?d=a:c={body:JSON.stringify(a)});const p=du({key:r.config.apiKey,...d}).slice(1),y=await r._getAdditionalHeaders();y["Content-Type"]="application/json",r.languageCode&&(y["X-Firebase-Locale"]=r.languageCode);const _={method:t,headers:y,...c};return SS()||(_.referrerPolicy="no-referrer"),r.emulatorConfig&&Go(r.emulatorConfig.host)&&(_.credentials="include"),d1.fetch()(await g1(r,r.config.apiHost,i,p),_)})}async function m1(r,t,i){r._canInitEmulator=!1;const a={...ZA,...t};try{const l=new e2(r),c=await Promise.race([i(),l.promise]);l.clearNetworkTimeout();const d=await c.json();if("needConfirmation"in d)throw jc(r,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const p=c.ok?d.errorMessage:d.error.message,[y,_]=p.split(" : ");if(y==="FEDERATED_USER_ID_ALREADY_LINKED")throw jc(r,"credential-already-in-use",d);if(y==="EMAIL_EXISTS")throw jc(r,"email-already-in-use",d);if(y==="USER_DISABLED")throw jc(r,"user-disabled",d);const b=a[y]||y.toLowerCase().replace(/[_\s]+/g,"-");if(_)throw f1(r,b,_);Ur(r,b)}}catch(l){if(l instanceof Br)throw l;Ur(r,"network-request-failed",{message:String(l)})}}async function Ym(r,t,i,a,l={}){const c=await Yo(r,t,i,a,l);return"mfaPendingCredential"in c&&Ur(r,"multi-factor-auth-required",{_serverResponse:c}),c}async function g1(r,t,i,a){const l=`${t}${i}?${a}`,c=r,d=c.config.emulator?Qm(r.config,l):`${r.config.apiScheme}://${l}`;return WA.includes(i)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(d).toString():d}class e2{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((i,a)=>{this.timer=setTimeout(()=>a(Zi(this.auth,"network-request-failed")),t2.get())})}}function jc(r,t,i){const a={appName:r.name};i.email&&(a.email=i.email),i.phoneNumber&&(a.phoneNumber=i.phoneNumber);const l=Zi(r,t,a);return l.customData._tokenResponse=i,l}async function n2(r,t){return Yo(r,"POST","/v1/accounts:delete",t)}async function ch(r,t){return Yo(r,"POST","/v1/accounts:lookup",t)}function Jl(r){if(r)try{const t=new Date(Number(r));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function i2(r,t=!1){const i=fn(r),a=await i.getIdToken(t),l=Km(a);bt(l&&l.exp&&l.auth_time&&l.iat,i.auth,"internal-error");const c=typeof l.firebase=="object"?l.firebase:void 0,d=c?.sign_in_provider;return{claims:l,token:a,authTime:Jl(tm(l.auth_time)),issuedAtTime:Jl(tm(l.iat)),expirationTime:Jl(tm(l.exp)),signInProvider:d||null,signInSecondFactor:c?.sign_in_second_factor||null}}function tm(r){return Number(r)*1e3}function Km(r){const[t,i,a]=r.split(".");if(t===void 0||i===void 0||a===void 0)return $c("JWT malformed, contained fewer than 3 sections"),null;try{const l=Zv(i);return l?JSON.parse(l):($c("Failed to decode base64 JWT payload"),null)}catch(l){return $c("Caught error parsing JWT payload as JSON",l?.toString()),null}}function E0(r){const t=Km(r);return bt(t,"internal-error"),bt(typeof t.exp<"u","internal-error"),bt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}async function iu(r,t,i=!1){if(i)return t;try{return await t}catch(a){throw a instanceof Br&&r2(a)&&r.auth.currentUser===r&&await r.auth.signOut(),a}}function r2({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}class s2{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const a=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,a)}}schedule(t=!1){if(!this.isRunning)return;const i=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class ym{constructor(t,i){this.createdAt=t,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=Jl(this.lastLoginAt),this.creationTime=Jl(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function hh(r){const t=r.auth,i=await r.getIdToken(),a=await iu(r,ch(t,{idToken:i}));bt(a?.users.length,t,"internal-error");const l=a.users[0];r._notifyReloadListener(l);const c=l.providerUserInfo?.length?p1(l.providerUserInfo):[],d=o2(r.providerData,c),p=r.isAnonymous,y=!(r.email&&l.passwordHash)&&!d?.length,_=p?y:!1,b={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:d,metadata:new ym(l.createdAt,l.lastLoginAt),isAnonymous:_};Object.assign(r,b)}async function a2(r){const t=fn(r);await hh(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function o2(r,t){return[...r.filter(a=>!t.some(l=>l.providerId===a.providerId)),...t]}function p1(r){return r.map(({providerId:t,...i})=>({providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}async function l2(r,t){const i=await m1(r,{},async()=>{const a=du({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:l,apiKey:c}=r.config,d=await g1(r,l,"/v1/token",`key=${c}`),p=await r._getAdditionalHeaders();p["Content-Type"]="application/x-www-form-urlencoded";const y={method:"POST",headers:p,body:a};return r.emulatorConfig&&Go(r.emulatorConfig.host)&&(y.credentials="include"),d1.fetch()(d,y)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function u2(r,t){return Yo(r,"POST","/v2/accounts:revokeToken",gu(r,t))}class Mo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){bt(t.idToken,"internal-error"),bt(typeof t.idToken<"u","internal-error"),bt(typeof t.refreshToken<"u","internal-error");const i="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):E0(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,i)}updateFromIdToken(t){bt(t.length!==0,"internal-error");const i=E0(t);this.updateTokensAndExpiration(t,null,i)}async getToken(t,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(bt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,i){const{accessToken:a,refreshToken:l,expiresIn:c}=await l2(t,i);this.updateTokensAndExpiration(a,l,Number(c))}updateTokensAndExpiration(t,i,a){this.refreshToken=i||null,this.accessToken=t||null,this.expirationTime=Date.now()+a*1e3}static fromJSON(t,i){const{refreshToken:a,accessToken:l,expirationTime:c}=i,d=new Mo;return a&&(bt(typeof a=="string","internal-error",{appName:t}),d.refreshToken=a),l&&(bt(typeof l=="string","internal-error",{appName:t}),d.accessToken=l),c&&(bt(typeof c=="number","internal-error",{appName:t}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Mo,this.toJSON())}_performRefresh(){return Mr("not implemented")}}function ws(r,t){bt(typeof r=="string"||typeof r>"u","internal-error",{appName:t})}class Oi{constructor({uid:t,auth:i,stsTokenManager:a,...l}){this.providerId="firebase",this.proactiveRefresh=new s2(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new ym(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(t){const i=await iu(this,this.stsTokenManager.getToken(this.auth,t));return bt(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(t){return i2(this,t)}reload(){return a2(this)}_assign(t){this!==t&&(bt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(i=>({...i})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const i=new Oi({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(t){bt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,i=!1){let a=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),a=!0),i&&await hh(this),await this.auth._persistUserIfCurrent(this),a&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(vi(this.auth.app))return Promise.reject(Vr(this.auth));const t=await this.getIdToken();return await iu(this,n2(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,i){const a=i.displayName??void 0,l=i.email??void 0,c=i.phoneNumber??void 0,d=i.photoURL??void 0,p=i.tenantId??void 0,y=i._redirectEventId??void 0,_=i.createdAt??void 0,b=i.lastLoginAt??void 0,{uid:S,emailVerified:V,isAnonymous:K,providerData:tt,stsTokenManager:nt}=i;bt(S&&nt,t,"internal-error");const et=Mo.fromJSON(this.name,nt);bt(typeof S=="string",t,"internal-error"),ws(a,t.name),ws(l,t.name),bt(typeof V=="boolean",t,"internal-error"),bt(typeof K=="boolean",t,"internal-error"),ws(c,t.name),ws(d,t.name),ws(p,t.name),ws(y,t.name),ws(_,t.name),ws(b,t.name);const dt=new Oi({uid:S,auth:t,email:l,emailVerified:V,displayName:a,isAnonymous:K,photoURL:d,phoneNumber:c,tenantId:p,stsTokenManager:et,createdAt:_,lastLoginAt:b});return tt&&Array.isArray(tt)&&(dt.providerData=tt.map(wt=>({...wt}))),y&&(dt._redirectEventId=y),dt}static async _fromIdTokenResponse(t,i,a=!1){const l=new Mo;l.updateFromServerResponse(i);const c=new Oi({uid:i.localId,auth:t,stsTokenManager:l,isAnonymous:a});return await hh(c),c}static async _fromGetAccountInfoResponse(t,i,a){const l=i.users[0];bt(l.localId!==void 0,"internal-error");const c=l.providerUserInfo!==void 0?p1(l.providerUserInfo):[],d=!(l.email&&l.passwordHash)&&!c?.length,p=new Mo;p.updateFromIdToken(a);const y=new Oi({uid:l.localId,auth:t,stsTokenManager:p,isAnonymous:d}),_={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:c,metadata:new ym(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!c?.length};return Object.assign(y,_),y}}const T0=new Map;function Or(r){Lr(r instanceof Function,"Expected a class definition");let t=T0.get(r);return t?(Lr(t instanceof r,"Instance stored in cache mismatched with class"),t):(t=new r,T0.set(r,t),t)}class y1{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,i){this.storage[t]=i}async _get(t){const i=this.storage[t];return i===void 0?null:i}async _remove(t){delete this.storage[t]}_addListener(t,i){}_removeListener(t,i){}}y1.type="NONE";const b0=y1;function Jc(r,t,i){return`firebase:${r}:${t}:${i}`}class Oo{constructor(t,i,a){this.persistence=t,this.auth=i,this.userKey=a;const{config:l,name:c}=this.auth;this.fullUserKey=Jc(this.userKey,l.apiKey,c),this.fullPersistenceKey=Jc("persistence",l.apiKey,c),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const i=await ch(this.auth,{idToken:t}).catch(()=>{});return i?Oi._fromGetAccountInfoResponse(this.auth,i,t):null}return Oi._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,i,a="authUser"){if(!i.length)return new Oo(Or(b0),t,a);const l=(await Promise.all(i.map(async _=>{if(await _._isAvailable())return _}))).filter(_=>_);let c=l[0]||Or(b0);const d=Jc(a,t.config.apiKey,t.name);let p=null;for(const _ of i)try{const b=await _._get(d);if(b){let S;if(typeof b=="string"){const V=await ch(t,{idToken:b}).catch(()=>{});if(!V)break;S=await Oi._fromGetAccountInfoResponse(t,V,b)}else S=Oi._fromJSON(t,b);_!==c&&(p=S),c=_;break}}catch{}const y=l.filter(_=>_._shouldAllowMigration);return!c._shouldAllowMigration||!y.length?new Oo(c,t,a):(c=y[0],p&&await c._set(d,p.toJSON()),await Promise.all(i.map(async _=>{if(_!==c)try{await _._remove(d)}catch{}})),new Oo(c,t,a))}}function S0(r){const t=r.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(T1(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(_1(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(S1(t))return"Blackberry";if(A1(t))return"Webos";if(v1(t))return"Safari";if((t.includes("chrome/")||E1(t))&&!t.includes("edge/"))return"Chrome";if(b1(t))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,a=r.match(i);if(a?.length===2)return a[1]}return"Other"}function _1(r=Sn()){return/firefox\//i.test(r)}function v1(r=Sn()){const t=r.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function E1(r=Sn()){return/crios\//i.test(r)}function T1(r=Sn()){return/iemobile/i.test(r)}function b1(r=Sn()){return/android/i.test(r)}function S1(r=Sn()){return/blackberry/i.test(r)}function A1(r=Sn()){return/webos/i.test(r)}function Xm(r=Sn()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function c2(r=Sn()){return Xm(r)&&!!window.navigator?.standalone}function h2(){return RS()&&document.documentMode===10}function w1(r=Sn()){return Xm(r)||b1(r)||A1(r)||S1(r)||/windows phone/i.test(r)||T1(r)}function R1(r,t=[]){let i;switch(r){case"Browser":i=S0(Sn());break;case"Worker":i=`${S0(Sn())}-${r}`;break;default:i=r}const a=t.length?t.join(","):"FirebaseCore-web";return`${i}/JsCore/${Qo}/${a}`}class f2{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,i){const a=c=>new Promise((d,p)=>{try{const y=t(c);d(y)}catch(y){p(y)}});a.onAbort=i,this.queue.push(a);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const i=[];try{for(const a of this.queue)await a(t),a.onAbort&&i.push(a.onAbort)}catch(a){i.reverse();for(const l of i)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:a?.message})}}}async function d2(r,t={}){return Yo(r,"GET","/v2/passwordPolicy",gu(r,t))}const m2=6;class g2{constructor(t){const i=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??m2,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,i),this.validatePasswordCharacterOptions(t,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(t,i){const a=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;a&&(i.meetsMinPasswordLength=t.length>=a),l&&(i.meetsMaxPasswordLength=t.length<=l)}validatePasswordCharacterOptions(t,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let a;for(let l=0;l<t.length;l++)a=t.charAt(l),this.updatePasswordCharacterOptionsStatuses(i,a>="a"&&a<="z",a>="A"&&a<="Z",a>="0"&&a<="9",this.allowedNonAlphanumericCharacters.includes(a))}updatePasswordCharacterOptionsStatuses(t,i,a,l,c){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=a)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=c))}}class p2{constructor(t,i,a,l){this.app=t,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=a,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new A0(this),this.idTokenSubscription=new A0(this),this.beforeStateQueue=new f2(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=h1,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(t,i){return i&&(this._popupRedirectResolver=Or(i)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Oo.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const i=await ch(this,{idToken:t}),a=await Oi._fromGetAccountInfoResponse(this,i,t);await this.directlySetCurrentUser(a)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(vi(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let a=i,l=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,d=a?._redirectEventId,p=await this.tryRedirectSignIn(t);(!c||c===d)&&p?.user&&(a=p.user,l=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(a)}catch(c){a=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return bt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(t){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(t){try{await hh(t)}catch(i){if(i?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=JA()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(vi(this.app))return Promise.reject(Vr(this));const i=t?fn(t):null;return i&&bt(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(t,i=!1){if(!this._deleted)return t&&bt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return vi(this.app)?Promise.reject(Vr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return vi(this.app)?Promise.reject(Vr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Or(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await d2(this),i=new g2(t);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new fu("auth","Firebase",t())}onAuthStateChanged(t,i,a){return this.registerStateListener(this.authStateSubscription,t,i,a)}beforeAuthStateChanged(t,i){return this.beforeStateQueue.pushCallback(t,i)}onIdTokenChanged(t,i,a){return this.registerStateListener(this.idTokenSubscription,t,i,a)}authStateReady(){return new Promise((t,i)=>{if(this.currentUser)t();else{const a=this.onAuthStateChanged(()=>{a(),t()},i)}})}async revokeAccessToken(t){if(this.currentUser){const i=await this.currentUser.getIdToken(),a={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:i};this.tenantId!=null&&(a.tenantId=this.tenantId),await u2(this,a)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,i){const a=await this.getOrInitRedirectPersistenceManager(i);return t===null?a.removeCurrentUser():a.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const i=t&&Or(t)||this._popupRedirectResolver;bt(i,this,"argument-error"),this.redirectPersistenceManager=await Oo.create(this,[Or(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,i,a,l){if(this._deleted)return()=>{};const c=typeof i=="function"?i:i.next.bind(i);let d=!1;const p=this._isInitialized?Promise.resolve():this._initializationPromise;if(bt(p,this,"internal-error"),p.then(()=>{d||c(this.currentUser)}),typeof i=="function"){const y=t.addObserver(i,a,l);return()=>{d=!0,y()}}else{const y=t.addObserver(i);return()=>{d=!0,y()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return bt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=R1(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();i&&(t["X-Firebase-Client"]=i);const a=await this._getAppCheckToken();return a&&(t["X-Firebase-AppCheck"]=a),t}async _getAppCheckToken(){if(vi(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&KA(`Error while retrieving App Check token: ${t.error}`),t?.token}}function pu(r){return fn(r)}class A0{constructor(t){this.auth=t,this.observer=null,this.addObserver=VS(i=>this.observer=i)}get next(){return bt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let $m={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function y2(r){$m=r}function _2(r){return $m.loadJS(r)}function v2(){return $m.gapiScript}function E2(r){return`__${r}${Math.floor(Math.random()*1e6)}`}function T2(r,t){const i=Fm(r,"auth");if(i.isInitialized()){const l=i.getImmediate(),c=i.getOptions();if(Oa(c,t??{}))return l;Ur(l,"already-initialized")}return i.initialize({options:t})}function b2(r,t){const i=t?.persistence||[],a=(Array.isArray(i)?i:[i]).map(Or);t?.errorMap&&r._updateErrorMap(t.errorMap),r._initializeWithPersistence(a,t?.popupRedirectResolver)}function S2(r,t,i){const a=pu(r);bt(/^https?:\/\//.test(t),a,"invalid-emulator-scheme");const l=!1,c=I1(t),{host:d,port:p}=A2(t),y=p===null?"":`:${p}`,_={url:`${c}//${d}${y}/`},b=Object.freeze({host:d,port:p,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!a._canInitEmulator){bt(a.config.emulator&&a.emulatorConfig,a,"emulator-config-failed"),bt(Oa(_,a.config.emulator)&&Oa(b,a.emulatorConfig),a,"emulator-config-failed");return}a.config.emulator=_,a.emulatorConfig=b,a.settings.appVerificationDisabledForTesting=!0,Go(d)?(n1(`${c}//${d}${y}`),i1("Auth",!0)):w2()}function I1(r){const t=r.indexOf(":");return t<0?"":r.substr(0,t+1)}function A2(r){const t=I1(r),i=/(\/\/)?([^?#/]+)/.exec(r.substr(t.length));if(!i)return{host:"",port:null};const a=i[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(a);if(l){const c=l[1];return{host:c,port:w0(a.substr(c.length+1))}}else{const[c,d]=a.split(":");return{host:c,port:w0(d)}}}function w0(r){if(!r)return null;const t=Number(r);return isNaN(t)?null:t}function w2(){function r(){const t=document.createElement("p"),i=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}class C1{constructor(t,i){this.providerId=t,this.signInMethod=i}toJSON(){return Mr("not implemented")}_getIdTokenResponse(t){return Mr("not implemented")}_linkToIdToken(t,i){return Mr("not implemented")}_getReauthenticationResolver(t){return Mr("not implemented")}}async function Vo(r,t){return Ym(r,"POST","/v1/accounts:signInWithIdp",gu(r,t))}const R2="http://localhost";class ka extends C1{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const i=new ka(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(i.idToken=t.idToken),t.accessToken&&(i.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(i.nonce=t.nonce),t.pendingToken&&(i.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(i.accessToken=t.oauthToken,i.secret=t.oauthTokenSecret):Ur("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const i=typeof t=="string"?JSON.parse(t):t,{providerId:a,signInMethod:l,...c}=i;if(!a||!l)return null;const d=new ka(a,l);return d.idToken=c.idToken||void 0,d.accessToken=c.accessToken||void 0,d.secret=c.secret,d.nonce=c.nonce,d.pendingToken=c.pendingToken||null,d}_getIdTokenResponse(t){const i=this.buildRequest();return Vo(t,i)}_linkToIdToken(t,i){const a=this.buildRequest();return a.idToken=i,Vo(t,a)}_getReauthenticationResolver(t){const i=this.buildRequest();return i.autoCreate=!1,Vo(t,i)}buildRequest(){const t={requestUri:R2,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),t.postBody=du(i)}return t}}class N1{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}class yu extends N1{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}class Rs extends yu{constructor(){super("facebook.com")}static credential(t){return ka._fromParams({providerId:Rs.PROVIDER_ID,signInMethod:Rs.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Rs.credentialFromTaggedObject(t)}static credentialFromError(t){return Rs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Rs.credential(t.oauthAccessToken)}catch{return null}}}Rs.FACEBOOK_SIGN_IN_METHOD="facebook.com";Rs.PROVIDER_ID="facebook.com";class Is extends yu{constructor(){super("google.com"),this.addScope("profile")}static credential(t,i){return ka._fromParams({providerId:Is.PROVIDER_ID,signInMethod:Is.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:i})}static credentialFromResult(t){return Is.credentialFromTaggedObject(t)}static credentialFromError(t){return Is.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:i,oauthAccessToken:a}=t;if(!i&&!a)return null;try{return Is.credential(i,a)}catch{return null}}}Is.GOOGLE_SIGN_IN_METHOD="google.com";Is.PROVIDER_ID="google.com";class Cs extends yu{constructor(){super("github.com")}static credential(t){return ka._fromParams({providerId:Cs.PROVIDER_ID,signInMethod:Cs.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Cs.credentialFromTaggedObject(t)}static credentialFromError(t){return Cs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Cs.credential(t.oauthAccessToken)}catch{return null}}}Cs.GITHUB_SIGN_IN_METHOD="github.com";Cs.PROVIDER_ID="github.com";class Ns extends yu{constructor(){super("twitter.com")}static credential(t,i){return ka._fromParams({providerId:Ns.PROVIDER_ID,signInMethod:Ns.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:i})}static credentialFromResult(t){return Ns.credentialFromTaggedObject(t)}static credentialFromError(t){return Ns.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:i,oauthTokenSecret:a}=t;if(!i||!a)return null;try{return Ns.credential(i,a)}catch{return null}}}Ns.TWITTER_SIGN_IN_METHOD="twitter.com";Ns.PROVIDER_ID="twitter.com";async function I2(r,t){return Ym(r,"POST","/v1/accounts:signUp",gu(r,t))}class Pr{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,i,a,l=!1){const c=await Oi._fromIdTokenResponse(t,a,l),d=R0(a);return new Pr({user:c,providerId:d,_tokenResponse:a,operationType:i})}static async _forOperation(t,i,a){await t._updateTokensIfNecessary(a,!0);const l=R0(a);return new Pr({user:t,providerId:l,_tokenResponse:a,operationType:i})}}function R0(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}async function C2(r){if(vi(r.app))return Promise.reject(Vr(r));const t=pu(r);if(await t._initializationPromise,t.currentUser?.isAnonymous)return new Pr({user:t.currentUser,providerId:null,operationType:"signIn"});const i=await I2(t,{returnSecureToken:!0}),a=await Pr._fromIdTokenResponse(t,"signIn",i,!0);return await t._updateCurrentUser(a.user),a}class fh extends Br{constructor(t,i,a,l){super(i.code,i.message),this.operationType=a,this.user=l,Object.setPrototypeOf(this,fh.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:a}}static _fromErrorAndOperation(t,i,a,l){return new fh(t,i,a,l)}}function x1(r,t,i,a){return(t==="reauthenticate"?i._getReauthenticationResolver(r):i._getIdTokenResponse(r)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?fh._fromErrorAndOperation(r,c,t,a):c})}async function N2(r,t,i=!1){const a=await iu(r,t._linkToIdToken(r.auth,await r.getIdToken()),i);return Pr._forOperation(r,"link",a)}async function x2(r,t,i=!1){const{auth:a}=r;if(vi(a.app))return Promise.reject(Vr(a));const l="reauthenticate";try{const c=await iu(r,x1(a,l,t,r),i);bt(c.idToken,a,"internal-error");const d=Km(c.idToken);bt(d,a,"internal-error");const{sub:p}=d;return bt(r.uid===p,a,"user-mismatch"),Pr._forOperation(r,l,c)}catch(c){throw c?.code==="auth/user-not-found"&&Ur(a,"user-mismatch"),c}}async function D2(r,t,i=!1){if(vi(r.app))return Promise.reject(Vr(r));const a="signIn",l=await x1(r,a,t),c=await Pr._fromIdTokenResponse(r,a,l);return i||await r._updateCurrentUser(c.user),c}async function M2(r,t){return Ym(r,"POST","/v1/accounts:signInWithCustomToken",gu(r,t))}async function O2(r,t){if(vi(r.app))return Promise.reject(Vr(r));const i=pu(r),a=await M2(i,{token:t,returnSecureToken:!0}),l=await Pr._fromIdTokenResponse(i,"signIn",a);return await i._updateCurrentUser(l.user),l}function V2(r,t,i,a){return fn(r).onIdTokenChanged(t,i,a)}function k2(r,t,i){return fn(r).beforeAuthStateChanged(t,i)}function U2(r,t,i,a){return fn(r).onAuthStateChanged(t,i,a)}const dh="__sak";class D1{constructor(t,i){this.storageRetriever=t,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(dh,"1"),this.storage.removeItem(dh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,i){return this.storage.setItem(t,JSON.stringify(i)),Promise.resolve()}_get(t){const i=this.storage.getItem(t);return Promise.resolve(i?JSON.parse(i):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}const L2=1e3,P2=10;class M1 extends D1{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,i)=>this.onStorageEvent(t,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=w1(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const i of Object.keys(this.listeners)){const a=this.storage.getItem(i),l=this.localCache[i];a!==l&&t(i,l,a)}}onStorageEvent(t,i=!1){if(!t.key){this.forAllChangedKeys((d,p,y)=>{this.notifyListeners(d,y)});return}const a=t.key;i?this.detachListener():this.stopPolling();const l=()=>{const d=this.storage.getItem(a);!i&&this.localCache[a]===d||this.notifyListeners(a,d)},c=this.storage.getItem(a);h2()&&c!==t.newValue&&t.newValue!==t.oldValue?setTimeout(l,P2):l()}notifyListeners(t,i){this.localCache[t]=i;const a=this.listeners[t];if(a)for(const l of Array.from(a))l(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,i,a)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:i,newValue:a}),!0)})},L2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,i){await super._set(t,i),this.localCache[t]=JSON.stringify(i)}async _get(t){const i=await super._get(t);return this.localCache[t]=JSON.stringify(i),i}async _remove(t){await super._remove(t),delete this.localCache[t]}}M1.type="LOCAL";const z2=M1;class O1 extends D1{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,i){}_removeListener(t,i){}}O1.type="SESSION";const V1=O1;function j2(r){return Promise.all(r.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(i){return{fulfilled:!1,reason:i}}}))}class Nh{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const i=this.receivers.find(l=>l.isListeningto(t));if(i)return i;const a=new Nh(t);return this.receivers.push(a),a}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const i=t,{eventId:a,eventType:l,data:c}=i.data,d=this.handlersMap[l];if(!d?.size)return;i.ports[0].postMessage({status:"ack",eventId:a,eventType:l});const p=Array.from(d).map(async _=>_(i.origin,c)),y=await j2(p);i.ports[0].postMessage({status:"done",eventId:a,eventType:l,response:y})}_subscribe(t,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(i)}_unsubscribe(t,i){this.handlersMap[t]&&i&&this.handlersMap[t].delete(i),(!i||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Nh.receivers=[];function Jm(r="",t=10){let i="";for(let a=0;a<t;a++)i+=Math.floor(Math.random()*10);return r+i}class B2{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,i,a=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let c,d;return new Promise((p,y)=>{const _=Jm("",20);l.port1.start();const b=setTimeout(()=>{y(new Error("unsupported_event"))},a);d={messageChannel:l,onMessage(S){const V=S;if(V.data.eventId===_)switch(V.data.status){case"ack":clearTimeout(b),c=setTimeout(()=>{y(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),p(V.data.response);break;default:clearTimeout(b),clearTimeout(c),y(new Error("invalid_response"));break}}},this.handlers.add(d),l.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:t,eventId:_,data:i},[l.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}function Wi(){return window}function q2(r){Wi().location.href=r}function k1(){return typeof Wi().WorkerGlobalScope<"u"&&typeof Wi().importScripts=="function"}async function H2(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function F2(){return navigator?.serviceWorker?.controller||null}function G2(){return k1()?self:null}const U1="firebaseLocalStorageDb",Q2=1,mh="firebaseLocalStorage",L1="fbase_key";class _u{constructor(t){this.request=t}toPromise(){return new Promise((t,i)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function xh(r,t){return r.transaction([mh],t?"readwrite":"readonly").objectStore(mh)}function Y2(){const r=indexedDB.deleteDatabase(U1);return new _u(r).toPromise()}function _m(){const r=indexedDB.open(U1,Q2);return new Promise((t,i)=>{r.addEventListener("error",()=>{i(r.error)}),r.addEventListener("upgradeneeded",()=>{const a=r.result;try{a.createObjectStore(mh,{keyPath:L1})}catch(l){i(l)}}),r.addEventListener("success",async()=>{const a=r.result;a.objectStoreNames.contains(mh)?t(a):(a.close(),await Y2(),t(await _m()))})})}async function I0(r,t,i){const a=xh(r,!0).put({[L1]:t,value:i});return new _u(a).toPromise()}async function K2(r,t){const i=xh(r,!1).get(t),a=await new _u(i).toPromise();return a===void 0?null:a.value}function C0(r,t){const i=xh(r,!0).delete(t);return new _u(i).toPromise()}const X2=800,$2=3;class P1{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await _m(),this.db)}async _withRetries(t){let i=0;for(;;)try{const a=await this._openDb();return await t(a)}catch(a){if(i++>$2)throw a;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return k1()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Nh._getInstance(G2()),this.receiver._subscribe("keyChanged",async(t,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(t,i)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await H2(),!this.activeServiceWorker)return;this.sender=new B2(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||F2()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await _m();return await I0(t,dh,"1"),await C0(t,dh),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,i){return this._withPendingWrite(async()=>(await this._withRetries(a=>I0(a,t,i)),this.localCache[t]=i,this.notifyServiceWorker(t)))}async _get(t){const i=await this._withRetries(a=>K2(a,t));return this.localCache[t]=i,i}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(i=>C0(i,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(l=>{const c=xh(l,!1).getAll();return new _u(c).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const i=[],a=new Set;if(t.length!==0)for(const{fbase_key:l,value:c}of t)a.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(c)&&(this.notifyListeners(l,c),i.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!a.has(l)&&(this.notifyListeners(l,null),i.push(l));return i}notifyListeners(t,i){this.localCache[t]=i;const a=this.listeners[t];if(a)for(const l of Array.from(a))l(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),X2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}P1.type="LOCAL";const J2=P1;new mu(3e4,6e4);function Z2(r,t){return t?Or(t):(bt(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}class Zm extends C1{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Vo(t,this._buildIdpRequest())}_linkToIdToken(t,i){return Vo(t,this._buildIdpRequest(i))}_getReauthenticationResolver(t){return Vo(t,this._buildIdpRequest())}_buildIdpRequest(t){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(i.idToken=t),i}}function W2(r){return D2(r.auth,new Zm(r),r.bypassAuthState)}function tw(r){const{auth:t,user:i}=r;return bt(i,t,"internal-error"),x2(i,new Zm(r),r.bypassAuthState)}async function ew(r){const{auth:t,user:i}=r;return bt(i,t,"internal-error"),N2(i,new Zm(r),r.bypassAuthState)}class z1{constructor(t,i,a,l,c=!1){this.auth=t,this.resolver=a,this.user=l,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(t,i)=>{this.pendingPromise={resolve:t,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(a){this.reject(a)}})}async onAuthEvent(t){const{urlResponse:i,sessionId:a,postBody:l,tenantId:c,error:d,type:p}=t;if(d){this.reject(d);return}const y={auth:this.auth,requestUri:i,sessionId:a,tenantId:c||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(p)(y))}catch(_){this.reject(_)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return W2;case"linkViaPopup":case"linkViaRedirect":return ew;case"reauthViaPopup":case"reauthViaRedirect":return tw;default:Ur(this.auth,"internal-error")}}resolve(t){Lr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){Lr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const nw=new mu(2e3,1e4);class Do extends z1{constructor(t,i,a,l,c){super(t,i,l,c),this.provider=a,this.authWindow=null,this.pollId=null,Do.currentPopupAction&&Do.currentPopupAction.cancel(),Do.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return bt(t,this.auth,"internal-error"),t}async onExecution(){Lr(this.filter.length===1,"Popup operations only handle one event");const t=Jm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(Zi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Zi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Do.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Zi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,nw.get())};t()}}Do.currentPopupAction=null;const iw="pendingRedirect",Zc=new Map;class rw extends z1{constructor(t,i,a=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,a),this.eventId=null}async execute(){let t=Zc.get(this.auth._key());if(!t){try{const a=await sw(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(a)}catch(i){t=()=>Promise.reject(i)}Zc.set(this.auth._key(),t)}return this.bypassAuthState||Zc.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const i=await this.auth._redirectUserForId(t.eventId);if(i)return this.user=i,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function sw(r,t){const i=lw(t),a=ow(r);if(!await a._isAvailable())return!1;const l=await a._get(i)==="true";return await a._remove(i),l}function aw(r,t){Zc.set(r._key(),t)}function ow(r){return Or(r._redirectPersistence)}function lw(r){return Jc(iw,r.config.apiKey,r.name)}async function uw(r,t,i=!1){if(vi(r.app))return Promise.reject(Vr(r));const a=pu(r),l=Z2(a,t),d=await new rw(a,l,i).execute();return d&&!i&&(delete d.user._redirectEventId,await a._persistUserIfCurrent(d.user),await a._setRedirectUser(null,t)),d}const cw=600*1e3;class hw{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let i=!1;return this.consumers.forEach(a=>{this.isEventForConsumer(t,a)&&(i=!0,this.sendToConsumer(t,a),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!fw(t)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=t,i=!0)),i}sendToConsumer(t,i){if(t.error&&!j1(t)){const a=t.error.code?.split("auth/")[1]||"internal-error";i.onError(Zi(this.auth,a))}else i.onAuthEvent(t)}isEventForConsumer(t,i){const a=i.eventId===null||!!t.eventId&&t.eventId===i.eventId;return i.filter.includes(t.type)&&a}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=cw&&this.cachedEventUids.clear(),this.cachedEventUids.has(N0(t))}saveEventToCache(t){this.cachedEventUids.add(N0(t)),this.lastProcessedEventTime=Date.now()}}function N0(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(t=>t).join("-")}function j1({type:r,error:t}){return r==="unknown"&&t?.code==="auth/no-auth-event"}function fw(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return j1(r);default:return!1}}async function dw(r,t={}){return Yo(r,"GET","/v1/projects",t)}const mw=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,gw=/^https?/;async function pw(r){if(r.config.emulator)return;const{authorizedDomains:t}=await dw(r);for(const i of t)try{if(yw(i))return}catch{}Ur(r,"unauthorized-domain")}function yw(r){const t=pm(),{protocol:i,hostname:a}=new URL(t);if(r.startsWith("chrome-extension://")){const d=new URL(r);return d.hostname===""&&a===""?i==="chrome-extension:"&&r.replace("chrome-extension://","")===t.replace("chrome-extension://",""):i==="chrome-extension:"&&d.hostname===a}if(!gw.test(i))return!1;if(mw.test(r))return a===r;const l=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(a)}const _w=new mu(3e4,6e4);function x0(){const r=Wi().___jsl;if(r?.H){for(const t of Object.keys(r.H))if(r.H[t].r=r.H[t].r||[],r.H[t].L=r.H[t].L||[],r.H[t].r=[...r.H[t].L],r.CP)for(let i=0;i<r.CP.length;i++)r.CP[i]=null}}function vw(r){return new Promise((t,i)=>{function a(){x0(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{x0(),i(Zi(r,"network-request-failed"))},timeout:_w.get()})}if(Wi().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(Wi().gapi?.load)a();else{const l=E2("iframefcb");return Wi()[l]=()=>{gapi.load?a():i(Zi(r,"network-request-failed"))},_2(`${v2()}?onload=${l}`).catch(c=>i(c))}}).catch(t=>{throw Wc=null,t})}let Wc=null;function Ew(r){return Wc=Wc||vw(r),Wc}const Tw=new mu(5e3,15e3),bw="__/auth/iframe",Sw="emulator/auth/iframe",Aw={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},ww=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Rw(r){const t=r.config;bt(t.authDomain,r,"auth-domain-config-required");const i=t.emulator?Qm(t,Sw):`https://${r.config.authDomain}/${bw}`,a={apiKey:t.apiKey,appName:r.name,v:Qo},l=ww.get(r.config.apiHost);l&&(a.eid=l);const c=r._getFrameworks();return c.length&&(a.fw=c.join(",")),`${i}?${du(a).slice(1)}`}async function Iw(r){const t=await Ew(r),i=Wi().gapi;return bt(i,r,"internal-error"),t.open({where:document.body,url:Rw(r),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Aw,dontclear:!0},a=>new Promise(async(l,c)=>{await a.restyle({setHideOnLeave:!1});const d=Zi(r,"network-request-failed"),p=Wi().setTimeout(()=>{c(d)},Tw.get());function y(){Wi().clearTimeout(p),l(a)}a.ping(y).then(y,()=>{c(d)})}))}const Cw={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Nw=500,xw=600,Dw="_blank",Mw="http://localhost";class D0{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Ow(r,t,i,a=Nw,l=xw){const c=Math.max((window.screen.availHeight-l)/2,0).toString(),d=Math.max((window.screen.availWidth-a)/2,0).toString();let p="";const y={...Cw,width:a.toString(),height:l.toString(),top:c,left:d},_=Sn().toLowerCase();i&&(p=E1(_)?Dw:i),_1(_)&&(t=t||Mw,y.scrollbars="yes");const b=Object.entries(y).reduce((V,[K,tt])=>`${V}${K}=${tt},`,"");if(c2(_)&&p!=="_self")return Vw(t||"",p),new D0(null);const S=window.open(t||"",p,b);bt(S,r,"popup-blocked");try{S.focus()}catch{}return new D0(S)}function Vw(r,t){const i=document.createElement("a");i.href=r,i.target=t;const a=document.createEvent("MouseEvent");a.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(a)}const kw="__/auth/handler",Uw="emulator/auth/handler",Lw=encodeURIComponent("fac");async function M0(r,t,i,a,l,c){bt(r.config.authDomain,r,"auth-domain-config-required"),bt(r.config.apiKey,r,"invalid-api-key");const d={apiKey:r.config.apiKey,appName:r.name,authType:i,redirectUrl:a,v:Qo,eventId:l};if(t instanceof N1){t.setDefaultLanguage(r.languageCode),d.providerId=t.providerId||"",OS(t.getCustomParameters())||(d.customParameters=JSON.stringify(t.getCustomParameters()));for(const[b,S]of Object.entries({}))d[b]=S}if(t instanceof yu){const b=t.getScopes().filter(S=>S!=="");b.length>0&&(d.scopes=b.join(","))}r.tenantId&&(d.tid=r.tenantId);const p=d;for(const b of Object.keys(p))p[b]===void 0&&delete p[b];const y=await r._getAppCheckToken(),_=y?`#${Lw}=${encodeURIComponent(y)}`:"";return`${Pw(r)}?${du(p).slice(1)}${_}`}function Pw({config:r}){return r.emulator?Qm(r,Uw):`https://${r.authDomain}/${kw}`}const em="webStorageSupport";class zw{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=V1,this._completeRedirectFn=uw,this._overrideRedirectResult=aw}async _openPopup(t,i,a,l){Lr(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const c=await M0(t,i,a,pm(),l);return Ow(t,c,Jm())}async _openRedirect(t,i,a,l){await this._originValidation(t);const c=await M0(t,i,a,pm(),l);return q2(c),new Promise(()=>{})}_initialize(t){const i=t._key();if(this.eventManagers[i]){const{manager:l,promise:c}=this.eventManagers[i];return l?Promise.resolve(l):(Lr(c,"If manager is not set, promise should be"),c)}const a=this.initAndGetManager(t);return this.eventManagers[i]={promise:a},a.catch(()=>{delete this.eventManagers[i]}),a}async initAndGetManager(t){const i=await Iw(t),a=new hw(t);return i.register("authEvent",l=>(bt(l?.authEvent,t,"invalid-auth-event"),{status:a.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:a},this.iframes[t._key()]=i,a}_isIframeWebStorageSupported(t,i){this.iframes[t._key()].send(em,{type:em},l=>{const c=l?.[0]?.[em];c!==void 0&&i(!!c),Ur(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const i=t._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=pw(t)),this.originValidationPromises[i]}get _shouldInitProactively(){return w1()||v1()||Xm()}}const jw=zw;var O0="@firebase/auth",V0="1.11.1";class Bw{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const i=this.auth.onIdTokenChanged(a=>{t(a?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,i),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const i=this.internalListeners.get(t);i&&(this.internalListeners.delete(t),i(),this.updateProactiveRefresh())}assertAuthConfigured(){bt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function qw(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Hw(r){Po(new Va("auth",(t,{options:i})=>{const a=t.getProvider("app").getImmediate(),l=t.getProvider("heartbeat"),c=t.getProvider("app-check-internal"),{apiKey:d,authDomain:p}=a.options;bt(d&&!d.includes(":"),"invalid-api-key",{appName:a.name});const y={apiKey:d,authDomain:p,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:R1(r)},_=new p2(a,l,c,y);return b2(_,i),_},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,i,a)=>{t.getProvider("auth-internal").initialize()})),Po(new Va("auth-internal",t=>{const i=pu(t.getProvider("auth").getImmediate());return(a=>new Bw(a))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),Os(O0,V0,qw(r)),Os(O0,V0,"esm2020")}const Fw=300,Gw=e1("authIdTokenMaxAge")||Fw;let k0=null;const Qw=r=>async t=>{const i=t&&await t.getIdTokenResult(),a=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(a&&a>Gw)return;const l=i?.token;k0!==l&&(k0=l,await fetch(r,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function Yw(r=o1()){const t=Fm(r,"auth");if(t.isInitialized())return t.getImmediate();const i=T2(r,{popupRedirectResolver:jw,persistence:[J2,z2,V1]}),a=e1("authTokenSyncURL");if(a&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(a,location.origin);if(location.origin===c.origin){const d=Qw(c.toString());k2(i,d,()=>d(i.currentUser)),V2(i,p=>d(p))}}const l=Wv("auth");return l&&S2(i,`http://${l}`),i}function Kw(){return document.getElementsByTagName("head")?.[0]??document}y2({loadJS(r){return new Promise((t,i)=>{const a=document.createElement("script");a.setAttribute("src",r),a.onload=t,a.onerror=l=>{const c=Zi("internal-error");c.customData=l,i(c)},a.type="text/javascript",a.charset="UTF-8",Kw().appendChild(a)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Hw("Browser");var U0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Vs,B1;(function(){var r;function t(N,w){function C(){}C.prototype=w.prototype,N.F=w.prototype,N.prototype=new C,N.prototype.constructor=N,N.D=function(k,D,L){for(var R=Array(arguments.length-2),se=2;se<arguments.length;se++)R[se-2]=arguments[se];return w.prototype[D].apply(k,R)}}function i(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(a,i),a.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(N,w,C){C||(C=0);const k=Array(16);if(typeof w=="string")for(var D=0;D<16;++D)k[D]=w.charCodeAt(C++)|w.charCodeAt(C++)<<8|w.charCodeAt(C++)<<16|w.charCodeAt(C++)<<24;else for(D=0;D<16;++D)k[D]=w[C++]|w[C++]<<8|w[C++]<<16|w[C++]<<24;w=N.g[0],C=N.g[1],D=N.g[2];let L=N.g[3],R;R=w+(L^C&(D^L))+k[0]+3614090360&4294967295,w=C+(R<<7&4294967295|R>>>25),R=L+(D^w&(C^D))+k[1]+3905402710&4294967295,L=w+(R<<12&4294967295|R>>>20),R=D+(C^L&(w^C))+k[2]+606105819&4294967295,D=L+(R<<17&4294967295|R>>>15),R=C+(w^D&(L^w))+k[3]+3250441966&4294967295,C=D+(R<<22&4294967295|R>>>10),R=w+(L^C&(D^L))+k[4]+4118548399&4294967295,w=C+(R<<7&4294967295|R>>>25),R=L+(D^w&(C^D))+k[5]+1200080426&4294967295,L=w+(R<<12&4294967295|R>>>20),R=D+(C^L&(w^C))+k[6]+2821735955&4294967295,D=L+(R<<17&4294967295|R>>>15),R=C+(w^D&(L^w))+k[7]+4249261313&4294967295,C=D+(R<<22&4294967295|R>>>10),R=w+(L^C&(D^L))+k[8]+1770035416&4294967295,w=C+(R<<7&4294967295|R>>>25),R=L+(D^w&(C^D))+k[9]+2336552879&4294967295,L=w+(R<<12&4294967295|R>>>20),R=D+(C^L&(w^C))+k[10]+4294925233&4294967295,D=L+(R<<17&4294967295|R>>>15),R=C+(w^D&(L^w))+k[11]+2304563134&4294967295,C=D+(R<<22&4294967295|R>>>10),R=w+(L^C&(D^L))+k[12]+1804603682&4294967295,w=C+(R<<7&4294967295|R>>>25),R=L+(D^w&(C^D))+k[13]+4254626195&4294967295,L=w+(R<<12&4294967295|R>>>20),R=D+(C^L&(w^C))+k[14]+2792965006&4294967295,D=L+(R<<17&4294967295|R>>>15),R=C+(w^D&(L^w))+k[15]+1236535329&4294967295,C=D+(R<<22&4294967295|R>>>10),R=w+(D^L&(C^D))+k[1]+4129170786&4294967295,w=C+(R<<5&4294967295|R>>>27),R=L+(C^D&(w^C))+k[6]+3225465664&4294967295,L=w+(R<<9&4294967295|R>>>23),R=D+(w^C&(L^w))+k[11]+643717713&4294967295,D=L+(R<<14&4294967295|R>>>18),R=C+(L^w&(D^L))+k[0]+3921069994&4294967295,C=D+(R<<20&4294967295|R>>>12),R=w+(D^L&(C^D))+k[5]+3593408605&4294967295,w=C+(R<<5&4294967295|R>>>27),R=L+(C^D&(w^C))+k[10]+38016083&4294967295,L=w+(R<<9&4294967295|R>>>23),R=D+(w^C&(L^w))+k[15]+3634488961&4294967295,D=L+(R<<14&4294967295|R>>>18),R=C+(L^w&(D^L))+k[4]+3889429448&4294967295,C=D+(R<<20&4294967295|R>>>12),R=w+(D^L&(C^D))+k[9]+568446438&4294967295,w=C+(R<<5&4294967295|R>>>27),R=L+(C^D&(w^C))+k[14]+3275163606&4294967295,L=w+(R<<9&4294967295|R>>>23),R=D+(w^C&(L^w))+k[3]+4107603335&4294967295,D=L+(R<<14&4294967295|R>>>18),R=C+(L^w&(D^L))+k[8]+1163531501&4294967295,C=D+(R<<20&4294967295|R>>>12),R=w+(D^L&(C^D))+k[13]+2850285829&4294967295,w=C+(R<<5&4294967295|R>>>27),R=L+(C^D&(w^C))+k[2]+4243563512&4294967295,L=w+(R<<9&4294967295|R>>>23),R=D+(w^C&(L^w))+k[7]+1735328473&4294967295,D=L+(R<<14&4294967295|R>>>18),R=C+(L^w&(D^L))+k[12]+2368359562&4294967295,C=D+(R<<20&4294967295|R>>>12),R=w+(C^D^L)+k[5]+4294588738&4294967295,w=C+(R<<4&4294967295|R>>>28),R=L+(w^C^D)+k[8]+2272392833&4294967295,L=w+(R<<11&4294967295|R>>>21),R=D+(L^w^C)+k[11]+1839030562&4294967295,D=L+(R<<16&4294967295|R>>>16),R=C+(D^L^w)+k[14]+4259657740&4294967295,C=D+(R<<23&4294967295|R>>>9),R=w+(C^D^L)+k[1]+2763975236&4294967295,w=C+(R<<4&4294967295|R>>>28),R=L+(w^C^D)+k[4]+1272893353&4294967295,L=w+(R<<11&4294967295|R>>>21),R=D+(L^w^C)+k[7]+4139469664&4294967295,D=L+(R<<16&4294967295|R>>>16),R=C+(D^L^w)+k[10]+3200236656&4294967295,C=D+(R<<23&4294967295|R>>>9),R=w+(C^D^L)+k[13]+681279174&4294967295,w=C+(R<<4&4294967295|R>>>28),R=L+(w^C^D)+k[0]+3936430074&4294967295,L=w+(R<<11&4294967295|R>>>21),R=D+(L^w^C)+k[3]+3572445317&4294967295,D=L+(R<<16&4294967295|R>>>16),R=C+(D^L^w)+k[6]+76029189&4294967295,C=D+(R<<23&4294967295|R>>>9),R=w+(C^D^L)+k[9]+3654602809&4294967295,w=C+(R<<4&4294967295|R>>>28),R=L+(w^C^D)+k[12]+3873151461&4294967295,L=w+(R<<11&4294967295|R>>>21),R=D+(L^w^C)+k[15]+530742520&4294967295,D=L+(R<<16&4294967295|R>>>16),R=C+(D^L^w)+k[2]+3299628645&4294967295,C=D+(R<<23&4294967295|R>>>9),R=w+(D^(C|~L))+k[0]+4096336452&4294967295,w=C+(R<<6&4294967295|R>>>26),R=L+(C^(w|~D))+k[7]+1126891415&4294967295,L=w+(R<<10&4294967295|R>>>22),R=D+(w^(L|~C))+k[14]+2878612391&4294967295,D=L+(R<<15&4294967295|R>>>17),R=C+(L^(D|~w))+k[5]+4237533241&4294967295,C=D+(R<<21&4294967295|R>>>11),R=w+(D^(C|~L))+k[12]+1700485571&4294967295,w=C+(R<<6&4294967295|R>>>26),R=L+(C^(w|~D))+k[3]+2399980690&4294967295,L=w+(R<<10&4294967295|R>>>22),R=D+(w^(L|~C))+k[10]+4293915773&4294967295,D=L+(R<<15&4294967295|R>>>17),R=C+(L^(D|~w))+k[1]+2240044497&4294967295,C=D+(R<<21&4294967295|R>>>11),R=w+(D^(C|~L))+k[8]+1873313359&4294967295,w=C+(R<<6&4294967295|R>>>26),R=L+(C^(w|~D))+k[15]+4264355552&4294967295,L=w+(R<<10&4294967295|R>>>22),R=D+(w^(L|~C))+k[6]+2734768916&4294967295,D=L+(R<<15&4294967295|R>>>17),R=C+(L^(D|~w))+k[13]+1309151649&4294967295,C=D+(R<<21&4294967295|R>>>11),R=w+(D^(C|~L))+k[4]+4149444226&4294967295,w=C+(R<<6&4294967295|R>>>26),R=L+(C^(w|~D))+k[11]+3174756917&4294967295,L=w+(R<<10&4294967295|R>>>22),R=D+(w^(L|~C))+k[2]+718787259&4294967295,D=L+(R<<15&4294967295|R>>>17),R=C+(L^(D|~w))+k[9]+3951481745&4294967295,N.g[0]=N.g[0]+w&4294967295,N.g[1]=N.g[1]+(D+(R<<21&4294967295|R>>>11))&4294967295,N.g[2]=N.g[2]+D&4294967295,N.g[3]=N.g[3]+L&4294967295}a.prototype.v=function(N,w){w===void 0&&(w=N.length);const C=w-this.blockSize,k=this.C;let D=this.h,L=0;for(;L<w;){if(D==0)for(;L<=C;)l(this,N,L),L+=this.blockSize;if(typeof N=="string"){for(;L<w;)if(k[D++]=N.charCodeAt(L++),D==this.blockSize){l(this,k),D=0;break}}else for(;L<w;)if(k[D++]=N[L++],D==this.blockSize){l(this,k),D=0;break}}this.h=D,this.o+=w},a.prototype.A=function(){var N=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);N[0]=128;for(var w=1;w<N.length-8;++w)N[w]=0;w=this.o*8;for(var C=N.length-8;C<N.length;++C)N[C]=w&255,w/=256;for(this.v(N),N=Array(16),w=0,C=0;C<4;++C)for(let k=0;k<32;k+=8)N[w++]=this.g[C]>>>k&255;return N};function c(N,w){var C=p;return Object.prototype.hasOwnProperty.call(C,N)?C[N]:C[N]=w(N)}function d(N,w){this.h=w;const C=[];let k=!0;for(let D=N.length-1;D>=0;D--){const L=N[D]|0;k&&L==w||(C[D]=L,k=!1)}this.g=C}var p={};function y(N){return-128<=N&&N<128?c(N,function(w){return new d([w|0],w<0?-1:0)}):new d([N|0],N<0?-1:0)}function _(N){if(isNaN(N)||!isFinite(N))return S;if(N<0)return et(_(-N));const w=[];let C=1;for(let k=0;N>=C;k++)w[k]=N/C|0,C*=4294967296;return new d(w,0)}function b(N,w){if(N.length==0)throw Error("number format error: empty string");if(w=w||10,w<2||36<w)throw Error("radix out of range: "+w);if(N.charAt(0)=="-")return et(b(N.substring(1),w));if(N.indexOf("-")>=0)throw Error('number format error: interior "-" character');const C=_(Math.pow(w,8));let k=S;for(let L=0;L<N.length;L+=8){var D=Math.min(8,N.length-L);const R=parseInt(N.substring(L,L+D),w);D<8?(D=_(Math.pow(w,D)),k=k.j(D).add(_(R))):(k=k.j(C),k=k.add(_(R)))}return k}var S=y(0),V=y(1),K=y(16777216);r=d.prototype,r.m=function(){if(nt(this))return-et(this).m();let N=0,w=1;for(let C=0;C<this.g.length;C++){const k=this.i(C);N+=(k>=0?k:4294967296+k)*w,w*=4294967296}return N},r.toString=function(N){if(N=N||10,N<2||36<N)throw Error("radix out of range: "+N);if(tt(this))return"0";if(nt(this))return"-"+et(this).toString(N);const w=_(Math.pow(N,6));var C=this;let k="";for(;;){const D=Ot(C,w).g;C=dt(C,D.j(w));let L=((C.g.length>0?C.g[0]:C.h)>>>0).toString(N);if(C=D,tt(C))return L+k;for(;L.length<6;)L="0"+L;k=L+k}},r.i=function(N){return N<0?0:N<this.g.length?this.g[N]:this.h};function tt(N){if(N.h!=0)return!1;for(let w=0;w<N.g.length;w++)if(N.g[w]!=0)return!1;return!0}function nt(N){return N.h==-1}r.l=function(N){return N=dt(this,N),nt(N)?-1:tt(N)?0:1};function et(N){const w=N.g.length,C=[];for(let k=0;k<w;k++)C[k]=~N.g[k];return new d(C,~N.h).add(V)}r.abs=function(){return nt(this)?et(this):this},r.add=function(N){const w=Math.max(this.g.length,N.g.length),C=[];let k=0;for(let D=0;D<=w;D++){let L=k+(this.i(D)&65535)+(N.i(D)&65535),R=(L>>>16)+(this.i(D)>>>16)+(N.i(D)>>>16);k=R>>>16,L&=65535,R&=65535,C[D]=R<<16|L}return new d(C,C[C.length-1]&-2147483648?-1:0)};function dt(N,w){return N.add(et(w))}r.j=function(N){if(tt(this)||tt(N))return S;if(nt(this))return nt(N)?et(this).j(et(N)):et(et(this).j(N));if(nt(N))return et(this.j(et(N)));if(this.l(K)<0&&N.l(K)<0)return _(this.m()*N.m());const w=this.g.length+N.g.length,C=[];for(var k=0;k<2*w;k++)C[k]=0;for(k=0;k<this.g.length;k++)for(let D=0;D<N.g.length;D++){const L=this.i(k)>>>16,R=this.i(k)&65535,se=N.i(D)>>>16,Ee=N.i(D)&65535;C[2*k+2*D]+=R*Ee,wt(C,2*k+2*D),C[2*k+2*D+1]+=L*Ee,wt(C,2*k+2*D+1),C[2*k+2*D+1]+=R*se,wt(C,2*k+2*D+1),C[2*k+2*D+2]+=L*se,wt(C,2*k+2*D+2)}for(N=0;N<w;N++)C[N]=C[2*N+1]<<16|C[2*N];for(N=w;N<2*w;N++)C[N]=0;return new d(C,0)};function wt(N,w){for(;(N[w]&65535)!=N[w];)N[w+1]+=N[w]>>>16,N[w]&=65535,w++}function _t(N,w){this.g=N,this.h=w}function Ot(N,w){if(tt(w))throw Error("division by zero");if(tt(N))return new _t(S,S);if(nt(N))return w=Ot(et(N),w),new _t(et(w.g),et(w.h));if(nt(w))return w=Ot(N,et(w)),new _t(et(w.g),w.h);if(N.g.length>30){if(nt(N)||nt(w))throw Error("slowDivide_ only works with positive integers.");for(var C=V,k=w;k.l(N)<=0;)C=Jt(C),k=Jt(k);var D=Mt(C,1),L=Mt(k,1);for(k=Mt(k,2),C=Mt(C,2);!tt(k);){var R=L.add(k);R.l(N)<=0&&(D=D.add(C),L=R),k=Mt(k,1),C=Mt(C,1)}return w=dt(N,D.j(w)),new _t(D,w)}for(D=S;N.l(w)>=0;){for(C=Math.max(1,Math.floor(N.m()/w.m())),k=Math.ceil(Math.log(C)/Math.LN2),k=k<=48?1:Math.pow(2,k-48),L=_(C),R=L.j(w);nt(R)||R.l(N)>0;)C-=k,L=_(C),R=L.j(w);tt(L)&&(L=V),D=D.add(L),N=dt(N,R)}return new _t(D,N)}r.B=function(N){return Ot(this,N).h},r.and=function(N){const w=Math.max(this.g.length,N.g.length),C=[];for(let k=0;k<w;k++)C[k]=this.i(k)&N.i(k);return new d(C,this.h&N.h)},r.or=function(N){const w=Math.max(this.g.length,N.g.length),C=[];for(let k=0;k<w;k++)C[k]=this.i(k)|N.i(k);return new d(C,this.h|N.h)},r.xor=function(N){const w=Math.max(this.g.length,N.g.length),C=[];for(let k=0;k<w;k++)C[k]=this.i(k)^N.i(k);return new d(C,this.h^N.h)};function Jt(N){const w=N.g.length+1,C=[];for(let k=0;k<w;k++)C[k]=N.i(k)<<1|N.i(k-1)>>>31;return new d(C,N.h)}function Mt(N,w){const C=w>>5;w%=32;const k=N.g.length-C,D=[];for(let L=0;L<k;L++)D[L]=w>0?N.i(L+C)>>>w|N.i(L+C+1)<<32-w:N.i(L+C);return new d(D,N.h)}a.prototype.digest=a.prototype.A,a.prototype.reset=a.prototype.u,a.prototype.update=a.prototype.v,B1=a,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=_,d.fromString=b,Vs=d}).apply(typeof U0<"u"?U0:typeof self<"u"?self:typeof window<"u"?window:{});var Bc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var q1,Ql,H1,th,vm,F1,G1,Q1;(function(){var r,t=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Bc=="object"&&Bc];for(var m=0;m<u.length;++m){var v=u[m];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var a=i(this);function l(u,m){if(m)t:{var v=a;u=u.split(".");for(var T=0;T<u.length-1;T++){var P=u[T];if(!(P in v))break t;v=v[P]}u=u[u.length-1],T=v[u],m=m(T),m!=T&&m!=null&&t(v,u,{configurable:!0,writable:!0,value:m})}}l("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),l("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),l("Object.entries",function(u){return u||function(m){var v=[],T;for(T in m)Object.prototype.hasOwnProperty.call(m,T)&&v.push([T,m[T]]);return v}});var c=c||{},d=this||self;function p(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function y(u,m,v){return u.call.apply(u.bind,arguments)}function _(u,m,v){return _=y,_.apply(null,arguments)}function b(u,m){var v=Array.prototype.slice.call(arguments,1);return function(){var T=v.slice();return T.push.apply(T,arguments),u.apply(this,T)}}function S(u,m){function v(){}v.prototype=m.prototype,u.Z=m.prototype,u.prototype=new v,u.prototype.constructor=u,u.Ob=function(T,P,H){for(var it=Array(arguments.length-2),Nt=2;Nt<arguments.length;Nt++)it[Nt-2]=arguments[Nt];return m.prototype[P].apply(T,it)}}var V=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function K(u){const m=u.length;if(m>0){const v=Array(m);for(let T=0;T<m;T++)v[T]=u[T];return v}return[]}function tt(u,m){for(let T=1;T<arguments.length;T++){const P=arguments[T];var v=typeof P;if(v=v!="object"?v:P?Array.isArray(P)?"array":v:"null",v=="array"||v=="object"&&typeof P.length=="number"){v=u.length||0;const H=P.length||0;u.length=v+H;for(let it=0;it<H;it++)u[v+it]=P[it]}else u.push(P)}}class nt{constructor(m,v){this.i=m,this.j=v,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function et(u){d.setTimeout(()=>{throw u},0)}function dt(){var u=N;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class wt{constructor(){this.h=this.g=null}add(m,v){const T=_t.get();T.set(m,v),this.h?this.h.next=T:this.g=T,this.h=T}}var _t=new nt(()=>new Ot,u=>u.reset());class Ot{constructor(){this.next=this.g=this.h=null}set(m,v){this.h=m,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let Jt,Mt=!1,N=new wt,w=()=>{const u=Promise.resolve(void 0);Jt=()=>{u.then(C)}};function C(){for(var u;u=dt();){try{u.h.call(u.g)}catch(v){et(v)}var m=_t;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}Mt=!1}function k(){this.u=this.u,this.C=this.C}k.prototype.u=!1,k.prototype.dispose=function(){this.u||(this.u=!0,this.N())},k.prototype[Symbol.dispose]=function(){this.dispose()},k.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function D(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}D.prototype.h=function(){this.defaultPrevented=!0};var L=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const v=()=>{};d.addEventListener("test",v,m),d.removeEventListener("test",v,m)}catch{}return u})();function R(u){return/^[\s\xa0]*$/.test(u)}function se(u,m){D.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}S(se,D),se.prototype.init=function(u,m){const v=this.type=u.type,T=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(v=="mouseover"?m=u.fromElement:v=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&se.Z.h.call(this)},se.prototype.h=function(){se.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Ee="closure_listenable_"+(Math.random()*1e6|0),G=0;function st(u,m,v,T,P){this.listener=u,this.proxy=null,this.src=m,this.type=v,this.capture=!!T,this.ha=P,this.key=++G,this.da=this.fa=!1}function gt(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Lt(u,m,v){for(const T in u)m.call(v,u[T],T,u)}function Ht(u,m){for(const v in u)m.call(void 0,u[v],v,u)}function O(u){const m={};for(const v in u)m[v]=u[v];return m}const $="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function at(u,m){let v,T;for(let P=1;P<arguments.length;P++){T=arguments[P];for(v in T)u[v]=T[v];for(let H=0;H<$.length;H++)v=$[H],Object.prototype.hasOwnProperty.call(T,v)&&(u[v]=T[v])}}function ut(u){this.src=u,this.g={},this.h=0}ut.prototype.add=function(u,m,v,T,P){const H=u.toString();u=this.g[H],u||(u=this.g[H]=[],this.h++);const it=Ct(u,m,T,P);return it>-1?(m=u[it],v||(m.fa=!1)):(m=new st(m,this.src,H,!!T,P),m.fa=v,u.push(m)),m};function Tt(u,m){const v=m.type;if(v in u.g){var T=u.g[v],P=Array.prototype.indexOf.call(T,m,void 0),H;(H=P>=0)&&Array.prototype.splice.call(T,P,1),H&&(gt(m),u.g[v].length==0&&(delete u.g[v],u.h--))}}function Ct(u,m,v,T){for(let P=0;P<u.length;++P){const H=u[P];if(!H.da&&H.listener==m&&H.capture==!!v&&H.ha==T)return P}return-1}var Ft="closure_lm_"+(Math.random()*1e6|0),Ue={};function fe(u,m,v,T,P){if(Array.isArray(m)){for(let H=0;H<m.length;H++)fe(u,m[H],v,T,P);return null}return v=Hr(v),u&&u[Ee]?u.J(m,v,p(T)?!!T.capture:!1,P):qr(u,m,v,!1,T,P)}function qr(u,m,v,T,P,H){if(!m)throw Error("Invalid event type");const it=p(P)?!!P.capture:!!P;let Nt=Ie(u);if(Nt||(u[Ft]=Nt=new ut(u)),v=Nt.add(m,v,T,it,H),v.proxy)return v;if(T=Fs(),v.proxy=T,T.src=u,T.listener=v,u.addEventListener)L||(P=it),P===void 0&&(P=!1),u.addEventListener(m.toString(),T,P);else if(u.attachEvent)u.attachEvent(Le(m.toString()),T);else if(u.addListener&&u.removeListener)u.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return v}function Fs(){function u(v){return m.call(u.src,u.listener,v)}const m=qn;return u}function Gs(u,m,v,T,P){if(Array.isArray(m))for(var H=0;H<m.length;H++)Gs(u,m[H],v,T,P);else T=p(T)?!!T.capture:!!T,v=Hr(v),u&&u[Ee]?(u=u.i,H=String(m).toString(),H in u.g&&(m=u.g[H],v=Ct(m,v,T,P),v>-1&&(gt(m[v]),Array.prototype.splice.call(m,v,1),m.length==0&&(delete u.g[H],u.h--)))):u&&(u=Ie(u))&&(m=u.g[m.toString()],u=-1,m&&(u=Ct(m,v,T,P)),(v=u>-1?m[u]:null)&&Qs(v))}function Qs(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[Ee])Tt(m.i,u);else{var v=u.type,T=u.proxy;m.removeEventListener?m.removeEventListener(v,T,u.capture):m.detachEvent?m.detachEvent(Le(v),T):m.addListener&&m.removeListener&&m.removeListener(T),(v=Ie(m))?(Tt(v,u),v.h==0&&(v.src=null,m[Ft]=null)):gt(u)}}}function Le(u){return u in Ue?Ue[u]:Ue[u]="on"+u}function qn(u,m){if(u.da)u=!0;else{m=new se(m,this);const v=u.listener,T=u.ha||u.src;u.fa&&Qs(u),u=v.call(T,m)}return u}function Ie(u){return u=u[Ft],u instanceof ut?u:null}var ar="__closure_events_fn_"+(Math.random()*1e9>>>0);function Hr(u){return typeof u=="function"?u:(u[ar]||(u[ar]=function(m){return u.handleEvent(m)}),u[ar])}function Te(){k.call(this),this.i=new ut(this),this.M=this,this.G=null}S(Te,k),Te.prototype[Ee]=!0,Te.prototype.removeEventListener=function(u,m,v,T){Gs(this,u,m,v,T)};function Ce(u,m){var v,T=u.G;if(T)for(v=[];T;T=T.G)v.push(T);if(u=u.M,T=m.type||m,typeof m=="string")m=new D(m,u);else if(m instanceof D)m.target=m.target||u;else{var P=m;m=new D(T,u),at(m,P)}P=!0;let H,it;if(v)for(it=v.length-1;it>=0;it--)H=m.g=v[it],P=ei(H,T,!0,m)&&P;if(H=m.g=u,P=ei(H,T,!0,m)&&P,P=ei(H,T,!1,m)&&P,v)for(it=0;it<v.length;it++)H=m.g=v[it],P=ei(H,T,!1,m)&&P}Te.prototype.N=function(){if(Te.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const v=u.g[m];for(let T=0;T<v.length;T++)gt(v[T]);delete u.g[m],u.h--}}this.G=null},Te.prototype.J=function(u,m,v,T){return this.i.add(String(u),m,!1,v,T)},Te.prototype.K=function(u,m,v,T){return this.i.add(String(u),m,!0,v,T)};function ei(u,m,v,T){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let P=!0;for(let H=0;H<m.length;++H){const it=m[H];if(it&&!it.da&&it.capture==v){const Nt=it.listener,De=it.ha||it.src;it.fa&&Tt(u.i,it),P=Nt.call(De,T)!==!1&&P}}return P&&!T.defaultPrevented}function Ys(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=_(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(u,m||0)}function Ks(u){u.g=Ys(()=>{u.g=null,u.i&&(u.i=!1,Ks(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class $e extends k{constructor(m,v){super(),this.m=m,this.l=v,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:Ks(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function or(u){k.call(this),this.h=u,this.g={}}S(or,k);var Xs=[];function Fr(u){Lt(u.g,function(m,v){this.g.hasOwnProperty(v)&&Qs(m)},u),u.g={}}or.prototype.N=function(){or.Z.N.call(this),Fr(this)},or.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var mn=d.JSON.stringify,Ba=d.JSON.parse,ki=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function Gr(){}function Qr(){}var An={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Qe(){D.call(this,"d")}S(Qe,D);function gn(){D.call(this,"c")}S(gn,D);var Yt={},bi=null;function lr(){return bi=bi||new Te}Yt.Ia="serverreachability";function $s(u){D.call(this,Yt.Ia,u)}S($s,D);function xn(u){const m=lr();Ce(m,new $s(m))}Yt.STAT_EVENT="statevent";function Ui(u,m){D.call(this,Yt.STAT_EVENT,u),this.stat=m}S(Ui,D);function be(u){const m=lr();Ce(m,new Ui(m,u))}Yt.Ja="timingevent";function Dn(u,m){D.call(this,Yt.Ja,u),this.size=m}S(Dn,D);function Zt(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function Ye(){this.g=!0}Ye.prototype.ua=function(){this.g=!1};function Li(u,m,v,T,P,H){u.info(function(){if(u.g)if(H){var it="",Nt=H.split("&");for(let Wt=0;Wt<Nt.length;Wt++){var De=Nt[Wt].split("=");if(De.length>1){const pe=De[0];De=De[1];const ui=pe.split("_");it=ui.length>=2&&ui[1]=="type"?it+(pe+"="+De+"&"):it+(pe+"=redacted&")}}}else it=null;else it=H;return"XMLHTTP REQ ("+T+") [attempt "+P+"]: "+m+`
`+v+`
`+it})}function wn(u,m,v,T,P,H,it){u.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+P+"]: "+m+`
`+v+`
`+H+" "+it})}function Hn(u,m,v,T){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+qa(u,v)+(T?" "+T:"")})}function ur(u,m){u.info(function(){return"TIMEOUT: "+m})}Ye.prototype.info=function(){};function qa(u,m){if(!u.g)return m;if(!m)return null;try{const H=JSON.parse(m);if(H){for(u=0;u<H.length;u++)if(Array.isArray(H[u])){var v=H[u];if(!(v.length<2)){var T=v[1];if(Array.isArray(T)&&!(T.length<1)){var P=T[0];if(P!="noop"&&P!="stop"&&P!="close")for(let it=1;it<T.length;it++)T[it]=""}}}}return mn(H)}catch{return m}}var cr={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Rn={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Yr;function Pi(){}S(Pi,Gr),Pi.prototype.g=function(){return new XMLHttpRequest},Yr=new Pi;function Si(u){return encodeURIComponent(String(u))}function Js(u){var m=1;u=u.split(":");const v=[];for(;m>0&&u.length;)v.push(u.shift()),m--;return u.length&&v.push(u.join(":")),v}function Mn(u,m,v,T){this.j=u,this.i=m,this.l=v,this.S=T||1,this.V=new or(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new On}function On(){this.i=null,this.g="",this.h=!1}var _e={},Ne={};function ni(u,m,v){u.M=1,u.A=We(Ae(m)),u.u=v,u.R=!0,hr(u,null)}function hr(u,m){u.F=Date.now(),ii(u),u.B=Ae(u.A);var v=u.B,T=u.S;Array.isArray(T)||(T=[String(T)]),ot(v.i,"t",T),u.C=0,v=u.j.L,u.h=new On,u.g=Ou(u.j,v?m:null,!u.u),u.P>0&&(u.O=new $e(_(u.Y,u,u.g),u.P)),m=u.V,v=u.g,T=u.ba;var P="readystatechange";Array.isArray(P)||(P&&(Xs[0]=P.toString()),P=Xs);for(let H=0;H<P.length;H++){const it=fe(v,P[H],T||m.handleEvent,!1,m.h||m);if(!it)break;m.g[it.key]=it}m=u.J?O(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),xn(),Li(u.i,u.v,u.B,u.l,u.S,u.u)}Mn.prototype.ba=function(u){u=u.target;const m=this.O;m&&Ii(u)==3?m.j():this.Y(u)},Mn.prototype.Y=function(u){try{if(u==this.g)t:{const Nt=Ii(this.g),De=this.g.ya(),Wt=this.g.ca();if(!(Nt<3)&&(Nt!=3||this.g&&(this.h.h||this.g.la()||rn(this.g)))){this.K||Nt!=4||De==7||(De==8||Wt<=0?xn(3):xn(2)),ri(this);var m=this.g.ca();this.X=m;var v=Wo(this);if(this.o=m==200,wn(this.i,this.v,this.B,this.l,this.S,Nt,m),this.o){if(this.U&&!this.L){e:{if(this.g){var T,P=this.g;if((T=P.g?P.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!R(T)){var H=T;break e}}H=null}if(u=H)Hn(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Fn(this,u);else{this.o=!1,this.m=3,be(12),pn(this),Vn(this);break t}}if(this.R){u=!0;let pe;for(;!this.K&&this.C<v.length;)if(pe=Kr(this,v),pe==Ne){Nt==4&&(this.m=4,be(14),u=!1),Hn(this.i,this.l,null,"[Incomplete Response]");break}else if(pe==_e){this.m=4,be(15),Hn(this.i,this.l,v,"[Invalid Chunk]"),u=!1;break}else Hn(this.i,this.l,pe,null),Fn(this,pe);if(Ha(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Nt!=4||v.length!=0||this.h.h||(this.m=1,be(16),u=!1),this.o=this.o&&u,!u)Hn(this.i,this.l,v,"[Invalid Chunked Response]"),pn(this),Vn(this);else if(v.length>0&&!this.W){this.W=!0;var it=this.j;it.g==this&&it.aa&&!it.P&&(it.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),rl(it),it.P=!0,be(11))}}else Hn(this.i,this.l,v,null),Fn(this,v);Nt==4&&pn(this),this.o&&!this.K&&(Nt==4?Nu(this.j,this):(this.o=!1,ii(this)))}else mr(this.g),m==400&&v.indexOf("Unknown SID")>0?(this.m=3,be(12)):(this.m=0,be(13)),pn(this),Vn(this)}}}catch{}finally{}};function Wo(u){if(!Ha(u))return u.g.la();const m=rn(u.g);if(m==="")return"";let v="";const T=m.length,P=Ii(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return pn(u),Vn(u),"";u.h.i=new d.TextDecoder}for(let H=0;H<T;H++)u.h.h=!0,v+=u.h.i.decode(m[H],{stream:!(P&&H==T-1)});return m.length=0,u.h.g+=v,u.C=0,u.h.g}function Ha(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function Kr(u,m){var v=u.C,T=m.indexOf(`
`,v);return T==-1?Ne:(v=Number(m.substring(v,T)),isNaN(v)?_e:(T+=1,T+v>m.length?Ne:(m=m.slice(T,T+v),u.C=T+v,m)))}Mn.prototype.cancel=function(){this.K=!0,pn(this)};function ii(u){u.T=Date.now()+u.H,Xr(u,u.H)}function Xr(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=Zt(_(u.aa,u),m)}function ri(u){u.D&&(d.clearTimeout(u.D),u.D=null)}Mn.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(ur(this.i,this.B),this.M!=2&&(xn(),be(17)),pn(this),this.m=2,Vn(this)):Xr(this,this.T-u)};function Vn(u){u.j.I==0||u.K||Nu(u.j,u)}function pn(u){ri(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,Fr(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function Fn(u,m){try{var v=u.j;if(v.I!=0&&(v.g==u||ai(v.h,u))){if(!u.L&&ai(v.h,u)&&v.I==3){try{var T=v.Ba.g.parse(m)}catch{T=null}if(Array.isArray(T)&&T.length==3){var P=T;if(P[0]==0){t:if(!v.v){if(v.g)if(v.g.F+3e3<u.F)Ka(v),es(v);else break t;ua(v),be(18)}}else v.xa=P[1],0<v.xa-v.K&&P[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=Zt(_(v.Va,v),6e3));si(v.h)<=1&&v.ta&&(v.ta=void 0)}else Fi(v,11)}else if((u.L||v.g==u)&&Ka(v),!R(m))for(P=v.Ba.g.parse(m),m=0;m<P.length;m++){let Wt=P[m];const pe=Wt[0];if(!(pe<=v.K))if(v.K=pe,Wt=Wt[1],v.I==2)if(Wt[0]=="c"){v.M=Wt[1],v.ba=Wt[2];const ui=Wt[3];ui!=null&&(v.ka=ui,v.j.info("VER="+v.ka));const Gi=Wt[4];Gi!=null&&(v.za=Gi,v.j.info("SVER="+v.za));const Ci=Wt[5];Ci!=null&&typeof Ci=="number"&&Ci>0&&(T=1.5*Ci,v.O=T,v.j.info("backChannelRequestTimeoutMs_="+T)),T=v;const Ni=u.g;if(Ni){const ca=Ni.g?Ni.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ca){var H=T.h;H.g||ca.indexOf("spdy")==-1&&ca.indexOf("quic")==-1&&ca.indexOf("h2")==-1||(H.j=H.l,H.g=new Set,H.h&&(Ws(H,H.h),H.h=null))}if(T.G){const Xa=Ni.g?Ni.g.getResponseHeader("X-HTTP-Session-Id"):null;Xa&&(T.wa=Xa,Gt(T.J,T.G,Xa))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-u.F,v.j.info("Handshake RTT: "+v.T+"ms")),T=v;var it=u;if(T.na=Mu(T,T.L?T.ba:null,T.W),it.L){ta(T.h,it);var Nt=it,De=T.O;De&&(Nt.H=De),Nt.D&&(ri(Nt),ii(Nt)),T.g=it}else Iu(T);v.i.length>0&&Hi(v)}else Wt[0]!="stop"&&Wt[0]!="close"||Fi(v,7);else v.I==3&&(Wt[0]=="stop"||Wt[0]=="close"?Wt[0]=="stop"?Fi(v,7):nl(v):Wt[0]!="noop"&&v.l&&v.l.qa(Wt),v.A=0)}}xn(4)}catch{}}var Se=class{constructor(u,m){this.g=u,this.map=m}};function Zs(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function $r(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function si(u){return u.h?1:u.g?u.g.size:0}function ai(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function Ws(u,m){u.g?u.g.add(m):u.h=m}function ta(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}Zs.prototype.cancel=function(){if(this.i=ea(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function ea(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const v of u.g.values())m=m.concat(v.G);return m}return K(u.i)}var Fa=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Jr(u,m){if(u){u=u.split("&");for(let v=0;v<u.length;v++){const T=u[v].indexOf("=");let P,H=null;T>=0?(P=u[v].substring(0,T),H=u[v].substring(T+1)):P=u[v],m(P,H?decodeURIComponent(H.replace(/\+/g," ")):"")}}}function In(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof In?(this.l=u.l,Pe(this,u.j),this.o=u.o,this.g=u.g,zi(this,u.u),this.h=u.h,Zr(this,lt(u.i)),this.m=u.m):u&&(m=String(u).match(Fa))?(this.l=!1,Pe(this,m[1]||"",!0),this.o=Gn(m[2]||""),this.g=Gn(m[3]||"",!0),zi(this,m[4]),this.h=Gn(m[5]||"",!0),Zr(this,m[6]||"",!0),this.m=Gn(m[7]||"")):(this.l=!1,this.i=new Qn(null,this.l))}In.prototype.toString=function(){const u=[];var m=this.j;m&&u.push(tn(m,fr,!0),":");var v=this.g;return(v||m=="file")&&(u.push("//"),(m=this.o)&&u.push(tn(m,fr,!0),"@"),u.push(Si(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&u.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&u.push("/"),u.push(tn(v,v.charAt(0)=="/"?ia:na,!0))),(v=this.i.toString())&&u.push("?",v),(v=this.m)&&u.push("#",tn(v,wi)),u.join("")},In.prototype.resolve=function(u){const m=Ae(this);let v=!!u.j;v?Pe(m,u.j):v=!!u.o,v?m.o=u.o:v=!!u.g,v?m.g=u.g:v=u.u!=null;var T=u.h;if(v)zi(m,u.u);else if(v=!!u.h){if(T.charAt(0)!="/")if(this.g&&!this.h)T="/"+T;else{var P=m.h.lastIndexOf("/");P!=-1&&(T=m.h.slice(0,P+1)+T)}if(P=T,P==".."||P==".")T="";else if(P.indexOf("./")!=-1||P.indexOf("/.")!=-1){T=P.lastIndexOf("/",0)==0,P=P.split("/");const H=[];for(let it=0;it<P.length;){const Nt=P[it++];Nt=="."?T&&it==P.length&&H.push(""):Nt==".."?((H.length>1||H.length==1&&H[0]!="")&&H.pop(),T&&it==P.length&&H.push("")):(H.push(Nt),T=!0)}T=H.join("/")}else T=P}return v?m.h=T:v=u.i.toString()!=="",v?Zr(m,lt(u.i)):v=!!u.m,v&&(m.m=u.m),m};function Ae(u){return new In(u)}function Pe(u,m,v){u.j=v?Gn(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function zi(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function Zr(u,m,v){m instanceof Qn?(u.i=m,ee(u.i,u.l)):(v||(m=tn(m,Ai)),u.i=new Qn(m,u.l))}function Gt(u,m,v){u.i.set(m,v)}function We(u){return Gt(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function Gn(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function tn(u,m,v){return typeof u=="string"?(u=encodeURI(u).replace(m,en),v&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function en(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var fr=/[#\/\?@]/g,na=/[#\?:]/g,ia=/[#\?]/g,Ai=/[#\?@]/g,wi=/#/g;function Qn(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function yn(u){u.g||(u.g=new Map,u.h=0,u.i&&Jr(u.i,function(m,v){u.add(decodeURIComponent(m.replace(/\+/g," ")),v)}))}r=Qn.prototype,r.add=function(u,m){yn(this),this.i=null,u=St(this,u);let v=this.g.get(u);return v||this.g.set(u,v=[]),v.push(m),this.h+=1,this};function A(u,m){yn(u),m=St(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function q(u,m){return yn(u),m=St(u,m),u.g.has(m)}r.forEach=function(u,m){yn(this),this.g.forEach(function(v,T){v.forEach(function(P){u.call(m,P,T,this)},this)},this)};function Q(u,m){yn(u);let v=[];if(typeof m=="string")q(u,m)&&(v=v.concat(u.g.get(St(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)v=v.concat(u[m]);return v}r.set=function(u,m){return yn(this),this.i=null,u=St(this,u),q(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},r.get=function(u,m){return u?(u=Q(this,u),u.length>0?String(u[0]):m):m};function ot(u,m,v){A(u,m),v.length>0&&(u.i=null,u.g.set(St(u,m),K(v)),u.h+=v.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let T=0;T<m.length;T++){var v=m[T];const P=Si(v);v=Q(this,v);for(let H=0;H<v.length;H++){let it=P;v[H]!==""&&(it+="="+Si(v[H])),u.push(it)}}return this.i=u.join("&")};function lt(u){const m=new Qn;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function St(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function ee(u,m){m&&!u.j&&(yn(u),u.i=null,u.g.forEach(function(v,T){const P=T.toLowerCase();T!=P&&(A(this,T),ot(this,P,v))},u)),u.j=m}function xe(u,m){const v=new Ye;if(d.Image){const T=new Image;T.onload=b(_n,v,"TestLoadImage: loaded",!0,m,T),T.onerror=b(_n,v,"TestLoadImage: error",!1,m,T),T.onabort=b(_n,v,"TestLoadImage: abort",!1,m,T),T.ontimeout=b(_n,v,"TestLoadImage: timeout",!1,m,T),d.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=u}else m(!1)}function nn(u,m){const v=new Ye,T=new AbortController,P=setTimeout(()=>{T.abort(),_n(v,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:T.signal}).then(H=>{clearTimeout(P),H.ok?_n(v,"TestPingServer: ok",!0,m):_n(v,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(P),_n(v,"TestPingServer: error",!1,m)})}function _n(u,m,v,T,P){try{P&&(P.onload=null,P.onerror=null,P.onabort=null,P.ontimeout=null),T(v)}catch{}}function ji(){this.g=new ki}function oi(u){this.i=u.Sb||null,this.h=u.ab||!1}S(oi,Gr),oi.prototype.g=function(){return new ra(this.i,this.h)};function ra(u,m){Te.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}S(ra,Te),r=ra.prototype,r.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,Ri(this)},r.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Wr(this)),this.readyState=0},r.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Ri(this)),this.g&&(this.readyState=3,Ri(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Ga(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function Ga(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}r.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?Wr(this):Ri(this),this.readyState==3&&Ga(this)}},r.Oa=function(u){this.g&&(this.response=this.responseText=u,Wr(this))},r.Na=function(u){this.g&&(this.response=u,Wr(this))},r.ga=function(){this.g&&Wr(this)};function Wr(u){u.readyState=4,u.l=null,u.j=null,u.B=null,Ri(u)}r.setRequestHeader=function(u,m){this.A.append(u,m)},r.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var v=m.next();!v.done;)v=v.value,u.push(v[0]+": "+v[1]),v=m.next();return u.join(`\r
`)};function Ri(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(ra.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function li(u){let m="";return Lt(u,function(v,T){m+=T,m+=":",m+=v,m+=`\r
`}),m}function sa(u,m,v){t:{for(T in v){var T=!1;break t}T=!0}T||(v=li(v),typeof u=="string"?v!=null&&Si(v):Gt(u,m,v))}function ae(u){Te.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}S(ae,Te);var Bi=/^https?$/i,tl=["POST","PUT"];r=ae.prototype,r.Fa=function(u){this.H=u},r.ea=function(u,m,v,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Yr.g(),this.g.onreadystatechange=V(_(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(H){aa(this,H);return}if(u=v||"",v=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var P in T)v.set(P,T[P]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const H of T.keys())v.set(H,T.get(H));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(v.keys()).find(H=>H.toLowerCase()=="content-type"),P=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call(tl,m,void 0)>=0)||T||P||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[H,it]of v)this.g.setRequestHeader(H,it);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(H){aa(this,H)}};function aa(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,el(u),dr(u)}function el(u){u.A||(u.A=!0,Ce(u,"complete"),Ce(u,"error"))}r.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,Ce(this,"complete"),Ce(this,"abort"),dr(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),dr(this,!0)),ae.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?oa(this):this.Xa())},r.Xa=function(){oa(this)};function oa(u){if(u.h&&typeof c<"u"){if(u.v&&Ii(u)==4)setTimeout(u.Ca.bind(u),0);else if(Ce(u,"readystatechange"),Ii(u)==4){u.h=!1;try{const H=u.ca();t:switch(H){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var v;if(!(v=m)){var T;if(T=H===0){let it=String(u.D).match(Fa)[1]||null;!it&&d.self&&d.self.location&&(it=d.self.location.protocol.slice(0,-1)),T=!Bi.test(it?it.toLowerCase():"")}v=T}if(v)Ce(u,"complete"),Ce(u,"success");else{u.o=6;try{var P=Ii(u)>2?u.g.statusText:""}catch{P=""}u.l=P+" ["+u.ca()+"]",el(u)}}finally{dr(u)}}}}function dr(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const v=u.g;u.g=null,m||Ce(u,"ready");try{v.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function Ii(u){return u.g?u.g.readyState:0}r.ca=function(){try{return Ii(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),Ba(m)}};function rn(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function mr(u){const m={};u=(u.g&&Ii(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<u.length;T++){if(R(u[T]))continue;var v=Js(u[T]);const P=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const H=m[P]||[];m[P]=H,H.push(v)}Ht(m,function(T){return T.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function qi(u,m,v){return v&&v.internalChannelParams&&v.internalChannelParams[u]||m}function ts(u){this.za=0,this.i=[],this.j=new Ye,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=qi("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=qi("baseRetryDelayMs",5e3,u),this.Za=qi("retryDelaySeedMs",1e4,u),this.Ta=qi("forwardChannelMaxRetries",2,u),this.va=qi("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new Zs(u&&u.concurrentRequestLimit),this.Ba=new ji,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=ts.prototype,r.ka=8,r.I=1,r.connect=function(u,m,v,T){be(0),this.W=u,this.H=m||{},v&&T!==void 0&&(this.H.OSID=v,this.H.OAID=T),this.F=this.X,this.J=Mu(this,null,this.W),Hi(this)};function nl(u){if(Qa(u),u.I==3){var m=u.V++,v=Ae(u.J);if(Gt(v,"SID",u.M),Gt(v,"RID",m),Gt(v,"TYPE","terminate"),la(u,v),m=new Mn(u,u.j,m),m.M=2,m.A=We(Ae(v)),v=!1,d.navigator&&d.navigator.sendBeacon)try{v=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!v&&d.Image&&(new Image().src=m.A,v=!0),v||(m.g=Ou(m.j,null),m.g.ea(m.A)),m.F=Date.now(),ii(m)}Du(u)}function es(u){u.g&&(rl(u),u.g.cancel(),u.g=null)}function Qa(u){es(u),u.v&&(d.clearTimeout(u.v),u.v=null),Ka(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function Hi(u){if(!$r(u.h)&&!u.m){u.m=!0;var m=u.Ea;Jt||w(),Mt||(Jt(),Mt=!0),N.add(m,u),u.D=0}}function Ya(u,m){return si(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=Zt(_(u.Ea,u,m),xu(u,u.D)),u.D++,!0)}r.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const P=new Mn(this,this.j,u);let H=this.o;if(this.U&&(H?(H=O(H),at(H,this.U)):H=this.U),this.u!==null||this.R||(P.J=H,H=null),this.S)t:{for(var m=0,v=0;v<this.i.length;v++){e:{var T=this.i[v];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break e}T=void 0}if(T===void 0)break;if(m+=T,m>4096){m=v;break t}if(m===4096||v===this.i.length-1){m=v+1;break t}}m=1e3}else m=1e3;m=Ru(this,P,m),v=Ae(this.J),Gt(v,"RID",u),Gt(v,"CVER",22),this.G&&Gt(v,"X-HTTP-Session-Id",this.G),la(this,v),H&&(this.R?m="headers="+Si(li(H))+"&"+m:this.u&&sa(v,this.u,H)),Ws(this.h,P),this.Ra&&Gt(v,"TYPE","init"),this.S?(Gt(v,"$req",m),Gt(v,"SID","null"),P.U=!0,ni(P,v,null)):ni(P,v,m),this.I=2}}else this.I==3&&(u?il(this,u):this.i.length==0||$r(this.h)||il(this))};function il(u,m){var v;m?v=m.l:v=u.V++;const T=Ae(u.J);Gt(T,"SID",u.M),Gt(T,"RID",v),Gt(T,"AID",u.K),la(u,T),u.u&&u.o&&sa(T,u.u,u.o),v=new Mn(u,u.j,v,u.D+1),u.u===null&&(v.J=u.o),m&&(u.i=m.G.concat(u.i)),m=Ru(u,v,1e3),v.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),Ws(u.h,v),ni(v,T,m)}function la(u,m){u.H&&Lt(u.H,function(v,T){Gt(m,T,v)}),u.l&&Lt({},function(v,T){Gt(m,T,v)})}function Ru(u,m,v){v=Math.min(u.i.length,v);const T=u.l?_(u.l.Ka,u.l,u):null;t:{var P=u.i;let Nt=-1;for(;;){const De=["count="+v];Nt==-1?v>0?(Nt=P[0].g,De.push("ofs="+Nt)):Nt=0:De.push("ofs="+Nt);let Wt=!0;for(let pe=0;pe<v;pe++){var H=P[pe].g;const ui=P[pe].map;if(H-=Nt,H<0)Nt=Math.max(0,P[pe].g-100),Wt=!1;else try{H="req"+H+"_"||"";try{var it=ui instanceof Map?ui:Object.entries(ui);for(const[Gi,Ci]of it){let Ni=Ci;p(Ci)&&(Ni=mn(Ci)),De.push(H+Gi+"="+encodeURIComponent(Ni))}}catch(Gi){throw De.push(H+"type="+encodeURIComponent("_badmap")),Gi}}catch{T&&T(ui)}}if(Wt){it=De.join("&");break t}}it=void 0}return u=u.i.splice(0,v),m.G=u,it}function Iu(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;Jt||w(),Mt||(Jt(),Mt=!0),N.add(m,u),u.A=0}}function ua(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=Zt(_(u.Da,u),xu(u,u.A)),u.A++,!0)}r.Da=function(){if(this.v=null,Cu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=Zt(_(this.Wa,this),u)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,be(10),es(this),Cu(this))};function rl(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function Cu(u){u.g=new Mn(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=Ae(u.na);Gt(m,"RID","rpc"),Gt(m,"SID",u.M),Gt(m,"AID",u.K),Gt(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&Gt(m,"TO",u.ia),Gt(m,"TYPE","xmlhttp"),la(u,m),u.u&&u.o&&sa(m,u.u,u.o),u.O&&(u.g.H=u.O);var v=u.g;u=u.ba,v.M=1,v.A=We(Ae(m)),v.u=null,v.R=!0,hr(v,u)}r.Va=function(){this.C!=null&&(this.C=null,es(this),ua(this),be(19))};function Ka(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function Nu(u,m){var v=null;if(u.g==m){Ka(u),rl(u),u.g=null;var T=2}else if(ai(u.h,m))v=m.G,ta(u.h,m),T=1;else return;if(u.I!=0){if(m.o)if(T==1){v=m.u?m.u.length:0,m=Date.now()-m.F;var P=u.D;T=lr(),Ce(T,new Dn(T,v)),Hi(u)}else Iu(u);else if(P=m.m,P==3||P==0&&m.X>0||!(T==1&&Ya(u,m)||T==2&&ua(u)))switch(v&&v.length>0&&(m=u.h,m.i=m.i.concat(v)),P){case 1:Fi(u,5);break;case 4:Fi(u,10);break;case 3:Fi(u,6);break;default:Fi(u,2)}}}function xu(u,m){let v=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(v*=2),v*m}function Fi(u,m){if(u.j.info("Error code "+m),m==2){var v=_(u.bb,u),T=u.Ua;const P=!T;T=new In(T||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Pe(T,"https"),We(T),P?xe(T.toString(),v):nn(T.toString(),v)}else be(2);u.I=0,u.l&&u.l.pa(m),Du(u),Qa(u)}r.bb=function(u){u?(this.j.info("Successfully pinged google.com"),be(2)):(this.j.info("Failed to ping google.com"),be(1))};function Du(u){if(u.I=0,u.ja=[],u.l){const m=ea(u.h);(m.length!=0||u.i.length!=0)&&(tt(u.ja,m),tt(u.ja,u.i),u.h.i.length=0,K(u.i),u.i.length=0),u.l.oa()}}function Mu(u,m,v){var T=v instanceof In?Ae(v):new In(v);if(T.g!="")m&&(T.g=m+"."+T.g),zi(T,T.u);else{var P=d.location;T=P.protocol,m=m?m+"."+P.hostname:P.hostname,P=+P.port;const H=new In(null);T&&Pe(H,T),m&&(H.g=m),P&&zi(H,P),v&&(H.h=v),T=H}return v=u.G,m=u.wa,v&&m&&Gt(T,v,m),Gt(T,"VER",u.ka),la(u,T),T}function Ou(u,m,v){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new ae(new oi({ab:v})):new ae(u.ma),m.Fa(u.L),m}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Vu(){}r=Vu.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function ns(){}ns.prototype.g=function(u,m){return new Cn(u,m)};function Cn(u,m){Te.call(this),this.g=new ts(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!R(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!R(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new gr(this)}S(Cn,Te),Cn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Cn.prototype.close=function(){nl(this.g)},Cn.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var v={};v.__data__=u,u=v}else this.v&&(v={},v.__data__=mn(u),u=v);m.i.push(new Se(m.Ya++,u)),m.I==3&&Hi(m)},Cn.prototype.N=function(){this.g.l=null,delete this.j,nl(this.g),delete this.g,Cn.Z.N.call(this)};function ku(u){Qe.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){t:{for(const v in m){u=v;break t}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}S(ku,Qe);function Uu(){gn.call(this),this.status=1}S(Uu,gn);function gr(u){this.g=u}S(gr,Vu),gr.prototype.ra=function(){Ce(this.g,"a")},gr.prototype.qa=function(u){Ce(this.g,new ku(u))},gr.prototype.pa=function(u){Ce(this.g,new Uu)},gr.prototype.oa=function(){Ce(this.g,"b")},ns.prototype.createWebChannel=ns.prototype.g,Cn.prototype.send=Cn.prototype.o,Cn.prototype.open=Cn.prototype.m,Cn.prototype.close=Cn.prototype.close,Q1=function(){return new ns},G1=function(){return lr()},F1=Yt,vm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},cr.NO_ERROR=0,cr.TIMEOUT=8,cr.HTTP_ERROR=6,th=cr,Rn.COMPLETE="complete",H1=Rn,Qr.EventType=An,An.OPEN="a",An.CLOSE="b",An.ERROR="c",An.MESSAGE="d",Te.prototype.listen=Te.prototype.J,Ql=Qr,ae.prototype.listenOnce=ae.prototype.K,ae.prototype.getLastError=ae.prototype.Ha,ae.prototype.getLastErrorCode=ae.prototype.ya,ae.prototype.getStatus=ae.prototype.ca,ae.prototype.getResponseJson=ae.prototype.La,ae.prototype.getResponseText=ae.prototype.la,ae.prototype.send=ae.prototype.ea,ae.prototype.setWithCredentials=ae.prototype.Fa,q1=ae}).apply(typeof Bc<"u"?Bc:typeof self<"u"?self:typeof window<"u"?window:{});const L0="@firebase/firestore",P0="4.9.2";let Tn=class{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}};Tn.UNAUTHENTICATED=new Tn(null),Tn.GOOGLE_CREDENTIALS=new Tn("google-credentials-uid"),Tn.FIRST_PARTY=new Tn("first-party-uid"),Tn.MOCK_USER=new Tn("mock-user");let Ko="12.3.0";const Ua=new qm("@firebase/firestore");function Io(){return Ua.logLevel}function ct(r,...t){if(Ua.logLevel<=jt.DEBUG){const i=t.map(Wm);Ua.debug(`Firestore (${Ko}): ${r}`,...i)}}function zr(r,...t){if(Ua.logLevel<=jt.ERROR){const i=t.map(Wm);Ua.error(`Firestore (${Ko}): ${r}`,...i)}}function zo(r,...t){if(Ua.logLevel<=jt.WARN){const i=t.map(Wm);Ua.warn(`Firestore (${Ko}): ${r}`,...i)}}function Wm(r){if(typeof r=="string")return r;try{return(function(i){return JSON.stringify(i)})(r)}catch{return r}}function Et(r,t,i){let a="Unexpected state";typeof t=="string"?a=t:i=t,Y1(r,a,i)}function Y1(r,t,i){let a=`FIRESTORE (${Ko}) INTERNAL ASSERTION FAILED: ${t} (ID: ${r.toString(16)})`;if(i!==void 0)try{a+=" CONTEXT: "+JSON.stringify(i)}catch{a+=" CONTEXT: "+i}throw zr(a),new Error(a)}function ne(r,t,i,a){let l="Unexpected state";typeof i=="string"?l=i:a=i,r||Y1(t,l,a)}function It(r,t){return r}const Z={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ht extends Br{constructor(t,i){super(t,i),this.code=t,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class xa{constructor(){this.promise=new Promise(((t,i)=>{this.resolve=t,this.reject=i}))}}class K1{constructor(t,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class Xw{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,i){t.enqueueRetryable((()=>i(Tn.UNAUTHENTICATED)))}shutdown(){}}class $w{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,i){this.changeListener=i,t.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class Jw{constructor(t){this.t=t,this.currentUser=Tn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,i){ne(this.o===void 0,42304);let a=this.i;const l=y=>this.i!==a?(a=this.i,i(y)):Promise.resolve();let c=new xa;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new xa,t.enqueueRetryable((()=>l(this.currentUser)))};const d=()=>{const y=c;t.enqueueRetryable((async()=>{await y.promise,await l(this.currentUser)}))},p=y=>{ct("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=y,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((y=>p(y))),setTimeout((()=>{if(!this.auth){const y=this.t.getImmediate({optional:!0});y?p(y):(ct("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new xa)}}),0),d()}getToken(){const t=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((a=>this.i!==t?(ct("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(ne(typeof a.accessToken=="string",31837,{l:a}),new K1(a.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return ne(t===null||typeof t=="string",2055,{h:t}),new Tn(t)}}class Zw{constructor(t,i,a){this.P=t,this.T=i,this.I=a,this.type="FirstParty",this.user=Tn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class Ww{constructor(t,i,a){this.P=t,this.T=i,this.I=a}getToken(){return Promise.resolve(new Zw(this.P,this.T,this.I))}start(t,i){t.enqueueRetryable((()=>i(Tn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class z0{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class tR{constructor(t,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,vi(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,i){ne(this.o===void 0,3512);const a=c=>{c.error!=null&&ct("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.m;return this.m=c.token,ct("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(c.token):Promise.resolve()};this.o=c=>{t.enqueueRetryable((()=>a(c)))};const l=c=>{ct("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>l(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?l(c):ct("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new z0(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((i=>i?(ne(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new z0(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function eR(r){const t=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(r);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(i);else for(let a=0;a<r;a++)i[a]=Math.floor(256*Math.random());return i}class tg{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const l=eR(40);for(let c=0;c<l.length;++c)a.length<20&&l[c]<i&&(a+=t.charAt(l[c]%62))}return a}}function Bt(r,t){return r<t?-1:r>t?1:0}function Em(r,t){const i=Math.min(r.length,t.length);for(let a=0;a<i;a++){const l=r.charAt(a),c=t.charAt(a);if(l!==c)return nm(l)===nm(c)?Bt(l,c):nm(l)?1:-1}return Bt(r.length,t.length)}const nR=55296,iR=57343;function nm(r){const t=r.charCodeAt(0);return t>=nR&&t<=iR}function jo(r,t,i){return r.length===t.length&&r.every(((a,l)=>i(a,t[l])))}const j0="__name__";class Ji{constructor(t,i,a){i===void 0?i=0:i>t.length&&Et(637,{offset:i,range:t.length}),a===void 0?a=t.length-i:a>t.length-i&&Et(1746,{length:a,range:t.length-i}),this.segments=t,this.offset=i,this.len=a}get length(){return this.len}isEqual(t){return Ji.comparator(this,t)===0}child(t){const i=this.segments.slice(this.offset,this.limit());return t instanceof Ji?t.forEach((a=>{i.push(a)})):i.push(t),this.construct(i)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}forEach(t){for(let i=this.offset,a=this.limit();i<a;i++)t(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,i){const a=Math.min(t.length,i.length);for(let l=0;l<a;l++){const c=Ji.compareSegments(t.get(l),i.get(l));if(c!==0)return c}return Bt(t.length,i.length)}static compareSegments(t,i){const a=Ji.isNumericId(t),l=Ji.isNumericId(i);return a&&!l?-1:!a&&l?1:a&&l?Ji.extractNumericId(t).compare(Ji.extractNumericId(i)):Em(t,i)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Vs.fromString(t.substring(4,t.length-2))}}class he extends Ji{construct(t,i,a){return new he(t,i,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const i=[];for(const a of t){if(a.indexOf("//")>=0)throw new ht(Z.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);i.push(...a.split("/").filter((l=>l.length>0)))}return new he(i)}static emptyPath(){return new he([])}}const rR=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class hn extends Ji{construct(t,i,a){return new hn(t,i,a)}static isValidIdentifier(t){return rR.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),hn.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===j0}static keyField(){return new hn([j0])}static fromServerFormat(t){const i=[];let a="",l=0;const c=()=>{if(a.length===0)throw new ht(Z.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(a),a=""};let d=!1;for(;l<t.length;){const p=t[l];if(p==="\\"){if(l+1===t.length)throw new ht(Z.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const y=t[l+1];if(y!=="\\"&&y!=="."&&y!=="`")throw new ht(Z.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);a+=y,l+=2}else p==="`"?(d=!d,l++):p!=="."||d?(a+=p,l++):(c(),l++)}if(c(),d)throw new ht(Z.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new hn(i)}static emptyPath(){return new hn([])}}class yt{constructor(t){this.path=t}static fromPath(t){return new yt(he.fromString(t))}static fromName(t){return new yt(he.fromString(t).popFirst(5))}static empty(){return new yt(he.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&he.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,i){return he.comparator(t.path,i.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new yt(new he(t.slice()))}}function X1(r,t,i){if(!i)throw new ht(Z.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${t}.`)}function sR(r,t,i,a){if(t===!0&&a===!0)throw new ht(Z.INVALID_ARGUMENT,`${r} and ${i} cannot be used together.`)}function B0(r){if(!yt.isDocumentKey(r))throw new ht(Z.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function q0(r){if(yt.isDocumentKey(r))throw new ht(Z.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function $1(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function Dh(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const t=(function(a){return a.constructor?a.constructor.name:null})(r);return t?`a custom ${t} object`:"an object"}}return typeof r=="function"?"a function":Et(12329,{type:typeof r})}function tr(r,t){if("_delegate"in r&&(r=r._delegate),!(r instanceof t)){if(t.name===r.constructor.name)throw new ht(Z.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=Dh(r);throw new ht(Z.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${i}`)}}return r}function Ge(r,t){const i={typeString:r};return t&&(i.value=t),i}function vu(r,t){if(!$1(r))throw new ht(Z.INVALID_ARGUMENT,"JSON must be an object");let i;for(const a in t)if(t[a]){const l=t[a].typeString,c="value"in t[a]?{value:t[a].value}:void 0;if(!(a in r)){i=`JSON missing required field: '${a}'`;break}const d=r[a];if(l&&typeof d!==l){i=`JSON field '${a}' must be a ${l}.`;break}if(c!==void 0&&d!==c.value){i=`Expected '${a}' field to equal '${c.value}'`;break}}if(i)throw new ht(Z.INVALID_ARGUMENT,i);return!0}const H0=-62135596800,F0=1e6;class ge{static now(){return ge.fromMillis(Date.now())}static fromDate(t){return ge.fromMillis(t.getTime())}static fromMillis(t){const i=Math.floor(t/1e3),a=Math.floor((t-1e3*i)*F0);return new ge(i,a)}constructor(t,i){if(this.seconds=t,this.nanoseconds=i,i<0)throw new ht(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new ht(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(t<H0)throw new ht(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new ht(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/F0}_compareTo(t){return this.seconds===t.seconds?Bt(this.nanoseconds,t.nanoseconds):Bt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ge._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(vu(t,ge._jsonSchema))return new ge(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-H0;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ge._jsonSchemaVersion="firestore/timestamp/1.0",ge._jsonSchema={type:Ge("string",ge._jsonSchemaVersion),seconds:Ge("number"),nanoseconds:Ge("number")};class At{static fromTimestamp(t){return new At(t)}static min(){return new At(new ge(0,0))}static max(){return new At(new ge(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const ru=-1;function aR(r,t){const i=r.toTimestamp().seconds,a=r.toTimestamp().nanoseconds+1,l=At.fromTimestamp(a===1e9?new ge(i+1,0):new ge(i,a));return new Us(l,yt.empty(),t)}function oR(r){return new Us(r.readTime,r.key,ru)}class Us{constructor(t,i,a){this.readTime=t,this.documentKey=i,this.largestBatchId=a}static min(){return new Us(At.min(),yt.empty(),ru)}static max(){return new Us(At.max(),yt.empty(),ru)}}function lR(r,t){let i=r.readTime.compareTo(t.readTime);return i!==0?i:(i=yt.comparator(r.documentKey,t.documentKey),i!==0?i:Bt(r.largestBatchId,t.largestBatchId))}const uR="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class cR{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}async function Xo(r){if(r.code!==Z.FAILED_PRECONDITION||r.message!==uR)throw r;ct("LocalStore","Unexpectedly lost primary lease")}class W{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(t){return this.next(void 0,t)}next(t,i){return this.callbackAttached&&Et(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(t,this.result):new W(((a,l)=>{this.nextCallback=c=>{this.wrapSuccess(t,c).next(a,l)},this.catchCallback=c=>{this.wrapFailure(i,c).next(a,l)}}))}toPromise(){return new Promise(((t,i)=>{this.next(t,i)}))}wrapUserFunction(t){try{const i=t();return i instanceof W?i:W.resolve(i)}catch(i){return W.reject(i)}}wrapSuccess(t,i){return t?this.wrapUserFunction((()=>t(i))):W.resolve(i)}wrapFailure(t,i){return t?this.wrapUserFunction((()=>t(i))):W.reject(i)}static resolve(t){return new W(((i,a)=>{i(t)}))}static reject(t){return new W(((i,a)=>{a(t)}))}static waitFor(t){return new W(((i,a)=>{let l=0,c=0,d=!1;t.forEach((p=>{++l,p.next((()=>{++c,d&&c===l&&i()}),(y=>a(y)))})),d=!0,c===l&&i()}))}static or(t){let i=W.resolve(!1);for(const a of t)i=i.next((l=>l?W.resolve(l):a()));return i}static forEach(t,i){const a=[];return t.forEach(((l,c)=>{a.push(i.call(this,l,c))})),this.waitFor(a)}static mapArray(t,i){return new W(((a,l)=>{const c=t.length,d=new Array(c);let p=0;for(let y=0;y<c;y++){const _=y;i(t[_]).next((b=>{d[_]=b,++p,p===c&&a(d)}),(b=>l(b)))}}))}static doWhile(t,i){return new W(((a,l)=>{const c=()=>{t()===!0?i().next((()=>{c()}),l):a()};c()}))}}function hR(r){const t=r.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function $o(r){return r.name==="IndexedDbTransactionError"}class Mh{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=a=>this.ae(a),this.ue=a=>i.writeSequenceNumber(a))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}Mh.ce=-1;const eg=-1;function Oh(r){return r==null}function gh(r){return r===0&&1/r==-1/0}function fR(r){return typeof r=="number"&&Number.isInteger(r)&&!gh(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}const J1="";function dR(r){let t="";for(let i=0;i<r.length;i++)t.length>0&&(t=G0(t)),t=mR(r.get(i),t);return G0(t)}function mR(r,t){let i=t;const a=r.length;for(let l=0;l<a;l++){const c=r.charAt(l);switch(c){case"\0":i+="";break;case J1:i+="";break;default:i+=c}}return i}function G0(r){return r+J1+""}function Q0(r){let t=0;for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&t++;return t}function qs(r,t){for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&t(i,r[i])}function Z1(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}class ve{constructor(t,i){this.comparator=t,this.root=i||cn.EMPTY}insert(t,i){return new ve(this.comparator,this.root.insert(t,i,this.comparator).copy(null,null,cn.BLACK,null,null))}remove(t){return new ve(this.comparator,this.root.remove(t,this.comparator).copy(null,null,cn.BLACK,null,null))}get(t){let i=this.root;for(;!i.isEmpty();){const a=this.comparator(t,i.key);if(a===0)return i.value;a<0?i=i.left:a>0&&(i=i.right)}return null}indexOf(t){let i=0,a=this.root;for(;!a.isEmpty();){const l=this.comparator(t,a.key);if(l===0)return i+a.left.size;l<0?a=a.left:(i+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((i,a)=>(t(i,a),!1)))}toString(){const t=[];return this.inorderTraversal(((i,a)=>(t.push(`${i}:${a}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new qc(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new qc(this.root,t,this.comparator,!1)}getReverseIterator(){return new qc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new qc(this.root,t,this.comparator,!0)}}class qc{constructor(t,i,a,l){this.isReverse=l,this.nodeStack=[];let c=1;for(;!t.isEmpty();)if(c=i?a(t.key,i):1,i&&l&&(c*=-1),c<0)t=this.isReverse?t.left:t.right;else{if(c===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const i={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class cn{constructor(t,i,a,l,c){this.key=t,this.value=i,this.color=a??cn.RED,this.left=l??cn.EMPTY,this.right=c??cn.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,i,a,l,c){return new cn(t??this.key,i??this.value,a??this.color,l??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,a){let l=this;const c=a(t,l.key);return l=c<0?l.copy(null,null,null,l.left.insert(t,i,a),null):c===0?l.copy(null,i,null,null,null):l.copy(null,null,null,null,l.right.insert(t,i,a)),l.fixUp()}removeMin(){if(this.left.isEmpty())return cn.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,i){let a,l=this;if(i(t,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(t,i),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),i(t,l.key)===0){if(l.right.isEmpty())return cn.EMPTY;a=l.right.min(),l=l.copy(a.key,a.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(t,i))}return l.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,cn.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,cn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Et(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Et(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw Et(27949);return t+(this.isRed()?0:1)}}cn.EMPTY=null,cn.RED=!0,cn.BLACK=!1;cn.EMPTY=new class{constructor(){this.size=0}get key(){throw Et(57766)}get value(){throw Et(16141)}get color(){throw Et(16727)}get left(){throw Et(29726)}get right(){throw Et(36894)}copy(t,i,a,l,c){return this}insert(t,i,a){return new cn(t,i)}remove(t,i){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Xe{constructor(t){this.comparator=t,this.data=new ve(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((i,a)=>(t(i),!1)))}forEachInRange(t,i){const a=this.data.getIteratorFrom(t[0]);for(;a.hasNext();){const l=a.getNext();if(this.comparator(l.key,t[1])>=0)return;i(l.key)}}forEachWhile(t,i){let a;for(a=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();a.hasNext();)if(!t(a.getNext().key))return}firstAfterOrEqual(t){const i=this.data.getIteratorFrom(t);return i.hasNext()?i.getNext().key:null}getIterator(){return new Y0(this.data.getIterator())}getIteratorFrom(t){return new Y0(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let i=this;return i.size<t.size&&(i=t,t=this),t.forEach((a=>{i=i.add(a)})),i}isEqual(t){if(!(t instanceof Xe)||this.size!==t.size)return!1;const i=this.data.getIterator(),a=t.data.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=a.getNext().key;if(this.comparator(l,c)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((i=>{t.push(i)})),t}toString(){const t=[];return this.forEach((i=>t.push(i))),"SortedSet("+t.toString()+")"}copy(t){const i=new Xe(this.comparator);return i.data=t,i}}class Y0{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class ti{constructor(t){this.fields=t,t.sort(hn.comparator)}static empty(){return new ti([])}unionWith(t){let i=new Xe(hn.comparator);for(const a of this.fields)i=i.add(a);for(const a of t)i=i.add(a);return new ti(i.toArray())}covers(t){for(const i of this.fields)if(i.isPrefixOf(t))return!0;return!1}isEqual(t){return jo(this.fields,t.fields,((i,a)=>i.isEqual(a)))}}class W1 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class dn{constructor(t){this.binaryString=t}static fromBase64String(t){const i=(function(l){try{return atob(l)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new W1("Invalid base64 string: "+c):c}})(t);return new dn(i)}static fromUint8Array(t){const i=(function(l){let c="";for(let d=0;d<l.length;++d)c+=String.fromCharCode(l[d]);return c})(t);return new dn(i)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const a=new Uint8Array(i.length);for(let l=0;l<i.length;l++)a[l]=i.charCodeAt(l);return a})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Bt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}dn.EMPTY_BYTE_STRING=new dn("");const gR=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ls(r){if(ne(!!r,39018),typeof r=="string"){let t=0;const i=gR.exec(r);if(ne(!!i,46558,{timestamp:r}),i[1]){let l=i[1];l=(l+"000000000").substr(0,9),t=Number(l)}const a=new Date(r);return{seconds:Math.floor(a.getTime()/1e3),nanos:t}}return{seconds:Ve(r.seconds),nanos:Ve(r.nanos)}}function Ve(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function Ps(r){return typeof r=="string"?dn.fromBase64String(r):dn.fromUint8Array(r)}const tE="server_timestamp",eE="__type__",nE="__previous_value__",iE="__local_write_time__";function ng(r){return(r?.mapValue?.fields||{})[eE]?.stringValue===tE}function Vh(r){const t=r.mapValue.fields[nE];return ng(t)?Vh(t):t}function su(r){const t=Ls(r.mapValue.fields[iE].timestampValue);return new ge(t.seconds,t.nanos)}class pR{constructor(t,i,a,l,c,d,p,y,_,b){this.databaseId=t,this.appId=i,this.persistenceKey=a,this.host=l,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=p,this.longPollingOptions=y,this.useFetchStreams=_,this.isUsingEmulator=b}}const ph="(default)";class au{constructor(t,i){this.projectId=t,this.database=i||ph}static empty(){return new au("","")}get isDefaultDatabase(){return this.database===ph}isEqual(t){return t instanceof au&&t.projectId===this.projectId&&t.database===this.database}}const rE="__type__",yR="__max__",Hc={mapValue:{}},sE="__vector__",yh="value";function zs(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?ng(r)?4:vR(r)?9007199254740991:_R(r)?10:11:Et(28295,{value:r})}function sr(r,t){if(r===t)return!0;const i=zs(r);if(i!==zs(t))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===t.booleanValue;case 4:return su(r).isEqual(su(t));case 3:return(function(l,c){if(typeof l.timestampValue=="string"&&typeof c.timestampValue=="string"&&l.timestampValue.length===c.timestampValue.length)return l.timestampValue===c.timestampValue;const d=Ls(l.timestampValue),p=Ls(c.timestampValue);return d.seconds===p.seconds&&d.nanos===p.nanos})(r,t);case 5:return r.stringValue===t.stringValue;case 6:return(function(l,c){return Ps(l.bytesValue).isEqual(Ps(c.bytesValue))})(r,t);case 7:return r.referenceValue===t.referenceValue;case 8:return(function(l,c){return Ve(l.geoPointValue.latitude)===Ve(c.geoPointValue.latitude)&&Ve(l.geoPointValue.longitude)===Ve(c.geoPointValue.longitude)})(r,t);case 2:return(function(l,c){if("integerValue"in l&&"integerValue"in c)return Ve(l.integerValue)===Ve(c.integerValue);if("doubleValue"in l&&"doubleValue"in c){const d=Ve(l.doubleValue),p=Ve(c.doubleValue);return d===p?gh(d)===gh(p):isNaN(d)&&isNaN(p)}return!1})(r,t);case 9:return jo(r.arrayValue.values||[],t.arrayValue.values||[],sr);case 10:case 11:return(function(l,c){const d=l.mapValue.fields||{},p=c.mapValue.fields||{};if(Q0(d)!==Q0(p))return!1;for(const y in d)if(d.hasOwnProperty(y)&&(p[y]===void 0||!sr(d[y],p[y])))return!1;return!0})(r,t);default:return Et(52216,{left:r})}}function ou(r,t){return(r.values||[]).find((i=>sr(i,t)))!==void 0}function Bo(r,t){if(r===t)return 0;const i=zs(r),a=zs(t);if(i!==a)return Bt(i,a);switch(i){case 0:case 9007199254740991:return 0;case 1:return Bt(r.booleanValue,t.booleanValue);case 2:return(function(c,d){const p=Ve(c.integerValue||c.doubleValue),y=Ve(d.integerValue||d.doubleValue);return p<y?-1:p>y?1:p===y?0:isNaN(p)?isNaN(y)?0:-1:1})(r,t);case 3:return K0(r.timestampValue,t.timestampValue);case 4:return K0(su(r),su(t));case 5:return Em(r.stringValue,t.stringValue);case 6:return(function(c,d){const p=Ps(c),y=Ps(d);return p.compareTo(y)})(r.bytesValue,t.bytesValue);case 7:return(function(c,d){const p=c.split("/"),y=d.split("/");for(let _=0;_<p.length&&_<y.length;_++){const b=Bt(p[_],y[_]);if(b!==0)return b}return Bt(p.length,y.length)})(r.referenceValue,t.referenceValue);case 8:return(function(c,d){const p=Bt(Ve(c.latitude),Ve(d.latitude));return p!==0?p:Bt(Ve(c.longitude),Ve(d.longitude))})(r.geoPointValue,t.geoPointValue);case 9:return X0(r.arrayValue,t.arrayValue);case 10:return(function(c,d){const p=c.fields||{},y=d.fields||{},_=p[yh]?.arrayValue,b=y[yh]?.arrayValue,S=Bt(_?.values?.length||0,b?.values?.length||0);return S!==0?S:X0(_,b)})(r.mapValue,t.mapValue);case 11:return(function(c,d){if(c===Hc.mapValue&&d===Hc.mapValue)return 0;if(c===Hc.mapValue)return 1;if(d===Hc.mapValue)return-1;const p=c.fields||{},y=Object.keys(p),_=d.fields||{},b=Object.keys(_);y.sort(),b.sort();for(let S=0;S<y.length&&S<b.length;++S){const V=Em(y[S],b[S]);if(V!==0)return V;const K=Bo(p[y[S]],_[b[S]]);if(K!==0)return K}return Bt(y.length,b.length)})(r.mapValue,t.mapValue);default:throw Et(23264,{he:i})}}function K0(r,t){if(typeof r=="string"&&typeof t=="string"&&r.length===t.length)return Bt(r,t);const i=Ls(r),a=Ls(t),l=Bt(i.seconds,a.seconds);return l!==0?l:Bt(i.nanos,a.nanos)}function X0(r,t){const i=r.values||[],a=t.values||[];for(let l=0;l<i.length&&l<a.length;++l){const c=Bo(i[l],a[l]);if(c)return c}return Bt(i.length,a.length)}function qo(r){return Tm(r)}function Tm(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(i){const a=Ls(i);return`time(${a.seconds},${a.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(i){return Ps(i).toBase64()})(r.bytesValue):"referenceValue"in r?(function(i){return yt.fromName(i).toString()})(r.referenceValue):"geoPointValue"in r?(function(i){return`geo(${i.latitude},${i.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(i){let a="[",l=!0;for(const c of i.values||[])l?l=!1:a+=",",a+=Tm(c);return a+"]"})(r.arrayValue):"mapValue"in r?(function(i){const a=Object.keys(i.fields||{}).sort();let l="{",c=!0;for(const d of a)c?c=!1:l+=",",l+=`${d}:${Tm(i.fields[d])}`;return l+"}"})(r.mapValue):Et(61005,{value:r})}function eh(r){switch(zs(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=Vh(r);return t?16+eh(t):16;case 5:return 2*r.stringValue.length;case 6:return Ps(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(a){return(a.values||[]).reduce(((l,c)=>l+eh(c)),0)})(r.arrayValue);case 10:case 11:return(function(a){let l=0;return qs(a.fields,((c,d)=>{l+=c.length+eh(d)})),l})(r.mapValue);default:throw Et(13486,{value:r})}}function $0(r,t){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${t.path.canonicalString()}`}}function bm(r){return!!r&&"integerValue"in r}function ig(r){return!!r&&"arrayValue"in r}function J0(r){return!!r&&"nullValue"in r}function Z0(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function nh(r){return!!r&&"mapValue"in r}function _R(r){return(r?.mapValue?.fields||{})[rE]?.stringValue===sE}function Zl(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const t={mapValue:{fields:{}}};return qs(r.mapValue.fields,((i,a)=>t.mapValue.fields[i]=Zl(a))),t}if(r.arrayValue){const t={arrayValue:{values:[]}};for(let i=0;i<(r.arrayValue.values||[]).length;++i)t.arrayValue.values[i]=Zl(r.arrayValue.values[i]);return t}return{...r}}function vR(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===yR}class Bn{constructor(t){this.value=t}static empty(){return new Bn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let i=this.value;for(let a=0;a<t.length-1;++a)if(i=(i.mapValue.fields||{})[t.get(a)],!nh(i))return null;return i=(i.mapValue.fields||{})[t.lastSegment()],i||null}}set(t,i){this.getFieldsMap(t.popLast())[t.lastSegment()]=Zl(i)}setAll(t){let i=hn.emptyPath(),a={},l=[];t.forEach(((d,p)=>{if(!i.isImmediateParentOf(p)){const y=this.getFieldsMap(i);this.applyChanges(y,a,l),a={},l=[],i=p.popLast()}d?a[p.lastSegment()]=Zl(d):l.push(p.lastSegment())}));const c=this.getFieldsMap(i);this.applyChanges(c,a,l)}delete(t){const i=this.field(t.popLast());nh(i)&&i.mapValue.fields&&delete i.mapValue.fields[t.lastSegment()]}isEqual(t){return sr(this.value,t.value)}getFieldsMap(t){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let a=0;a<t.length;++a){let l=i.mapValue.fields[t.get(a)];nh(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},i.mapValue.fields[t.get(a)]=l),i=l}return i.mapValue.fields}applyChanges(t,i,a){qs(i,((l,c)=>t[l]=c));for(const l of a)delete t[l]}clone(){return new Bn(Zl(this.value))}}function aE(r){const t=[];return qs(r.fields,((i,a)=>{const l=new hn([i]);if(nh(a)){const c=aE(a.mapValue).fields;if(c.length===0)t.push(l);else for(const d of c)t.push(l.child(d))}else t.push(l)})),new ti(t)}class bn{constructor(t,i,a,l,c,d,p){this.key=t,this.documentType=i,this.version=a,this.readTime=l,this.createTime=c,this.data=d,this.documentState=p}static newInvalidDocument(t){return new bn(t,0,At.min(),At.min(),At.min(),Bn.empty(),0)}static newFoundDocument(t,i,a,l){return new bn(t,1,i,At.min(),a,l,0)}static newNoDocument(t,i){return new bn(t,2,i,At.min(),At.min(),Bn.empty(),0)}static newUnknownDocument(t,i){return new bn(t,3,i,At.min(),At.min(),Bn.empty(),2)}convertToFoundDocument(t,i){return!this.createTime.isEqual(At.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Bn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Bn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=At.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof bn&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new bn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class _h{constructor(t,i){this.position=t,this.inclusive=i}}function W0(r,t,i){let a=0;for(let l=0;l<r.position.length;l++){const c=t[l],d=r.position[l];if(c.field.isKeyField()?a=yt.comparator(yt.fromName(d.referenceValue),i.key):a=Bo(d,i.data.field(c.field)),c.dir==="desc"&&(a*=-1),a!==0)break}return a}function tv(r,t){if(r===null)return t===null;if(t===null||r.inclusive!==t.inclusive||r.position.length!==t.position.length)return!1;for(let i=0;i<r.position.length;i++)if(!sr(r.position[i],t.position[i]))return!1;return!0}class vh{constructor(t,i="asc"){this.field=t,this.dir=i}}function ER(r,t){return r.dir===t.dir&&r.field.isEqual(t.field)}class oE{}class Fe extends oE{constructor(t,i,a){super(),this.field=t,this.op=i,this.value=a}static create(t,i,a){return t.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(t,i,a):new bR(t,i,a):i==="array-contains"?new wR(t,a):i==="in"?new RR(t,a):i==="not-in"?new IR(t,a):i==="array-contains-any"?new CR(t,a):new Fe(t,i,a)}static createKeyFieldInFilter(t,i,a){return i==="in"?new SR(t,a):new AR(t,a)}matches(t){const i=t.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(Bo(i,this.value)):i!==null&&zs(this.value)===zs(i)&&this.matchesComparison(Bo(i,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return Et(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Vi extends oE{constructor(t,i){super(),this.filters=t,this.op=i,this.Pe=null}static create(t,i){return new Vi(t,i)}matches(t){return lE(this)?this.filters.find((i=>!i.matches(t)))===void 0:this.filters.find((i=>i.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,i)=>t.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function lE(r){return r.op==="and"}function uE(r){return TR(r)&&lE(r)}function TR(r){for(const t of r.filters)if(t instanceof Vi)return!1;return!0}function Sm(r){if(r instanceof Fe)return r.field.canonicalString()+r.op.toString()+qo(r.value);if(uE(r))return r.filters.map((t=>Sm(t))).join(",");{const t=r.filters.map((i=>Sm(i))).join(",");return`${r.op}(${t})`}}function cE(r,t){return r instanceof Fe?(function(a,l){return l instanceof Fe&&a.op===l.op&&a.field.isEqual(l.field)&&sr(a.value,l.value)})(r,t):r instanceof Vi?(function(a,l){return l instanceof Vi&&a.op===l.op&&a.filters.length===l.filters.length?a.filters.reduce(((c,d,p)=>c&&cE(d,l.filters[p])),!0):!1})(r,t):void Et(19439)}function hE(r){return r instanceof Fe?(function(i){return`${i.field.canonicalString()} ${i.op} ${qo(i.value)}`})(r):r instanceof Vi?(function(i){return i.op.toString()+" {"+i.getFilters().map(hE).join(" ,")+"}"})(r):"Filter"}class bR extends Fe{constructor(t,i,a){super(t,i,a),this.key=yt.fromName(a.referenceValue)}matches(t){const i=yt.comparator(t.key,this.key);return this.matchesComparison(i)}}class SR extends Fe{constructor(t,i){super(t,"in",i),this.keys=fE("in",i)}matches(t){return this.keys.some((i=>i.isEqual(t.key)))}}class AR extends Fe{constructor(t,i){super(t,"not-in",i),this.keys=fE("not-in",i)}matches(t){return!this.keys.some((i=>i.isEqual(t.key)))}}function fE(r,t){return(t.arrayValue?.values||[]).map((i=>yt.fromName(i.referenceValue)))}class wR extends Fe{constructor(t,i){super(t,"array-contains",i)}matches(t){const i=t.data.field(this.field);return ig(i)&&ou(i.arrayValue,this.value)}}class RR extends Fe{constructor(t,i){super(t,"in",i)}matches(t){const i=t.data.field(this.field);return i!==null&&ou(this.value.arrayValue,i)}}class IR extends Fe{constructor(t,i){super(t,"not-in",i)}matches(t){if(ou(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=t.data.field(this.field);return i!==null&&i.nullValue===void 0&&!ou(this.value.arrayValue,i)}}class CR extends Fe{constructor(t,i){super(t,"array-contains-any",i)}matches(t){const i=t.data.field(this.field);return!(!ig(i)||!i.arrayValue.values)&&i.arrayValue.values.some((a=>ou(this.value.arrayValue,a)))}}class NR{constructor(t,i=null,a=[],l=[],c=null,d=null,p=null){this.path=t,this.collectionGroup=i,this.orderBy=a,this.filters=l,this.limit=c,this.startAt=d,this.endAt=p,this.Te=null}}function ev(r,t=null,i=[],a=[],l=null,c=null,d=null){return new NR(r,t,i,a,l,c,d)}function rg(r){const t=It(r);if(t.Te===null){let i=t.path.canonicalString();t.collectionGroup!==null&&(i+="|cg:"+t.collectionGroup),i+="|f:",i+=t.filters.map((a=>Sm(a))).join(","),i+="|ob:",i+=t.orderBy.map((a=>(function(c){return c.field.canonicalString()+c.dir})(a))).join(","),Oh(t.limit)||(i+="|l:",i+=t.limit),t.startAt&&(i+="|lb:",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map((a=>qo(a))).join(",")),t.endAt&&(i+="|ub:",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map((a=>qo(a))).join(",")),t.Te=i}return t.Te}function sg(r,t){if(r.limit!==t.limit||r.orderBy.length!==t.orderBy.length)return!1;for(let i=0;i<r.orderBy.length;i++)if(!ER(r.orderBy[i],t.orderBy[i]))return!1;if(r.filters.length!==t.filters.length)return!1;for(let i=0;i<r.filters.length;i++)if(!cE(r.filters[i],t.filters[i]))return!1;return r.collectionGroup===t.collectionGroup&&!!r.path.isEqual(t.path)&&!!tv(r.startAt,t.startAt)&&tv(r.endAt,t.endAt)}function Am(r){return yt.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}class Eu{constructor(t,i=null,a=[],l=[],c=null,d="F",p=null,y=null){this.path=t,this.collectionGroup=i,this.explicitOrderBy=a,this.filters=l,this.limit=c,this.limitType=d,this.startAt=p,this.endAt=y,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function xR(r,t,i,a,l,c,d,p){return new Eu(r,t,i,a,l,c,d,p)}function ag(r){return new Eu(r)}function nv(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function dE(r){return r.collectionGroup!==null}function Wl(r){const t=It(r);if(t.Ie===null){t.Ie=[];const i=new Set;for(const c of t.explicitOrderBy)t.Ie.push(c),i.add(c.field.canonicalString());const a=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(d){let p=new Xe(hn.comparator);return d.filters.forEach((y=>{y.getFlattenedFilters().forEach((_=>{_.isInequality()&&(p=p.add(_.field))}))})),p})(t).forEach((c=>{i.has(c.canonicalString())||c.isKeyField()||t.Ie.push(new vh(c,a))})),i.has(hn.keyField().canonicalString())||t.Ie.push(new vh(hn.keyField(),a))}return t.Ie}function er(r){const t=It(r);return t.Ee||(t.Ee=DR(t,Wl(r))),t.Ee}function DR(r,t){if(r.limitType==="F")return ev(r.path,r.collectionGroup,t,r.filters,r.limit,r.startAt,r.endAt);{t=t.map((l=>{const c=l.dir==="desc"?"asc":"desc";return new vh(l.field,c)}));const i=r.endAt?new _h(r.endAt.position,r.endAt.inclusive):null,a=r.startAt?new _h(r.startAt.position,r.startAt.inclusive):null;return ev(r.path,r.collectionGroup,t,r.filters,r.limit,i,a)}}function wm(r,t){const i=r.filters.concat([t]);return new Eu(r.path,r.collectionGroup,r.explicitOrderBy.slice(),i,r.limit,r.limitType,r.startAt,r.endAt)}function Rm(r,t,i){return new Eu(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),t,i,r.startAt,r.endAt)}function kh(r,t){return sg(er(r),er(t))&&r.limitType===t.limitType}function mE(r){return`${rg(er(r))}|lt:${r.limitType}`}function Co(r){return`Query(target=${(function(i){let a=i.path.canonicalString();return i.collectionGroup!==null&&(a+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(a+=`, filters: [${i.filters.map((l=>hE(l))).join(", ")}]`),Oh(i.limit)||(a+=", limit: "+i.limit),i.orderBy.length>0&&(a+=`, orderBy: [${i.orderBy.map((l=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(l))).join(", ")}]`),i.startAt&&(a+=", startAt: ",a+=i.startAt.inclusive?"b:":"a:",a+=i.startAt.position.map((l=>qo(l))).join(",")),i.endAt&&(a+=", endAt: ",a+=i.endAt.inclusive?"a:":"b:",a+=i.endAt.position.map((l=>qo(l))).join(",")),`Target(${a})`})(er(r))}; limitType=${r.limitType})`}function Uh(r,t){return t.isFoundDocument()&&(function(a,l){const c=l.key.path;return a.collectionGroup!==null?l.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(c):yt.isDocumentKey(a.path)?a.path.isEqual(c):a.path.isImmediateParentOf(c)})(r,t)&&(function(a,l){for(const c of Wl(a))if(!c.field.isKeyField()&&l.data.field(c.field)===null)return!1;return!0})(r,t)&&(function(a,l){for(const c of a.filters)if(!c.matches(l))return!1;return!0})(r,t)&&(function(a,l){return!(a.startAt&&!(function(d,p,y){const _=W0(d,p,y);return d.inclusive?_<=0:_<0})(a.startAt,Wl(a),l)||a.endAt&&!(function(d,p,y){const _=W0(d,p,y);return d.inclusive?_>=0:_>0})(a.endAt,Wl(a),l))})(r,t)}function MR(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function gE(r){return(t,i)=>{let a=!1;for(const l of Wl(r)){const c=OR(l,t,i);if(c!==0)return c;a=a||l.field.isKeyField()}return 0}}function OR(r,t,i){const a=r.field.isKeyField()?yt.comparator(t.key,i.key):(function(c,d,p){const y=d.data.field(c),_=p.data.field(c);return y!==null&&_!==null?Bo(y,_):Et(42886)})(r.field,t,i);switch(r.dir){case"asc":return a;case"desc":return-1*a;default:return Et(19790,{direction:r.dir})}}class za{constructor(t,i){this.mapKeyFn=t,this.equalsFn=i,this.inner={},this.innerSize=0}get(t){const i=this.mapKeyFn(t),a=this.inner[i];if(a!==void 0){for(const[l,c]of a)if(this.equalsFn(l,t))return c}}has(t){return this.get(t)!==void 0}set(t,i){const a=this.mapKeyFn(t),l=this.inner[a];if(l===void 0)return this.inner[a]=[[t,i]],void this.innerSize++;for(let c=0;c<l.length;c++)if(this.equalsFn(l[c][0],t))return void(l[c]=[t,i]);l.push([t,i]),this.innerSize++}delete(t){const i=this.mapKeyFn(t),a=this.inner[i];if(a===void 0)return!1;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],t))return a.length===1?delete this.inner[i]:a.splice(l,1),this.innerSize--,!0;return!1}forEach(t){qs(this.inner,((i,a)=>{for(const[l,c]of a)t(l,c)}))}isEmpty(){return Z1(this.inner)}size(){return this.innerSize}}const VR=new ve(yt.comparator);function jr(){return VR}const pE=new ve(yt.comparator);function Yl(...r){let t=pE;for(const i of r)t=t.insert(i.key,i);return t}function yE(r){let t=pE;return r.forEach(((i,a)=>t=t.insert(i,a.overlayedDocument))),t}function Na(){return tu()}function _E(){return tu()}function tu(){return new za((r=>r.toString()),((r,t)=>r.isEqual(t)))}const kR=new ve(yt.comparator),UR=new Xe(yt.comparator);function qt(...r){let t=UR;for(const i of r)t=t.add(i);return t}const LR=new Xe(Bt);function PR(){return LR}function og(r,t){if(r.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:gh(t)?"-0":t}}function vE(r){return{integerValue:""+r}}function zR(r,t){return fR(t)?vE(t):og(r,t)}class Lh{constructor(){this._=void 0}}function jR(r,t,i){return r instanceof lu?(function(l,c){const d={fields:{[eE]:{stringValue:tE},[iE]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return c&&ng(c)&&(c=Vh(c)),c&&(d.fields[nE]=c),{mapValue:d}})(i,t):r instanceof uu?TE(r,t):r instanceof cu?bE(r,t):(function(l,c){const d=EE(l,c),p=iv(d)+iv(l.Ae);return bm(d)&&bm(l.Ae)?vE(p):og(l.serializer,p)})(r,t)}function BR(r,t,i){return r instanceof uu?TE(r,t):r instanceof cu?bE(r,t):i}function EE(r,t){return r instanceof Eh?(function(a){return bm(a)||(function(c){return!!c&&"doubleValue"in c})(a)})(t)?t:{integerValue:0}:null}class lu extends Lh{}class uu extends Lh{constructor(t){super(),this.elements=t}}function TE(r,t){const i=SE(t);for(const a of r.elements)i.some((l=>sr(l,a)))||i.push(a);return{arrayValue:{values:i}}}class cu extends Lh{constructor(t){super(),this.elements=t}}function bE(r,t){let i=SE(t);for(const a of r.elements)i=i.filter((l=>!sr(l,a)));return{arrayValue:{values:i}}}class Eh extends Lh{constructor(t,i){super(),this.serializer=t,this.Ae=i}}function iv(r){return Ve(r.integerValue||r.doubleValue)}function SE(r){return ig(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}class qR{constructor(t,i){this.field=t,this.transform=i}}function HR(r,t){return r.field.isEqual(t.field)&&(function(a,l){return a instanceof uu&&l instanceof uu||a instanceof cu&&l instanceof cu?jo(a.elements,l.elements,sr):a instanceof Eh&&l instanceof Eh?sr(a.Ae,l.Ae):a instanceof lu&&l instanceof lu})(r.transform,t.transform)}class FR{constructor(t,i){this.version=t,this.transformResults=i}}class Ti{constructor(t,i){this.updateTime=t,this.exists=i}static none(){return new Ti}static exists(t){return new Ti(void 0,t)}static updateTime(t){return new Ti(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function ih(r,t){return r.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(r.updateTime):r.exists===void 0||r.exists===t.isFoundDocument()}class Ph{}function AE(r,t){if(!r.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return r.isNoDocument()?new lg(r.key,Ti.none()):new Tu(r.key,r.data,Ti.none());{const i=r.data,a=Bn.empty();let l=new Xe(hn.comparator);for(let c of t.fields)if(!l.has(c)){let d=i.field(c);d===null&&c.length>1&&(c=c.popLast(),d=i.field(c)),d===null?a.delete(c):a.set(c,d),l=l.add(c)}return new Hs(r.key,a,new ti(l.toArray()),Ti.none())}}function GR(r,t,i){r instanceof Tu?(function(l,c,d){const p=l.value.clone(),y=sv(l.fieldTransforms,c,d.transformResults);p.setAll(y),c.convertToFoundDocument(d.version,p).setHasCommittedMutations()})(r,t,i):r instanceof Hs?(function(l,c,d){if(!ih(l.precondition,c))return void c.convertToUnknownDocument(d.version);const p=sv(l.fieldTransforms,c,d.transformResults),y=c.data;y.setAll(wE(l)),y.setAll(p),c.convertToFoundDocument(d.version,y).setHasCommittedMutations()})(r,t,i):(function(l,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()})(0,t,i)}function eu(r,t,i,a){return r instanceof Tu?(function(c,d,p,y){if(!ih(c.precondition,d))return p;const _=c.value.clone(),b=av(c.fieldTransforms,y,d);return _.setAll(b),d.convertToFoundDocument(d.version,_).setHasLocalMutations(),null})(r,t,i,a):r instanceof Hs?(function(c,d,p,y){if(!ih(c.precondition,d))return p;const _=av(c.fieldTransforms,y,d),b=d.data;return b.setAll(wE(c)),b.setAll(_),d.convertToFoundDocument(d.version,b).setHasLocalMutations(),p===null?null:p.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((S=>S.field)))})(r,t,i,a):(function(c,d,p){return ih(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):p})(r,t,i)}function QR(r,t){let i=null;for(const a of r.fieldTransforms){const l=t.data.field(a.field),c=EE(a.transform,l||null);c!=null&&(i===null&&(i=Bn.empty()),i.set(a.field,c))}return i||null}function rv(r,t){return r.type===t.type&&!!r.key.isEqual(t.key)&&!!r.precondition.isEqual(t.precondition)&&!!(function(a,l){return a===void 0&&l===void 0||!(!a||!l)&&jo(a,l,((c,d)=>HR(c,d)))})(r.fieldTransforms,t.fieldTransforms)&&(r.type===0?r.value.isEqual(t.value):r.type!==1||r.data.isEqual(t.data)&&r.fieldMask.isEqual(t.fieldMask))}class Tu extends Ph{constructor(t,i,a,l=[]){super(),this.key=t,this.value=i,this.precondition=a,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class Hs extends Ph{constructor(t,i,a,l,c=[]){super(),this.key=t,this.data=i,this.fieldMask=a,this.precondition=l,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function wE(r){const t=new Map;return r.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const a=r.data.field(i);t.set(i,a)}})),t}function sv(r,t,i){const a=new Map;ne(r.length===i.length,32656,{Re:i.length,Ve:r.length});for(let l=0;l<i.length;l++){const c=r[l],d=c.transform,p=t.data.field(c.field);a.set(c.field,BR(d,p,i[l]))}return a}function av(r,t,i){const a=new Map;for(const l of r){const c=l.transform,d=i.data.field(l.field);a.set(l.field,jR(c,d,t))}return a}class lg extends Ph{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class YR extends Ph{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class KR{constructor(t,i,a,l){this.batchId=t,this.localWriteTime=i,this.baseMutations=a,this.mutations=l}applyToRemoteDocument(t,i){const a=i.mutationResults;for(let l=0;l<this.mutations.length;l++){const c=this.mutations[l];c.key.isEqual(t.key)&&GR(c,t,a[l])}}applyToLocalView(t,i){for(const a of this.baseMutations)a.key.isEqual(t.key)&&(i=eu(a,t,i,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(t.key)&&(i=eu(a,t,i,this.localWriteTime));return i}applyToLocalDocumentSet(t,i){const a=_E();return this.mutations.forEach((l=>{const c=t.get(l.key),d=c.overlayedDocument;let p=this.applyToLocalView(d,c.mutatedFields);p=i.has(l.key)?null:p;const y=AE(d,p);y!==null&&a.set(l.key,y),d.isValidDocument()||d.convertToNoDocument(At.min())})),a}keys(){return this.mutations.reduce(((t,i)=>t.add(i.key)),qt())}isEqual(t){return this.batchId===t.batchId&&jo(this.mutations,t.mutations,((i,a)=>rv(i,a)))&&jo(this.baseMutations,t.baseMutations,((i,a)=>rv(i,a)))}}class ug{constructor(t,i,a,l){this.batch=t,this.commitVersion=i,this.mutationResults=a,this.docVersions=l}static from(t,i,a){ne(t.mutations.length===a.length,58842,{me:t.mutations.length,fe:a.length});let l=(function(){return kR})();const c=t.mutations;for(let d=0;d<c.length;d++)l=l.insert(c[d].key,a[d].version);return new ug(t,i,a,l)}}class XR{constructor(t,i){this.largestBatchId=t,this.mutation=i}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class $R{constructor(t,i){this.count=t,this.unchangedNames=i}}var He,Kt;function JR(r){switch(r){case Z.OK:return Et(64938);case Z.CANCELLED:case Z.UNKNOWN:case Z.DEADLINE_EXCEEDED:case Z.RESOURCE_EXHAUSTED:case Z.INTERNAL:case Z.UNAVAILABLE:case Z.UNAUTHENTICATED:return!1;case Z.INVALID_ARGUMENT:case Z.NOT_FOUND:case Z.ALREADY_EXISTS:case Z.PERMISSION_DENIED:case Z.FAILED_PRECONDITION:case Z.ABORTED:case Z.OUT_OF_RANGE:case Z.UNIMPLEMENTED:case Z.DATA_LOSS:return!0;default:return Et(15467,{code:r})}}function RE(r){if(r===void 0)return zr("GRPC error has no .code"),Z.UNKNOWN;switch(r){case He.OK:return Z.OK;case He.CANCELLED:return Z.CANCELLED;case He.UNKNOWN:return Z.UNKNOWN;case He.DEADLINE_EXCEEDED:return Z.DEADLINE_EXCEEDED;case He.RESOURCE_EXHAUSTED:return Z.RESOURCE_EXHAUSTED;case He.INTERNAL:return Z.INTERNAL;case He.UNAVAILABLE:return Z.UNAVAILABLE;case He.UNAUTHENTICATED:return Z.UNAUTHENTICATED;case He.INVALID_ARGUMENT:return Z.INVALID_ARGUMENT;case He.NOT_FOUND:return Z.NOT_FOUND;case He.ALREADY_EXISTS:return Z.ALREADY_EXISTS;case He.PERMISSION_DENIED:return Z.PERMISSION_DENIED;case He.FAILED_PRECONDITION:return Z.FAILED_PRECONDITION;case He.ABORTED:return Z.ABORTED;case He.OUT_OF_RANGE:return Z.OUT_OF_RANGE;case He.UNIMPLEMENTED:return Z.UNIMPLEMENTED;case He.DATA_LOSS:return Z.DATA_LOSS;default:return Et(39323,{code:r})}}(Kt=He||(He={}))[Kt.OK=0]="OK",Kt[Kt.CANCELLED=1]="CANCELLED",Kt[Kt.UNKNOWN=2]="UNKNOWN",Kt[Kt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Kt[Kt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Kt[Kt.NOT_FOUND=5]="NOT_FOUND",Kt[Kt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Kt[Kt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Kt[Kt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Kt[Kt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Kt[Kt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Kt[Kt.ABORTED=10]="ABORTED",Kt[Kt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Kt[Kt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Kt[Kt.INTERNAL=13]="INTERNAL",Kt[Kt.UNAVAILABLE=14]="UNAVAILABLE",Kt[Kt.DATA_LOSS=15]="DATA_LOSS";function ZR(){return new TextEncoder}const WR=new Vs([4294967295,4294967295],0);function ov(r){const t=ZR().encode(r),i=new B1;return i.update(t),new Uint8Array(i.digest())}function lv(r){const t=new DataView(r.buffer),i=t.getUint32(0,!0),a=t.getUint32(4,!0),l=t.getUint32(8,!0),c=t.getUint32(12,!0);return[new Vs([i,a],0),new Vs([l,c],0)]}class cg{constructor(t,i,a){if(this.bitmap=t,this.padding=i,this.hashCount=a,i<0||i>=8)throw new Kl(`Invalid padding: ${i}`);if(a<0)throw new Kl(`Invalid hash count: ${a}`);if(t.length>0&&this.hashCount===0)throw new Kl(`Invalid hash count: ${a}`);if(t.length===0&&i!==0)throw new Kl(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*t.length-i,this.pe=Vs.fromNumber(this.ge)}ye(t,i,a){let l=t.add(i.multiply(Vs.fromNumber(a)));return l.compare(WR)===1&&(l=new Vs([l.getBits(0),l.getBits(1)],0)),l.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const i=ov(t),[a,l]=lv(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,l,c);if(!this.we(d))return!1}return!0}static create(t,i,a){const l=t%8==0?0:8-t%8,c=new Uint8Array(Math.ceil(t/8)),d=new cg(c,l,i);return a.forEach((p=>d.insert(p))),d}insert(t){if(this.ge===0)return;const i=ov(t),[a,l]=lv(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,l,c);this.Se(d)}}Se(t){const i=Math.floor(t/8),a=t%8;this.bitmap[i]|=1<<a}}class Kl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class zh{constructor(t,i,a,l,c){this.snapshotVersion=t,this.targetChanges=i,this.targetMismatches=a,this.documentUpdates=l,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(t,i,a){const l=new Map;return l.set(t,bu.createSynthesizedTargetChangeForCurrentChange(t,i,a)),new zh(At.min(),l,new ve(Bt),jr(),qt())}}class bu{constructor(t,i,a,l,c){this.resumeToken=t,this.current=i,this.addedDocuments=a,this.modifiedDocuments=l,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(t,i,a){return new bu(a,i,qt(),qt(),qt())}}class rh{constructor(t,i,a,l){this.be=t,this.removedTargetIds=i,this.key=a,this.De=l}}class IE{constructor(t,i){this.targetId=t,this.Ce=i}}class CE{constructor(t,i,a=dn.EMPTY_BYTE_STRING,l=null){this.state=t,this.targetIds=i,this.resumeToken=a,this.cause=l}}class uv{constructor(){this.ve=0,this.Fe=cv(),this.Me=dn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=qt(),i=qt(),a=qt();return this.Fe.forEach(((l,c)=>{switch(c){case 0:t=t.add(l);break;case 2:i=i.add(l);break;case 1:a=a.add(l);break;default:Et(38017,{changeType:c})}})),new bu(this.Me,this.xe,t,i,a)}qe(){this.Oe=!1,this.Fe=cv()}Qe(t,i){this.Oe=!0,this.Fe=this.Fe.insert(t,i)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,ne(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class tI{constructor(t){this.Ge=t,this.ze=new Map,this.je=jr(),this.Je=Fc(),this.He=Fc(),this.Ye=new ve(Bt)}Ze(t){for(const i of t.be)t.De&&t.De.isFoundDocument()?this.Xe(i,t.De):this.et(i,t.key,t.De);for(const i of t.removedTargetIds)this.et(i,t.key,t.De)}tt(t){this.forEachTarget(t,(i=>{const a=this.nt(i);switch(t.state){case 0:this.rt(i)&&a.Le(t.resumeToken);break;case 1:a.Ke(),a.Ne||a.qe(),a.Le(t.resumeToken);break;case 2:a.Ke(),a.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(a.We(),a.Le(t.resumeToken));break;case 4:this.rt(i)&&(this.it(i),a.Le(t.resumeToken));break;default:Et(56790,{state:t.state})}}))}forEachTarget(t,i){t.targetIds.length>0?t.targetIds.forEach(i):this.ze.forEach(((a,l)=>{this.rt(l)&&i(l)}))}st(t){const i=t.targetId,a=t.Ce.count,l=this.ot(i);if(l){const c=l.target;if(Am(c))if(a===0){const d=new yt(c.path);this.et(i,d,bn.newNoDocument(d,At.min()))}else ne(a===1,20013,{expectedCount:a});else{const d=this._t(i);if(d!==a){const p=this.ut(t),y=p?this.ct(p,t,d):1;if(y!==0){this.it(i);const _=y===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(i,_)}}}}}ut(t){const i=t.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:a="",padding:l=0},hashCount:c=0}=i;let d,p;try{d=Ps(a).toUint8Array()}catch(y){if(y instanceof W1)return zo("Decoding the base64 bloom filter in existence filter failed ("+y.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw y}try{p=new cg(d,l,c)}catch(y){return zo(y instanceof Kl?"BloomFilter error: ":"Applying bloom filter failed: ",y),null}return p.ge===0?null:p}ct(t,i,a){return i.Ce.count===a-this.Pt(t,i.targetId)?0:2}Pt(t,i){const a=this.Ge.getRemoteKeysForTarget(i);let l=0;return a.forEach((c=>{const d=this.Ge.ht(),p=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;t.mightContain(p)||(this.et(i,c,null),l++)})),l}Tt(t){const i=new Map;this.ze.forEach(((c,d)=>{const p=this.ot(d);if(p){if(c.current&&Am(p.target)){const y=new yt(p.target.path);this.It(y).has(d)||this.Et(d,y)||this.et(d,y,bn.newNoDocument(y,t))}c.Be&&(i.set(d,c.ke()),c.qe())}}));let a=qt();this.He.forEach(((c,d)=>{let p=!0;d.forEachWhile((y=>{const _=this.ot(y);return!_||_.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)})),p&&(a=a.add(c))})),this.je.forEach(((c,d)=>d.setReadTime(t)));const l=new zh(t,i,this.Ye,this.je,a);return this.je=jr(),this.Je=Fc(),this.He=Fc(),this.Ye=new ve(Bt),l}Xe(t,i){if(!this.rt(t))return;const a=this.Et(t,i.key)?2:0;this.nt(t).Qe(i.key,a),this.je=this.je.insert(i.key,i),this.Je=this.Je.insert(i.key,this.It(i.key).add(t)),this.He=this.He.insert(i.key,this.dt(i.key).add(t))}et(t,i,a){if(!this.rt(t))return;const l=this.nt(t);this.Et(t,i)?l.Qe(i,1):l.$e(i),this.He=this.He.insert(i,this.dt(i).delete(t)),this.He=this.He.insert(i,this.dt(i).add(t)),a&&(this.je=this.je.insert(i,a))}removeTarget(t){this.ze.delete(t)}_t(t){const i=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+i.addedDocuments.size-i.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let i=this.ze.get(t);return i||(i=new uv,this.ze.set(t,i)),i}dt(t){let i=this.He.get(t);return i||(i=new Xe(Bt),this.He=this.He.insert(t,i)),i}It(t){let i=this.Je.get(t);return i||(i=new Xe(Bt),this.Je=this.Je.insert(t,i)),i}rt(t){const i=this.ot(t)!==null;return i||ct("WatchChangeAggregator","Detected inactive target",t),i}ot(t){const i=this.ze.get(t);return i&&i.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new uv),this.Ge.getRemoteKeysForTarget(t).forEach((i=>{this.et(t,i,null)}))}Et(t,i){return this.Ge.getRemoteKeysForTarget(t).has(i)}}function Fc(){return new ve(yt.comparator)}function cv(){return new ve(yt.comparator)}const eI={asc:"ASCENDING",desc:"DESCENDING"},nI={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},iI={and:"AND",or:"OR"};class rI{constructor(t,i){this.databaseId=t,this.useProto3Json=i}}function Im(r,t){return r.useProto3Json||Oh(t)?t:{value:t}}function Th(r,t){return r.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function NE(r,t){return r.useProto3Json?t.toBase64():t.toUint8Array()}function sI(r,t){return Th(r,t.toTimestamp())}function nr(r){return ne(!!r,49232),At.fromTimestamp((function(i){const a=Ls(i);return new ge(a.seconds,a.nanos)})(r))}function hg(r,t){return Cm(r,t).canonicalString()}function Cm(r,t){const i=(function(l){return new he(["projects",l.projectId,"databases",l.database])})(r).child("documents");return t===void 0?i:i.child(t)}function xE(r){const t=he.fromString(r);return ne(kE(t),10190,{key:t.toString()}),t}function Nm(r,t){return hg(r.databaseId,t.path)}function im(r,t){const i=xE(t);if(i.get(1)!==r.databaseId.projectId)throw new ht(Z.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+r.databaseId.projectId);if(i.get(3)!==r.databaseId.database)throw new ht(Z.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+r.databaseId.database);return new yt(ME(i))}function DE(r,t){return hg(r.databaseId,t)}function aI(r){const t=xE(r);return t.length===4?he.emptyPath():ME(t)}function xm(r){return new he(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function ME(r){return ne(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function hv(r,t,i){return{name:Nm(r,t),fields:i.value.mapValue.fields}}function oI(r,t){let i;if("targetChange"in t){t.targetChange;const a=(function(_){return _==="NO_CHANGE"?0:_==="ADD"?1:_==="REMOVE"?2:_==="CURRENT"?3:_==="RESET"?4:Et(39313,{state:_})})(t.targetChange.targetChangeType||"NO_CHANGE"),l=t.targetChange.targetIds||[],c=(function(_,b){return _.useProto3Json?(ne(b===void 0||typeof b=="string",58123),dn.fromBase64String(b||"")):(ne(b===void 0||b instanceof Buffer||b instanceof Uint8Array,16193),dn.fromUint8Array(b||new Uint8Array))})(r,t.targetChange.resumeToken),d=t.targetChange.cause,p=d&&(function(_){const b=_.code===void 0?Z.UNKNOWN:RE(_.code);return new ht(b,_.message||"")})(d);i=new CE(a,l,c,p||null)}else if("documentChange"in t){t.documentChange;const a=t.documentChange;a.document,a.document.name,a.document.updateTime;const l=im(r,a.document.name),c=nr(a.document.updateTime),d=a.document.createTime?nr(a.document.createTime):At.min(),p=new Bn({mapValue:{fields:a.document.fields}}),y=bn.newFoundDocument(l,c,d,p),_=a.targetIds||[],b=a.removedTargetIds||[];i=new rh(_,b,y.key,y)}else if("documentDelete"in t){t.documentDelete;const a=t.documentDelete;a.document;const l=im(r,a.document),c=a.readTime?nr(a.readTime):At.min(),d=bn.newNoDocument(l,c),p=a.removedTargetIds||[];i=new rh([],p,d.key,d)}else if("documentRemove"in t){t.documentRemove;const a=t.documentRemove;a.document;const l=im(r,a.document),c=a.removedTargetIds||[];i=new rh([],c,l,null)}else{if(!("filter"in t))return Et(11601,{Rt:t});{t.filter;const a=t.filter;a.targetId;const{count:l=0,unchangedNames:c}=a,d=new $R(l,c),p=a.targetId;i=new IE(p,d)}}return i}function lI(r,t){let i;if(t instanceof Tu)i={update:hv(r,t.key,t.value)};else if(t instanceof lg)i={delete:Nm(r,t.key)};else if(t instanceof Hs)i={update:hv(r,t.key,t.data),updateMask:yI(t.fieldMask)};else{if(!(t instanceof YR))return Et(16599,{Vt:t.type});i={verify:Nm(r,t.key)}}return t.fieldTransforms.length>0&&(i.updateTransforms=t.fieldTransforms.map((a=>(function(c,d){const p=d.transform;if(p instanceof lu)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof uu)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof cu)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof Eh)return{fieldPath:d.field.canonicalString(),increment:p.Ae};throw Et(20930,{transform:d.transform})})(0,a)))),t.precondition.isNone||(i.currentDocument=(function(l,c){return c.updateTime!==void 0?{updateTime:sI(l,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:Et(27497)})(r,t.precondition)),i}function uI(r,t){return r&&r.length>0?(ne(t!==void 0,14353),r.map((i=>(function(l,c){let d=l.updateTime?nr(l.updateTime):nr(c);return d.isEqual(At.min())&&(d=nr(c)),new FR(d,l.transformResults||[])})(i,t)))):[]}function cI(r,t){return{documents:[DE(r,t.path)]}}function hI(r,t){const i={structuredQuery:{}},a=t.path;let l;t.collectionGroup!==null?(l=a,i.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(l=a.popLast(),i.structuredQuery.from=[{collectionId:a.lastSegment()}]),i.parent=DE(r,l);const c=(function(_){if(_.length!==0)return VE(Vi.create(_,"and"))})(t.filters);c&&(i.structuredQuery.where=c);const d=(function(_){if(_.length!==0)return _.map((b=>(function(V){return{field:No(V.field),direction:mI(V.dir)}})(b)))})(t.orderBy);d&&(i.structuredQuery.orderBy=d);const p=Im(r,t.limit);return p!==null&&(i.structuredQuery.limit=p),t.startAt&&(i.structuredQuery.startAt=(function(_){return{before:_.inclusive,values:_.position}})(t.startAt)),t.endAt&&(i.structuredQuery.endAt=(function(_){return{before:!_.inclusive,values:_.position}})(t.endAt)),{ft:i,parent:l}}function fI(r){let t=aI(r.parent);const i=r.structuredQuery,a=i.from?i.from.length:0;let l=null;if(a>0){ne(a===1,65062);const b=i.from[0];b.allDescendants?l=b.collectionId:t=t.child(b.collectionId)}let c=[];i.where&&(c=(function(S){const V=OE(S);return V instanceof Vi&&uE(V)?V.getFilters():[V]})(i.where));let d=[];i.orderBy&&(d=(function(S){return S.map((V=>(function(tt){return new vh(xo(tt.field),(function(et){switch(et){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(tt.direction))})(V)))})(i.orderBy));let p=null;i.limit&&(p=(function(S){let V;return V=typeof S=="object"?S.value:S,Oh(V)?null:V})(i.limit));let y=null;i.startAt&&(y=(function(S){const V=!!S.before,K=S.values||[];return new _h(K,V)})(i.startAt));let _=null;return i.endAt&&(_=(function(S){const V=!S.before,K=S.values||[];return new _h(K,V)})(i.endAt)),xR(t,l,d,c,p,"F",y,_)}function dI(r,t){const i=(function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Et(28987,{purpose:l})}})(t.purpose);return i==null?null:{"goog-listen-tags":i}}function OE(r){return r.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const a=xo(i.unaryFilter.field);return Fe.create(a,"==",{doubleValue:NaN});case"IS_NULL":const l=xo(i.unaryFilter.field);return Fe.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=xo(i.unaryFilter.field);return Fe.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=xo(i.unaryFilter.field);return Fe.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Et(61313);default:return Et(60726)}})(r):r.fieldFilter!==void 0?(function(i){return Fe.create(xo(i.fieldFilter.field),(function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Et(58110);default:return Et(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(i){return Vi.create(i.compositeFilter.filters.map((a=>OE(a))),(function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return Et(1026)}})(i.compositeFilter.op))})(r):Et(30097,{filter:r})}function mI(r){return eI[r]}function gI(r){return nI[r]}function pI(r){return iI[r]}function No(r){return{fieldPath:r.canonicalString()}}function xo(r){return hn.fromServerFormat(r.fieldPath)}function VE(r){return r instanceof Fe?(function(i){if(i.op==="=="){if(Z0(i.value))return{unaryFilter:{field:No(i.field),op:"IS_NAN"}};if(J0(i.value))return{unaryFilter:{field:No(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(Z0(i.value))return{unaryFilter:{field:No(i.field),op:"IS_NOT_NAN"}};if(J0(i.value))return{unaryFilter:{field:No(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:No(i.field),op:gI(i.op),value:i.value}}})(r):r instanceof Vi?(function(i){const a=i.getFilters().map((l=>VE(l)));return a.length===1?a[0]:{compositeFilter:{op:pI(i.op),filters:a}}})(r):Et(54877,{filter:r})}function yI(r){const t=[];return r.fields.forEach((i=>t.push(i.canonicalString()))),{fieldPaths:t}}function kE(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}class xs{constructor(t,i,a,l,c=At.min(),d=At.min(),p=dn.EMPTY_BYTE_STRING,y=null){this.target=t,this.targetId=i,this.purpose=a,this.sequenceNumber=l,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=p,this.expectedCount=y}withSequenceNumber(t){return new xs(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,i){return new xs(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new xs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new xs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class _I{constructor(t){this.yt=t}}function vI(r){const t=fI({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?Rm(t,t.limit,"L"):t}class EI{constructor(){this.Cn=new TI}addToCollectionParentIndex(t,i){return this.Cn.add(i),W.resolve()}getCollectionParents(t,i){return W.resolve(this.Cn.getEntries(i))}addFieldIndex(t,i){return W.resolve()}deleteFieldIndex(t,i){return W.resolve()}deleteAllFieldIndexes(t){return W.resolve()}createTargetIndexes(t,i){return W.resolve()}getDocumentsMatchingTarget(t,i){return W.resolve(null)}getIndexType(t,i){return W.resolve(0)}getFieldIndexes(t,i){return W.resolve([])}getNextCollectionGroupToUpdate(t){return W.resolve(null)}getMinOffset(t,i){return W.resolve(Us.min())}getMinOffsetFromCollectionGroup(t,i){return W.resolve(Us.min())}updateCollectionGroup(t,i,a){return W.resolve()}updateIndexEntries(t,i){return W.resolve()}}class TI{constructor(){this.index={}}add(t){const i=t.lastSegment(),a=t.popLast(),l=this.index[i]||new Xe(he.comparator),c=!l.has(a);return this.index[i]=l.add(a),c}has(t){const i=t.lastSegment(),a=t.popLast(),l=this.index[i];return l&&l.has(a)}getEntries(t){return(this.index[t]||new Xe(he.comparator)).toArray()}}const fv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},UE=41943040;class jn{static withCacheSize(t){return new jn(t,jn.DEFAULT_COLLECTION_PERCENTILE,jn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,i,a){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=a}}jn.DEFAULT_COLLECTION_PERCENTILE=10,jn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,jn.DEFAULT=new jn(UE,jn.DEFAULT_COLLECTION_PERCENTILE,jn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),jn.DISABLED=new jn(-1,0,0);class Ho{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new Ho(0)}static cr(){return new Ho(-1)}}const dv="LruGarbageCollector",bI=1048576;function mv([r,t],[i,a]){const l=Bt(r,i);return l===0?Bt(t,a):l}class SI{constructor(t){this.Ir=t,this.buffer=new Xe(mv),this.Er=0}dr(){return++this.Er}Ar(t){const i=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(i);else{const a=this.buffer.last();mv(i,a)<0&&(this.buffer=this.buffer.delete(a).add(i))}}get maxValue(){return this.buffer.last()[0]}}class AI{constructor(t,i,a){this.garbageCollector=t,this.asyncQueue=i,this.localStore=a,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){ct(dv,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){$o(i)?ct(dv,"Ignoring IndexedDB error during garbage collection: ",i):await Xo(i)}await this.Vr(3e5)}))}}class wI{constructor(t,i){this.mr=t,this.params=i}calculateTargetCount(t,i){return this.mr.gr(t).next((a=>Math.floor(i/100*a)))}nthSequenceNumber(t,i){if(i===0)return W.resolve(Mh.ce);const a=new SI(i);return this.mr.forEachTarget(t,(l=>a.Ar(l.sequenceNumber))).next((()=>this.mr.pr(t,(l=>a.Ar(l))))).next((()=>a.maxValue))}removeTargets(t,i,a){return this.mr.removeTargets(t,i,a)}removeOrphanedDocuments(t,i){return this.mr.removeOrphanedDocuments(t,i)}collect(t,i){return this.params.cacheSizeCollectionThreshold===-1?(ct("LruGarbageCollector","Garbage collection skipped; disabled"),W.resolve(fv)):this.getCacheSize(t).next((a=>a<this.params.cacheSizeCollectionThreshold?(ct("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),fv):this.yr(t,i)))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,i){let a,l,c,d,p,y,_;const b=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((S=>(S>this.params.maximumSequenceNumbersToCollect?(ct("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${S}`),l=this.params.maximumSequenceNumbersToCollect):l=S,d=Date.now(),this.nthSequenceNumber(t,l)))).next((S=>(a=S,p=Date.now(),this.removeTargets(t,a,i)))).next((S=>(c=S,y=Date.now(),this.removeOrphanedDocuments(t,a)))).next((S=>(_=Date.now(),Io()<=jt.DEBUG&&ct("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-b}ms
	Determined least recently used ${l} in `+(p-d)+`ms
	Removed ${c} targets in `+(y-p)+`ms
	Removed ${S} documents in `+(_-y)+`ms
Total Duration: ${_-b}ms`),W.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:c,documentsRemoved:S}))))}}function RI(r,t){return new wI(r,t)}class II{constructor(){this.changes=new za((t=>t.toString()),((t,i)=>t.isEqual(i))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,i){this.assertNotApplied(),this.changes.set(t,bn.newInvalidDocument(t).setReadTime(i))}getEntry(t,i){this.assertNotApplied();const a=this.changes.get(i);return a!==void 0?W.resolve(a):this.getFromCache(t,i)}getEntries(t,i){return this.getAllFromCache(t,i)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class CI{constructor(t,i){this.overlayedDocument=t,this.mutatedFields=i}}class NI{constructor(t,i,a,l){this.remoteDocumentCache=t,this.mutationQueue=i,this.documentOverlayCache=a,this.indexManager=l}getDocument(t,i){let a=null;return this.documentOverlayCache.getOverlay(t,i).next((l=>(a=l,this.remoteDocumentCache.getEntry(t,i)))).next((l=>(a!==null&&eu(a.mutation,l,ti.empty(),ge.now()),l)))}getDocuments(t,i){return this.remoteDocumentCache.getEntries(t,i).next((a=>this.getLocalViewOfDocuments(t,a,qt()).next((()=>a))))}getLocalViewOfDocuments(t,i,a=qt()){const l=Na();return this.populateOverlays(t,l,i).next((()=>this.computeViews(t,i,l,a).next((c=>{let d=Yl();return c.forEach(((p,y)=>{d=d.insert(p,y.overlayedDocument)})),d}))))}getOverlayedDocuments(t,i){const a=Na();return this.populateOverlays(t,a,i).next((()=>this.computeViews(t,i,a,qt())))}populateOverlays(t,i,a){const l=[];return a.forEach((c=>{i.has(c)||l.push(c)})),this.documentOverlayCache.getOverlays(t,l).next((c=>{c.forEach(((d,p)=>{i.set(d,p)}))}))}computeViews(t,i,a,l){let c=jr();const d=tu(),p=(function(){return tu()})();return i.forEach(((y,_)=>{const b=a.get(_.key);l.has(_.key)&&(b===void 0||b.mutation instanceof Hs)?c=c.insert(_.key,_):b!==void 0?(d.set(_.key,b.mutation.getFieldMask()),eu(b.mutation,_,b.mutation.getFieldMask(),ge.now())):d.set(_.key,ti.empty())})),this.recalculateAndSaveOverlays(t,c).next((y=>(y.forEach(((_,b)=>d.set(_,b))),i.forEach(((_,b)=>p.set(_,new CI(b,d.get(_)??null)))),p)))}recalculateAndSaveOverlays(t,i){const a=tu();let l=new ve(((d,p)=>d-p)),c=qt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,i).next((d=>{for(const p of d)p.keys().forEach((y=>{const _=i.get(y);if(_===null)return;let b=a.get(y)||ti.empty();b=p.applyToLocalView(_,b),a.set(y,b);const S=(l.get(p.batchId)||qt()).add(y);l=l.insert(p.batchId,S)}))})).next((()=>{const d=[],p=l.getReverseIterator();for(;p.hasNext();){const y=p.getNext(),_=y.key,b=y.value,S=_E();b.forEach((V=>{if(!c.has(V)){const K=AE(i.get(V),a.get(V));K!==null&&S.set(V,K),c=c.add(V)}})),d.push(this.documentOverlayCache.saveOverlays(t,_,S))}return W.waitFor(d)})).next((()=>a))}recalculateAndSaveOverlaysForDocumentKeys(t,i){return this.remoteDocumentCache.getEntries(t,i).next((a=>this.recalculateAndSaveOverlays(t,a)))}getDocumentsMatchingQuery(t,i,a,l){return(function(d){return yt.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0})(i)?this.getDocumentsMatchingDocumentQuery(t,i.path):dE(i)?this.getDocumentsMatchingCollectionGroupQuery(t,i,a,l):this.getDocumentsMatchingCollectionQuery(t,i,a,l)}getNextDocuments(t,i,a,l){return this.remoteDocumentCache.getAllFromCollectionGroup(t,i,a,l).next((c=>{const d=l-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,i,a.largestBatchId,l-c.size):W.resolve(Na());let p=ru,y=c;return d.next((_=>W.forEach(_,((b,S)=>(p<S.largestBatchId&&(p=S.largestBatchId),c.get(b)?W.resolve():this.remoteDocumentCache.getEntry(t,b).next((V=>{y=y.insert(b,V)}))))).next((()=>this.populateOverlays(t,_,c))).next((()=>this.computeViews(t,y,_,qt()))).next((b=>({batchId:p,changes:yE(b)})))))}))}getDocumentsMatchingDocumentQuery(t,i){return this.getDocument(t,new yt(i)).next((a=>{let l=Yl();return a.isFoundDocument()&&(l=l.insert(a.key,a)),l}))}getDocumentsMatchingCollectionGroupQuery(t,i,a,l){const c=i.collectionGroup;let d=Yl();return this.indexManager.getCollectionParents(t,c).next((p=>W.forEach(p,(y=>{const _=(function(S,V){return new Eu(V,null,S.explicitOrderBy.slice(),S.filters.slice(),S.limit,S.limitType,S.startAt,S.endAt)})(i,y.child(c));return this.getDocumentsMatchingCollectionQuery(t,_,a,l).next((b=>{b.forEach(((S,V)=>{d=d.insert(S,V)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(t,i,a,l){let c;return this.documentOverlayCache.getOverlaysForCollection(t,i.path,a.largestBatchId).next((d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(t,i,a,c,l)))).next((d=>{c.forEach(((y,_)=>{const b=_.getKey();d.get(b)===null&&(d=d.insert(b,bn.newInvalidDocument(b)))}));let p=Yl();return d.forEach(((y,_)=>{const b=c.get(y);b!==void 0&&eu(b.mutation,_,ti.empty(),ge.now()),Uh(i,_)&&(p=p.insert(y,_))})),p}))}}class xI{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,i){return W.resolve(this.Lr.get(i))}saveBundleMetadata(t,i){return this.Lr.set(i.id,(function(l){return{id:l.id,version:l.version,createTime:nr(l.createTime)}})(i)),W.resolve()}getNamedQuery(t,i){return W.resolve(this.kr.get(i))}saveNamedQuery(t,i){return this.kr.set(i.name,(function(l){return{name:l.name,query:vI(l.bundledQuery),readTime:nr(l.readTime)}})(i)),W.resolve()}}class DI{constructor(){this.overlays=new ve(yt.comparator),this.qr=new Map}getOverlay(t,i){return W.resolve(this.overlays.get(i))}getOverlays(t,i){const a=Na();return W.forEach(i,(l=>this.getOverlay(t,l).next((c=>{c!==null&&a.set(l,c)})))).next((()=>a))}saveOverlays(t,i,a){return a.forEach(((l,c)=>{this.St(t,i,c)})),W.resolve()}removeOverlaysForBatchId(t,i,a){const l=this.qr.get(a);return l!==void 0&&(l.forEach((c=>this.overlays=this.overlays.remove(c))),this.qr.delete(a)),W.resolve()}getOverlaysForCollection(t,i,a){const l=Na(),c=i.length+1,d=new yt(i.child("")),p=this.overlays.getIteratorFrom(d);for(;p.hasNext();){const y=p.getNext().value,_=y.getKey();if(!i.isPrefixOf(_.path))break;_.path.length===c&&y.largestBatchId>a&&l.set(y.getKey(),y)}return W.resolve(l)}getOverlaysForCollectionGroup(t,i,a,l){let c=new ve(((_,b)=>_-b));const d=this.overlays.getIterator();for(;d.hasNext();){const _=d.getNext().value;if(_.getKey().getCollectionGroup()===i&&_.largestBatchId>a){let b=c.get(_.largestBatchId);b===null&&(b=Na(),c=c.insert(_.largestBatchId,b)),b.set(_.getKey(),_)}}const p=Na(),y=c.getIterator();for(;y.hasNext()&&(y.getNext().value.forEach(((_,b)=>p.set(_,b))),!(p.size()>=l)););return W.resolve(p)}St(t,i,a){const l=this.overlays.get(a.key);if(l!==null){const d=this.qr.get(l.largestBatchId).delete(a.key);this.qr.set(l.largestBatchId,d)}this.overlays=this.overlays.insert(a.key,new XR(i,a));let c=this.qr.get(i);c===void 0&&(c=qt(),this.qr.set(i,c)),this.qr.set(i,c.add(a.key))}}class MI{constructor(){this.sessionToken=dn.EMPTY_BYTE_STRING}getSessionToken(t){return W.resolve(this.sessionToken)}setSessionToken(t,i){return this.sessionToken=i,W.resolve()}}class fg{constructor(){this.Qr=new Xe(Ze.$r),this.Ur=new Xe(Ze.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,i){const a=new Ze(t,i);this.Qr=this.Qr.add(a),this.Ur=this.Ur.add(a)}Wr(t,i){t.forEach((a=>this.addReference(a,i)))}removeReference(t,i){this.Gr(new Ze(t,i))}zr(t,i){t.forEach((a=>this.removeReference(a,i)))}jr(t){const i=new yt(new he([])),a=new Ze(i,t),l=new Ze(i,t+1),c=[];return this.Ur.forEachInRange([a,l],(d=>{this.Gr(d),c.push(d.key)})),c}Jr(){this.Qr.forEach((t=>this.Gr(t)))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const i=new yt(new he([])),a=new Ze(i,t),l=new Ze(i,t+1);let c=qt();return this.Ur.forEachInRange([a,l],(d=>{c=c.add(d.key)})),c}containsKey(t){const i=new Ze(t,0),a=this.Qr.firstAfterOrEqual(i);return a!==null&&t.isEqual(a.key)}}class Ze{constructor(t,i){this.key=t,this.Yr=i}static $r(t,i){return yt.comparator(t.key,i.key)||Bt(t.Yr,i.Yr)}static Kr(t,i){return Bt(t.Yr,i.Yr)||yt.comparator(t.key,i.key)}}class OI{constructor(t,i){this.indexManager=t,this.referenceDelegate=i,this.mutationQueue=[],this.tr=1,this.Zr=new Xe(Ze.$r)}checkEmpty(t){return W.resolve(this.mutationQueue.length===0)}addMutationBatch(t,i,a,l){const c=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new KR(c,i,a,l);this.mutationQueue.push(d);for(const p of l)this.Zr=this.Zr.add(new Ze(p.key,c)),this.indexManager.addToCollectionParentIndex(t,p.key.path.popLast());return W.resolve(d)}lookupMutationBatch(t,i){return W.resolve(this.Xr(i))}getNextMutationBatchAfterBatchId(t,i){const a=i+1,l=this.ei(a),c=l<0?0:l;return W.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return W.resolve(this.mutationQueue.length===0?eg:this.tr-1)}getAllMutationBatches(t){return W.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,i){const a=new Ze(i,0),l=new Ze(i,Number.POSITIVE_INFINITY),c=[];return this.Zr.forEachInRange([a,l],(d=>{const p=this.Xr(d.Yr);c.push(p)})),W.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(t,i){let a=new Xe(Bt);return i.forEach((l=>{const c=new Ze(l,0),d=new Ze(l,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([c,d],(p=>{a=a.add(p.Yr)}))})),W.resolve(this.ti(a))}getAllMutationBatchesAffectingQuery(t,i){const a=i.path,l=a.length+1;let c=a;yt.isDocumentKey(c)||(c=c.child(""));const d=new Ze(new yt(c),0);let p=new Xe(Bt);return this.Zr.forEachWhile((y=>{const _=y.key.path;return!!a.isPrefixOf(_)&&(_.length===l&&(p=p.add(y.Yr)),!0)}),d),W.resolve(this.ti(p))}ti(t){const i=[];return t.forEach((a=>{const l=this.Xr(a);l!==null&&i.push(l)})),i}removeMutationBatch(t,i){ne(this.ni(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let a=this.Zr;return W.forEach(i.mutations,(l=>{const c=new Ze(l.key,i.batchId);return a=a.delete(c),this.referenceDelegate.markPotentiallyOrphaned(t,l.key)})).next((()=>{this.Zr=a}))}ir(t){}containsKey(t,i){const a=new Ze(i,0),l=this.Zr.firstAfterOrEqual(a);return W.resolve(i.isEqual(l&&l.key))}performConsistencyCheck(t){return this.mutationQueue.length,W.resolve()}ni(t,i){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const i=this.ei(t);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class VI{constructor(t){this.ri=t,this.docs=(function(){return new ve(yt.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,i){const a=i.key,l=this.docs.get(a),c=l?l.size:0,d=this.ri(i);return this.docs=this.docs.insert(a,{document:i.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(t,a.path.popLast())}removeEntry(t){const i=this.docs.get(t);i&&(this.docs=this.docs.remove(t),this.size-=i.size)}getEntry(t,i){const a=this.docs.get(i);return W.resolve(a?a.document.mutableCopy():bn.newInvalidDocument(i))}getEntries(t,i){let a=jr();return i.forEach((l=>{const c=this.docs.get(l);a=a.insert(l,c?c.document.mutableCopy():bn.newInvalidDocument(l))})),W.resolve(a)}getDocumentsMatchingQuery(t,i,a,l){let c=jr();const d=i.path,p=new yt(d.child("__id-9223372036854775808__")),y=this.docs.getIteratorFrom(p);for(;y.hasNext();){const{key:_,value:{document:b}}=y.getNext();if(!d.isPrefixOf(_.path))break;_.path.length>d.length+1||lR(oR(b),a)<=0||(l.has(b.key)||Uh(i,b))&&(c=c.insert(b.key,b.mutableCopy()))}return W.resolve(c)}getAllFromCollectionGroup(t,i,a,l){Et(9500)}ii(t,i){return W.forEach(this.docs,(a=>i(a)))}newChangeBuffer(t){return new kI(this)}getSize(t){return W.resolve(this.size)}}class kI extends II{constructor(t){super(),this.Nr=t}applyChanges(t){const i=[];return this.changes.forEach(((a,l)=>{l.isValidDocument()?i.push(this.Nr.addEntry(t,l)):this.Nr.removeEntry(a)})),W.waitFor(i)}getFromCache(t,i){return this.Nr.getEntry(t,i)}getAllFromCache(t,i){return this.Nr.getEntries(t,i)}}class UI{constructor(t){this.persistence=t,this.si=new za((i=>rg(i)),sg),this.lastRemoteSnapshotVersion=At.min(),this.highestTargetId=0,this.oi=0,this._i=new fg,this.targetCount=0,this.ai=Ho.ur()}forEachTarget(t,i){return this.si.forEach(((a,l)=>i(l))),W.resolve()}getLastRemoteSnapshotVersion(t){return W.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return W.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),W.resolve(this.highestTargetId)}setTargetsMetadata(t,i,a){return a&&(this.lastRemoteSnapshotVersion=a),i>this.oi&&(this.oi=i),W.resolve()}Pr(t){this.si.set(t.target,t);const i=t.targetId;i>this.highestTargetId&&(this.ai=new Ho(i),this.highestTargetId=i),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,i){return this.Pr(i),this.targetCount+=1,W.resolve()}updateTargetData(t,i){return this.Pr(i),W.resolve()}removeTargetData(t,i){return this.si.delete(i.target),this._i.jr(i.targetId),this.targetCount-=1,W.resolve()}removeTargets(t,i,a){let l=0;const c=[];return this.si.forEach(((d,p)=>{p.sequenceNumber<=i&&a.get(p.targetId)===null&&(this.si.delete(d),c.push(this.removeMatchingKeysForTargetId(t,p.targetId)),l++)})),W.waitFor(c).next((()=>l))}getTargetCount(t){return W.resolve(this.targetCount)}getTargetData(t,i){const a=this.si.get(i)||null;return W.resolve(a)}addMatchingKeys(t,i,a){return this._i.Wr(i,a),W.resolve()}removeMatchingKeys(t,i,a){this._i.zr(i,a);const l=this.persistence.referenceDelegate,c=[];return l&&i.forEach((d=>{c.push(l.markPotentiallyOrphaned(t,d))})),W.waitFor(c)}removeMatchingKeysForTargetId(t,i){return this._i.jr(i),W.resolve()}getMatchingKeysForTargetId(t,i){const a=this._i.Hr(i);return W.resolve(a)}containsKey(t,i){return W.resolve(this._i.containsKey(i))}}class LE{constructor(t,i){this.ui={},this.overlays={},this.ci=new Mh(0),this.li=!1,this.li=!0,this.hi=new MI,this.referenceDelegate=t(this),this.Pi=new UI(this),this.indexManager=new EI,this.remoteDocumentCache=(function(l){return new VI(l)})((a=>this.referenceDelegate.Ti(a))),this.serializer=new _I(i),this.Ii=new xI(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let i=this.overlays[t.toKey()];return i||(i=new DI,this.overlays[t.toKey()]=i),i}getMutationQueue(t,i){let a=this.ui[t.toKey()];return a||(a=new OI(i,this.referenceDelegate),this.ui[t.toKey()]=a),a}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,i,a){ct("MemoryPersistence","Starting transaction:",t);const l=new LI(this.ci.next());return this.referenceDelegate.Ei(),a(l).next((c=>this.referenceDelegate.di(l).next((()=>c)))).toPromise().then((c=>(l.raiseOnCommittedEvent(),c)))}Ai(t,i){return W.or(Object.values(this.ui).map((a=>()=>a.containsKey(t,i))))}}class LI extends cR{constructor(t){super(),this.currentSequenceNumber=t}}class dg{constructor(t){this.persistence=t,this.Ri=new fg,this.Vi=null}static mi(t){return new dg(t)}get fi(){if(this.Vi)return this.Vi;throw Et(60996)}addReference(t,i,a){return this.Ri.addReference(a,i),this.fi.delete(a.toString()),W.resolve()}removeReference(t,i,a){return this.Ri.removeReference(a,i),this.fi.add(a.toString()),W.resolve()}markPotentiallyOrphaned(t,i){return this.fi.add(i.toString()),W.resolve()}removeTarget(t,i){this.Ri.jr(i.targetId).forEach((l=>this.fi.add(l.toString())));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(t,i.targetId).next((l=>{l.forEach((c=>this.fi.add(c.toString())))})).next((()=>a.removeTargetData(t,i)))}Ei(){this.Vi=new Set}di(t){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return W.forEach(this.fi,(a=>{const l=yt.fromPath(a);return this.gi(t,l).next((c=>{c||i.removeEntry(l,At.min())}))})).next((()=>(this.Vi=null,i.apply(t))))}updateLimboDocument(t,i){return this.gi(t,i).next((a=>{a?this.fi.delete(i.toString()):this.fi.add(i.toString())}))}Ti(t){return 0}gi(t,i){return W.or([()=>W.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(t,i),()=>this.persistence.Ai(t,i)])}}class bh{constructor(t,i){this.persistence=t,this.pi=new za((a=>dR(a.path)),((a,l)=>a.isEqual(l))),this.garbageCollector=RI(this,i)}static mi(t,i){return new bh(t,i)}Ei(){}di(t){return W.resolve()}forEachTarget(t,i){return this.persistence.getTargetCache().forEachTarget(t,i)}gr(t){const i=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next((a=>i.next((l=>a+l))))}wr(t){let i=0;return this.pr(t,(a=>{i++})).next((()=>i))}pr(t,i){return W.forEach(this.pi,((a,l)=>this.br(t,a,l).next((c=>c?W.resolve():i(l)))))}removeTargets(t,i,a){return this.persistence.getTargetCache().removeTargets(t,i,a)}removeOrphanedDocuments(t,i){let a=0;const l=this.persistence.getRemoteDocumentCache(),c=l.newChangeBuffer();return l.ii(t,(d=>this.br(t,d,i).next((p=>{p||(a++,c.removeEntry(d,At.min()))})))).next((()=>c.apply(t))).next((()=>a))}markPotentiallyOrphaned(t,i){return this.pi.set(i,t.currentSequenceNumber),W.resolve()}removeTarget(t,i){const a=i.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,a)}addReference(t,i,a){return this.pi.set(a,t.currentSequenceNumber),W.resolve()}removeReference(t,i,a){return this.pi.set(a,t.currentSequenceNumber),W.resolve()}updateLimboDocument(t,i){return this.pi.set(i,t.currentSequenceNumber),W.resolve()}Ti(t){let i=t.key.toString().length;return t.isFoundDocument()&&(i+=eh(t.data.value)),i}br(t,i,a){return W.or([()=>this.persistence.Ai(t,i),()=>this.persistence.getTargetCache().containsKey(t,i),()=>{const l=this.pi.get(i);return W.resolve(l!==void 0&&l>a)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}class mg{constructor(t,i,a,l){this.targetId=t,this.fromCache=i,this.Es=a,this.ds=l}static As(t,i){let a=qt(),l=qt();for(const c of i.docChanges)switch(c.type){case 0:a=a.add(c.doc.key);break;case 1:l=l.add(c.doc.key)}return new mg(t,i.fromCache,a,l)}}class PI{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class zI{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return IS()?8:hR(Sn())>0?6:4})()}initialize(t,i){this.ps=t,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(t,i,a,l){const c={result:null};return this.ys(t,i).next((d=>{c.result=d})).next((()=>{if(!c.result)return this.ws(t,i,l,a).next((d=>{c.result=d}))})).next((()=>{if(c.result)return;const d=new PI;return this.Ss(t,i,d).next((p=>{if(c.result=p,this.Vs)return this.bs(t,i,d,p.size)}))})).next((()=>c.result))}bs(t,i,a,l){return a.documentReadCount<this.fs?(Io()<=jt.DEBUG&&ct("QueryEngine","SDK will not create cache indexes for query:",Co(i),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),W.resolve()):(Io()<=jt.DEBUG&&ct("QueryEngine","Query:",Co(i),"scans",a.documentReadCount,"local documents and returns",l,"documents as results."),a.documentReadCount>this.gs*l?(Io()<=jt.DEBUG&&ct("QueryEngine","The SDK decides to create cache indexes for query:",Co(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,er(i))):W.resolve())}ys(t,i){if(nv(i))return W.resolve(null);let a=er(i);return this.indexManager.getIndexType(t,a).next((l=>l===0?null:(i.limit!==null&&l===1&&(i=Rm(i,null,"F"),a=er(i)),this.indexManager.getDocumentsMatchingTarget(t,a).next((c=>{const d=qt(...c);return this.ps.getDocuments(t,d).next((p=>this.indexManager.getMinOffset(t,a).next((y=>{const _=this.Ds(i,p);return this.Cs(i,_,d,y.readTime)?this.ys(t,Rm(i,null,"F")):this.vs(t,_,i,y)}))))})))))}ws(t,i,a,l){return nv(i)||l.isEqual(At.min())?W.resolve(null):this.ps.getDocuments(t,a).next((c=>{const d=this.Ds(i,c);return this.Cs(i,d,a,l)?W.resolve(null):(Io()<=jt.DEBUG&&ct("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),Co(i)),this.vs(t,d,i,aR(l,ru)).next((p=>p)))}))}Ds(t,i){let a=new Xe(gE(t));return i.forEach(((l,c)=>{Uh(t,c)&&(a=a.add(c))})),a}Cs(t,i,a,l){if(t.limit===null)return!1;if(a.size!==i.size)return!0;const c=t.limitType==="F"?i.last():i.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(l)>0)}Ss(t,i,a){return Io()<=jt.DEBUG&&ct("QueryEngine","Using full collection scan to execute query:",Co(i)),this.ps.getDocumentsMatchingQuery(t,i,Us.min(),a)}vs(t,i,a,l){return this.ps.getDocumentsMatchingQuery(t,a,l).next((c=>(i.forEach((d=>{c=c.insert(d.key,d)})),c)))}}const gg="LocalStore",jI=3e8;class BI{constructor(t,i,a,l){this.persistence=t,this.Fs=i,this.serializer=l,this.Ms=new ve(Bt),this.xs=new za((c=>rg(c)),sg),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(a)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new NI(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>t.collect(i,this.Ms)))}}function qI(r,t,i,a){return new BI(r,t,i,a)}async function PE(r,t){const i=It(r);return await i.persistence.runTransaction("Handle user change","readonly",(a=>{let l;return i.mutationQueue.getAllMutationBatches(a).next((c=>(l=c,i.Bs(t),i.mutationQueue.getAllMutationBatches(a)))).next((c=>{const d=[],p=[];let y=qt();for(const _ of l){d.push(_.batchId);for(const b of _.mutations)y=y.add(b.key)}for(const _ of c){p.push(_.batchId);for(const b of _.mutations)y=y.add(b.key)}return i.localDocuments.getDocuments(a,y).next((_=>({Ls:_,removedBatchIds:d,addedBatchIds:p})))}))}))}function HI(r,t){const i=It(r);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(a=>{const l=t.batch.keys(),c=i.Ns.newChangeBuffer({trackRemovals:!0});return(function(p,y,_,b){const S=_.batch,V=S.keys();let K=W.resolve();return V.forEach((tt=>{K=K.next((()=>b.getEntry(y,tt))).next((nt=>{const et=_.docVersions.get(tt);ne(et!==null,48541),nt.version.compareTo(et)<0&&(S.applyToRemoteDocument(nt,_),nt.isValidDocument()&&(nt.setReadTime(_.commitVersion),b.addEntry(nt)))}))})),K.next((()=>p.mutationQueue.removeMutationBatch(y,S)))})(i,a,t,c).next((()=>c.apply(a))).next((()=>i.mutationQueue.performConsistencyCheck(a))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(a,l,t.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,(function(p){let y=qt();for(let _=0;_<p.mutationResults.length;++_)p.mutationResults[_].transformResults.length>0&&(y=y.add(p.batch.mutations[_].key));return y})(t)))).next((()=>i.localDocuments.getDocuments(a,l)))}))}function zE(r){const t=It(r);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>t.Pi.getLastRemoteSnapshotVersion(i)))}function FI(r,t){const i=It(r),a=t.snapshotVersion;let l=i.Ms;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const d=i.Ns.newChangeBuffer({trackRemovals:!0});l=i.Ms;const p=[];t.targetChanges.forEach(((b,S)=>{const V=l.get(S);if(!V)return;p.push(i.Pi.removeMatchingKeys(c,b.removedDocuments,S).next((()=>i.Pi.addMatchingKeys(c,b.addedDocuments,S))));let K=V.withSequenceNumber(c.currentSequenceNumber);t.targetMismatches.get(S)!==null?K=K.withResumeToken(dn.EMPTY_BYTE_STRING,At.min()).withLastLimboFreeSnapshotVersion(At.min()):b.resumeToken.approximateByteSize()>0&&(K=K.withResumeToken(b.resumeToken,a)),l=l.insert(S,K),(function(nt,et,dt){return nt.resumeToken.approximateByteSize()===0||et.snapshotVersion.toMicroseconds()-nt.snapshotVersion.toMicroseconds()>=jI?!0:dt.addedDocuments.size+dt.modifiedDocuments.size+dt.removedDocuments.size>0})(V,K,b)&&p.push(i.Pi.updateTargetData(c,K))}));let y=jr(),_=qt();if(t.documentUpdates.forEach((b=>{t.resolvedLimboDocuments.has(b)&&p.push(i.persistence.referenceDelegate.updateLimboDocument(c,b))})),p.push(GI(c,d,t.documentUpdates).next((b=>{y=b.ks,_=b.qs}))),!a.isEqual(At.min())){const b=i.Pi.getLastRemoteSnapshotVersion(c).next((S=>i.Pi.setTargetsMetadata(c,c.currentSequenceNumber,a)));p.push(b)}return W.waitFor(p).next((()=>d.apply(c))).next((()=>i.localDocuments.getLocalViewOfDocuments(c,y,_))).next((()=>y))})).then((c=>(i.Ms=l,c)))}function GI(r,t,i){let a=qt(),l=qt();return i.forEach((c=>a=a.add(c))),t.getEntries(r,a).next((c=>{let d=jr();return i.forEach(((p,y)=>{const _=c.get(p);y.isFoundDocument()!==_.isFoundDocument()&&(l=l.add(p)),y.isNoDocument()&&y.version.isEqual(At.min())?(t.removeEntry(p,y.readTime),d=d.insert(p,y)):!_.isValidDocument()||y.version.compareTo(_.version)>0||y.version.compareTo(_.version)===0&&_.hasPendingWrites?(t.addEntry(y),d=d.insert(p,y)):ct(gg,"Ignoring outdated watch update for ",p,". Current version:",_.version," Watch version:",y.version)})),{ks:d,qs:l}}))}function QI(r,t){const i=It(r);return i.persistence.runTransaction("Get next mutation batch","readonly",(a=>(t===void 0&&(t=eg),i.mutationQueue.getNextMutationBatchAfterBatchId(a,t))))}function YI(r,t){const i=It(r);return i.persistence.runTransaction("Allocate target","readwrite",(a=>{let l;return i.Pi.getTargetData(a,t).next((c=>c?(l=c,W.resolve(l)):i.Pi.allocateTargetId(a).next((d=>(l=new xs(t,d,"TargetPurposeListen",a.currentSequenceNumber),i.Pi.addTargetData(a,l).next((()=>l)))))))})).then((a=>{const l=i.Ms.get(a.targetId);return(l===null||a.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(i.Ms=i.Ms.insert(a.targetId,a),i.xs.set(t,a.targetId)),a}))}async function Dm(r,t,i){const a=It(r),l=a.Ms.get(t),c=i?"readwrite":"readwrite-primary";try{i||await a.persistence.runTransaction("Release target",c,(d=>a.persistence.referenceDelegate.removeTarget(d,l)))}catch(d){if(!$o(d))throw d;ct(gg,`Failed to update sequence numbers for target ${t}: ${d}`)}a.Ms=a.Ms.remove(t),a.xs.delete(l.target)}function gv(r,t,i){const a=It(r);let l=At.min(),c=qt();return a.persistence.runTransaction("Execute query","readwrite",(d=>(function(y,_,b){const S=It(y),V=S.xs.get(b);return V!==void 0?W.resolve(S.Ms.get(V)):S.Pi.getTargetData(_,b)})(a,d,er(t)).next((p=>{if(p)return l=p.lastLimboFreeSnapshotVersion,a.Pi.getMatchingKeysForTargetId(d,p.targetId).next((y=>{c=y}))})).next((()=>a.Fs.getDocumentsMatchingQuery(d,t,i?l:At.min(),i?c:qt()))).next((p=>(KI(a,MR(t),p),{documents:p,Qs:c})))))}function KI(r,t,i){let a=r.Os.get(t)||At.min();i.forEach(((l,c)=>{c.readTime.compareTo(a)>0&&(a=c.readTime)})),r.Os.set(t,a)}class pv{constructor(){this.activeTargetIds=PR()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class XI{constructor(){this.Mo=new pv,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,i,a){}addLocalQueryTarget(t,i=!0){return i&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,i,a){this.xo[t]=i}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new pv,Promise.resolve()}handleUserChange(t,i,a){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class $I{Oo(t){}shutdown(){}}const yv="ConnectivityMonitor";class _v{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ct(yv,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){ct(yv,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Gc=null;function Mm(){return Gc===null?Gc=(function(){return 268435456+Math.round(2147483648*Math.random())})():Gc++,"0x"+Gc.toString(16)}const rm="RestConnection",JI={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class ZI{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const i=t.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.Uo=i+"://"+t.host,this.Ko=`projects/${a}/databases/${l}`,this.Wo=this.databaseId.database===ph?`project_id=${a}`:`project_id=${a}&database_id=${l}`}Go(t,i,a,l,c){const d=Mm(),p=this.zo(t,i.toUriEncodedString());ct(rm,`Sending RPC '${t}' ${d}:`,p,a);const y={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(y,l,c);const{host:_}=new URL(p),b=Go(_);return this.Jo(t,p,y,a,b).then((S=>(ct(rm,`Received RPC '${t}' ${d}: `,S),S)),(S=>{throw zo(rm,`RPC '${t}' ${d} failed with error: `,S,"url: ",p,"request:",a),S}))}Ho(t,i,a,l,c,d){return this.Go(t,i,a,l,c)}jo(t,i,a){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Ko})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((l,c)=>t[c]=l)),a&&a.headers.forEach(((l,c)=>t[c]=l))}zo(t,i){const a=JI[t];return`${this.Uo}/v1/${i}:${a}`}terminate(){}}class WI{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}const En="WebChannelConnection";class tC extends ZI{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,i,a,l,c){const d=Mm();return new Promise(((p,y)=>{const _=new q1;_.setWithCredentials(!0),_.listenOnce(H1.COMPLETE,(()=>{try{switch(_.getLastErrorCode()){case th.NO_ERROR:const S=_.getResponseJson();ct(En,`XHR for RPC '${t}' ${d} received:`,JSON.stringify(S)),p(S);break;case th.TIMEOUT:ct(En,`RPC '${t}' ${d} timed out`),y(new ht(Z.DEADLINE_EXCEEDED,"Request time out"));break;case th.HTTP_ERROR:const V=_.getStatus();if(ct(En,`RPC '${t}' ${d} failed with status:`,V,"response text:",_.getResponseText()),V>0){let K=_.getResponseJson();Array.isArray(K)&&(K=K[0]);const tt=K?.error;if(tt&&tt.status&&tt.message){const nt=(function(dt){const wt=dt.toLowerCase().replace(/_/g,"-");return Object.values(Z).indexOf(wt)>=0?wt:Z.UNKNOWN})(tt.status);y(new ht(nt,tt.message))}else y(new ht(Z.UNKNOWN,"Server responded with status "+_.getStatus()))}else y(new ht(Z.UNAVAILABLE,"Connection failed."));break;default:Et(9055,{l_:t,streamId:d,h_:_.getLastErrorCode(),P_:_.getLastError()})}}finally{ct(En,`RPC '${t}' ${d} completed.`)}}));const b=JSON.stringify(l);ct(En,`RPC '${t}' ${d} sending request:`,l),_.send(i,"POST",b,a,15)}))}T_(t,i,a){const l=Mm(),c=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],d=Q1(),p=G1(),y={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},_=this.longPollingOptions.timeoutSeconds;_!==void 0&&(y.longPollingTimeout=Math.round(1e3*_)),this.useFetchStreams&&(y.useFetchStreams=!0),this.jo(y.initMessageHeaders,i,a),y.encodeInitMessageHeaders=!0;const b=c.join("");ct(En,`Creating RPC '${t}' stream ${l}: ${b}`,y);const S=d.createWebChannel(b,y);this.I_(S);let V=!1,K=!1;const tt=new WI({Yo:et=>{K?ct(En,`Not sending because RPC '${t}' stream ${l} is closed:`,et):(V||(ct(En,`Opening RPC '${t}' stream ${l} transport.`),S.open(),V=!0),ct(En,`RPC '${t}' stream ${l} sending:`,et),S.send(et))},Zo:()=>S.close()}),nt=(et,dt,wt)=>{et.listen(dt,(_t=>{try{wt(_t)}catch(Ot){setTimeout((()=>{throw Ot}),0)}}))};return nt(S,Ql.EventType.OPEN,(()=>{K||(ct(En,`RPC '${t}' stream ${l} transport opened.`),tt.o_())})),nt(S,Ql.EventType.CLOSE,(()=>{K||(K=!0,ct(En,`RPC '${t}' stream ${l} transport closed`),tt.a_(),this.E_(S))})),nt(S,Ql.EventType.ERROR,(et=>{K||(K=!0,zo(En,`RPC '${t}' stream ${l} transport errored. Name:`,et.name,"Message:",et.message),tt.a_(new ht(Z.UNAVAILABLE,"The operation could not be completed")))})),nt(S,Ql.EventType.MESSAGE,(et=>{if(!K){const dt=et.data[0];ne(!!dt,16349);const wt=dt,_t=wt?.error||wt[0]?.error;if(_t){ct(En,`RPC '${t}' stream ${l} received error:`,_t);const Ot=_t.status;let Jt=(function(w){const C=He[w];if(C!==void 0)return RE(C)})(Ot),Mt=_t.message;Jt===void 0&&(Jt=Z.INTERNAL,Mt="Unknown error status: "+Ot+" with message "+_t.message),K=!0,tt.a_(new ht(Jt,Mt)),S.close()}else ct(En,`RPC '${t}' stream ${l} received:`,dt),tt.u_(dt)}})),nt(p,F1.STAT_EVENT,(et=>{et.stat===vm.PROXY?ct(En,`RPC '${t}' stream ${l} detected buffering proxy`):et.stat===vm.NOPROXY&&ct(En,`RPC '${t}' stream ${l} detected no buffering proxy`)})),setTimeout((()=>{tt.__()}),0),tt}terminate(){this.c_.forEach((t=>t.close())),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter((i=>i===t))}}function sm(){return typeof document<"u"?document:null}function jh(r){return new rI(r,!0)}class jE{constructor(t,i,a=1e3,l=1.5,c=6e4){this.Mi=t,this.timerId=i,this.d_=a,this.A_=l,this.R_=c,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const i=Math.floor(this.V_+this.y_()),a=Math.max(0,Date.now()-this.f_),l=Math.max(0,i-a);l>0&&ct("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.V_} ms, delay with jitter: ${i} ms, last attempt: ${a} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,l,(()=>(this.f_=Date.now(),t()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const vv="PersistentStream";class BE{constructor(t,i,a,l,c,d,p,y){this.Mi=t,this.S_=a,this.b_=l,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=p,this.listener=y,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new jE(t,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,i){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():i&&i.code===Z.RESOURCE_EXHAUSTED?(zr(i.toString()),zr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===Z.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(i)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([a,l])=>{this.D_===i&&this.G_(a,l)}),(a=>{t((()=>{const l=new ht(Z.UNKNOWN,"Fetching auth token failed: "+a.message);return this.z_(l)}))}))}G_(t,i){const a=this.W_(this.D_);this.stream=this.j_(t,i),this.stream.Xo((()=>{a((()=>this.listener.Xo()))})),this.stream.t_((()=>{a((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((l=>{a((()=>this.z_(l)))})),this.stream.onMessage((l=>{a((()=>++this.F_==1?this.J_(l):this.onNext(l)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return ct(vv,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return i=>{this.Mi.enqueueAndForget((()=>this.D_===t?i():(ct(vv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class eC extends BE{constructor(t,i,a,l,c,d){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,a,l,d),this.serializer=c}j_(t,i){return this.connection.T_("Listen",t,i)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const i=oI(this.serializer,t),a=(function(c){if(!("targetChange"in c))return At.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?At.min():d.readTime?nr(d.readTime):At.min()})(t);return this.listener.H_(i,a)}Y_(t){const i={};i.database=xm(this.serializer),i.addTarget=(function(c,d){let p;const y=d.target;if(p=Am(y)?{documents:cI(c,y)}:{query:hI(c,y).ft},p.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){p.resumeToken=NE(c,d.resumeToken);const _=Im(c,d.expectedCount);_!==null&&(p.expectedCount=_)}else if(d.snapshotVersion.compareTo(At.min())>0){p.readTime=Th(c,d.snapshotVersion.toTimestamp());const _=Im(c,d.expectedCount);_!==null&&(p.expectedCount=_)}return p})(this.serializer,t);const a=dI(this.serializer,t);a&&(i.labels=a),this.q_(i)}Z_(t){const i={};i.database=xm(this.serializer),i.removeTarget=t,this.q_(i)}}class nC extends BE{constructor(t,i,a,l,c,d){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,a,l,d),this.serializer=c}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,i){return this.connection.T_("Write",t,i)}J_(t){return ne(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,ne(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){ne(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const i=uI(t.writeResults,t.commitTime),a=nr(t.commitTime);return this.listener.na(a,i)}ra(){const t={};t.database=xm(this.serializer),this.q_(t)}ea(t){const i={streamToken:this.lastStreamToken,writes:t.map((a=>lI(this.serializer,a)))};this.q_(i)}}class iC{}class rC extends iC{constructor(t,i,a,l){super(),this.authCredentials=t,this.appCheckCredentials=i,this.connection=a,this.serializer=l,this.ia=!1}sa(){if(this.ia)throw new ht(Z.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,i,a,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Go(t,Cm(i,a),l,c,d))).catch((c=>{throw c.name==="FirebaseError"?(c.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new ht(Z.UNKNOWN,c.toString())}))}Ho(t,i,a,l,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,p])=>this.connection.Ho(t,Cm(i,a),l,d,p,c))).catch((d=>{throw d.name==="FirebaseError"?(d.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new ht(Z.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class sC{constructor(t,i){this.asyncQueue=t,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const i=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(zr(i),this.aa=!1):ct("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const La="RemoteStore";class aC{constructor(t,i,a,l,c){this.localStore=t,this.datastore=i,this.asyncQueue=a,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=c,this.Aa.Oo((d=>{a.enqueueAndForget((async()=>{ja(this)&&(ct(La,"Restarting streams for network reachability change."),await(async function(y){const _=It(y);_.Ea.add(4),await Su(_),_.Ra.set("Unknown"),_.Ea.delete(4),await Bh(_)})(this))}))})),this.Ra=new sC(a,l)}}async function Bh(r){if(ja(r))for(const t of r.da)await t(!0)}async function Su(r){for(const t of r.da)await t(!1)}function qE(r,t){const i=It(r);i.Ia.has(t.targetId)||(i.Ia.set(t.targetId,t),vg(i)?_g(i):Jo(i).O_()&&yg(i,t))}function pg(r,t){const i=It(r),a=Jo(i);i.Ia.delete(t),a.O_()&&HE(i,t),i.Ia.size===0&&(a.O_()?a.L_():ja(i)&&i.Ra.set("Unknown"))}function yg(r,t){if(r.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(At.min())>0){const i=r.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(i)}Jo(r).Y_(t)}function HE(r,t){r.Va.Ue(t),Jo(r).Z_(t)}function _g(r){r.Va=new tI({getRemoteKeysForTarget:t=>r.remoteSyncer.getRemoteKeysForTarget(t),At:t=>r.Ia.get(t)||null,ht:()=>r.datastore.serializer.databaseId}),Jo(r).start(),r.Ra.ua()}function vg(r){return ja(r)&&!Jo(r).x_()&&r.Ia.size>0}function ja(r){return It(r).Ea.size===0}function FE(r){r.Va=void 0}async function oC(r){r.Ra.set("Online")}async function lC(r){r.Ia.forEach(((t,i)=>{yg(r,t)}))}async function uC(r,t){FE(r),vg(r)?(r.Ra.ha(t),_g(r)):r.Ra.set("Unknown")}async function cC(r,t,i){if(r.Ra.set("Online"),t instanceof CE&&t.state===2&&t.cause)try{await(async function(l,c){const d=c.cause;for(const p of c.targetIds)l.Ia.has(p)&&(await l.remoteSyncer.rejectListen(p,d),l.Ia.delete(p),l.Va.removeTarget(p))})(r,t)}catch(a){ct(La,"Failed to remove targets %s: %s ",t.targetIds.join(","),a),await Sh(r,a)}else if(t instanceof rh?r.Va.Ze(t):t instanceof IE?r.Va.st(t):r.Va.tt(t),!i.isEqual(At.min()))try{const a=await zE(r.localStore);i.compareTo(a)>=0&&await(function(c,d){const p=c.Va.Tt(d);return p.targetChanges.forEach(((y,_)=>{if(y.resumeToken.approximateByteSize()>0){const b=c.Ia.get(_);b&&c.Ia.set(_,b.withResumeToken(y.resumeToken,d))}})),p.targetMismatches.forEach(((y,_)=>{const b=c.Ia.get(y);if(!b)return;c.Ia.set(y,b.withResumeToken(dn.EMPTY_BYTE_STRING,b.snapshotVersion)),HE(c,y);const S=new xs(b.target,y,_,b.sequenceNumber);yg(c,S)})),c.remoteSyncer.applyRemoteEvent(p)})(r,i)}catch(a){ct(La,"Failed to raise snapshot:",a),await Sh(r,a)}}async function Sh(r,t,i){if(!$o(t))throw t;r.Ea.add(1),await Su(r),r.Ra.set("Offline"),i||(i=()=>zE(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{ct(La,"Retrying IndexedDB access"),await i(),r.Ea.delete(1),await Bh(r)}))}function GE(r,t){return t().catch((i=>Sh(r,i,t)))}async function qh(r){const t=It(r),i=js(t);let a=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:eg;for(;hC(t);)try{const l=await QI(t.localStore,a);if(l===null){t.Ta.length===0&&i.L_();break}a=l.batchId,fC(t,l)}catch(l){await Sh(t,l)}QE(t)&&YE(t)}function hC(r){return ja(r)&&r.Ta.length<10}function fC(r,t){r.Ta.push(t);const i=js(r);i.O_()&&i.X_&&i.ea(t.mutations)}function QE(r){return ja(r)&&!js(r).x_()&&r.Ta.length>0}function YE(r){js(r).start()}async function dC(r){js(r).ra()}async function mC(r){const t=js(r);for(const i of r.Ta)t.ea(i.mutations)}async function gC(r,t,i){const a=r.Ta.shift(),l=ug.from(a,t,i);await GE(r,(()=>r.remoteSyncer.applySuccessfulWrite(l))),await qh(r)}async function pC(r,t){t&&js(r).X_&&await(async function(a,l){if((function(d){return JR(d)&&d!==Z.ABORTED})(l.code)){const c=a.Ta.shift();js(a).B_(),await GE(a,(()=>a.remoteSyncer.rejectFailedWrite(c.batchId,l))),await qh(a)}})(r,t),QE(r)&&YE(r)}async function Ev(r,t){const i=It(r);i.asyncQueue.verifyOperationInProgress(),ct(La,"RemoteStore received new credentials");const a=ja(i);i.Ea.add(3),await Su(i),a&&i.Ra.set("Unknown"),await i.remoteSyncer.handleCredentialChange(t),i.Ea.delete(3),await Bh(i)}async function yC(r,t){const i=It(r);t?(i.Ea.delete(2),await Bh(i)):t||(i.Ea.add(2),await Su(i),i.Ra.set("Unknown"))}function Jo(r){return r.ma||(r.ma=(function(i,a,l){const c=It(i);return c.sa(),new eC(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(r.datastore,r.asyncQueue,{Xo:oC.bind(null,r),t_:lC.bind(null,r),r_:uC.bind(null,r),H_:cC.bind(null,r)}),r.da.push((async t=>{t?(r.ma.B_(),vg(r)?_g(r):r.Ra.set("Unknown")):(await r.ma.stop(),FE(r))}))),r.ma}function js(r){return r.fa||(r.fa=(function(i,a,l){const c=It(i);return c.sa(),new nC(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(r.datastore,r.asyncQueue,{Xo:()=>Promise.resolve(),t_:dC.bind(null,r),r_:pC.bind(null,r),ta:mC.bind(null,r),na:gC.bind(null,r)}),r.da.push((async t=>{t?(r.fa.B_(),await qh(r)):(await r.fa.stop(),r.Ta.length>0&&(ct(La,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}class Eg{constructor(t,i,a,l,c){this.asyncQueue=t,this.timerId=i,this.targetTimeMs=a,this.op=l,this.removalCallback=c,this.deferred=new xa,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,i,a,l,c){const d=Date.now()+a,p=new Eg(t,i,d,l,c);return p.start(a),p}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ht(Z.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Tg(r,t){if(zr("AsyncQueue",`${t}: ${r}`),$o(r))return new ht(Z.UNAVAILABLE,`${t}: ${r}`);throw r}class ko{static emptySet(t){return new ko(t.comparator)}constructor(t){this.comparator=t?(i,a)=>t(i,a)||yt.comparator(i.key,a.key):(i,a)=>yt.comparator(i.key,a.key),this.keyedMap=Yl(),this.sortedSet=new ve(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const i=this.keyedMap.get(t);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((i,a)=>(t(i),!1)))}add(t){const i=this.delete(t.key);return i.copy(i.keyedMap.insert(t.key,t),i.sortedSet.insert(t,null))}delete(t){const i=this.get(t);return i?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(i)):this}isEqual(t){if(!(t instanceof ko)||this.size!==t.size)return!1;const i=this.sortedSet.getIterator(),a=t.sortedSet.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=a.getNext().key;if(!l.isEqual(c))return!1}return!0}toString(){const t=[];return this.forEach((i=>{t.push(i.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,i){const a=new ko;return a.comparator=this.comparator,a.keyedMap=t,a.sortedSet=i,a}}class Tv{constructor(){this.ga=new ve(yt.comparator)}track(t){const i=t.doc.key,a=this.ga.get(i);a?t.type!==0&&a.type===3?this.ga=this.ga.insert(i,t):t.type===3&&a.type!==1?this.ga=this.ga.insert(i,{type:a.type,doc:t.doc}):t.type===2&&a.type===2?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):t.type===2&&a.type===0?this.ga=this.ga.insert(i,{type:0,doc:t.doc}):t.type===1&&a.type===0?this.ga=this.ga.remove(i):t.type===1&&a.type===2?this.ga=this.ga.insert(i,{type:1,doc:a.doc}):t.type===0&&a.type===1?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):Et(63341,{Rt:t,pa:a}):this.ga=this.ga.insert(i,t)}ya(){const t=[];return this.ga.inorderTraversal(((i,a)=>{t.push(a)})),t}}class Fo{constructor(t,i,a,l,c,d,p,y,_){this.query=t,this.docs=i,this.oldDocs=a,this.docChanges=l,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=p,this.excludesMetadataChanges=y,this.hasCachedResults=_}static fromInitialDocuments(t,i,a,l,c){const d=[];return i.forEach((p=>{d.push({type:0,doc:p})})),new Fo(t,i,ko.emptySet(i),d,a,l,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&kh(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const i=this.docChanges,a=t.docChanges;if(i.length!==a.length)return!1;for(let l=0;l<i.length;l++)if(i[l].type!==a[l].type||!i[l].doc.isEqual(a[l].doc))return!1;return!0}}class _C{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((t=>t.Da()))}}class vC{constructor(){this.queries=bv(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,a){const l=It(i),c=l.queries;l.queries=bv(),c.forEach(((d,p)=>{for(const y of p.Sa)y.onError(a)}))})(this,new ht(Z.ABORTED,"Firestore shutting down"))}}function bv(){return new za((r=>mE(r)),kh)}async function EC(r,t){const i=It(r);let a=3;const l=t.query;let c=i.queries.get(l);c?!c.ba()&&t.Da()&&(a=2):(c=new _C,a=t.Da()?0:1);try{switch(a){case 0:c.wa=await i.onListen(l,!0);break;case 1:c.wa=await i.onListen(l,!1);break;case 2:await i.onFirstRemoteStoreListen(l)}}catch(d){const p=Tg(d,`Initialization of query '${Co(t.query)}' failed`);return void t.onError(p)}i.queries.set(l,c),c.Sa.push(t),t.va(i.onlineState),c.wa&&t.Fa(c.wa)&&bg(i)}async function TC(r,t){const i=It(r),a=t.query;let l=3;const c=i.queries.get(a);if(c){const d=c.Sa.indexOf(t);d>=0&&(c.Sa.splice(d,1),c.Sa.length===0?l=t.Da()?0:1:!c.ba()&&t.Da()&&(l=2))}switch(l){case 0:return i.queries.delete(a),i.onUnlisten(a,!0);case 1:return i.queries.delete(a),i.onUnlisten(a,!1);case 2:return i.onLastRemoteStoreUnlisten(a);default:return}}function bC(r,t){const i=It(r);let a=!1;for(const l of t){const c=l.query,d=i.queries.get(c);if(d){for(const p of d.Sa)p.Fa(l)&&(a=!0);d.wa=l}}a&&bg(i)}function SC(r,t,i){const a=It(r),l=a.queries.get(t);if(l)for(const c of l.Sa)c.onError(i);a.queries.delete(t)}function bg(r){r.Ca.forEach((t=>{t.next()}))}var Om,Sv;(Sv=Om||(Om={})).Ma="default",Sv.Cache="cache";class AC{constructor(t,i,a){this.query=t,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=a||{}}Fa(t){if(!this.options.includeMetadataChanges){const a=[];for(const l of t.docChanges)l.type!==3&&a.push(l);t=new Fo(t.query,t.docs,t.oldDocs,a,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let i=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),i=!0):this.La(t,this.onlineState)&&(this.ka(t),i=!0),this.Na=t,i}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),i=!0),i}La(t,i){if(!t.fromCache||!this.Da())return!0;const a=i!=="Offline";return(!this.options.qa||!a)&&(!t.docs.isEmpty()||t.hasCachedResults||i==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(t){t=Fo.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==Om.Cache}}class KE{constructor(t){this.key=t}}class XE{constructor(t){this.key=t}}class wC{constructor(t,i){this.query=t,this.Ya=i,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=qt(),this.mutatedKeys=qt(),this.eu=gE(t),this.tu=new ko(this.eu)}get nu(){return this.Ya}ru(t,i){const a=i?i.iu:new Tv,l=i?i.tu:this.tu;let c=i?i.mutatedKeys:this.mutatedKeys,d=l,p=!1;const y=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,_=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(t.inorderTraversal(((b,S)=>{const V=l.get(b),K=Uh(this.query,S)?S:null,tt=!!V&&this.mutatedKeys.has(V.key),nt=!!K&&(K.hasLocalMutations||this.mutatedKeys.has(K.key)&&K.hasCommittedMutations);let et=!1;V&&K?V.data.isEqual(K.data)?tt!==nt&&(a.track({type:3,doc:K}),et=!0):this.su(V,K)||(a.track({type:2,doc:K}),et=!0,(y&&this.eu(K,y)>0||_&&this.eu(K,_)<0)&&(p=!0)):!V&&K?(a.track({type:0,doc:K}),et=!0):V&&!K&&(a.track({type:1,doc:V}),et=!0,(y||_)&&(p=!0)),et&&(K?(d=d.add(K),c=nt?c.add(b):c.delete(b)):(d=d.delete(b),c=c.delete(b)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const b=this.query.limitType==="F"?d.last():d.first();d=d.delete(b.key),c=c.delete(b.key),a.track({type:1,doc:b})}return{tu:d,iu:a,Cs:p,mutatedKeys:c}}su(t,i){return t.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(t,i,a,l){const c=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const d=t.iu.ya();d.sort(((b,S)=>(function(K,tt){const nt=et=>{switch(et){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Et(20277,{Rt:et})}};return nt(K)-nt(tt)})(b.type,S.type)||this.eu(b.doc,S.doc))),this.ou(a),l=l??!1;const p=i&&!l?this._u():[],y=this.Xa.size===0&&this.current&&!l?1:0,_=y!==this.Za;return this.Za=y,d.length!==0||_?{snapshot:new Fo(this.query,t.tu,c,d,t.mutatedKeys,y===0,_,!1,!!a&&a.resumeToken.approximateByteSize()>0),au:p}:{au:p}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Tv,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((i=>this.Ya=this.Ya.add(i))),t.modifiedDocuments.forEach((i=>{})),t.removedDocuments.forEach((i=>this.Ya=this.Ya.delete(i))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=qt(),this.tu.forEach((a=>{this.uu(a.key)&&(this.Xa=this.Xa.add(a.key))}));const i=[];return t.forEach((a=>{this.Xa.has(a)||i.push(new XE(a))})),this.Xa.forEach((a=>{t.has(a)||i.push(new KE(a))})),i}cu(t){this.Ya=t.Qs,this.Xa=qt();const i=this.ru(t.documents);return this.applyChanges(i,!0)}lu(){return Fo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Sg="SyncEngine";class RC{constructor(t,i,a){this.query=t,this.targetId=i,this.view=a}}class IC{constructor(t){this.key=t,this.hu=!1}}class CC{constructor(t,i,a,l,c,d){this.localStore=t,this.remoteStore=i,this.eventManager=a,this.sharedClientState=l,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new za((p=>mE(p)),kh),this.Iu=new Map,this.Eu=new Set,this.du=new ve(yt.comparator),this.Au=new Map,this.Ru=new fg,this.Vu={},this.mu=new Map,this.fu=Ho.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function NC(r,t,i=!0){const a=eT(r);let l;const c=a.Tu.get(t);return c?(a.sharedClientState.addLocalQueryTarget(c.targetId),l=c.view.lu()):l=await $E(a,t,i,!0),l}async function xC(r,t){const i=eT(r);await $E(i,t,!0,!1)}async function $E(r,t,i,a){const l=await YI(r.localStore,er(t)),c=l.targetId,d=r.sharedClientState.addLocalQueryTarget(c,i);let p;return a&&(p=await DC(r,t,c,d==="current",l.resumeToken)),r.isPrimaryClient&&i&&qE(r.remoteStore,l),p}async function DC(r,t,i,a,l){r.pu=(S,V,K)=>(async function(nt,et,dt,wt){let _t=et.view.ru(dt);_t.Cs&&(_t=await gv(nt.localStore,et.query,!1).then((({documents:N})=>et.view.ru(N,_t))));const Ot=wt&&wt.targetChanges.get(et.targetId),Jt=wt&&wt.targetMismatches.get(et.targetId)!=null,Mt=et.view.applyChanges(_t,nt.isPrimaryClient,Ot,Jt);return wv(nt,et.targetId,Mt.au),Mt.snapshot})(r,S,V,K);const c=await gv(r.localStore,t,!0),d=new wC(t,c.Qs),p=d.ru(c.documents),y=bu.createSynthesizedTargetChangeForCurrentChange(i,a&&r.onlineState!=="Offline",l),_=d.applyChanges(p,r.isPrimaryClient,y);wv(r,i,_.au);const b=new RC(t,i,d);return r.Tu.set(t,b),r.Iu.has(i)?r.Iu.get(i).push(t):r.Iu.set(i,[t]),_.snapshot}async function MC(r,t,i){const a=It(r),l=a.Tu.get(t),c=a.Iu.get(l.targetId);if(c.length>1)return a.Iu.set(l.targetId,c.filter((d=>!kh(d,t)))),void a.Tu.delete(t);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(l.targetId),a.sharedClientState.isActiveQueryTarget(l.targetId)||await Dm(a.localStore,l.targetId,!1).then((()=>{a.sharedClientState.clearQueryState(l.targetId),i&&pg(a.remoteStore,l.targetId),Vm(a,l.targetId)})).catch(Xo)):(Vm(a,l.targetId),await Dm(a.localStore,l.targetId,!0))}async function OC(r,t){const i=It(r),a=i.Tu.get(t),l=i.Iu.get(a.targetId);i.isPrimaryClient&&l.length===1&&(i.sharedClientState.removeLocalQueryTarget(a.targetId),pg(i.remoteStore,a.targetId))}async function VC(r,t,i){const a=BC(r);try{const l=await(function(d,p){const y=It(d),_=ge.now(),b=p.reduce(((K,tt)=>K.add(tt.key)),qt());let S,V;return y.persistence.runTransaction("Locally write mutations","readwrite",(K=>{let tt=jr(),nt=qt();return y.Ns.getEntries(K,b).next((et=>{tt=et,tt.forEach(((dt,wt)=>{wt.isValidDocument()||(nt=nt.add(dt))}))})).next((()=>y.localDocuments.getOverlayedDocuments(K,tt))).next((et=>{S=et;const dt=[];for(const wt of p){const _t=QR(wt,S.get(wt.key).overlayedDocument);_t!=null&&dt.push(new Hs(wt.key,_t,aE(_t.value.mapValue),Ti.exists(!0)))}return y.mutationQueue.addMutationBatch(K,_,dt,p)})).next((et=>{V=et;const dt=et.applyToLocalDocumentSet(S,nt);return y.documentOverlayCache.saveOverlays(K,et.batchId,dt)}))})).then((()=>({batchId:V.batchId,changes:yE(S)})))})(a.localStore,t);a.sharedClientState.addPendingMutation(l.batchId),(function(d,p,y){let _=d.Vu[d.currentUser.toKey()];_||(_=new ve(Bt)),_=_.insert(p,y),d.Vu[d.currentUser.toKey()]=_})(a,l.batchId,i),await Au(a,l.changes),await qh(a.remoteStore)}catch(l){const c=Tg(l,"Failed to persist write");i.reject(c)}}async function JE(r,t){const i=It(r);try{const a=await FI(i.localStore,t);t.targetChanges.forEach(((l,c)=>{const d=i.Au.get(c);d&&(ne(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?d.hu=!0:l.modifiedDocuments.size>0?ne(d.hu,14607):l.removedDocuments.size>0&&(ne(d.hu,42227),d.hu=!1))})),await Au(i,a,t)}catch(a){await Xo(a)}}function Av(r,t,i){const a=It(r);if(a.isPrimaryClient&&i===0||!a.isPrimaryClient&&i===1){const l=[];a.Tu.forEach(((c,d)=>{const p=d.view.va(t);p.snapshot&&l.push(p.snapshot)})),(function(d,p){const y=It(d);y.onlineState=p;let _=!1;y.queries.forEach(((b,S)=>{for(const V of S.Sa)V.va(p)&&(_=!0)})),_&&bg(y)})(a.eventManager,t),l.length&&a.Pu.H_(l),a.onlineState=t,a.isPrimaryClient&&a.sharedClientState.setOnlineState(t)}}async function kC(r,t,i){const a=It(r);a.sharedClientState.updateQueryState(t,"rejected",i);const l=a.Au.get(t),c=l&&l.key;if(c){let d=new ve(yt.comparator);d=d.insert(c,bn.newNoDocument(c,At.min()));const p=qt().add(c),y=new zh(At.min(),new Map,new ve(Bt),d,p);await JE(a,y),a.du=a.du.remove(c),a.Au.delete(t),Ag(a)}else await Dm(a.localStore,t,!1).then((()=>Vm(a,t,i))).catch(Xo)}async function UC(r,t){const i=It(r),a=t.batch.batchId;try{const l=await HI(i.localStore,t);WE(i,a,null),ZE(i,a),i.sharedClientState.updateMutationState(a,"acknowledged"),await Au(i,l)}catch(l){await Xo(l)}}async function LC(r,t,i){const a=It(r);try{const l=await(function(d,p){const y=It(d);return y.persistence.runTransaction("Reject batch","readwrite-primary",(_=>{let b;return y.mutationQueue.lookupMutationBatch(_,p).next((S=>(ne(S!==null,37113),b=S.keys(),y.mutationQueue.removeMutationBatch(_,S)))).next((()=>y.mutationQueue.performConsistencyCheck(_))).next((()=>y.documentOverlayCache.removeOverlaysForBatchId(_,b,p))).next((()=>y.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,b))).next((()=>y.localDocuments.getDocuments(_,b)))}))})(a.localStore,t);WE(a,t,i),ZE(a,t),a.sharedClientState.updateMutationState(t,"rejected",i),await Au(a,l)}catch(l){await Xo(l)}}function ZE(r,t){(r.mu.get(t)||[]).forEach((i=>{i.resolve()})),r.mu.delete(t)}function WE(r,t,i){const a=It(r);let l=a.Vu[a.currentUser.toKey()];if(l){const c=l.get(t);c&&(i?c.reject(i):c.resolve(),l=l.remove(t)),a.Vu[a.currentUser.toKey()]=l}}function Vm(r,t,i=null){r.sharedClientState.removeLocalQueryTarget(t);for(const a of r.Iu.get(t))r.Tu.delete(a),i&&r.Pu.yu(a,i);r.Iu.delete(t),r.isPrimaryClient&&r.Ru.jr(t).forEach((a=>{r.Ru.containsKey(a)||tT(r,a)}))}function tT(r,t){r.Eu.delete(t.path.canonicalString());const i=r.du.get(t);i!==null&&(pg(r.remoteStore,i),r.du=r.du.remove(t),r.Au.delete(i),Ag(r))}function wv(r,t,i){for(const a of i)a instanceof KE?(r.Ru.addReference(a.key,t),PC(r,a)):a instanceof XE?(ct(Sg,"Document no longer in limbo: "+a.key),r.Ru.removeReference(a.key,t),r.Ru.containsKey(a.key)||tT(r,a.key)):Et(19791,{wu:a})}function PC(r,t){const i=t.key,a=i.path.canonicalString();r.du.get(i)||r.Eu.has(a)||(ct(Sg,"New document in limbo: "+i),r.Eu.add(a),Ag(r))}function Ag(r){for(;r.Eu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const t=r.Eu.values().next().value;r.Eu.delete(t);const i=new yt(he.fromString(t)),a=r.fu.next();r.Au.set(a,new IC(i)),r.du=r.du.insert(i,a),qE(r.remoteStore,new xs(er(ag(i.path)),a,"TargetPurposeLimboResolution",Mh.ce))}}async function Au(r,t,i){const a=It(r),l=[],c=[],d=[];a.Tu.isEmpty()||(a.Tu.forEach(((p,y)=>{d.push(a.pu(y,t,i).then((_=>{if((_||i)&&a.isPrimaryClient){const b=_?!_.fromCache:i?.targetChanges.get(y.targetId)?.current;a.sharedClientState.updateQueryState(y.targetId,b?"current":"not-current")}if(_){l.push(_);const b=mg.As(y.targetId,_);c.push(b)}})))})),await Promise.all(d),a.Pu.H_(l),await(async function(y,_){const b=It(y);try{await b.persistence.runTransaction("notifyLocalViewChanges","readwrite",(S=>W.forEach(_,(V=>W.forEach(V.Es,(K=>b.persistence.referenceDelegate.addReference(S,V.targetId,K))).next((()=>W.forEach(V.ds,(K=>b.persistence.referenceDelegate.removeReference(S,V.targetId,K)))))))))}catch(S){if(!$o(S))throw S;ct(gg,"Failed to update sequence numbers: "+S)}for(const S of _){const V=S.targetId;if(!S.fromCache){const K=b.Ms.get(V),tt=K.snapshotVersion,nt=K.withLastLimboFreeSnapshotVersion(tt);b.Ms=b.Ms.insert(V,nt)}}})(a.localStore,c))}async function zC(r,t){const i=It(r);if(!i.currentUser.isEqual(t)){ct(Sg,"User change. New user:",t.toKey());const a=await PE(i.localStore,t);i.currentUser=t,(function(c,d){c.mu.forEach((p=>{p.forEach((y=>{y.reject(new ht(Z.CANCELLED,d))}))})),c.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(t,a.removedBatchIds,a.addedBatchIds),await Au(i,a.Ls)}}function jC(r,t){const i=It(r),a=i.Au.get(t);if(a&&a.hu)return qt().add(a.key);{let l=qt();const c=i.Iu.get(t);if(!c)return l;for(const d of c){const p=i.Tu.get(d);l=l.unionWith(p.view.nu)}return l}}function eT(r){const t=It(r);return t.remoteStore.remoteSyncer.applyRemoteEvent=JE.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=jC.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=kC.bind(null,t),t.Pu.H_=bC.bind(null,t.eventManager),t.Pu.yu=SC.bind(null,t.eventManager),t}function BC(r){const t=It(r);return t.remoteStore.remoteSyncer.applySuccessfulWrite=UC.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=LC.bind(null,t),t}class Ah{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=jh(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,i){return null}Mu(t,i){return null}vu(t){return qI(this.persistence,new zI,t.initialUser,this.serializer)}Cu(t){return new LE(dg.mi,this.serializer)}Du(t){return new XI}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Ah.provider={build:()=>new Ah};class qC extends Ah{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,i){ne(this.persistence.referenceDelegate instanceof bh,46915);const a=this.persistence.referenceDelegate.garbageCollector;return new AI(a,t.asyncQueue,i)}Cu(t){const i=this.cacheSizeBytes!==void 0?jn.withCacheSize(this.cacheSizeBytes):jn.DEFAULT;return new LE((a=>bh.mi(a,i)),this.serializer)}}class km{async initialize(t,i){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>Av(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=zC.bind(null,this.syncEngine),await yC(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new vC})()}createDatastore(t){const i=jh(t.databaseInfo.databaseId),a=(function(c){return new tC(c)})(t.databaseInfo);return(function(c,d,p,y){return new rC(c,d,p,y)})(t.authCredentials,t.appCheckCredentials,a,i)}createRemoteStore(t){return(function(a,l,c,d,p){return new aC(a,l,c,d,p)})(this.localStore,this.datastore,t.asyncQueue,(i=>Av(this.syncEngine,i,0)),(function(){return _v.v()?new _v:new $I})())}createSyncEngine(t,i){return(function(l,c,d,p,y,_,b){const S=new CC(l,c,d,p,y,_);return b&&(S.gu=!0),S})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const a=It(i);ct(La,"RemoteStore shutting down."),a.Ea.add(5),await Su(a),a.Aa.shutdown(),a.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}km.provider={build:()=>new km};class HC{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):zr("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,i){setTimeout((()=>{this.muted||t(i)}),0)}}const Bs="FirestoreClient";class FC{constructor(t,i,a,l,c){this.authCredentials=t,this.appCheckCredentials=i,this.asyncQueue=a,this.databaseInfo=l,this.user=Tn.UNAUTHENTICATED,this.clientId=tg.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(a,(async d=>{ct(Bs,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(a,(d=>(ct(Bs,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new xa;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(i){const a=Tg(i,"Failed to shutdown persistence");t.reject(a)}})),t.promise}}async function am(r,t){r.asyncQueue.verifyOperationInProgress(),ct(Bs,"Initializing OfflineComponentProvider");const i=r.configuration;await t.initialize(i);let a=i.initialUser;r.setCredentialChangeListener((async l=>{a.isEqual(l)||(await PE(t.localStore,l),a=l)})),t.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=t}async function Rv(r,t){r.asyncQueue.verifyOperationInProgress();const i=await GC(r);ct(Bs,"Initializing OnlineComponentProvider"),await t.initialize(i,r.configuration),r.setCredentialChangeListener((a=>Ev(t.remoteStore,a))),r.setAppCheckTokenChangeListener(((a,l)=>Ev(t.remoteStore,l))),r._onlineComponents=t}async function GC(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){ct(Bs,"Using user provided OfflineComponentProvider");try{await am(r,r._uninitializedComponentsProvider._offline)}catch(t){const i=t;if(!(function(l){return l.name==="FirebaseError"?l.code===Z.FAILED_PRECONDITION||l.code===Z.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11})(i))throw i;zo("Error using user provided cache. Falling back to memory cache: "+i),await am(r,new Ah)}}else ct(Bs,"Using default OfflineComponentProvider"),await am(r,new qC(void 0));return r._offlineComponents}async function nT(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(ct(Bs,"Using user provided OnlineComponentProvider"),await Rv(r,r._uninitializedComponentsProvider._online)):(ct(Bs,"Using default OnlineComponentProvider"),await Rv(r,new km))),r._onlineComponents}function QC(r){return nT(r).then((t=>t.syncEngine))}async function Iv(r){const t=await nT(r),i=t.eventManager;return i.onListen=NC.bind(null,t.syncEngine),i.onUnlisten=MC.bind(null,t.syncEngine),i.onFirstRemoteStoreListen=xC.bind(null,t.syncEngine),i.onLastRemoteStoreUnlisten=OC.bind(null,t.syncEngine),i}function iT(r){const t={};return r.timeoutSeconds!==void 0&&(t.timeoutSeconds=r.timeoutSeconds),t}const Cv=new Map;const rT="firestore.googleapis.com",Nv=!0;class xv{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new ht(Z.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=rT,this.ssl=Nv}else this.host=t.host,this.ssl=t.ssl??Nv;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=UE;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<bI)throw new ht(Z.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}sR("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=iT(t.experimentalLongPollingOptions??{}),(function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new ht(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new ht(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new ht(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(a,l){return a.timeoutSeconds===l.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Hh{constructor(t,i,a,l){this._authCredentials=t,this._appCheckCredentials=i,this._databaseId=a,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new xv({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ht(Z.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new ht(Z.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new xv(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(a){if(!a)return new Xw;switch(a.type){case"firstParty":return new Ww(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new ht(Z.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const a=Cv.get(i);a&&(ct("ComponentProvider","Removing Datastore"),Cv.delete(i),a.terminate())})(this),Promise.resolve()}}function YC(r,t,i,a={}){r=tr(r,Hh);const l=Go(t),c=r._getSettings(),d={...c,emulatorOptions:r._getEmulatorOptions()},p=`${t}:${i}`;l&&(n1(`https://${p}`),i1("Firestore",!0)),c.host!==rT&&c.host!==p&&zo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const y={...c,host:p,ssl:l,emulatorOptions:a};if(!Oa(y,d)&&(r._setSettings(y),a.mockUserToken)){let _,b;if(typeof a.mockUserToken=="string")_=a.mockUserToken,b=Tn.MOCK_USER;else{_=_S(a.mockUserToken,r._app?.options.projectId);const S=a.mockUserToken.sub||a.mockUserToken.user_id;if(!S)throw new ht(Z.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");b=new Tn(S)}r._authCredentials=new $w(new K1(_,b))}}class Zo{constructor(t,i,a){this.converter=i,this._query=a,this.type="query",this.firestore=t}withConverter(t){return new Zo(this.firestore,t,this._query)}}class ke{constructor(t,i,a){this.converter=i,this._key=a,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ks(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new ke(this.firestore,t,this._key)}toJSON(){return{type:ke._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,i,a){if(vu(i,ke._jsonSchema))return new ke(t,a||null,new yt(he.fromString(i.referencePath)))}}ke._jsonSchemaVersion="firestore/documentReference/1.0",ke._jsonSchema={type:Ge("string",ke._jsonSchemaVersion),referencePath:Ge("string")};class ks extends Zo{constructor(t,i,a){super(t,i,ag(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new ke(this.firestore,null,new yt(t))}withConverter(t){return new ks(this.firestore,t,this._path)}}function Qc(r,t,...i){if(r=fn(r),X1("collection","path",t),r instanceof Hh){const a=he.fromString(t,...i);return q0(a),new ks(r,null,a)}{if(!(r instanceof ke||r instanceof ks))throw new ht(Z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=r._path.child(he.fromString(t,...i));return q0(a),new ks(r.firestore,null,a)}}function Dr(r,t,...i){if(r=fn(r),arguments.length===1&&(t=tg.newId()),X1("doc","path",t),r instanceof Hh){const a=he.fromString(t,...i);return B0(a),new ke(r,null,new yt(a))}{if(!(r instanceof ke||r instanceof ks))throw new ht(Z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=r._path.child(he.fromString(t,...i));return B0(a),new ke(r.firestore,r instanceof ks?r.converter:null,new yt(a))}}const Dv="AsyncQueue";class Mv{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new jE(this,"async_queue_retry"),this._c=()=>{const a=sm();a&&ct(Dv,"Visibility state changed to "+a.visibilityState),this.M_.w_()},this.ac=t;const i=sm();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const i=sm();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new xa;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Xu.push(t),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!$o(t))throw t;ct(Dv,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const i=this.ac.then((()=>(this.rc=!0,t().catch((a=>{throw this.nc=a,this.rc=!1,zr("INTERNAL UNHANDLED ERROR: ",Ov(a)),a})).then((a=>(this.rc=!1,a))))));return this.ac=i,i}enqueueAfterDelay(t,i,a){this.uc(),this.oc.indexOf(t)>-1&&(i=0);const l=Eg.createAndSchedule(this,t,i,a,(c=>this.hc(c)));return this.tc.push(l),l}uc(){this.nc&&Et(47125,{Pc:Ov(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const i of this.tc)if(i.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((i,a)=>i.targetTimeMs-a.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),t!=="all"&&i.timerId===t)break;return this.Tc()}))}dc(t){this.oc.push(t)}hc(t){const i=this.tc.indexOf(t);this.tc.splice(i,1)}}function Ov(r){let t=r.message||"";return r.stack&&(t=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),t}function Vv(r){return(function(i,a){if(typeof i!="object"||i===null)return!1;const l=i;for(const c of a)if(c in l&&typeof l[c]=="function")return!0;return!1})(r,["next","error","complete"])}class Pa extends Hh{constructor(t,i,a,l){super(t,i,a,l),this.type="firestore",this._queue=new Mv,this._persistenceKey=l?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new Mv(t),this._firestoreClient=void 0,await t}}}function KC(r,t){const i=typeof r=="object"?r:o1(),a=typeof r=="string"?r:ph,l=Fm(i,"firestore").getImmediate({identifier:a});if(!l._initialized){const c=pS("firestore");c&&YC(l,...c)}return l}function sT(r){if(r._terminated)throw new ht(Z.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||XC(r),r._firestoreClient}function XC(r){const t=r._freezeSettings(),i=(function(l,c,d,p){return new pR(l,c,d,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,iT(p.experimentalLongPollingOptions),p.useFetchStreams,p.isUsingEmulator)})(r._databaseId,r._app?.options.appId||"",r._persistenceKey,t);r._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),r._firestoreClient=new FC(r._authCredentials,r._appCheckCredentials,r._queue,i,r._componentsProvider&&(function(l){const c=l?._online.build();return{_offline:l?._offline.build(c),_online:c}})(r._componentsProvider))}class Ei{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Ei(dn.fromBase64String(t))}catch(i){throw new ht(Z.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(t){return new Ei(dn.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:Ei._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(vu(t,Ei._jsonSchema))return Ei.fromBase64String(t.bytes)}}Ei._jsonSchemaVersion="firestore/bytes/1.0",Ei._jsonSchema={type:Ge("string",Ei._jsonSchemaVersion),bytes:Ge("string")};class Fh{constructor(...t){for(let i=0;i<t.length;++i)if(t[i].length===0)throw new ht(Z.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new hn(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class Gh{constructor(t){this._methodName=t}}class ir{constructor(t,i){if(!isFinite(t)||t<-90||t>90)throw new ht(Z.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(i)||i<-180||i>180)throw new ht(Z.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=t,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return Bt(this._lat,t._lat)||Bt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:ir._jsonSchemaVersion}}static fromJSON(t){if(vu(t,ir._jsonSchema))return new ir(t.latitude,t.longitude)}}ir._jsonSchemaVersion="firestore/geoPoint/1.0",ir._jsonSchema={type:Ge("string",ir._jsonSchemaVersion),latitude:Ge("number"),longitude:Ge("number")};class rr{constructor(t){this._values=(t||[]).map((i=>i))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(a,l){if(a.length!==l.length)return!1;for(let c=0;c<a.length;++c)if(a[c]!==l[c])return!1;return!0})(this._values,t._values)}toJSON(){return{type:rr._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(vu(t,rr._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((i=>typeof i=="number")))return new rr(t.vectorValues);throw new ht(Z.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}rr._jsonSchemaVersion="firestore/vectorValue/1.0",rr._jsonSchema={type:Ge("string",rr._jsonSchemaVersion),vectorValues:Ge("object")};const $C=/^__.*__$/;class JC{constructor(t,i,a){this.data=t,this.fieldMask=i,this.fieldTransforms=a}toMutation(t,i){return this.fieldMask!==null?new Hs(t,this.data,this.fieldMask,i,this.fieldTransforms):new Tu(t,this.data,i,this.fieldTransforms)}}class aT{constructor(t,i,a){this.data=t,this.fieldMask=i,this.fieldTransforms=a}toMutation(t,i){return new Hs(t,this.data,this.fieldMask,i,this.fieldTransforms)}}function oT(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Et(40011,{Ac:r})}}class wg{constructor(t,i,a,l,c,d){this.settings=t,this.databaseId=i,this.serializer=a,this.ignoreUndefinedProperties=l,c===void 0&&this.Rc(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new wg({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){const i=this.path?.child(t),a=this.Vc({path:i,fc:!1});return a.gc(t),a}yc(t){const i=this.path?.child(t),a=this.Vc({path:i,fc:!1});return a.Rc(),a}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return wh(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find((i=>t.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>t.isPrefixOf(i.field)))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(oT(this.Ac)&&$C.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class ZC{constructor(t,i,a){this.databaseId=t,this.ignoreUndefinedProperties=i,this.serializer=a||jh(t)}Cc(t,i,a,l=!1){return new wg({Ac:t,methodName:i,Dc:a,path:hn.emptyPath(),fc:!1,bc:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Qh(r){const t=r._freezeSettings(),i=jh(r._databaseId);return new ZC(r._databaseId,!!t.ignoreUndefinedProperties,i)}function lT(r,t,i,a,l,c={}){const d=r.Cc(c.merge||c.mergeFields?2:0,t,i,l);Ig("Data must be an object, but it was:",d,a);const p=uT(a,d);let y,_;if(c.merge)y=new ti(d.fieldMask),_=d.fieldTransforms;else if(c.mergeFields){const b=[];for(const S of c.mergeFields){const V=Um(t,S,i);if(!d.contains(V))throw new ht(Z.INVALID_ARGUMENT,`Field '${V}' is specified in your field mask but missing from your input data.`);hT(b,V)||b.push(V)}y=new ti(b),_=d.fieldTransforms.filter((S=>y.covers(S.field)))}else y=null,_=d.fieldTransforms;return new JC(new Bn(p),y,_)}class Yh extends Gh{_toFieldTransform(t){if(t.Ac!==2)throw t.Ac===1?t.Sc(`${this._methodName}() can only appear at the top level of your update data`):t.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof Yh}}class Rg extends Gh{_toFieldTransform(t){return new qR(t.path,new lu)}isEqual(t){return t instanceof Rg}}function WC(r,t,i,a){const l=r.Cc(1,t,i);Ig("Data must be an object, but it was:",l,a);const c=[],d=Bn.empty();qs(a,((y,_)=>{const b=Cg(t,y,i);_=fn(_);const S=l.yc(b);if(_ instanceof Yh)c.push(b);else{const V=wu(_,S);V!=null&&(c.push(b),d.set(b,V))}}));const p=new ti(c);return new aT(d,p,l.fieldTransforms)}function tN(r,t,i,a,l,c){const d=r.Cc(1,t,i),p=[Um(t,a,i)],y=[l];if(c.length%2!=0)throw new ht(Z.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let V=0;V<c.length;V+=2)p.push(Um(t,c[V])),y.push(c[V+1]);const _=[],b=Bn.empty();for(let V=p.length-1;V>=0;--V)if(!hT(_,p[V])){const K=p[V];let tt=y[V];tt=fn(tt);const nt=d.yc(K);if(tt instanceof Yh)_.push(K);else{const et=wu(tt,nt);et!=null&&(_.push(K),b.set(K,et))}}const S=new ti(_);return new aT(b,S,d.fieldTransforms)}function eN(r,t,i,a=!1){return wu(i,r.Cc(a?4:3,t))}function wu(r,t){if(cT(r=fn(r)))return Ig("Unsupported field value:",t,r),uT(r,t);if(r instanceof Gh)return(function(a,l){if(!oT(l.Ac))throw l.Sc(`${a._methodName}() can only be used with update() and set()`);if(!l.path)throw l.Sc(`${a._methodName}() is not currently supported inside arrays`);const c=a._toFieldTransform(l);c&&l.fieldTransforms.push(c)})(r,t),null;if(r===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),r instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return(function(a,l){const c=[];let d=0;for(const p of a){let y=wu(p,l.wc(d));y==null&&(y={nullValue:"NULL_VALUE"}),c.push(y),d++}return{arrayValue:{values:c}}})(r,t)}return(function(a,l){if((a=fn(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return zR(l.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const c=ge.fromDate(a);return{timestampValue:Th(l.serializer,c)}}if(a instanceof ge){const c=new ge(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:Th(l.serializer,c)}}if(a instanceof ir)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof Ei)return{bytesValue:NE(l.serializer,a._byteString)};if(a instanceof ke){const c=l.databaseId,d=a.firestore._databaseId;if(!d.isEqual(c))throw l.Sc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:hg(a.firestore._databaseId||l.databaseId,a._key.path)}}if(a instanceof rr)return(function(d,p){return{mapValue:{fields:{[rE]:{stringValue:sE},[yh]:{arrayValue:{values:d.toArray().map((_=>{if(typeof _!="number")throw p.Sc("VectorValues must only contain numeric values.");return og(p.serializer,_)}))}}}}}})(a,l);throw l.Sc(`Unsupported field value: ${Dh(a)}`)})(r,t)}function uT(r,t){const i={};return Z1(r)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):qs(r,((a,l)=>{const c=wu(l,t.mc(a));c!=null&&(i[a]=c)})),{mapValue:{fields:i}}}function cT(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof ge||r instanceof ir||r instanceof Ei||r instanceof ke||r instanceof Gh||r instanceof rr)}function Ig(r,t,i){if(!cT(i)||!$1(i)){const a=Dh(i);throw a==="an object"?t.Sc(r+" a custom object"):t.Sc(r+" "+a)}}function Um(r,t,i){if((t=fn(t))instanceof Fh)return t._internalPath;if(typeof t=="string")return Cg(r,t);throw wh("Field path arguments must be of type string or ",r,!1,void 0,i)}const nN=new RegExp("[~\\*/\\[\\]]");function Cg(r,t,i){if(t.search(nN)>=0)throw wh(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,i);try{return new Fh(...t.split("."))._internalPath}catch{throw wh(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,i)}}function wh(r,t,i,a,l){const c=a&&!a.isEmpty(),d=l!==void 0;let p=`Function ${t}() called with invalid data`;i&&(p+=" (via `toFirestore()`)"),p+=". ";let y="";return(c||d)&&(y+=" (found",c&&(y+=` in field ${a}`),d&&(y+=` in document ${l}`),y+=")"),new ht(Z.INVALID_ARGUMENT,p+r+y)}function hT(r,t){return r.some((i=>i.isEqual(t)))}class fT{constructor(t,i,a,l,c){this._firestore=t,this._userDataWriter=i,this._key=a,this._document=l,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new ke(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new iN(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const i=this._document.data.field(dT("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i)}}}class iN extends fT{data(){return super.data()}}function dT(r,t){return typeof t=="string"?Cg(r,t):t instanceof Fh?t._internalPath:t._delegate._internalPath}function rN(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new ht(Z.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Ng{}class sN extends Ng{}function kv(r,t,...i){let a=[];t instanceof Ng&&a.push(t),a=a.concat(i),(function(c){const d=c.filter((y=>y instanceof Dg)).length,p=c.filter((y=>y instanceof xg)).length;if(d>1||d>0&&p>0)throw new ht(Z.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(a);for(const l of a)r=l._apply(r);return r}class xg extends sN{constructor(t,i,a){super(),this._field=t,this._op=i,this._value=a,this.type="where"}static _create(t,i,a){return new xg(t,i,a)}_apply(t){const i=this._parse(t);return mT(t._query,i),new Zo(t.firestore,t.converter,wm(t._query,i))}_parse(t){const i=Qh(t.firestore);return(function(c,d,p,y,_,b,S){let V;if(_.isKeyField()){if(b==="array-contains"||b==="array-contains-any")throw new ht(Z.INVALID_ARGUMENT,`Invalid Query. You can't perform '${b}' queries on documentId().`);if(b==="in"||b==="not-in"){Lv(S,b);const tt=[];for(const nt of S)tt.push(Uv(y,c,nt));V={arrayValue:{values:tt}}}else V=Uv(y,c,S)}else b!=="in"&&b!=="not-in"&&b!=="array-contains-any"||Lv(S,b),V=eN(p,d,S,b==="in"||b==="not-in");return Fe.create(_,b,V)})(t._query,"where",i,t.firestore._databaseId,this._field,this._op,this._value)}}class Dg extends Ng{constructor(t,i){super(),this.type=t,this._queryConstraints=i}static _create(t,i){return new Dg(t,i)}_parse(t){const i=this._queryConstraints.map((a=>a._parse(t))).filter((a=>a.getFilters().length>0));return i.length===1?i[0]:Vi.create(i,this._getOperator())}_apply(t){const i=this._parse(t);return i.getFilters().length===0?t:((function(l,c){let d=l;const p=c.getFlattenedFilters();for(const y of p)mT(d,y),d=wm(d,y)})(t._query,i),new Zo(t.firestore,t.converter,wm(t._query,i)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function Uv(r,t,i){if(typeof(i=fn(i))=="string"){if(i==="")throw new ht(Z.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!dE(t)&&i.indexOf("/")!==-1)throw new ht(Z.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${i}' contains a '/' character.`);const a=t.path.child(he.fromString(i));if(!yt.isDocumentKey(a))throw new ht(Z.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${a}' is not because it has an odd number of segments (${a.length}).`);return $0(r,new yt(a))}if(i instanceof ke)return $0(r,i._key);throw new ht(Z.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Dh(i)}.`)}function Lv(r,t){if(!Array.isArray(r)||r.length===0)throw new ht(Z.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function mT(r,t){const i=(function(l,c){for(const d of l)for(const p of d.getFlattenedFilters())if(c.indexOf(p.op)>=0)return p.op;return null})(r.filters,(function(l){switch(l){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(t.op));if(i!==null)throw i===t.op?new ht(Z.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new ht(Z.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${i.toString()}' filters.`)}class aN{convertValue(t,i="none"){switch(zs(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Ve(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,i);case 5:return t.stringValue;case 6:return this.convertBytes(Ps(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,i);case 11:return this.convertObject(t.mapValue,i);case 10:return this.convertVectorValue(t.mapValue);default:throw Et(62114,{value:t})}}convertObject(t,i){return this.convertObjectMap(t.fields,i)}convertObjectMap(t,i="none"){const a={};return qs(t,((l,c)=>{a[l]=this.convertValue(c,i)})),a}convertVectorValue(t){const i=t.fields?.[yh].arrayValue?.values?.map((a=>Ve(a.doubleValue)));return new rr(i)}convertGeoPoint(t){return new ir(Ve(t.latitude),Ve(t.longitude))}convertArray(t,i){return(t.values||[]).map((a=>this.convertValue(a,i)))}convertServerTimestamp(t,i){switch(i){case"previous":const a=Vh(t);return a==null?null:this.convertValue(a,i);case"estimate":return this.convertTimestamp(su(t));default:return null}}convertTimestamp(t){const i=Ls(t);return new ge(i.seconds,i.nanos)}convertDocumentKey(t,i){const a=he.fromString(t);ne(kE(a),9688,{name:t});const l=new au(a.get(1),a.get(3)),c=new yt(a.popFirst(5));return l.isEqual(i)||zr(`Document ${c} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),c}}function gT(r,t,i){let a;return a=r?r.toFirestore(t):t,a}class Xl{constructor(t,i){this.hasPendingWrites=t,this.fromCache=i}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Da extends fT{constructor(t,i,a,l,c,d){super(t,i,a,l,d),this._firestore=t,this._firestoreImpl=t,this.metadata=c}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const i=new sh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,i={}){if(this._document){const a=this._document.data.field(dT("DocumentSnapshot.get",t));if(a!==null)return this._userDataWriter.convertValue(a,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ht(Z.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,i={};return i.type=Da._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}Da._jsonSchemaVersion="firestore/documentSnapshot/1.0",Da._jsonSchema={type:Ge("string",Da._jsonSchemaVersion),bundleSource:Ge("string","DocumentSnapshot"),bundleName:Ge("string"),bundle:Ge("string")};class sh extends Da{data(t={}){return super.data(t)}}class Uo{constructor(t,i,a,l){this._firestore=t,this._userDataWriter=i,this._snapshot=l,this.metadata=new Xl(l.hasPendingWrites,l.fromCache),this.query=a}get docs(){const t=[];return this.forEach((i=>t.push(i))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,i){this._snapshot.docs.forEach((a=>{t.call(i,new sh(this._firestore,this._userDataWriter,a.key,a,new Xl(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const i=!!t.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new ht(Z.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(l,c){if(l._snapshot.oldDocs.isEmpty()){let d=0;return l._snapshot.docChanges.map((p=>{const y=new sh(l._firestore,l._userDataWriter,p.doc.key,p.doc,new Xl(l._snapshot.mutatedKeys.has(p.doc.key),l._snapshot.fromCache),l.query.converter);return p.doc,{type:"added",doc:y,oldIndex:-1,newIndex:d++}}))}{let d=l._snapshot.oldDocs;return l._snapshot.docChanges.filter((p=>c||p.type!==3)).map((p=>{const y=new sh(l._firestore,l._userDataWriter,p.doc.key,p.doc,new Xl(l._snapshot.mutatedKeys.has(p.doc.key),l._snapshot.fromCache),l.query.converter);let _=-1,b=-1;return p.type!==0&&(_=d.indexOf(p.doc.key),d=d.delete(p.doc.key)),p.type!==1&&(d=d.add(p.doc),b=d.indexOf(p.doc.key)),{type:oN(p.type),doc:y,oldIndex:_,newIndex:b}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ht(Z.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=Uo._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=tg.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],a=[],l=[];return this.docs.forEach((c=>{c._document!==null&&(i.push(c._document),a.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),l.push(c.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function oN(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Et(61501,{type:r})}}Uo._jsonSchemaVersion="firestore/querySnapshot/1.0",Uo._jsonSchema={type:Ge("string",Uo._jsonSchemaVersion),bundleSource:Ge("string","QuerySnapshot"),bundleName:Ge("string"),bundle:Ge("string")};class pT extends aN{constructor(t){super(),this.firestore=t}convertBytes(t){return new Ei(t)}convertReference(t){const i=this.convertDocumentKey(t,this.firestore._databaseId);return new ke(this.firestore,null,i)}}function lN(r,t,i){r=tr(r,ke);const a=tr(r.firestore,Pa),l=gT(r.converter,t);return Kh(a,[lT(Qh(a),"setDoc",r._key,l,r.converter!==null,i).toMutation(r._key,Ti.none())])}function Hl(r,t,i,...a){r=tr(r,ke);const l=tr(r.firestore,Pa),c=Qh(l);let d;return d=typeof(t=fn(t))=="string"||t instanceof Fh?tN(c,"updateDoc",r._key,t,i,a):WC(c,"updateDoc",r._key,t),Kh(l,[d.toMutation(r._key,Ti.exists(!0))])}function Pv(r){return Kh(tr(r.firestore,Pa),[new lg(r._key,Ti.none())])}function zv(r,t){const i=tr(r.firestore,Pa),a=Dr(r),l=gT(r.converter,t);return Kh(i,[lT(Qh(r.firestore),"addDoc",a._key,l,r.converter!==null,{}).toMutation(a._key,Ti.exists(!1))]).then((()=>a))}function jv(r,...t){r=fn(r);let i={includeMetadataChanges:!1,source:"default"},a=0;typeof t[a]!="object"||Vv(t[a])||(i=t[a++]);const l={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(Vv(t[a])){const y=t[a];t[a]=y.next?.bind(y),t[a+1]=y.error?.bind(y),t[a+2]=y.complete?.bind(y)}let c,d,p;if(r instanceof ke)d=tr(r.firestore,Pa),p=ag(r._key.path),c={next:y=>{t[a]&&t[a](uN(d,r,y))},error:t[a+1],complete:t[a+2]};else{const y=tr(r,Zo);d=tr(y.firestore,Pa),p=y._query;const _=new pT(d);c={next:b=>{t[a]&&t[a](new Uo(d,_,y,b))},error:t[a+1],complete:t[a+2]},rN(r._query)}return(function(_,b,S,V){const K=new HC(V),tt=new AC(b,K,S);return _.asyncQueue.enqueueAndForget((async()=>EC(await Iv(_),tt))),()=>{K.Nu(),_.asyncQueue.enqueueAndForget((async()=>TC(await Iv(_),tt)))}})(sT(d),p,l,c)}function Kh(r,t){return(function(a,l){const c=new xa;return a.asyncQueue.enqueueAndForget((async()=>VC(await QC(a),l,c))),c.promise})(sT(r),t)}function uN(r,t,i){const a=i.docs.get(t._key),l=new pT(r);return new Da(r,l,t._key,a,new Xl(i.hasPendingWrites,i.fromCache),t.converter)}function Bv(){return new Rg("serverTimestamp")}(function(t,i=!0){(function(l){Ko=l})(Qo),Po(new Va("firestore",((a,{instanceIdentifier:l,options:c})=>{const d=a.getProvider("app").getImmediate(),p=new Pa(new Jw(a.getProvider("auth-internal")),new tR(d,a.getProvider("app-check-internal")),(function(_,b){if(!Object.prototype.hasOwnProperty.apply(_.options,["projectId"]))throw new ht(Z.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new au(_.options.projectId,b)})(d,l),d);return c={useFetchStreams:i,...c},p._setSettings(c),p}),"PUBLIC").setMultipleInstances(!0)),Os(L0,P0,t),Os(L0,P0,"esm2020")})();const cN=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),hN=r=>r.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,i,a)=>a?a.toUpperCase():i.toLowerCase()),qv=r=>{const t=hN(r);return t.charAt(0).toUpperCase()+t.slice(1)},yT=(...r)=>r.filter((t,i,a)=>!!t&&t.trim()!==""&&a.indexOf(t)===i).join(" ").trim(),fN=r=>{for(const t in r)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};var dN={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const mN=rt.forwardRef(({color:r="currentColor",size:t=24,strokeWidth:i=2,absoluteStrokeWidth:a,className:l="",children:c,iconNode:d,...p},y)=>rt.createElement("svg",{ref:y,...dN,width:t,height:t,stroke:r,strokeWidth:a?Number(i)*24/Number(t):i,className:yT("lucide",l),...!c&&!fN(p)&&{"aria-hidden":"true"},...p},[...d.map(([_,b])=>rt.createElement(_,b)),...Array.isArray(c)?c:[c]]));const Ut=(r,t)=>{const i=rt.forwardRef(({className:a,...l},c)=>rt.createElement(mN,{ref:c,iconNode:t,className:yT(`lucide-${cN(qv(r))}`,`lucide-${r}`,a),...l}));return i.displayName=qv(r),i};const gN=[["path",{d:"M12 6v16",key:"nqf5sj"}],["path",{d:"m19 13 2-1a9 9 0 0 1-18 0l2 1",key:"y7qv08"}],["path",{d:"M9 11h6",key:"1fldmi"}],["circle",{cx:"12",cy:"4",r:"2",key:"muu5ef"}]],pN=Ut("anchor",gN);const yN=[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]],om=Ut("bot",yN);const _N=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],lm=Ut("briefcase",_N);const vN=[["path",{d:"M12 20v-9",key:"1qisl0"}],["path",{d:"M14 7a4 4 0 0 1 4 4v3a6 6 0 0 1-12 0v-3a4 4 0 0 1 4-4z",key:"uouzyp"}],["path",{d:"M14.12 3.88 16 2",key:"qol33r"}],["path",{d:"M21 21a4 4 0 0 0-3.81-4",key:"1b0z45"}],["path",{d:"M21 5a4 4 0 0 1-3.55 3.97",key:"5cxbf6"}],["path",{d:"M22 13h-4",key:"1jl80f"}],["path",{d:"M3 21a4 4 0 0 1 3.81-4",key:"1fjd4g"}],["path",{d:"M3 5a4 4 0 0 0 3.55 3.97",key:"1d7oge"}],["path",{d:"M6 13H2",key:"82j7cp"}],["path",{d:"m8 2 1.88 1.88",key:"fmnt4t"}],["path",{d:"M9 7.13V6a3 3 0 1 1 6 0v1.13",key:"1vgav8"}]],EN=Ut("bug",vN);const TN=[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],Lm=Ut("camera",TN);const bN=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],SN=Ut("chevron-down",bN);const AN=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],wN=Ut("chevron-right",AN);const RN=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}]],ah=Ut("circle-dot",RN);const IN=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],Hv=Ut("crown",IN);const CN=[["path",{d:"M11 20H2",key:"nlcfvz"}],["path",{d:"M11 4.562v16.157a1 1 0 0 0 1.242.97L19 20V5.562a2 2 0 0 0-1.515-1.94l-4-1A2 2 0 0 0 11 4.561z",key:"au4z13"}],["path",{d:"M11 4H8a2 2 0 0 0-2 2v14",key:"74r1mk"}],["path",{d:"M14 12h.01",key:"1jfl7z"}],["path",{d:"M22 20h-3",key:"vhrsz"}]],NN=Ut("door-open",CN);const xN=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],DN=Ut("eye-off",xN);const MN=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],ON=Ut("eye",MN);const VN=[["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}],["path",{d:"M12 16.5A4.5 4.5 0 1 1 7.5 12 4.5 4.5 0 1 1 12 7.5a4.5 4.5 0 1 1 4.5 4.5 4.5 4.5 0 1 1-4.5 4.5",key:"14wa3c"}],["path",{d:"M12 7.5V9",key:"1oy5b0"}],["path",{d:"M7.5 12H9",key:"eltsq1"}],["path",{d:"M16.5 12H15",key:"vk5kw4"}],["path",{d:"M12 16.5V15",key:"k7eayi"}],["path",{d:"m8 8 1.88 1.88",key:"nxy4qf"}],["path",{d:"M14.12 9.88 16 8",key:"1lst6k"}],["path",{d:"m8 16 1.88-1.88",key:"h2eex1"}],["path",{d:"M14.12 14.12 16 16",key:"uqkrx3"}]],Yc=Ut("flower",VN);const kN=[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]],UN=Ut("heart",kN);const LN=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],_T=Ut("image",LN);const PN=[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]],Fv=Ut("key",PN);const zN=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],jN=Ut("layers",zN);const BN=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],Lo=Ut("map-pin",BN);const qN=[["path",{d:"M12 2v20",key:"t6zp3m"}],["path",{d:"m15 19-3 3-3-3",key:"11eu04"}],["path",{d:"m19 9 3 3-3 3",key:"1mg7y2"}],["path",{d:"M2 12h20",key:"9i4pu4"}],["path",{d:"m5 9-3 3 3 3",key:"j64kie"}],["path",{d:"m9 5 3-3 3 3",key:"l8vdw6"}]],HN=Ut("move",qN);const FN=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],Fl=Ut("package",FN);const GN=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],QN=Ut("plus",GN);const YN=[["path",{d:"M16.247 7.761a6 6 0 0 1 0 8.478",key:"1fwjs5"}],["path",{d:"M19.075 4.933a10 10 0 0 1 0 14.134",key:"ehdyv1"}],["path",{d:"M4.925 19.067a10 10 0 0 1 0-14.134",key:"1q22gi"}],["path",{d:"M7.753 16.239a6 6 0 0 1 0-8.478",key:"r2q7qm"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],Gv=Ut("radio",YN);const KN=[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]],XN=Ut("rocket",KN);const $N=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M14 15H9v-5",key:"pi4jk9"}],["path",{d:"M16 3h5v5",key:"1806ms"}],["path",{d:"M21 3 9 15",key:"15kdhq"}]],JN=Ut("scaling",$N);const ZN=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],WN=Ut("search",ZN);const t4=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],e4=Ut("settings",t4);const n4=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]],Pm=Ut("shield-alert",n4);const i4=[["path",{d:"m12.5 17-.5-1-.5 1h1z",key:"3me087"}],["path",{d:"M15 22a1 1 0 0 0 1-1v-1a2 2 0 0 0 1.56-3.25 8 8 0 1 0-11.12 0A2 2 0 0 0 8 20v1a1 1 0 0 0 1 1z",key:"1o5pge"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}]],r4=Ut("skull",i4);const s4=[["path",{d:"M14 9.536V7a4 4 0 0 1 4-4h1.5a.5.5 0 0 1 .5.5V5a4 4 0 0 1-4 4 4 4 0 0 0-4 4c0 2 1 3 1 5a5 5 0 0 1-1 3",key:"139s4v"}],["path",{d:"M4 9a5 5 0 0 1 8 4 5 5 0 0 1-8-4",key:"1dlkgp"}],["path",{d:"M5 21h14",key:"11awu3"}]],Qv=Ut("sprout",s4);const a4=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]],o4=Ut("square-plus",a4);const l4=[["path",{d:"M3.5 21 14 3",key:"1szst5"}],["path",{d:"M20.5 21 10 3",key:"1310c3"}],["path",{d:"M15.5 21 12 15l-3.5 6",key:"1ddtfw"}],["path",{d:"M2 21h20",key:"1nyx9w"}]],u4=Ut("tent",l4);const c4=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],h4=Ut("trash-2",c4);const f4=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],Rh=Ut("upload",f4);const d4=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],vT=Ut("user",d4);const m4=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],g4=Ut("users",m4);const p4=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],zm=Ut("x",p4);const y4=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],Yv=Ut("zap",y4),um=typeof globalThis<"u"&&typeof globalThis.__firebase_config<"u"?globalThis.__firebase_config:"{}";let hu={};try{hu=typeof um=="string"?JSON.parse(um):um||{}}catch(r){console.warn("Failed to parse __firebase_config, falling back to empty config.",r),hu={}}const _4=!!(hu&&hu.apiKey),v4=typeof globalThis<"u"&&typeof globalThis.__disable_firebase<"u"?!!globalThis.__disable_firebase:!1;let Kc=null,Ia=null,un=null,jm=!1;if(_4&&!v4)try{Kc=a1(hu),Ia=Yw(Kc),un=KC(Kc),jm=!!(Kc&&Ia&&un)}catch(r){console.warn("Firebase init failed, running in local mode instead.",r),jm=!1}const Xc=jm,_i=typeof globalThis<"u"&&typeof globalThis.__app_id<"u"?globalThis.__app_id:"default-app",Ro=r=>`./maps/${r}`,$i={dam:{id:"dam",name:"",width:2e3,height:2e3,defaultUrl:Ro("dam.jpg"),bgColor:"#1a1d21",gridColor:"#2a2e33"},spaceport:{id:"spaceport",name:"",width:2400,height:1600,defaultUrl:Ro("spaceport.jpg"),bgColor:"#161b22",gridColor:"#1f2937"},buried:{id:"buried",name:"",width:2e3,height:2e3,defaultUrl:Ro("buried.jpg"),bgColor:"#1f1a16",gridColor:"#332b25"},bluegate:{id:"bluegate",name:"",width:2400,height:1600,defaultUrl:Ro("bluegate.jpg"),bgColor:"#1e293b",gridColor:"#334155"},stella:{id:"stella",name:"",width:2400,height:1600,bgColor:"#0f172a",gridColor:"#1e293b",layers:[{id:"upper",name:" ()",defaultUrl:Ro("stella_upper.jpg")},{id:"lower",name:" ()",defaultUrl:Ro("stella_lower.jpg")}]}},Ca={containers:{label:"",color:"#f59e0b"},arc:{label:"",color:"#ef4444"},nature:{label:"",color:"#10b981"},events:{label:"",color:"#a855f7"},others:{label:"",color:"#3b82f6"}},E4={weapon_case:{id:"weapon_case",cat:"containers",label:"",icon:lm},med_bag:{id:"med_bag",cat:"containers",label:"",icon:o4},grenade_tube:{id:"grenade_tube",cat:"containers",label:"",icon:ah},ammo_crate:{id:"ammo_crate",cat:"containers",label:"",icon:Fl},backpack:{id:"backpack",cat:"containers",label:"",icon:lm},security_lockbox:{id:"security_lockbox",cat:"containers",label:"",icon:Fv},baron_husk:{id:"baron_husk",cat:"containers",label:"",icon:r4},rocketeer_husk:{id:"rocketeer_husk",cat:"containers",label:"",icon:XN},wasp_husk:{id:"wasp_husk",cat:"containers",label:"",icon:ah},arc_courier:{id:"arc_courier",cat:"containers",label:"ARC",icon:Fl},crashed_probe:{id:"crashed_probe",cat:"containers",label:"",icon:Gv},tick:{id:"tick",cat:"arc",label:"",icon:EN},pop:{id:"pop",cat:"arc",label:"",icon:ah},fireball:{id:"fireball",cat:"arc",label:"",icon:Yv},surveyor:{id:"surveyor",cat:"arc",label:"arc",icon:ON},sentinel:{id:"sentinel",cat:"arc",label:"",icon:Pm},rocketeer_arc:{id:"rocketeer_arc",cat:"arc",label:"",icon:om},leaper:{id:"leaper",cat:"arc",label:"Leaper",icon:om},bombardier:{id:"bombardier",cat:"arc",label:"",icon:om},bastion:{id:"bastion",cat:"arc",label:"",icon:Pm},queen:{id:"queen",cat:"arc",label:"",icon:Hv},matriarch:{id:"matriarch",cat:"arc",label:"",icon:Hv},mushrooms:{id:"mushrooms",cat:"nature",label:"",icon:Qv},great_mullein:{id:"great_mullein",cat:"nature",label:"",icon:Yc},agave:{id:"agave",cat:"nature",label:"",icon:Yc},apricot_tree:{id:"apricot_tree",cat:"nature",label:"",icon:Yc},prickly_pear:{id:"prickly_pear",cat:"nature",label:"",icon:Yc},moss:{id:"moss",cat:"nature",label:"",icon:Qv},harvester:{id:"harvester",cat:"events",label:"",icon:Yv},raider_cache:{id:"raider_cache",cat:"events",label:"",icon:Fl},wicker_basket:{id:"wicker_basket",cat:"events",label:"",icon:Fl},elevator:{id:"elevator",cat:"others",label:"",icon:pN},hatch:{id:"hatch",cat:"others",label:"",icon:NN},supply_call:{id:"supply_call",cat:"others",label:"",icon:Gv},raider_camp:{id:"raider_camp",cat:"others",label:"",icon:u4},field_depot:{id:"field_depot",cat:"others",label:"",icon:lm},player_spawn:{id:"player_spawn",cat:"others",label:"",icon:vT},quest:{id:"quest",cat:"others",label:"",icon:Lo},locked_room:{id:"locked_room",cat:"others",label:"",icon:Fv},field_crate:{id:"field_crate",cat:"others",label:"",icon:Fl},custom_pin:{id:"custom_pin",cat:"others",label:"",icon:Lo}},Kv={id:"unknown",cat:"others",label:"",icon:ah},Ma={weapon_case:"/icon/weapon_case.svg",med_bag:"/icon/med_bag.svg",grenade_tube:"/icon/grenade_tube.svg",ammo_crate:"/icon/ammo_crate.svg",backpack:"/icon/backpack.svg",security_lockbox:"/icon/security_locker.svg",baron_husk:"/icon/baron_husk.svg",rocketeer_husk:"/icon/rocketeer_husk.svg",wasp_husk:"/icon/wasp_husk.svg",arc_courier:"/icon/arc_courier.svg",crashed_probe:"/icon/crashed_probe.svg",tick:"/icon/tick.svg",pop:"/icon/pop.svg",fireball:"/icon/fireball.svg",surveyor:"/icon/surveyor.svg",sentinel:"/icon/sentinel.svg",rocketeer_arc:"/icon/rocketeer.svg",leaper:"/icon/leaper.svg",bombardier:"/icon/bombardier.svg",bastion:"/icon/bastion.svg",queen:"/icon/queen.svg",matriarch:"/icon/apricot_tree.svg",mushrooms:"/icon/mushrooms.svg",great_mullein:"/icon/great_mullein.svg",agave:"/icon/agave.svg",apricot_tree:"/icon/apricot_tree.svg",prickly_pear:"/icon/prickly_pear.svg",moss:"/icon/moss.svg",harvester:"/icon/harvester.svg",raider_cache:"/icon/raider_cache.svg",wicker_basket:"/icon/wicker_basket.svg",elevator:"/icon/elevator.svg",hatch:"/icon/hatch.svg",supply_call:"/icon/supply_call_station.svg",raider_camp:"/icon/raider_camp.svg",field_depot:"/icon/field_depot.svg",player_spawn:"/icon/player_spawn.svg",quest:"/icon/quest.svg",locked_room:"/icon/locked_room.svg",field_crate:"/icon/field_crate.svg",custom_pin:"/icon/field_crate.svg"},T4="./";Object.keys(Ma).forEach(r=>{const t=Ma[r];if(typeof t=="string"&&t.startsWith("/")){const i=t.replace(/^\//,"");Ma[r]=`${T4}${i}`}});const b4=new Set(Object.values(Ma)),Gl=(r,t="")=>`data:image/svg+xml;utf8,${encodeURIComponent(`<svg xmlns="http://www.w3.org/2000/svg" width="64" height="64" viewBox="0 0 64 64"><rect width="64" height="64" rx="12" fill="${r}"/><text x="50%" y="54%" text-anchor="middle" font-size="28" fill="#0f172a" font-family="Arial, sans-serif" font-weight="700">${t}</text></svg>`)}`,S4=[{id:"preset-orange",label:"",dataUrl:Gl("#fb923c","P")},{id:"preset-blue",label:"",dataUrl:Gl("#60a5fa","P")},{id:"preset-green",label:"",dataUrl:Gl("#34d399","P")},{id:"preset-purple",label:"",dataUrl:Gl("#c084fc","P")},{id:"preset-gray",label:"",dataUrl:Gl("#9ca3af","P")}],cm=()=>Math.random().toString(36).substring(2,8).toUpperCase(),Ih=(r,t=600)=>new Promise((i,a)=>{const l=new FileReader;l.readAsDataURL(r),l.onload=c=>{const d=new Image;d.src=c.target.result,d.onload=()=>{const p=document.createElement("canvas"),y=t/d.width;p.width=t,p.height=d.height*y,p.getContext("2d").drawImage(d,0,0,p.width,p.height),i(p.toDataURL("image/jpeg",.7))},d.onerror=a},l.onerror=a}),A4=({config:r,onUpload:t})=>x.jsx("div",{className:"w-full h-full absolute top-0 left-0 flex flex-col items-center justify-center",style:{backgroundColor:r.bgColor,backgroundImage:`
        linear-gradient(${r.gridColor} 1px, transparent 1px),
        linear-gradient(90deg, ${r.gridColor} 1px, transparent 1px)
      `,backgroundSize:"100px 100px"},children:x.jsxs("div",{className:"text-center p-6 bg-black/50 backdrop-blur rounded-xl border border-gray-700",children:[x.jsx(_T,{size:48,className:"mx-auto text-gray-500 mb-4"}),x.jsx("p",{className:"text-gray-300 font-bold mb-2",children:"NO MAP IMAGE"}),x.jsx("p",{className:"text-gray-500 text-sm mb-4 max-w-xs",children:""}),x.jsxs("button",{onClick:t,className:"bg-orange-600 hover:bg-orange-500 text-white px-4 py-2 rounded flex items-center gap-2 mx-auto transition-colors",children:[x.jsx(Rh,{size:16}),""]})]})}),w4=({pin:r,markerDef:t,onClose:i,onUpdateImage:a,onUpdateIcon:l,onUpdateNote:c,onDelete:d,onMark:p})=>{const y=rt.useRef(null),_=rt.useRef(null),b=Ca[t.cat]||Ca.others,[S,V]=rt.useState(r.note||""),K=async nt=>{const et=nt.target.files[0];if(et)try{const dt=await Ih(et);a(r.id,dt)}catch(dt){console.error("Image upload failed",dt),alert("")}},tt=async nt=>{const et=nt.target.files[0];if(!(!et||!l))try{const dt=await Ih(et,128);l(r.id,dt)}catch(dt){console.error("Icon upload failed",dt),alert("")}};return x.jsxs("div",{className:"absolute z-[100] bg-gray-900 text-white rounded-lg shadow-2xl border border-gray-700 w-72 overflow-hidden",style:{top:"50%",left:"50%",transform:"translate(-50%, -50%)"},onClick:nt=>nt.stopPropagation(),children:[x.jsxs("div",{className:"relative h-40 bg-gray-800 flex items-center justify-center overflow-hidden group",children:[r.imageUrl?x.jsx("img",{src:r.imageUrl,alt:"Pin Attachment",className:"w-full h-full object-cover"}):x.jsxs("div",{className:"flex flex-col items-center text-gray-500",children:[x.jsx(Lm,{size:32,className:"mb-2 opacity-50"}),x.jsx("span",{className:"text-xs",children:"No Image"})]}),x.jsx("div",{className:"absolute inset-0 bg-black/60 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center cursor-pointer",onClick:()=>y.current?.click(),children:x.jsxs("div",{className:"text-center",children:[x.jsx(Rh,{className:"mx-auto mb-1 text-white",size:24}),x.jsx("span",{className:"text-xs font-bold text-white",children:"/"})]})}),x.jsx("input",{type:"file",ref:y,className:"hidden",accept:"image/*",onChange:K}),x.jsx("input",{type:"file",ref:_,className:"hidden",accept:"image/*",onChange:tt})]}),x.jsxs("div",{className:"p-4",children:[x.jsxs("div",{className:"flex justify-between items-start mb-2",children:[x.jsxs("div",{children:[x.jsxs("div",{className:"flex items-center gap-2 text-orange-400 text-xs font-bold uppercase mb-0.5",children:[x.jsx(t.icon,{size:12,color:b.color}),b.label]}),x.jsx("h3",{className:"text-lg font-bold leading-tight",children:t.label})]}),x.jsx("button",{onClick:i,className:"text-gray-400 hover:text-white",children:x.jsx(zm,{size:20})})]}),x.jsxs("div",{className:"text-xs text-gray-500 mb-4",children:[": ",x.jsx("span",{className:"text-gray-300 font-semibold",children:r.createdByName||""})," ",x.jsxs("span",{className:"ml-2 text-gray-600",children:["ID: ",r.id.slice(0,6),""]})]}),x.jsxs("div",{className:"flex flex-col gap-2 mb-3",children:[x.jsx("label",{className:"text-[10px] text-gray-400",children:""}),x.jsx("textarea",{value:S,onChange:nt=>V(nt.target.value),className:"w-full h-20 bg-gray-800 border border-gray-700 rounded px-2 py-1 text-xs text-gray-200",placeholder:""}),x.jsx("div",{className:"flex justify-end",children:x.jsx("button",{onClick:()=>c?.(r.id,S),className:"text-xs px-2 py-1 rounded bg-gray-800 border border-gray-700 hover:bg-gray-700 text-gray-200",children:""})})]}),x.jsxs("div",{className:"flex gap-2 mb-2",children:[x.jsxs("button",{onClick:()=>_.current?.click(),className:"flex-1 bg-gray-700 hover:bg-gray-600 text-white text-xs font-bold py-2 rounded transition-colors flex items-center justify-center gap-2",children:[x.jsx(Lm,{size:14}),""]}),x.jsxs("button",{onClick:()=>y.current?.click(),className:"flex-1 bg-gray-700 hover:bg-gray-600 text-white text-xs font-bold py-2 rounded transition-colors flex items-center justify-center gap-2",children:[x.jsx(Rh,{size:14}),""]})]}),x.jsxs("div",{className:"flex gap-2",children:[x.jsxs("button",{onClick:()=>p?.(r.id),className:"flex-1 bg-gray-700 hover:bg-gray-600 text-white text-xs font-bold py-2 rounded transition-colors flex items-center justify-center gap-2",children:[x.jsx(Lo,{size:14}),""]}),x.jsx("button",{onClick:()=>d(r.id),className:"bg-red-900/50 hover:bg-red-900 text-red-200 p-2 rounded transition-colors",title:"",children:x.jsx(h4,{size:16})})]})]})]})};function R4(){const[r,t]=rt.useState(null),[i,a]=rt.useState(null),[l,c]=rt.useState("dam"),[d,p]=rt.useState(null),[y,_]=rt.useState({}),[b,S]=rt.useState([]),[V,K]=rt.useState([]),[tt,nt]=rt.useState(null),[et,dt]=rt.useState([]),[wt,_t]=rt.useState({}),[Ot,Jt]=rt.useState({}),[Mt,N]=rt.useState([]),[w,C]=rt.useState(null),[k,D]=rt.useState(!1),[L,R]=rt.useState(null),[se,Ee]=rt.useState(""),[G,st]=rt.useState(null),[gt,Lt]=rt.useState([]),[Ht,O]=rt.useState(""),[$,at]=rt.useState(!1),[ut,Tt]=rt.useState([]),[Ct,Ft]=rt.useState(""),[Ue,fe]=rt.useState(""),[qr,Fs]=rt.useState("#7dd3fc"),[Gs,Qs]=rt.useState(""),[Le,qn]=rt.useState("move"),[Ie,ar]=rt.useState({x:0,y:0,scale:.4}),[Hr,Te]=rt.useState(1),[Ce,ei]=rt.useState(!1),[Ys,Ks]=rt.useState(!1),[$e,or]=rt.useState({x:0,y:0}),[Xs,Fr]=rt.useState(!1),[mn,Ba]=rt.useState(""),[ki,Gr]=rt.useState(i?"shared":"local"),[Qr,An]=rt.useState(i||""),[Qe,gn]=rt.useState(!!i),[Yt,bi]=rt.useState("default"),[lr,$s]=rt.useState(""),[xn,Ui]=rt.useState({}),[be,Dn]=rt.useState({}),Zt=ki==="shared"&&i?"shared":"local",Ye=Zt==="shared"?b:V,Li=(A,q=Zt)=>{q==="shared"?S(Q=>typeof A=="function"?A(Q):A):K(Q=>typeof A=="function"?A(Q):A)},wn=rt.useMemo(()=>Xc&&!!i,[i]),[Hn,ur]=rt.useState({containers:!0,arc:!0,others:!0,nature:!0,events:!0}),[qa,cr]=rt.useState("");Ot.custom_pin,rt.useMemo(()=>{const A={...Ca};return ut.forEach(q=>{A[q.id]={label:q.label,color:q.color||"#6b7280"}}),A},[ut]);const Rn=rt.useMemo(()=>{const A={...E4};return Mt.forEach(q=>{A[q.id]={...q,icon:Lo}}),A},[Mt]),Yr=[...gt,...S4],Pi=A=>wt[A]!==!1,Si=rt.useMemo(()=>{const A={};return Ye.forEach(q=>{q.mapId!==l||$i[l].layers&&q.layerId!==d||(A[q.type]=(A[q.type]||0)+1)}),A},[Ye,l,d]),Js=rt.useRef(null),Mn=rt.useRef(null),On=rt.useRef(null),_e=rt.useRef(null),Ne=rt.useRef(null);rt.useEffect(()=>{const A=localStorage.getItem("tactical_display_name");A&&Ba(A)},[]),rt.useEffect(()=>{!Ht&&Object.keys(Rn).length>0&&O(Object.keys(Rn)[0])},[Rn,Ht]),rt.useEffect(()=>{mn&&localStorage.setItem("tactical_display_name",mn)},[mn]),rt.useEffect(()=>{const A=localStorage.getItem("tactical_custom_markers");if(A)try{const q=JSON.parse(A);Array.isArray(q)&&N(q)}catch(q){console.warn("Failed to parse stored custom markers",q)}},[]),rt.useEffect(()=>{localStorage.setItem("tactical_custom_markers",JSON.stringify(Mt||[]))},[Mt]),rt.useEffect(()=>{if(!et.length)return;const A=new Set(Ye.map(q=>q.id));dt(q=>q.filter(Q=>A.has(Q)))},[Ye,et]),rt.useEffect(()=>{const A=localStorage.getItem("tactical_user_icon_library");if(A)try{const q=JSON.parse(A);Array.isArray(q)&&Lt(q)}catch(q){console.warn("Failed to parse stored icon library",q)}},[]),rt.useEffect(()=>{localStorage.setItem("tactical_user_icon_library",JSON.stringify(gt||[]))},[gt]),rt.useEffect(()=>{const A=localStorage.getItem("tactical_marker_icons");if(A)try{const q=JSON.parse(A);if(q&&typeof q=="object"){const Q={...Ma};Object.entries(q).forEach(([ot,lt])=>{if(!lt)return;const St=typeof lt=="string"&&lt.startsWith("data:"),ee=typeof lt=="string"&&lt.startsWith("http"),xe=typeof lt=="string"&&b4.has(lt);lt.startsWith("/icon/")&&!xe||(St||ee||xe)&&(Q[ot]=lt)}),Jt(Q);return}}catch(q){console.warn("Failed to parse stored marker icons",q)}Jt(Ma)},[]),rt.useEffect(()=>{localStorage.setItem("tactical_marker_icons",JSON.stringify(Ot||{}))},[Ot]),rt.useEffect(()=>{if((async()=>{if(!Xc){t({uid:"local-demo"});return}try{typeof __initial_auth_token<"u"&&__initial_auth_token?await O2(Ia,__initial_auth_token):await C2(Ia)}catch(Q){console.error("Auth error:",Q)}})(),!Xc)return;const q=U2(Ia,t);return()=>q()},[]),rt.useEffect(()=>{const A=new URLSearchParams(window.location.search),q=A.get("room"),Q=A.get("map"),ot=A.get("profile");a(q||null),Gr(q?"shared":"local"),An(q||""),q&&gn(!0),Q&&$i[Q]&&c(Q),ot&&bi(ot);const lt=localStorage.getItem("tactical_local_pins");if(lt)try{const ee=JSON.parse(lt);Array.isArray(ee)&&K(ee)}catch(ee){console.warn("Failed to parse local pins",ee)}const St=localStorage.getItem("tactical_local_map_meta");if(St)try{const ee=JSON.parse(St);ee&&typeof ee=="object"&&Ui(ee)}catch(ee){console.warn("Failed to parse local map meta",ee)}},[]),rt.useEffect(()=>{const A=$i[l];A.layers&&A.layers.length>0?p(A.layers[0].id):p(null),Jr();const q=new URLSearchParams(window.location.search);q.set("map",l),q.set("profile",Yt),i&&q.set("room",i);const Q=`${window.location.pathname}?${q.toString()}`;window.history.replaceState({},"",Q)},[l,Yt,i]),rt.useEffect(()=>{const A=new URLSearchParams(window.location.search);A.set("map",l),A.set("profile",Yt),i&&A.set("room",i);const q=`${window.location.pathname}?${A.toString()}`;window.history.replaceState({},"",q)},[Yt]),rt.useEffect(()=>{localStorage.setItem("tactical_local_pins",JSON.stringify(V||[]))},[V]),rt.useEffect(()=>{localStorage.setItem("tactical_local_map_meta",JSON.stringify(xn||{}))},[xn]),rt.useEffect(()=>{if(!wn||Zt!=="shared"||!Ia||!un||!r)return;const A=`${i}_pins`,q=kv(Qc(un,"artifacts",_i,"public","data",A)),Q=jv(q,ot=>{const lt=ot.docs.map(St=>({id:St.id,...St.data()}));S(lt)},ot=>console.error(ot));return()=>Q()},[r,i]),rt.useEffect(()=>{if(!wn||Zt!=="shared"||!Ia||!un||!r)return;const A=`${i}_mapmeta`,q=kv(Qc(un,"artifacts",_i,"public","data",A)),Q=jv(q,ot=>{const lt={};ot.docs.forEach(St=>{lt[St.id]=St.data()}),Dn(lt)},ot=>console.error(ot));return()=>Q()},[r,i,Zt,wn]);const ni=A=>{const q=A.target.files[0];if(!q)return;const Q=URL.createObjectURL(q),ot=d?`${l}_${d}`:l;_(lt=>({...lt,[ot]:Q}))},hr=()=>On.current?.click(),Wo=async A=>{const q=A.target.files?.[0];if(!(!q||!w))try{const Q=await Ih(q,128);Jt(ot=>({...ot,[w]:Q})),Kr(Q)}catch(Q){console.error("Icon upload failed",Q),alert("Icon image could not be loaded.")}finally{A.target.value="",C(null)}},Ha=(A="custom_pin")=>{C(A),_e.current?.click()},Kr=A=>{A&&Lt(q=>{if(q.some(ot=>ot.dataUrl===A))return q;const Q=`user_${q.length+1}_${Date.now().toString(36)}`;return[...q,{id:Q,label:"My Icon",dataUrl:A}]})},ii=async A=>{const q=Ma[A];if(q){if(at(!0),Jt(Q=>({...Q,[A]:q})),Li(Q=>Q.map(ot=>ot.type===A?{...ot,iconUrl:q}:ot)),wn&&i){const Q=`${i}_pins`,ot=Ye.filter(lt=>lt.type===A);await Promise.allSettled(ot.map(lt=>Hl(Dr(un,"artifacts",_i,"public","data",Q,lt.id),{iconUrl:q})))}at(!1)}},Xr=A=>{R(A),Ee(""),st(Ot.custom_pin||Yr[0]?.dataUrl||null),D(!0)},ri=async A=>{const q=A.target.files?.[0];if(q)try{const Q=await Ih(q,128);st(Q),Kr(Q)}catch(Q){console.error("Marker icon upload failed",Q),alert("")}finally{A.target.value=""}},Vn=()=>{if(!se.trim()||!L){alert("");return}const A=`custom_${Date.now().toString(36)}`,q={id:A,label:se.trim(),cat:L};N(Q=>[...Q,q]),G&&Jt(Q=>({...Q,[A]:G})),qn(A),D(!1)},pn=(A,q)=>{const Q=Math.min(Math.max(.2,A),5),ot=q?.x??window.innerWidth/2,lt=q?.y??window.innerHeight/2,St=(ot-Ie.x)/Ie.scale,ee=(lt-Ie.y)/Ie.scale,xe=ot-St*Q,nn=lt-ee*Q;ar({x:xe,y:nn,scale:Q})},Fn=A=>{A.preventDefault(),A.stopPropagation(),(A.ctrlKey||A.metaKey)&&A.preventDefault();const Q=Ie.scale-A.deltaY*.001;pn(Q,{x:A.clientX,y:A.clientY})};rt.useEffect(()=>{const A=Mn.current;if(A)return A.addEventListener("wheel",Fn,{passive:!1}),()=>A.removeEventListener("wheel",Fn)});const Se=A=>{(A.button===1||Le==="move")&&(Ks(!0),or({x:A.clientX-Ie.x,y:A.clientY-Ie.y}))},Zs=A=>{Ys&&ar(q=>({...q,x:A.clientX-$e.x,y:A.clientY-$e.y}))},$r=()=>Ks(!1),si=async A=>{if(Ys||Zt==="shared"&&!r)return;if(tt){nt(null);return}if(Le==="move")return;const q=Js.current.getBoundingClientRect(),Q=(A.clientX-q.left)/Ie.scale,ot=(A.clientY-q.top)/Ie.scale,lt=$i[l];if(!(Q<0||ot<0||Q>lt.width||ot>lt.height)){if(!wn||Zt==="local"){const St=`local-${Date.now()}-${Math.random().toString(36).slice(2,8)}`;Li(ee=>[...ee,{id:St,mapId:l,layerId:d,x:Q,y:ot,type:Le,iconUrl:Ot[Le]||void 0,profileId:Yt,note:"",createdAt:new Date,createdBy:r?.uid||"local",createdByName:mn||""}]),nt(St),qn("move");return}if(i)try{const St=`${i}_pins`,ee=await zv(Qc(un,"artifacts",_i,"public","data",St),{mapId:l,layerId:d,x:Q,y:ot,type:Le,iconUrl:Ot[Le]||void 0,profileId:Yt,note:"",createdAt:Bv(),createdBy:r.uid,createdByName:mn||""});nt(ee.id),qn("move")}catch(St){console.error("Error adding pin:",St)}}},ai=(A,q)=>{A.stopPropagation(),nt(Q=>Q===q?null:q)},Ws=async A=>{if(!r&&Zt==="shared")return;if(!wn||Zt==="local"){Li(Q=>Q.filter(ot=>ot.id!==A)),tt===A&&nt(null),dt(Q=>Q.filter(ot=>ot!==A));return}const q=`${i}_pins`;try{await Pv(Dr(un,"artifacts",_i,"public","data",q,A)),tt===A&&nt(null),dt(Q=>Q.filter(ot=>ot!==A))}catch(Q){console.error(Q)}},ta=async(A,q)=>{if(!r&&Zt==="shared")return;if(!wn||Zt==="local"){Li(ot=>ot.map(lt=>lt.id===A?{...lt,imageUrl:q}:lt));return}if(!i)return;const Q=`${i}_pins`;try{await Hl(Dr(un,"artifacts",_i,"public","data",Q,A),{imageUrl:q})}catch(ot){console.error(ot)}},ea=async(A,q)=>{if(!r&&Zt==="shared")return;if(Kr(q),!wn||Zt==="local"){Li(ot=>ot.map(lt=>lt.id===A?{...lt,iconUrl:q}:lt));return}if(!i)return;const Q=`${i}_pins`;try{await Hl(Dr(un,"artifacts",_i,"public","data",Q,A),{iconUrl:q})}catch(ot){console.error(ot)}},Fa=async(A,q)=>{if(!r&&Zt==="shared")return;if(!wn||Zt==="local"){Li(ot=>ot.map(lt=>lt.id===A?{...lt,note:q}:lt));return}if(!i)return;const Q=`${i}_pins`;try{await Hl(Dr(un,"artifacts",_i,"public","data",Q,A),{note:q})}catch(ot){console.error(ot)}},Jr=()=>{const A=window.innerWidth,q=window.innerHeight,Q=$i[l];ar({x:A/2-Q.width*.4/2,y:q/2-Q.height*.4/2,scale:.4})},In=Ye.filter(A=>!(A.mapId!==l||(A.profileId||"default")!==Yt||$i[l].layers&&A.layerId!==d||!Pi(A.type))),Ae=A=>{ur(q=>({...q,[A]:!q[A]}))},Pe=()=>{const A={};Object.keys(Rn).forEach(q=>{A[q]=!0}),_t(A)},zi=()=>{const A={};Object.keys(Rn).forEach(q=>{A[q]=!1}),_t(A)},Zr=Zt==="shared"?be:xn,Gt=Zr[l]||{title:"",note:"",profiles:["default"]},We=Gt.profiles&&Gt.profiles.length>0?Gt.profiles:["default"];rt.useEffect(()=>{We.includes(Yt)||bi(We[0]||"default")},[l,We]);const Gn=A=>{const q=(A||"").trim();if(!q)return;const Q=Array.from(new Set([...We,q]));Qn(l,{profiles:Q}),bi(q)},tn=$i[l];let en=tn.defaultUrl,fr=l;if(tn.layers&&d){const A=tn.layers.find(q=>q.id===d);A&&(en=A.defaultUrl),fr=`${l}_${d}`}const na=y[fr]||en,[ia,Ai]=rt.useState(!1);rt.useEffect(()=>Ai(!1),[l,d,y]);const wi=A=>{a(A),Gr(A?"shared":"local"),An(A||""),nt(null),A||(S([]),Dn({}));const q=new URLSearchParams(window.location.search);A?q.set("room",A):q.delete("room"),q.set("map",l),q.set("profile",Yt);const Q=`${window.location.pathname}${q.toString()?`?${q.toString()}`:""}`;window.history.replaceState({},"",Q)},Qn=async(A,q)=>{const ot={...Zr[A]||{},...q,updatedAt:Date.now(),updatedBy:r?.uid||"local",updatedByName:mn||""};if(Zt==="shared"){if(!wn||!i||!r||!un)return;const lt=`${i}_mapmeta`;try{await Hl(Dr(un,"artifacts",_i,"public","data",lt,A),ot).catch(async St=>{if(St.code==="not-found"||String(St).includes("No document"))await lN(Dr(un,"artifacts",_i,"public","data",lt,A),ot);else throw St}),Dn(St=>({...St,[A]:ot}))}catch(St){console.error("Map meta update failed",St)}}else Ui(lt=>({...lt,[A]:ot}))},yn=()=>{const A=i||cm();i||wi(A);const q=`${window.location.origin}${window.location.pathname}?room=${A}`;navigator.clipboard.writeText(q).then(()=>{Fr(!0),setTimeout(()=>Fr(!1),2e3)}).catch(()=>alert("Room ID: "+A))};return Qe?x.jsxs("div",{className:"flex flex-col h-screen bg-black text-gray-200 overflow-hidden font-sans relative",children:[!Xc&&x.jsx("div",{className:"absolute top-2 right-2 z-50 bg-orange-500 text-black text-xs font-bold px-3 py-1 rounded shadow",children:"Firebase disabled (local demo mode)"}),x.jsx("input",{type:"file",ref:On,className:"hidden",accept:"image/*",onChange:ni}),x.jsx("input",{type:"file",ref:_e,className:"hidden",accept:"image/*",onChange:Wo}),x.jsx("input",{type:"file",ref:Ne,className:"hidden",accept:"image/*",onChange:ri}),x.jsxs("header",{className:"h-12 bg-gray-900 border-b border-gray-800 flex items-center justify-between px-4 z-30 shadow-lg shrink-0 gap-4",children:[x.jsxs("div",{className:"flex items-center gap-2 min-w-fit",children:[x.jsx(Pm,{className:"text-orange-500 w-5 h-5"}),x.jsx("h1",{className:"font-bold text-base tracking-wider text-gray-100",children:"TACTICAL"})]}),x.jsxs("div",{className:"flex items-center gap-3 flex-1 justify-center min-w-0",children:[x.jsx("div",{className:"flex items-center bg-gray-800 rounded p-0.5 gap-1 overflow-x-auto scrollbar-hide",children:Object.values($i).map(A=>x.jsx("button",{onClick:()=>c(A.id),className:`px-3 py-1 text-xs font-bold rounded transition-colors uppercase whitespace-nowrap ${l===A.id?"bg-orange-600 text-white":"text-gray-400 hover:text-white hover:bg-gray-700"}`,children:A.name},A.id))}),x.jsx("select",{value:l,onChange:A=>c(A.target.value),className:"bg-gray-800 border border-gray-700 text-gray-200 text-xs rounded px-2 py-1",children:Object.values($i).map(A=>x.jsx("option",{value:A.id,children:A.name},A.id))}),x.jsx("select",{value:Yt,onChange:A=>bi(A.target.value),className:"bg-gray-800 border border-gray-700 text-gray-200 text-xs rounded px-2 py-1",children:We.map(A=>x.jsx("option",{value:A,children:A},A))}),x.jsx("input",{value:lr,onChange:A=>$s(A.target.value),placeholder:"",className:"w-32 bg-gray-800 border border-gray-700 text-gray-200 text-xs rounded px-2 py-1"}),x.jsx("button",{onClick:()=>{Gn(lr||`${We.length+1}`),$s("")},className:"px-2 py-1 text-xs rounded bg-gray-800 border border-gray-700 text-gray-200 hover:bg-gray-700 whitespace-nowrap",children:""}),x.jsx("button",{onClick:()=>{const A=Yt||"default";let q=1,Q=`${A}_copy`;for(;We.includes(Q);)q+=1,Q=`${A}_copy${q}`;const ot=(Zt==="shared"?b:V).filter(lt=>(lt.profileId||"default")===A&&lt.mapId===l);if(Gn(Q),Zt==="local"){const lt=ot.map(St=>({...St,id:`local-${Date.now()}-${Math.random().toString(36).slice(2,8)}`,profileId:Q,createdAt:new Date}));K(St=>[...St,...lt])}else ot.forEach(lt=>{zv(Qc(un,"artifacts",_i,"public","data",`${i}_pins`),{...lt,id:void 0,createdAt:Bv(),profileId:Q})});bi(Q)},className:"px-2 py-1 text-xs rounded bg-gray-800 border border-gray-700 text-gray-200 hover:bg-gray-700 whitespace-nowrap",children:""}),x.jsx("button",{onClick:async()=>{if(We.length<=1)return;const A=Yt,q=We.filter(Q=>Q!==A);if(Qn(l,{profiles:q}),bi(q[0]||"default"),Zt==="local")K(Q=>Q.filter(ot=>!(ot.mapId===l&&(ot.profileId||"default")===A)));else{const Q=b.filter(lt=>lt.mapId===l&&(lt.profileId||"default")===A),ot=`${i}_pins`;await Promise.allSettled(Q.map(lt=>Pv(Dr(un,"artifacts",_i,"public","data",ot,lt.id))))}},className:"px-2 py-1 text-xs rounded bg-gray-800 border border-gray-700 text-gray-200 hover:bg-gray-700 whitespace-nowrap",children:""}),x.jsxs("button",{onClick:()=>qn("custom_pin"),className:`flex items-center gap-1 px-3 py-1 text-xs font-bold rounded border transition-all whitespace-nowrap ${Le==="custom_pin"?"bg-orange-600 text-white border-orange-400":"bg-gray-800 text-gray-300 border-gray-700 hover:bg-gray-700"}`,children:[x.jsx(Lo,{size:14}),"Drop Pin"]})]}),x.jsxs("div",{className:"flex items-center gap-3 min-w-fit",children:[x.jsxs("div",{className:"flex items-center gap-2 bg-gray-800 rounded px-2 py-1 border border-gray-700",children:[x.jsx("span",{className:"text-xs text-gray-400",children:""}),x.jsx("input",{type:"text",value:mn,onChange:A=>Ba(A.target.value.slice(0,24)),placeholder:"",className:"bg-transparent text-sm text-white outline-none w-28"})]}),x.jsx("button",{onClick:yn,className:"bg-blue-600 hover:bg-blue-500 text-white px-3 py-1 rounded text-xs font-medium transition-all",children:""})]})]}),tn.layers&&x.jsx("div",{className:"absolute top-14 left-1/2 -translate-x-1/2 z-30 flex gap-2 bg-black/80 backdrop-blur p-1 rounded-lg border border-gray-700",children:tn.layers.map(A=>x.jsxs("button",{onClick:()=>p(A.id),className:`flex items-center gap-2 px-3 py-1 text-xs font-bold rounded transition-all ${d===A.id?"bg-orange-500 text-white":"text-gray-400 hover:bg-gray-700"}`,children:[x.jsx(jN,{size:14}),A.name]},A.id))}),x.jsxs("div",{className:"flex-1 relative flex overflow-hidden",children:[x.jsxs("div",{className:"w-64 bg-gray-900/95 backdrop-blur border-r border-gray-800 flex flex-col z-20 shadow-xl shrink-0 overflow-hidden",children:[x.jsxs("div",{className:"p-3 border-b border-gray-800 space-y-3",children:[x.jsxs("div",{className:"relative",children:[x.jsx(WN,{className:"absolute left-2 top-1.5 text-gray-500 w-4 h-4"}),x.jsx("input",{type:"text",placeholder:"...",value:qa,onChange:A=>cr(A.target.value),className:"w-full bg-black/40 border border-gray-700 rounded pl-8 pr-2 py-1 text-sm text-gray-300 focus:outline-none focus:border-orange-500"})]}),x.jsx("div",{className:"flex gap-2",children:x.jsxs("div",{className:"flex-1 flex items-center gap-2",children:[x.jsxs("select",{value:ki,onChange:A=>{const q=A.target.value;Gr(q),q==="local"&&wi(null)},className:"w-24 bg-gray-800 border border-gray-700 text-gray-200 text-xs rounded px-2 py-1",children:[x.jsx("option",{value:"local",children:""}),x.jsx("option",{value:"shared",children:""})]}),x.jsx("input",{value:Qr,onChange:A=>An(A.target.value.toUpperCase()),placeholder:"ROOM ID",disabled:ki==="local",className:"flex-1 bg-gray-900 border border-gray-700 rounded px-2 py-1 text-xs text-gray-200 disabled:opacity-50"}),x.jsx("button",{onClick:()=>{if(ki==="local")return wi(null);const A=Qr.trim()||cm();wi(A)},className:"px-2 py-1 text-xs bg-gray-800 border border-gray-700 text-gray-200 rounded hover:bg-gray-700 disabled:opacity-50",disabled:ki==="local",children:"/"})]})}),x.jsxs("div",{className:"flex gap-2 mt-2",children:[x.jsxs("div",{className:"flex flex-col gap-1 flex-1",children:[x.jsx("label",{className:"text-[10px] text-gray-400",children:""}),x.jsx("input",{value:Gt.title||$i[l]?.name||"",onChange:A=>Qn(l,{title:A.target.value}),className:"w-full bg-gray-800 border border-gray-700 rounded px-2 py-1 text-xs text-gray-200",placeholder:""})]}),x.jsxs("div",{className:"flex flex-col gap-1 flex-1",children:[x.jsx("label",{className:"text-[10px] text-gray-400",children:""}),x.jsx("input",{value:Gt.note||"",onChange:A=>Qn(l,{note:A.target.value}),className:"w-full bg-gray-800 border border-gray-700 rounded px-2 py-1 text-xs text-gray-200",placeholder:""})]})]}),x.jsxs("div",{className:"flex gap-2",children:[x.jsxs("button",{onClick:()=>qn("move"),className:`flex-1 py-1.5 rounded flex items-center justify-center gap-2 text-xs font-bold transition-colors border ${Le==="move"?"bg-gray-700 text-white border-gray-500":"bg-gray-800 text-gray-400 border-gray-700 hover:bg-gray-700"}`,children:[x.jsx(HN,{size:14}),""]}),x.jsx("button",{onClick:hr,className:"px-3 py-1.5 rounded bg-gray-800 text-gray-400 border border-gray-700 hover:text-white hover:border-gray-500",children:x.jsx(_T,{size:14})})]}),x.jsxs("div",{className:"flex gap-2",children:[x.jsx("button",{onClick:Pe,className:"flex-1 py-1.5 rounded bg-gray-800 text-gray-300 border border-gray-700 hover:bg-gray-700 text-xs font-bold",children:""}),x.jsx("button",{onClick:zi,className:"flex-1 py-1.5 rounded bg-gray-800 text-gray-300 border border-gray-700 hover:bg-gray-700 text-xs font-bold",children:""})]})]}),x.jsx("div",{className:"flex-1 overflow-y-auto p-2 space-y-1 scrollbar-thin scrollbar-thumb-gray-700",children:Object.entries(Ca).map(([A,q])=>x.jsxs("div",{className:"rounded overflow-hidden",children:[x.jsxs("div",{className:"w-full flex items-center justify-between px-2 py-1.5 bg-gray-800/50 text-xs font-bold text-gray-300",children:[x.jsxs("button",{onClick:()=>Ae(A),className:"flex items-center gap-2 flex-1 text-left hover:text-white",children:[x.jsx("span",{children:q.label}),Hn[A]?x.jsx(SN,{size:14}):x.jsx(wN,{size:14})]}),x.jsx("button",{onClick:()=>Xr(A),className:"p-1 rounded hover:bg-gray-700 text-gray-300 hover:text-white",title:"",children:x.jsx(QN,{size:14})})]}),Hn[A]&&x.jsx("div",{className:"bg-black/20 p-1 space-y-0.5",children:Object.values(Rn).filter(Q=>Q.cat===A).filter(Q=>Q.label.includes(qa)).map(Q=>{const ot=Q.icon,lt=Le===Q.id,St=Ot[Q.id],ee=Si[Q.id]||0,xe=Pi(Q.id);return x.jsxs("div",{role:"button",tabIndex:0,onClick:()=>qn(Q.id),onKeyDown:nn=>{(nn.key==="Enter"||nn.key===" ")&&(nn.preventDefault(),qn(Q.id))},className:`w-full flex items-center gap-3 px-2 py-1.5 rounded text-xs transition-all cursor-pointer ${lt?"bg-gray-700 text-white ring-1 ring-inset ring-gray-500":"text-gray-400 hover:bg-gray-800 hover:text-gray-200"}`,children:[St?x.jsx("img",{src:St,alt:`${Q.label} icon`,className:"w-5 h-5 rounded-full object-cover border border-gray-600/60"}):x.jsx(ot,{size:16,color:q.color}),x.jsx("span",{className:"flex-1 text-left truncate",children:Q.label}),x.jsx("span",{className:"text-[11px] text-gray-400",children:ee}),x.jsxs("div",{className:"flex items-center gap-1 ml-1",children:[x.jsx("button",{onClick:nn=>{nn.stopPropagation(),Ha(Q.id)},className:"p-1 rounded bg-gray-800 hover:bg-gray-700 text-gray-300 border border-gray-700",title:"",children:x.jsx(Lm,{size:12})}),x.jsx("button",{onClick:nn=>{nn.stopPropagation(),_t(_n=>({..._n,[Q.id]:!xe}))},className:`p-1 rounded border ${xe?"bg-gray-800 text-gray-300 border-gray-700 hover:bg-gray-700":"bg-gray-900 text-gray-500 border-gray-800 hover:text-gray-300"}`,title:xe?"":"",children:x.jsx(DN,{size:12})})]})]},Q.id)})})]},A))}),x.jsxs("div",{className:"p-2 border-t border-gray-800 text-[10px] text-gray-600 text-center",children:["Room: ",i||""]})]}),x.jsxs("div",{ref:Mn,className:"flex-1 relative overflow-hidden bg-black cursor-crosshair",onMouseDown:Se,onMouseMove:Zs,onMouseUp:$r,onMouseLeave:$r,children:[x.jsxs("div",{ref:Js,className:"absolute origin-top-left will-change-transform",style:{transform:`translate(${Ie.x}px, ${Ie.y}px) scale(${Ie.scale})`,width:tn.width,height:tn.height,transition:Ys?"none":"transform 0.1s ease-out"},onClick:si,children:[!ia&&na?x.jsx("img",{src:na,alt:tn.name,className:"w-full h-full object-fill pointer-events-none select-none",draggable:!1,onError:()=>Ai(!0)}):x.jsx(A4,{config:tn,onUpload:hr}),In.map(A=>{const q=Rn[A.type]||Kv,Q=Ca[q.cat]||Ca.others,ot=q.icon,lt=A.id===tt,St=et.includes(A.id),ee=A.iconUrl||Ot[A.type],nn=Math.max(.3,Hr),_n=tt&&!lt?.4:1,ji=lt?50:10;return x.jsx("div",{className:"absolute -translate-x-1/2 -translate-y-1/2 cursor-pointer transition-all duration-200",style:{left:A.x,top:A.y,transform:`scale(${nn})`,opacity:_n,zIndex:ji},onClick:oi=>ai(oi,A.id),children:x.jsxs("div",{className:"relative flex flex-col items-center group",children:[x.jsxs("div",{className:`drop-shadow-md filter transition-all ${lt?"drop-shadow-[0_0_10px_rgba(255,255,255,0.8)]":""}`,children:[x.jsx("div",{className:"absolute inset-[-6px] rounded-full border-2 border-orange-500 opacity-80 pointer-events-none"}),St&&x.jsx(UN,{size:16,color:"#f87171",fill:"#f87171",className:"absolute -top-2 -right-2 drop-shadow-md pointer-events-none"}),ee?x.jsx("img",{src:ee,alt:"Custom pin",className:"w-8 h-8 rounded-full border border-black/40 object-cover"}):x.jsx(ot,{size:24,fill:Q.color,color:"#000000",strokeWidth:1.5,className:lt?"text-white":""})]}),!lt&&x.jsx("div",{className:"absolute top-full mt-1 opacity-0 group-hover:opacity-100 bg-black/80 text-white text-[10px] px-2 py-1 rounded whitespace-nowrap pointer-events-none border border-white/20 z-50",children:q.label})]})},A.id)})]}),tt&&(()=>{const A=Ye.find(Q=>Q.id===tt);if(!A)return null;const q=Rn[A.type]||Kv;return x.jsx(w4,{pin:A,markerDef:q,onClose:()=>nt(null),onUpdateImage:ta,onUpdateIcon:ea,onUpdateNote:Fa,onMark:Q=>{dt(ot=>ot.includes(Q)?ot.filter(lt=>lt!==Q):[...ot,Q]),nt(Q)},onDelete:Ws})})(),!1]})]}),x.jsxs("div",{className:"absolute bottom-4 right-4 flex items-end gap-3 z-10 pointer-events-none",children:[x.jsxs("div",{className:"flex items-center gap-3 bg-black/30 backdrop-blur-sm rounded-full px-4 py-2 border border-gray-700/50 shadow pointer-events-auto",children:[x.jsx(JN,{size:16,className:"text-gray-400"}),x.jsx("input",{type:"range",min:"0.5",max:"3",step:"0.1",value:Hr,onChange:A=>Te(parseFloat(A.target.value)),className:"w-28 h-1 bg-gray-600 rounded-lg appearance-none cursor-pointer accent-blue-500"})]}),x.jsxs("div",{className:"flex flex-col items-center gap-3 pointer-events-auto",children:[x.jsx("div",{className:"relative h-40 w-12 flex items-center justify-center bg-black/30 backdrop-blur-sm rounded-full border border-gray-700/50 shadow",children:x.jsx("div",{className:"-rotate-90 w-28",children:x.jsx("input",{type:"range",min:"0.2",max:"5",step:"0.1",value:Ie.scale,onChange:A=>pn(parseFloat(A.target.value)),className:"w-full h-1 bg-gray-600 rounded-lg appearance-none cursor-pointer accent-orange-500"})})}),x.jsx("button",{onClick:()=>ei(!0),className:"bg-gray-800 hover:bg-gray-700 text-gray-200 p-2 rounded-full shadow-lg border border-gray-700",title:"",children:x.jsx(e4,{size:18})})]})]}),Xs&&x.jsx("div",{className:"absolute top-20 left-1/2 -translate-x-1/2 bg-green-600 text-white px-4 py-2 rounded shadow-xl z-50 animate-bounce pointer-events-none",children:""}),Ce&&x.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/70 backdrop-blur-sm p-4",children:x.jsxs("div",{className:"bg-gray-900 rounded-xl border border-gray-700 w-full max-w-md p-5 space-y-4 shadow-2xl",children:[x.jsxs("div",{className:"flex items-center justify-between",children:[x.jsx("h3",{className:"text-lg font-bold text-white",children:""}),x.jsx("button",{onClick:()=>ei(!1),className:"text-gray-400 hover:text-white",children:x.jsx(zm,{size:18})})]}),x.jsxs("div",{className:"flex justify-end gap-2",children:[x.jsxs("div",{className:"flex-1 space-y-2 text-sm text-gray-300",children:[x.jsx("div",{className:"text-xs text-gray-400",children:""}),x.jsx("select",{value:Ht,onChange:A=>O(A.target.value),className:"w-full bg-gray-800 border border-gray-700 rounded px-2 py-1 text-sm text-white",children:Object.values(Rn).map(A=>x.jsx("option",{value:A.id,children:A.label},A.id))})]}),x.jsxs("div",{className:"flex items-end gap-2",children:[x.jsx("button",{onClick:()=>ii(Ht),disabled:!Ht||$,className:"px-3 py-2 text-xs font-semibold rounded bg-gray-800 text-gray-200 border border-gray-700 hover:bg-gray-700 shadow disabled:opacity-50 disabled:cursor-not-allowed",children:""}),x.jsx("button",{onClick:()=>ei(!1),className:"px-3 py-2 text-xs font-semibold rounded bg-orange-600 hover:bg-orange-500 text-white",children:""})]})]})]})}),k&&x.jsx("div",{className:"absolute inset-0 bg-black/60 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:x.jsxs("div",{className:"bg-gray-900 rounded-xl border border-gray-700 w-full max-w-md p-4 space-y-4 shadow-2xl",children:[x.jsxs("div",{className:"flex items-center justify-between",children:[x.jsx("h3",{className:"text-lg font-bold text-white",children:""}),x.jsx("button",{onClick:()=>D(!1),className:"text-gray-400 hover:text-white",children:x.jsx(zm,{size:18})})]}),x.jsxs("div",{className:"text-xs text-gray-400",children:[": ",L&&Ca[L]?.label]}),x.jsx("input",{value:se,onChange:A=>Ee(A.target.value),placeholder:"",className:"w-full bg-gray-800 border border-gray-700 rounded px-3 py-2 text-sm text-white focus:border-orange-500 outline-none"}),x.jsxs("div",{children:[x.jsx("div",{className:"text-xs text-gray-400 mb-2",children:""}),x.jsx("div",{className:"grid grid-cols-5 gap-2 mb-3",children:Yr.map(A=>x.jsx("button",{onClick:()=>st(A.dataUrl),className:`h-12 rounded-lg border ${G===A.dataUrl?"border-orange-500 ring-1 ring-orange-400":"border-gray-700"} bg-gray-800 flex items-center justify-center hover:border-gray-500`,children:x.jsx("img",{src:A.dataUrl,alt:A.label,className:"w-8 h-8 rounded"})},A.id))}),x.jsxs("div",{className:"flex items-center gap-3",children:[x.jsx("div",{className:"w-12 h-12 rounded-full border border-gray-700 bg-gray-800 flex items-center justify-center overflow-hidden",children:G?x.jsx("img",{src:G,alt:"",className:"w-full h-full object-cover"}):x.jsx(Lo,{size:20,className:"text-gray-500"})}),x.jsxs("button",{onClick:()=>Ne.current?.click(),className:"px-3 py-2 text-xs font-semibold rounded border border-gray-700 bg-gray-800 text-gray-200 hover:bg-gray-700 flex items-center gap-2",children:[x.jsx(Rh,{size:14}),""]})]})]}),x.jsxs("div",{className:"flex justify-end gap-2 pt-2",children:[x.jsx("button",{onClick:()=>D(!1),className:"px-3 py-2 text-xs rounded border border-gray-700 text-gray-300 hover:bg-gray-800",children:""}),x.jsx("button",{onClick:Vn,className:"px-3 py-2 text-xs rounded bg-orange-600 hover:bg-orange-500 text-white font-bold",children:""})]})]})})]}):x.jsx("div",{className:"min-h-screen bg-gradient-to-b from-slate-900 via-slate-950 to-slate-900 text-gray-100 flex items-center justify-center p-6",children:x.jsxs("div",{className:"max-w-5xl w-full space-y-8 text-center",children:[x.jsxs("div",{children:[x.jsx("div",{className:"text-3xl font-extrabold text-indigo-300 mb-2",children:""}),x.jsx("div",{className:"text-sm text-gray-400",children:""})]}),x.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[x.jsxs("button",{onClick:()=>{wi(null),gn(!0)},className:"p-6 rounded-2xl bg-slate-900 border border-slate-700 hover:border-indigo-500 transition shadow-lg flex flex-col items-center gap-3",children:[x.jsx("div",{className:"p-4 rounded-full bg-indigo-600/20 text-indigo-300",children:x.jsx(vT,{size:32})}),x.jsx("div",{className:"text-xl font-bold",children:""}),x.jsx("div",{className:"text-sm text-gray-400 leading-relaxed",children:""}),x.jsxs("div",{className:"text-xs text-gray-500 flex items-center gap-2 mt-2",children:[x.jsx("span",{className:"h-2 w-2 rounded-full bg-green-400"})," "]})]}),x.jsxs("button",{onClick:()=>{const A=Qr.trim()||i||cm();wi(A),gn(!0)},className:"p-6 rounded-2xl bg-slate-900 border border-slate-700 hover:border-purple-500 transition shadow-lg flex flex-col items-center gap-3",children:[x.jsx("div",{className:"p-4 rounded-full bg-purple-600/20 text-purple-300",children:x.jsx(g4,{size:32})}),x.jsx("div",{className:"text-xl font-bold",children:""}),x.jsx("div",{className:"text-sm text-gray-400 leading-relaxed",children:""}),x.jsxs("div",{className:"text-xs text-gray-500 flex items-center gap-2 mt-2",children:[x.jsx("span",{className:"h-2 w-2 rounded-full bg-blue-400"})," "]})]})]})]})})}oS.createRoot(document.getElementById("root")).render(x.jsx(Wb.StrictMode,{children:x.jsx(R4,{})}));
