(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))a(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function i(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function a(l){if(l.ep)return;l.ep=!0;const c=i(l);fetch(l.href,c)}})();function $v(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var Hd={exports:{}},ql={};var Z_;function Jb(){if(Z_)return ql;Z_=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(a,l,c){var d=null;if(c!==void 0&&(d=""+c),l.key!==void 0&&(d=""+l.key),"key"in l){c={};for(var p in l)p!=="key"&&(c[p]=l[p])}else c=l;return l=c.ref,{$$typeof:r,type:a,key:d,ref:l!==void 0?l:null,props:c}}return ql.Fragment=e,ql.jsx=i,ql.jsxs=i,ql}var W_;function Zb(){return W_||(W_=1,Hd.exports=Jb()),Hd.exports}var x=Zb(),Fd={exports:{}},Re={};var e0;function Wb(){if(e0)return Re;e0=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),A=Symbol.for("react.activity"),V=Symbol.iterator;function Y(O){return O===null||typeof O!="object"?null:(O=V&&O[V]||O["@@iterator"],typeof O=="function"?O:null)}var te={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},ie=Object.assign,ne={};function de(O,$,le){this.props=O,this.context=$,this.refs=ne,this.updater=le||te}de.prototype.isReactComponent={},de.prototype.setState=function(O,$){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,$,"setState")},de.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function we(){}we.prototype=de.prototype;function ve(O,$,le){this.props=O,this.context=$,this.refs=ne,this.updater=le||te}var Ve=ve.prototype=new we;Ve.constructor=ve,ie(Ve,de.prototype),Ve.isPureReactComponent=!0;var Je=Array.isArray;function Me(){}var N={H:null,A:null,T:null,S:null},w=Object.prototype.hasOwnProperty;function C(O,$,le){var ue=le.ref;return{$$typeof:r,type:O,key:$,ref:ue!==void 0?ue:null,props:le}}function k(O,$){return C(O.type,$,O.props)}function D(O){return typeof O=="object"&&O!==null&&O.$$typeof===r}function L(O){var $={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(le){return $[le]})}var R=/\/+/g;function rt(O,$){return typeof O=="object"&&O!==null&&O.key!=null?L(""+O.key):$.toString(36)}function bt(O){switch(O.status){case"fulfilled":return O.value;case"rejected":throw O.reason;default:switch(typeof O.status=="string"?O.then(Me,Me):(O.status="pending",O.then(function($){O.status==="pending"&&(O.status="fulfilled",O.value=$)},function($){O.status==="pending"&&(O.status="rejected",O.reason=$)})),O.status){case"fulfilled":return O.value;case"rejected":throw O.reason}}throw O}function Q(O,$,le,ue,be){var Ce=typeof O;(Ce==="undefined"||Ce==="boolean")&&(O=null);var Ge=!1;if(O===null)Ge=!0;else switch(Ce){case"bigint":case"string":case"number":Ge=!0;break;case"object":switch(O.$$typeof){case r:case e:Ge=!0;break;case b:return Ge=O._init,Q(Ge(O._payload),$,le,ue,be)}}if(Ge)return be=be(O),Ge=ue===""?"."+rt(O,0):ue,Je(be)?(le="",Ge!=null&&(le=Ge.replace(R,"$&/")+"/"),Q(be,$,le,"",function(Fr){return Fr})):be!=null&&(D(be)&&(be=k(be,le+(be.key==null||O&&O.key===be.key?"":(""+be.key).replace(R,"$&/")+"/")+Ge)),$.push(be)),1;Ge=0;var kt=ue===""?".":ue+":";if(Je(O))for(var ft=0;ft<O.length;ft++)ue=O[ft],Ce=kt+rt(ue,ft),Ge+=Q(ue,$,le,Ce,be);else if(ft=Y(O),typeof ft=="function")for(O=ft.call(O),ft=0;!(ue=O.next()).done;)ue=ue.value,Ce=kt+rt(ue,ft++),Ge+=Q(ue,$,le,Ce,be);else if(Ce==="object"){if(typeof O.then=="function")return Q(bt(O),$,le,ue,be);throw $=String(O),Error("Objects are not valid as a React child (found: "+($==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":$)+"). If you meant to render a collection of children, use an array instead.")}return Ge}function oe(O,$,le){if(O==null)return O;var ue=[],be=0;return Q(O,ue,"","",function(Ce){return $.call(le,Ce,be++)}),ue}function ge(O){if(O._status===-1){var $=O._result;$=$(),$.then(function(le){(O._status===0||O._status===-1)&&(O._status=1,O._result=le)},function(le){(O._status===0||O._status===-1)&&(O._status=2,O._result=le)}),O._status===-1&&(O._status=0,O._result=$)}if(O._status===1)return O._result.default;throw O._result}var Pe=typeof reportError=="function"?reportError:function(O){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var $=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof O=="object"&&O!==null&&typeof O.message=="string"?String(O.message):String(O),error:O});if(!window.dispatchEvent($))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",O);return}console.error(O)},Fe={map:oe,forEach:function(O,$,le){oe(O,function(){$.apply(this,arguments)},le)},count:function(O){var $=0;return oe(O,function(){$++}),$},toArray:function(O){return oe(O,function($){return $})||[]},only:function(O){if(!D(O))throw Error("React.Children.only expected to receive a single React element child.");return O}};return Re.Activity=A,Re.Children=Fe,Re.Component=de,Re.Fragment=i,Re.Profiler=l,Re.PureComponent=ve,Re.StrictMode=a,Re.Suspense=y,Re.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=N,Re.__COMPILER_RUNTIME={__proto__:null,c:function(O){return N.H.useMemoCache(O)}},Re.cache=function(O){return function(){return O.apply(null,arguments)}},Re.cacheSignal=function(){return null},Re.cloneElement=function(O,$,le){if(O==null)throw Error("The argument must be a React element, but you passed "+O+".");var ue=ie({},O.props),be=O.key;if($!=null)for(Ce in $.key!==void 0&&(be=""+$.key),$)!w.call($,Ce)||Ce==="key"||Ce==="__self"||Ce==="__source"||Ce==="ref"&&$.ref===void 0||(ue[Ce]=$[Ce]);var Ce=arguments.length-2;if(Ce===1)ue.children=le;else if(1<Ce){for(var Ge=Array(Ce),kt=0;kt<Ce;kt++)Ge[kt]=arguments[kt+2];ue.children=Ge}return C(O.type,be,ue)},Re.createContext=function(O){return O={$$typeof:d,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null},O.Provider=O,O.Consumer={$$typeof:c,_context:O},O},Re.createElement=function(O,$,le){var ue,be={},Ce=null;if($!=null)for(ue in $.key!==void 0&&(Ce=""+$.key),$)w.call($,ue)&&ue!=="key"&&ue!=="__self"&&ue!=="__source"&&(be[ue]=$[ue]);var Ge=arguments.length-2;if(Ge===1)be.children=le;else if(1<Ge){for(var kt=Array(Ge),ft=0;ft<Ge;ft++)kt[ft]=arguments[ft+2];be.children=kt}if(O&&O.defaultProps)for(ue in Ge=O.defaultProps,Ge)be[ue]===void 0&&(be[ue]=Ge[ue]);return C(O,Ce,be)},Re.createRef=function(){return{current:null}},Re.forwardRef=function(O){return{$$typeof:p,render:O}},Re.isValidElement=D,Re.lazy=function(O){return{$$typeof:b,_payload:{_status:-1,_result:O},_init:ge}},Re.memo=function(O,$){return{$$typeof:_,type:O,compare:$===void 0?null:$}},Re.startTransition=function(O){var $=N.T,le={};N.T=le;try{var ue=O(),be=N.S;be!==null&&be(le,ue),typeof ue=="object"&&ue!==null&&typeof ue.then=="function"&&ue.then(Me,Pe)}catch(Ce){Pe(Ce)}finally{$!==null&&le.types!==null&&($.types=le.types),N.T=$}},Re.unstable_useCacheRefresh=function(){return N.H.useCacheRefresh()},Re.use=function(O){return N.H.use(O)},Re.useActionState=function(O,$,le){return N.H.useActionState(O,$,le)},Re.useCallback=function(O,$){return N.H.useCallback(O,$)},Re.useContext=function(O){return N.H.useContext(O)},Re.useDebugValue=function(){},Re.useDeferredValue=function(O,$){return N.H.useDeferredValue(O,$)},Re.useEffect=function(O,$){return N.H.useEffect(O,$)},Re.useEffectEvent=function(O){return N.H.useEffectEvent(O)},Re.useId=function(){return N.H.useId()},Re.useImperativeHandle=function(O,$,le){return N.H.useImperativeHandle(O,$,le)},Re.useInsertionEffect=function(O,$){return N.H.useInsertionEffect(O,$)},Re.useLayoutEffect=function(O,$){return N.H.useLayoutEffect(O,$)},Re.useMemo=function(O,$){return N.H.useMemo(O,$)},Re.useOptimistic=function(O,$){return N.H.useOptimistic(O,$)},Re.useReducer=function(O,$,le){return N.H.useReducer(O,$,le)},Re.useRef=function(O){return N.H.useRef(O)},Re.useState=function(O){return N.H.useState(O)},Re.useSyncExternalStore=function(O,$,le){return N.H.useSyncExternalStore(O,$,le)},Re.useTransition=function(){return N.H.useTransition()},Re.version="19.2.0",Re}var t0;function Bm(){return t0||(t0=1,Fd.exports=Wb()),Fd.exports}var ae=Bm();const eS=$v(ae);var Gd={exports:{}},Hl={},Qd={exports:{}},Yd={};var n0;function tS(){return n0||(n0=1,(function(r){function e(Q,oe){var ge=Q.length;Q.push(oe);e:for(;0<ge;){var Pe=ge-1>>>1,Fe=Q[Pe];if(0<l(Fe,oe))Q[Pe]=oe,Q[ge]=Fe,ge=Pe;else break e}}function i(Q){return Q.length===0?null:Q[0]}function a(Q){if(Q.length===0)return null;var oe=Q[0],ge=Q.pop();if(ge!==oe){Q[0]=ge;e:for(var Pe=0,Fe=Q.length,O=Fe>>>1;Pe<O;){var $=2*(Pe+1)-1,le=Q[$],ue=$+1,be=Q[ue];if(0>l(le,ge))ue<Fe&&0>l(be,le)?(Q[Pe]=be,Q[ue]=ge,Pe=ue):(Q[Pe]=le,Q[$]=ge,Pe=$);else if(ue<Fe&&0>l(be,ge))Q[Pe]=be,Q[ue]=ge,Pe=ue;else break e}}return oe}function l(Q,oe){var ge=Q.sortIndex-oe.sortIndex;return ge!==0?ge:Q.id-oe.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;r.unstable_now=function(){return c.now()}}else{var d=Date,p=d.now();r.unstable_now=function(){return d.now()-p}}var y=[],_=[],b=1,A=null,V=3,Y=!1,te=!1,ie=!1,ne=!1,de=typeof setTimeout=="function"?setTimeout:null,we=typeof clearTimeout=="function"?clearTimeout:null,ve=typeof setImmediate<"u"?setImmediate:null;function Ve(Q){for(var oe=i(_);oe!==null;){if(oe.callback===null)a(_);else if(oe.startTime<=Q)a(_),oe.sortIndex=oe.expirationTime,e(y,oe);else break;oe=i(_)}}function Je(Q){if(ie=!1,Ve(Q),!te)if(i(y)!==null)te=!0,Me||(Me=!0,L());else{var oe=i(_);oe!==null&&bt(Je,oe.startTime-Q)}}var Me=!1,N=-1,w=5,C=-1;function k(){return ne?!0:!(r.unstable_now()-C<w)}function D(){if(ne=!1,Me){var Q=r.unstable_now();C=Q;var oe=!0;try{e:{te=!1,ie&&(ie=!1,we(N),N=-1),Y=!0;var ge=V;try{t:{for(Ve(Q),A=i(y);A!==null&&!(A.expirationTime>Q&&k());){var Pe=A.callback;if(typeof Pe=="function"){A.callback=null,V=A.priorityLevel;var Fe=Pe(A.expirationTime<=Q);if(Q=r.unstable_now(),typeof Fe=="function"){A.callback=Fe,Ve(Q),oe=!0;break t}A===i(y)&&a(y),Ve(Q)}else a(y);A=i(y)}if(A!==null)oe=!0;else{var O=i(_);O!==null&&bt(Je,O.startTime-Q),oe=!1}}break e}finally{A=null,V=ge,Y=!1}oe=void 0}}finally{oe?L():Me=!1}}}var L;if(typeof ve=="function")L=function(){ve(D)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,rt=R.port2;R.port1.onmessage=D,L=function(){rt.postMessage(null)}}else L=function(){de(D,0)};function bt(Q,oe){N=de(function(){Q(r.unstable_now())},oe)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(Q){Q.callback=null},r.unstable_forceFrameRate=function(Q){0>Q||125<Q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):w=0<Q?Math.floor(1e3/Q):5},r.unstable_getCurrentPriorityLevel=function(){return V},r.unstable_next=function(Q){switch(V){case 1:case 2:case 3:var oe=3;break;default:oe=V}var ge=V;V=oe;try{return Q()}finally{V=ge}},r.unstable_requestPaint=function(){ne=!0},r.unstable_runWithPriority=function(Q,oe){switch(Q){case 1:case 2:case 3:case 4:case 5:break;default:Q=3}var ge=V;V=Q;try{return oe()}finally{V=ge}},r.unstable_scheduleCallback=function(Q,oe,ge){var Pe=r.unstable_now();switch(typeof ge=="object"&&ge!==null?(ge=ge.delay,ge=typeof ge=="number"&&0<ge?Pe+ge:Pe):ge=Pe,Q){case 1:var Fe=-1;break;case 2:Fe=250;break;case 5:Fe=1073741823;break;case 4:Fe=1e4;break;default:Fe=5e3}return Fe=ge+Fe,Q={id:b++,callback:oe,priorityLevel:Q,startTime:ge,expirationTime:Fe,sortIndex:-1},ge>Pe?(Q.sortIndex=ge,e(_,Q),i(y)===null&&Q===i(_)&&(ie?(we(N),N=-1):ie=!0,bt(Je,ge-Pe))):(Q.sortIndex=Fe,e(y,Q),te||Y||(te=!0,Me||(Me=!0,L()))),Q},r.unstable_shouldYield=k,r.unstable_wrapCallback=function(Q){var oe=V;return function(){var ge=V;V=oe;try{return Q.apply(this,arguments)}finally{V=ge}}}})(Yd)),Yd}var i0;function nS(){return i0||(i0=1,Qd.exports=tS()),Qd.exports}var Kd={exports:{}},En={};var r0;function iS(){if(r0)return En;r0=1;var r=Bm();function e(y){var _="https://react.dev/errors/"+y;if(1<arguments.length){_+="?args[]="+encodeURIComponent(arguments[1]);for(var b=2;b<arguments.length;b++)_+="&args[]="+encodeURIComponent(arguments[b])}return"Minified React error #"+y+"; visit "+_+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var a={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},l=Symbol.for("react.portal");function c(y,_,b){var A=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:A==null?null:""+A,children:y,containerInfo:_,implementation:b}}var d=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(y,_){if(y==="font")return"";if(typeof _=="string")return _==="use-credentials"?_:""}return En.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,En.createPortal=function(y,_){var b=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_||_.nodeType!==1&&_.nodeType!==9&&_.nodeType!==11)throw Error(e(299));return c(y,_,null,b)},En.flushSync=function(y){var _=d.T,b=a.p;try{if(d.T=null,a.p=2,y)return y()}finally{d.T=_,a.p=b,a.d.f()}},En.preconnect=function(y,_){typeof y=="string"&&(_?(_=_.crossOrigin,_=typeof _=="string"?_==="use-credentials"?_:"":void 0):_=null,a.d.C(y,_))},En.prefetchDNS=function(y){typeof y=="string"&&a.d.D(y)},En.preinit=function(y,_){if(typeof y=="string"&&_&&typeof _.as=="string"){var b=_.as,A=p(b,_.crossOrigin),V=typeof _.integrity=="string"?_.integrity:void 0,Y=typeof _.fetchPriority=="string"?_.fetchPriority:void 0;b==="style"?a.d.S(y,typeof _.precedence=="string"?_.precedence:void 0,{crossOrigin:A,integrity:V,fetchPriority:Y}):b==="script"&&a.d.X(y,{crossOrigin:A,integrity:V,fetchPriority:Y,nonce:typeof _.nonce=="string"?_.nonce:void 0})}},En.preinitModule=function(y,_){if(typeof y=="string")if(typeof _=="object"&&_!==null){if(_.as==null||_.as==="script"){var b=p(_.as,_.crossOrigin);a.d.M(y,{crossOrigin:b,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0})}}else _==null&&a.d.M(y)},En.preload=function(y,_){if(typeof y=="string"&&typeof _=="object"&&_!==null&&typeof _.as=="string"){var b=_.as,A=p(b,_.crossOrigin);a.d.L(y,b,{crossOrigin:A,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0,type:typeof _.type=="string"?_.type:void 0,fetchPriority:typeof _.fetchPriority=="string"?_.fetchPriority:void 0,referrerPolicy:typeof _.referrerPolicy=="string"?_.referrerPolicy:void 0,imageSrcSet:typeof _.imageSrcSet=="string"?_.imageSrcSet:void 0,imageSizes:typeof _.imageSizes=="string"?_.imageSizes:void 0,media:typeof _.media=="string"?_.media:void 0})}},En.preloadModule=function(y,_){if(typeof y=="string")if(_){var b=p(_.as,_.crossOrigin);a.d.m(y,{as:typeof _.as=="string"&&_.as!=="script"?_.as:void 0,crossOrigin:b,integrity:typeof _.integrity=="string"?_.integrity:void 0})}else a.d.m(y)},En.requestFormReset=function(y){a.d.r(y)},En.unstable_batchedUpdates=function(y,_){return y(_)},En.useFormState=function(y,_,b){return d.H.useFormState(y,_,b)},En.useFormStatus=function(){return d.H.useHostTransitionStatus()},En.version="19.2.0",En}var s0;function rS(){if(s0)return Kd.exports;s0=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Kd.exports=iS(),Kd.exports}var a0;function sS(){if(a0)return Hl;a0=1;var r=nS(),e=Bm(),i=rS();function a(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)n+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function c(t){var n=t,s=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(s=n.return),t=n.return;while(t)}return n.tag===3?s:null}function d(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function p(t){if(t.tag===31){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function y(t){if(c(t)!==t)throw Error(a(188))}function _(t){var n=t.alternate;if(!n){if(n=c(t),n===null)throw Error(a(188));return n!==t?null:t}for(var s=t,o=n;;){var h=s.return;if(h===null)break;var f=h.alternate;if(f===null){if(o=h.return,o!==null){s=o;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===s)return y(h),t;if(f===o)return y(h),n;f=f.sibling}throw Error(a(188))}if(s.return!==o.return)s=h,o=f;else{for(var g=!1,E=h.child;E;){if(E===s){g=!0,s=h,o=f;break}if(E===o){g=!0,o=h,s=f;break}E=E.sibling}if(!g){for(E=f.child;E;){if(E===s){g=!0,s=f,o=h;break}if(E===o){g=!0,o=f,s=h;break}E=E.sibling}if(!g)throw Error(a(189))}}if(s.alternate!==o)throw Error(a(190))}if(s.tag!==3)throw Error(a(188));return s.stateNode.current===s?t:n}function b(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=b(t),n!==null)return n;t=t.sibling}return null}var A=Object.assign,V=Symbol.for("react.element"),Y=Symbol.for("react.transitional.element"),te=Symbol.for("react.portal"),ie=Symbol.for("react.fragment"),ne=Symbol.for("react.strict_mode"),de=Symbol.for("react.profiler"),we=Symbol.for("react.consumer"),ve=Symbol.for("react.context"),Ve=Symbol.for("react.forward_ref"),Je=Symbol.for("react.suspense"),Me=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),k=Symbol.for("react.memo_cache_sentinel"),D=Symbol.iterator;function L(t){return t===null||typeof t!="object"?null:(t=D&&t[D]||t["@@iterator"],typeof t=="function"?t:null)}var R=Symbol.for("react.client.reference");function rt(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===R?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case ie:return"Fragment";case de:return"Profiler";case ne:return"StrictMode";case Je:return"Suspense";case Me:return"SuspenseList";case C:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case te:return"Portal";case ve:return t.displayName||"Context";case we:return(t._context.displayName||"Context")+".Consumer";case Ve:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case N:return n=t.displayName||null,n!==null?n:rt(t.type)||"Memo";case w:n=t._payload,t=t._init;try{return rt(t(n))}catch{}}return null}var bt=Array.isArray,Q=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,oe=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ge={pending:!1,data:null,method:null,action:null},Pe=[],Fe=-1;function O(t){return{current:t}}function $(t){0>Fe||(t.current=Pe[Fe],Pe[Fe]=null,Fe--)}function le(t,n){Fe++,Pe[Fe]=t.current,t.current=n}var ue=O(null),be=O(null),Ce=O(null),Ge=O(null);function kt(t,n){switch(le(Ce,n),le(be,t),le(ue,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?T_(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=T_(n),t=b_(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}$(ue),le(ue,t)}function ft(){$(ue),$(be),$(Ce)}function Fr(t){t.memoizedState!==null&&le(Ge,t);var n=ue.current,s=b_(n,t.type);n!==s&&(le(be,t),le(ue,s))}function Hs(t){be.current===t&&($(ue),$(be)),Ge.current===t&&($(Ge),Pl._currentValue=ge)}var Fs,Gs;function Ut(t){if(Fs===void 0)try{throw Error()}catch(s){var n=s.stack.trim().match(/\n( *(at )?)/);Fs=n&&n[1]||"",Gs=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Fs+t+Gs}var Bn=!1;function It(t,n){if(!t||Bn)return"";Bn=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(n){var J=function(){throw Error()};if(Object.defineProperty(J.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(J,[])}catch(F){var q=F}Reflect.construct(t,[],J)}else{try{J.call()}catch(F){q=F}t.call(J.prototype)}}else{try{throw Error()}catch(F){q=F}(J=t())&&typeof J.catch=="function"&&J.catch(function(){})}}catch(F){if(F&&q&&typeof F.stack=="string")return[F.stack,q.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=o.DetermineComponentFrameRoot(),g=f[0],E=f[1];if(g&&E){var I=g.split(`
`),B=E.split(`
`);for(h=o=0;o<I.length&&!I[o].includes("DetermineComponentFrameRoot");)o++;for(;h<B.length&&!B[h].includes("DetermineComponentFrameRoot");)h++;if(o===I.length||h===B.length)for(o=I.length-1,h=B.length-1;1<=o&&0<=h&&I[o]!==B[h];)h--;for(;1<=o&&0<=h;o--,h--)if(I[o]!==B[h]){if(o!==1||h!==1)do if(o--,h--,0>h||I[o]!==B[h]){var K=`
`+I[o].replace(" at new "," at ");return t.displayName&&K.includes("<anonymous>")&&(K=K.replace("<anonymous>",t.displayName)),K}while(1<=o&&0<=h);break}}}finally{Bn=!1,Error.prepareStackTrace=s}return(s=t?t.displayName||t.name:"")?Ut(s):""}function ur(t,n){switch(t.tag){case 26:case 27:case 5:return Ut(t.type);case 16:return Ut("Lazy");case 13:return t.child!==n&&n!==null?Ut("Suspense Fallback"):Ut("Suspense");case 19:return Ut("SuspenseList");case 0:case 15:return It(t.type,!1);case 11:return It(t.type.render,!1);case 1:return It(t.type,!0);case 31:return Ut("Activity");default:return""}}function Gr(t){try{var n="",s=null;do n+=ur(t,s),s=t,t=t.return;while(t);return n}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var St=Object.prototype.hasOwnProperty,Ct=r.unstable_scheduleCallback,ii=r.unstable_cancelCallback,Qs=r.unstable_shouldYield,Ys=r.unstable_requestPaint,Jt=r.unstable_now,cr=r.unstable_getCurrentPriorityLevel,Ks=r.unstable_ImmediatePriority,Qr=r.unstable_UserBlockingPriority,gn=r.unstable_NormalPriority,Ba=r.unstable_LowPriority,Ui=r.unstable_IdlePriority,Yr=r.log,Kr=r.unstable_setDisableYieldValue,wn=null,Qt=null;function pn(t){if(typeof Yr=="function"&&Kr(t),Qt&&typeof Qt.setStrictMode=="function")try{Qt.setStrictMode(wn,t)}catch{}}var Oe=Math.clz32?Math.clz32:Xs,qn=Math.log,hr=Math.LN2;function Xs(t){return t>>>=0,t===0?32:31-(qn(t)/hr|0)|0}var Hn=256,Li=262144,pt=4194304;function Dn(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function ri(t,n,s){var o=t.pendingLanes;if(o===0)return 0;var h=0,f=t.suspendedLanes,g=t.pingedLanes;t=t.warmLanes;var E=o&134217727;return E!==0?(o=E&~f,o!==0?h=Dn(o):(g&=E,g!==0?h=Dn(g):s||(s=E&~t,s!==0&&(h=Dn(s))))):(E=o&~f,E!==0?h=Dn(E):g!==0?h=Dn(g):s||(s=o&~t,s!==0&&(h=Dn(s)))),h===0?0:n!==0&&n!==h&&(n&f)===0&&(f=h&-h,s=n&-n,f>=s||f===32&&(s&4194048)!==0)?n:h}function yn(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function ct(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function si(){var t=pt;return pt<<=1,(pt&62914560)===0&&(pt=4194304),t}function rn(t){for(var n=[],s=0;31>s;s++)n.push(t);return n}function Zt(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function qa(t,n,s,o,h,f){var g=t.pendingLanes;t.pendingLanes=s,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=s,t.entangledLanes&=s,t.errorRecoveryDisabledLanes&=s,t.shellSuspendCounter=0;var E=t.entanglements,I=t.expirationTimes,B=t.hiddenUpdates;for(s=g&~s;0<s;){var K=31-Oe(s),J=1<<K;E[K]=0,I[K]=-1;var q=B[K];if(q!==null)for(B[K]=null,K=0;K<q.length;K++){var F=q[K];F!==null&&(F.lane&=-536870913)}s&=~J}o!==0&&fr(t,o,0),f!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=f&~(g&~n))}function fr(t,n,s){t.pendingLanes|=n,t.suspendedLanes&=~n;var o=31-Oe(n);t.entangledLanes|=n,t.entanglements[o]=t.entanglements[o]|1073741824|s&261930}function Xr(t,n){var s=t.entangledLanes|=n;for(t=t.entanglements;s;){var o=31-Oe(s),h=1<<o;h&n|t[o]&n&&(t[o]|=n),s&=~h}}function $s(t,n){var s=n&-n;return s=(s&42)!==0?1:sn(s),(s&(t.suspendedLanes|n))!==0?0:s}function sn(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function ai(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Js(){var t=oe.p;return t!==0?t:(t=window.event,t===void 0?32:G_(t.type))}function Fn(t,n){var s=oe.p;try{return oe.p=t,n()}finally{oe.p=s}}var Mn=Math.random().toString(36).slice(2),vt="__reactFiber$"+Mn,Nt="__reactProps$"+Mn,Gn="__reactContainer$"+Mn,dr="__reactEvents$"+Mn,el="__reactListeners$"+Mn,Zs="__reactHandles$"+Mn,Ha="__reactResources$"+Mn,oi="__reactMarker$"+Mn;function Pi(t){delete t[vt],delete t[Nt],delete t[dr],delete t[el],delete t[Zs]}function li(t){var n=t[vt];if(n)return n;for(var s=t.parentNode;s;){if(n=s[Gn]||s[vt]){if(s=n.alternate,n.child!==null||s!==null&&s.child!==null)for(t=N_(t);t!==null;){if(s=t[vt])return s;t=N_(t)}return n}t=s,s=t.parentNode}return null}function On(t){if(t=t[vt]||t[Gn]){var n=t.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return t}return null}function Rn(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(a(33))}function ui(t){var n=t[Ha];return n||(n=t[Ha]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Et(t){t[oi]=!0}var $r=new Set,Ws={};function ci(t,n){Qn(t,n),Qn(t+"Capture",n)}function Qn(t,n){for(Ws[t]=n,t=0;t<n.length;t++)$r.add(n[t])}var ea=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ta={},na={};function Fa(t){return St.call(na,t)?!0:St.call(ta,t)?!1:ea.test(t)?na[t]=!0:(ta[t]=!0,!1)}function Jr(t,n,s){if(Fa(n))if(s===null)t.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var o=n.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+s)}}function In(t,n,s){if(s===null)t.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+s)}}function At(t,n,s,o){if(o===null)t.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(s);return}t.setAttributeNS(n,s,""+o)}}function Lt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function zi(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function ia(t,n,s){var o=Object.getOwnPropertyDescriptor(t.constructor.prototype,n);if(!t.hasOwnProperty(n)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var h=o.get,f=o.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return h.call(this)},set:function(g){s=""+g,f.call(this,g)}}),Object.defineProperty(t,n,{enumerable:o.enumerable}),{getValue:function(){return s},setValue:function(g){s=""+g},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function Ze(t){if(!t._valueTracker){var n=zi(t)?"checked":"value";t._valueTracker=ia(t,n,""+t[n])}}function ji(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var s=n.getValue(),o="";return t&&(o=zi(t)?t.checked?"true":"false":t.value),t=o,t!==s?(n.setValue(t),!0):!1}function _n(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Yt=/[\n"\\]/g;function Wt(t){return t.replace(Yt,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function mr(t,n,s,o,h,f,g,E){t.name="",g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"?t.type=g:t.removeAttribute("type"),n!=null?g==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+Lt(n)):t.value!==""+Lt(n)&&(t.value=""+Lt(n)):g!=="submit"&&g!=="reset"||t.removeAttribute("value"),n!=null?Cn(t,g,Lt(n)):s!=null?Cn(t,g,Lt(s)):o!=null&&t.removeAttribute("value"),h==null&&f!=null&&(t.defaultChecked=!!f),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?t.name=""+Lt(E):t.removeAttribute("name")}function Ga(t,n,s,o,h,f,g,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),n!=null||s!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){Ze(t);return}s=s!=null?""+Lt(s):"",n=n!=null?""+Lt(n):s,E||n===t.value||(t.value=n),t.defaultValue=n}o=o??h,o=typeof o!="function"&&typeof o!="symbol"&&!!o,t.checked=E?t.checked:!!o,t.defaultChecked=!!o,g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(t.name=g),Ze(t)}function Cn(t,n,s){n==="number"&&_n(t.ownerDocument)===t||t.defaultValue===""+s||(t.defaultValue=""+s)}function wi(t,n,s,o){if(t=t.options,n){n={};for(var h=0;h<s.length;h++)n["$"+s[h]]=!0;for(s=0;s<t.length;s++)h=n.hasOwnProperty("$"+t[s].value),t[s].selected!==h&&(t[s].selected=h),h&&o&&(t[s].defaultSelected=!0)}else{for(s=""+Lt(s),n=null,h=0;h<t.length;h++){if(t[h].value===s){t[h].selected=!0,o&&(t[h].defaultSelected=!0);return}n!==null||t[h].disabled||(n=t[h])}n!==null&&(n.selected=!0)}}function ra(t,n,s){if(n!=null&&(n=""+Lt(n),n!==t.value&&(t.value=n),s==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=s!=null?""+Lt(s):""}function Ri(t,n,s,o){if(n==null){if(o!=null){if(s!=null)throw Error(a(92));if(bt(o)){if(1<o.length)throw Error(a(93));o=o[0]}s=o}s==null&&(s=""),n=s}s=Lt(n),t.defaultValue=s,o=t.textContent,o===s&&o!==""&&o!==null&&(t.value=o),Ze(t)}function vn(t,n){if(n){var s=t.firstChild;if(s&&s===t.lastChild&&s.nodeType===3){s.nodeValue=n;return}}t.textContent=n}var sa=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function hi(t,n,s){var o=n.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?o?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":o?t.setProperty(n,s):typeof s!="number"||s===0||sa.has(n)?n==="float"?t.cssFloat=s:t[n]=(""+s).trim():t[n]=s+"px"}function Ii(t,n,s){if(n!=null&&typeof n!="object")throw Error(a(62));if(t=t.style,s!=null){for(var o in s)!s.hasOwnProperty(o)||n!=null&&n.hasOwnProperty(o)||(o.indexOf("--")===0?t.setProperty(o,""):o==="float"?t.cssFloat="":t[o]="");for(var h in n)o=n[h],n.hasOwnProperty(h)&&s[h]!==o&&hi(t,h,o)}else for(var f in n)n.hasOwnProperty(f)&&hi(t,f,n[f])}function Zr(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var S=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),P=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function G(t){return P.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function ee(){}var re=null;function pe(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Ke=null,Pt=null;function Kt(t){var n=On(t);if(n&&(t=n.stateNode)){var s=t[Nt]||null;e:switch(t=n.stateNode,n.type){case"input":if(mr(t,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),n=s.name,s.type==="radio"&&n!=null){for(s=t;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+Wt(""+n)+'"][type="radio"]'),n=0;n<s.length;n++){var o=s[n];if(o!==t&&o.form===t.form){var h=o[Nt]||null;if(!h)throw Error(a(90));mr(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<s.length;n++)o=s[n],o.form===t.form&&ji(o)}break e;case"textarea":ra(t,s.value,s.defaultValue);break e;case"select":n=s.value,n!=null&&wi(t,!!s.multiple,n,!1)}}}var Bi=!1;function qi(t,n,s){if(Bi)return t(n,s);Bi=!0;try{var o=t(n);return o}finally{if(Bi=!1,(Ke!==null||Pt!==null)&&(vc(),Ke&&(n=Ke,t=Pt,Pt=Ke=null,Kt(n),t)))for(n=0;n<t.length;n++)Kt(t[n])}}function Yn(t,n){var s=t.stateNode;if(s===null)return null;var o=s[Nt]||null;if(o===null)return null;s=o[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(t=t.type,o=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!o;break e;default:t=!1}if(t)return null;if(s&&typeof s!="function")throw Error(a(231,n,typeof s));return s}var fi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),aa=!1;if(fi)try{var st={};Object.defineProperty(st,"passive",{get:function(){aa=!0}}),window.addEventListener("test",st,st),window.removeEventListener("test",st,st)}catch{aa=!1}var Hi=null,tl=null,oa=null;function nl(){if(oa)return oa;var t,n=tl,s=n.length,o,h="value"in Hi?Hi.value:Hi.textContent,f=h.length;for(t=0;t<s&&n[t]===h[t];t++);var g=s-t;for(o=1;o<=g&&n[s-o]===h[f-o];o++);return oa=h.slice(t,1<o?1-o:void 0)}function la(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function gr(){return!0}function Ci(){return!1}function an(t){function n(s,o,h,f,g){this._reactName=s,this._targetInst=h,this.type=o,this.nativeEvent=f,this.target=g,this.currentTarget=null;for(var E in t)t.hasOwnProperty(E)&&(s=t[E],this[E]=s?s(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?gr:Ci,this.isPropagationStopped=Ci,this}return A(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=gr)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=gr)},persist:function(){},isPersistent:gr}),n}var pr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Fi=an(pr),Wr=A({},pr,{view:0,detail:0}),il=an(Wr),es,Qa,Gi,Ya=A({},Wr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ts,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Gi&&(Gi&&t.type==="mousemove"?(es=t.screenX-Gi.screenX,Qa=t.screenY-Gi.screenY):Qa=es=0,Gi=t),es)},movementY:function(t){return"movementY"in t?t.movementY:Qa}}),rl=an(Ya),ua=A({},Ya,{dataTransfer:0}),Iu=an(ua),Cu=A({},Wr,{relatedTarget:0}),ca=an(Cu),sl=A({},pr,{animationName:0,elapsedTime:0,pseudoElement:0}),Nu=an(sl),Ka=A({},pr,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),xu=an(Ka),Du=A({},pr,{data:0}),Qi=an(Du),Mu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ou={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Vu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ku(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=Vu[t])?!!n[t]:!1}function ts(){return ku}var Nn=A({},Wr,{key:function(t){if(t.key){var n=Mu[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=la(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Ou[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ts,charCode:function(t){return t.type==="keypress"?la(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?la(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Uu=an(Nn),Lu=A({},Ya,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),yr=an(Lu),u=A({},Wr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ts}),m=an(u),v=A({},pr,{propertyName:0,elapsedTime:0,pseudoElement:0}),T=an(v),z=A({},Ya,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),H=an(z),se=A({},pr,{newState:0,oldState:0}),Ne=an(se),xt=[9,13,27,32],We=fi&&"CompositionEvent"in window,yt=null;fi&&"documentMode"in document&&(yt=document.documentMode);var di=fi&&"TextEvent"in window&&!yt,Yi=fi&&(!We||yt&&8<yt&&11>=yt),Ni=" ",xi=!1;function ha(t,n){switch(t){case"keyup":return xt.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Xa(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var $a=!1;function TT(t,n){switch(t){case"compositionend":return Xa(n);case"keypress":return n.which!==32?null:(xi=!0,Ni);case"textInput":return t=n.data,t===Ni&&xi?null:t;default:return null}}function bT(t,n){if($a)return t==="compositionend"||!We&&ha(t,n)?(t=nl(),oa=tl=Hi=null,$a=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return Yi&&n.locale!=="ko"?null:n.data;default:return null}}var ST={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Mg(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!ST[t.type]:n==="textarea"}function Og(t,n,s,o){Ke?Pt?Pt.push(o):Pt=[o]:Ke=o,n=Rc(n,"onChange"),0<n.length&&(s=new Fi("onChange","change",null,s,o),t.push({event:s,listeners:n}))}var al=null,ol=null;function AT(t){g_(t,0)}function Pu(t){var n=Rn(t);if(ji(n))return t}function Vg(t,n){if(t==="change")return n}var kg=!1;if(fi){var Xh;if(fi){var $h="oninput"in document;if(!$h){var Ug=document.createElement("div");Ug.setAttribute("oninput","return;"),$h=typeof Ug.oninput=="function"}Xh=$h}else Xh=!1;kg=Xh&&(!document.documentMode||9<document.documentMode)}function Lg(){al&&(al.detachEvent("onpropertychange",Pg),ol=al=null)}function Pg(t){if(t.propertyName==="value"&&Pu(ol)){var n=[];Og(n,ol,t,pe(t)),qi(AT,n)}}function wT(t,n,s){t==="focusin"?(Lg(),al=n,ol=s,al.attachEvent("onpropertychange",Pg)):t==="focusout"&&Lg()}function RT(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Pu(ol)}function IT(t,n){if(t==="click")return Pu(n)}function CT(t,n){if(t==="input"||t==="change")return Pu(n)}function NT(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var Kn=typeof Object.is=="function"?Object.is:NT;function ll(t,n){if(Kn(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var s=Object.keys(t),o=Object.keys(n);if(s.length!==o.length)return!1;for(o=0;o<s.length;o++){var h=s[o];if(!St.call(n,h)||!Kn(t[h],n[h]))return!1}return!0}function zg(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function jg(t,n){var s=zg(t);t=0;for(var o;s;){if(s.nodeType===3){if(o=t+s.textContent.length,t<=n&&o>=n)return{node:s,offset:n-t};t=o}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=zg(s)}}function Bg(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?Bg(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function qg(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=_n(t.document);n instanceof t.HTMLIFrameElement;){try{var s=typeof n.contentWindow.location.href=="string"}catch{s=!1}if(s)t=n.contentWindow;else break;n=_n(t.document)}return n}function Jh(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var xT=fi&&"documentMode"in document&&11>=document.documentMode,Ja=null,Zh=null,ul=null,Wh=!1;function Hg(t,n,s){var o=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;Wh||Ja==null||Ja!==_n(o)||(o=Ja,"selectionStart"in o&&Jh(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),ul&&ll(ul,o)||(ul=o,o=Rc(Zh,"onSelect"),0<o.length&&(n=new Fi("onSelect","select",null,n,s),t.push({event:n,listeners:o}),n.target=Ja)))}function fa(t,n){var s={};return s[t.toLowerCase()]=n.toLowerCase(),s["Webkit"+t]="webkit"+n,s["Moz"+t]="moz"+n,s}var Za={animationend:fa("Animation","AnimationEnd"),animationiteration:fa("Animation","AnimationIteration"),animationstart:fa("Animation","AnimationStart"),transitionrun:fa("Transition","TransitionRun"),transitionstart:fa("Transition","TransitionStart"),transitioncancel:fa("Transition","TransitionCancel"),transitionend:fa("Transition","TransitionEnd")},ef={},Fg={};fi&&(Fg=document.createElement("div").style,"AnimationEvent"in window||(delete Za.animationend.animation,delete Za.animationiteration.animation,delete Za.animationstart.animation),"TransitionEvent"in window||delete Za.transitionend.transition);function da(t){if(ef[t])return ef[t];if(!Za[t])return t;var n=Za[t],s;for(s in n)if(n.hasOwnProperty(s)&&s in Fg)return ef[t]=n[s];return t}var Gg=da("animationend"),Qg=da("animationiteration"),Yg=da("animationstart"),DT=da("transitionrun"),MT=da("transitionstart"),OT=da("transitioncancel"),Kg=da("transitionend"),Xg=new Map,tf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");tf.push("scrollEnd");function Di(t,n){Xg.set(t,n),ci(n,[t])}var zu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},mi=[],Wa=0,nf=0;function ju(){for(var t=Wa,n=nf=Wa=0;n<t;){var s=mi[n];mi[n++]=null;var o=mi[n];mi[n++]=null;var h=mi[n];mi[n++]=null;var f=mi[n];if(mi[n++]=null,o!==null&&h!==null){var g=o.pending;g===null?h.next=h:(h.next=g.next,g.next=h),o.pending=h}f!==0&&$g(s,h,f)}}function Bu(t,n,s,o){mi[Wa++]=t,mi[Wa++]=n,mi[Wa++]=s,mi[Wa++]=o,nf|=o,t.lanes|=o,t=t.alternate,t!==null&&(t.lanes|=o)}function rf(t,n,s,o){return Bu(t,n,s,o),qu(t)}function ma(t,n){return Bu(t,null,null,n),qu(t)}function $g(t,n,s){t.lanes|=s;var o=t.alternate;o!==null&&(o.lanes|=s);for(var h=!1,f=t.return;f!==null;)f.childLanes|=s,o=f.alternate,o!==null&&(o.childLanes|=s),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(h=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,h&&n!==null&&(h=31-Oe(s),t=f.hiddenUpdates,o=t[h],o===null?t[h]=[n]:o.push(n),n.lane=s|536870912),f):null}function qu(t){if(50<Dl)throw Dl=0,dd=null,Error(a(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var eo={};function VT(t,n,s,o){this.tag=t,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Xn(t,n,s,o){return new VT(t,n,s,o)}function sf(t){return t=t.prototype,!(!t||!t.isReactComponent)}function _r(t,n){var s=t.alternate;return s===null?(s=Xn(t.tag,n,t.key,t.mode),s.elementType=t.elementType,s.type=t.type,s.stateNode=t.stateNode,s.alternate=t,t.alternate=s):(s.pendingProps=n,s.type=t.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=t.flags&65011712,s.childLanes=t.childLanes,s.lanes=t.lanes,s.child=t.child,s.memoizedProps=t.memoizedProps,s.memoizedState=t.memoizedState,s.updateQueue=t.updateQueue,n=t.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},s.sibling=t.sibling,s.index=t.index,s.ref=t.ref,s.refCleanup=t.refCleanup,s}function Jg(t,n){t.flags&=65011714;var s=t.alternate;return s===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=s.childLanes,t.lanes=s.lanes,t.child=s.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=s.memoizedProps,t.memoizedState=s.memoizedState,t.updateQueue=s.updateQueue,t.type=s.type,n=s.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function Hu(t,n,s,o,h,f){var g=0;if(o=t,typeof t=="function")sf(t)&&(g=1);else if(typeof t=="string")g=zb(t,s,ue.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case C:return t=Xn(31,s,n,h),t.elementType=C,t.lanes=f,t;case ie:return ga(s.children,h,f,n);case ne:g=8,h|=24;break;case de:return t=Xn(12,s,n,h|2),t.elementType=de,t.lanes=f,t;case Je:return t=Xn(13,s,n,h),t.elementType=Je,t.lanes=f,t;case Me:return t=Xn(19,s,n,h),t.elementType=Me,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case ve:g=10;break e;case we:g=9;break e;case Ve:g=11;break e;case N:g=14;break e;case w:g=16,o=null;break e}g=29,s=Error(a(130,t===null?"null":typeof t,"")),o=null}return n=Xn(g,s,n,h),n.elementType=t,n.type=o,n.lanes=f,n}function ga(t,n,s,o){return t=Xn(7,t,o,n),t.lanes=s,t}function af(t,n,s){return t=Xn(6,t,null,n),t.lanes=s,t}function Zg(t){var n=Xn(18,null,null,0);return n.stateNode=t,n}function of(t,n,s){return n=Xn(4,t.children!==null?t.children:[],t.key,n),n.lanes=s,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var Wg=new WeakMap;function gi(t,n){if(typeof t=="object"&&t!==null){var s=Wg.get(t);return s!==void 0?s:(n={value:t,source:n,stack:Gr(n)},Wg.set(t,n),n)}return{value:t,source:n,stack:Gr(n)}}var to=[],no=0,Fu=null,cl=0,pi=[],yi=0,ns=null,Ki=1,Xi="";function vr(t,n){to[no++]=cl,to[no++]=Fu,Fu=t,cl=n}function ep(t,n,s){pi[yi++]=Ki,pi[yi++]=Xi,pi[yi++]=ns,ns=t;var o=Ki;t=Xi;var h=32-Oe(o)-1;o&=~(1<<h),s+=1;var f=32-Oe(n)+h;if(30<f){var g=h-h%5;f=(o&(1<<g)-1).toString(32),o>>=g,h-=g,Ki=1<<32-Oe(n)+h|s<<h|o,Xi=f+t}else Ki=1<<f|s<<h|o,Xi=t}function lf(t){t.return!==null&&(vr(t,1),ep(t,1,0))}function uf(t){for(;t===Fu;)Fu=to[--no],to[no]=null,cl=to[--no],to[no]=null;for(;t===ns;)ns=pi[--yi],pi[yi]=null,Xi=pi[--yi],pi[yi]=null,Ki=pi[--yi],pi[yi]=null}function tp(t,n){pi[yi++]=Ki,pi[yi++]=Xi,pi[yi++]=ns,Ki=n.id,Xi=n.overflow,ns=t}var on=null,dt=null,Qe=!1,is=null,_i=!1,cf=Error(a(519));function rs(t){var n=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw hl(gi(n,t)),cf}function np(t){var n=t.stateNode,s=t.type,o=t.memoizedProps;switch(n[vt]=t,n[Nt]=o,s){case"dialog":Ue("cancel",n),Ue("close",n);break;case"iframe":case"object":case"embed":Ue("load",n);break;case"video":case"audio":for(s=0;s<Ol.length;s++)Ue(Ol[s],n);break;case"source":Ue("error",n);break;case"img":case"image":case"link":Ue("error",n),Ue("load",n);break;case"details":Ue("toggle",n);break;case"input":Ue("invalid",n),Ga(n,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":Ue("invalid",n);break;case"textarea":Ue("invalid",n),Ri(n,o.value,o.defaultValue,o.children)}s=o.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||n.textContent===""+s||o.suppressHydrationWarning===!0||v_(n.textContent,s)?(o.popover!=null&&(Ue("beforetoggle",n),Ue("toggle",n)),o.onScroll!=null&&Ue("scroll",n),o.onScrollEnd!=null&&Ue("scrollend",n),o.onClick!=null&&(n.onclick=ee),n=!0):n=!1,n||rs(t,!0)}function ip(t){for(on=t.return;on;)switch(on.tag){case 5:case 31:case 13:_i=!1;return;case 27:case 3:_i=!0;return;default:on=on.return}}function io(t){if(t!==on)return!1;if(!Qe)return ip(t),Qe=!0,!1;var n=t.tag,s;if((s=n!==3&&n!==27)&&((s=n===5)&&(s=t.type,s=!(s!=="form"&&s!=="button")||Cd(t.type,t.memoizedProps)),s=!s),s&&dt&&rs(t),ip(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));dt=C_(t)}else if(n===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));dt=C_(t)}else n===27?(n=dt,_s(t.type)?(t=Od,Od=null,dt=t):dt=n):dt=on?Ei(t.stateNode.nextSibling):null;return!0}function pa(){dt=on=null,Qe=!1}function hf(){var t=is;return t!==null&&(Ln===null?Ln=t:Ln.push.apply(Ln,t),is=null),t}function hl(t){is===null?is=[t]:is.push(t)}var ff=O(null),ya=null,Er=null;function ss(t,n,s){le(ff,n._currentValue),n._currentValue=s}function Tr(t){t._currentValue=ff.current,$(ff)}function df(t,n,s){for(;t!==null;){var o=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,o!==null&&(o.childLanes|=n)):o!==null&&(o.childLanes&n)!==n&&(o.childLanes|=n),t===s)break;t=t.return}}function mf(t,n,s,o){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var f=h.dependencies;if(f!==null){var g=h.child;f=f.firstContext;e:for(;f!==null;){var E=f;f=h;for(var I=0;I<n.length;I++)if(E.context===n[I]){f.lanes|=s,E=f.alternate,E!==null&&(E.lanes|=s),df(f.return,s,t),o||(g=null);break e}f=E.next}}else if(h.tag===18){if(g=h.return,g===null)throw Error(a(341));g.lanes|=s,f=g.alternate,f!==null&&(f.lanes|=s),df(g,s,t),g=null}else g=h.child;if(g!==null)g.return=h;else for(g=h;g!==null;){if(g===t){g=null;break}if(h=g.sibling,h!==null){h.return=g.return,g=h;break}g=g.return}h=g}}function ro(t,n,s,o){t=null;for(var h=n,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var g=h.alternate;if(g===null)throw Error(a(387));if(g=g.memoizedProps,g!==null){var E=h.type;Kn(h.pendingProps.value,g.value)||(t!==null?t.push(E):t=[E])}}else if(h===Ge.current){if(g=h.alternate,g===null)throw Error(a(387));g.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(Pl):t=[Pl])}h=h.return}t!==null&&mf(n,t,s,o),n.flags|=262144}function Gu(t){for(t=t.firstContext;t!==null;){if(!Kn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function _a(t){ya=t,Er=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function ln(t){return rp(ya,t)}function Qu(t,n){return ya===null&&_a(t),rp(t,n)}function rp(t,n){var s=n._currentValue;if(n={context:n,memoizedValue:s,next:null},Er===null){if(t===null)throw Error(a(308));Er=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else Er=Er.next=n;return s}var kT=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(s,o){t.push(o)}};this.abort=function(){n.aborted=!0,t.forEach(function(s){return s()})}},UT=r.unstable_scheduleCallback,LT=r.unstable_NormalPriority,zt={$$typeof:ve,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function gf(){return{controller:new kT,data:new Map,refCount:0}}function fl(t){t.refCount--,t.refCount===0&&UT(LT,function(){t.controller.abort()})}var dl=null,pf=0,so=0,ao=null;function PT(t,n){if(dl===null){var s=dl=[];pf=0,so=vd(),ao={status:"pending",value:void 0,then:function(o){s.push(o)}}}return pf++,n.then(sp,sp),n}function sp(){if(--pf===0&&dl!==null){ao!==null&&(ao.status="fulfilled");var t=dl;dl=null,so=0,ao=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function zT(t,n){var s=[],o={status:"pending",value:null,reason:null,then:function(h){s.push(h)}};return t.then(function(){o.status="fulfilled",o.value=n;for(var h=0;h<s.length;h++)(0,s[h])(n)},function(h){for(o.status="rejected",o.reason=h,h=0;h<s.length;h++)(0,s[h])(void 0)}),o}var ap=Q.S;Q.S=function(t,n){Hy=Jt(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&PT(t,n),ap!==null&&ap(t,n)};var va=O(null);function yf(){var t=va.current;return t!==null?t:ut.pooledCache}function Yu(t,n){n===null?le(va,va.current):le(va,n.pool)}function op(){var t=yf();return t===null?null:{parent:zt._currentValue,pool:t}}var oo=Error(a(460)),_f=Error(a(474)),Ku=Error(a(542)),Xu={then:function(){}};function lp(t){return t=t.status,t==="fulfilled"||t==="rejected"}function up(t,n,s){switch(s=t[s],s===void 0?t.push(n):s!==n&&(n.then(ee,ee),n=s),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,hp(t),t;default:if(typeof n.status=="string")n.then(ee,ee);else{if(t=ut,t!==null&&100<t.shellSuspendCounter)throw Error(a(482));t=n,t.status="pending",t.then(function(o){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=o}},function(o){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=o}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,hp(t),t}throw Ta=n,oo}}function Ea(t){try{var n=t._init;return n(t._payload)}catch(s){throw s!==null&&typeof s=="object"&&typeof s.then=="function"?(Ta=s,oo):s}}var Ta=null;function cp(){if(Ta===null)throw Error(a(459));var t=Ta;return Ta=null,t}function hp(t){if(t===oo||t===Ku)throw Error(a(483))}var lo=null,ml=0;function $u(t){var n=ml;return ml+=1,lo===null&&(lo=[]),up(lo,t,n)}function gl(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function Ju(t,n){throw n.$$typeof===V?Error(a(525)):(t=Object.prototype.toString.call(n),Error(a(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function fp(t){function n(U,M){if(t){var j=U.deletions;j===null?(U.deletions=[M],U.flags|=16):j.push(M)}}function s(U,M){if(!t)return null;for(;M!==null;)n(U,M),M=M.sibling;return null}function o(U){for(var M=new Map;U!==null;)U.key!==null?M.set(U.key,U):M.set(U.index,U),U=U.sibling;return M}function h(U,M){return U=_r(U,M),U.index=0,U.sibling=null,U}function f(U,M,j){return U.index=j,t?(j=U.alternate,j!==null?(j=j.index,j<M?(U.flags|=67108866,M):j):(U.flags|=67108866,M)):(U.flags|=1048576,M)}function g(U){return t&&U.alternate===null&&(U.flags|=67108866),U}function E(U,M,j,X){return M===null||M.tag!==6?(M=af(j,U.mode,X),M.return=U,M):(M=h(M,j),M.return=U,M)}function I(U,M,j,X){var ye=j.type;return ye===ie?K(U,M,j.props.children,X,j.key):M!==null&&(M.elementType===ye||typeof ye=="object"&&ye!==null&&ye.$$typeof===w&&Ea(ye)===M.type)?(M=h(M,j.props),gl(M,j),M.return=U,M):(M=Hu(j.type,j.key,j.props,null,U.mode,X),gl(M,j),M.return=U,M)}function B(U,M,j,X){return M===null||M.tag!==4||M.stateNode.containerInfo!==j.containerInfo||M.stateNode.implementation!==j.implementation?(M=of(j,U.mode,X),M.return=U,M):(M=h(M,j.children||[]),M.return=U,M)}function K(U,M,j,X,ye){return M===null||M.tag!==7?(M=ga(j,U.mode,X,ye),M.return=U,M):(M=h(M,j),M.return=U,M)}function J(U,M,j){if(typeof M=="string"&&M!==""||typeof M=="number"||typeof M=="bigint")return M=af(""+M,U.mode,j),M.return=U,M;if(typeof M=="object"&&M!==null){switch(M.$$typeof){case Y:return j=Hu(M.type,M.key,M.props,null,U.mode,j),gl(j,M),j.return=U,j;case te:return M=of(M,U.mode,j),M.return=U,M;case w:return M=Ea(M),J(U,M,j)}if(bt(M)||L(M))return M=ga(M,U.mode,j,null),M.return=U,M;if(typeof M.then=="function")return J(U,$u(M),j);if(M.$$typeof===ve)return J(U,Qu(U,M),j);Ju(U,M)}return null}function q(U,M,j,X){var ye=M!==null?M.key:null;if(typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint")return ye!==null?null:E(U,M,""+j,X);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case Y:return j.key===ye?I(U,M,j,X):null;case te:return j.key===ye?B(U,M,j,X):null;case w:return j=Ea(j),q(U,M,j,X)}if(bt(j)||L(j))return ye!==null?null:K(U,M,j,X,null);if(typeof j.then=="function")return q(U,M,$u(j),X);if(j.$$typeof===ve)return q(U,M,Qu(U,j),X);Ju(U,j)}return null}function F(U,M,j,X,ye){if(typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint")return U=U.get(j)||null,E(M,U,""+X,ye);if(typeof X=="object"&&X!==null){switch(X.$$typeof){case Y:return U=U.get(X.key===null?j:X.key)||null,I(M,U,X,ye);case te:return U=U.get(X.key===null?j:X.key)||null,B(M,U,X,ye);case w:return X=Ea(X),F(U,M,j,X,ye)}if(bt(X)||L(X))return U=U.get(j)||null,K(M,U,X,ye,null);if(typeof X.then=="function")return F(U,M,j,$u(X),ye);if(X.$$typeof===ve)return F(U,M,j,Qu(M,X),ye);Ju(M,X)}return null}function fe(U,M,j,X){for(var ye=null,Xe=null,me=M,De=M=0,je=null;me!==null&&De<j.length;De++){me.index>De?(je=me,me=null):je=me.sibling;var $e=q(U,me,j[De],X);if($e===null){me===null&&(me=je);break}t&&me&&$e.alternate===null&&n(U,me),M=f($e,M,De),Xe===null?ye=$e:Xe.sibling=$e,Xe=$e,me=je}if(De===j.length)return s(U,me),Qe&&vr(U,De),ye;if(me===null){for(;De<j.length;De++)me=J(U,j[De],X),me!==null&&(M=f(me,M,De),Xe===null?ye=me:Xe.sibling=me,Xe=me);return Qe&&vr(U,De),ye}for(me=o(me);De<j.length;De++)je=F(me,U,De,j[De],X),je!==null&&(t&&je.alternate!==null&&me.delete(je.key===null?De:je.key),M=f(je,M,De),Xe===null?ye=je:Xe.sibling=je,Xe=je);return t&&me.forEach(function(Ss){return n(U,Ss)}),Qe&&vr(U,De),ye}function Ee(U,M,j,X){if(j==null)throw Error(a(151));for(var ye=null,Xe=null,me=M,De=M=0,je=null,$e=j.next();me!==null&&!$e.done;De++,$e=j.next()){me.index>De?(je=me,me=null):je=me.sibling;var Ss=q(U,me,$e.value,X);if(Ss===null){me===null&&(me=je);break}t&&me&&Ss.alternate===null&&n(U,me),M=f(Ss,M,De),Xe===null?ye=Ss:Xe.sibling=Ss,Xe=Ss,me=je}if($e.done)return s(U,me),Qe&&vr(U,De),ye;if(me===null){for(;!$e.done;De++,$e=j.next())$e=J(U,$e.value,X),$e!==null&&(M=f($e,M,De),Xe===null?ye=$e:Xe.sibling=$e,Xe=$e);return Qe&&vr(U,De),ye}for(me=o(me);!$e.done;De++,$e=j.next())$e=F(me,U,De,$e.value,X),$e!==null&&(t&&$e.alternate!==null&&me.delete($e.key===null?De:$e.key),M=f($e,M,De),Xe===null?ye=$e:Xe.sibling=$e,Xe=$e);return t&&me.forEach(function($b){return n(U,$b)}),Qe&&vr(U,De),ye}function lt(U,M,j,X){if(typeof j=="object"&&j!==null&&j.type===ie&&j.key===null&&(j=j.props.children),typeof j=="object"&&j!==null){switch(j.$$typeof){case Y:e:{for(var ye=j.key;M!==null;){if(M.key===ye){if(ye=j.type,ye===ie){if(M.tag===7){s(U,M.sibling),X=h(M,j.props.children),X.return=U,U=X;break e}}else if(M.elementType===ye||typeof ye=="object"&&ye!==null&&ye.$$typeof===w&&Ea(ye)===M.type){s(U,M.sibling),X=h(M,j.props),gl(X,j),X.return=U,U=X;break e}s(U,M);break}else n(U,M);M=M.sibling}j.type===ie?(X=ga(j.props.children,U.mode,X,j.key),X.return=U,U=X):(X=Hu(j.type,j.key,j.props,null,U.mode,X),gl(X,j),X.return=U,U=X)}return g(U);case te:e:{for(ye=j.key;M!==null;){if(M.key===ye)if(M.tag===4&&M.stateNode.containerInfo===j.containerInfo&&M.stateNode.implementation===j.implementation){s(U,M.sibling),X=h(M,j.children||[]),X.return=U,U=X;break e}else{s(U,M);break}else n(U,M);M=M.sibling}X=of(j,U.mode,X),X.return=U,U=X}return g(U);case w:return j=Ea(j),lt(U,M,j,X)}if(bt(j))return fe(U,M,j,X);if(L(j)){if(ye=L(j),typeof ye!="function")throw Error(a(150));return j=ye.call(j),Ee(U,M,j,X)}if(typeof j.then=="function")return lt(U,M,$u(j),X);if(j.$$typeof===ve)return lt(U,M,Qu(U,j),X);Ju(U,j)}return typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint"?(j=""+j,M!==null&&M.tag===6?(s(U,M.sibling),X=h(M,j),X.return=U,U=X):(s(U,M),X=af(j,U.mode,X),X.return=U,U=X),g(U)):s(U,M)}return function(U,M,j,X){try{ml=0;var ye=lt(U,M,j,X);return lo=null,ye}catch(me){if(me===oo||me===Ku)throw me;var Xe=Xn(29,me,null,U.mode);return Xe.lanes=X,Xe.return=U,Xe}finally{}}}var ba=fp(!0),dp=fp(!1),as=!1;function vf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Ef(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function os(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function ls(t,n,s){var o=t.updateQueue;if(o===null)return null;if(o=o.shared,(et&2)!==0){var h=o.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),o.pending=n,n=qu(t),$g(t,null,s),n}return Bu(t,o,n,s),qu(t)}function pl(t,n,s){if(n=n.updateQueue,n!==null&&(n=n.shared,(s&4194048)!==0)){var o=n.lanes;o&=t.pendingLanes,s|=o,n.lanes=s,Xr(t,s)}}function Tf(t,n){var s=t.updateQueue,o=t.alternate;if(o!==null&&(o=o.updateQueue,s===o)){var h=null,f=null;if(s=s.firstBaseUpdate,s!==null){do{var g={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};f===null?h=f=g:f=f.next=g,s=s.next}while(s!==null);f===null?h=f=n:f=f.next=n}else h=f=n;s={baseState:o.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:o.shared,callbacks:o.callbacks},t.updateQueue=s;return}t=s.lastBaseUpdate,t===null?s.firstBaseUpdate=n:t.next=n,s.lastBaseUpdate=n}var bf=!1;function yl(){if(bf){var t=ao;if(t!==null)throw t}}function _l(t,n,s,o){bf=!1;var h=t.updateQueue;as=!1;var f=h.firstBaseUpdate,g=h.lastBaseUpdate,E=h.shared.pending;if(E!==null){h.shared.pending=null;var I=E,B=I.next;I.next=null,g===null?f=B:g.next=B,g=I;var K=t.alternate;K!==null&&(K=K.updateQueue,E=K.lastBaseUpdate,E!==g&&(E===null?K.firstBaseUpdate=B:E.next=B,K.lastBaseUpdate=I))}if(f!==null){var J=h.baseState;g=0,K=B=I=null,E=f;do{var q=E.lane&-536870913,F=q!==E.lane;if(F?(ze&q)===q:(o&q)===q){q!==0&&q===so&&(bf=!0),K!==null&&(K=K.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});e:{var fe=t,Ee=E;q=n;var lt=s;switch(Ee.tag){case 1:if(fe=Ee.payload,typeof fe=="function"){J=fe.call(lt,J,q);break e}J=fe;break e;case 3:fe.flags=fe.flags&-65537|128;case 0:if(fe=Ee.payload,q=typeof fe=="function"?fe.call(lt,J,q):fe,q==null)break e;J=A({},J,q);break e;case 2:as=!0}}q=E.callback,q!==null&&(t.flags|=64,F&&(t.flags|=8192),F=h.callbacks,F===null?h.callbacks=[q]:F.push(q))}else F={lane:q,tag:E.tag,payload:E.payload,callback:E.callback,next:null},K===null?(B=K=F,I=J):K=K.next=F,g|=q;if(E=E.next,E===null){if(E=h.shared.pending,E===null)break;F=E,E=F.next,F.next=null,h.lastBaseUpdate=F,h.shared.pending=null}}while(!0);K===null&&(I=J),h.baseState=I,h.firstBaseUpdate=B,h.lastBaseUpdate=K,f===null&&(h.shared.lanes=0),ds|=g,t.lanes=g,t.memoizedState=J}}function mp(t,n){if(typeof t!="function")throw Error(a(191,t));t.call(n)}function gp(t,n){var s=t.callbacks;if(s!==null)for(t.callbacks=null,t=0;t<s.length;t++)mp(s[t],n)}var uo=O(null),Zu=O(0);function pp(t,n){t=xr,le(Zu,t),le(uo,n),xr=t|n.baseLanes}function Sf(){le(Zu,xr),le(uo,uo.current)}function Af(){xr=Zu.current,$(uo),$(Zu)}var $n=O(null),vi=null;function us(t){var n=t.alternate;le(Dt,Dt.current&1),le($n,t),vi===null&&(n===null||uo.current!==null||n.memoizedState!==null)&&(vi=t)}function wf(t){le(Dt,Dt.current),le($n,t),vi===null&&(vi=t)}function yp(t){t.tag===22?(le(Dt,Dt.current),le($n,t),vi===null&&(vi=t)):cs()}function cs(){le(Dt,Dt.current),le($n,$n.current)}function Jn(t){$($n),vi===t&&(vi=null),$(Dt)}var Dt=O(0);function Wu(t){for(var n=t;n!==null;){if(n.tag===13){var s=n.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||Dd(s)||Md(s)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var br=0,xe=null,at=null,jt=null,ec=!1,co=!1,Sa=!1,tc=0,vl=0,ho=null,jT=0;function wt(){throw Error(a(321))}function Rf(t,n){if(n===null)return!1;for(var s=0;s<n.length&&s<t.length;s++)if(!Kn(t[s],n[s]))return!1;return!0}function If(t,n,s,o,h,f){return br=f,xe=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,Q.H=t===null||t.memoizedState===null?ey:qf,Sa=!1,f=s(o,h),Sa=!1,co&&(f=vp(n,s,o,h)),_p(t),f}function _p(t){Q.H=bl;var n=at!==null&&at.next!==null;if(br=0,jt=at=xe=null,ec=!1,vl=0,ho=null,n)throw Error(a(300));t===null||Bt||(t=t.dependencies,t!==null&&Gu(t)&&(Bt=!0))}function vp(t,n,s,o){xe=t;var h=0;do{if(co&&(ho=null),vl=0,co=!1,25<=h)throw Error(a(301));if(h+=1,jt=at=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}Q.H=ty,f=n(s,o)}while(co);return f}function BT(){var t=Q.H,n=t.useState()[0];return n=typeof n.then=="function"?El(n):n,t=t.useState()[0],(at!==null?at.memoizedState:null)!==t&&(xe.flags|=1024),n}function Cf(){var t=tc!==0;return tc=0,t}function Nf(t,n,s){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~s}function xf(t){if(ec){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}ec=!1}br=0,jt=at=xe=null,co=!1,vl=tc=0,ho=null}function xn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return jt===null?xe.memoizedState=jt=t:jt=jt.next=t,jt}function Mt(){if(at===null){var t=xe.alternate;t=t!==null?t.memoizedState:null}else t=at.next;var n=jt===null?xe.memoizedState:jt.next;if(n!==null)jt=n,at=t;else{if(t===null)throw xe.alternate===null?Error(a(467)):Error(a(310));at=t,t={memoizedState:at.memoizedState,baseState:at.baseState,baseQueue:at.baseQueue,queue:at.queue,next:null},jt===null?xe.memoizedState=jt=t:jt=jt.next=t}return jt}function nc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function El(t){var n=vl;return vl+=1,ho===null&&(ho=[]),t=up(ho,t,n),n=xe,(jt===null?n.memoizedState:jt.next)===null&&(n=n.alternate,Q.H=n===null||n.memoizedState===null?ey:qf),t}function ic(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return El(t);if(t.$$typeof===ve)return ln(t)}throw Error(a(438,String(t)))}function Df(t){var n=null,s=xe.updateQueue;if(s!==null&&(n=s.memoCache),n==null){var o=xe.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(n={data:o.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),s===null&&(s=nc(),xe.updateQueue=s),s.memoCache=n,s=n.data[n.index],s===void 0)for(s=n.data[n.index]=Array(t),o=0;o<t;o++)s[o]=k;return n.index++,s}function Sr(t,n){return typeof n=="function"?n(t):n}function rc(t){var n=Mt();return Mf(n,at,t)}function Mf(t,n,s){var o=t.queue;if(o===null)throw Error(a(311));o.lastRenderedReducer=s;var h=t.baseQueue,f=o.pending;if(f!==null){if(h!==null){var g=h.next;h.next=f.next,f.next=g}n.baseQueue=h=f,o.pending=null}if(f=t.baseState,h===null)t.memoizedState=f;else{n=h.next;var E=g=null,I=null,B=n,K=!1;do{var J=B.lane&-536870913;if(J!==B.lane?(ze&J)===J:(br&J)===J){var q=B.revertLane;if(q===0)I!==null&&(I=I.next={lane:0,revertLane:0,gesture:null,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null}),J===so&&(K=!0);else if((br&q)===q){B=B.next,q===so&&(K=!0);continue}else J={lane:0,revertLane:B.revertLane,gesture:null,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},I===null?(E=I=J,g=f):I=I.next=J,xe.lanes|=q,ds|=q;J=B.action,Sa&&s(f,J),f=B.hasEagerState?B.eagerState:s(f,J)}else q={lane:J,revertLane:B.revertLane,gesture:B.gesture,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},I===null?(E=I=q,g=f):I=I.next=q,xe.lanes|=J,ds|=J;B=B.next}while(B!==null&&B!==n);if(I===null?g=f:I.next=E,!Kn(f,t.memoizedState)&&(Bt=!0,K&&(s=ao,s!==null)))throw s;t.memoizedState=f,t.baseState=g,t.baseQueue=I,o.lastRenderedState=f}return h===null&&(o.lanes=0),[t.memoizedState,o.dispatch]}function Of(t){var n=Mt(),s=n.queue;if(s===null)throw Error(a(311));s.lastRenderedReducer=t;var o=s.dispatch,h=s.pending,f=n.memoizedState;if(h!==null){s.pending=null;var g=h=h.next;do f=t(f,g.action),g=g.next;while(g!==h);Kn(f,n.memoizedState)||(Bt=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),s.lastRenderedState=f}return[f,o]}function Ep(t,n,s){var o=xe,h=Mt(),f=Qe;if(f){if(s===void 0)throw Error(a(407));s=s()}else s=n();var g=!Kn((at||h).memoizedState,s);if(g&&(h.memoizedState=s,Bt=!0),h=h.queue,Uf(Sp.bind(null,o,h,t),[t]),h.getSnapshot!==n||g||jt!==null&&jt.memoizedState.tag&1){if(o.flags|=2048,fo(9,{destroy:void 0},bp.bind(null,o,h,s,n),null),ut===null)throw Error(a(349));f||(br&127)!==0||Tp(o,n,s)}return s}function Tp(t,n,s){t.flags|=16384,t={getSnapshot:n,value:s},n=xe.updateQueue,n===null?(n=nc(),xe.updateQueue=n,n.stores=[t]):(s=n.stores,s===null?n.stores=[t]:s.push(t))}function bp(t,n,s,o){n.value=s,n.getSnapshot=o,Ap(n)&&wp(t)}function Sp(t,n,s){return s(function(){Ap(n)&&wp(t)})}function Ap(t){var n=t.getSnapshot;t=t.value;try{var s=n();return!Kn(t,s)}catch{return!0}}function wp(t){var n=ma(t,2);n!==null&&Pn(n,t,2)}function Vf(t){var n=xn();if(typeof t=="function"){var s=t;if(t=s(),Sa){pn(!0);try{s()}finally{pn(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Sr,lastRenderedState:t},n}function Rp(t,n,s,o){return t.baseState=s,Mf(t,at,typeof o=="function"?o:Sr)}function qT(t,n,s,o,h){if(oc(t))throw Error(a(485));if(t=n.action,t!==null){var f={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(g){f.listeners.push(g)}};Q.T!==null?s(!0):f.isTransition=!1,o(f),s=n.pending,s===null?(f.next=n.pending=f,Ip(n,f)):(f.next=s.next,n.pending=s.next=f)}}function Ip(t,n){var s=n.action,o=n.payload,h=t.state;if(n.isTransition){var f=Q.T,g={};Q.T=g;try{var E=s(h,o),I=Q.S;I!==null&&I(g,E),Cp(t,n,E)}catch(B){kf(t,n,B)}finally{f!==null&&g.types!==null&&(f.types=g.types),Q.T=f}}else try{f=s(h,o),Cp(t,n,f)}catch(B){kf(t,n,B)}}function Cp(t,n,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(o){Np(t,n,o)},function(o){return kf(t,n,o)}):Np(t,n,s)}function Np(t,n,s){n.status="fulfilled",n.value=s,xp(n),t.state=s,n=t.pending,n!==null&&(s=n.next,s===n?t.pending=null:(s=s.next,n.next=s,Ip(t,s)))}function kf(t,n,s){var o=t.pending;if(t.pending=null,o!==null){o=o.next;do n.status="rejected",n.reason=s,xp(n),n=n.next;while(n!==o)}t.action=null}function xp(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function Dp(t,n){return n}function Mp(t,n){if(Qe){var s=ut.formState;if(s!==null){e:{var o=xe;if(Qe){if(dt){t:{for(var h=dt,f=_i;h.nodeType!==8;){if(!f){h=null;break t}if(h=Ei(h.nextSibling),h===null){h=null;break t}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){dt=Ei(h.nextSibling),o=h.data==="F!";break e}}rs(o)}o=!1}o&&(n=s[0])}}return s=xn(),s.memoizedState=s.baseState=n,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Dp,lastRenderedState:n},s.queue=o,s=Jp.bind(null,xe,o),o.dispatch=s,o=Vf(!1),f=Bf.bind(null,xe,!1,o.queue),o=xn(),h={state:n,dispatch:null,action:t,pending:null},o.queue=h,s=qT.bind(null,xe,h,f,s),h.dispatch=s,o.memoizedState=t,[n,s,!1]}function Op(t){var n=Mt();return Vp(n,at,t)}function Vp(t,n,s){if(n=Mf(t,n,Dp)[0],t=rc(Sr)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var o=El(n)}catch(g){throw g===oo?Ku:g}else o=n;n=Mt();var h=n.queue,f=h.dispatch;return s!==n.memoizedState&&(xe.flags|=2048,fo(9,{destroy:void 0},HT.bind(null,h,s),null)),[o,f,t]}function HT(t,n){t.action=n}function kp(t){var n=Mt(),s=at;if(s!==null)return Vp(n,s,t);Mt(),n=n.memoizedState,s=Mt();var o=s.queue.dispatch;return s.memoizedState=t,[n,o,!1]}function fo(t,n,s,o){return t={tag:t,create:s,deps:o,inst:n,next:null},n=xe.updateQueue,n===null&&(n=nc(),xe.updateQueue=n),s=n.lastEffect,s===null?n.lastEffect=t.next=t:(o=s.next,s.next=t,t.next=o,n.lastEffect=t),t}function Up(){return Mt().memoizedState}function sc(t,n,s,o){var h=xn();xe.flags|=t,h.memoizedState=fo(1|n,{destroy:void 0},s,o===void 0?null:o)}function ac(t,n,s,o){var h=Mt();o=o===void 0?null:o;var f=h.memoizedState.inst;at!==null&&o!==null&&Rf(o,at.memoizedState.deps)?h.memoizedState=fo(n,f,s,o):(xe.flags|=t,h.memoizedState=fo(1|n,f,s,o))}function Lp(t,n){sc(8390656,8,t,n)}function Uf(t,n){ac(2048,8,t,n)}function FT(t){xe.flags|=4;var n=xe.updateQueue;if(n===null)n=nc(),xe.updateQueue=n,n.events=[t];else{var s=n.events;s===null?n.events=[t]:s.push(t)}}function Pp(t){var n=Mt().memoizedState;return FT({ref:n,nextImpl:t}),function(){if((et&2)!==0)throw Error(a(440));return n.impl.apply(void 0,arguments)}}function zp(t,n){return ac(4,2,t,n)}function jp(t,n){return ac(4,4,t,n)}function Bp(t,n){if(typeof n=="function"){t=t();var s=n(t);return function(){typeof s=="function"?s():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function qp(t,n,s){s=s!=null?s.concat([t]):null,ac(4,4,Bp.bind(null,n,t),s)}function Lf(){}function Hp(t,n){var s=Mt();n=n===void 0?null:n;var o=s.memoizedState;return n!==null&&Rf(n,o[1])?o[0]:(s.memoizedState=[t,n],t)}function Fp(t,n){var s=Mt();n=n===void 0?null:n;var o=s.memoizedState;if(n!==null&&Rf(n,o[1]))return o[0];if(o=t(),Sa){pn(!0);try{t()}finally{pn(!1)}}return s.memoizedState=[o,n],o}function Pf(t,n,s){return s===void 0||(br&1073741824)!==0&&(ze&261930)===0?t.memoizedState=n:(t.memoizedState=s,t=Gy(),xe.lanes|=t,ds|=t,s)}function Gp(t,n,s,o){return Kn(s,n)?s:uo.current!==null?(t=Pf(t,s,o),Kn(t,n)||(Bt=!0),t):(br&42)===0||(br&1073741824)!==0&&(ze&261930)===0?(Bt=!0,t.memoizedState=s):(t=Gy(),xe.lanes|=t,ds|=t,n)}function Qp(t,n,s,o,h){var f=oe.p;oe.p=f!==0&&8>f?f:8;var g=Q.T,E={};Q.T=E,Bf(t,!1,n,s);try{var I=h(),B=Q.S;if(B!==null&&B(E,I),I!==null&&typeof I=="object"&&typeof I.then=="function"){var K=zT(I,o);Tl(t,n,K,ei(t))}else Tl(t,n,o,ei(t))}catch(J){Tl(t,n,{then:function(){},status:"rejected",reason:J},ei())}finally{oe.p=f,g!==null&&E.types!==null&&(g.types=E.types),Q.T=g}}function GT(){}function zf(t,n,s,o){if(t.tag!==5)throw Error(a(476));var h=Yp(t).queue;Qp(t,h,n,ge,s===null?GT:function(){return Kp(t),s(o)})}function Yp(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:ge,baseState:ge,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Sr,lastRenderedState:ge},next:null};var s={};return n.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Sr,lastRenderedState:s},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function Kp(t){var n=Yp(t);n.next===null&&(n=t.alternate.memoizedState),Tl(t,n.next.queue,{},ei())}function jf(){return ln(Pl)}function Xp(){return Mt().memoizedState}function $p(){return Mt().memoizedState}function QT(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var s=ei();t=os(s);var o=ls(n,t,s);o!==null&&(Pn(o,n,s),pl(o,n,s)),n={cache:gf()},t.payload=n;return}n=n.return}}function YT(t,n,s){var o=ei();s={lane:o,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},oc(t)?Zp(n,s):(s=rf(t,n,s,o),s!==null&&(Pn(s,t,o),Wp(s,n,o)))}function Jp(t,n,s){var o=ei();Tl(t,n,s,o)}function Tl(t,n,s,o){var h={lane:o,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null};if(oc(t))Zp(n,h);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var g=n.lastRenderedState,E=f(g,s);if(h.hasEagerState=!0,h.eagerState=E,Kn(E,g))return Bu(t,n,h,0),ut===null&&ju(),!1}catch{}finally{}if(s=rf(t,n,h,o),s!==null)return Pn(s,t,o),Wp(s,n,o),!0}return!1}function Bf(t,n,s,o){if(o={lane:2,revertLane:vd(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},oc(t)){if(n)throw Error(a(479))}else n=rf(t,s,o,2),n!==null&&Pn(n,t,2)}function oc(t){var n=t.alternate;return t===xe||n!==null&&n===xe}function Zp(t,n){co=ec=!0;var s=t.pending;s===null?n.next=n:(n.next=s.next,s.next=n),t.pending=n}function Wp(t,n,s){if((s&4194048)!==0){var o=n.lanes;o&=t.pendingLanes,s|=o,n.lanes=s,Xr(t,s)}}var bl={readContext:ln,use:ic,useCallback:wt,useContext:wt,useEffect:wt,useImperativeHandle:wt,useLayoutEffect:wt,useInsertionEffect:wt,useMemo:wt,useReducer:wt,useRef:wt,useState:wt,useDebugValue:wt,useDeferredValue:wt,useTransition:wt,useSyncExternalStore:wt,useId:wt,useHostTransitionStatus:wt,useFormState:wt,useActionState:wt,useOptimistic:wt,useMemoCache:wt,useCacheRefresh:wt};bl.useEffectEvent=wt;var ey={readContext:ln,use:ic,useCallback:function(t,n){return xn().memoizedState=[t,n===void 0?null:n],t},useContext:ln,useEffect:Lp,useImperativeHandle:function(t,n,s){s=s!=null?s.concat([t]):null,sc(4194308,4,Bp.bind(null,n,t),s)},useLayoutEffect:function(t,n){return sc(4194308,4,t,n)},useInsertionEffect:function(t,n){sc(4,2,t,n)},useMemo:function(t,n){var s=xn();n=n===void 0?null:n;var o=t();if(Sa){pn(!0);try{t()}finally{pn(!1)}}return s.memoizedState=[o,n],o},useReducer:function(t,n,s){var o=xn();if(s!==void 0){var h=s(n);if(Sa){pn(!0);try{s(n)}finally{pn(!1)}}}else h=n;return o.memoizedState=o.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},o.queue=t,t=t.dispatch=YT.bind(null,xe,t),[o.memoizedState,t]},useRef:function(t){var n=xn();return t={current:t},n.memoizedState=t},useState:function(t){t=Vf(t);var n=t.queue,s=Jp.bind(null,xe,n);return n.dispatch=s,[t.memoizedState,s]},useDebugValue:Lf,useDeferredValue:function(t,n){var s=xn();return Pf(s,t,n)},useTransition:function(){var t=Vf(!1);return t=Qp.bind(null,xe,t.queue,!0,!1),xn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,s){var o=xe,h=xn();if(Qe){if(s===void 0)throw Error(a(407));s=s()}else{if(s=n(),ut===null)throw Error(a(349));(ze&127)!==0||Tp(o,n,s)}h.memoizedState=s;var f={value:s,getSnapshot:n};return h.queue=f,Lp(Sp.bind(null,o,f,t),[t]),o.flags|=2048,fo(9,{destroy:void 0},bp.bind(null,o,f,s,n),null),s},useId:function(){var t=xn(),n=ut.identifierPrefix;if(Qe){var s=Xi,o=Ki;s=(o&~(1<<32-Oe(o)-1)).toString(32)+s,n="_"+n+"R_"+s,s=tc++,0<s&&(n+="H"+s.toString(32)),n+="_"}else s=jT++,n="_"+n+"r_"+s.toString(32)+"_";return t.memoizedState=n},useHostTransitionStatus:jf,useFormState:Mp,useActionState:Mp,useOptimistic:function(t){var n=xn();n.memoizedState=n.baseState=t;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=s,n=Bf.bind(null,xe,!0,s),s.dispatch=n,[t,n]},useMemoCache:Df,useCacheRefresh:function(){return xn().memoizedState=QT.bind(null,xe)},useEffectEvent:function(t){var n=xn(),s={impl:t};return n.memoizedState=s,function(){if((et&2)!==0)throw Error(a(440));return s.impl.apply(void 0,arguments)}}},qf={readContext:ln,use:ic,useCallback:Hp,useContext:ln,useEffect:Uf,useImperativeHandle:qp,useInsertionEffect:zp,useLayoutEffect:jp,useMemo:Fp,useReducer:rc,useRef:Up,useState:function(){return rc(Sr)},useDebugValue:Lf,useDeferredValue:function(t,n){var s=Mt();return Gp(s,at.memoizedState,t,n)},useTransition:function(){var t=rc(Sr)[0],n=Mt().memoizedState;return[typeof t=="boolean"?t:El(t),n]},useSyncExternalStore:Ep,useId:Xp,useHostTransitionStatus:jf,useFormState:Op,useActionState:Op,useOptimistic:function(t,n){var s=Mt();return Rp(s,at,t,n)},useMemoCache:Df,useCacheRefresh:$p};qf.useEffectEvent=Pp;var ty={readContext:ln,use:ic,useCallback:Hp,useContext:ln,useEffect:Uf,useImperativeHandle:qp,useInsertionEffect:zp,useLayoutEffect:jp,useMemo:Fp,useReducer:Of,useRef:Up,useState:function(){return Of(Sr)},useDebugValue:Lf,useDeferredValue:function(t,n){var s=Mt();return at===null?Pf(s,t,n):Gp(s,at.memoizedState,t,n)},useTransition:function(){var t=Of(Sr)[0],n=Mt().memoizedState;return[typeof t=="boolean"?t:El(t),n]},useSyncExternalStore:Ep,useId:Xp,useHostTransitionStatus:jf,useFormState:kp,useActionState:kp,useOptimistic:function(t,n){var s=Mt();return at!==null?Rp(s,at,t,n):(s.baseState=t,[t,s.queue.dispatch])},useMemoCache:Df,useCacheRefresh:$p};ty.useEffectEvent=Pp;function Hf(t,n,s,o){n=t.memoizedState,s=s(o,n),s=s==null?n:A({},n,s),t.memoizedState=s,t.lanes===0&&(t.updateQueue.baseState=s)}var Ff={enqueueSetState:function(t,n,s){t=t._reactInternals;var o=ei(),h=os(o);h.payload=n,s!=null&&(h.callback=s),n=ls(t,h,o),n!==null&&(Pn(n,t,o),pl(n,t,o))},enqueueReplaceState:function(t,n,s){t=t._reactInternals;var o=ei(),h=os(o);h.tag=1,h.payload=n,s!=null&&(h.callback=s),n=ls(t,h,o),n!==null&&(Pn(n,t,o),pl(n,t,o))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var s=ei(),o=os(s);o.tag=2,n!=null&&(o.callback=n),n=ls(t,o,s),n!==null&&(Pn(n,t,s),pl(n,t,s))}};function ny(t,n,s,o,h,f,g){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(o,f,g):n.prototype&&n.prototype.isPureReactComponent?!ll(s,o)||!ll(h,f):!0}function iy(t,n,s,o){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(s,o),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(s,o),n.state!==t&&Ff.enqueueReplaceState(n,n.state,null)}function Aa(t,n){var s=n;if("ref"in n){s={};for(var o in n)o!=="ref"&&(s[o]=n[o])}if(t=t.defaultProps){s===n&&(s=A({},s));for(var h in t)s[h]===void 0&&(s[h]=t[h])}return s}function ry(t){zu(t)}function sy(t){console.error(t)}function ay(t){zu(t)}function lc(t,n){try{var s=t.onUncaughtError;s(n.value,{componentStack:n.stack})}catch(o){setTimeout(function(){throw o})}}function oy(t,n,s){try{var o=t.onCaughtError;o(s.value,{componentStack:s.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Gf(t,n,s){return s=os(s),s.tag=3,s.payload={element:null},s.callback=function(){lc(t,n)},s}function ly(t){return t=os(t),t.tag=3,t}function uy(t,n,s,o){var h=s.type.getDerivedStateFromError;if(typeof h=="function"){var f=o.value;t.payload=function(){return h(f)},t.callback=function(){oy(n,s,o)}}var g=s.stateNode;g!==null&&typeof g.componentDidCatch=="function"&&(t.callback=function(){oy(n,s,o),typeof h!="function"&&(ms===null?ms=new Set([this]):ms.add(this));var E=o.stack;this.componentDidCatch(o.value,{componentStack:E!==null?E:""})})}function KT(t,n,s,o,h){if(s.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(n=s.alternate,n!==null&&ro(n,s,h,!0),s=$n.current,s!==null){switch(s.tag){case 31:case 13:return vi===null?Ec():s.alternate===null&&Rt===0&&(Rt=3),s.flags&=-257,s.flags|=65536,s.lanes=h,o===Xu?s.flags|=16384:(n=s.updateQueue,n===null?s.updateQueue=new Set([o]):n.add(o),pd(t,o,h)),!1;case 22:return s.flags|=65536,o===Xu?s.flags|=16384:(n=s.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([o])},s.updateQueue=n):(s=n.retryQueue,s===null?n.retryQueue=new Set([o]):s.add(o)),pd(t,o,h)),!1}throw Error(a(435,s.tag))}return pd(t,o,h),Ec(),!1}if(Qe)return n=$n.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,o!==cf&&(t=Error(a(422),{cause:o}),hl(gi(t,s)))):(o!==cf&&(n=Error(a(423),{cause:o}),hl(gi(n,s))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,o=gi(o,s),h=Gf(t.stateNode,o,h),Tf(t,h),Rt!==4&&(Rt=2)),!1;var f=Error(a(520),{cause:o});if(f=gi(f,s),xl===null?xl=[f]:xl.push(f),Rt!==4&&(Rt=2),n===null)return!0;o=gi(o,s),s=n;do{switch(s.tag){case 3:return s.flags|=65536,t=h&-h,s.lanes|=t,t=Gf(s.stateNode,o,t),Tf(s,t),!1;case 1:if(n=s.type,f=s.stateNode,(s.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(ms===null||!ms.has(f))))return s.flags|=65536,h&=-h,s.lanes|=h,h=ly(h),uy(h,t,s,o),Tf(s,h),!1}s=s.return}while(s!==null);return!1}var Qf=Error(a(461)),Bt=!1;function un(t,n,s,o){n.child=t===null?dp(n,null,s,o):ba(n,t.child,s,o)}function cy(t,n,s,o,h){s=s.render;var f=n.ref;if("ref"in o){var g={};for(var E in o)E!=="ref"&&(g[E]=o[E])}else g=o;return _a(n),o=If(t,n,s,g,f,h),E=Cf(),t!==null&&!Bt?(Nf(t,n,h),Ar(t,n,h)):(Qe&&E&&lf(n),n.flags|=1,un(t,n,o,h),n.child)}function hy(t,n,s,o,h){if(t===null){var f=s.type;return typeof f=="function"&&!sf(f)&&f.defaultProps===void 0&&s.compare===null?(n.tag=15,n.type=f,fy(t,n,f,o,h)):(t=Hu(s.type,null,o,n,n.mode,h),t.ref=n.ref,t.return=n,n.child=t)}if(f=t.child,!ed(t,h)){var g=f.memoizedProps;if(s=s.compare,s=s!==null?s:ll,s(g,o)&&t.ref===n.ref)return Ar(t,n,h)}return n.flags|=1,t=_r(f,o),t.ref=n.ref,t.return=n,n.child=t}function fy(t,n,s,o,h){if(t!==null){var f=t.memoizedProps;if(ll(f,o)&&t.ref===n.ref)if(Bt=!1,n.pendingProps=o=f,ed(t,h))(t.flags&131072)!==0&&(Bt=!0);else return n.lanes=t.lanes,Ar(t,n,h)}return Yf(t,n,s,o,h)}function dy(t,n,s,o){var h=o.children,f=t!==null?t.memoizedState:null;if(t===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|s:s,t!==null){for(o=n.child=t.child,h=0;o!==null;)h=h|o.lanes|o.childLanes,o=o.sibling;o=h&~f}else o=0,n.child=null;return my(t,n,f,s,o)}if((s&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&Yu(n,f!==null?f.cachePool:null),f!==null?pp(n,f):Sf(),yp(n);else return o=n.lanes=536870912,my(t,n,f!==null?f.baseLanes|s:s,s,o)}else f!==null?(Yu(n,f.cachePool),pp(n,f),cs(),n.memoizedState=null):(t!==null&&Yu(n,null),Sf(),cs());return un(t,n,h,s),n.child}function Sl(t,n){return t!==null&&t.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function my(t,n,s,o,h){var f=yf();return f=f===null?null:{parent:zt._currentValue,pool:f},n.memoizedState={baseLanes:s,cachePool:f},t!==null&&Yu(n,null),Sf(),yp(n),t!==null&&ro(t,n,o,!0),n.childLanes=h,null}function uc(t,n){return n=hc({mode:n.mode,children:n.children},t.mode),n.ref=t.ref,t.child=n,n.return=t,n}function gy(t,n,s){return ba(n,t.child,null,s),t=uc(n,n.pendingProps),t.flags|=2,Jn(n),n.memoizedState=null,t}function XT(t,n,s){var o=n.pendingProps,h=(n.flags&128)!==0;if(n.flags&=-129,t===null){if(Qe){if(o.mode==="hidden")return t=uc(n,o),n.lanes=536870912,Sl(null,t);if(wf(n),(t=dt)?(t=I_(t,_i),t=t!==null&&t.data==="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:ns!==null?{id:Ki,overflow:Xi}:null,retryLane:536870912,hydrationErrors:null},s=Zg(t),s.return=n,n.child=s,on=n,dt=null)):t=null,t===null)throw rs(n);return n.lanes=536870912,null}return uc(n,o)}var f=t.memoizedState;if(f!==null){var g=f.dehydrated;if(wf(n),h)if(n.flags&256)n.flags&=-257,n=gy(t,n,s);else if(n.memoizedState!==null)n.child=t.child,n.flags|=128,n=null;else throw Error(a(558));else if(Bt||ro(t,n,s,!1),h=(s&t.childLanes)!==0,Bt||h){if(o=ut,o!==null&&(g=$s(o,s),g!==0&&g!==f.retryLane))throw f.retryLane=g,ma(t,g),Pn(o,t,g),Qf;Ec(),n=gy(t,n,s)}else t=f.treeContext,dt=Ei(g.nextSibling),on=n,Qe=!0,is=null,_i=!1,t!==null&&tp(n,t),n=uc(n,o),n.flags|=4096;return n}return t=_r(t.child,{mode:o.mode,children:o.children}),t.ref=n.ref,n.child=t,t.return=n,t}function cc(t,n){var s=n.ref;if(s===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(a(284));(t===null||t.ref!==s)&&(n.flags|=4194816)}}function Yf(t,n,s,o,h){return _a(n),s=If(t,n,s,o,void 0,h),o=Cf(),t!==null&&!Bt?(Nf(t,n,h),Ar(t,n,h)):(Qe&&o&&lf(n),n.flags|=1,un(t,n,s,h),n.child)}function py(t,n,s,o,h,f){return _a(n),n.updateQueue=null,s=vp(n,o,s,h),_p(t),o=Cf(),t!==null&&!Bt?(Nf(t,n,f),Ar(t,n,f)):(Qe&&o&&lf(n),n.flags|=1,un(t,n,s,f),n.child)}function yy(t,n,s,o,h){if(_a(n),n.stateNode===null){var f=eo,g=s.contextType;typeof g=="object"&&g!==null&&(f=ln(g)),f=new s(o,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Ff,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=o,f.state=n.memoizedState,f.refs={},vf(n),g=s.contextType,f.context=typeof g=="object"&&g!==null?ln(g):eo,f.state=n.memoizedState,g=s.getDerivedStateFromProps,typeof g=="function"&&(Hf(n,s,g,o),f.state=n.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(g=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),g!==f.state&&Ff.enqueueReplaceState(f,f.state,null),_l(n,o,f,h),yl(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!0}else if(t===null){f=n.stateNode;var E=n.memoizedProps,I=Aa(s,E);f.props=I;var B=f.context,K=s.contextType;g=eo,typeof K=="object"&&K!==null&&(g=ln(K));var J=s.getDerivedStateFromProps;K=typeof J=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,K||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||B!==g)&&iy(n,f,o,g),as=!1;var q=n.memoizedState;f.state=q,_l(n,o,f,h),yl(),B=n.memoizedState,E||q!==B||as?(typeof J=="function"&&(Hf(n,s,J,o),B=n.memoizedState),(I=as||ny(n,s,I,o,q,B,g))?(K||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=o,n.memoizedState=B),f.props=o,f.state=B,f.context=g,o=I):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!1)}else{f=n.stateNode,Ef(t,n),g=n.memoizedProps,K=Aa(s,g),f.props=K,J=n.pendingProps,q=f.context,B=s.contextType,I=eo,typeof B=="object"&&B!==null&&(I=ln(B)),E=s.getDerivedStateFromProps,(B=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(g!==J||q!==I)&&iy(n,f,o,I),as=!1,q=n.memoizedState,f.state=q,_l(n,o,f,h),yl();var F=n.memoizedState;g!==J||q!==F||as||t!==null&&t.dependencies!==null&&Gu(t.dependencies)?(typeof E=="function"&&(Hf(n,s,E,o),F=n.memoizedState),(K=as||ny(n,s,K,o,q,F,I)||t!==null&&t.dependencies!==null&&Gu(t.dependencies))?(B||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(o,F,I),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(o,F,I)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||g===t.memoizedProps&&q===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===t.memoizedProps&&q===t.memoizedState||(n.flags|=1024),n.memoizedProps=o,n.memoizedState=F),f.props=o,f.state=F,f.context=I,o=K):(typeof f.componentDidUpdate!="function"||g===t.memoizedProps&&q===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===t.memoizedProps&&q===t.memoizedState||(n.flags|=1024),o=!1)}return f=o,cc(t,n),o=(n.flags&128)!==0,f||o?(f=n.stateNode,s=o&&typeof s.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,t!==null&&o?(n.child=ba(n,t.child,null,h),n.child=ba(n,null,s,h)):un(t,n,s,h),n.memoizedState=f.state,t=n.child):t=Ar(t,n,h),t}function _y(t,n,s,o){return pa(),n.flags|=256,un(t,n,s,o),n.child}var Kf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Xf(t){return{baseLanes:t,cachePool:op()}}function $f(t,n,s){return t=t!==null?t.childLanes&~s:0,n&&(t|=Wn),t}function vy(t,n,s){var o=n.pendingProps,h=!1,f=(n.flags&128)!==0,g;if((g=f)||(g=t!==null&&t.memoizedState===null?!1:(Dt.current&2)!==0),g&&(h=!0,n.flags&=-129),g=(n.flags&32)!==0,n.flags&=-33,t===null){if(Qe){if(h?us(n):cs(),(t=dt)?(t=I_(t,_i),t=t!==null&&t.data!=="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:ns!==null?{id:Ki,overflow:Xi}:null,retryLane:536870912,hydrationErrors:null},s=Zg(t),s.return=n,n.child=s,on=n,dt=null)):t=null,t===null)throw rs(n);return Md(t)?n.lanes=32:n.lanes=536870912,null}var E=o.children;return o=o.fallback,h?(cs(),h=n.mode,E=hc({mode:"hidden",children:E},h),o=ga(o,h,s,null),E.return=n,o.return=n,E.sibling=o,n.child=E,o=n.child,o.memoizedState=Xf(s),o.childLanes=$f(t,g,s),n.memoizedState=Kf,Sl(null,o)):(us(n),Jf(n,E))}var I=t.memoizedState;if(I!==null&&(E=I.dehydrated,E!==null)){if(f)n.flags&256?(us(n),n.flags&=-257,n=Zf(t,n,s)):n.memoizedState!==null?(cs(),n.child=t.child,n.flags|=128,n=null):(cs(),E=o.fallback,h=n.mode,o=hc({mode:"visible",children:o.children},h),E=ga(E,h,s,null),E.flags|=2,o.return=n,E.return=n,o.sibling=E,n.child=o,ba(n,t.child,null,s),o=n.child,o.memoizedState=Xf(s),o.childLanes=$f(t,g,s),n.memoizedState=Kf,n=Sl(null,o));else if(us(n),Md(E)){if(g=E.nextSibling&&E.nextSibling.dataset,g)var B=g.dgst;g=B,o=Error(a(419)),o.stack="",o.digest=g,hl({value:o,source:null,stack:null}),n=Zf(t,n,s)}else if(Bt||ro(t,n,s,!1),g=(s&t.childLanes)!==0,Bt||g){if(g=ut,g!==null&&(o=$s(g,s),o!==0&&o!==I.retryLane))throw I.retryLane=o,ma(t,o),Pn(g,t,o),Qf;Dd(E)||Ec(),n=Zf(t,n,s)}else Dd(E)?(n.flags|=192,n.child=t.child,n=null):(t=I.treeContext,dt=Ei(E.nextSibling),on=n,Qe=!0,is=null,_i=!1,t!==null&&tp(n,t),n=Jf(n,o.children),n.flags|=4096);return n}return h?(cs(),E=o.fallback,h=n.mode,I=t.child,B=I.sibling,o=_r(I,{mode:"hidden",children:o.children}),o.subtreeFlags=I.subtreeFlags&65011712,B!==null?E=_r(B,E):(E=ga(E,h,s,null),E.flags|=2),E.return=n,o.return=n,o.sibling=E,n.child=o,Sl(null,o),o=n.child,E=t.child.memoizedState,E===null?E=Xf(s):(h=E.cachePool,h!==null?(I=zt._currentValue,h=h.parent!==I?{parent:I,pool:I}:h):h=op(),E={baseLanes:E.baseLanes|s,cachePool:h}),o.memoizedState=E,o.childLanes=$f(t,g,s),n.memoizedState=Kf,Sl(t.child,o)):(us(n),s=t.child,t=s.sibling,s=_r(s,{mode:"visible",children:o.children}),s.return=n,s.sibling=null,t!==null&&(g=n.deletions,g===null?(n.deletions=[t],n.flags|=16):g.push(t)),n.child=s,n.memoizedState=null,s)}function Jf(t,n){return n=hc({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function hc(t,n){return t=Xn(22,t,null,n),t.lanes=0,t}function Zf(t,n,s){return ba(n,t.child,null,s),t=Jf(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function Ey(t,n,s){t.lanes|=n;var o=t.alternate;o!==null&&(o.lanes|=n),df(t.return,n,s)}function Wf(t,n,s,o,h,f){var g=t.memoizedState;g===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:o,tail:s,tailMode:h,treeForkCount:f}:(g.isBackwards=n,g.rendering=null,g.renderingStartTime=0,g.last=o,g.tail=s,g.tailMode=h,g.treeForkCount=f)}function Ty(t,n,s){var o=n.pendingProps,h=o.revealOrder,f=o.tail;o=o.children;var g=Dt.current,E=(g&2)!==0;if(E?(g=g&1|2,n.flags|=128):g&=1,le(Dt,g),un(t,n,o,s),o=Qe?cl:0,!E&&t!==null&&(t.flags&128)!==0)e:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Ey(t,s,n);else if(t.tag===19)Ey(t,s,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break e;for(;t.sibling===null;){if(t.return===null||t.return===n)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(h){case"forwards":for(s=n.child,h=null;s!==null;)t=s.alternate,t!==null&&Wu(t)===null&&(h=s),s=s.sibling;s=h,s===null?(h=n.child,n.child=null):(h=s.sibling,s.sibling=null),Wf(n,!1,h,s,f,o);break;case"backwards":case"unstable_legacy-backwards":for(s=null,h=n.child,n.child=null;h!==null;){if(t=h.alternate,t!==null&&Wu(t)===null){n.child=h;break}t=h.sibling,h.sibling=s,s=h,h=t}Wf(n,!0,s,null,f,o);break;case"together":Wf(n,!1,null,null,void 0,o);break;default:n.memoizedState=null}return n.child}function Ar(t,n,s){if(t!==null&&(n.dependencies=t.dependencies),ds|=n.lanes,(s&n.childLanes)===0)if(t!==null){if(ro(t,n,s,!1),(s&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(a(153));if(n.child!==null){for(t=n.child,s=_r(t,t.pendingProps),n.child=s,s.return=n;t.sibling!==null;)t=t.sibling,s=s.sibling=_r(t,t.pendingProps),s.return=n;s.sibling=null}return n.child}function ed(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&Gu(t)))}function $T(t,n,s){switch(n.tag){case 3:kt(n,n.stateNode.containerInfo),ss(n,zt,t.memoizedState.cache),pa();break;case 27:case 5:Fr(n);break;case 4:kt(n,n.stateNode.containerInfo);break;case 10:ss(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,wf(n),null;break;case 13:var o=n.memoizedState;if(o!==null)return o.dehydrated!==null?(us(n),n.flags|=128,null):(s&n.child.childLanes)!==0?vy(t,n,s):(us(n),t=Ar(t,n,s),t!==null?t.sibling:null);us(n);break;case 19:var h=(t.flags&128)!==0;if(o=(s&n.childLanes)!==0,o||(ro(t,n,s,!1),o=(s&n.childLanes)!==0),h){if(o)return Ty(t,n,s);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),le(Dt,Dt.current),o)break;return null;case 22:return n.lanes=0,dy(t,n,s,n.pendingProps);case 24:ss(n,zt,t.memoizedState.cache)}return Ar(t,n,s)}function by(t,n,s){if(t!==null)if(t.memoizedProps!==n.pendingProps)Bt=!0;else{if(!ed(t,s)&&(n.flags&128)===0)return Bt=!1,$T(t,n,s);Bt=(t.flags&131072)!==0}else Bt=!1,Qe&&(n.flags&1048576)!==0&&ep(n,cl,n.index);switch(n.lanes=0,n.tag){case 16:e:{var o=n.pendingProps;if(t=Ea(n.elementType),n.type=t,typeof t=="function")sf(t)?(o=Aa(t,o),n.tag=1,n=yy(null,n,t,o,s)):(n.tag=0,n=Yf(null,n,t,o,s));else{if(t!=null){var h=t.$$typeof;if(h===Ve){n.tag=11,n=cy(null,n,t,o,s);break e}else if(h===N){n.tag=14,n=hy(null,n,t,o,s);break e}}throw n=rt(t)||t,Error(a(306,n,""))}}return n;case 0:return Yf(t,n,n.type,n.pendingProps,s);case 1:return o=n.type,h=Aa(o,n.pendingProps),yy(t,n,o,h,s);case 3:e:{if(kt(n,n.stateNode.containerInfo),t===null)throw Error(a(387));o=n.pendingProps;var f=n.memoizedState;h=f.element,Ef(t,n),_l(n,o,null,s);var g=n.memoizedState;if(o=g.cache,ss(n,zt,o),o!==f.cache&&mf(n,[zt],s,!0),yl(),o=g.element,f.isDehydrated)if(f={element:o,isDehydrated:!1,cache:g.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=_y(t,n,o,s);break e}else if(o!==h){h=gi(Error(a(424)),n),hl(h),n=_y(t,n,o,s);break e}else{switch(t=n.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(dt=Ei(t.firstChild),on=n,Qe=!0,is=null,_i=!0,s=dp(n,null,o,s),n.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling}else{if(pa(),o===h){n=Ar(t,n,s);break e}un(t,n,o,s)}n=n.child}return n;case 26:return cc(t,n),t===null?(s=O_(n.type,null,n.pendingProps,null))?n.memoizedState=s:Qe||(s=n.type,t=n.pendingProps,o=Ic(Ce.current).createElement(s),o[vt]=n,o[Nt]=t,cn(o,s,t),Et(o),n.stateNode=o):n.memoizedState=O_(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return Fr(n),t===null&&Qe&&(o=n.stateNode=x_(n.type,n.pendingProps,Ce.current),on=n,_i=!0,h=dt,_s(n.type)?(Od=h,dt=Ei(o.firstChild)):dt=h),un(t,n,n.pendingProps.children,s),cc(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&Qe&&((h=o=dt)&&(o=Rb(o,n.type,n.pendingProps,_i),o!==null?(n.stateNode=o,on=n,dt=Ei(o.firstChild),_i=!1,h=!0):h=!1),h||rs(n)),Fr(n),h=n.type,f=n.pendingProps,g=t!==null?t.memoizedProps:null,o=f.children,Cd(h,f)?o=null:g!==null&&Cd(h,g)&&(n.flags|=32),n.memoizedState!==null&&(h=If(t,n,BT,null,null,s),Pl._currentValue=h),cc(t,n),un(t,n,o,s),n.child;case 6:return t===null&&Qe&&((t=s=dt)&&(s=Ib(s,n.pendingProps,_i),s!==null?(n.stateNode=s,on=n,dt=null,t=!0):t=!1),t||rs(n)),null;case 13:return vy(t,n,s);case 4:return kt(n,n.stateNode.containerInfo),o=n.pendingProps,t===null?n.child=ba(n,null,o,s):un(t,n,o,s),n.child;case 11:return cy(t,n,n.type,n.pendingProps,s);case 7:return un(t,n,n.pendingProps,s),n.child;case 8:return un(t,n,n.pendingProps.children,s),n.child;case 12:return un(t,n,n.pendingProps.children,s),n.child;case 10:return o=n.pendingProps,ss(n,n.type,o.value),un(t,n,o.children,s),n.child;case 9:return h=n.type._context,o=n.pendingProps.children,_a(n),h=ln(h),o=o(h),n.flags|=1,un(t,n,o,s),n.child;case 14:return hy(t,n,n.type,n.pendingProps,s);case 15:return fy(t,n,n.type,n.pendingProps,s);case 19:return Ty(t,n,s);case 31:return XT(t,n,s);case 22:return dy(t,n,s,n.pendingProps);case 24:return _a(n),o=ln(zt),t===null?(h=yf(),h===null&&(h=ut,f=gf(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=s),h=f),n.memoizedState={parent:o,cache:h},vf(n),ss(n,zt,h)):((t.lanes&s)!==0&&(Ef(t,n),_l(n,null,null,s),yl()),h=t.memoizedState,f=n.memoizedState,h.parent!==o?(h={parent:o,cache:o},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),ss(n,zt,o)):(o=f.cache,ss(n,zt,o),o!==h.cache&&mf(n,[zt],s,!0))),un(t,n,n.pendingProps.children,s),n.child;case 29:throw n.pendingProps}throw Error(a(156,n.tag))}function wr(t){t.flags|=4}function td(t,n,s,o,h){if((n=(t.mode&32)!==0)&&(n=!1),n){if(t.flags|=16777216,(h&335544128)===h)if(t.stateNode.complete)t.flags|=8192;else if(Xy())t.flags|=8192;else throw Ta=Xu,_f}else t.flags&=-16777217}function Sy(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!P_(n))if(Xy())t.flags|=8192;else throw Ta=Xu,_f}function fc(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?si():536870912,t.lanes|=n,yo|=n)}function Al(t,n){if(!Qe)switch(t.tailMode){case"hidden":n=t.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?t.tail=null:s.sibling=null;break;case"collapsed":s=t.tail;for(var o=null;s!==null;)s.alternate!==null&&(o=s),s=s.sibling;o===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:o.sibling=null}}function mt(t){var n=t.alternate!==null&&t.alternate.child===t.child,s=0,o=0;if(n)for(var h=t.child;h!==null;)s|=h.lanes|h.childLanes,o|=h.subtreeFlags&65011712,o|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)s|=h.lanes|h.childLanes,o|=h.subtreeFlags,o|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=o,t.childLanes=s,n}function JT(t,n,s){var o=n.pendingProps;switch(uf(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return mt(n),null;case 1:return mt(n),null;case 3:return s=n.stateNode,o=null,t!==null&&(o=t.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),Tr(zt),ft(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(t===null||t.child===null)&&(io(n)?wr(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,hf())),mt(n),null;case 26:var h=n.type,f=n.memoizedState;return t===null?(wr(n),f!==null?(mt(n),Sy(n,f)):(mt(n),td(n,h,null,o,s))):f?f!==t.memoizedState?(wr(n),mt(n),Sy(n,f)):(mt(n),n.flags&=-16777217):(t=t.memoizedProps,t!==o&&wr(n),mt(n),td(n,h,t,o,s)),null;case 27:if(Hs(n),s=Ce.current,h=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==o&&wr(n);else{if(!o){if(n.stateNode===null)throw Error(a(166));return mt(n),null}t=ue.current,io(n)?np(n):(t=x_(h,o,s),n.stateNode=t,wr(n))}return mt(n),null;case 5:if(Hs(n),h=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==o&&wr(n);else{if(!o){if(n.stateNode===null)throw Error(a(166));return mt(n),null}if(f=ue.current,io(n))np(n);else{var g=Ic(Ce.current);switch(f){case 1:f=g.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:f=g.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":f=g.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":f=g.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":f=g.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof o.is=="string"?g.createElement("select",{is:o.is}):g.createElement("select"),o.multiple?f.multiple=!0:o.size&&(f.size=o.size);break;default:f=typeof o.is=="string"?g.createElement(h,{is:o.is}):g.createElement(h)}}f[vt]=n,f[Nt]=o;e:for(g=n.child;g!==null;){if(g.tag===5||g.tag===6)f.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===n)break e;for(;g.sibling===null;){if(g.return===null||g.return===n)break e;g=g.return}g.sibling.return=g.return,g=g.sibling}n.stateNode=f;e:switch(cn(f,h,o),h){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break e;case"img":o=!0;break e;default:o=!1}o&&wr(n)}}return mt(n),td(n,n.type,t===null?null:t.memoizedProps,n.pendingProps,s),null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==o&&wr(n);else{if(typeof o!="string"&&n.stateNode===null)throw Error(a(166));if(t=Ce.current,io(n)){if(t=n.stateNode,s=n.memoizedProps,o=null,h=on,h!==null)switch(h.tag){case 27:case 5:o=h.memoizedProps}t[vt]=n,t=!!(t.nodeValue===s||o!==null&&o.suppressHydrationWarning===!0||v_(t.nodeValue,s)),t||rs(n,!0)}else t=Ic(t).createTextNode(o),t[vt]=n,n.stateNode=t}return mt(n),null;case 31:if(s=n.memoizedState,t===null||t.memoizedState!==null){if(o=io(n),s!==null){if(t===null){if(!o)throw Error(a(318));if(t=n.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(557));t[vt]=n}else pa(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;mt(n),t=!1}else s=hf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=s),t=!0;if(!t)return n.flags&256?(Jn(n),n):(Jn(n),null);if((n.flags&128)!==0)throw Error(a(558))}return mt(n),null;case 13:if(o=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=io(n),o!==null&&o.dehydrated!==null){if(t===null){if(!h)throw Error(a(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(a(317));h[vt]=n}else pa(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;mt(n),h=!1}else h=hf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(Jn(n),n):(Jn(n),null)}return Jn(n),(n.flags&128)!==0?(n.lanes=s,n):(s=o!==null,t=t!==null&&t.memoizedState!==null,s&&(o=n.child,h=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(h=o.alternate.memoizedState.cachePool.pool),f=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),f!==h&&(o.flags|=2048)),s!==t&&s&&(n.child.flags|=8192),fc(n,n.updateQueue),mt(n),null);case 4:return ft(),t===null&&Sd(n.stateNode.containerInfo),mt(n),null;case 10:return Tr(n.type),mt(n),null;case 19:if($(Dt),o=n.memoizedState,o===null)return mt(n),null;if(h=(n.flags&128)!==0,f=o.rendering,f===null)if(h)Al(o,!1);else{if(Rt!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(f=Wu(t),f!==null){for(n.flags|=128,Al(o,!1),t=f.updateQueue,n.updateQueue=t,fc(n,t),n.subtreeFlags=0,t=s,s=n.child;s!==null;)Jg(s,t),s=s.sibling;return le(Dt,Dt.current&1|2),Qe&&vr(n,o.treeForkCount),n.child}t=t.sibling}o.tail!==null&&Jt()>yc&&(n.flags|=128,h=!0,Al(o,!1),n.lanes=4194304)}else{if(!h)if(t=Wu(f),t!==null){if(n.flags|=128,h=!0,t=t.updateQueue,n.updateQueue=t,fc(n,t),Al(o,!0),o.tail===null&&o.tailMode==="hidden"&&!f.alternate&&!Qe)return mt(n),null}else 2*Jt()-o.renderingStartTime>yc&&s!==536870912&&(n.flags|=128,h=!0,Al(o,!1),n.lanes=4194304);o.isBackwards?(f.sibling=n.child,n.child=f):(t=o.last,t!==null?t.sibling=f:n.child=f,o.last=f)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Jt(),t.sibling=null,s=Dt.current,le(Dt,h?s&1|2:s&1),Qe&&vr(n,o.treeForkCount),t):(mt(n),null);case 22:case 23:return Jn(n),Af(),o=n.memoizedState!==null,t!==null?t.memoizedState!==null!==o&&(n.flags|=8192):o&&(n.flags|=8192),o?(s&536870912)!==0&&(n.flags&128)===0&&(mt(n),n.subtreeFlags&6&&(n.flags|=8192)):mt(n),s=n.updateQueue,s!==null&&fc(n,s.retryQueue),s=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),o=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),o!==s&&(n.flags|=2048),t!==null&&$(va),null;case 24:return s=null,t!==null&&(s=t.memoizedState.cache),n.memoizedState.cache!==s&&(n.flags|=2048),Tr(zt),mt(n),null;case 25:return null;case 30:return null}throw Error(a(156,n.tag))}function ZT(t,n){switch(uf(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return Tr(zt),ft(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return Hs(n),null;case 31:if(n.memoizedState!==null){if(Jn(n),n.alternate===null)throw Error(a(340));pa()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 13:if(Jn(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(a(340));pa()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return $(Dt),null;case 4:return ft(),null;case 10:return Tr(n.type),null;case 22:case 23:return Jn(n),Af(),t!==null&&$(va),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return Tr(zt),null;case 25:return null;default:return null}}function Ay(t,n){switch(uf(n),n.tag){case 3:Tr(zt),ft();break;case 26:case 27:case 5:Hs(n);break;case 4:ft();break;case 31:n.memoizedState!==null&&Jn(n);break;case 13:Jn(n);break;case 19:$(Dt);break;case 10:Tr(n.type);break;case 22:case 23:Jn(n),Af(),t!==null&&$(va);break;case 24:Tr(zt)}}function wl(t,n){try{var s=n.updateQueue,o=s!==null?s.lastEffect:null;if(o!==null){var h=o.next;s=h;do{if((s.tag&t)===t){o=void 0;var f=s.create,g=s.inst;o=f(),g.destroy=o}s=s.next}while(s!==h)}}catch(E){it(n,n.return,E)}}function hs(t,n,s){try{var o=n.updateQueue,h=o!==null?o.lastEffect:null;if(h!==null){var f=h.next;o=f;do{if((o.tag&t)===t){var g=o.inst,E=g.destroy;if(E!==void 0){g.destroy=void 0,h=n;var I=s,B=E;try{B()}catch(K){it(h,I,K)}}}o=o.next}while(o!==f)}}catch(K){it(n,n.return,K)}}function wy(t){var n=t.updateQueue;if(n!==null){var s=t.stateNode;try{gp(n,s)}catch(o){it(t,t.return,o)}}}function Ry(t,n,s){s.props=Aa(t.type,t.memoizedProps),s.state=t.memoizedState;try{s.componentWillUnmount()}catch(o){it(t,n,o)}}function Rl(t,n){try{var s=t.ref;if(s!==null){switch(t.tag){case 26:case 27:case 5:var o=t.stateNode;break;case 30:o=t.stateNode;break;default:o=t.stateNode}typeof s=="function"?t.refCleanup=s(o):s.current=o}}catch(h){it(t,n,h)}}function $i(t,n){var s=t.ref,o=t.refCleanup;if(s!==null)if(typeof o=="function")try{o()}catch(h){it(t,n,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(h){it(t,n,h)}else s.current=null}function Iy(t){var n=t.type,s=t.memoizedProps,o=t.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":s.autoFocus&&o.focus();break e;case"img":s.src?o.src=s.src:s.srcSet&&(o.srcset=s.srcSet)}}catch(h){it(t,t.return,h)}}function nd(t,n,s){try{var o=t.stateNode;Eb(o,t.type,s,n),o[Nt]=n}catch(h){it(t,t.return,h)}}function Cy(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&_s(t.type)||t.tag===4}function id(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Cy(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&_s(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function rd(t,n,s){var o=t.tag;if(o===5||o===6)t=t.stateNode,n?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(t,n):(n=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,n.appendChild(t),s=s._reactRootContainer,s!=null||n.onclick!==null||(n.onclick=ee));else if(o!==4&&(o===27&&_s(t.type)&&(s=t.stateNode,n=null),t=t.child,t!==null))for(rd(t,n,s),t=t.sibling;t!==null;)rd(t,n,s),t=t.sibling}function dc(t,n,s){var o=t.tag;if(o===5||o===6)t=t.stateNode,n?s.insertBefore(t,n):s.appendChild(t);else if(o!==4&&(o===27&&_s(t.type)&&(s=t.stateNode),t=t.child,t!==null))for(dc(t,n,s),t=t.sibling;t!==null;)dc(t,n,s),t=t.sibling}function Ny(t){var n=t.stateNode,s=t.memoizedProps;try{for(var o=t.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);cn(n,o,s),n[vt]=t,n[Nt]=s}catch(f){it(t,t.return,f)}}var Rr=!1,qt=!1,sd=!1,xy=typeof WeakSet=="function"?WeakSet:Set,en=null;function WT(t,n){if(t=t.containerInfo,Rd=Vc,t=qg(t),Jh(t)){if("selectionStart"in t)var s={start:t.selectionStart,end:t.selectionEnd};else e:{s=(s=t.ownerDocument)&&s.defaultView||window;var o=s.getSelection&&s.getSelection();if(o&&o.rangeCount!==0){s=o.anchorNode;var h=o.anchorOffset,f=o.focusNode;o=o.focusOffset;try{s.nodeType,f.nodeType}catch{s=null;break e}var g=0,E=-1,I=-1,B=0,K=0,J=t,q=null;t:for(;;){for(var F;J!==s||h!==0&&J.nodeType!==3||(E=g+h),J!==f||o!==0&&J.nodeType!==3||(I=g+o),J.nodeType===3&&(g+=J.nodeValue.length),(F=J.firstChild)!==null;)q=J,J=F;for(;;){if(J===t)break t;if(q===s&&++B===h&&(E=g),q===f&&++K===o&&(I=g),(F=J.nextSibling)!==null)break;J=q,q=J.parentNode}J=F}s=E===-1||I===-1?null:{start:E,end:I}}else s=null}s=s||{start:0,end:0}}else s=null;for(Id={focusedElem:t,selectionRange:s},Vc=!1,en=n;en!==null;)if(n=en,t=n.child,(n.subtreeFlags&1028)!==0&&t!==null)t.return=n,en=t;else for(;en!==null;){switch(n=en,f=n.alternate,t=n.flags,n.tag){case 0:if((t&4)!==0&&(t=n.updateQueue,t=t!==null?t.events:null,t!==null))for(s=0;s<t.length;s++)h=t[s],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,s=n,h=f.memoizedProps,f=f.memoizedState,o=s.stateNode;try{var fe=Aa(s.type,h);t=o.getSnapshotBeforeUpdate(fe,f),o.__reactInternalSnapshotBeforeUpdate=t}catch(Ee){it(s,s.return,Ee)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,s=t.nodeType,s===9)xd(t);else if(s===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":xd(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(a(163))}if(t=n.sibling,t!==null){t.return=n.return,en=t;break}en=n.return}}function Dy(t,n,s){var o=s.flags;switch(s.tag){case 0:case 11:case 15:Cr(t,s),o&4&&wl(5,s);break;case 1:if(Cr(t,s),o&4)if(t=s.stateNode,n===null)try{t.componentDidMount()}catch(g){it(s,s.return,g)}else{var h=Aa(s.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(h,n,t.__reactInternalSnapshotBeforeUpdate)}catch(g){it(s,s.return,g)}}o&64&&wy(s),o&512&&Rl(s,s.return);break;case 3:if(Cr(t,s),o&64&&(t=s.updateQueue,t!==null)){if(n=null,s.child!==null)switch(s.child.tag){case 27:case 5:n=s.child.stateNode;break;case 1:n=s.child.stateNode}try{gp(t,n)}catch(g){it(s,s.return,g)}}break;case 27:n===null&&o&4&&Ny(s);case 26:case 5:Cr(t,s),n===null&&o&4&&Iy(s),o&512&&Rl(s,s.return);break;case 12:Cr(t,s);break;case 31:Cr(t,s),o&4&&Vy(t,s);break;case 13:Cr(t,s),o&4&&ky(t,s),o&64&&(t=s.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(s=lb.bind(null,s),Cb(t,s))));break;case 22:if(o=s.memoizedState!==null||Rr,!o){n=n!==null&&n.memoizedState!==null||qt,h=Rr;var f=qt;Rr=o,(qt=n)&&!f?Nr(t,s,(s.subtreeFlags&8772)!==0):Cr(t,s),Rr=h,qt=f}break;case 30:break;default:Cr(t,s)}}function My(t){var n=t.alternate;n!==null&&(t.alternate=null,My(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&Pi(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var _t=null,Vn=!1;function Ir(t,n,s){for(s=s.child;s!==null;)Oy(t,n,s),s=s.sibling}function Oy(t,n,s){if(Qt&&typeof Qt.onCommitFiberUnmount=="function")try{Qt.onCommitFiberUnmount(wn,s)}catch{}switch(s.tag){case 26:qt||$i(s,n),Ir(t,n,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:qt||$i(s,n);var o=_t,h=Vn;_s(s.type)&&(_t=s.stateNode,Vn=!1),Ir(t,n,s),kl(s.stateNode),_t=o,Vn=h;break;case 5:qt||$i(s,n);case 6:if(o=_t,h=Vn,_t=null,Ir(t,n,s),_t=o,Vn=h,_t!==null)if(Vn)try{(_t.nodeType===9?_t.body:_t.nodeName==="HTML"?_t.ownerDocument.body:_t).removeChild(s.stateNode)}catch(f){it(s,n,f)}else try{_t.removeChild(s.stateNode)}catch(f){it(s,n,f)}break;case 18:_t!==null&&(Vn?(t=_t,w_(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,s.stateNode),wo(t)):w_(_t,s.stateNode));break;case 4:o=_t,h=Vn,_t=s.stateNode.containerInfo,Vn=!0,Ir(t,n,s),_t=o,Vn=h;break;case 0:case 11:case 14:case 15:hs(2,s,n),qt||hs(4,s,n),Ir(t,n,s);break;case 1:qt||($i(s,n),o=s.stateNode,typeof o.componentWillUnmount=="function"&&Ry(s,n,o)),Ir(t,n,s);break;case 21:Ir(t,n,s);break;case 22:qt=(o=qt)||s.memoizedState!==null,Ir(t,n,s),qt=o;break;default:Ir(t,n,s)}}function Vy(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{wo(t)}catch(s){it(n,n.return,s)}}}function ky(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{wo(t)}catch(s){it(n,n.return,s)}}function eb(t){switch(t.tag){case 31:case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new xy),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new xy),n;default:throw Error(a(435,t.tag))}}function mc(t,n){var s=eb(t);n.forEach(function(o){if(!s.has(o)){s.add(o);var h=ub.bind(null,t,o);o.then(h,h)}})}function kn(t,n){var s=n.deletions;if(s!==null)for(var o=0;o<s.length;o++){var h=s[o],f=t,g=n,E=g;e:for(;E!==null;){switch(E.tag){case 27:if(_s(E.type)){_t=E.stateNode,Vn=!1;break e}break;case 5:_t=E.stateNode,Vn=!1;break e;case 3:case 4:_t=E.stateNode.containerInfo,Vn=!0;break e}E=E.return}if(_t===null)throw Error(a(160));Oy(f,g,h),_t=null,Vn=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)Uy(n,t),n=n.sibling}var Mi=null;function Uy(t,n){var s=t.alternate,o=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:kn(n,t),Un(t),o&4&&(hs(3,t,t.return),wl(3,t),hs(5,t,t.return));break;case 1:kn(n,t),Un(t),o&512&&(qt||s===null||$i(s,s.return)),o&64&&Rr&&(t=t.updateQueue,t!==null&&(o=t.callbacks,o!==null&&(s=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=s===null?o:s.concat(o))));break;case 26:var h=Mi;if(kn(n,t),Un(t),o&512&&(qt||s===null||$i(s,s.return)),o&4){var f=s!==null?s.memoizedState:null;if(o=t.memoizedState,s===null)if(o===null)if(t.stateNode===null){e:{o=t.type,s=t.memoizedProps,h=h.ownerDocument||h;t:switch(o){case"title":f=h.getElementsByTagName("title")[0],(!f||f[oi]||f[vt]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(o),h.head.insertBefore(f,h.querySelector("head > title"))),cn(f,o,s),f[vt]=t,Et(f),o=f;break e;case"link":var g=U_("link","href",h).get(o+(s.href||""));if(g){for(var E=0;E<g.length;E++)if(f=g[E],f.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&f.getAttribute("rel")===(s.rel==null?null:s.rel)&&f.getAttribute("title")===(s.title==null?null:s.title)&&f.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){g.splice(E,1);break t}}f=h.createElement(o),cn(f,o,s),h.head.appendChild(f);break;case"meta":if(g=U_("meta","content",h).get(o+(s.content||""))){for(E=0;E<g.length;E++)if(f=g[E],f.getAttribute("content")===(s.content==null?null:""+s.content)&&f.getAttribute("name")===(s.name==null?null:s.name)&&f.getAttribute("property")===(s.property==null?null:s.property)&&f.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&f.getAttribute("charset")===(s.charSet==null?null:s.charSet)){g.splice(E,1);break t}}f=h.createElement(o),cn(f,o,s),h.head.appendChild(f);break;default:throw Error(a(468,o))}f[vt]=t,Et(f),o=f}t.stateNode=o}else L_(h,t.type,t.stateNode);else t.stateNode=k_(h,o,t.memoizedProps);else f!==o?(f===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):f.count--,o===null?L_(h,t.type,t.stateNode):k_(h,o,t.memoizedProps)):o===null&&t.stateNode!==null&&nd(t,t.memoizedProps,s.memoizedProps)}break;case 27:kn(n,t),Un(t),o&512&&(qt||s===null||$i(s,s.return)),s!==null&&o&4&&nd(t,t.memoizedProps,s.memoizedProps);break;case 5:if(kn(n,t),Un(t),o&512&&(qt||s===null||$i(s,s.return)),t.flags&32){h=t.stateNode;try{vn(h,"")}catch(fe){it(t,t.return,fe)}}o&4&&t.stateNode!=null&&(h=t.memoizedProps,nd(t,h,s!==null?s.memoizedProps:h)),o&1024&&(sd=!0);break;case 6:if(kn(n,t),Un(t),o&4){if(t.stateNode===null)throw Error(a(162));o=t.memoizedProps,s=t.stateNode;try{s.nodeValue=o}catch(fe){it(t,t.return,fe)}}break;case 3:if(xc=null,h=Mi,Mi=Cc(n.containerInfo),kn(n,t),Mi=h,Un(t),o&4&&s!==null&&s.memoizedState.isDehydrated)try{wo(n.containerInfo)}catch(fe){it(t,t.return,fe)}sd&&(sd=!1,Ly(t));break;case 4:o=Mi,Mi=Cc(t.stateNode.containerInfo),kn(n,t),Un(t),Mi=o;break;case 12:kn(n,t),Un(t);break;case 31:kn(n,t),Un(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,mc(t,o)));break;case 13:kn(n,t),Un(t),t.child.flags&8192&&t.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(pc=Jt()),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,mc(t,o)));break;case 22:h=t.memoizedState!==null;var I=s!==null&&s.memoizedState!==null,B=Rr,K=qt;if(Rr=B||h,qt=K||I,kn(n,t),qt=K,Rr=B,Un(t),o&8192)e:for(n=t.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(s===null||I||Rr||qt||wa(t)),s=null,n=t;;){if(n.tag===5||n.tag===26){if(s===null){I=s=n;try{if(f=I.stateNode,h)g=f.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none";else{E=I.stateNode;var J=I.memoizedProps.style,q=J!=null&&J.hasOwnProperty("display")?J.display:null;E.style.display=q==null||typeof q=="boolean"?"":(""+q).trim()}}catch(fe){it(I,I.return,fe)}}}else if(n.tag===6){if(s===null){I=n;try{I.stateNode.nodeValue=h?"":I.memoizedProps}catch(fe){it(I,I.return,fe)}}}else if(n.tag===18){if(s===null){I=n;try{var F=I.stateNode;h?R_(F,!0):R_(I.stateNode,!1)}catch(fe){it(I,I.return,fe)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break e;for(;n.sibling===null;){if(n.return===null||n.return===t)break e;s===n&&(s=null),n=n.return}s===n&&(s=null),n.sibling.return=n.return,n=n.sibling}o&4&&(o=t.updateQueue,o!==null&&(s=o.retryQueue,s!==null&&(o.retryQueue=null,mc(t,s))));break;case 19:kn(n,t),Un(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,mc(t,o)));break;case 30:break;case 21:break;default:kn(n,t),Un(t)}}function Un(t){var n=t.flags;if(n&2){try{for(var s,o=t.return;o!==null;){if(Cy(o)){s=o;break}o=o.return}if(s==null)throw Error(a(160));switch(s.tag){case 27:var h=s.stateNode,f=id(t);dc(t,f,h);break;case 5:var g=s.stateNode;s.flags&32&&(vn(g,""),s.flags&=-33);var E=id(t);dc(t,E,g);break;case 3:case 4:var I=s.stateNode.containerInfo,B=id(t);rd(t,B,I);break;default:throw Error(a(161))}}catch(K){it(t,t.return,K)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function Ly(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;Ly(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function Cr(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Dy(t,n.alternate,n),n=n.sibling}function wa(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:hs(4,n,n.return),wa(n);break;case 1:$i(n,n.return);var s=n.stateNode;typeof s.componentWillUnmount=="function"&&Ry(n,n.return,s),wa(n);break;case 27:kl(n.stateNode);case 26:case 5:$i(n,n.return),wa(n);break;case 22:n.memoizedState===null&&wa(n);break;case 30:wa(n);break;default:wa(n)}t=t.sibling}}function Nr(t,n,s){for(s=s&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var o=n.alternate,h=t,f=n,g=f.flags;switch(f.tag){case 0:case 11:case 15:Nr(h,f,s),wl(4,f);break;case 1:if(Nr(h,f,s),o=f,h=o.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(B){it(o,o.return,B)}if(o=f,h=o.updateQueue,h!==null){var E=o.stateNode;try{var I=h.shared.hiddenCallbacks;if(I!==null)for(h.shared.hiddenCallbacks=null,h=0;h<I.length;h++)mp(I[h],E)}catch(B){it(o,o.return,B)}}s&&g&64&&wy(f),Rl(f,f.return);break;case 27:Ny(f);case 26:case 5:Nr(h,f,s),s&&o===null&&g&4&&Iy(f),Rl(f,f.return);break;case 12:Nr(h,f,s);break;case 31:Nr(h,f,s),s&&g&4&&Vy(h,f);break;case 13:Nr(h,f,s),s&&g&4&&ky(h,f);break;case 22:f.memoizedState===null&&Nr(h,f,s),Rl(f,f.return);break;case 30:break;default:Nr(h,f,s)}n=n.sibling}}function ad(t,n){var s=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==s&&(t!=null&&t.refCount++,s!=null&&fl(s))}function od(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&fl(t))}function Oi(t,n,s,o){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Py(t,n,s,o),n=n.sibling}function Py(t,n,s,o){var h=n.flags;switch(n.tag){case 0:case 11:case 15:Oi(t,n,s,o),h&2048&&wl(9,n);break;case 1:Oi(t,n,s,o);break;case 3:Oi(t,n,s,o),h&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&fl(t)));break;case 12:if(h&2048){Oi(t,n,s,o),t=n.stateNode;try{var f=n.memoizedProps,g=f.id,E=f.onPostCommit;typeof E=="function"&&E(g,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(I){it(n,n.return,I)}}else Oi(t,n,s,o);break;case 31:Oi(t,n,s,o);break;case 13:Oi(t,n,s,o);break;case 23:break;case 22:f=n.stateNode,g=n.alternate,n.memoizedState!==null?f._visibility&2?Oi(t,n,s,o):Il(t,n):f._visibility&2?Oi(t,n,s,o):(f._visibility|=2,mo(t,n,s,o,(n.subtreeFlags&10256)!==0||!1)),h&2048&&ad(g,n);break;case 24:Oi(t,n,s,o),h&2048&&od(n.alternate,n);break;default:Oi(t,n,s,o)}}function mo(t,n,s,o,h){for(h=h&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=t,g=n,E=s,I=o,B=g.flags;switch(g.tag){case 0:case 11:case 15:mo(f,g,E,I,h),wl(8,g);break;case 23:break;case 22:var K=g.stateNode;g.memoizedState!==null?K._visibility&2?mo(f,g,E,I,h):Il(f,g):(K._visibility|=2,mo(f,g,E,I,h)),h&&B&2048&&ad(g.alternate,g);break;case 24:mo(f,g,E,I,h),h&&B&2048&&od(g.alternate,g);break;default:mo(f,g,E,I,h)}n=n.sibling}}function Il(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var s=t,o=n,h=o.flags;switch(o.tag){case 22:Il(s,o),h&2048&&ad(o.alternate,o);break;case 24:Il(s,o),h&2048&&od(o.alternate,o);break;default:Il(s,o)}n=n.sibling}}var Cl=8192;function go(t,n,s){if(t.subtreeFlags&Cl)for(t=t.child;t!==null;)zy(t,n,s),t=t.sibling}function zy(t,n,s){switch(t.tag){case 26:go(t,n,s),t.flags&Cl&&t.memoizedState!==null&&jb(s,Mi,t.memoizedState,t.memoizedProps);break;case 5:go(t,n,s);break;case 3:case 4:var o=Mi;Mi=Cc(t.stateNode.containerInfo),go(t,n,s),Mi=o;break;case 22:t.memoizedState===null&&(o=t.alternate,o!==null&&o.memoizedState!==null?(o=Cl,Cl=16777216,go(t,n,s),Cl=o):go(t,n,s));break;default:go(t,n,s)}}function jy(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function Nl(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var o=n[s];en=o,qy(o,t)}jy(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)By(t),t=t.sibling}function By(t){switch(t.tag){case 0:case 11:case 15:Nl(t),t.flags&2048&&hs(9,t,t.return);break;case 3:Nl(t);break;case 12:Nl(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,gc(t)):Nl(t);break;default:Nl(t)}}function gc(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var o=n[s];en=o,qy(o,t)}jy(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:hs(8,n,n.return),gc(n);break;case 22:s=n.stateNode,s._visibility&2&&(s._visibility&=-3,gc(n));break;default:gc(n)}t=t.sibling}}function qy(t,n){for(;en!==null;){var s=en;switch(s.tag){case 0:case 11:case 15:hs(8,s,n);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var o=s.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:fl(s.memoizedState.cache)}if(o=s.child,o!==null)o.return=s,en=o;else e:for(s=t;en!==null;){o=en;var h=o.sibling,f=o.return;if(My(o),o===s){en=null;break e}if(h!==null){h.return=f,en=h;break e}en=f}}}var tb={getCacheForType:function(t){var n=ln(zt),s=n.data.get(t);return s===void 0&&(s=t(),n.data.set(t,s)),s},cacheSignal:function(){return ln(zt).controller.signal}},nb=typeof WeakMap=="function"?WeakMap:Map,et=0,ut=null,ke=null,ze=0,nt=0,Zn=null,fs=!1,po=!1,ld=!1,xr=0,Rt=0,ds=0,Ra=0,ud=0,Wn=0,yo=0,xl=null,Ln=null,cd=!1,pc=0,Hy=0,yc=1/0,_c=null,ms=null,Xt=0,gs=null,_o=null,Dr=0,hd=0,fd=null,Fy=null,Dl=0,dd=null;function ei(){return(et&2)!==0&&ze!==0?ze&-ze:Q.T!==null?vd():Js()}function Gy(){if(Wn===0)if((ze&536870912)===0||Qe){var t=Li;Li<<=1,(Li&3932160)===0&&(Li=262144),Wn=t}else Wn=536870912;return t=$n.current,t!==null&&(t.flags|=32),Wn}function Pn(t,n,s){(t===ut&&(nt===2||nt===9)||t.cancelPendingCommit!==null)&&(vo(t,0),ps(t,ze,Wn,!1)),Zt(t,s),((et&2)===0||t!==ut)&&(t===ut&&((et&2)===0&&(Ra|=s),Rt===4&&ps(t,ze,Wn,!1)),Ji(t))}function Qy(t,n,s){if((et&6)!==0)throw Error(a(327));var o=!s&&(n&127)===0&&(n&t.expiredLanes)===0||yn(t,n),h=o?sb(t,n):gd(t,n,!0),f=o;do{if(h===0){po&&!o&&ps(t,n,0,!1);break}else{if(s=t.current.alternate,f&&!ib(s)){h=gd(t,n,!1),f=!1;continue}if(h===2){if(f=n,t.errorRecoveryDisabledLanes&f)var g=0;else g=t.pendingLanes&-536870913,g=g!==0?g:g&536870912?536870912:0;if(g!==0){n=g;e:{var E=t;h=xl;var I=E.current.memoizedState.isDehydrated;if(I&&(vo(E,g).flags|=256),g=gd(E,g,!1),g!==2){if(ld&&!I){E.errorRecoveryDisabledLanes|=f,Ra|=f,h=4;break e}f=Ln,Ln=h,f!==null&&(Ln===null?Ln=f:Ln.push.apply(Ln,f))}h=g}if(f=!1,h!==2)continue}}if(h===1){vo(t,0),ps(t,n,0,!0);break}e:{switch(o=t,f=h,f){case 0:case 1:throw Error(a(345));case 4:if((n&4194048)!==n)break;case 6:ps(o,n,Wn,!fs);break e;case 2:Ln=null;break;case 3:case 5:break;default:throw Error(a(329))}if((n&62914560)===n&&(h=pc+300-Jt(),10<h)){if(ps(o,n,Wn,!fs),ri(o,0,!0)!==0)break e;Dr=n,o.timeoutHandle=S_(Yy.bind(null,o,s,Ln,_c,cd,n,Wn,Ra,yo,fs,f,"Throttled",-0,0),h);break e}Yy(o,s,Ln,_c,cd,n,Wn,Ra,yo,fs,f,null,-0,0)}}break}while(!0);Ji(t)}function Yy(t,n,s,o,h,f,g,E,I,B,K,J,q,F){if(t.timeoutHandle=-1,J=n.subtreeFlags,J&8192||(J&16785408)===16785408){J={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ee},zy(n,f,J);var fe=(f&62914560)===f?pc-Jt():(f&4194048)===f?Hy-Jt():0;if(fe=Bb(J,fe),fe!==null){Dr=f,t.cancelPendingCommit=fe(t_.bind(null,t,n,f,s,o,h,g,E,I,K,J,null,q,F)),ps(t,f,g,!B);return}}t_(t,n,f,s,o,h,g,E,I)}function ib(t){for(var n=t;;){var s=n.tag;if((s===0||s===11||s===15)&&n.flags&16384&&(s=n.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var o=0;o<s.length;o++){var h=s[o],f=h.getSnapshot;h=h.value;try{if(!Kn(f(),h))return!1}catch{return!1}}if(s=n.child,n.subtreeFlags&16384&&s!==null)s.return=n,n=s;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function ps(t,n,s,o){n&=~ud,n&=~Ra,t.suspendedLanes|=n,t.pingedLanes&=~n,o&&(t.warmLanes|=n),o=t.expirationTimes;for(var h=n;0<h;){var f=31-Oe(h),g=1<<f;o[f]=-1,h&=~g}s!==0&&fr(t,s,n)}function vc(){return(et&6)===0?(Ml(0),!1):!0}function md(){if(ke!==null){if(nt===0)var t=ke.return;else t=ke,Er=ya=null,xf(t),lo=null,ml=0,t=ke;for(;t!==null;)Ay(t.alternate,t),t=t.return;ke=null}}function vo(t,n){var s=t.timeoutHandle;s!==-1&&(t.timeoutHandle=-1,Sb(s)),s=t.cancelPendingCommit,s!==null&&(t.cancelPendingCommit=null,s()),Dr=0,md(),ut=t,ke=s=_r(t.current,null),ze=n,nt=0,Zn=null,fs=!1,po=yn(t,n),ld=!1,yo=Wn=ud=Ra=ds=Rt=0,Ln=xl=null,cd=!1,(n&8)!==0&&(n|=n&32);var o=t.entangledLanes;if(o!==0)for(t=t.entanglements,o&=n;0<o;){var h=31-Oe(o),f=1<<h;n|=t[h],o&=~f}return xr=n,ju(),s}function Ky(t,n){xe=null,Q.H=bl,n===oo||n===Ku?(n=cp(),nt=3):n===_f?(n=cp(),nt=4):nt=n===Qf?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,Zn=n,ke===null&&(Rt=1,lc(t,gi(n,t.current)))}function Xy(){var t=$n.current;return t===null?!0:(ze&4194048)===ze?vi===null:(ze&62914560)===ze||(ze&536870912)!==0?t===vi:!1}function $y(){var t=Q.H;return Q.H=bl,t===null?bl:t}function Jy(){var t=Q.A;return Q.A=tb,t}function Ec(){Rt=4,fs||(ze&4194048)!==ze&&$n.current!==null||(po=!0),(ds&134217727)===0&&(Ra&134217727)===0||ut===null||ps(ut,ze,Wn,!1)}function gd(t,n,s){var o=et;et|=2;var h=$y(),f=Jy();(ut!==t||ze!==n)&&(_c=null,vo(t,n)),n=!1;var g=Rt;e:do try{if(nt!==0&&ke!==null){var E=ke,I=Zn;switch(nt){case 8:md(),g=6;break e;case 3:case 2:case 9:case 6:$n.current===null&&(n=!0);var B=nt;if(nt=0,Zn=null,Eo(t,E,I,B),s&&po){g=0;break e}break;default:B=nt,nt=0,Zn=null,Eo(t,E,I,B)}}rb(),g=Rt;break}catch(K){Ky(t,K)}while(!0);return n&&t.shellSuspendCounter++,Er=ya=null,et=o,Q.H=h,Q.A=f,ke===null&&(ut=null,ze=0,ju()),g}function rb(){for(;ke!==null;)Zy(ke)}function sb(t,n){var s=et;et|=2;var o=$y(),h=Jy();ut!==t||ze!==n?(_c=null,yc=Jt()+500,vo(t,n)):po=yn(t,n);e:do try{if(nt!==0&&ke!==null){n=ke;var f=Zn;t:switch(nt){case 1:nt=0,Zn=null,Eo(t,n,f,1);break;case 2:case 9:if(lp(f)){nt=0,Zn=null,Wy(n);break}n=function(){nt!==2&&nt!==9||ut!==t||(nt=7),Ji(t)},f.then(n,n);break e;case 3:nt=7;break e;case 4:nt=5;break e;case 7:lp(f)?(nt=0,Zn=null,Wy(n)):(nt=0,Zn=null,Eo(t,n,f,7));break;case 5:var g=null;switch(ke.tag){case 26:g=ke.memoizedState;case 5:case 27:var E=ke;if(g?P_(g):E.stateNode.complete){nt=0,Zn=null;var I=E.sibling;if(I!==null)ke=I;else{var B=E.return;B!==null?(ke=B,Tc(B)):ke=null}break t}}nt=0,Zn=null,Eo(t,n,f,5);break;case 6:nt=0,Zn=null,Eo(t,n,f,6);break;case 8:md(),Rt=6;break e;default:throw Error(a(462))}}ab();break}catch(K){Ky(t,K)}while(!0);return Er=ya=null,Q.H=o,Q.A=h,et=s,ke!==null?0:(ut=null,ze=0,ju(),Rt)}function ab(){for(;ke!==null&&!Qs();)Zy(ke)}function Zy(t){var n=by(t.alternate,t,xr);t.memoizedProps=t.pendingProps,n===null?Tc(t):ke=n}function Wy(t){var n=t,s=n.alternate;switch(n.tag){case 15:case 0:n=py(s,n,n.pendingProps,n.type,void 0,ze);break;case 11:n=py(s,n,n.pendingProps,n.type.render,n.ref,ze);break;case 5:xf(n);default:Ay(s,n),n=ke=Jg(n,xr),n=by(s,n,xr)}t.memoizedProps=t.pendingProps,n===null?Tc(t):ke=n}function Eo(t,n,s,o){Er=ya=null,xf(n),lo=null,ml=0;var h=n.return;try{if(KT(t,h,n,s,ze)){Rt=1,lc(t,gi(s,t.current)),ke=null;return}}catch(f){if(h!==null)throw ke=h,f;Rt=1,lc(t,gi(s,t.current)),ke=null;return}n.flags&32768?(Qe||o===1?t=!0:po||(ze&536870912)!==0?t=!1:(fs=t=!0,(o===2||o===9||o===3||o===6)&&(o=$n.current,o!==null&&o.tag===13&&(o.flags|=16384))),e_(n,t)):Tc(n)}function Tc(t){var n=t;do{if((n.flags&32768)!==0){e_(n,fs);return}t=n.return;var s=JT(n.alternate,n,xr);if(s!==null){ke=s;return}if(n=n.sibling,n!==null){ke=n;return}ke=n=t}while(n!==null);Rt===0&&(Rt=5)}function e_(t,n){do{var s=ZT(t.alternate,t);if(s!==null){s.flags&=32767,ke=s;return}if(s=t.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!n&&(t=t.sibling,t!==null)){ke=t;return}ke=t=s}while(t!==null);Rt=6,ke=null}function t_(t,n,s,o,h,f,g,E,I){t.cancelPendingCommit=null;do bc();while(Xt!==0);if((et&6)!==0)throw Error(a(327));if(n!==null){if(n===t.current)throw Error(a(177));if(f=n.lanes|n.childLanes,f|=nf,qa(t,s,f,g,E,I),t===ut&&(ke=ut=null,ze=0),_o=n,gs=t,Dr=s,hd=f,fd=h,Fy=o,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,cb(gn,function(){return a_(),null})):(t.callbackNode=null,t.callbackPriority=0),o=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||o){o=Q.T,Q.T=null,h=oe.p,oe.p=2,g=et,et|=4;try{WT(t,n,s)}finally{et=g,oe.p=h,Q.T=o}}Xt=1,n_(),i_(),r_()}}function n_(){if(Xt===1){Xt=0;var t=gs,n=_o,s=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||s){s=Q.T,Q.T=null;var o=oe.p;oe.p=2;var h=et;et|=4;try{Uy(n,t);var f=Id,g=qg(t.containerInfo),E=f.focusedElem,I=f.selectionRange;if(g!==E&&E&&E.ownerDocument&&Bg(E.ownerDocument.documentElement,E)){if(I!==null&&Jh(E)){var B=I.start,K=I.end;if(K===void 0&&(K=B),"selectionStart"in E)E.selectionStart=B,E.selectionEnd=Math.min(K,E.value.length);else{var J=E.ownerDocument||document,q=J&&J.defaultView||window;if(q.getSelection){var F=q.getSelection(),fe=E.textContent.length,Ee=Math.min(I.start,fe),lt=I.end===void 0?Ee:Math.min(I.end,fe);!F.extend&&Ee>lt&&(g=lt,lt=Ee,Ee=g);var U=jg(E,Ee),M=jg(E,lt);if(U&&M&&(F.rangeCount!==1||F.anchorNode!==U.node||F.anchorOffset!==U.offset||F.focusNode!==M.node||F.focusOffset!==M.offset)){var j=J.createRange();j.setStart(U.node,U.offset),F.removeAllRanges(),Ee>lt?(F.addRange(j),F.extend(M.node,M.offset)):(j.setEnd(M.node,M.offset),F.addRange(j))}}}}for(J=[],F=E;F=F.parentNode;)F.nodeType===1&&J.push({element:F,left:F.scrollLeft,top:F.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<J.length;E++){var X=J[E];X.element.scrollLeft=X.left,X.element.scrollTop=X.top}}Vc=!!Rd,Id=Rd=null}finally{et=h,oe.p=o,Q.T=s}}t.current=n,Xt=2}}function i_(){if(Xt===2){Xt=0;var t=gs,n=_o,s=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||s){s=Q.T,Q.T=null;var o=oe.p;oe.p=2;var h=et;et|=4;try{Dy(t,n.alternate,n)}finally{et=h,oe.p=o,Q.T=s}}Xt=3}}function r_(){if(Xt===4||Xt===3){Xt=0,Ys();var t=gs,n=_o,s=Dr,o=Fy;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Xt=5:(Xt=0,_o=gs=null,s_(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(ms=null),ai(s),n=n.stateNode,Qt&&typeof Qt.onCommitFiberRoot=="function")try{Qt.onCommitFiberRoot(wn,n,void 0,(n.current.flags&128)===128)}catch{}if(o!==null){n=Q.T,h=oe.p,oe.p=2,Q.T=null;try{for(var f=t.onRecoverableError,g=0;g<o.length;g++){var E=o[g];f(E.value,{componentStack:E.stack})}}finally{Q.T=n,oe.p=h}}(Dr&3)!==0&&bc(),Ji(t),h=t.pendingLanes,(s&261930)!==0&&(h&42)!==0?t===dd?Dl++:(Dl=0,dd=t):Dl=0,Ml(0)}}function s_(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,fl(n)))}function bc(){return n_(),i_(),r_(),a_()}function a_(){if(Xt!==5)return!1;var t=gs,n=hd;hd=0;var s=ai(Dr),o=Q.T,h=oe.p;try{oe.p=32>s?32:s,Q.T=null,s=fd,fd=null;var f=gs,g=Dr;if(Xt=0,_o=gs=null,Dr=0,(et&6)!==0)throw Error(a(331));var E=et;if(et|=4,By(f.current),Py(f,f.current,g,s),et=E,Ml(0,!1),Qt&&typeof Qt.onPostCommitFiberRoot=="function")try{Qt.onPostCommitFiberRoot(wn,f)}catch{}return!0}finally{oe.p=h,Q.T=o,s_(t,n)}}function o_(t,n,s){n=gi(s,n),n=Gf(t.stateNode,n,2),t=ls(t,n,2),t!==null&&(Zt(t,2),Ji(t))}function it(t,n,s){if(t.tag===3)o_(t,t,s);else for(;n!==null;){if(n.tag===3){o_(n,t,s);break}else if(n.tag===1){var o=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(ms===null||!ms.has(o))){t=gi(s,t),s=ly(2),o=ls(n,s,2),o!==null&&(uy(s,o,n,t),Zt(o,2),Ji(o));break}}n=n.return}}function pd(t,n,s){var o=t.pingCache;if(o===null){o=t.pingCache=new nb;var h=new Set;o.set(n,h)}else h=o.get(n),h===void 0&&(h=new Set,o.set(n,h));h.has(s)||(ld=!0,h.add(s),t=ob.bind(null,t,n,s),n.then(t,t))}function ob(t,n,s){var o=t.pingCache;o!==null&&o.delete(n),t.pingedLanes|=t.suspendedLanes&s,t.warmLanes&=~s,ut===t&&(ze&s)===s&&(Rt===4||Rt===3&&(ze&62914560)===ze&&300>Jt()-pc?(et&2)===0&&vo(t,0):ud|=s,yo===ze&&(yo=0)),Ji(t)}function l_(t,n){n===0&&(n=si()),t=ma(t,n),t!==null&&(Zt(t,n),Ji(t))}function lb(t){var n=t.memoizedState,s=0;n!==null&&(s=n.retryLane),l_(t,s)}function ub(t,n){var s=0;switch(t.tag){case 31:case 13:var o=t.stateNode,h=t.memoizedState;h!==null&&(s=h.retryLane);break;case 19:o=t.stateNode;break;case 22:o=t.stateNode._retryCache;break;default:throw Error(a(314))}o!==null&&o.delete(n),l_(t,s)}function cb(t,n){return Ct(t,n)}var Sc=null,To=null,yd=!1,Ac=!1,_d=!1,ys=0;function Ji(t){t!==To&&t.next===null&&(To===null?Sc=To=t:To=To.next=t),Ac=!0,yd||(yd=!0,fb())}function Ml(t,n){if(!_d&&Ac){_d=!0;do for(var s=!1,o=Sc;o!==null;){if(t!==0){var h=o.pendingLanes;if(h===0)var f=0;else{var g=o.suspendedLanes,E=o.pingedLanes;f=(1<<31-Oe(42|t)+1)-1,f&=h&~(g&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(s=!0,f_(o,f))}else f=ze,f=ri(o,o===ut?f:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(f&3)===0||yn(o,f)||(s=!0,f_(o,f));o=o.next}while(s);_d=!1}}function hb(){u_()}function u_(){Ac=yd=!1;var t=0;ys!==0&&bb()&&(t=ys);for(var n=Jt(),s=null,o=Sc;o!==null;){var h=o.next,f=c_(o,n);f===0?(o.next=null,s===null?Sc=h:s.next=h,h===null&&(To=s)):(s=o,(t!==0||(f&3)!==0)&&(Ac=!0)),o=h}Xt!==0&&Xt!==5||Ml(t),ys!==0&&(ys=0)}function c_(t,n){for(var s=t.suspendedLanes,o=t.pingedLanes,h=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var g=31-Oe(f),E=1<<g,I=h[g];I===-1?((E&s)===0||(E&o)!==0)&&(h[g]=ct(E,n)):I<=n&&(t.expiredLanes|=E),f&=~E}if(n=ut,s=ze,s=ri(t,t===n?s:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o=t.callbackNode,s===0||t===n&&(nt===2||nt===9)||t.cancelPendingCommit!==null)return o!==null&&o!==null&&ii(o),t.callbackNode=null,t.callbackPriority=0;if((s&3)===0||yn(t,s)){if(n=s&-s,n===t.callbackPriority)return n;switch(o!==null&&ii(o),ai(s)){case 2:case 8:s=Qr;break;case 32:s=gn;break;case 268435456:s=Ui;break;default:s=gn}return o=h_.bind(null,t),s=Ct(s,o),t.callbackPriority=n,t.callbackNode=s,n}return o!==null&&o!==null&&ii(o),t.callbackPriority=2,t.callbackNode=null,2}function h_(t,n){if(Xt!==0&&Xt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var s=t.callbackNode;if(bc()&&t.callbackNode!==s)return null;var o=ze;return o=ri(t,t===ut?o:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o===0?null:(Qy(t,o,n),c_(t,Jt()),t.callbackNode!=null&&t.callbackNode===s?h_.bind(null,t):null)}function f_(t,n){if(bc())return null;Qy(t,n,!0)}function fb(){Ab(function(){(et&6)!==0?Ct(Ks,hb):u_()})}function vd(){if(ys===0){var t=so;t===0&&(t=Hn,Hn<<=1,(Hn&261888)===0&&(Hn=256)),ys=t}return ys}function d_(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:G(""+t)}function m_(t,n){var s=n.ownerDocument.createElement("input");return s.name=n.name,s.value=n.value,t.id&&s.setAttribute("form",t.id),n.parentNode.insertBefore(s,n),t=new FormData(t),s.parentNode.removeChild(s),t}function db(t,n,s,o,h){if(n==="submit"&&s&&s.stateNode===h){var f=d_((h[Nt]||null).action),g=o.submitter;g&&(n=(n=g[Nt]||null)?d_(n.formAction):g.getAttribute("formAction"),n!==null&&(f=n,g=null));var E=new Fi("action","action",null,o,h);t.push({event:E,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(ys!==0){var I=g?m_(h,g):new FormData(h);zf(s,{pending:!0,data:I,method:h.method,action:f},null,I)}}else typeof f=="function"&&(E.preventDefault(),I=g?m_(h,g):new FormData(h),zf(s,{pending:!0,data:I,method:h.method,action:f},f,I))},currentTarget:h}]})}}for(var Ed=0;Ed<tf.length;Ed++){var Td=tf[Ed],mb=Td.toLowerCase(),gb=Td[0].toUpperCase()+Td.slice(1);Di(mb,"on"+gb)}Di(Gg,"onAnimationEnd"),Di(Qg,"onAnimationIteration"),Di(Yg,"onAnimationStart"),Di("dblclick","onDoubleClick"),Di("focusin","onFocus"),Di("focusout","onBlur"),Di(DT,"onTransitionRun"),Di(MT,"onTransitionStart"),Di(OT,"onTransitionCancel"),Di(Kg,"onTransitionEnd"),Qn("onMouseEnter",["mouseout","mouseover"]),Qn("onMouseLeave",["mouseout","mouseover"]),Qn("onPointerEnter",["pointerout","pointerover"]),Qn("onPointerLeave",["pointerout","pointerover"]),ci("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ci("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ci("onBeforeInput",["compositionend","keypress","textInput","paste"]),ci("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ci("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ci("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ol="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),pb=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ol));function g_(t,n){n=(n&4)!==0;for(var s=0;s<t.length;s++){var o=t[s],h=o.event;o=o.listeners;e:{var f=void 0;if(n)for(var g=o.length-1;0<=g;g--){var E=o[g],I=E.instance,B=E.currentTarget;if(E=E.listener,I!==f&&h.isPropagationStopped())break e;f=E,h.currentTarget=B;try{f(h)}catch(K){zu(K)}h.currentTarget=null,f=I}else for(g=0;g<o.length;g++){if(E=o[g],I=E.instance,B=E.currentTarget,E=E.listener,I!==f&&h.isPropagationStopped())break e;f=E,h.currentTarget=B;try{f(h)}catch(K){zu(K)}h.currentTarget=null,f=I}}}}function Ue(t,n){var s=n[dr];s===void 0&&(s=n[dr]=new Set);var o=t+"__bubble";s.has(o)||(p_(n,t,2,!1),s.add(o))}function bd(t,n,s){var o=0;n&&(o|=4),p_(s,t,o,n)}var wc="_reactListening"+Math.random().toString(36).slice(2);function Sd(t){if(!t[wc]){t[wc]=!0,$r.forEach(function(s){s!=="selectionchange"&&(pb.has(s)||bd(s,!1,t),bd(s,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[wc]||(n[wc]=!0,bd("selectionchange",!1,n))}}function p_(t,n,s,o){switch(G_(n)){case 2:var h=Fb;break;case 8:h=Gb;break;default:h=Pd}s=h.bind(null,n,s,t),h=void 0,!aa||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),o?h!==void 0?t.addEventListener(n,s,{capture:!0,passive:h}):t.addEventListener(n,s,!0):h!==void 0?t.addEventListener(n,s,{passive:h}):t.addEventListener(n,s,!1)}function Ad(t,n,s,o,h){var f=o;if((n&1)===0&&(n&2)===0&&o!==null)e:for(;;){if(o===null)return;var g=o.tag;if(g===3||g===4){var E=o.stateNode.containerInfo;if(E===h)break;if(g===4)for(g=o.return;g!==null;){var I=g.tag;if((I===3||I===4)&&g.stateNode.containerInfo===h)return;g=g.return}for(;E!==null;){if(g=li(E),g===null)return;if(I=g.tag,I===5||I===6||I===26||I===27){o=f=g;continue e}E=E.parentNode}}o=o.return}qi(function(){var B=f,K=pe(s),J=[];e:{var q=Xg.get(t);if(q!==void 0){var F=Fi,fe=t;switch(t){case"keypress":if(la(s)===0)break e;case"keydown":case"keyup":F=Uu;break;case"focusin":fe="focus",F=ca;break;case"focusout":fe="blur",F=ca;break;case"beforeblur":case"afterblur":F=ca;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":F=rl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":F=Iu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":F=m;break;case Gg:case Qg:case Yg:F=Nu;break;case Kg:F=T;break;case"scroll":case"scrollend":F=il;break;case"wheel":F=H;break;case"copy":case"cut":case"paste":F=xu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":F=yr;break;case"toggle":case"beforetoggle":F=Ne}var Ee=(n&4)!==0,lt=!Ee&&(t==="scroll"||t==="scrollend"),U=Ee?q!==null?q+"Capture":null:q;Ee=[];for(var M=B,j;M!==null;){var X=M;if(j=X.stateNode,X=X.tag,X!==5&&X!==26&&X!==27||j===null||U===null||(X=Yn(M,U),X!=null&&Ee.push(Vl(M,X,j))),lt)break;M=M.return}0<Ee.length&&(q=new F(q,fe,null,s,K),J.push({event:q,listeners:Ee}))}}if((n&7)===0){e:{if(q=t==="mouseover"||t==="pointerover",F=t==="mouseout"||t==="pointerout",q&&s!==re&&(fe=s.relatedTarget||s.fromElement)&&(li(fe)||fe[Gn]))break e;if((F||q)&&(q=K.window===K?K:(q=K.ownerDocument)?q.defaultView||q.parentWindow:window,F?(fe=s.relatedTarget||s.toElement,F=B,fe=fe?li(fe):null,fe!==null&&(lt=c(fe),Ee=fe.tag,fe!==lt||Ee!==5&&Ee!==27&&Ee!==6)&&(fe=null)):(F=null,fe=B),F!==fe)){if(Ee=rl,X="onMouseLeave",U="onMouseEnter",M="mouse",(t==="pointerout"||t==="pointerover")&&(Ee=yr,X="onPointerLeave",U="onPointerEnter",M="pointer"),lt=F==null?q:Rn(F),j=fe==null?q:Rn(fe),q=new Ee(X,M+"leave",F,s,K),q.target=lt,q.relatedTarget=j,X=null,li(K)===B&&(Ee=new Ee(U,M+"enter",fe,s,K),Ee.target=j,Ee.relatedTarget=lt,X=Ee),lt=X,F&&fe)t:{for(Ee=yb,U=F,M=fe,j=0,X=U;X;X=Ee(X))j++;X=0;for(var ye=M;ye;ye=Ee(ye))X++;for(;0<j-X;)U=Ee(U),j--;for(;0<X-j;)M=Ee(M),X--;for(;j--;){if(U===M||M!==null&&U===M.alternate){Ee=U;break t}U=Ee(U),M=Ee(M)}Ee=null}else Ee=null;F!==null&&y_(J,q,F,Ee,!1),fe!==null&&lt!==null&&y_(J,lt,fe,Ee,!0)}}e:{if(q=B?Rn(B):window,F=q.nodeName&&q.nodeName.toLowerCase(),F==="select"||F==="input"&&q.type==="file")var Xe=Vg;else if(Mg(q))if(kg)Xe=CT;else{Xe=RT;var me=wT}else F=q.nodeName,!F||F.toLowerCase()!=="input"||q.type!=="checkbox"&&q.type!=="radio"?B&&Zr(B.elementType)&&(Xe=Vg):Xe=IT;if(Xe&&(Xe=Xe(t,B))){Og(J,Xe,s,K);break e}me&&me(t,q,B),t==="focusout"&&B&&q.type==="number"&&B.memoizedProps.value!=null&&Cn(q,"number",q.value)}switch(me=B?Rn(B):window,t){case"focusin":(Mg(me)||me.contentEditable==="true")&&(Ja=me,Zh=B,ul=null);break;case"focusout":ul=Zh=Ja=null;break;case"mousedown":Wh=!0;break;case"contextmenu":case"mouseup":case"dragend":Wh=!1,Hg(J,s,K);break;case"selectionchange":if(xT)break;case"keydown":case"keyup":Hg(J,s,K)}var De;if(We)e:{switch(t){case"compositionstart":var je="onCompositionStart";break e;case"compositionend":je="onCompositionEnd";break e;case"compositionupdate":je="onCompositionUpdate";break e}je=void 0}else $a?ha(t,s)&&(je="onCompositionEnd"):t==="keydown"&&s.keyCode===229&&(je="onCompositionStart");je&&(Yi&&s.locale!=="ko"&&($a||je!=="onCompositionStart"?je==="onCompositionEnd"&&$a&&(De=nl()):(Hi=K,tl="value"in Hi?Hi.value:Hi.textContent,$a=!0)),me=Rc(B,je),0<me.length&&(je=new Qi(je,t,null,s,K),J.push({event:je,listeners:me}),De?je.data=De:(De=Xa(s),De!==null&&(je.data=De)))),(De=di?TT(t,s):bT(t,s))&&(je=Rc(B,"onBeforeInput"),0<je.length&&(me=new Qi("onBeforeInput","beforeinput",null,s,K),J.push({event:me,listeners:je}),me.data=De)),db(J,t,B,s,K)}g_(J,n)})}function Vl(t,n,s){return{instance:t,listener:n,currentTarget:s}}function Rc(t,n){for(var s=n+"Capture",o=[];t!==null;){var h=t,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=Yn(t,s),h!=null&&o.unshift(Vl(t,h,f)),h=Yn(t,n),h!=null&&o.push(Vl(t,h,f))),t.tag===3)return o;t=t.return}return[]}function yb(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function y_(t,n,s,o,h){for(var f=n._reactName,g=[];s!==null&&s!==o;){var E=s,I=E.alternate,B=E.stateNode;if(E=E.tag,I!==null&&I===o)break;E!==5&&E!==26&&E!==27||B===null||(I=B,h?(B=Yn(s,f),B!=null&&g.unshift(Vl(s,B,I))):h||(B=Yn(s,f),B!=null&&g.push(Vl(s,B,I)))),s=s.return}g.length!==0&&t.push({event:n,listeners:g})}var _b=/\r\n?/g,vb=/\u0000|\uFFFD/g;function __(t){return(typeof t=="string"?t:""+t).replace(_b,`
`).replace(vb,"")}function v_(t,n){return n=__(n),__(t)===n}function ot(t,n,s,o,h,f){switch(s){case"children":typeof o=="string"?n==="body"||n==="textarea"&&o===""||vn(t,o):(typeof o=="number"||typeof o=="bigint")&&n!=="body"&&vn(t,""+o);break;case"className":In(t,"class",o);break;case"tabIndex":In(t,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":In(t,s,o);break;case"style":Ii(t,o,f);break;case"data":if(n!=="object"){In(t,"data",o);break}case"src":case"href":if(o===""&&(n!=="a"||s!=="href")){t.removeAttribute(s);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(s);break}o=G(""+o),t.setAttribute(s,o);break;case"action":case"formAction":if(typeof o=="function"){t.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(s==="formAction"?(n!=="input"&&ot(t,n,"name",h.name,h,null),ot(t,n,"formEncType",h.formEncType,h,null),ot(t,n,"formMethod",h.formMethod,h,null),ot(t,n,"formTarget",h.formTarget,h,null)):(ot(t,n,"encType",h.encType,h,null),ot(t,n,"method",h.method,h,null),ot(t,n,"target",h.target,h,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(s);break}o=G(""+o),t.setAttribute(s,o);break;case"onClick":o!=null&&(t.onclick=ee);break;case"onScroll":o!=null&&Ue("scroll",t);break;case"onScrollEnd":o!=null&&Ue("scrollend",t);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(a(61));if(s=o.__html,s!=null){if(h.children!=null)throw Error(a(60));t.innerHTML=s}}break;case"multiple":t.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":t.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){t.removeAttribute("xlink:href");break}s=G(""+o),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(s,""+o):t.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(s,""):t.removeAttribute(s);break;case"capture":case"download":o===!0?t.setAttribute(s,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(s,o):t.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?t.setAttribute(s,o):t.removeAttribute(s);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?t.removeAttribute(s):t.setAttribute(s,o);break;case"popover":Ue("beforetoggle",t),Ue("toggle",t),Jr(t,"popover",o);break;case"xlinkActuate":At(t,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":At(t,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":At(t,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":At(t,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":At(t,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":At(t,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":At(t,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":At(t,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":At(t,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":Jr(t,"is",o);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=S.get(s)||s,Jr(t,s,o))}}function wd(t,n,s,o,h,f){switch(s){case"style":Ii(t,o,f);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(a(61));if(s=o.__html,s!=null){if(h.children!=null)throw Error(a(60));t.innerHTML=s}}break;case"children":typeof o=="string"?vn(t,o):(typeof o=="number"||typeof o=="bigint")&&vn(t,""+o);break;case"onScroll":o!=null&&Ue("scroll",t);break;case"onScrollEnd":o!=null&&Ue("scrollend",t);break;case"onClick":o!=null&&(t.onclick=ee);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ws.hasOwnProperty(s))e:{if(s[0]==="o"&&s[1]==="n"&&(h=s.endsWith("Capture"),n=s.slice(2,h?s.length-7:void 0),f=t[Nt]||null,f=f!=null?f[s]:null,typeof f=="function"&&t.removeEventListener(n,f,h),typeof o=="function")){typeof f!="function"&&f!==null&&(s in t?t[s]=null:t.hasAttribute(s)&&t.removeAttribute(s)),t.addEventListener(n,o,h);break e}s in t?t[s]=o:o===!0?t.setAttribute(s,""):Jr(t,s,o)}}}function cn(t,n,s){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ue("error",t),Ue("load",t);var o=!1,h=!1,f;for(f in s)if(s.hasOwnProperty(f)){var g=s[f];if(g!=null)switch(f){case"src":o=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:ot(t,n,f,g,s,null)}}h&&ot(t,n,"srcSet",s.srcSet,s,null),o&&ot(t,n,"src",s.src,s,null);return;case"input":Ue("invalid",t);var E=f=g=h=null,I=null,B=null;for(o in s)if(s.hasOwnProperty(o)){var K=s[o];if(K!=null)switch(o){case"name":h=K;break;case"type":g=K;break;case"checked":I=K;break;case"defaultChecked":B=K;break;case"value":f=K;break;case"defaultValue":E=K;break;case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(a(137,n));break;default:ot(t,n,o,K,s,null)}}Ga(t,f,E,I,B,g,h,!1);return;case"select":Ue("invalid",t),o=g=f=null;for(h in s)if(s.hasOwnProperty(h)&&(E=s[h],E!=null))switch(h){case"value":f=E;break;case"defaultValue":g=E;break;case"multiple":o=E;default:ot(t,n,h,E,s,null)}n=f,s=g,t.multiple=!!o,n!=null?wi(t,!!o,n,!1):s!=null&&wi(t,!!o,s,!0);return;case"textarea":Ue("invalid",t),f=h=o=null;for(g in s)if(s.hasOwnProperty(g)&&(E=s[g],E!=null))switch(g){case"value":o=E;break;case"defaultValue":h=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(a(91));break;default:ot(t,n,g,E,s,null)}Ri(t,o,h,f);return;case"option":for(I in s)if(s.hasOwnProperty(I)&&(o=s[I],o!=null))switch(I){case"selected":t.selected=o&&typeof o!="function"&&typeof o!="symbol";break;default:ot(t,n,I,o,s,null)}return;case"dialog":Ue("beforetoggle",t),Ue("toggle",t),Ue("cancel",t),Ue("close",t);break;case"iframe":case"object":Ue("load",t);break;case"video":case"audio":for(o=0;o<Ol.length;o++)Ue(Ol[o],t);break;case"image":Ue("error",t),Ue("load",t);break;case"details":Ue("toggle",t);break;case"embed":case"source":case"link":Ue("error",t),Ue("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(B in s)if(s.hasOwnProperty(B)&&(o=s[B],o!=null))switch(B){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:ot(t,n,B,o,s,null)}return;default:if(Zr(n)){for(K in s)s.hasOwnProperty(K)&&(o=s[K],o!==void 0&&wd(t,n,K,o,s,void 0));return}}for(E in s)s.hasOwnProperty(E)&&(o=s[E],o!=null&&ot(t,n,E,o,s,null))}function Eb(t,n,s,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,g=null,E=null,I=null,B=null,K=null;for(F in s){var J=s[F];if(s.hasOwnProperty(F)&&J!=null)switch(F){case"checked":break;case"value":break;case"defaultValue":I=J;default:o.hasOwnProperty(F)||ot(t,n,F,null,o,J)}}for(var q in o){var F=o[q];if(J=s[q],o.hasOwnProperty(q)&&(F!=null||J!=null))switch(q){case"type":f=F;break;case"name":h=F;break;case"checked":B=F;break;case"defaultChecked":K=F;break;case"value":g=F;break;case"defaultValue":E=F;break;case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(a(137,n));break;default:F!==J&&ot(t,n,q,F,o,J)}}mr(t,g,E,I,B,K,f,h);return;case"select":F=g=E=q=null;for(f in s)if(I=s[f],s.hasOwnProperty(f)&&I!=null)switch(f){case"value":break;case"multiple":F=I;default:o.hasOwnProperty(f)||ot(t,n,f,null,o,I)}for(h in o)if(f=o[h],I=s[h],o.hasOwnProperty(h)&&(f!=null||I!=null))switch(h){case"value":q=f;break;case"defaultValue":E=f;break;case"multiple":g=f;default:f!==I&&ot(t,n,h,f,o,I)}n=E,s=g,o=F,q!=null?wi(t,!!s,q,!1):!!o!=!!s&&(n!=null?wi(t,!!s,n,!0):wi(t,!!s,s?[]:"",!1));return;case"textarea":F=q=null;for(E in s)if(h=s[E],s.hasOwnProperty(E)&&h!=null&&!o.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:ot(t,n,E,null,o,h)}for(g in o)if(h=o[g],f=s[g],o.hasOwnProperty(g)&&(h!=null||f!=null))switch(g){case"value":q=h;break;case"defaultValue":F=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(a(91));break;default:h!==f&&ot(t,n,g,h,o,f)}ra(t,q,F);return;case"option":for(var fe in s)if(q=s[fe],s.hasOwnProperty(fe)&&q!=null&&!o.hasOwnProperty(fe))switch(fe){case"selected":t.selected=!1;break;default:ot(t,n,fe,null,o,q)}for(I in o)if(q=o[I],F=s[I],o.hasOwnProperty(I)&&q!==F&&(q!=null||F!=null))switch(I){case"selected":t.selected=q&&typeof q!="function"&&typeof q!="symbol";break;default:ot(t,n,I,q,o,F)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ee in s)q=s[Ee],s.hasOwnProperty(Ee)&&q!=null&&!o.hasOwnProperty(Ee)&&ot(t,n,Ee,null,o,q);for(B in o)if(q=o[B],F=s[B],o.hasOwnProperty(B)&&q!==F&&(q!=null||F!=null))switch(B){case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(a(137,n));break;default:ot(t,n,B,q,o,F)}return;default:if(Zr(n)){for(var lt in s)q=s[lt],s.hasOwnProperty(lt)&&q!==void 0&&!o.hasOwnProperty(lt)&&wd(t,n,lt,void 0,o,q);for(K in o)q=o[K],F=s[K],!o.hasOwnProperty(K)||q===F||q===void 0&&F===void 0||wd(t,n,K,q,o,F);return}}for(var U in s)q=s[U],s.hasOwnProperty(U)&&q!=null&&!o.hasOwnProperty(U)&&ot(t,n,U,null,o,q);for(J in o)q=o[J],F=s[J],!o.hasOwnProperty(J)||q===F||q==null&&F==null||ot(t,n,J,q,o,F)}function E_(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Tb(){if(typeof performance.getEntriesByType=="function"){for(var t=0,n=0,s=performance.getEntriesByType("resource"),o=0;o<s.length;o++){var h=s[o],f=h.transferSize,g=h.initiatorType,E=h.duration;if(f&&E&&E_(g)){for(g=0,E=h.responseEnd,o+=1;o<s.length;o++){var I=s[o],B=I.startTime;if(B>E)break;var K=I.transferSize,J=I.initiatorType;K&&E_(J)&&(I=I.responseEnd,g+=K*(I<E?1:(E-B)/(I-B)))}if(--o,n+=8*(f+g)/(h.duration/1e3),t++,10<t)break}}if(0<t)return n/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var Rd=null,Id=null;function Ic(t){return t.nodeType===9?t:t.ownerDocument}function T_(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function b_(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function Cd(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Nd=null;function bb(){var t=window.event;return t&&t.type==="popstate"?t===Nd?!1:(Nd=t,!0):(Nd=null,!1)}var S_=typeof setTimeout=="function"?setTimeout:void 0,Sb=typeof clearTimeout=="function"?clearTimeout:void 0,A_=typeof Promise=="function"?Promise:void 0,Ab=typeof queueMicrotask=="function"?queueMicrotask:typeof A_<"u"?function(t){return A_.resolve(null).then(t).catch(wb)}:S_;function wb(t){setTimeout(function(){throw t})}function _s(t){return t==="head"}function w_(t,n){var s=n,o=0;do{var h=s.nextSibling;if(t.removeChild(s),h&&h.nodeType===8)if(s=h.data,s==="/$"||s==="/&"){if(o===0){t.removeChild(h),wo(n);return}o--}else if(s==="$"||s==="$?"||s==="$~"||s==="$!"||s==="&")o++;else if(s==="html")kl(t.ownerDocument.documentElement);else if(s==="head"){s=t.ownerDocument.head,kl(s);for(var f=s.firstChild;f;){var g=f.nextSibling,E=f.nodeName;f[oi]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&f.rel.toLowerCase()==="stylesheet"||s.removeChild(f),f=g}}else s==="body"&&kl(t.ownerDocument.body);s=h}while(s);wo(n)}function R_(t,n){var s=t;t=0;do{var o=s.nextSibling;if(s.nodeType===1?n?(s._stashedDisplay=s.style.display,s.style.display="none"):(s.style.display=s._stashedDisplay||"",s.getAttribute("style")===""&&s.removeAttribute("style")):s.nodeType===3&&(n?(s._stashedText=s.nodeValue,s.nodeValue=""):s.nodeValue=s._stashedText||""),o&&o.nodeType===8)if(s=o.data,s==="/$"){if(t===0)break;t--}else s!=="$"&&s!=="$?"&&s!=="$~"&&s!=="$!"||t++;s=o}while(s)}function xd(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var s=n;switch(n=n.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":xd(s),Pi(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}t.removeChild(s)}}function Rb(t,n,s,o){for(;t.nodeType===1;){var h=s;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!o&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(o){if(!t[oi])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=Ei(t.nextSibling),t===null)break}return null}function Ib(t,n,s){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!s||(t=Ei(t.nextSibling),t===null))return null;return t}function I_(t,n){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=Ei(t.nextSibling),t===null))return null;return t}function Dd(t){return t.data==="$?"||t.data==="$~"}function Md(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function Cb(t,n){var s=t.ownerDocument;if(t.data==="$~")t._reactRetry=n;else if(t.data!=="$?"||s.readyState!=="loading")n();else{var o=function(){n(),s.removeEventListener("DOMContentLoaded",o)};s.addEventListener("DOMContentLoaded",o),t._reactRetry=o}}function Ei(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return t}var Od=null;function C_(t){t=t.nextSibling;for(var n=0;t;){if(t.nodeType===8){var s=t.data;if(s==="/$"||s==="/&"){if(n===0)return Ei(t.nextSibling);n--}else s!=="$"&&s!=="$!"&&s!=="$?"&&s!=="$~"&&s!=="&"||n++}t=t.nextSibling}return null}function N_(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var s=t.data;if(s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"){if(n===0)return t;n--}else s!=="/$"&&s!=="/&"||n++}t=t.previousSibling}return null}function x_(t,n,s){switch(n=Ic(s),t){case"html":if(t=n.documentElement,!t)throw Error(a(452));return t;case"head":if(t=n.head,!t)throw Error(a(453));return t;case"body":if(t=n.body,!t)throw Error(a(454));return t;default:throw Error(a(451))}}function kl(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);Pi(t)}var Ti=new Map,D_=new Set;function Cc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Mr=oe.d;oe.d={f:Nb,r:xb,D:Db,C:Mb,L:Ob,m:Vb,X:Ub,S:kb,M:Lb};function Nb(){var t=Mr.f(),n=vc();return t||n}function xb(t){var n=On(t);n!==null&&n.tag===5&&n.type==="form"?Kp(n):Mr.r(t)}var bo=typeof document>"u"?null:document;function M_(t,n,s){var o=bo;if(o&&typeof n=="string"&&n){var h=Wt(n);h='link[rel="'+t+'"][href="'+h+'"]',typeof s=="string"&&(h+='[crossorigin="'+s+'"]'),D_.has(h)||(D_.add(h),t={rel:t,crossOrigin:s,href:n},o.querySelector(h)===null&&(n=o.createElement("link"),cn(n,"link",t),Et(n),o.head.appendChild(n)))}}function Db(t){Mr.D(t),M_("dns-prefetch",t,null)}function Mb(t,n){Mr.C(t,n),M_("preconnect",t,n)}function Ob(t,n,s){Mr.L(t,n,s);var o=bo;if(o&&t&&n){var h='link[rel="preload"][as="'+Wt(n)+'"]';n==="image"&&s&&s.imageSrcSet?(h+='[imagesrcset="'+Wt(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(h+='[imagesizes="'+Wt(s.imageSizes)+'"]')):h+='[href="'+Wt(t)+'"]';var f=h;switch(n){case"style":f=So(t);break;case"script":f=Ao(t)}Ti.has(f)||(t=A({rel:"preload",href:n==="image"&&s&&s.imageSrcSet?void 0:t,as:n},s),Ti.set(f,t),o.querySelector(h)!==null||n==="style"&&o.querySelector(Ul(f))||n==="script"&&o.querySelector(Ll(f))||(n=o.createElement("link"),cn(n,"link",t),Et(n),o.head.appendChild(n)))}}function Vb(t,n){Mr.m(t,n);var s=bo;if(s&&t){var o=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+Wt(o)+'"][href="'+Wt(t)+'"]',f=h;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=Ao(t)}if(!Ti.has(f)&&(t=A({rel:"modulepreload",href:t},n),Ti.set(f,t),s.querySelector(h)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(Ll(f)))return}o=s.createElement("link"),cn(o,"link",t),Et(o),s.head.appendChild(o)}}}function kb(t,n,s){Mr.S(t,n,s);var o=bo;if(o&&t){var h=ui(o).hoistableStyles,f=So(t);n=n||"default";var g=h.get(f);if(!g){var E={loading:0,preload:null};if(g=o.querySelector(Ul(f)))E.loading=5;else{t=A({rel:"stylesheet",href:t,"data-precedence":n},s),(s=Ti.get(f))&&Vd(t,s);var I=g=o.createElement("link");Et(I),cn(I,"link",t),I._p=new Promise(function(B,K){I.onload=B,I.onerror=K}),I.addEventListener("load",function(){E.loading|=1}),I.addEventListener("error",function(){E.loading|=2}),E.loading|=4,Nc(g,n,o)}g={type:"stylesheet",instance:g,count:1,state:E},h.set(f,g)}}}function Ub(t,n){Mr.X(t,n);var s=bo;if(s&&t){var o=ui(s).hoistableScripts,h=Ao(t),f=o.get(h);f||(f=s.querySelector(Ll(h)),f||(t=A({src:t,async:!0},n),(n=Ti.get(h))&&kd(t,n),f=s.createElement("script"),Et(f),cn(f,"link",t),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function Lb(t,n){Mr.M(t,n);var s=bo;if(s&&t){var o=ui(s).hoistableScripts,h=Ao(t),f=o.get(h);f||(f=s.querySelector(Ll(h)),f||(t=A({src:t,async:!0,type:"module"},n),(n=Ti.get(h))&&kd(t,n),f=s.createElement("script"),Et(f),cn(f,"link",t),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function O_(t,n,s,o){var h=(h=Ce.current)?Cc(h):null;if(!h)throw Error(a(446));switch(t){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(n=So(s.href),s=ui(h).hoistableStyles,o=s.get(n),o||(o={type:"style",instance:null,count:0,state:null},s.set(n,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){t=So(s.href);var f=ui(h).hoistableStyles,g=f.get(t);if(g||(h=h.ownerDocument||h,g={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,g),(f=h.querySelector(Ul(t)))&&!f._p&&(g.instance=f,g.state.loading=5),Ti.has(t)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},Ti.set(t,s),f||Pb(h,t,s,g.state))),n&&o===null)throw Error(a(528,""));return g}if(n&&o!==null)throw Error(a(529,""));return null;case"script":return n=s.async,s=s.src,typeof s=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Ao(s),s=ui(h).hoistableScripts,o=s.get(n),o||(o={type:"script",instance:null,count:0,state:null},s.set(n,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,t))}}function So(t){return'href="'+Wt(t)+'"'}function Ul(t){return'link[rel="stylesheet"]['+t+"]"}function V_(t){return A({},t,{"data-precedence":t.precedence,precedence:null})}function Pb(t,n,s,o){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?o.loading=1:(n=t.createElement("link"),o.preload=n,n.addEventListener("load",function(){return o.loading|=1}),n.addEventListener("error",function(){return o.loading|=2}),cn(n,"link",s),Et(n),t.head.appendChild(n))}function Ao(t){return'[src="'+Wt(t)+'"]'}function Ll(t){return"script[async]"+t}function k_(t,n,s){if(n.count++,n.instance===null)switch(n.type){case"style":var o=t.querySelector('style[data-href~="'+Wt(s.href)+'"]');if(o)return n.instance=o,Et(o),o;var h=A({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return o=(t.ownerDocument||t).createElement("style"),Et(o),cn(o,"style",h),Nc(o,s.precedence,t),n.instance=o;case"stylesheet":h=So(s.href);var f=t.querySelector(Ul(h));if(f)return n.state.loading|=4,n.instance=f,Et(f),f;o=V_(s),(h=Ti.get(h))&&Vd(o,h),f=(t.ownerDocument||t).createElement("link"),Et(f);var g=f;return g._p=new Promise(function(E,I){g.onload=E,g.onerror=I}),cn(f,"link",o),n.state.loading|=4,Nc(f,s.precedence,t),n.instance=f;case"script":return f=Ao(s.src),(h=t.querySelector(Ll(f)))?(n.instance=h,Et(h),h):(o=s,(h=Ti.get(f))&&(o=A({},s),kd(o,h)),t=t.ownerDocument||t,h=t.createElement("script"),Et(h),cn(h,"link",o),t.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(a(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(o=n.instance,n.state.loading|=4,Nc(o,s.precedence,t));return n.instance}function Nc(t,n,s){for(var o=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=o.length?o[o.length-1]:null,f=h,g=0;g<o.length;g++){var E=o[g];if(E.dataset.precedence===n)f=E;else if(f!==h)break}f?f.parentNode.insertBefore(t,f.nextSibling):(n=s.nodeType===9?s.head:s,n.insertBefore(t,n.firstChild))}function Vd(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function kd(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var xc=null;function U_(t,n,s){if(xc===null){var o=new Map,h=xc=new Map;h.set(s,o)}else h=xc,o=h.get(s),o||(o=new Map,h.set(s,o));if(o.has(t))return o;for(o.set(t,null),s=s.getElementsByTagName(t),h=0;h<s.length;h++){var f=s[h];if(!(f[oi]||f[vt]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var g=f.getAttribute(n)||"";g=t+g;var E=o.get(g);E?E.push(f):o.set(g,[f])}}return o}function L_(t,n,s){t=t.ownerDocument||t,t.head.insertBefore(s,n==="title"?t.querySelector("head > title"):null)}function zb(t,n,s){if(s===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return t=n.disabled,typeof n.precedence=="string"&&t==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function P_(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function jb(t,n,s,o){if(s.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var h=So(o.href),f=n.querySelector(Ul(h));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(t.count++,t=Dc.bind(t),n.then(t,t)),s.state.loading|=4,s.instance=f,Et(f);return}f=n.ownerDocument||n,o=V_(o),(h=Ti.get(h))&&Vd(o,h),f=f.createElement("link"),Et(f);var g=f;g._p=new Promise(function(E,I){g.onload=E,g.onerror=I}),cn(f,"link",o),s.instance=f}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(s,n),(n=s.state.preload)&&(s.state.loading&3)===0&&(t.count++,s=Dc.bind(t),n.addEventListener("load",s),n.addEventListener("error",s))}}var Ud=0;function Bb(t,n){return t.stylesheets&&t.count===0&&Oc(t,t.stylesheets),0<t.count||0<t.imgCount?function(s){var o=setTimeout(function(){if(t.stylesheets&&Oc(t,t.stylesheets),t.unsuspend){var f=t.unsuspend;t.unsuspend=null,f()}},6e4+n);0<t.imgBytes&&Ud===0&&(Ud=62500*Tb());var h=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&Oc(t,t.stylesheets),t.unsuspend)){var f=t.unsuspend;t.unsuspend=null,f()}},(t.imgBytes>Ud?50:800)+n);return t.unsuspend=s,function(){t.unsuspend=null,clearTimeout(o),clearTimeout(h)}}:null}function Dc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Oc(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Mc=null;function Oc(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Mc=new Map,n.forEach(qb,t),Mc=null,Dc.call(t))}function qb(t,n){if(!(n.state.loading&4)){var s=Mc.get(t);if(s)var o=s.get(null);else{s=new Map,Mc.set(t,s);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var g=h[f];(g.nodeName==="LINK"||g.getAttribute("media")!=="not all")&&(s.set(g.dataset.precedence,g),o=g)}o&&s.set(null,o)}h=n.instance,g=h.getAttribute("data-precedence"),f=s.get(g)||o,f===o&&s.set(null,h),s.set(g,h),this.count++,o=Dc.bind(this),h.addEventListener("load",o),h.addEventListener("error",o),f?f.parentNode.insertBefore(h,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),n.state.loading|=4}}var Pl={$$typeof:ve,Provider:null,Consumer:null,_currentValue:ge,_currentValue2:ge,_threadCount:0};function Hb(t,n,s,o,h,f,g,E,I){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=rn(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=rn(0),this.hiddenUpdates=rn(null),this.identifierPrefix=o,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=g,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=I,this.incompleteTransitions=new Map}function z_(t,n,s,o,h,f,g,E,I,B,K,J){return t=new Hb(t,n,s,g,I,B,K,J,E),n=1,f===!0&&(n|=24),f=Xn(3,null,null,n),t.current=f,f.stateNode=t,n=gf(),n.refCount++,t.pooledCache=n,n.refCount++,f.memoizedState={element:o,isDehydrated:s,cache:n},vf(f),t}function j_(t){return t?(t=eo,t):eo}function B_(t,n,s,o,h,f){h=j_(h),o.context===null?o.context=h:o.pendingContext=h,o=os(n),o.payload={element:s},f=f===void 0?null:f,f!==null&&(o.callback=f),s=ls(t,o,n),s!==null&&(Pn(s,t,n),pl(s,t,n))}function q_(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var s=t.retryLane;t.retryLane=s!==0&&s<n?s:n}}function Ld(t,n){q_(t,n),(t=t.alternate)&&q_(t,n)}function H_(t){if(t.tag===13||t.tag===31){var n=ma(t,67108864);n!==null&&Pn(n,t,67108864),Ld(t,67108864)}}function F_(t){if(t.tag===13||t.tag===31){var n=ei();n=sn(n);var s=ma(t,n);s!==null&&Pn(s,t,n),Ld(t,n)}}var Vc=!0;function Fb(t,n,s,o){var h=Q.T;Q.T=null;var f=oe.p;try{oe.p=2,Pd(t,n,s,o)}finally{oe.p=f,Q.T=h}}function Gb(t,n,s,o){var h=Q.T;Q.T=null;var f=oe.p;try{oe.p=8,Pd(t,n,s,o)}finally{oe.p=f,Q.T=h}}function Pd(t,n,s,o){if(Vc){var h=zd(o);if(h===null)Ad(t,n,o,kc,s),Q_(t,o);else if(Yb(h,t,n,s,o))o.stopPropagation();else if(Q_(t,o),n&4&&-1<Qb.indexOf(t)){for(;h!==null;){var f=On(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var g=Dn(f.pendingLanes);if(g!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;g;){var I=1<<31-Oe(g);E.entanglements[1]|=I,g&=~I}Ji(f),(et&6)===0&&(yc=Jt()+500,Ml(0))}}break;case 31:case 13:E=ma(f,2),E!==null&&Pn(E,f,2),vc(),Ld(f,2)}if(f=zd(o),f===null&&Ad(t,n,o,kc,s),f===h)break;h=f}h!==null&&o.stopPropagation()}else Ad(t,n,o,null,s)}}function zd(t){return t=pe(t),jd(t)}var kc=null;function jd(t){if(kc=null,t=li(t),t!==null){var n=c(t);if(n===null)t=null;else{var s=n.tag;if(s===13){if(t=d(n),t!==null)return t;t=null}else if(s===31){if(t=p(n),t!==null)return t;t=null}else if(s===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return kc=t,null}function G_(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(cr()){case Ks:return 2;case Qr:return 8;case gn:case Ba:return 32;case Ui:return 268435456;default:return 32}default:return 32}}var Bd=!1,vs=null,Es=null,Ts=null,zl=new Map,jl=new Map,bs=[],Qb="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Q_(t,n){switch(t){case"focusin":case"focusout":vs=null;break;case"dragenter":case"dragleave":Es=null;break;case"mouseover":case"mouseout":Ts=null;break;case"pointerover":case"pointerout":zl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":jl.delete(n.pointerId)}}function Bl(t,n,s,o,h,f){return t===null||t.nativeEvent!==f?(t={blockedOn:n,domEventName:s,eventSystemFlags:o,nativeEvent:f,targetContainers:[h]},n!==null&&(n=On(n),n!==null&&H_(n)),t):(t.eventSystemFlags|=o,n=t.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),t)}function Yb(t,n,s,o,h){switch(n){case"focusin":return vs=Bl(vs,t,n,s,o,h),!0;case"dragenter":return Es=Bl(Es,t,n,s,o,h),!0;case"mouseover":return Ts=Bl(Ts,t,n,s,o,h),!0;case"pointerover":var f=h.pointerId;return zl.set(f,Bl(zl.get(f)||null,t,n,s,o,h)),!0;case"gotpointercapture":return f=h.pointerId,jl.set(f,Bl(jl.get(f)||null,t,n,s,o,h)),!0}return!1}function Y_(t){var n=li(t.target);if(n!==null){var s=c(n);if(s!==null){if(n=s.tag,n===13){if(n=d(s),n!==null){t.blockedOn=n,Fn(t.priority,function(){F_(s)});return}}else if(n===31){if(n=p(s),n!==null){t.blockedOn=n,Fn(t.priority,function(){F_(s)});return}}else if(n===3&&s.stateNode.current.memoizedState.isDehydrated){t.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Uc(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var s=zd(t.nativeEvent);if(s===null){s=t.nativeEvent;var o=new s.constructor(s.type,s);re=o,s.target.dispatchEvent(o),re=null}else return n=On(s),n!==null&&H_(n),t.blockedOn=s,!1;n.shift()}return!0}function K_(t,n,s){Uc(t)&&s.delete(n)}function Kb(){Bd=!1,vs!==null&&Uc(vs)&&(vs=null),Es!==null&&Uc(Es)&&(Es=null),Ts!==null&&Uc(Ts)&&(Ts=null),zl.forEach(K_),jl.forEach(K_)}function Lc(t,n){t.blockedOn===n&&(t.blockedOn=null,Bd||(Bd=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,Kb)))}var Pc=null;function X_(t){Pc!==t&&(Pc=t,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Pc===t&&(Pc=null);for(var n=0;n<t.length;n+=3){var s=t[n],o=t[n+1],h=t[n+2];if(typeof o!="function"){if(jd(o||s)===null)continue;break}var f=On(s);f!==null&&(t.splice(n,3),n-=3,zf(f,{pending:!0,data:h,method:s.method,action:o},o,h))}}))}function wo(t){function n(I){return Lc(I,t)}vs!==null&&Lc(vs,t),Es!==null&&Lc(Es,t),Ts!==null&&Lc(Ts,t),zl.forEach(n),jl.forEach(n);for(var s=0;s<bs.length;s++){var o=bs[s];o.blockedOn===t&&(o.blockedOn=null)}for(;0<bs.length&&(s=bs[0],s.blockedOn===null);)Y_(s),s.blockedOn===null&&bs.shift();if(s=(t.ownerDocument||t).$$reactFormReplay,s!=null)for(o=0;o<s.length;o+=3){var h=s[o],f=s[o+1],g=h[Nt]||null;if(typeof f=="function")g||X_(s);else if(g){var E=null;if(f&&f.hasAttribute("formAction")){if(h=f,g=f[Nt]||null)E=g.formAction;else if(jd(h)!==null)continue}else E=g.action;typeof E=="function"?s[o+1]=E:(s.splice(o,3),o-=3),X_(s)}}}function $_(){function t(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(g){return h=g})},focusReset:"manual",scroll:"manual"})}function n(){h!==null&&(h(),h=null),o||setTimeout(s,20)}function s(){if(!o&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,h=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(s,100),function(){o=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),h!==null&&(h(),h=null)}}}function qd(t){this._internalRoot=t}zc.prototype.render=qd.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(a(409));var s=n.current,o=ei();B_(s,o,t,n,null,null)},zc.prototype.unmount=qd.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;B_(t.current,2,null,t,null,null),vc(),n[Gn]=null}};function zc(t){this._internalRoot=t}zc.prototype.unstable_scheduleHydration=function(t){if(t){var n=Js();t={blockedOn:null,target:t,priority:n};for(var s=0;s<bs.length&&n!==0&&n<bs[s].priority;s++);bs.splice(s,0,t),s===0&&Y_(t)}};var J_=e.version;if(J_!=="19.2.0")throw Error(a(527,J_,"19.2.0"));oe.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(a(188)):(t=Object.keys(t).join(","),Error(a(268,t)));return t=_(n),t=t!==null?b(t):null,t=t===null?null:t.stateNode,t};var Xb={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:Q,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var jc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!jc.isDisabled&&jc.supportsFiber)try{wn=jc.inject(Xb),Qt=jc}catch{}}return Hl.createRoot=function(t,n){if(!l(t))throw Error(a(299));var s=!1,o="",h=ry,f=sy,g=ay;return n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(g=n.onRecoverableError)),n=z_(t,1,!1,null,null,s,o,null,h,f,g,$_),t[Gn]=n.current,Sd(t),new qd(n)},Hl.hydrateRoot=function(t,n,s){if(!l(t))throw Error(a(299));var o=!1,h="",f=ry,g=sy,E=ay,I=null;return s!=null&&(s.unstable_strictMode===!0&&(o=!0),s.identifierPrefix!==void 0&&(h=s.identifierPrefix),s.onUncaughtError!==void 0&&(f=s.onUncaughtError),s.onCaughtError!==void 0&&(g=s.onCaughtError),s.onRecoverableError!==void 0&&(E=s.onRecoverableError),s.formState!==void 0&&(I=s.formState)),n=z_(t,1,!0,n,s??null,o,h,I,f,g,E,$_),n.context=j_(null),s=n.current,o=ei(),o=sn(o),h=os(o),h.callback=null,ls(s,h,o),s=o,n.current.lanes=s,Zt(n,s),Ji(n),t[Gn]=n.current,Sd(t),new zc(n)},Hl.version="19.2.0",Hl}var o0;function aS(){if(o0)return Gd.exports;o0=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Gd.exports=sS(),Gd.exports}var oS=aS();const lS=$v(oS),uS=()=>{};var l0={};const Jv=function(r){const e=[];let i=0;for(let a=0;a<r.length;a++){let l=r.charCodeAt(a);l<128?e[i++]=l:l<2048?(e[i++]=l>>6|192,e[i++]=l&63|128):(l&64512)===55296&&a+1<r.length&&(r.charCodeAt(a+1)&64512)===56320?(l=65536+((l&1023)<<10)+(r.charCodeAt(++a)&1023),e[i++]=l>>18|240,e[i++]=l>>12&63|128,e[i++]=l>>6&63|128,e[i++]=l&63|128):(e[i++]=l>>12|224,e[i++]=l>>6&63|128,e[i++]=l&63|128)}return e},cS=function(r){const e=[];let i=0,a=0;for(;i<r.length;){const l=r[i++];if(l<128)e[a++]=String.fromCharCode(l);else if(l>191&&l<224){const c=r[i++];e[a++]=String.fromCharCode((l&31)<<6|c&63)}else if(l>239&&l<365){const c=r[i++],d=r[i++],p=r[i++],y=((l&7)<<18|(c&63)<<12|(d&63)<<6|p&63)-65536;e[a++]=String.fromCharCode(55296+(y>>10)),e[a++]=String.fromCharCode(56320+(y&1023))}else{const c=r[i++],d=r[i++];e[a++]=String.fromCharCode((l&15)<<12|(c&63)<<6|d&63)}}return e.join("")},Zv={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let l=0;l<r.length;l+=3){const c=r[l],d=l+1<r.length,p=d?r[l+1]:0,y=l+2<r.length,_=y?r[l+2]:0,b=c>>2,A=(c&3)<<4|p>>4;let V=(p&15)<<2|_>>6,Y=_&63;y||(Y=64,d||(V=64)),a.push(i[b],i[A],i[V],i[Y])}return a.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(Jv(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):cS(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let l=0;l<r.length;){const c=i[r.charAt(l++)],p=l<r.length?i[r.charAt(l)]:0;++l;const _=l<r.length?i[r.charAt(l)]:64;++l;const A=l<r.length?i[r.charAt(l)]:64;if(++l,c==null||p==null||_==null||A==null)throw new hS;const V=c<<2|p>>4;if(a.push(V),_!==64){const Y=p<<4&240|_>>2;if(a.push(Y),A!==64){const te=_<<6&192|A;a.push(te)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class hS extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const fS=function(r){const e=Jv(r);return Zv.encodeByteArray(e,!0)},oh=function(r){return fS(r).replace(/\./g,"")},Wv=function(r){try{return Zv.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function dS(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const mS=()=>dS().__FIREBASE_DEFAULTS__,gS=()=>{if(typeof process>"u"||typeof l0>"u")return;const r=l0.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},pS=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&Wv(r[1]);return e&&JSON.parse(e)},Ch=()=>{try{return uS()||mS()||gS()||pS()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},e1=r=>Ch()?.emulatorHosts?.[r],yS=r=>{const e=e1(r);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const a=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),a]:[e.substring(0,i),a]},t1=()=>Ch()?.config,n1=r=>Ch()?.[`_${r}`];class _S{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,a)=>{i?this.reject(i):this.resolve(a),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,a))}}}function Qo(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function i1(r){return(await fetch(r,{credentials:"include"})).ok}function vS(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},a=e||"demo-project",l=r.iat||0,c=r.sub||r.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${a}`,aud:a,iat:l,exp:l+3600,auth_time:l,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...r};return[oh(JSON.stringify(i)),oh(JSON.stringify(d)),""].join(".")}const Jl={};function ES(){const r={prod:[],emulator:[]};for(const e of Object.keys(Jl))Jl[e]?r.emulator.push(e):r.prod.push(e);return r}function TS(r){let e=document.getElementById(r),i=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),i=!0),{created:i,element:e}}let u0=!1;function r1(r,e){if(typeof window>"u"||typeof document>"u"||!Qo(window.location.host)||Jl[r]===e||Jl[r]||u0)return;Jl[r]=e;function i(V){return`__firebase__banner__${V}`}const a="__firebase__banner",c=ES().prod.length>0;function d(){const V=document.getElementById(a);V&&V.remove()}function p(V){V.style.display="flex",V.style.background="#7faaf0",V.style.position="fixed",V.style.bottom="5px",V.style.left="5px",V.style.padding=".5em",V.style.borderRadius="5px",V.style.alignItems="center"}function y(V,Y){V.setAttribute("width","24"),V.setAttribute("id",Y),V.setAttribute("height","24"),V.setAttribute("viewBox","0 0 24 24"),V.setAttribute("fill","none"),V.style.marginLeft="-6px"}function _(){const V=document.createElement("span");return V.style.cursor="pointer",V.style.marginLeft="16px",V.style.fontSize="24px",V.innerHTML=" &times;",V.onclick=()=>{u0=!0,d()},V}function b(V,Y){V.setAttribute("id",Y),V.innerText="Learn more",V.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",V.setAttribute("target","__blank"),V.style.paddingLeft="5px",V.style.textDecoration="underline"}function A(){const V=TS(a),Y=i("text"),te=document.getElementById(Y)||document.createElement("span"),ie=i("learnmore"),ne=document.getElementById(ie)||document.createElement("a"),de=i("preprendIcon"),we=document.getElementById(de)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(V.created){const ve=V.element;p(ve),b(ne,ie);const Ve=_();y(we,de),ve.append(we,te,ne,Ve),document.body.appendChild(ve)}c?(te.innerText="Preview backend disconnected.",we.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(we.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,te.innerText="Preview backend running in this workspace."),te.setAttribute("id",Y)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",A):A()}function An(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function bS(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(An())}function SS(){const r=Ch()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function AS(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function wS(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function RS(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function IS(){const r=An();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function CS(){return!SS()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function NS(){try{return typeof indexedDB=="object"}catch{return!1}}function xS(){return new Promise((r,e)=>{try{let i=!0;const a="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(a);l.onsuccess=()=>{l.result.close(),i||self.indexedDB.deleteDatabase(a),r(!0)},l.onupgradeneeded=()=>{i=!1},l.onerror=()=>{e(l.error?.message||"")}}catch(i){e(i)}})}const DS="FirebaseError";class Hr extends Error{constructor(e,i,a){super(i),this.code=e,this.customData=a,this.name=DS,Object.setPrototypeOf(this,Hr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,du.prototype.create)}}class du{constructor(e,i,a){this.service=e,this.serviceName=i,this.errors=a}create(e,...i){const a=i[0]||{},l=`${this.service}/${e}`,c=this.errors[e],d=c?MS(c,a):"Error",p=`${this.serviceName}: ${d} (${l}).`;return new Hr(l,p,a)}}function MS(r,e){return r.replace(OS,(i,a)=>{const l=e[a];return l!=null?String(l):`<${a}?>`})}const OS=/\{\$([^}]+)}/g;function VS(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function Oa(r,e){if(r===e)return!0;const i=Object.keys(r),a=Object.keys(e);for(const l of i){if(!a.includes(l))return!1;const c=r[l],d=e[l];if(c0(c)&&c0(d)){if(!Oa(c,d))return!1}else if(c!==d)return!1}for(const l of a)if(!i.includes(l))return!1;return!0}function c0(r){return r!==null&&typeof r=="object"}function mu(r){const e=[];for(const[i,a]of Object.entries(r))Array.isArray(a)?a.forEach(l=>{e.push(encodeURIComponent(i)+"="+encodeURIComponent(l))}):e.push(encodeURIComponent(i)+"="+encodeURIComponent(a));return e.length?"&"+e.join("&"):""}function kS(r,e){const i=new US(r,e);return i.subscribe.bind(i)}class US{constructor(e,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{e(this)}).catch(a=>{this.error(a)})}next(e){this.forEachObserver(i=>{i.next(e)})}error(e){this.forEachObserver(i=>{i.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,i,a){let l;if(e===void 0&&i===void 0&&a===void 0)throw new Error("Missing Observer.");LS(e,["next","error","complete"])?l=e:l={next:e,error:i,complete:a},l.next===void 0&&(l.next=Xd),l.error===void 0&&(l.error=Xd),l.complete===void 0&&(l.complete=Xd);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),c}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,e)}sendOne(e,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{i(this.observers[e])}catch(a){typeof console<"u"&&console.error&&console.error(a)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function LS(r,e){if(typeof r!="object"||r===null)return!1;for(const i of e)if(i in r&&typeof r[i]=="function")return!0;return!1}function Xd(){}function dn(r){return r&&r._delegate?r._delegate:r}class Va{constructor(e,i,a){this.name=e,this.instanceFactory=i,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Ia="[DEFAULT]";class PS{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const a=new _S;if(this.instancesDeferred.set(i,a),this.isInitialized(i)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:i});l&&a.resolve(l)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){const i=this.normalizeInstanceIdentifier(e?.identifier),a=e?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(l){if(a)return null;throw l}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(jS(e))try{this.getOrInitializeService({instanceIdentifier:Ia})}catch{}for(const[i,a]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:l});a.resolve(c)}catch{}}}}clearInstance(e=Ia){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ia){return this.instances.has(e)}getOptions(e=Ia){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,a=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:a,options:i});for(const[c,d]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(c);a===p&&d.resolve(l)}return l}onInit(e,i){const a=this.normalizeInstanceIdentifier(i),l=this.onInitCallbacks.get(a)??new Set;l.add(e),this.onInitCallbacks.set(a,l);const c=this.instances.get(a);return c&&e(c,a),()=>{l.delete(e)}}invokeOnInitCallbacks(e,i){const a=this.onInitCallbacks.get(i);if(a)for(const l of a)try{l(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let a=this.instances.get(e);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:zS(e),options:i}),this.instances.set(e,a),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(a,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,a)}catch{}return a||null}normalizeInstanceIdentifier(e=Ia){return this.component?this.component.multipleInstances?e:Ia:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function zS(r){return r===Ia?void 0:r}function jS(r){return r.instantiationMode==="EAGER"}class BS{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new PS(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}var Be;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Be||(Be={}));const qS={debug:Be.DEBUG,verbose:Be.VERBOSE,info:Be.INFO,warn:Be.WARN,error:Be.ERROR,silent:Be.SILENT},HS=Be.INFO,FS={[Be.DEBUG]:"log",[Be.VERBOSE]:"log",[Be.INFO]:"info",[Be.WARN]:"warn",[Be.ERROR]:"error"},GS=(r,e,...i)=>{if(e<r.logLevel)return;const a=new Date().toISOString(),l=FS[e];if(l)console[l](`[${a}]  ${r.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class qm{constructor(e){this.name=e,this._logLevel=HS,this._logHandler=GS,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Be))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?qS[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Be.DEBUG,...e),this._logHandler(this,Be.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Be.VERBOSE,...e),this._logHandler(this,Be.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Be.INFO,...e),this._logHandler(this,Be.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Be.WARN,...e),this._logHandler(this,Be.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Be.ERROR,...e),this._logHandler(this,Be.ERROR,...e)}}const QS=(r,e)=>e.some(i=>r instanceof i);let h0,f0;function YS(){return h0||(h0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function KS(){return f0||(f0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const s1=new WeakMap,hm=new WeakMap,a1=new WeakMap,$d=new WeakMap,Hm=new WeakMap;function XS(r){const e=new Promise((i,a)=>{const l=()=>{r.removeEventListener("success",c),r.removeEventListener("error",d)},c=()=>{i(xs(r.result)),l()},d=()=>{a(r.error),l()};r.addEventListener("success",c),r.addEventListener("error",d)});return e.then(i=>{i instanceof IDBCursor&&s1.set(i,r)}).catch(()=>{}),Hm.set(e,r),e}function $S(r){if(hm.has(r))return;const e=new Promise((i,a)=>{const l=()=>{r.removeEventListener("complete",c),r.removeEventListener("error",d),r.removeEventListener("abort",d)},c=()=>{i(),l()},d=()=>{a(r.error||new DOMException("AbortError","AbortError")),l()};r.addEventListener("complete",c),r.addEventListener("error",d),r.addEventListener("abort",d)});hm.set(r,e)}let fm={get(r,e,i){if(r instanceof IDBTransaction){if(e==="done")return hm.get(r);if(e==="objectStoreNames")return r.objectStoreNames||a1.get(r);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return xs(r[e])},set(r,e,i){return r[e]=i,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function JS(r){fm=r(fm)}function ZS(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const a=r.call(Jd(this),e,...i);return a1.set(a,e.sort?e.sort():[e]),xs(a)}:KS().includes(r)?function(...e){return r.apply(Jd(this),e),xs(s1.get(this))}:function(...e){return xs(r.apply(Jd(this),e))}}function WS(r){return typeof r=="function"?ZS(r):(r instanceof IDBTransaction&&$S(r),QS(r,YS())?new Proxy(r,fm):r)}function xs(r){if(r instanceof IDBRequest)return XS(r);if($d.has(r))return $d.get(r);const e=WS(r);return e!==r&&($d.set(r,e),Hm.set(e,r)),e}const Jd=r=>Hm.get(r);function eA(r,e,{blocked:i,upgrade:a,blocking:l,terminated:c}={}){const d=indexedDB.open(r,e),p=xs(d);return a&&d.addEventListener("upgradeneeded",y=>{a(xs(d.result),y.oldVersion,y.newVersion,xs(d.transaction),y)}),i&&d.addEventListener("blocked",y=>i(y.oldVersion,y.newVersion,y)),p.then(y=>{c&&y.addEventListener("close",()=>c()),l&&y.addEventListener("versionchange",_=>l(_.oldVersion,_.newVersion,_))}).catch(()=>{}),p}const tA=["get","getKey","getAll","getAllKeys","count"],nA=["put","add","delete","clear"],Zd=new Map;function d0(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(Zd.get(e))return Zd.get(e);const i=e.replace(/FromIndex$/,""),a=e!==i,l=nA.includes(i);if(!(i in(a?IDBIndex:IDBObjectStore).prototype)||!(l||tA.includes(i)))return;const c=async function(d,...p){const y=this.transaction(d,l?"readwrite":"readonly");let _=y.store;return a&&(_=_.index(p.shift())),(await Promise.all([_[i](...p),l&&y.done]))[0]};return Zd.set(e,c),c}JS(r=>({...r,get:(e,i,a)=>d0(e,i)||r.get(e,i,a),has:(e,i)=>!!d0(e,i)||r.has(e,i)}));class iA{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(rA(i)){const a=i.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(i=>i).join(" ")}}function rA(r){return r.getComponent()?.type==="VERSION"}const dm="@firebase/app",m0="0.14.6";const Lr=new qm("@firebase/app"),sA="@firebase/app-compat",aA="@firebase/analytics-compat",oA="@firebase/analytics",lA="@firebase/app-check-compat",uA="@firebase/app-check",cA="@firebase/auth",hA="@firebase/auth-compat",fA="@firebase/database",dA="@firebase/data-connect",mA="@firebase/database-compat",gA="@firebase/functions",pA="@firebase/functions-compat",yA="@firebase/installations",_A="@firebase/installations-compat",vA="@firebase/messaging",EA="@firebase/messaging-compat",TA="@firebase/performance",bA="@firebase/performance-compat",SA="@firebase/remote-config",AA="@firebase/remote-config-compat",wA="@firebase/storage",RA="@firebase/storage-compat",IA="@firebase/firestore",CA="@firebase/ai",NA="@firebase/firestore-compat",xA="firebase",DA="12.6.0";const mm="[DEFAULT]",MA={[dm]:"fire-core",[sA]:"fire-core-compat",[oA]:"fire-analytics",[aA]:"fire-analytics-compat",[uA]:"fire-app-check",[lA]:"fire-app-check-compat",[cA]:"fire-auth",[hA]:"fire-auth-compat",[fA]:"fire-rtdb",[dA]:"fire-data-connect",[mA]:"fire-rtdb-compat",[gA]:"fire-fn",[pA]:"fire-fn-compat",[yA]:"fire-iid",[_A]:"fire-iid-compat",[vA]:"fire-fcm",[EA]:"fire-fcm-compat",[TA]:"fire-perf",[bA]:"fire-perf-compat",[SA]:"fire-rc",[AA]:"fire-rc-compat",[wA]:"fire-gcs",[RA]:"fire-gcs-compat",[IA]:"fire-fst",[NA]:"fire-fst-compat",[CA]:"fire-vertex","fire-js":"fire-js",[xA]:"fire-js-all"};const lh=new Map,OA=new Map,gm=new Map;function g0(r,e){try{r.container.addComponent(e)}catch(i){Lr.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,i)}}function zo(r){const e=r.name;if(gm.has(e))return Lr.debug(`There were multiple attempts to register component ${e}.`),!1;gm.set(e,r);for(const i of lh.values())g0(i,r);for(const i of OA.values())g0(i,r);return!0}function Fm(r,e){const i=r.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),r.container.getProvider(e)}function bi(r){return r==null?!1:r.settings!==void 0}const VA={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ds=new du("app","Firebase",VA);class kA{constructor(e,i,a){this._isDeleted=!1,this._options={...e},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new Va("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ds.create("app-deleted",{appName:this._name})}}const Yo=DA;function o1(r,e={}){let i=r;typeof e!="object"&&(e={name:e});const a={name:mm,automaticDataCollectionEnabled:!0,...e},l=a.name;if(typeof l!="string"||!l)throw Ds.create("bad-app-name",{appName:String(l)});if(i||(i=t1()),!i)throw Ds.create("no-options");const c=lh.get(l);if(c){if(Oa(i,c.options)&&Oa(a,c.config))return c;throw Ds.create("duplicate-app",{appName:l})}const d=new BS(l);for(const y of gm.values())d.addComponent(y);const p=new kA(i,a,d);return lh.set(l,p),p}function l1(r=mm){const e=lh.get(r);if(!e&&r===mm&&t1())return o1();if(!e)throw Ds.create("no-app",{appName:r});return e}function Ms(r,e,i){let a=MA[r]??r;i&&(a+=`-${i}`);const l=a.match(/\s|\//),c=e.match(/\s|\//);if(l||c){const d=[`Unable to register library "${a}" with version "${e}":`];l&&d.push(`library name "${a}" contains illegal characters (whitespace or "/")`),l&&c&&d.push("and"),c&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Lr.warn(d.join(" "));return}zo(new Va(`${a}-version`,()=>({library:a,version:e}),"VERSION"))}const UA="firebase-heartbeat-database",LA=1,iu="firebase-heartbeat-store";let Wd=null;function u1(){return Wd||(Wd=eA(UA,LA,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(iu)}catch(i){console.warn(i)}}}}).catch(r=>{throw Ds.create("idb-open",{originalErrorMessage:r.message})})),Wd}async function PA(r){try{const i=(await u1()).transaction(iu),a=await i.objectStore(iu).get(c1(r));return await i.done,a}catch(e){if(e instanceof Hr)Lr.warn(e.message);else{const i=Ds.create("idb-get",{originalErrorMessage:e?.message});Lr.warn(i.message)}}}async function p0(r,e){try{const a=(await u1()).transaction(iu,"readwrite");await a.objectStore(iu).put(e,c1(r)),await a.done}catch(i){if(i instanceof Hr)Lr.warn(i.message);else{const a=Ds.create("idb-set",{originalErrorMessage:i?.message});Lr.warn(a.message)}}}function c1(r){return`${r.name}!${r.options.appId}`}const zA=1024,jA=30;class BA{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new HA(i),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=y0();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(l=>l.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>jA){const l=FA(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Lr.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=y0(),{heartbeatsToSend:i,unsentEntries:a}=qA(this._heartbeatsCache.heartbeats),l=oh(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=e,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(e){return Lr.warn(e),""}}}function y0(){return new Date().toISOString().substring(0,10)}function qA(r,e=zA){const i=[];let a=r.slice();for(const l of r){const c=i.find(d=>d.agent===l.agent);if(c){if(c.dates.push(l.date),_0(i)>e){c.dates.pop();break}}else if(i.push({agent:l.agent,dates:[l.date]}),_0(i)>e){i.pop();break}a=a.slice(1)}return{heartbeatsToSend:i,unsentEntries:a}}class HA{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return NS()?xS().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await PA(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const a=await this.read();return p0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const a=await this.read();return p0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...e.heartbeats]})}else return}}function _0(r){return oh(JSON.stringify({version:2,heartbeats:r})).length}function FA(r){if(r.length===0)return-1;let e=0,i=r[0].date;for(let a=1;a<r.length;a++)r[a].date<i&&(i=r[a].date,e=a);return e}function GA(r){zo(new Va("platform-logger",e=>new iA(e),"PRIVATE")),zo(new Va("heartbeat",e=>new BA(e),"PRIVATE")),Ms(dm,m0,r),Ms(dm,m0,"esm2020"),Ms("fire-js","")}GA("");var QA="firebase",YA="12.6.0";Ms(QA,YA,"app");function h1(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const KA=h1,f1=new du("auth","Firebase",h1());const uh=new qm("@firebase/auth");function XA(r,...e){uh.logLevel<=Be.WARN&&uh.warn(`Auth (${Yo}): ${r}`,...e)}function $c(r,...e){uh.logLevel<=Be.ERROR&&uh.error(`Auth (${Yo}): ${r}`,...e)}function Pr(r,...e){throw Gm(r,...e)}function tr(r,...e){return Gm(r,...e)}function d1(r,e,i){const a={...KA(),[e]:i};return new du("auth","Firebase",a).create(e,{appName:r.name})}function Ur(r){return d1(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Gm(r,...e){if(typeof r!="string"){const i=e[0],a=[...e.slice(1)];return a[0]&&(a[0].appName=r.name),r._errorFactory.create(i,...a)}return f1.create(r,...e)}function Se(r,e,...i){if(!r)throw Gm(e,...i)}function Vr(r){const e="INTERNAL ASSERTION FAILED: "+r;throw $c(e),new Error(e)}function zr(r,e){r||Vr(e)}function pm(){return typeof self<"u"&&self.location?.href||""}function $A(){return v0()==="http:"||v0()==="https:"}function v0(){return typeof self<"u"&&self.location?.protocol||null}function JA(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&($A()||wS()||"connection"in navigator)?navigator.onLine:!0}function ZA(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}class gu{constructor(e,i){this.shortDelay=e,this.longDelay=i,zr(i>e,"Short delay should be less than long delay!"),this.isMobile=bS()||RS()}get(){return JA()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Qm(r,e){zr(r.emulator,"Emulator should always be set here");const{url:i}=r.emulator;return e?`${i}${e.startsWith("/")?e.slice(1):e}`:i}class m1{static initialize(e,i,a){this.fetchImpl=e,i&&(this.headersImpl=i),a&&(this.responseImpl=a)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Vr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Vr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Vr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const WA={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const e2=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],t2=new gu(3e4,6e4);function pu(r,e){return r.tenantId&&!e.tenantId?{...e,tenantId:r.tenantId}:e}async function Ko(r,e,i,a,l={}){return g1(r,l,async()=>{let c={},d={};a&&(e==="GET"?d=a:c={body:JSON.stringify(a)});const p=mu({key:r.config.apiKey,...d}).slice(1),y=await r._getAdditionalHeaders();y["Content-Type"]="application/json",r.languageCode&&(y["X-Firebase-Locale"]=r.languageCode);const _={method:e,headers:y,...c};return AS()||(_.referrerPolicy="no-referrer"),r.emulatorConfig&&Qo(r.emulatorConfig.host)&&(_.credentials="include"),m1.fetch()(await p1(r,r.config.apiHost,i,p),_)})}async function g1(r,e,i){r._canInitEmulator=!1;const a={...WA,...e};try{const l=new n2(r),c=await Promise.race([i(),l.promise]);l.clearNetworkTimeout();const d=await c.json();if("needConfirmation"in d)throw Bc(r,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const p=c.ok?d.errorMessage:d.error.message,[y,_]=p.split(" : ");if(y==="FEDERATED_USER_ID_ALREADY_LINKED")throw Bc(r,"credential-already-in-use",d);if(y==="EMAIL_EXISTS")throw Bc(r,"email-already-in-use",d);if(y==="USER_DISABLED")throw Bc(r,"user-disabled",d);const b=a[y]||y.toLowerCase().replace(/[_\s]+/g,"-");if(_)throw d1(r,b,_);Pr(r,b)}}catch(l){if(l instanceof Hr)throw l;Pr(r,"network-request-failed",{message:String(l)})}}async function Ym(r,e,i,a,l={}){const c=await Ko(r,e,i,a,l);return"mfaPendingCredential"in c&&Pr(r,"multi-factor-auth-required",{_serverResponse:c}),c}async function p1(r,e,i,a){const l=`${e}${i}?${a}`,c=r,d=c.config.emulator?Qm(r.config,l):`${r.config.apiScheme}://${l}`;return e2.includes(i)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(d).toString():d}class n2{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((i,a)=>{this.timer=setTimeout(()=>a(tr(this.auth,"network-request-failed")),t2.get())})}}function Bc(r,e,i){const a={appName:r.name};i.email&&(a.email=i.email),i.phoneNumber&&(a.phoneNumber=i.phoneNumber);const l=tr(r,e,a);return l.customData._tokenResponse=i,l}async function i2(r,e){return Ko(r,"POST","/v1/accounts:delete",e)}async function ch(r,e){return Ko(r,"POST","/v1/accounts:lookup",e)}function Zl(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function r2(r,e=!1){const i=dn(r),a=await i.getIdToken(e),l=Km(a);Se(l&&l.exp&&l.auth_time&&l.iat,i.auth,"internal-error");const c=typeof l.firebase=="object"?l.firebase:void 0,d=c?.sign_in_provider;return{claims:l,token:a,authTime:Zl(em(l.auth_time)),issuedAtTime:Zl(em(l.iat)),expirationTime:Zl(em(l.exp)),signInProvider:d||null,signInSecondFactor:c?.sign_in_second_factor||null}}function em(r){return Number(r)*1e3}function Km(r){const[e,i,a]=r.split(".");if(e===void 0||i===void 0||a===void 0)return $c("JWT malformed, contained fewer than 3 sections"),null;try{const l=Wv(i);return l?JSON.parse(l):($c("Failed to decode base64 JWT payload"),null)}catch(l){return $c("Caught error parsing JWT payload as JSON",l?.toString()),null}}function E0(r){const e=Km(r);return Se(e,"internal-error"),Se(typeof e.exp<"u","internal-error"),Se(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function ru(r,e,i=!1){if(i)return e;try{return await e}catch(a){throw a instanceof Hr&&s2(a)&&r.auth.currentUser===r&&await r.auth.signOut(),a}}function s2({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}class a2{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const a=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,a)}}schedule(e=!1){if(!this.isRunning)return;const i=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class ym{constructor(e,i){this.createdAt=e,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=Zl(this.lastLoginAt),this.creationTime=Zl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function hh(r){const e=r.auth,i=await r.getIdToken(),a=await ru(r,ch(e,{idToken:i}));Se(a?.users.length,e,"internal-error");const l=a.users[0];r._notifyReloadListener(l);const c=l.providerUserInfo?.length?y1(l.providerUserInfo):[],d=l2(r.providerData,c),p=r.isAnonymous,y=!(r.email&&l.passwordHash)&&!d?.length,_=p?y:!1,b={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:d,metadata:new ym(l.createdAt,l.lastLoginAt),isAnonymous:_};Object.assign(r,b)}async function o2(r){const e=dn(r);await hh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function l2(r,e){return[...r.filter(a=>!e.some(l=>l.providerId===a.providerId)),...e]}function y1(r){return r.map(({providerId:e,...i})=>({providerId:e,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}async function u2(r,e){const i=await g1(r,{},async()=>{const a=mu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:l,apiKey:c}=r.config,d=await p1(r,l,"/v1/token",`key=${c}`),p=await r._getAdditionalHeaders();p["Content-Type"]="application/x-www-form-urlencoded";const y={method:"POST",headers:p,body:a};return r.emulatorConfig&&Qo(r.emulatorConfig.host)&&(y.credentials="include"),m1.fetch()(d,y)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function c2(r,e){return Ko(r,"POST","/v2/accounts:revokeToken",pu(r,e))}class Oo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Se(e.idToken,"internal-error"),Se(typeof e.idToken<"u","internal-error"),Se(typeof e.refreshToken<"u","internal-error");const i="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):E0(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,i)}updateFromIdToken(e){Se(e.length!==0,"internal-error");const i=E0(e);this.updateTokensAndExpiration(e,null,i)}async getToken(e,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(Se(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,i){const{accessToken:a,refreshToken:l,expiresIn:c}=await u2(e,i);this.updateTokensAndExpiration(a,l,Number(c))}updateTokensAndExpiration(e,i,a){this.refreshToken=i||null,this.accessToken=e||null,this.expirationTime=Date.now()+a*1e3}static fromJSON(e,i){const{refreshToken:a,accessToken:l,expirationTime:c}=i,d=new Oo;return a&&(Se(typeof a=="string","internal-error",{appName:e}),d.refreshToken=a),l&&(Se(typeof l=="string","internal-error",{appName:e}),d.accessToken=l),c&&(Se(typeof c=="number","internal-error",{appName:e}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Oo,this.toJSON())}_performRefresh(){return Vr("not implemented")}}function As(r,e){Se(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class Vi{constructor({uid:e,auth:i,stsTokenManager:a,...l}){this.providerId="firebase",this.proactiveRefresh=new a2(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=i,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new ym(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(e){const i=await ru(this,this.stsTokenManager.getToken(this.auth,e));return Se(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(e){return r2(this,e)}reload(){return o2(this)}_assign(e){this!==e&&(Se(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(i=>({...i})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const i=new Vi({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(e){Se(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,i=!1){let a=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),a=!0),i&&await hh(this),await this.auth._persistUserIfCurrent(this),a&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(bi(this.auth.app))return Promise.reject(Ur(this.auth));const e=await this.getIdToken();return await ru(this,i2(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,i){const a=i.displayName??void 0,l=i.email??void 0,c=i.phoneNumber??void 0,d=i.photoURL??void 0,p=i.tenantId??void 0,y=i._redirectEventId??void 0,_=i.createdAt??void 0,b=i.lastLoginAt??void 0,{uid:A,emailVerified:V,isAnonymous:Y,providerData:te,stsTokenManager:ie}=i;Se(A&&ie,e,"internal-error");const ne=Oo.fromJSON(this.name,ie);Se(typeof A=="string",e,"internal-error"),As(a,e.name),As(l,e.name),Se(typeof V=="boolean",e,"internal-error"),Se(typeof Y=="boolean",e,"internal-error"),As(c,e.name),As(d,e.name),As(p,e.name),As(y,e.name),As(_,e.name),As(b,e.name);const de=new Vi({uid:A,auth:e,email:l,emailVerified:V,displayName:a,isAnonymous:Y,photoURL:d,phoneNumber:c,tenantId:p,stsTokenManager:ne,createdAt:_,lastLoginAt:b});return te&&Array.isArray(te)&&(de.providerData=te.map(we=>({...we}))),y&&(de._redirectEventId=y),de}static async _fromIdTokenResponse(e,i,a=!1){const l=new Oo;l.updateFromServerResponse(i);const c=new Vi({uid:i.localId,auth:e,stsTokenManager:l,isAnonymous:a});return await hh(c),c}static async _fromGetAccountInfoResponse(e,i,a){const l=i.users[0];Se(l.localId!==void 0,"internal-error");const c=l.providerUserInfo!==void 0?y1(l.providerUserInfo):[],d=!(l.email&&l.passwordHash)&&!c?.length,p=new Oo;p.updateFromIdToken(a);const y=new Vi({uid:l.localId,auth:e,stsTokenManager:p,isAnonymous:d}),_={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:c,metadata:new ym(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!c?.length};return Object.assign(y,_),y}}const T0=new Map;function kr(r){zr(r instanceof Function,"Expected a class definition");let e=T0.get(r);return e?(zr(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,T0.set(r,e),e)}class _1{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,i){this.storage[e]=i}async _get(e){const i=this.storage[e];return i===void 0?null:i}async _remove(e){delete this.storage[e]}_addListener(e,i){}_removeListener(e,i){}}_1.type="NONE";const b0=_1;function Jc(r,e,i){return`firebase:${r}:${e}:${i}`}class Vo{constructor(e,i,a){this.persistence=e,this.auth=i,this.userKey=a;const{config:l,name:c}=this.auth;this.fullUserKey=Jc(this.userKey,l.apiKey,c),this.fullPersistenceKey=Jc("persistence",l.apiKey,c),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const i=await ch(this.auth,{idToken:e}).catch(()=>{});return i?Vi._fromGetAccountInfoResponse(this.auth,i,e):null}return Vi._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,i,a="authUser"){if(!i.length)return new Vo(kr(b0),e,a);const l=(await Promise.all(i.map(async _=>{if(await _._isAvailable())return _}))).filter(_=>_);let c=l[0]||kr(b0);const d=Jc(a,e.config.apiKey,e.name);let p=null;for(const _ of i)try{const b=await _._get(d);if(b){let A;if(typeof b=="string"){const V=await ch(e,{idToken:b}).catch(()=>{});if(!V)break;A=await Vi._fromGetAccountInfoResponse(e,V,b)}else A=Vi._fromJSON(e,b);_!==c&&(p=A),c=_;break}}catch{}const y=l.filter(_=>_._shouldAllowMigration);return!c._shouldAllowMigration||!y.length?new Vo(c,e,a):(c=y[0],p&&await c._set(d,p.toJSON()),await Promise.all(i.map(async _=>{if(_!==c)try{await _._remove(d)}catch{}})),new Vo(c,e,a))}}function S0(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(b1(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(v1(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(A1(e))return"Blackberry";if(w1(e))return"Webos";if(E1(e))return"Safari";if((e.includes("chrome/")||T1(e))&&!e.includes("edge/"))return"Chrome";if(S1(e))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,a=r.match(i);if(a?.length===2)return a[1]}return"Other"}function v1(r=An()){return/firefox\//i.test(r)}function E1(r=An()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function T1(r=An()){return/crios\//i.test(r)}function b1(r=An()){return/iemobile/i.test(r)}function S1(r=An()){return/android/i.test(r)}function A1(r=An()){return/blackberry/i.test(r)}function w1(r=An()){return/webos/i.test(r)}function Xm(r=An()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function h2(r=An()){return Xm(r)&&!!window.navigator?.standalone}function f2(){return IS()&&document.documentMode===10}function R1(r=An()){return Xm(r)||S1(r)||w1(r)||A1(r)||/windows phone/i.test(r)||b1(r)}function I1(r,e=[]){let i;switch(r){case"Browser":i=S0(An());break;case"Worker":i=`${S0(An())}-${r}`;break;default:i=r}const a=e.length?e.join(","):"FirebaseCore-web";return`${i}/JsCore/${Yo}/${a}`}class d2{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,i){const a=c=>new Promise((d,p)=>{try{const y=e(c);d(y)}catch(y){p(y)}});a.onAbort=i,this.queue.push(a);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const i=[];try{for(const a of this.queue)await a(e),a.onAbort&&i.push(a.onAbort)}catch(a){i.reverse();for(const l of i)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:a?.message})}}}async function m2(r,e={}){return Ko(r,"GET","/v2/passwordPolicy",pu(r,e))}const g2=6;class p2{constructor(e){const i=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??g2,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,i),this.validatePasswordCharacterOptions(e,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(e,i){const a=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;a&&(i.meetsMinPasswordLength=e.length>=a),l&&(i.meetsMaxPasswordLength=e.length<=l)}validatePasswordCharacterOptions(e,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let a;for(let l=0;l<e.length;l++)a=e.charAt(l),this.updatePasswordCharacterOptionsStatuses(i,a>="a"&&a<="z",a>="A"&&a<="Z",a>="0"&&a<="9",this.allowedNonAlphanumericCharacters.includes(a))}updatePasswordCharacterOptionsStatuses(e,i,a,l,c){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=a)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=c))}}class y2{constructor(e,i,a,l){this.app=e,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=a,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new A0(this),this.idTokenSubscription=new A0(this),this.beforeStateQueue=new d2(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=f1,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(e,i){return i&&(this._popupRedirectResolver=kr(i)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Vo.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const i=await ch(this,{idToken:e}),a=await Vi._fromGetAccountInfoResponse(this,i,e);await this.directlySetCurrentUser(a)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(bi(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let a=i,l=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,d=a?._redirectEventId,p=await this.tryRedirectSignIn(e);(!c||c===d)&&p?.user&&(a=p.user,l=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(a)}catch(c){a=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return Se(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(e){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(e){try{await hh(e)}catch(i){if(i?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=ZA()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(bi(this.app))return Promise.reject(Ur(this));const i=e?dn(e):null;return i&&Se(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(e,i=!1){if(!this._deleted)return e&&Se(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return bi(this.app)?Promise.reject(Ur(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return bi(this.app)?Promise.reject(Ur(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(kr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await m2(this),i=new p2(e);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new du("auth","Firebase",e())}onAuthStateChanged(e,i,a){return this.registerStateListener(this.authStateSubscription,e,i,a)}beforeAuthStateChanged(e,i){return this.beforeStateQueue.pushCallback(e,i)}onIdTokenChanged(e,i,a){return this.registerStateListener(this.idTokenSubscription,e,i,a)}authStateReady(){return new Promise((e,i)=>{if(this.currentUser)e();else{const a=this.onAuthStateChanged(()=>{a(),e()},i)}})}async revokeAccessToken(e){if(this.currentUser){const i=await this.currentUser.getIdToken(),a={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:i};this.tenantId!=null&&(a.tenantId=this.tenantId),await c2(this,a)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,i){const a=await this.getOrInitRedirectPersistenceManager(i);return e===null?a.removeCurrentUser():a.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const i=e&&kr(e)||this._popupRedirectResolver;Se(i,this,"argument-error"),this.redirectPersistenceManager=await Vo.create(this,[kr(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,i,a,l){if(this._deleted)return()=>{};const c=typeof i=="function"?i:i.next.bind(i);let d=!1;const p=this._isInitialized?Promise.resolve():this._initializationPromise;if(Se(p,this,"internal-error"),p.then(()=>{d||c(this.currentUser)}),typeof i=="function"){const y=e.addObserver(i,a,l);return()=>{d=!0,y()}}else{const y=e.addObserver(i);return()=>{d=!0,y()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Se(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=I1(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const i=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();i&&(e["X-Firebase-Client"]=i);const a=await this._getAppCheckToken();return a&&(e["X-Firebase-AppCheck"]=a),e}async _getAppCheckToken(){if(bi(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&XA(`Error while retrieving App Check token: ${e.error}`),e?.token}}function yu(r){return dn(r)}class A0{constructor(e){this.auth=e,this.observer=null,this.addObserver=kS(i=>this.observer=i)}get next(){return Se(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let $m={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function _2(r){$m=r}function v2(r){return $m.loadJS(r)}function E2(){return $m.gapiScript}function T2(r){return`__${r}${Math.floor(Math.random()*1e6)}`}function b2(r,e){const i=Fm(r,"auth");if(i.isInitialized()){const l=i.getImmediate(),c=i.getOptions();if(Oa(c,e??{}))return l;Pr(l,"already-initialized")}return i.initialize({options:e})}function S2(r,e){const i=e?.persistence||[],a=(Array.isArray(i)?i:[i]).map(kr);e?.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(a,e?.popupRedirectResolver)}function A2(r,e,i){const a=yu(r);Se(/^https?:\/\//.test(e),a,"invalid-emulator-scheme");const l=!1,c=C1(e),{host:d,port:p}=w2(e),y=p===null?"":`:${p}`,_={url:`${c}//${d}${y}/`},b=Object.freeze({host:d,port:p,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!a._canInitEmulator){Se(a.config.emulator&&a.emulatorConfig,a,"emulator-config-failed"),Se(Oa(_,a.config.emulator)&&Oa(b,a.emulatorConfig),a,"emulator-config-failed");return}a.config.emulator=_,a.emulatorConfig=b,a.settings.appVerificationDisabledForTesting=!0,Qo(d)?(i1(`${c}//${d}${y}`),r1("Auth",!0)):R2()}function C1(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function w2(r){const e=C1(r),i=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!i)return{host:"",port:null};const a=i[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(a);if(l){const c=l[1];return{host:c,port:w0(a.substr(c.length+1))}}else{const[c,d]=a.split(":");return{host:c,port:w0(d)}}}function w0(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function R2(){function r(){const e=document.createElement("p"),i=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}class N1{constructor(e,i){this.providerId=e,this.signInMethod=i}toJSON(){return Vr("not implemented")}_getIdTokenResponse(e){return Vr("not implemented")}_linkToIdToken(e,i){return Vr("not implemented")}_getReauthenticationResolver(e){return Vr("not implemented")}}async function ko(r,e){return Ym(r,"POST","/v1/accounts:signInWithIdp",pu(r,e))}const I2="http://localhost";class ka extends N1{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const i=new ka(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(i.idToken=e.idToken),e.accessToken&&(i.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(i.nonce=e.nonce),e.pendingToken&&(i.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(i.accessToken=e.oauthToken,i.secret=e.oauthTokenSecret):Pr("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const i=typeof e=="string"?JSON.parse(e):e,{providerId:a,signInMethod:l,...c}=i;if(!a||!l)return null;const d=new ka(a,l);return d.idToken=c.idToken||void 0,d.accessToken=c.accessToken||void 0,d.secret=c.secret,d.nonce=c.nonce,d.pendingToken=c.pendingToken||null,d}_getIdTokenResponse(e){const i=this.buildRequest();return ko(e,i)}_linkToIdToken(e,i){const a=this.buildRequest();return a.idToken=i,ko(e,a)}_getReauthenticationResolver(e){const i=this.buildRequest();return i.autoCreate=!1,ko(e,i)}buildRequest(){const e={requestUri:I2,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),e.postBody=mu(i)}return e}}class x1{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class _u extends x1{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class ws extends _u{constructor(){super("facebook.com")}static credential(e){return ka._fromParams({providerId:ws.PROVIDER_ID,signInMethod:ws.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ws.credentialFromTaggedObject(e)}static credentialFromError(e){return ws.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ws.credential(e.oauthAccessToken)}catch{return null}}}ws.FACEBOOK_SIGN_IN_METHOD="facebook.com";ws.PROVIDER_ID="facebook.com";class Rs extends _u{constructor(){super("google.com"),this.addScope("profile")}static credential(e,i){return ka._fromParams({providerId:Rs.PROVIDER_ID,signInMethod:Rs.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:i})}static credentialFromResult(e){return Rs.credentialFromTaggedObject(e)}static credentialFromError(e){return Rs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:i,oauthAccessToken:a}=e;if(!i&&!a)return null;try{return Rs.credential(i,a)}catch{return null}}}Rs.GOOGLE_SIGN_IN_METHOD="google.com";Rs.PROVIDER_ID="google.com";class Is extends _u{constructor(){super("github.com")}static credential(e){return ka._fromParams({providerId:Is.PROVIDER_ID,signInMethod:Is.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Is.credentialFromTaggedObject(e)}static credentialFromError(e){return Is.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Is.credential(e.oauthAccessToken)}catch{return null}}}Is.GITHUB_SIGN_IN_METHOD="github.com";Is.PROVIDER_ID="github.com";class Cs extends _u{constructor(){super("twitter.com")}static credential(e,i){return ka._fromParams({providerId:Cs.PROVIDER_ID,signInMethod:Cs.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:i})}static credentialFromResult(e){return Cs.credentialFromTaggedObject(e)}static credentialFromError(e){return Cs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:i,oauthTokenSecret:a}=e;if(!i||!a)return null;try{return Cs.credential(i,a)}catch{return null}}}Cs.TWITTER_SIGN_IN_METHOD="twitter.com";Cs.PROVIDER_ID="twitter.com";async function C2(r,e){return Ym(r,"POST","/v1/accounts:signUp",pu(r,e))}class jr{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,i,a,l=!1){const c=await Vi._fromIdTokenResponse(e,a,l),d=R0(a);return new jr({user:c,providerId:d,_tokenResponse:a,operationType:i})}static async _forOperation(e,i,a){await e._updateTokensIfNecessary(a,!0);const l=R0(a);return new jr({user:e,providerId:l,_tokenResponse:a,operationType:i})}}function R0(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}async function I0(r){if(bi(r.app))return Promise.reject(Ur(r));const e=yu(r);if(await e._initializationPromise,e.currentUser?.isAnonymous)return new jr({user:e.currentUser,providerId:null,operationType:"signIn"});const i=await C2(e,{returnSecureToken:!0}),a=await jr._fromIdTokenResponse(e,"signIn",i,!0);return await e._updateCurrentUser(a.user),a}class fh extends Hr{constructor(e,i,a,l){super(i.code,i.message),this.operationType=a,this.user=l,Object.setPrototypeOf(this,fh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:a}}static _fromErrorAndOperation(e,i,a,l){return new fh(e,i,a,l)}}function D1(r,e,i,a){return(e==="reauthenticate"?i._getReauthenticationResolver(r):i._getIdTokenResponse(r)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?fh._fromErrorAndOperation(r,c,e,a):c})}async function N2(r,e,i=!1){const a=await ru(r,e._linkToIdToken(r.auth,await r.getIdToken()),i);return jr._forOperation(r,"link",a)}async function x2(r,e,i=!1){const{auth:a}=r;if(bi(a.app))return Promise.reject(Ur(a));const l="reauthenticate";try{const c=await ru(r,D1(a,l,e,r),i);Se(c.idToken,a,"internal-error");const d=Km(c.idToken);Se(d,a,"internal-error");const{sub:p}=d;return Se(r.uid===p,a,"user-mismatch"),jr._forOperation(r,l,c)}catch(c){throw c?.code==="auth/user-not-found"&&Pr(a,"user-mismatch"),c}}async function D2(r,e,i=!1){if(bi(r.app))return Promise.reject(Ur(r));const a="signIn",l=await D1(r,a,e),c=await jr._fromIdTokenResponse(r,a,l);return i||await r._updateCurrentUser(c.user),c}async function M2(r,e){return Ym(r,"POST","/v1/accounts:signInWithCustomToken",pu(r,e))}async function O2(r,e){if(bi(r.app))return Promise.reject(Ur(r));const i=yu(r),a=await M2(i,{token:e,returnSecureToken:!0}),l=await jr._fromIdTokenResponse(i,"signIn",a);return await i._updateCurrentUser(l.user),l}function V2(r,e,i,a){return dn(r).onIdTokenChanged(e,i,a)}function k2(r,e,i){return dn(r).beforeAuthStateChanged(e,i)}function U2(r,e,i,a){return dn(r).onAuthStateChanged(e,i,a)}const dh="__sak";class M1{constructor(e,i){this.storageRetriever=e,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(dh,"1"),this.storage.removeItem(dh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,i){return this.storage.setItem(e,JSON.stringify(i)),Promise.resolve()}_get(e){const i=this.storage.getItem(e);return Promise.resolve(i?JSON.parse(i):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const L2=1e3,P2=10;class O1 extends M1{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,i)=>this.onStorageEvent(e,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=R1(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const i of Object.keys(this.listeners)){const a=this.storage.getItem(i),l=this.localCache[i];a!==l&&e(i,l,a)}}onStorageEvent(e,i=!1){if(!e.key){this.forAllChangedKeys((d,p,y)=>{this.notifyListeners(d,y)});return}const a=e.key;i?this.detachListener():this.stopPolling();const l=()=>{const d=this.storage.getItem(a);!i&&this.localCache[a]===d||this.notifyListeners(a,d)},c=this.storage.getItem(a);f2()&&c!==e.newValue&&e.newValue!==e.oldValue?setTimeout(l,P2):l()}notifyListeners(e,i){this.localCache[e]=i;const a=this.listeners[e];if(a)for(const l of Array.from(a))l(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,i,a)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:i,newValue:a}),!0)})},L2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,i){await super._set(e,i),this.localCache[e]=JSON.stringify(i)}async _get(e){const i=await super._get(e);return this.localCache[e]=JSON.stringify(i),i}async _remove(e){await super._remove(e),delete this.localCache[e]}}O1.type="LOCAL";const z2=O1;class V1 extends M1{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,i){}_removeListener(e,i){}}V1.type="SESSION";const k1=V1;function j2(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(i){return{fulfilled:!1,reason:i}}}))}class Nh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const i=this.receivers.find(l=>l.isListeningto(e));if(i)return i;const a=new Nh(e);return this.receivers.push(a),a}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const i=e,{eventId:a,eventType:l,data:c}=i.data,d=this.handlersMap[l];if(!d?.size)return;i.ports[0].postMessage({status:"ack",eventId:a,eventType:l});const p=Array.from(d).map(async _=>_(i.origin,c)),y=await j2(p);i.ports[0].postMessage({status:"done",eventId:a,eventType:l,response:y})}_subscribe(e,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(i)}_unsubscribe(e,i){this.handlersMap[e]&&i&&this.handlersMap[e].delete(i),(!i||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Nh.receivers=[];function Jm(r="",e=10){let i="";for(let a=0;a<e;a++)i+=Math.floor(Math.random()*10);return r+i}class B2{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,i,a=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let c,d;return new Promise((p,y)=>{const _=Jm("",20);l.port1.start();const b=setTimeout(()=>{y(new Error("unsupported_event"))},a);d={messageChannel:l,onMessage(A){const V=A;if(V.data.eventId===_)switch(V.data.status){case"ack":clearTimeout(b),c=setTimeout(()=>{y(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),p(V.data.response);break;default:clearTimeout(b),clearTimeout(c),y(new Error("invalid_response"));break}}},this.handlers.add(d),l.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:e,eventId:_,data:i},[l.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}function nr(){return window}function q2(r){nr().location.href=r}function U1(){return typeof nr().WorkerGlobalScope<"u"&&typeof nr().importScripts=="function"}async function H2(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function F2(){return navigator?.serviceWorker?.controller||null}function G2(){return U1()?self:null}const L1="firebaseLocalStorageDb",Q2=1,mh="firebaseLocalStorage",P1="fbase_key";class vu{constructor(e){this.request=e}toPromise(){return new Promise((e,i)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function xh(r,e){return r.transaction([mh],e?"readwrite":"readonly").objectStore(mh)}function Y2(){const r=indexedDB.deleteDatabase(L1);return new vu(r).toPromise()}function _m(){const r=indexedDB.open(L1,Q2);return new Promise((e,i)=>{r.addEventListener("error",()=>{i(r.error)}),r.addEventListener("upgradeneeded",()=>{const a=r.result;try{a.createObjectStore(mh,{keyPath:P1})}catch(l){i(l)}}),r.addEventListener("success",async()=>{const a=r.result;a.objectStoreNames.contains(mh)?e(a):(a.close(),await Y2(),e(await _m()))})})}async function C0(r,e,i){const a=xh(r,!0).put({[P1]:e,value:i});return new vu(a).toPromise()}async function K2(r,e){const i=xh(r,!1).get(e),a=await new vu(i).toPromise();return a===void 0?null:a.value}function N0(r,e){const i=xh(r,!0).delete(e);return new vu(i).toPromise()}const X2=800,$2=3;class z1{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await _m(),this.db)}async _withRetries(e){let i=0;for(;;)try{const a=await this._openDb();return await e(a)}catch(a){if(i++>$2)throw a;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return U1()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Nh._getInstance(G2()),this.receiver._subscribe("keyChanged",async(e,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(e,i)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await H2(),!this.activeServiceWorker)return;this.sender=new B2(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||F2()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await _m();return await C0(e,dh,"1"),await N0(e,dh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,i){return this._withPendingWrite(async()=>(await this._withRetries(a=>C0(a,e,i)),this.localCache[e]=i,this.notifyServiceWorker(e)))}async _get(e){const i=await this._withRetries(a=>K2(a,e));return this.localCache[e]=i,i}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(i=>N0(i,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(l=>{const c=xh(l,!1).getAll();return new vu(c).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const i=[],a=new Set;if(e.length!==0)for(const{fbase_key:l,value:c}of e)a.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(c)&&(this.notifyListeners(l,c),i.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!a.has(l)&&(this.notifyListeners(l,null),i.push(l));return i}notifyListeners(e,i){this.localCache[e]=i;const a=this.listeners[e];if(a)for(const l of Array.from(a))l(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),X2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}z1.type="LOCAL";const J2=z1;new gu(3e4,6e4);function Z2(r,e){return e?kr(e):(Se(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}class Zm extends N1{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ko(e,this._buildIdpRequest())}_linkToIdToken(e,i){return ko(e,this._buildIdpRequest(i))}_getReauthenticationResolver(e){return ko(e,this._buildIdpRequest())}_buildIdpRequest(e){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(i.idToken=e),i}}function W2(r){return D2(r.auth,new Zm(r),r.bypassAuthState)}function ew(r){const{auth:e,user:i}=r;return Se(i,e,"internal-error"),x2(i,new Zm(r),r.bypassAuthState)}async function tw(r){const{auth:e,user:i}=r;return Se(i,e,"internal-error"),N2(i,new Zm(r),r.bypassAuthState)}class j1{constructor(e,i,a,l,c=!1){this.auth=e,this.resolver=a,this.user=l,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(e,i)=>{this.pendingPromise={resolve:e,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(a){this.reject(a)}})}async onAuthEvent(e){const{urlResponse:i,sessionId:a,postBody:l,tenantId:c,error:d,type:p}=e;if(d){this.reject(d);return}const y={auth:this.auth,requestUri:i,sessionId:a,tenantId:c||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(p)(y))}catch(_){this.reject(_)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return W2;case"linkViaPopup":case"linkViaRedirect":return tw;case"reauthViaPopup":case"reauthViaRedirect":return ew;default:Pr(this.auth,"internal-error")}}resolve(e){zr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){zr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const nw=new gu(2e3,1e4);class Mo extends j1{constructor(e,i,a,l,c){super(e,i,l,c),this.provider=a,this.authWindow=null,this.pollId=null,Mo.currentPopupAction&&Mo.currentPopupAction.cancel(),Mo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Se(e,this.auth,"internal-error"),e}async onExecution(){zr(this.filter.length===1,"Popup operations only handle one event");const e=Jm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(tr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(tr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Mo.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(tr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,nw.get())};e()}}Mo.currentPopupAction=null;const iw="pendingRedirect",Zc=new Map;class rw extends j1{constructor(e,i,a=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,a),this.eventId=null}async execute(){let e=Zc.get(this.auth._key());if(!e){try{const a=await sw(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(a)}catch(i){e=()=>Promise.reject(i)}Zc.set(this.auth._key(),e)}return this.bypassAuthState||Zc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const i=await this.auth._redirectUserForId(e.eventId);if(i)return this.user=i,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function sw(r,e){const i=lw(e),a=ow(r);if(!await a._isAvailable())return!1;const l=await a._get(i)==="true";return await a._remove(i),l}function aw(r,e){Zc.set(r._key(),e)}function ow(r){return kr(r._redirectPersistence)}function lw(r){return Jc(iw,r.config.apiKey,r.name)}async function uw(r,e,i=!1){if(bi(r.app))return Promise.reject(Ur(r));const a=yu(r),l=Z2(a,e),d=await new rw(a,l,i).execute();return d&&!i&&(delete d.user._redirectEventId,await a._persistUserIfCurrent(d.user),await a._setRedirectUser(null,e)),d}const cw=600*1e3;class hw{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let i=!1;return this.consumers.forEach(a=>{this.isEventForConsumer(e,a)&&(i=!0,this.sendToConsumer(e,a),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!fw(e)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=e,i=!0)),i}sendToConsumer(e,i){if(e.error&&!B1(e)){const a=e.error.code?.split("auth/")[1]||"internal-error";i.onError(tr(this.auth,a))}else i.onAuthEvent(e)}isEventForConsumer(e,i){const a=i.eventId===null||!!e.eventId&&e.eventId===i.eventId;return i.filter.includes(e.type)&&a}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=cw&&this.cachedEventUids.clear(),this.cachedEventUids.has(x0(e))}saveEventToCache(e){this.cachedEventUids.add(x0(e)),this.lastProcessedEventTime=Date.now()}}function x0(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function B1({type:r,error:e}){return r==="unknown"&&e?.code==="auth/no-auth-event"}function fw(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return B1(r);default:return!1}}async function dw(r,e={}){return Ko(r,"GET","/v1/projects",e)}const mw=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,gw=/^https?/;async function pw(r){if(r.config.emulator)return;const{authorizedDomains:e}=await dw(r);for(const i of e)try{if(yw(i))return}catch{}Pr(r,"unauthorized-domain")}function yw(r){const e=pm(),{protocol:i,hostname:a}=new URL(e);if(r.startsWith("chrome-extension://")){const d=new URL(r);return d.hostname===""&&a===""?i==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):i==="chrome-extension:"&&d.hostname===a}if(!gw.test(i))return!1;if(mw.test(r))return a===r;const l=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(a)}const _w=new gu(3e4,6e4);function D0(){const r=nr().___jsl;if(r?.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let i=0;i<r.CP.length;i++)r.CP[i]=null}}function vw(r){return new Promise((e,i)=>{function a(){D0(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{D0(),i(tr(r,"network-request-failed"))},timeout:_w.get()})}if(nr().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(nr().gapi?.load)a();else{const l=T2("iframefcb");return nr()[l]=()=>{gapi.load?a():i(tr(r,"network-request-failed"))},v2(`${E2()}?onload=${l}`).catch(c=>i(c))}}).catch(e=>{throw Wc=null,e})}let Wc=null;function Ew(r){return Wc=Wc||vw(r),Wc}const Tw=new gu(5e3,15e3),bw="__/auth/iframe",Sw="emulator/auth/iframe",Aw={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},ww=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Rw(r){const e=r.config;Se(e.authDomain,r,"auth-domain-config-required");const i=e.emulator?Qm(e,Sw):`https://${r.config.authDomain}/${bw}`,a={apiKey:e.apiKey,appName:r.name,v:Yo},l=ww.get(r.config.apiHost);l&&(a.eid=l);const c=r._getFrameworks();return c.length&&(a.fw=c.join(",")),`${i}?${mu(a).slice(1)}`}async function Iw(r){const e=await Ew(r),i=nr().gapi;return Se(i,r,"internal-error"),e.open({where:document.body,url:Rw(r),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Aw,dontclear:!0},a=>new Promise(async(l,c)=>{await a.restyle({setHideOnLeave:!1});const d=tr(r,"network-request-failed"),p=nr().setTimeout(()=>{c(d)},Tw.get());function y(){nr().clearTimeout(p),l(a)}a.ping(y).then(y,()=>{c(d)})}))}const Cw={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Nw=500,xw=600,Dw="_blank",Mw="http://localhost";class M0{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Ow(r,e,i,a=Nw,l=xw){const c=Math.max((window.screen.availHeight-l)/2,0).toString(),d=Math.max((window.screen.availWidth-a)/2,0).toString();let p="";const y={...Cw,width:a.toString(),height:l.toString(),top:c,left:d},_=An().toLowerCase();i&&(p=T1(_)?Dw:i),v1(_)&&(e=e||Mw,y.scrollbars="yes");const b=Object.entries(y).reduce((V,[Y,te])=>`${V}${Y}=${te},`,"");if(h2(_)&&p!=="_self")return Vw(e||"",p),new M0(null);const A=window.open(e||"",p,b);Se(A,r,"popup-blocked");try{A.focus()}catch{}return new M0(A)}function Vw(r,e){const i=document.createElement("a");i.href=r,i.target=e;const a=document.createEvent("MouseEvent");a.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(a)}const kw="__/auth/handler",Uw="emulator/auth/handler",Lw=encodeURIComponent("fac");async function O0(r,e,i,a,l,c){Se(r.config.authDomain,r,"auth-domain-config-required"),Se(r.config.apiKey,r,"invalid-api-key");const d={apiKey:r.config.apiKey,appName:r.name,authType:i,redirectUrl:a,v:Yo,eventId:l};if(e instanceof x1){e.setDefaultLanguage(r.languageCode),d.providerId=e.providerId||"",VS(e.getCustomParameters())||(d.customParameters=JSON.stringify(e.getCustomParameters()));for(const[b,A]of Object.entries({}))d[b]=A}if(e instanceof _u){const b=e.getScopes().filter(A=>A!=="");b.length>0&&(d.scopes=b.join(","))}r.tenantId&&(d.tid=r.tenantId);const p=d;for(const b of Object.keys(p))p[b]===void 0&&delete p[b];const y=await r._getAppCheckToken(),_=y?`#${Lw}=${encodeURIComponent(y)}`:"";return`${Pw(r)}?${mu(p).slice(1)}${_}`}function Pw({config:r}){return r.emulator?Qm(r,Uw):`https://${r.authDomain}/${kw}`}const tm="webStorageSupport";class zw{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=k1,this._completeRedirectFn=uw,this._overrideRedirectResult=aw}async _openPopup(e,i,a,l){zr(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const c=await O0(e,i,a,pm(),l);return Ow(e,c,Jm())}async _openRedirect(e,i,a,l){await this._originValidation(e);const c=await O0(e,i,a,pm(),l);return q2(c),new Promise(()=>{})}_initialize(e){const i=e._key();if(this.eventManagers[i]){const{manager:l,promise:c}=this.eventManagers[i];return l?Promise.resolve(l):(zr(c,"If manager is not set, promise should be"),c)}const a=this.initAndGetManager(e);return this.eventManagers[i]={promise:a},a.catch(()=>{delete this.eventManagers[i]}),a}async initAndGetManager(e){const i=await Iw(e),a=new hw(e);return i.register("authEvent",l=>(Se(l?.authEvent,e,"invalid-auth-event"),{status:a.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:a},this.iframes[e._key()]=i,a}_isIframeWebStorageSupported(e,i){this.iframes[e._key()].send(tm,{type:tm},l=>{const c=l?.[0]?.[tm];c!==void 0&&i(!!c),Pr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const i=e._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=pw(e)),this.originValidationPromises[i]}get _shouldInitProactively(){return R1()||E1()||Xm()}}const jw=zw;var V0="@firebase/auth",k0="1.11.1";class Bw{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const i=this.auth.onIdTokenChanged(a=>{e(a?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,i),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const i=this.internalListeners.get(e);i&&(this.internalListeners.delete(e),i(),this.updateProactiveRefresh())}assertAuthConfigured(){Se(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function qw(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Hw(r){zo(new Va("auth",(e,{options:i})=>{const a=e.getProvider("app").getImmediate(),l=e.getProvider("heartbeat"),c=e.getProvider("app-check-internal"),{apiKey:d,authDomain:p}=a.options;Se(d&&!d.includes(":"),"invalid-api-key",{appName:a.name});const y={apiKey:d,authDomain:p,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:I1(r)},_=new y2(a,l,c,y);return S2(_,i),_},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,i,a)=>{e.getProvider("auth-internal").initialize()})),zo(new Va("auth-internal",e=>{const i=yu(e.getProvider("auth").getImmediate());return(a=>new Bw(a))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ms(V0,k0,qw(r)),Ms(V0,k0,"esm2020")}const Fw=300,Gw=n1("authIdTokenMaxAge")||Fw;let U0=null;const Qw=r=>async e=>{const i=e&&await e.getIdTokenResult(),a=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(a&&a>Gw)return;const l=i?.token;U0!==l&&(U0=l,await fetch(r,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function Yw(r=l1()){const e=Fm(r,"auth");if(e.isInitialized())return e.getImmediate();const i=b2(r,{popupRedirectResolver:jw,persistence:[J2,z2,k1]}),a=n1("authTokenSyncURL");if(a&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(a,location.origin);if(location.origin===c.origin){const d=Qw(c.toString());k2(i,d,()=>d(i.currentUser)),V2(i,p=>d(p))}}const l=e1("auth");return l&&A2(i,`http://${l}`),i}function Kw(){return document.getElementsByTagName("head")?.[0]??document}_2({loadJS(r){return new Promise((e,i)=>{const a=document.createElement("script");a.setAttribute("src",r),a.onload=e,a.onerror=l=>{const c=tr("internal-error");c.customData=l,i(c)},a.type="text/javascript",a.charset="UTF-8",Kw().appendChild(a)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Hw("Browser");var L0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Os,q1;(function(){var r;function e(N,w){function C(){}C.prototype=w.prototype,N.F=w.prototype,N.prototype=new C,N.prototype.constructor=N,N.D=function(k,D,L){for(var R=Array(arguments.length-2),rt=2;rt<arguments.length;rt++)R[rt-2]=arguments[rt];return w.prototype[D].apply(k,R)}}function i(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(a,i),a.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(N,w,C){C||(C=0);const k=Array(16);if(typeof w=="string")for(var D=0;D<16;++D)k[D]=w.charCodeAt(C++)|w.charCodeAt(C++)<<8|w.charCodeAt(C++)<<16|w.charCodeAt(C++)<<24;else for(D=0;D<16;++D)k[D]=w[C++]|w[C++]<<8|w[C++]<<16|w[C++]<<24;w=N.g[0],C=N.g[1],D=N.g[2];let L=N.g[3],R;R=w+(L^C&(D^L))+k[0]+3614090360&4294967295,w=C+(R<<7&4294967295|R>>>25),R=L+(D^w&(C^D))+k[1]+3905402710&4294967295,L=w+(R<<12&4294967295|R>>>20),R=D+(C^L&(w^C))+k[2]+606105819&4294967295,D=L+(R<<17&4294967295|R>>>15),R=C+(w^D&(L^w))+k[3]+3250441966&4294967295,C=D+(R<<22&4294967295|R>>>10),R=w+(L^C&(D^L))+k[4]+4118548399&4294967295,w=C+(R<<7&4294967295|R>>>25),R=L+(D^w&(C^D))+k[5]+1200080426&4294967295,L=w+(R<<12&4294967295|R>>>20),R=D+(C^L&(w^C))+k[6]+2821735955&4294967295,D=L+(R<<17&4294967295|R>>>15),R=C+(w^D&(L^w))+k[7]+4249261313&4294967295,C=D+(R<<22&4294967295|R>>>10),R=w+(L^C&(D^L))+k[8]+1770035416&4294967295,w=C+(R<<7&4294967295|R>>>25),R=L+(D^w&(C^D))+k[9]+2336552879&4294967295,L=w+(R<<12&4294967295|R>>>20),R=D+(C^L&(w^C))+k[10]+4294925233&4294967295,D=L+(R<<17&4294967295|R>>>15),R=C+(w^D&(L^w))+k[11]+2304563134&4294967295,C=D+(R<<22&4294967295|R>>>10),R=w+(L^C&(D^L))+k[12]+1804603682&4294967295,w=C+(R<<7&4294967295|R>>>25),R=L+(D^w&(C^D))+k[13]+4254626195&4294967295,L=w+(R<<12&4294967295|R>>>20),R=D+(C^L&(w^C))+k[14]+2792965006&4294967295,D=L+(R<<17&4294967295|R>>>15),R=C+(w^D&(L^w))+k[15]+1236535329&4294967295,C=D+(R<<22&4294967295|R>>>10),R=w+(D^L&(C^D))+k[1]+4129170786&4294967295,w=C+(R<<5&4294967295|R>>>27),R=L+(C^D&(w^C))+k[6]+3225465664&4294967295,L=w+(R<<9&4294967295|R>>>23),R=D+(w^C&(L^w))+k[11]+643717713&4294967295,D=L+(R<<14&4294967295|R>>>18),R=C+(L^w&(D^L))+k[0]+3921069994&4294967295,C=D+(R<<20&4294967295|R>>>12),R=w+(D^L&(C^D))+k[5]+3593408605&4294967295,w=C+(R<<5&4294967295|R>>>27),R=L+(C^D&(w^C))+k[10]+38016083&4294967295,L=w+(R<<9&4294967295|R>>>23),R=D+(w^C&(L^w))+k[15]+3634488961&4294967295,D=L+(R<<14&4294967295|R>>>18),R=C+(L^w&(D^L))+k[4]+3889429448&4294967295,C=D+(R<<20&4294967295|R>>>12),R=w+(D^L&(C^D))+k[9]+568446438&4294967295,w=C+(R<<5&4294967295|R>>>27),R=L+(C^D&(w^C))+k[14]+3275163606&4294967295,L=w+(R<<9&4294967295|R>>>23),R=D+(w^C&(L^w))+k[3]+4107603335&4294967295,D=L+(R<<14&4294967295|R>>>18),R=C+(L^w&(D^L))+k[8]+1163531501&4294967295,C=D+(R<<20&4294967295|R>>>12),R=w+(D^L&(C^D))+k[13]+2850285829&4294967295,w=C+(R<<5&4294967295|R>>>27),R=L+(C^D&(w^C))+k[2]+4243563512&4294967295,L=w+(R<<9&4294967295|R>>>23),R=D+(w^C&(L^w))+k[7]+1735328473&4294967295,D=L+(R<<14&4294967295|R>>>18),R=C+(L^w&(D^L))+k[12]+2368359562&4294967295,C=D+(R<<20&4294967295|R>>>12),R=w+(C^D^L)+k[5]+4294588738&4294967295,w=C+(R<<4&4294967295|R>>>28),R=L+(w^C^D)+k[8]+2272392833&4294967295,L=w+(R<<11&4294967295|R>>>21),R=D+(L^w^C)+k[11]+1839030562&4294967295,D=L+(R<<16&4294967295|R>>>16),R=C+(D^L^w)+k[14]+4259657740&4294967295,C=D+(R<<23&4294967295|R>>>9),R=w+(C^D^L)+k[1]+2763975236&4294967295,w=C+(R<<4&4294967295|R>>>28),R=L+(w^C^D)+k[4]+1272893353&4294967295,L=w+(R<<11&4294967295|R>>>21),R=D+(L^w^C)+k[7]+4139469664&4294967295,D=L+(R<<16&4294967295|R>>>16),R=C+(D^L^w)+k[10]+3200236656&4294967295,C=D+(R<<23&4294967295|R>>>9),R=w+(C^D^L)+k[13]+681279174&4294967295,w=C+(R<<4&4294967295|R>>>28),R=L+(w^C^D)+k[0]+3936430074&4294967295,L=w+(R<<11&4294967295|R>>>21),R=D+(L^w^C)+k[3]+3572445317&4294967295,D=L+(R<<16&4294967295|R>>>16),R=C+(D^L^w)+k[6]+76029189&4294967295,C=D+(R<<23&4294967295|R>>>9),R=w+(C^D^L)+k[9]+3654602809&4294967295,w=C+(R<<4&4294967295|R>>>28),R=L+(w^C^D)+k[12]+3873151461&4294967295,L=w+(R<<11&4294967295|R>>>21),R=D+(L^w^C)+k[15]+530742520&4294967295,D=L+(R<<16&4294967295|R>>>16),R=C+(D^L^w)+k[2]+3299628645&4294967295,C=D+(R<<23&4294967295|R>>>9),R=w+(D^(C|~L))+k[0]+4096336452&4294967295,w=C+(R<<6&4294967295|R>>>26),R=L+(C^(w|~D))+k[7]+1126891415&4294967295,L=w+(R<<10&4294967295|R>>>22),R=D+(w^(L|~C))+k[14]+2878612391&4294967295,D=L+(R<<15&4294967295|R>>>17),R=C+(L^(D|~w))+k[5]+4237533241&4294967295,C=D+(R<<21&4294967295|R>>>11),R=w+(D^(C|~L))+k[12]+1700485571&4294967295,w=C+(R<<6&4294967295|R>>>26),R=L+(C^(w|~D))+k[3]+2399980690&4294967295,L=w+(R<<10&4294967295|R>>>22),R=D+(w^(L|~C))+k[10]+4293915773&4294967295,D=L+(R<<15&4294967295|R>>>17),R=C+(L^(D|~w))+k[1]+2240044497&4294967295,C=D+(R<<21&4294967295|R>>>11),R=w+(D^(C|~L))+k[8]+1873313359&4294967295,w=C+(R<<6&4294967295|R>>>26),R=L+(C^(w|~D))+k[15]+4264355552&4294967295,L=w+(R<<10&4294967295|R>>>22),R=D+(w^(L|~C))+k[6]+2734768916&4294967295,D=L+(R<<15&4294967295|R>>>17),R=C+(L^(D|~w))+k[13]+1309151649&4294967295,C=D+(R<<21&4294967295|R>>>11),R=w+(D^(C|~L))+k[4]+4149444226&4294967295,w=C+(R<<6&4294967295|R>>>26),R=L+(C^(w|~D))+k[11]+3174756917&4294967295,L=w+(R<<10&4294967295|R>>>22),R=D+(w^(L|~C))+k[2]+718787259&4294967295,D=L+(R<<15&4294967295|R>>>17),R=C+(L^(D|~w))+k[9]+3951481745&4294967295,N.g[0]=N.g[0]+w&4294967295,N.g[1]=N.g[1]+(D+(R<<21&4294967295|R>>>11))&4294967295,N.g[2]=N.g[2]+D&4294967295,N.g[3]=N.g[3]+L&4294967295}a.prototype.v=function(N,w){w===void 0&&(w=N.length);const C=w-this.blockSize,k=this.C;let D=this.h,L=0;for(;L<w;){if(D==0)for(;L<=C;)l(this,N,L),L+=this.blockSize;if(typeof N=="string"){for(;L<w;)if(k[D++]=N.charCodeAt(L++),D==this.blockSize){l(this,k),D=0;break}}else for(;L<w;)if(k[D++]=N[L++],D==this.blockSize){l(this,k),D=0;break}}this.h=D,this.o+=w},a.prototype.A=function(){var N=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);N[0]=128;for(var w=1;w<N.length-8;++w)N[w]=0;w=this.o*8;for(var C=N.length-8;C<N.length;++C)N[C]=w&255,w/=256;for(this.v(N),N=Array(16),w=0,C=0;C<4;++C)for(let k=0;k<32;k+=8)N[w++]=this.g[C]>>>k&255;return N};function c(N,w){var C=p;return Object.prototype.hasOwnProperty.call(C,N)?C[N]:C[N]=w(N)}function d(N,w){this.h=w;const C=[];let k=!0;for(let D=N.length-1;D>=0;D--){const L=N[D]|0;k&&L==w||(C[D]=L,k=!1)}this.g=C}var p={};function y(N){return-128<=N&&N<128?c(N,function(w){return new d([w|0],w<0?-1:0)}):new d([N|0],N<0?-1:0)}function _(N){if(isNaN(N)||!isFinite(N))return A;if(N<0)return ne(_(-N));const w=[];let C=1;for(let k=0;N>=C;k++)w[k]=N/C|0,C*=4294967296;return new d(w,0)}function b(N,w){if(N.length==0)throw Error("number format error: empty string");if(w=w||10,w<2||36<w)throw Error("radix out of range: "+w);if(N.charAt(0)=="-")return ne(b(N.substring(1),w));if(N.indexOf("-")>=0)throw Error('number format error: interior "-" character');const C=_(Math.pow(w,8));let k=A;for(let L=0;L<N.length;L+=8){var D=Math.min(8,N.length-L);const R=parseInt(N.substring(L,L+D),w);D<8?(D=_(Math.pow(w,D)),k=k.j(D).add(_(R))):(k=k.j(C),k=k.add(_(R)))}return k}var A=y(0),V=y(1),Y=y(16777216);r=d.prototype,r.m=function(){if(ie(this))return-ne(this).m();let N=0,w=1;for(let C=0;C<this.g.length;C++){const k=this.i(C);N+=(k>=0?k:4294967296+k)*w,w*=4294967296}return N},r.toString=function(N){if(N=N||10,N<2||36<N)throw Error("radix out of range: "+N);if(te(this))return"0";if(ie(this))return"-"+ne(this).toString(N);const w=_(Math.pow(N,6));var C=this;let k="";for(;;){const D=Ve(C,w).g;C=de(C,D.j(w));let L=((C.g.length>0?C.g[0]:C.h)>>>0).toString(N);if(C=D,te(C))return L+k;for(;L.length<6;)L="0"+L;k=L+k}},r.i=function(N){return N<0?0:N<this.g.length?this.g[N]:this.h};function te(N){if(N.h!=0)return!1;for(let w=0;w<N.g.length;w++)if(N.g[w]!=0)return!1;return!0}function ie(N){return N.h==-1}r.l=function(N){return N=de(this,N),ie(N)?-1:te(N)?0:1};function ne(N){const w=N.g.length,C=[];for(let k=0;k<w;k++)C[k]=~N.g[k];return new d(C,~N.h).add(V)}r.abs=function(){return ie(this)?ne(this):this},r.add=function(N){const w=Math.max(this.g.length,N.g.length),C=[];let k=0;for(let D=0;D<=w;D++){let L=k+(this.i(D)&65535)+(N.i(D)&65535),R=(L>>>16)+(this.i(D)>>>16)+(N.i(D)>>>16);k=R>>>16,L&=65535,R&=65535,C[D]=R<<16|L}return new d(C,C[C.length-1]&-2147483648?-1:0)};function de(N,w){return N.add(ne(w))}r.j=function(N){if(te(this)||te(N))return A;if(ie(this))return ie(N)?ne(this).j(ne(N)):ne(ne(this).j(N));if(ie(N))return ne(this.j(ne(N)));if(this.l(Y)<0&&N.l(Y)<0)return _(this.m()*N.m());const w=this.g.length+N.g.length,C=[];for(var k=0;k<2*w;k++)C[k]=0;for(k=0;k<this.g.length;k++)for(let D=0;D<N.g.length;D++){const L=this.i(k)>>>16,R=this.i(k)&65535,rt=N.i(D)>>>16,bt=N.i(D)&65535;C[2*k+2*D]+=R*bt,we(C,2*k+2*D),C[2*k+2*D+1]+=L*bt,we(C,2*k+2*D+1),C[2*k+2*D+1]+=R*rt,we(C,2*k+2*D+1),C[2*k+2*D+2]+=L*rt,we(C,2*k+2*D+2)}for(N=0;N<w;N++)C[N]=C[2*N+1]<<16|C[2*N];for(N=w;N<2*w;N++)C[N]=0;return new d(C,0)};function we(N,w){for(;(N[w]&65535)!=N[w];)N[w+1]+=N[w]>>>16,N[w]&=65535,w++}function ve(N,w){this.g=N,this.h=w}function Ve(N,w){if(te(w))throw Error("division by zero");if(te(N))return new ve(A,A);if(ie(N))return w=Ve(ne(N),w),new ve(ne(w.g),ne(w.h));if(ie(w))return w=Ve(N,ne(w)),new ve(ne(w.g),w.h);if(N.g.length>30){if(ie(N)||ie(w))throw Error("slowDivide_ only works with positive integers.");for(var C=V,k=w;k.l(N)<=0;)C=Je(C),k=Je(k);var D=Me(C,1),L=Me(k,1);for(k=Me(k,2),C=Me(C,2);!te(k);){var R=L.add(k);R.l(N)<=0&&(D=D.add(C),L=R),k=Me(k,1),C=Me(C,1)}return w=de(N,D.j(w)),new ve(D,w)}for(D=A;N.l(w)>=0;){for(C=Math.max(1,Math.floor(N.m()/w.m())),k=Math.ceil(Math.log(C)/Math.LN2),k=k<=48?1:Math.pow(2,k-48),L=_(C),R=L.j(w);ie(R)||R.l(N)>0;)C-=k,L=_(C),R=L.j(w);te(L)&&(L=V),D=D.add(L),N=de(N,R)}return new ve(D,N)}r.B=function(N){return Ve(this,N).h},r.and=function(N){const w=Math.max(this.g.length,N.g.length),C=[];for(let k=0;k<w;k++)C[k]=this.i(k)&N.i(k);return new d(C,this.h&N.h)},r.or=function(N){const w=Math.max(this.g.length,N.g.length),C=[];for(let k=0;k<w;k++)C[k]=this.i(k)|N.i(k);return new d(C,this.h|N.h)},r.xor=function(N){const w=Math.max(this.g.length,N.g.length),C=[];for(let k=0;k<w;k++)C[k]=this.i(k)^N.i(k);return new d(C,this.h^N.h)};function Je(N){const w=N.g.length+1,C=[];for(let k=0;k<w;k++)C[k]=N.i(k)<<1|N.i(k-1)>>>31;return new d(C,N.h)}function Me(N,w){const C=w>>5;w%=32;const k=N.g.length-C,D=[];for(let L=0;L<k;L++)D[L]=w>0?N.i(L+C)>>>w|N.i(L+C+1)<<32-w:N.i(L+C);return new d(D,N.h)}a.prototype.digest=a.prototype.A,a.prototype.reset=a.prototype.u,a.prototype.update=a.prototype.v,q1=a,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=_,d.fromString=b,Os=d}).apply(typeof L0<"u"?L0:typeof self<"u"?self:typeof window<"u"?window:{});var qc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var H1,Yl,F1,eh,vm,G1,Q1,Y1;(function(){var r,e=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof qc=="object"&&qc];for(var m=0;m<u.length;++m){var v=u[m];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var a=i(this);function l(u,m){if(m)e:{var v=a;u=u.split(".");for(var T=0;T<u.length-1;T++){var z=u[T];if(!(z in v))break e;v=v[z]}u=u[u.length-1],T=v[u],m=m(T),m!=T&&m!=null&&e(v,u,{configurable:!0,writable:!0,value:m})}}l("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),l("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),l("Object.entries",function(u){return u||function(m){var v=[],T;for(T in m)Object.prototype.hasOwnProperty.call(m,T)&&v.push([T,m[T]]);return v}});var c=c||{},d=this||self;function p(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function y(u,m,v){return u.call.apply(u.bind,arguments)}function _(u,m,v){return _=y,_.apply(null,arguments)}function b(u,m){var v=Array.prototype.slice.call(arguments,1);return function(){var T=v.slice();return T.push.apply(T,arguments),u.apply(this,T)}}function A(u,m){function v(){}v.prototype=m.prototype,u.Z=m.prototype,u.prototype=new v,u.prototype.constructor=u,u.Ob=function(T,z,H){for(var se=Array(arguments.length-2),Ne=2;Ne<arguments.length;Ne++)se[Ne-2]=arguments[Ne];return m.prototype[z].apply(T,se)}}var V=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function Y(u){const m=u.length;if(m>0){const v=Array(m);for(let T=0;T<m;T++)v[T]=u[T];return v}return[]}function te(u,m){for(let T=1;T<arguments.length;T++){const z=arguments[T];var v=typeof z;if(v=v!="object"?v:z?Array.isArray(z)?"array":v:"null",v=="array"||v=="object"&&typeof z.length=="number"){v=u.length||0;const H=z.length||0;u.length=v+H;for(let se=0;se<H;se++)u[v+se]=z[se]}else u.push(z)}}class ie{constructor(m,v){this.i=m,this.j=v,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function ne(u){d.setTimeout(()=>{throw u},0)}function de(){var u=N;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class we{constructor(){this.h=this.g=null}add(m,v){const T=ve.get();T.set(m,v),this.h?this.h.next=T:this.g=T,this.h=T}}var ve=new ie(()=>new Ve,u=>u.reset());class Ve{constructor(){this.next=this.g=this.h=null}set(m,v){this.h=m,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let Je,Me=!1,N=new we,w=()=>{const u=Promise.resolve(void 0);Je=()=>{u.then(C)}};function C(){for(var u;u=de();){try{u.h.call(u.g)}catch(v){ne(v)}var m=ve;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}Me=!1}function k(){this.u=this.u,this.C=this.C}k.prototype.u=!1,k.prototype.dispose=function(){this.u||(this.u=!0,this.N())},k.prototype[Symbol.dispose]=function(){this.dispose()},k.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function D(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}D.prototype.h=function(){this.defaultPrevented=!0};var L=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const v=()=>{};d.addEventListener("test",v,m),d.removeEventListener("test",v,m)}catch{}return u})();function R(u){return/^[\s\xa0]*$/.test(u)}function rt(u,m){D.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}A(rt,D),rt.prototype.init=function(u,m){const v=this.type=u.type,T=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(v=="mouseover"?m=u.fromElement:v=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&rt.Z.h.call(this)},rt.prototype.h=function(){rt.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var bt="closure_listenable_"+(Math.random()*1e6|0),Q=0;function oe(u,m,v,T,z){this.listener=u,this.proxy=null,this.src=m,this.type=v,this.capture=!!T,this.ha=z,this.key=++Q,this.da=this.fa=!1}function ge(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Pe(u,m,v){for(const T in u)m.call(v,u[T],T,u)}function Fe(u,m){for(const v in u)m.call(void 0,u[v],v,u)}function O(u){const m={};for(const v in u)m[v]=u[v];return m}const $="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function le(u,m){let v,T;for(let z=1;z<arguments.length;z++){T=arguments[z];for(v in T)u[v]=T[v];for(let H=0;H<$.length;H++)v=$[H],Object.prototype.hasOwnProperty.call(T,v)&&(u[v]=T[v])}}function ue(u){this.src=u,this.g={},this.h=0}ue.prototype.add=function(u,m,v,T,z){const H=u.toString();u=this.g[H],u||(u=this.g[H]=[],this.h++);const se=Ce(u,m,T,z);return se>-1?(m=u[se],v||(m.fa=!1)):(m=new oe(m,this.src,H,!!T,z),m.fa=v,u.push(m)),m};function be(u,m){const v=m.type;if(v in u.g){var T=u.g[v],z=Array.prototype.indexOf.call(T,m,void 0),H;(H=z>=0)&&Array.prototype.splice.call(T,z,1),H&&(ge(m),u.g[v].length==0&&(delete u.g[v],u.h--))}}function Ce(u,m,v,T){for(let z=0;z<u.length;++z){const H=u[z];if(!H.da&&H.listener==m&&H.capture==!!v&&H.ha==T)return z}return-1}var Ge="closure_lm_"+(Math.random()*1e6|0),kt={};function ft(u,m,v,T,z){if(Array.isArray(m)){for(let H=0;H<m.length;H++)ft(u,m[H],v,T,z);return null}return v=Gr(v),u&&u[bt]?u.J(m,v,p(T)?!!T.capture:!1,z):Fr(u,m,v,!1,T,z)}function Fr(u,m,v,T,z,H){if(!m)throw Error("Invalid event type");const se=p(z)?!!z.capture:!!z;let Ne=It(u);if(Ne||(u[Ge]=Ne=new ue(u)),v=Ne.add(m,v,T,se,H),v.proxy)return v;if(T=Hs(),v.proxy=T,T.src=u,T.listener=v,u.addEventListener)L||(z=se),z===void 0&&(z=!1),u.addEventListener(m.toString(),T,z);else if(u.attachEvent)u.attachEvent(Ut(m.toString()),T);else if(u.addListener&&u.removeListener)u.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return v}function Hs(){function u(v){return m.call(u.src,u.listener,v)}const m=Bn;return u}function Fs(u,m,v,T,z){if(Array.isArray(m))for(var H=0;H<m.length;H++)Fs(u,m[H],v,T,z);else T=p(T)?!!T.capture:!!T,v=Gr(v),u&&u[bt]?(u=u.i,H=String(m).toString(),H in u.g&&(m=u.g[H],v=Ce(m,v,T,z),v>-1&&(ge(m[v]),Array.prototype.splice.call(m,v,1),m.length==0&&(delete u.g[H],u.h--)))):u&&(u=It(u))&&(m=u.g[m.toString()],u=-1,m&&(u=Ce(m,v,T,z)),(v=u>-1?m[u]:null)&&Gs(v))}function Gs(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[bt])be(m.i,u);else{var v=u.type,T=u.proxy;m.removeEventListener?m.removeEventListener(v,T,u.capture):m.detachEvent?m.detachEvent(Ut(v),T):m.addListener&&m.removeListener&&m.removeListener(T),(v=It(m))?(be(v,u),v.h==0&&(v.src=null,m[Ge]=null)):ge(u)}}}function Ut(u){return u in kt?kt[u]:kt[u]="on"+u}function Bn(u,m){if(u.da)u=!0;else{m=new rt(m,this);const v=u.listener,T=u.ha||u.src;u.fa&&Gs(u),u=v.call(T,m)}return u}function It(u){return u=u[Ge],u instanceof ue?u:null}var ur="__closure_events_fn_"+(Math.random()*1e9>>>0);function Gr(u){return typeof u=="function"?u:(u[ur]||(u[ur]=function(m){return u.handleEvent(m)}),u[ur])}function St(){k.call(this),this.i=new ue(this),this.M=this,this.G=null}A(St,k),St.prototype[bt]=!0,St.prototype.removeEventListener=function(u,m,v,T){Fs(this,u,m,v,T)};function Ct(u,m){var v,T=u.G;if(T)for(v=[];T;T=T.G)v.push(T);if(u=u.M,T=m.type||m,typeof m=="string")m=new D(m,u);else if(m instanceof D)m.target=m.target||u;else{var z=m;m=new D(T,u),le(m,z)}z=!0;let H,se;if(v)for(se=v.length-1;se>=0;se--)H=m.g=v[se],z=ii(H,T,!0,m)&&z;if(H=m.g=u,z=ii(H,T,!0,m)&&z,z=ii(H,T,!1,m)&&z,v)for(se=0;se<v.length;se++)H=m.g=v[se],z=ii(H,T,!1,m)&&z}St.prototype.N=function(){if(St.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const v=u.g[m];for(let T=0;T<v.length;T++)ge(v[T]);delete u.g[m],u.h--}}this.G=null},St.prototype.J=function(u,m,v,T){return this.i.add(String(u),m,!1,v,T)},St.prototype.K=function(u,m,v,T){return this.i.add(String(u),m,!0,v,T)};function ii(u,m,v,T){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let z=!0;for(let H=0;H<m.length;++H){const se=m[H];if(se&&!se.da&&se.capture==v){const Ne=se.listener,xt=se.ha||se.src;se.fa&&be(u.i,se),z=Ne.call(xt,T)!==!1&&z}}return z&&!T.defaultPrevented}function Qs(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=_(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(u,m||0)}function Ys(u){u.g=Qs(()=>{u.g=null,u.i&&(u.i=!1,Ys(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class Jt extends k{constructor(m,v){super(),this.m=m,this.l=v,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:Ys(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function cr(u){k.call(this),this.h=u,this.g={}}A(cr,k);var Ks=[];function Qr(u){Pe(u.g,function(m,v){this.g.hasOwnProperty(v)&&Gs(m)},u),u.g={}}cr.prototype.N=function(){cr.Z.N.call(this),Qr(this)},cr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var gn=d.JSON.stringify,Ba=d.JSON.parse,Ui=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function Yr(){}function Kr(){}var wn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Qt(){D.call(this,"d")}A(Qt,D);function pn(){D.call(this,"c")}A(pn,D);var Oe={},qn=null;function hr(){return qn=qn||new St}Oe.Ia="serverreachability";function Xs(u){D.call(this,Oe.Ia,u)}A(Xs,D);function Hn(u){const m=hr();Ct(m,new Xs(m))}Oe.STAT_EVENT="statevent";function Li(u,m){D.call(this,Oe.STAT_EVENT,u),this.stat=m}A(Li,D);function pt(u){const m=hr();Ct(m,new Li(m,u))}Oe.Ja="timingevent";function Dn(u,m){D.call(this,Oe.Ja,u),this.size=m}A(Dn,D);function ri(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function yn(){this.g=!0}yn.prototype.ua=function(){this.g=!1};function ct(u,m,v,T,z,H){u.info(function(){if(u.g)if(H){var se="",Ne=H.split("&");for(let We=0;We<Ne.length;We++){var xt=Ne[We].split("=");if(xt.length>1){const yt=xt[0];xt=xt[1];const di=yt.split("_");se=di.length>=2&&di[1]=="type"?se+(yt+"="+xt+"&"):se+(yt+"=redacted&")}}}else se=null;else se=H;return"XMLHTTP REQ ("+T+") [attempt "+z+"]: "+m+`
`+v+`
`+se})}function si(u,m,v,T,z,H,se){u.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+z+"]: "+m+`
`+v+`
`+H+" "+se})}function rn(u,m,v,T){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+qa(u,v)+(T?" "+T:"")})}function Zt(u,m){u.info(function(){return"TIMEOUT: "+m})}yn.prototype.info=function(){};function qa(u,m){if(!u.g)return m;if(!m)return null;try{const H=JSON.parse(m);if(H){for(u=0;u<H.length;u++)if(Array.isArray(H[u])){var v=H[u];if(!(v.length<2)){var T=v[1];if(Array.isArray(T)&&!(T.length<1)){var z=T[0];if(z!="noop"&&z!="stop"&&z!="close")for(let se=1;se<T.length;se++)T[se]=""}}}}return gn(H)}catch{return m}}var fr={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Xr={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},$s;function sn(){}A(sn,Yr),sn.prototype.g=function(){return new XMLHttpRequest},$s=new sn;function ai(u){return encodeURIComponent(String(u))}function Js(u){var m=1;u=u.split(":");const v=[];for(;m>0&&u.length;)v.push(u.shift()),m--;return u.length&&v.push(u.join(":")),v}function Fn(u,m,v,T){this.j=u,this.i=m,this.l=v,this.S=T||1,this.V=new cr(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Mn}function Mn(){this.i=null,this.g="",this.h=!1}var vt={},Nt={};function Gn(u,m,v){u.M=1,u.A=ji(At(m)),u.u=v,u.R=!0,dr(u,null)}function dr(u,m){u.F=Date.now(),oi(u),u.B=At(u.A);var v=u.B,T=u.S;Array.isArray(T)||(T=[String(T)]),Zr(v.i,"t",T),u.C=0,v=u.j.L,u.h=new Mn,u.g=Vu(u.j,v?m:null,!u.u),u.P>0&&(u.O=new Jt(_(u.Y,u,u.g),u.P)),m=u.V,v=u.g,T=u.ba;var z="readystatechange";Array.isArray(z)||(z&&(Ks[0]=z.toString()),z=Ks);for(let H=0;H<z.length;H++){const se=ft(v,z[H],T||m.handleEvent,!1,m.h||m);if(!se)break;m.g[se.key]=se}m=u.J?O(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),Hn(),ct(u.i,u.v,u.B,u.l,u.S,u.u)}Fn.prototype.ba=function(u){u=u.target;const m=this.O;m&&Ci(u)==3?m.j():this.Y(u)},Fn.prototype.Y=function(u){try{if(u==this.g)e:{const Ne=Ci(this.g),xt=this.g.ya(),We=this.g.ca();if(!(Ne<3)&&(Ne!=3||this.g&&(this.h.h||this.g.la()||an(this.g)))){this.K||Ne!=4||xt==7||(xt==8||We<=0?Hn(3):Hn(2)),li(this);var m=this.g.ca();this.X=m;var v=el(this);if(this.o=m==200,si(this.i,this.v,this.B,this.l,this.S,Ne,m),this.o){if(this.U&&!this.L){t:{if(this.g){var T,z=this.g;if((T=z.g?z.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!R(T)){var H=T;break t}}H=null}if(u=H)rn(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,ui(this,u);else{this.o=!1,this.m=3,pt(12),Rn(this),On(this);break e}}if(this.R){u=!0;let yt;for(;!this.K&&this.C<v.length;)if(yt=Ha(this,v),yt==Nt){Ne==4&&(this.m=4,pt(14),u=!1),rn(this.i,this.l,null,"[Incomplete Response]");break}else if(yt==vt){this.m=4,pt(15),rn(this.i,this.l,v,"[Invalid Chunk]"),u=!1;break}else rn(this.i,this.l,yt,null),ui(this,yt);if(Zs(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ne!=4||v.length!=0||this.h.h||(this.m=1,pt(16),u=!1),this.o=this.o&&u,!u)rn(this.i,this.l,v,"[Invalid Chunked Response]"),Rn(this),On(this);else if(v.length>0&&!this.W){this.W=!0;var se=this.j;se.g==this&&se.aa&&!se.P&&(se.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),sl(se),se.P=!0,pt(11))}}else rn(this.i,this.l,v,null),ui(this,v);Ne==4&&Rn(this),this.o&&!this.K&&(Ne==4?xu(this.j,this):(this.o=!1,oi(this)))}else pr(this.g),m==400&&v.indexOf("Unknown SID")>0?(this.m=3,pt(12)):(this.m=0,pt(13)),Rn(this),On(this)}}}catch{}finally{}};function el(u){if(!Zs(u))return u.g.la();const m=an(u.g);if(m==="")return"";let v="";const T=m.length,z=Ci(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return Rn(u),On(u),"";u.h.i=new d.TextDecoder}for(let H=0;H<T;H++)u.h.h=!0,v+=u.h.i.decode(m[H],{stream:!(z&&H==T-1)});return m.length=0,u.h.g+=v,u.C=0,u.h.g}function Zs(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function Ha(u,m){var v=u.C,T=m.indexOf(`
`,v);return T==-1?Nt:(v=Number(m.substring(v,T)),isNaN(v)?vt:(T+=1,T+v>m.length?Nt:(m=m.slice(T,T+v),u.C=T+v,m)))}Fn.prototype.cancel=function(){this.K=!0,Rn(this)};function oi(u){u.T=Date.now()+u.H,Pi(u,u.H)}function Pi(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=ri(_(u.aa,u),m)}function li(u){u.D&&(d.clearTimeout(u.D),u.D=null)}Fn.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(Zt(this.i,this.B),this.M!=2&&(Hn(),pt(17)),Rn(this),this.m=2,On(this)):Pi(this,this.T-u)};function On(u){u.j.I==0||u.K||xu(u.j,u)}function Rn(u){li(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,Qr(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function ui(u,m){try{var v=u.j;if(v.I!=0&&(v.g==u||Qn(v.h,u))){if(!u.L&&Qn(v.h,u)&&v.I==3){try{var T=v.Ba.g.parse(m)}catch{T=null}if(Array.isArray(T)&&T.length==3){var z=T;if(z[0]==0){e:if(!v.v){if(v.g)if(v.g.F+3e3<u.F)Ka(v),es(v);else break e;ca(v),pt(18)}}else v.xa=z[1],0<v.xa-v.K&&z[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=ri(_(v.Va,v),6e3));ci(v.h)<=1&&v.ta&&(v.ta=void 0)}else Qi(v,11)}else if((u.L||v.g==u)&&Ka(v),!R(m))for(z=v.Ba.g.parse(m),m=0;m<z.length;m++){let We=z[m];const yt=We[0];if(!(yt<=v.K))if(v.K=yt,We=We[1],v.I==2)if(We[0]=="c"){v.M=We[1],v.ba=We[2];const di=We[3];di!=null&&(v.ka=di,v.j.info("VER="+v.ka));const Yi=We[4];Yi!=null&&(v.za=Yi,v.j.info("SVER="+v.za));const Ni=We[5];Ni!=null&&typeof Ni=="number"&&Ni>0&&(T=1.5*Ni,v.O=T,v.j.info("backChannelRequestTimeoutMs_="+T)),T=v;const xi=u.g;if(xi){const ha=xi.g?xi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ha){var H=T.h;H.g||ha.indexOf("spdy")==-1&&ha.indexOf("quic")==-1&&ha.indexOf("h2")==-1||(H.j=H.l,H.g=new Set,H.h&&(ea(H,H.h),H.h=null))}if(T.G){const Xa=xi.g?xi.g.getResponseHeader("X-HTTP-Session-Id"):null;Xa&&(T.wa=Xa,Ze(T.J,T.G,Xa))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-u.F,v.j.info("Handshake RTT: "+v.T+"ms")),T=v;var se=u;if(T.na=Ou(T,T.L?T.ba:null,T.W),se.L){ta(T.h,se);var Ne=se,xt=T.O;xt&&(Ne.H=xt),Ne.D&&(li(Ne),oi(Ne)),T.g=se}else Cu(T);v.i.length>0&&Gi(v)}else We[0]!="stop"&&We[0]!="close"||Qi(v,7);else v.I==3&&(We[0]=="stop"||We[0]=="close"?We[0]=="stop"?Qi(v,7):il(v):We[0]!="noop"&&v.l&&v.l.qa(We),v.A=0)}}Hn(4)}catch{}}var Et=class{constructor(u,m){this.g=u,this.map=m}};function $r(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Ws(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function ci(u){return u.h?1:u.g?u.g.size:0}function Qn(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function ea(u,m){u.g?u.g.add(m):u.h=m}function ta(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}$r.prototype.cancel=function(){if(this.i=na(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function na(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const v of u.g.values())m=m.concat(v.G);return m}return Y(u.i)}var Fa=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Jr(u,m){if(u){u=u.split("&");for(let v=0;v<u.length;v++){const T=u[v].indexOf("=");let z,H=null;T>=0?(z=u[v].substring(0,T),H=u[v].substring(T+1)):z=u[v],m(z,H?decodeURIComponent(H.replace(/\+/g," ")):"")}}}function In(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof In?(this.l=u.l,Lt(this,u.j),this.o=u.o,this.g=u.g,zi(this,u.u),this.h=u.h,ia(this,S(u.i)),this.m=u.m):u&&(m=String(u).match(Fa))?(this.l=!1,Lt(this,m[1]||"",!0),this.o=_n(m[2]||""),this.g=_n(m[3]||"",!0),zi(this,m[4]),this.h=_n(m[5]||"",!0),ia(this,m[6]||"",!0),this.m=_n(m[7]||"")):(this.l=!1,this.i=new Ri(null,this.l))}In.prototype.toString=function(){const u=[];var m=this.j;m&&u.push(Yt(m,mr,!0),":");var v=this.g;return(v||m=="file")&&(u.push("//"),(m=this.o)&&u.push(Yt(m,mr,!0),"@"),u.push(ai(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&u.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&u.push("/"),u.push(Yt(v,v.charAt(0)=="/"?Cn:Ga,!0))),(v=this.i.toString())&&u.push("?",v),(v=this.m)&&u.push("#",Yt(v,ra)),u.join("")},In.prototype.resolve=function(u){const m=At(this);let v=!!u.j;v?Lt(m,u.j):v=!!u.o,v?m.o=u.o:v=!!u.g,v?m.g=u.g:v=u.u!=null;var T=u.h;if(v)zi(m,u.u);else if(v=!!u.h){if(T.charAt(0)!="/")if(this.g&&!this.h)T="/"+T;else{var z=m.h.lastIndexOf("/");z!=-1&&(T=m.h.slice(0,z+1)+T)}if(z=T,z==".."||z==".")T="";else if(z.indexOf("./")!=-1||z.indexOf("/.")!=-1){T=z.lastIndexOf("/",0)==0,z=z.split("/");const H=[];for(let se=0;se<z.length;){const Ne=z[se++];Ne=="."?T&&se==z.length&&H.push(""):Ne==".."?((H.length>1||H.length==1&&H[0]!="")&&H.pop(),T&&se==z.length&&H.push("")):(H.push(Ne),T=!0)}T=H.join("/")}else T=z}return v?m.h=T:v=u.i.toString()!=="",v?ia(m,S(u.i)):v=!!u.m,v&&(m.m=u.m),m};function At(u){return new In(u)}function Lt(u,m,v){u.j=v?_n(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function zi(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function ia(u,m,v){m instanceof Ri?(u.i=m,G(u.i,u.l)):(v||(m=Yt(m,wi)),u.i=new Ri(m,u.l))}function Ze(u,m,v){u.i.set(m,v)}function ji(u){return Ze(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function _n(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Yt(u,m,v){return typeof u=="string"?(u=encodeURI(u).replace(m,Wt),v&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function Wt(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var mr=/[#\/\?@]/g,Ga=/[#\?:]/g,Cn=/[#\?]/g,wi=/[#\?@]/g,ra=/#/g;function Ri(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function vn(u){u.g||(u.g=new Map,u.h=0,u.i&&Jr(u.i,function(m,v){u.add(decodeURIComponent(m.replace(/\+/g," ")),v)}))}r=Ri.prototype,r.add=function(u,m){vn(this),this.i=null,u=P(this,u);let v=this.g.get(u);return v||this.g.set(u,v=[]),v.push(m),this.h+=1,this};function sa(u,m){vn(u),m=P(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function hi(u,m){return vn(u),m=P(u,m),u.g.has(m)}r.forEach=function(u,m){vn(this),this.g.forEach(function(v,T){v.forEach(function(z){u.call(m,z,T,this)},this)},this)};function Ii(u,m){vn(u);let v=[];if(typeof m=="string")hi(u,m)&&(v=v.concat(u.g.get(P(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)v=v.concat(u[m]);return v}r.set=function(u,m){return vn(this),this.i=null,u=P(this,u),hi(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},r.get=function(u,m){return u?(u=Ii(this,u),u.length>0?String(u[0]):m):m};function Zr(u,m,v){sa(u,m),v.length>0&&(u.i=null,u.g.set(P(u,m),Y(v)),u.h+=v.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let T=0;T<m.length;T++){var v=m[T];const z=ai(v);v=Ii(this,v);for(let H=0;H<v.length;H++){let se=z;v[H]!==""&&(se+="="+ai(v[H])),u.push(se)}}return this.i=u.join("&")};function S(u){const m=new Ri;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function P(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function G(u,m){m&&!u.j&&(vn(u),u.i=null,u.g.forEach(function(v,T){const z=T.toLowerCase();T!=z&&(sa(this,T),Zr(this,z,v))},u)),u.j=m}function ee(u,m){const v=new yn;if(d.Image){const T=new Image;T.onload=b(pe,v,"TestLoadImage: loaded",!0,m,T),T.onerror=b(pe,v,"TestLoadImage: error",!1,m,T),T.onabort=b(pe,v,"TestLoadImage: abort",!1,m,T),T.ontimeout=b(pe,v,"TestLoadImage: timeout",!1,m,T),d.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=u}else m(!1)}function re(u,m){const v=new yn,T=new AbortController,z=setTimeout(()=>{T.abort(),pe(v,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:T.signal}).then(H=>{clearTimeout(z),H.ok?pe(v,"TestPingServer: ok",!0,m):pe(v,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(z),pe(v,"TestPingServer: error",!1,m)})}function pe(u,m,v,T,z){try{z&&(z.onload=null,z.onerror=null,z.onabort=null,z.ontimeout=null),T(v)}catch{}}function Ke(){this.g=new Ui}function Pt(u){this.i=u.Sb||null,this.h=u.ab||!1}A(Pt,Yr),Pt.prototype.g=function(){return new Kt(this.i,this.h)};function Kt(u,m){St.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}A(Kt,St),r=Kt.prototype,r.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,Yn(this)},r.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,qi(this)),this.readyState=0},r.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Yn(this)),this.g&&(this.readyState=3,Yn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Bi(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function Bi(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}r.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?qi(this):Yn(this),this.readyState==3&&Bi(this)}},r.Oa=function(u){this.g&&(this.response=this.responseText=u,qi(this))},r.Na=function(u){this.g&&(this.response=u,qi(this))},r.ga=function(){this.g&&qi(this)};function qi(u){u.readyState=4,u.l=null,u.j=null,u.B=null,Yn(u)}r.setRequestHeader=function(u,m){this.A.append(u,m)},r.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var v=m.next();!v.done;)v=v.value,u.push(v[0]+": "+v[1]),v=m.next();return u.join(`\r
`)};function Yn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Kt.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function fi(u){let m="";return Pe(u,function(v,T){m+=T,m+=":",m+=v,m+=`\r
`}),m}function aa(u,m,v){e:{for(T in v){var T=!1;break e}T=!0}T||(v=fi(v),typeof u=="string"?v!=null&&ai(v):Ze(u,m,v))}function st(u){St.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}A(st,St);var Hi=/^https?$/i,tl=["POST","PUT"];r=st.prototype,r.Fa=function(u){this.H=u},r.ea=function(u,m,v,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():$s.g(),this.g.onreadystatechange=V(_(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(H){oa(this,H);return}if(u=v||"",v=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var z in T)v.set(z,T[z]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const H of T.keys())v.set(H,T.get(H));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(v.keys()).find(H=>H.toLowerCase()=="content-type"),z=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call(tl,m,void 0)>=0)||T||z||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[H,se]of v)this.g.setRequestHeader(H,se);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(H){oa(this,H)}};function oa(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,nl(u),gr(u)}function nl(u){u.A||(u.A=!0,Ct(u,"complete"),Ct(u,"error"))}r.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,Ct(this,"complete"),Ct(this,"abort"),gr(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),gr(this,!0)),st.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?la(this):this.Xa())},r.Xa=function(){la(this)};function la(u){if(u.h&&typeof c<"u"){if(u.v&&Ci(u)==4)setTimeout(u.Ca.bind(u),0);else if(Ct(u,"readystatechange"),Ci(u)==4){u.h=!1;try{const H=u.ca();e:switch(H){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var v;if(!(v=m)){var T;if(T=H===0){let se=String(u.D).match(Fa)[1]||null;!se&&d.self&&d.self.location&&(se=d.self.location.protocol.slice(0,-1)),T=!Hi.test(se?se.toLowerCase():"")}v=T}if(v)Ct(u,"complete"),Ct(u,"success");else{u.o=6;try{var z=Ci(u)>2?u.g.statusText:""}catch{z=""}u.l=z+" ["+u.ca()+"]",nl(u)}}finally{gr(u)}}}}function gr(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const v=u.g;u.g=null,m||Ct(u,"ready");try{v.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function Ci(u){return u.g?u.g.readyState:0}r.ca=function(){try{return Ci(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),Ba(m)}};function an(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function pr(u){const m={};u=(u.g&&Ci(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<u.length;T++){if(R(u[T]))continue;var v=Js(u[T]);const z=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const H=m[z]||[];m[z]=H,H.push(v)}Fe(m,function(T){return T.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Fi(u,m,v){return v&&v.internalChannelParams&&v.internalChannelParams[u]||m}function Wr(u){this.za=0,this.i=[],this.j=new yn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Fi("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Fi("baseRetryDelayMs",5e3,u),this.Za=Fi("retryDelaySeedMs",1e4,u),this.Ta=Fi("forwardChannelMaxRetries",2,u),this.va=Fi("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new $r(u&&u.concurrentRequestLimit),this.Ba=new Ke,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=Wr.prototype,r.ka=8,r.I=1,r.connect=function(u,m,v,T){pt(0),this.W=u,this.H=m||{},v&&T!==void 0&&(this.H.OSID=v,this.H.OAID=T),this.F=this.X,this.J=Ou(this,null,this.W),Gi(this)};function il(u){if(Qa(u),u.I==3){var m=u.V++,v=At(u.J);if(Ze(v,"SID",u.M),Ze(v,"RID",m),Ze(v,"TYPE","terminate"),ua(u,v),m=new Fn(u,u.j,m),m.M=2,m.A=ji(At(v)),v=!1,d.navigator&&d.navigator.sendBeacon)try{v=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!v&&d.Image&&(new Image().src=m.A,v=!0),v||(m.g=Vu(m.j,null),m.g.ea(m.A)),m.F=Date.now(),oi(m)}Mu(u)}function es(u){u.g&&(sl(u),u.g.cancel(),u.g=null)}function Qa(u){es(u),u.v&&(d.clearTimeout(u.v),u.v=null),Ka(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function Gi(u){if(!Ws(u.h)&&!u.m){u.m=!0;var m=u.Ea;Je||w(),Me||(Je(),Me=!0),N.add(m,u),u.D=0}}function Ya(u,m){return ci(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=ri(_(u.Ea,u,m),Du(u,u.D)),u.D++,!0)}r.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const z=new Fn(this,this.j,u);let H=this.o;if(this.U&&(H?(H=O(H),le(H,this.U)):H=this.U),this.u!==null||this.R||(z.J=H,H=null),this.S)e:{for(var m=0,v=0;v<this.i.length;v++){t:{var T=this.i[v];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break t}T=void 0}if(T===void 0)break;if(m+=T,m>4096){m=v;break e}if(m===4096||v===this.i.length-1){m=v+1;break e}}m=1e3}else m=1e3;m=Iu(this,z,m),v=At(this.J),Ze(v,"RID",u),Ze(v,"CVER",22),this.G&&Ze(v,"X-HTTP-Session-Id",this.G),ua(this,v),H&&(this.R?m="headers="+ai(fi(H))+"&"+m:this.u&&aa(v,this.u,H)),ea(this.h,z),this.Ra&&Ze(v,"TYPE","init"),this.S?(Ze(v,"$req",m),Ze(v,"SID","null"),z.U=!0,Gn(z,v,null)):Gn(z,v,m),this.I=2}}else this.I==3&&(u?rl(this,u):this.i.length==0||Ws(this.h)||rl(this))};function rl(u,m){var v;m?v=m.l:v=u.V++;const T=At(u.J);Ze(T,"SID",u.M),Ze(T,"RID",v),Ze(T,"AID",u.K),ua(u,T),u.u&&u.o&&aa(T,u.u,u.o),v=new Fn(u,u.j,v,u.D+1),u.u===null&&(v.J=u.o),m&&(u.i=m.G.concat(u.i)),m=Iu(u,v,1e3),v.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),ea(u.h,v),Gn(v,T,m)}function ua(u,m){u.H&&Pe(u.H,function(v,T){Ze(m,T,v)}),u.l&&Pe({},function(v,T){Ze(m,T,v)})}function Iu(u,m,v){v=Math.min(u.i.length,v);const T=u.l?_(u.l.Ka,u.l,u):null;e:{var z=u.i;let Ne=-1;for(;;){const xt=["count="+v];Ne==-1?v>0?(Ne=z[0].g,xt.push("ofs="+Ne)):Ne=0:xt.push("ofs="+Ne);let We=!0;for(let yt=0;yt<v;yt++){var H=z[yt].g;const di=z[yt].map;if(H-=Ne,H<0)Ne=Math.max(0,z[yt].g-100),We=!1;else try{H="req"+H+"_"||"";try{var se=di instanceof Map?di:Object.entries(di);for(const[Yi,Ni]of se){let xi=Ni;p(Ni)&&(xi=gn(Ni)),xt.push(H+Yi+"="+encodeURIComponent(xi))}}catch(Yi){throw xt.push(H+"type="+encodeURIComponent("_badmap")),Yi}}catch{T&&T(di)}}if(We){se=xt.join("&");break e}}se=void 0}return u=u.i.splice(0,v),m.G=u,se}function Cu(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;Je||w(),Me||(Je(),Me=!0),N.add(m,u),u.A=0}}function ca(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=ri(_(u.Da,u),Du(u,u.A)),u.A++,!0)}r.Da=function(){if(this.v=null,Nu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=ri(_(this.Wa,this),u)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,pt(10),es(this),Nu(this))};function sl(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function Nu(u){u.g=new Fn(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=At(u.na);Ze(m,"RID","rpc"),Ze(m,"SID",u.M),Ze(m,"AID",u.K),Ze(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&Ze(m,"TO",u.ia),Ze(m,"TYPE","xmlhttp"),ua(u,m),u.u&&u.o&&aa(m,u.u,u.o),u.O&&(u.g.H=u.O);var v=u.g;u=u.ba,v.M=1,v.A=ji(At(m)),v.u=null,v.R=!0,dr(v,u)}r.Va=function(){this.C!=null&&(this.C=null,es(this),ca(this),pt(19))};function Ka(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function xu(u,m){var v=null;if(u.g==m){Ka(u),sl(u),u.g=null;var T=2}else if(Qn(u.h,m))v=m.G,ta(u.h,m),T=1;else return;if(u.I!=0){if(m.o)if(T==1){v=m.u?m.u.length:0,m=Date.now()-m.F;var z=u.D;T=hr(),Ct(T,new Dn(T,v)),Gi(u)}else Cu(u);else if(z=m.m,z==3||z==0&&m.X>0||!(T==1&&Ya(u,m)||T==2&&ca(u)))switch(v&&v.length>0&&(m=u.h,m.i=m.i.concat(v)),z){case 1:Qi(u,5);break;case 4:Qi(u,10);break;case 3:Qi(u,6);break;default:Qi(u,2)}}}function Du(u,m){let v=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(v*=2),v*m}function Qi(u,m){if(u.j.info("Error code "+m),m==2){var v=_(u.bb,u),T=u.Ua;const z=!T;T=new In(T||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Lt(T,"https"),ji(T),z?ee(T.toString(),v):re(T.toString(),v)}else pt(2);u.I=0,u.l&&u.l.pa(m),Mu(u),Qa(u)}r.bb=function(u){u?(this.j.info("Successfully pinged google.com"),pt(2)):(this.j.info("Failed to ping google.com"),pt(1))};function Mu(u){if(u.I=0,u.ja=[],u.l){const m=na(u.h);(m.length!=0||u.i.length!=0)&&(te(u.ja,m),te(u.ja,u.i),u.h.i.length=0,Y(u.i),u.i.length=0),u.l.oa()}}function Ou(u,m,v){var T=v instanceof In?At(v):new In(v);if(T.g!="")m&&(T.g=m+"."+T.g),zi(T,T.u);else{var z=d.location;T=z.protocol,m=m?m+"."+z.hostname:z.hostname,z=+z.port;const H=new In(null);T&&Lt(H,T),m&&(H.g=m),z&&zi(H,z),v&&(H.h=v),T=H}return v=u.G,m=u.wa,v&&m&&Ze(T,v,m),Ze(T,"VER",u.ka),ua(u,T),T}function Vu(u,m,v){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new st(new Pt({ab:v})):new st(u.ma),m.Fa(u.L),m}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function ku(){}r=ku.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function ts(){}ts.prototype.g=function(u,m){return new Nn(u,m)};function Nn(u,m){St.call(this),this.g=new Wr(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!R(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!R(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new yr(this)}A(Nn,St),Nn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Nn.prototype.close=function(){il(this.g)},Nn.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var v={};v.__data__=u,u=v}else this.v&&(v={},v.__data__=gn(u),u=v);m.i.push(new Et(m.Ya++,u)),m.I==3&&Gi(m)},Nn.prototype.N=function(){this.g.l=null,delete this.j,il(this.g),delete this.g,Nn.Z.N.call(this)};function Uu(u){Qt.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){e:{for(const v in m){u=v;break e}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}A(Uu,Qt);function Lu(){pn.call(this),this.status=1}A(Lu,pn);function yr(u){this.g=u}A(yr,ku),yr.prototype.ra=function(){Ct(this.g,"a")},yr.prototype.qa=function(u){Ct(this.g,new Uu(u))},yr.prototype.pa=function(u){Ct(this.g,new Lu)},yr.prototype.oa=function(){Ct(this.g,"b")},ts.prototype.createWebChannel=ts.prototype.g,Nn.prototype.send=Nn.prototype.o,Nn.prototype.open=Nn.prototype.m,Nn.prototype.close=Nn.prototype.close,Y1=function(){return new ts},Q1=function(){return hr()},G1=Oe,vm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},fr.NO_ERROR=0,fr.TIMEOUT=8,fr.HTTP_ERROR=6,eh=fr,Xr.COMPLETE="complete",F1=Xr,Kr.EventType=wn,wn.OPEN="a",wn.CLOSE="b",wn.ERROR="c",wn.MESSAGE="d",St.prototype.listen=St.prototype.J,Yl=Kr,st.prototype.listenOnce=st.prototype.K,st.prototype.getLastError=st.prototype.Ha,st.prototype.getLastErrorCode=st.prototype.ya,st.prototype.getStatus=st.prototype.ca,st.prototype.getResponseJson=st.prototype.La,st.prototype.getResponseText=st.prototype.la,st.prototype.send=st.prototype.ea,st.prototype.setWithCredentials=st.prototype.Fa,H1=st}).apply(typeof qc<"u"?qc:typeof self<"u"?self:typeof window<"u"?window:{});const P0="@firebase/firestore",z0="4.9.2";let bn=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};bn.UNAUTHENTICATED=new bn(null),bn.GOOGLE_CREDENTIALS=new bn("google-credentials-uid"),bn.FIRST_PARTY=new bn("first-party-uid"),bn.MOCK_USER=new bn("mock-user");let Xo="12.3.0";const Ua=new qm("@firebase/firestore");function Co(){return Ua.logLevel}function ce(r,...e){if(Ua.logLevel<=Be.DEBUG){const i=e.map(Wm);Ua.debug(`Firestore (${Xo}): ${r}`,...i)}}function Br(r,...e){if(Ua.logLevel<=Be.ERROR){const i=e.map(Wm);Ua.error(`Firestore (${Xo}): ${r}`,...i)}}function jo(r,...e){if(Ua.logLevel<=Be.WARN){const i=e.map(Wm);Ua.warn(`Firestore (${Xo}): ${r}`,...i)}}function Wm(r){if(typeof r=="string")return r;try{return(function(i){return JSON.stringify(i)})(r)}catch{return r}}function Te(r,e,i){let a="Unexpected state";typeof e=="string"?a=e:i=e,K1(r,a,i)}function K1(r,e,i){let a=`FIRESTORE (${Xo}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(i!==void 0)try{a+=" CONTEXT: "+JSON.stringify(i)}catch{a+=" CONTEXT: "+i}throw Br(a),new Error(a)}function tt(r,e,i,a){let l="Unexpected state";typeof i=="string"?l=i:a=i,r||K1(e,l,a)}function Ie(r,e){return r}const Z={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class he extends Hr{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class xa{constructor(){this.promise=new Promise(((e,i)=>{this.resolve=e,this.reject=i}))}}class X1{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Xw{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable((()=>i(bn.UNAUTHENTICATED)))}shutdown(){}}class $w{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class Jw{constructor(e){this.t=e,this.currentUser=bn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){tt(this.o===void 0,42304);let a=this.i;const l=y=>this.i!==a?(a=this.i,i(y)):Promise.resolve();let c=new xa;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new xa,e.enqueueRetryable((()=>l(this.currentUser)))};const d=()=>{const y=c;e.enqueueRetryable((async()=>{await y.promise,await l(this.currentUser)}))},p=y=>{ce("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=y,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((y=>p(y))),setTimeout((()=>{if(!this.auth){const y=this.t.getImmediate({optional:!0});y?p(y):(ce("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new xa)}}),0),d()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((a=>this.i!==e?(ce("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(tt(typeof a.accessToken=="string",31837,{l:a}),new X1(a.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return tt(e===null||typeof e=="string",2055,{h:e}),new bn(e)}}class Zw{constructor(e,i,a){this.P=e,this.T=i,this.I=a,this.type="FirstParty",this.user=bn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class Ww{constructor(e,i,a){this.P=e,this.T=i,this.I=a}getToken(){return Promise.resolve(new Zw(this.P,this.T,this.I))}start(e,i){e.enqueueRetryable((()=>i(bn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class j0{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class eR{constructor(e,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,bi(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,i){tt(this.o===void 0,3512);const a=c=>{c.error!=null&&ce("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.m;return this.m=c.token,ce("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable((()=>a(c)))};const l=c=>{ce("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>l(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?l(c):ce("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new j0(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((i=>i?(tt(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new j0(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function tR(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(i);else for(let a=0;a<r;a++)i[a]=Math.floor(256*Math.random());return i}class eg{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const l=tR(40);for(let c=0;c<l.length;++c)a.length<20&&l[c]<i&&(a+=e.charAt(l[c]%62))}return a}}function qe(r,e){return r<e?-1:r>e?1:0}function Em(r,e){const i=Math.min(r.length,e.length);for(let a=0;a<i;a++){const l=r.charAt(a),c=e.charAt(a);if(l!==c)return nm(l)===nm(c)?qe(l,c):nm(l)?1:-1}return qe(r.length,e.length)}const nR=55296,iR=57343;function nm(r){const e=r.charCodeAt(0);return e>=nR&&e<=iR}function Bo(r,e,i){return r.length===e.length&&r.every(((a,l)=>i(a,e[l])))}const B0="__name__";class er{constructor(e,i,a){i===void 0?i=0:i>e.length&&Te(637,{offset:i,range:e.length}),a===void 0?a=e.length-i:a>e.length-i&&Te(1746,{length:a,range:e.length-i}),this.segments=e,this.offset=i,this.len=a}get length(){return this.len}isEqual(e){return er.comparator(this,e)===0}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof er?e.forEach((a=>{i.push(a)})):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,a=this.limit();i<a;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const a=Math.min(e.length,i.length);for(let l=0;l<a;l++){const c=er.compareSegments(e.get(l),i.get(l));if(c!==0)return c}return qe(e.length,i.length)}static compareSegments(e,i){const a=er.isNumericId(e),l=er.isNumericId(i);return a&&!l?-1:!a&&l?1:a&&l?er.extractNumericId(e).compare(er.extractNumericId(i)):Em(e,i)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Os.fromString(e.substring(4,e.length-2))}}class ht extends er{construct(e,i,a){return new ht(e,i,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const i=[];for(const a of e){if(a.indexOf("//")>=0)throw new he(Z.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);i.push(...a.split("/").filter((l=>l.length>0)))}return new ht(i)}static emptyPath(){return new ht([])}}const rR=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class fn extends er{construct(e,i,a){return new fn(e,i,a)}static isValidIdentifier(e){return rR.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),fn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===B0}static keyField(){return new fn([B0])}static fromServerFormat(e){const i=[];let a="",l=0;const c=()=>{if(a.length===0)throw new he(Z.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(a),a=""};let d=!1;for(;l<e.length;){const p=e[l];if(p==="\\"){if(l+1===e.length)throw new he(Z.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const y=e[l+1];if(y!=="\\"&&y!=="."&&y!=="`")throw new he(Z.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);a+=y,l+=2}else p==="`"?(d=!d,l++):p!=="."||d?(a+=p,l++):(c(),l++)}if(c(),d)throw new he(Z.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new fn(i)}static emptyPath(){return new fn([])}}class _e{constructor(e){this.path=e}static fromPath(e){return new _e(ht.fromString(e))}static fromName(e){return new _e(ht.fromString(e).popFirst(5))}static empty(){return new _e(ht.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ht.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,i){return ht.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new _e(new ht(e.slice()))}}function $1(r,e,i){if(!i)throw new he(Z.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function sR(r,e,i,a){if(e===!0&&a===!0)throw new he(Z.INVALID_ARGUMENT,`${r} and ${i} cannot be used together.`)}function q0(r){if(!_e.isDocumentKey(r))throw new he(Z.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function H0(r){if(_e.isDocumentKey(r))throw new he(Z.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function J1(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function Dh(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=(function(a){return a.constructor?a.constructor.name:null})(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":Te(12329,{type:typeof r})}function ir(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new he(Z.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=Dh(r);throw new he(Z.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return r}function Gt(r,e){const i={typeString:r};return e&&(i.value=e),i}function Eu(r,e){if(!J1(r))throw new he(Z.INVALID_ARGUMENT,"JSON must be an object");let i;for(const a in e)if(e[a]){const l=e[a].typeString,c="value"in e[a]?{value:e[a].value}:void 0;if(!(a in r)){i=`JSON missing required field: '${a}'`;break}const d=r[a];if(l&&typeof d!==l){i=`JSON field '${a}' must be a ${l}.`;break}if(c!==void 0&&d!==c.value){i=`Expected '${a}' field to equal '${c.value}'`;break}}if(i)throw new he(Z.INVALID_ARGUMENT,i);return!0}const F0=-62135596800,G0=1e6;class gt{static now(){return gt.fromMillis(Date.now())}static fromDate(e){return gt.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),a=Math.floor((e-1e3*i)*G0);return new gt(i,a)}constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new he(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new he(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<F0)throw new he(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new he(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/G0}_compareTo(e){return this.seconds===e.seconds?qe(this.nanoseconds,e.nanoseconds):qe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:gt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Eu(e,gt._jsonSchema))return new gt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-F0;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}gt._jsonSchemaVersion="firestore/timestamp/1.0",gt._jsonSchema={type:Gt("string",gt._jsonSchemaVersion),seconds:Gt("number"),nanoseconds:Gt("number")};class Ae{static fromTimestamp(e){return new Ae(e)}static min(){return new Ae(new gt(0,0))}static max(){return new Ae(new gt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const su=-1;function aR(r,e){const i=r.toTimestamp().seconds,a=r.toTimestamp().nanoseconds+1,l=Ae.fromTimestamp(a===1e9?new gt(i+1,0):new gt(i,a));return new ks(l,_e.empty(),e)}function oR(r){return new ks(r.readTime,r.key,su)}class ks{constructor(e,i,a){this.readTime=e,this.documentKey=i,this.largestBatchId=a}static min(){return new ks(Ae.min(),_e.empty(),su)}static max(){return new ks(Ae.max(),_e.empty(),su)}}function lR(r,e){let i=r.readTime.compareTo(e.readTime);return i!==0?i:(i=_e.comparator(r.documentKey,e.documentKey),i!==0?i:qe(r.largestBatchId,e.largestBatchId))}const uR="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class cR{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function $o(r){if(r.code!==Z.FAILED_PRECONDITION||r.message!==uR)throw r;ce("LocalStore","Unexpectedly lost primary lease")}class W{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&Te(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new W(((a,l)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(a,l)},this.catchCallback=c=>{this.wrapFailure(i,c).next(a,l)}}))}toPromise(){return new Promise(((e,i)=>{this.next(e,i)}))}wrapUserFunction(e){try{const i=e();return i instanceof W?i:W.resolve(i)}catch(i){return W.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction((()=>e(i))):W.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction((()=>e(i))):W.reject(i)}static resolve(e){return new W(((i,a)=>{i(e)}))}static reject(e){return new W(((i,a)=>{a(e)}))}static waitFor(e){return new W(((i,a)=>{let l=0,c=0,d=!1;e.forEach((p=>{++l,p.next((()=>{++c,d&&c===l&&i()}),(y=>a(y)))})),d=!0,c===l&&i()}))}static or(e){let i=W.resolve(!1);for(const a of e)i=i.next((l=>l?W.resolve(l):a()));return i}static forEach(e,i){const a=[];return e.forEach(((l,c)=>{a.push(i.call(this,l,c))})),this.waitFor(a)}static mapArray(e,i){return new W(((a,l)=>{const c=e.length,d=new Array(c);let p=0;for(let y=0;y<c;y++){const _=y;i(e[_]).next((b=>{d[_]=b,++p,p===c&&a(d)}),(b=>l(b)))}}))}static doWhile(e,i){return new W(((a,l)=>{const c=()=>{e()===!0?i().next((()=>{c()}),l):a()};c()}))}}function hR(r){const e=r.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function Jo(r){return r.name==="IndexedDbTransactionError"}class Mh{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=a=>this.ae(a),this.ue=a=>i.writeSequenceNumber(a))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Mh.ce=-1;const tg=-1;function Oh(r){return r==null}function gh(r){return r===0&&1/r==-1/0}function fR(r){return typeof r=="number"&&Number.isInteger(r)&&!gh(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}const Z1="";function dR(r){let e="";for(let i=0;i<r.length;i++)e.length>0&&(e=Q0(e)),e=mR(r.get(i),e);return Q0(e)}function mR(r,e){let i=e;const a=r.length;for(let l=0;l<a;l++){const c=r.charAt(l);switch(c){case"\0":i+="";break;case Z1:i+="";break;default:i+=c}}return i}function Q0(r){return r+Z1+""}function Y0(r){let e=0;for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&e++;return e}function Bs(r,e){for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&e(i,r[i])}function W1(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}class Tt{constructor(e,i){this.comparator=e,this.root=i||hn.EMPTY}insert(e,i){return new Tt(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,hn.BLACK,null,null))}remove(e){return new Tt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,hn.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){const a=this.comparator(e,i.key);if(a===0)return i.value;a<0?i=i.left:a>0&&(i=i.right)}return null}indexOf(e){let i=0,a=this.root;for(;!a.isEmpty();){const l=this.comparator(e,a.key);if(l===0)return i+a.left.size;l<0?a=a.left:(i+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((i,a)=>(e(i,a),!1)))}toString(){const e=[];return this.inorderTraversal(((i,a)=>(e.push(`${i}:${a}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Hc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Hc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Hc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Hc(this.root,e,this.comparator,!0)}}class Hc{constructor(e,i,a,l){this.isReverse=l,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=i?a(e.key,i):1,i&&l&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(c===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class hn{constructor(e,i,a,l,c){this.key=e,this.value=i,this.color=a??hn.RED,this.left=l??hn.EMPTY,this.right=c??hn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,a,l,c){return new hn(e??this.key,i??this.value,a??this.color,l??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,a){let l=this;const c=a(e,l.key);return l=c<0?l.copy(null,null,null,l.left.insert(e,i,a),null):c===0?l.copy(null,i,null,null,null):l.copy(null,null,null,null,l.right.insert(e,i,a)),l.fixUp()}removeMin(){if(this.left.isEmpty())return hn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let a,l=this;if(i(e,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(e,i),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),i(e,l.key)===0){if(l.right.isEmpty())return hn.EMPTY;a=l.right.min(),l=l.copy(a.key,a.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(e,i))}return l.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,hn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,hn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Te(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Te(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Te(27949);return e+(this.isRed()?0:1)}}hn.EMPTY=null,hn.RED=!0,hn.BLACK=!1;hn.EMPTY=new class{constructor(){this.size=0}get key(){throw Te(57766)}get value(){throw Te(16141)}get color(){throw Te(16727)}get left(){throw Te(29726)}get right(){throw Te(36894)}copy(e,i,a,l,c){return this}insert(e,i,a){return new hn(e,i)}remove(e,i){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class $t{constructor(e){this.comparator=e,this.data=new Tt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((i,a)=>(e(i),!1)))}forEachInRange(e,i){const a=this.data.getIteratorFrom(e[0]);for(;a.hasNext();){const l=a.getNext();if(this.comparator(l.key,e[1])>=0)return;i(l.key)}}forEachWhile(e,i){let a;for(a=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();a.hasNext();)if(!e(a.getNext().key))return}firstAfterOrEqual(e){const i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new K0(this.data.getIterator())}getIteratorFrom(e){return new K0(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach((a=>{i=i.add(a)})),i}isEqual(e){if(!(e instanceof $t)||this.size!==e.size)return!1;const i=this.data.getIterator(),a=e.data.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=a.getNext().key;if(this.comparator(l,c)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((i=>{e.push(i)})),e}toString(){const e=[];return this.forEach((i=>e.push(i))),"SortedSet("+e.toString()+")"}copy(e){const i=new $t(this.comparator);return i.data=e,i}}class K0{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class ni{constructor(e){this.fields=e,e.sort(fn.comparator)}static empty(){return new ni([])}unionWith(e){let i=new $t(fn.comparator);for(const a of this.fields)i=i.add(a);for(const a of e)i=i.add(a);return new ni(i.toArray())}covers(e){for(const i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return Bo(this.fields,e.fields,((i,a)=>i.isEqual(a)))}}class eE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class mn{constructor(e){this.binaryString=e}static fromBase64String(e){const i=(function(l){try{return atob(l)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new eE("Invalid base64 string: "+c):c}})(e);return new mn(i)}static fromUint8Array(e){const i=(function(l){let c="";for(let d=0;d<l.length;++d)c+=String.fromCharCode(l[d]);return c})(e);return new mn(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const a=new Uint8Array(i.length);for(let l=0;l<i.length;l++)a[l]=i.charCodeAt(l);return a})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return qe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}mn.EMPTY_BYTE_STRING=new mn("");const gR=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Us(r){if(tt(!!r,39018),typeof r=="string"){let e=0;const i=gR.exec(r);if(tt(!!i,46558,{timestamp:r}),i[1]){let l=i[1];l=(l+"000000000").substr(0,9),e=Number(l)}const a=new Date(r);return{seconds:Math.floor(a.getTime()/1e3),nanos:e}}return{seconds:Ot(r.seconds),nanos:Ot(r.nanos)}}function Ot(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function Ls(r){return typeof r=="string"?mn.fromBase64String(r):mn.fromUint8Array(r)}const tE="server_timestamp",nE="__type__",iE="__previous_value__",rE="__local_write_time__";function ng(r){return(r?.mapValue?.fields||{})[nE]?.stringValue===tE}function Vh(r){const e=r.mapValue.fields[iE];return ng(e)?Vh(e):e}function au(r){const e=Us(r.mapValue.fields[rE].timestampValue);return new gt(e.seconds,e.nanos)}class pR{constructor(e,i,a,l,c,d,p,y,_,b){this.databaseId=e,this.appId=i,this.persistenceKey=a,this.host=l,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=p,this.longPollingOptions=y,this.useFetchStreams=_,this.isUsingEmulator=b}}const ph="(default)";class ou{constructor(e,i){this.projectId=e,this.database=i||ph}static empty(){return new ou("","")}get isDefaultDatabase(){return this.database===ph}isEqual(e){return e instanceof ou&&e.projectId===this.projectId&&e.database===this.database}}const sE="__type__",yR="__max__",Fc={mapValue:{}},aE="__vector__",yh="value";function Ps(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?ng(r)?4:vR(r)?9007199254740991:_R(r)?10:11:Te(28295,{value:r})}function lr(r,e){if(r===e)return!0;const i=Ps(r);if(i!==Ps(e))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return au(r).isEqual(au(e));case 3:return(function(l,c){if(typeof l.timestampValue=="string"&&typeof c.timestampValue=="string"&&l.timestampValue.length===c.timestampValue.length)return l.timestampValue===c.timestampValue;const d=Us(l.timestampValue),p=Us(c.timestampValue);return d.seconds===p.seconds&&d.nanos===p.nanos})(r,e);case 5:return r.stringValue===e.stringValue;case 6:return(function(l,c){return Ls(l.bytesValue).isEqual(Ls(c.bytesValue))})(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return(function(l,c){return Ot(l.geoPointValue.latitude)===Ot(c.geoPointValue.latitude)&&Ot(l.geoPointValue.longitude)===Ot(c.geoPointValue.longitude)})(r,e);case 2:return(function(l,c){if("integerValue"in l&&"integerValue"in c)return Ot(l.integerValue)===Ot(c.integerValue);if("doubleValue"in l&&"doubleValue"in c){const d=Ot(l.doubleValue),p=Ot(c.doubleValue);return d===p?gh(d)===gh(p):isNaN(d)&&isNaN(p)}return!1})(r,e);case 9:return Bo(r.arrayValue.values||[],e.arrayValue.values||[],lr);case 10:case 11:return(function(l,c){const d=l.mapValue.fields||{},p=c.mapValue.fields||{};if(Y0(d)!==Y0(p))return!1;for(const y in d)if(d.hasOwnProperty(y)&&(p[y]===void 0||!lr(d[y],p[y])))return!1;return!0})(r,e);default:return Te(52216,{left:r})}}function lu(r,e){return(r.values||[]).find((i=>lr(i,e)))!==void 0}function qo(r,e){if(r===e)return 0;const i=Ps(r),a=Ps(e);if(i!==a)return qe(i,a);switch(i){case 0:case 9007199254740991:return 0;case 1:return qe(r.booleanValue,e.booleanValue);case 2:return(function(c,d){const p=Ot(c.integerValue||c.doubleValue),y=Ot(d.integerValue||d.doubleValue);return p<y?-1:p>y?1:p===y?0:isNaN(p)?isNaN(y)?0:-1:1})(r,e);case 3:return X0(r.timestampValue,e.timestampValue);case 4:return X0(au(r),au(e));case 5:return Em(r.stringValue,e.stringValue);case 6:return(function(c,d){const p=Ls(c),y=Ls(d);return p.compareTo(y)})(r.bytesValue,e.bytesValue);case 7:return(function(c,d){const p=c.split("/"),y=d.split("/");for(let _=0;_<p.length&&_<y.length;_++){const b=qe(p[_],y[_]);if(b!==0)return b}return qe(p.length,y.length)})(r.referenceValue,e.referenceValue);case 8:return(function(c,d){const p=qe(Ot(c.latitude),Ot(d.latitude));return p!==0?p:qe(Ot(c.longitude),Ot(d.longitude))})(r.geoPointValue,e.geoPointValue);case 9:return $0(r.arrayValue,e.arrayValue);case 10:return(function(c,d){const p=c.fields||{},y=d.fields||{},_=p[yh]?.arrayValue,b=y[yh]?.arrayValue,A=qe(_?.values?.length||0,b?.values?.length||0);return A!==0?A:$0(_,b)})(r.mapValue,e.mapValue);case 11:return(function(c,d){if(c===Fc.mapValue&&d===Fc.mapValue)return 0;if(c===Fc.mapValue)return 1;if(d===Fc.mapValue)return-1;const p=c.fields||{},y=Object.keys(p),_=d.fields||{},b=Object.keys(_);y.sort(),b.sort();for(let A=0;A<y.length&&A<b.length;++A){const V=Em(y[A],b[A]);if(V!==0)return V;const Y=qo(p[y[A]],_[b[A]]);if(Y!==0)return Y}return qe(y.length,b.length)})(r.mapValue,e.mapValue);default:throw Te(23264,{he:i})}}function X0(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return qe(r,e);const i=Us(r),a=Us(e),l=qe(i.seconds,a.seconds);return l!==0?l:qe(i.nanos,a.nanos)}function $0(r,e){const i=r.values||[],a=e.values||[];for(let l=0;l<i.length&&l<a.length;++l){const c=qo(i[l],a[l]);if(c)return c}return qe(i.length,a.length)}function Ho(r){return Tm(r)}function Tm(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(i){const a=Us(i);return`time(${a.seconds},${a.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(i){return Ls(i).toBase64()})(r.bytesValue):"referenceValue"in r?(function(i){return _e.fromName(i).toString()})(r.referenceValue):"geoPointValue"in r?(function(i){return`geo(${i.latitude},${i.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(i){let a="[",l=!0;for(const c of i.values||[])l?l=!1:a+=",",a+=Tm(c);return a+"]"})(r.arrayValue):"mapValue"in r?(function(i){const a=Object.keys(i.fields||{}).sort();let l="{",c=!0;for(const d of a)c?c=!1:l+=",",l+=`${d}:${Tm(i.fields[d])}`;return l+"}"})(r.mapValue):Te(61005,{value:r})}function th(r){switch(Ps(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Vh(r);return e?16+th(e):16;case 5:return 2*r.stringValue.length;case 6:return Ls(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(a){return(a.values||[]).reduce(((l,c)=>l+th(c)),0)})(r.arrayValue);case 10:case 11:return(function(a){let l=0;return Bs(a.fields,((c,d)=>{l+=c.length+th(d)})),l})(r.mapValue);default:throw Te(13486,{value:r})}}function J0(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function bm(r){return!!r&&"integerValue"in r}function ig(r){return!!r&&"arrayValue"in r}function Z0(r){return!!r&&"nullValue"in r}function W0(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function nh(r){return!!r&&"mapValue"in r}function _R(r){return(r?.mapValue?.fields||{})[sE]?.stringValue===aE}function Wl(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const e={mapValue:{fields:{}}};return Bs(r.mapValue.fields,((i,a)=>e.mapValue.fields[i]=Wl(a))),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(r.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=Wl(r.arrayValue.values[i]);return e}return{...r}}function vR(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===yR}class jn{constructor(e){this.value=e}static empty(){return new jn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let a=0;a<e.length-1;++a)if(i=(i.mapValue.fields||{})[e.get(a)],!nh(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=Wl(i)}setAll(e){let i=fn.emptyPath(),a={},l=[];e.forEach(((d,p)=>{if(!i.isImmediateParentOf(p)){const y=this.getFieldsMap(i);this.applyChanges(y,a,l),a={},l=[],i=p.popLast()}d?a[p.lastSegment()]=Wl(d):l.push(p.lastSegment())}));const c=this.getFieldsMap(i);this.applyChanges(c,a,l)}delete(e){const i=this.field(e.popLast());nh(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return lr(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let a=0;a<e.length;++a){let l=i.mapValue.fields[e.get(a)];nh(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},i.mapValue.fields[e.get(a)]=l),i=l}return i.mapValue.fields}applyChanges(e,i,a){Bs(i,((l,c)=>e[l]=c));for(const l of a)delete e[l]}clone(){return new jn(Wl(this.value))}}function oE(r){const e=[];return Bs(r.fields,((i,a)=>{const l=new fn([i]);if(nh(a)){const c=oE(a.mapValue).fields;if(c.length===0)e.push(l);else for(const d of c)e.push(l.child(d))}else e.push(l)})),new ni(e)}class Sn{constructor(e,i,a,l,c,d,p){this.key=e,this.documentType=i,this.version=a,this.readTime=l,this.createTime=c,this.data=d,this.documentState=p}static newInvalidDocument(e){return new Sn(e,0,Ae.min(),Ae.min(),Ae.min(),jn.empty(),0)}static newFoundDocument(e,i,a,l){return new Sn(e,1,i,Ae.min(),a,l,0)}static newNoDocument(e,i){return new Sn(e,2,i,Ae.min(),Ae.min(),jn.empty(),0)}static newUnknownDocument(e,i){return new Sn(e,3,i,Ae.min(),Ae.min(),jn.empty(),2)}convertToFoundDocument(e,i){return!this.createTime.isEqual(Ae.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=jn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=jn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ae.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Sn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Sn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class _h{constructor(e,i){this.position=e,this.inclusive=i}}function ev(r,e,i){let a=0;for(let l=0;l<r.position.length;l++){const c=e[l],d=r.position[l];if(c.field.isKeyField()?a=_e.comparator(_e.fromName(d.referenceValue),i.key):a=qo(d,i.data.field(c.field)),c.dir==="desc"&&(a*=-1),a!==0)break}return a}function tv(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let i=0;i<r.position.length;i++)if(!lr(r.position[i],e.position[i]))return!1;return!0}class vh{constructor(e,i="asc"){this.field=e,this.dir=i}}function ER(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}class lE{}class Ft extends lE{constructor(e,i,a){super(),this.field=e,this.op=i,this.value=a}static create(e,i,a){return e.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(e,i,a):new bR(e,i,a):i==="array-contains"?new wR(e,a):i==="in"?new RR(e,a):i==="not-in"?new IR(e,a):i==="array-contains-any"?new CR(e,a):new Ft(e,i,a)}static createKeyFieldInFilter(e,i,a){return i==="in"?new SR(e,a):new AR(e,a)}matches(e){const i=e.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(qo(i,this.value)):i!==null&&Ps(this.value)===Ps(i)&&this.matchesComparison(qo(i,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Te(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ki extends lE{constructor(e,i){super(),this.filters=e,this.op=i,this.Pe=null}static create(e,i){return new ki(e,i)}matches(e){return uE(this)?this.filters.find((i=>!i.matches(e)))===void 0:this.filters.find((i=>i.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,i)=>e.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function uE(r){return r.op==="and"}function cE(r){return TR(r)&&uE(r)}function TR(r){for(const e of r.filters)if(e instanceof ki)return!1;return!0}function Sm(r){if(r instanceof Ft)return r.field.canonicalString()+r.op.toString()+Ho(r.value);if(cE(r))return r.filters.map((e=>Sm(e))).join(",");{const e=r.filters.map((i=>Sm(i))).join(",");return`${r.op}(${e})`}}function hE(r,e){return r instanceof Ft?(function(a,l){return l instanceof Ft&&a.op===l.op&&a.field.isEqual(l.field)&&lr(a.value,l.value)})(r,e):r instanceof ki?(function(a,l){return l instanceof ki&&a.op===l.op&&a.filters.length===l.filters.length?a.filters.reduce(((c,d,p)=>c&&hE(d,l.filters[p])),!0):!1})(r,e):void Te(19439)}function fE(r){return r instanceof Ft?(function(i){return`${i.field.canonicalString()} ${i.op} ${Ho(i.value)}`})(r):r instanceof ki?(function(i){return i.op.toString()+" {"+i.getFilters().map(fE).join(" ,")+"}"})(r):"Filter"}class bR extends Ft{constructor(e,i,a){super(e,i,a),this.key=_e.fromName(a.referenceValue)}matches(e){const i=_e.comparator(e.key,this.key);return this.matchesComparison(i)}}class SR extends Ft{constructor(e,i){super(e,"in",i),this.keys=dE("in",i)}matches(e){return this.keys.some((i=>i.isEqual(e.key)))}}class AR extends Ft{constructor(e,i){super(e,"not-in",i),this.keys=dE("not-in",i)}matches(e){return!this.keys.some((i=>i.isEqual(e.key)))}}function dE(r,e){return(e.arrayValue?.values||[]).map((i=>_e.fromName(i.referenceValue)))}class wR extends Ft{constructor(e,i){super(e,"array-contains",i)}matches(e){const i=e.data.field(this.field);return ig(i)&&lu(i.arrayValue,this.value)}}class RR extends Ft{constructor(e,i){super(e,"in",i)}matches(e){const i=e.data.field(this.field);return i!==null&&lu(this.value.arrayValue,i)}}class IR extends Ft{constructor(e,i){super(e,"not-in",i)}matches(e){if(lu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=e.data.field(this.field);return i!==null&&i.nullValue===void 0&&!lu(this.value.arrayValue,i)}}class CR extends Ft{constructor(e,i){super(e,"array-contains-any",i)}matches(e){const i=e.data.field(this.field);return!(!ig(i)||!i.arrayValue.values)&&i.arrayValue.values.some((a=>lu(this.value.arrayValue,a)))}}class NR{constructor(e,i=null,a=[],l=[],c=null,d=null,p=null){this.path=e,this.collectionGroup=i,this.orderBy=a,this.filters=l,this.limit=c,this.startAt=d,this.endAt=p,this.Te=null}}function nv(r,e=null,i=[],a=[],l=null,c=null,d=null){return new NR(r,e,i,a,l,c,d)}function rg(r){const e=Ie(r);if(e.Te===null){let i=e.path.canonicalString();e.collectionGroup!==null&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map((a=>Sm(a))).join(","),i+="|ob:",i+=e.orderBy.map((a=>(function(c){return c.field.canonicalString()+c.dir})(a))).join(","),Oh(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map((a=>Ho(a))).join(",")),e.endAt&&(i+="|ub:",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map((a=>Ho(a))).join(",")),e.Te=i}return e.Te}function sg(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<r.orderBy.length;i++)if(!ER(r.orderBy[i],e.orderBy[i]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let i=0;i<r.filters.length;i++)if(!hE(r.filters[i],e.filters[i]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!tv(r.startAt,e.startAt)&&tv(r.endAt,e.endAt)}function Am(r){return _e.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}class Tu{constructor(e,i=null,a=[],l=[],c=null,d="F",p=null,y=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=a,this.filters=l,this.limit=c,this.limitType=d,this.startAt=p,this.endAt=y,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function xR(r,e,i,a,l,c,d,p){return new Tu(r,e,i,a,l,c,d,p)}function ag(r){return new Tu(r)}function iv(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function mE(r){return r.collectionGroup!==null}function eu(r){const e=Ie(r);if(e.Ie===null){e.Ie=[];const i=new Set;for(const c of e.explicitOrderBy)e.Ie.push(c),i.add(c.field.canonicalString());const a=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let p=new $t(fn.comparator);return d.filters.forEach((y=>{y.getFlattenedFilters().forEach((_=>{_.isInequality()&&(p=p.add(_.field))}))})),p})(e).forEach((c=>{i.has(c.canonicalString())||c.isKeyField()||e.Ie.push(new vh(c,a))})),i.has(fn.keyField().canonicalString())||e.Ie.push(new vh(fn.keyField(),a))}return e.Ie}function rr(r){const e=Ie(r);return e.Ee||(e.Ee=DR(e,eu(r))),e.Ee}function DR(r,e){if(r.limitType==="F")return nv(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map((l=>{const c=l.dir==="desc"?"asc":"desc";return new vh(l.field,c)}));const i=r.endAt?new _h(r.endAt.position,r.endAt.inclusive):null,a=r.startAt?new _h(r.startAt.position,r.startAt.inclusive):null;return nv(r.path,r.collectionGroup,e,r.filters,r.limit,i,a)}}function wm(r,e){const i=r.filters.concat([e]);return new Tu(r.path,r.collectionGroup,r.explicitOrderBy.slice(),i,r.limit,r.limitType,r.startAt,r.endAt)}function Rm(r,e,i){return new Tu(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,i,r.startAt,r.endAt)}function kh(r,e){return sg(rr(r),rr(e))&&r.limitType===e.limitType}function gE(r){return`${rg(rr(r))}|lt:${r.limitType}`}function No(r){return`Query(target=${(function(i){let a=i.path.canonicalString();return i.collectionGroup!==null&&(a+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(a+=`, filters: [${i.filters.map((l=>fE(l))).join(", ")}]`),Oh(i.limit)||(a+=", limit: "+i.limit),i.orderBy.length>0&&(a+=`, orderBy: [${i.orderBy.map((l=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(l))).join(", ")}]`),i.startAt&&(a+=", startAt: ",a+=i.startAt.inclusive?"b:":"a:",a+=i.startAt.position.map((l=>Ho(l))).join(",")),i.endAt&&(a+=", endAt: ",a+=i.endAt.inclusive?"a:":"b:",a+=i.endAt.position.map((l=>Ho(l))).join(",")),`Target(${a})`})(rr(r))}; limitType=${r.limitType})`}function Uh(r,e){return e.isFoundDocument()&&(function(a,l){const c=l.key.path;return a.collectionGroup!==null?l.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(c):_e.isDocumentKey(a.path)?a.path.isEqual(c):a.path.isImmediateParentOf(c)})(r,e)&&(function(a,l){for(const c of eu(a))if(!c.field.isKeyField()&&l.data.field(c.field)===null)return!1;return!0})(r,e)&&(function(a,l){for(const c of a.filters)if(!c.matches(l))return!1;return!0})(r,e)&&(function(a,l){return!(a.startAt&&!(function(d,p,y){const _=ev(d,p,y);return d.inclusive?_<=0:_<0})(a.startAt,eu(a),l)||a.endAt&&!(function(d,p,y){const _=ev(d,p,y);return d.inclusive?_>=0:_>0})(a.endAt,eu(a),l))})(r,e)}function MR(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function pE(r){return(e,i)=>{let a=!1;for(const l of eu(r)){const c=OR(l,e,i);if(c!==0)return c;a=a||l.field.isKeyField()}return 0}}function OR(r,e,i){const a=r.field.isKeyField()?_e.comparator(e.key,i.key):(function(c,d,p){const y=d.data.field(c),_=p.data.field(c);return y!==null&&_!==null?qo(y,_):Te(42886)})(r.field,e,i);switch(r.dir){case"asc":return a;case"desc":return-1*a;default:return Te(19790,{direction:r.dir})}}class za{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={},this.innerSize=0}get(e){const i=this.mapKeyFn(e),a=this.inner[i];if(a!==void 0){for(const[l,c]of a)if(this.equalsFn(l,e))return c}}has(e){return this.get(e)!==void 0}set(e,i){const a=this.mapKeyFn(e),l=this.inner[a];if(l===void 0)return this.inner[a]=[[e,i]],void this.innerSize++;for(let c=0;c<l.length;c++)if(this.equalsFn(l[c][0],e))return void(l[c]=[e,i]);l.push([e,i]),this.innerSize++}delete(e){const i=this.mapKeyFn(e),a=this.inner[i];if(a===void 0)return!1;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],e))return a.length===1?delete this.inner[i]:a.splice(l,1),this.innerSize--,!0;return!1}forEach(e){Bs(this.inner,((i,a)=>{for(const[l,c]of a)e(l,c)}))}isEmpty(){return W1(this.inner)}size(){return this.innerSize}}const VR=new Tt(_e.comparator);function qr(){return VR}const yE=new Tt(_e.comparator);function Kl(...r){let e=yE;for(const i of r)e=e.insert(i.key,i);return e}function _E(r){let e=yE;return r.forEach(((i,a)=>e=e.insert(i,a.overlayedDocument))),e}function Na(){return tu()}function vE(){return tu()}function tu(){return new za((r=>r.toString()),((r,e)=>r.isEqual(e)))}const kR=new Tt(_e.comparator),UR=new $t(_e.comparator);function He(...r){let e=UR;for(const i of r)e=e.add(i);return e}const LR=new $t(qe);function PR(){return LR}function og(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:gh(e)?"-0":e}}function EE(r){return{integerValue:""+r}}function zR(r,e){return fR(e)?EE(e):og(r,e)}class Lh{constructor(){this._=void 0}}function jR(r,e,i){return r instanceof uu?(function(l,c){const d={fields:{[nE]:{stringValue:tE},[rE]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return c&&ng(c)&&(c=Vh(c)),c&&(d.fields[iE]=c),{mapValue:d}})(i,e):r instanceof cu?bE(r,e):r instanceof hu?SE(r,e):(function(l,c){const d=TE(l,c),p=rv(d)+rv(l.Ae);return bm(d)&&bm(l.Ae)?EE(p):og(l.serializer,p)})(r,e)}function BR(r,e,i){return r instanceof cu?bE(r,e):r instanceof hu?SE(r,e):i}function TE(r,e){return r instanceof Eh?(function(a){return bm(a)||(function(c){return!!c&&"doubleValue"in c})(a)})(e)?e:{integerValue:0}:null}class uu extends Lh{}class cu extends Lh{constructor(e){super(),this.elements=e}}function bE(r,e){const i=AE(e);for(const a of r.elements)i.some((l=>lr(l,a)))||i.push(a);return{arrayValue:{values:i}}}class hu extends Lh{constructor(e){super(),this.elements=e}}function SE(r,e){let i=AE(e);for(const a of r.elements)i=i.filter((l=>!lr(l,a)));return{arrayValue:{values:i}}}class Eh extends Lh{constructor(e,i){super(),this.serializer=e,this.Ae=i}}function rv(r){return Ot(r.integerValue||r.doubleValue)}function AE(r){return ig(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}class qR{constructor(e,i){this.field=e,this.transform=i}}function HR(r,e){return r.field.isEqual(e.field)&&(function(a,l){return a instanceof cu&&l instanceof cu||a instanceof hu&&l instanceof hu?Bo(a.elements,l.elements,lr):a instanceof Eh&&l instanceof Eh?lr(a.Ae,l.Ae):a instanceof uu&&l instanceof uu})(r.transform,e.transform)}class FR{constructor(e,i){this.version=e,this.transformResults=i}}class Ai{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new Ai}static exists(e){return new Ai(void 0,e)}static updateTime(e){return new Ai(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function ih(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class Ph{}function wE(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new lg(r.key,Ai.none()):new bu(r.key,r.data,Ai.none());{const i=r.data,a=jn.empty();let l=new $t(fn.comparator);for(let c of e.fields)if(!l.has(c)){let d=i.field(c);d===null&&c.length>1&&(c=c.popLast(),d=i.field(c)),d===null?a.delete(c):a.set(c,d),l=l.add(c)}return new qs(r.key,a,new ni(l.toArray()),Ai.none())}}function GR(r,e,i){r instanceof bu?(function(l,c,d){const p=l.value.clone(),y=av(l.fieldTransforms,c,d.transformResults);p.setAll(y),c.convertToFoundDocument(d.version,p).setHasCommittedMutations()})(r,e,i):r instanceof qs?(function(l,c,d){if(!ih(l.precondition,c))return void c.convertToUnknownDocument(d.version);const p=av(l.fieldTransforms,c,d.transformResults),y=c.data;y.setAll(RE(l)),y.setAll(p),c.convertToFoundDocument(d.version,y).setHasCommittedMutations()})(r,e,i):(function(l,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()})(0,e,i)}function nu(r,e,i,a){return r instanceof bu?(function(c,d,p,y){if(!ih(c.precondition,d))return p;const _=c.value.clone(),b=ov(c.fieldTransforms,y,d);return _.setAll(b),d.convertToFoundDocument(d.version,_).setHasLocalMutations(),null})(r,e,i,a):r instanceof qs?(function(c,d,p,y){if(!ih(c.precondition,d))return p;const _=ov(c.fieldTransforms,y,d),b=d.data;return b.setAll(RE(c)),b.setAll(_),d.convertToFoundDocument(d.version,b).setHasLocalMutations(),p===null?null:p.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((A=>A.field)))})(r,e,i,a):(function(c,d,p){return ih(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):p})(r,e,i)}function QR(r,e){let i=null;for(const a of r.fieldTransforms){const l=e.data.field(a.field),c=TE(a.transform,l||null);c!=null&&(i===null&&(i=jn.empty()),i.set(a.field,c))}return i||null}function sv(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!(function(a,l){return a===void 0&&l===void 0||!(!a||!l)&&Bo(a,l,((c,d)=>HR(c,d)))})(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class bu extends Ph{constructor(e,i,a,l=[]){super(),this.key=e,this.value=i,this.precondition=a,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class qs extends Ph{constructor(e,i,a,l,c=[]){super(),this.key=e,this.data=i,this.fieldMask=a,this.precondition=l,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function RE(r){const e=new Map;return r.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const a=r.data.field(i);e.set(i,a)}})),e}function av(r,e,i){const a=new Map;tt(r.length===i.length,32656,{Re:i.length,Ve:r.length});for(let l=0;l<i.length;l++){const c=r[l],d=c.transform,p=e.data.field(c.field);a.set(c.field,BR(d,p,i[l]))}return a}function ov(r,e,i){const a=new Map;for(const l of r){const c=l.transform,d=i.data.field(l.field);a.set(l.field,jR(c,d,e))}return a}class lg extends Ph{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class YR extends Ph{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class KR{constructor(e,i,a,l){this.batchId=e,this.localWriteTime=i,this.baseMutations=a,this.mutations=l}applyToRemoteDocument(e,i){const a=i.mutationResults;for(let l=0;l<this.mutations.length;l++){const c=this.mutations[l];c.key.isEqual(e.key)&&GR(c,e,a[l])}}applyToLocalView(e,i){for(const a of this.baseMutations)a.key.isEqual(e.key)&&(i=nu(a,e,i,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(e.key)&&(i=nu(a,e,i,this.localWriteTime));return i}applyToLocalDocumentSet(e,i){const a=vE();return this.mutations.forEach((l=>{const c=e.get(l.key),d=c.overlayedDocument;let p=this.applyToLocalView(d,c.mutatedFields);p=i.has(l.key)?null:p;const y=wE(d,p);y!==null&&a.set(l.key,y),d.isValidDocument()||d.convertToNoDocument(Ae.min())})),a}keys(){return this.mutations.reduce(((e,i)=>e.add(i.key)),He())}isEqual(e){return this.batchId===e.batchId&&Bo(this.mutations,e.mutations,((i,a)=>sv(i,a)))&&Bo(this.baseMutations,e.baseMutations,((i,a)=>sv(i,a)))}}class ug{constructor(e,i,a,l){this.batch=e,this.commitVersion=i,this.mutationResults=a,this.docVersions=l}static from(e,i,a){tt(e.mutations.length===a.length,58842,{me:e.mutations.length,fe:a.length});let l=(function(){return kR})();const c=e.mutations;for(let d=0;d<c.length;d++)l=l.insert(c[d].key,a[d].version);return new ug(e,i,a,l)}}class XR{constructor(e,i){this.largestBatchId=e,this.mutation=i}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class $R{constructor(e,i){this.count=e,this.unchangedNames=i}}var Ht,Ye;function JR(r){switch(r){case Z.OK:return Te(64938);case Z.CANCELLED:case Z.UNKNOWN:case Z.DEADLINE_EXCEEDED:case Z.RESOURCE_EXHAUSTED:case Z.INTERNAL:case Z.UNAVAILABLE:case Z.UNAUTHENTICATED:return!1;case Z.INVALID_ARGUMENT:case Z.NOT_FOUND:case Z.ALREADY_EXISTS:case Z.PERMISSION_DENIED:case Z.FAILED_PRECONDITION:case Z.ABORTED:case Z.OUT_OF_RANGE:case Z.UNIMPLEMENTED:case Z.DATA_LOSS:return!0;default:return Te(15467,{code:r})}}function IE(r){if(r===void 0)return Br("GRPC error has no .code"),Z.UNKNOWN;switch(r){case Ht.OK:return Z.OK;case Ht.CANCELLED:return Z.CANCELLED;case Ht.UNKNOWN:return Z.UNKNOWN;case Ht.DEADLINE_EXCEEDED:return Z.DEADLINE_EXCEEDED;case Ht.RESOURCE_EXHAUSTED:return Z.RESOURCE_EXHAUSTED;case Ht.INTERNAL:return Z.INTERNAL;case Ht.UNAVAILABLE:return Z.UNAVAILABLE;case Ht.UNAUTHENTICATED:return Z.UNAUTHENTICATED;case Ht.INVALID_ARGUMENT:return Z.INVALID_ARGUMENT;case Ht.NOT_FOUND:return Z.NOT_FOUND;case Ht.ALREADY_EXISTS:return Z.ALREADY_EXISTS;case Ht.PERMISSION_DENIED:return Z.PERMISSION_DENIED;case Ht.FAILED_PRECONDITION:return Z.FAILED_PRECONDITION;case Ht.ABORTED:return Z.ABORTED;case Ht.OUT_OF_RANGE:return Z.OUT_OF_RANGE;case Ht.UNIMPLEMENTED:return Z.UNIMPLEMENTED;case Ht.DATA_LOSS:return Z.DATA_LOSS;default:return Te(39323,{code:r})}}(Ye=Ht||(Ht={}))[Ye.OK=0]="OK",Ye[Ye.CANCELLED=1]="CANCELLED",Ye[Ye.UNKNOWN=2]="UNKNOWN",Ye[Ye.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ye[Ye.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ye[Ye.NOT_FOUND=5]="NOT_FOUND",Ye[Ye.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ye[Ye.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ye[Ye.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ye[Ye.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ye[Ye.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ye[Ye.ABORTED=10]="ABORTED",Ye[Ye.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ye[Ye.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ye[Ye.INTERNAL=13]="INTERNAL",Ye[Ye.UNAVAILABLE=14]="UNAVAILABLE",Ye[Ye.DATA_LOSS=15]="DATA_LOSS";function ZR(){return new TextEncoder}const WR=new Os([4294967295,4294967295],0);function lv(r){const e=ZR().encode(r),i=new q1;return i.update(e),new Uint8Array(i.digest())}function uv(r){const e=new DataView(r.buffer),i=e.getUint32(0,!0),a=e.getUint32(4,!0),l=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new Os([i,a],0),new Os([l,c],0)]}class cg{constructor(e,i,a){if(this.bitmap=e,this.padding=i,this.hashCount=a,i<0||i>=8)throw new Xl(`Invalid padding: ${i}`);if(a<0)throw new Xl(`Invalid hash count: ${a}`);if(e.length>0&&this.hashCount===0)throw new Xl(`Invalid hash count: ${a}`);if(e.length===0&&i!==0)throw new Xl(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*e.length-i,this.pe=Os.fromNumber(this.ge)}ye(e,i,a){let l=e.add(i.multiply(Os.fromNumber(a)));return l.compare(WR)===1&&(l=new Os([l.getBits(0),l.getBits(1)],0)),l.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const i=lv(e),[a,l]=uv(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,l,c);if(!this.we(d))return!1}return!0}static create(e,i,a){const l=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),d=new cg(c,l,i);return a.forEach((p=>d.insert(p))),d}insert(e){if(this.ge===0)return;const i=lv(e),[a,l]=uv(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,l,c);this.Se(d)}}Se(e){const i=Math.floor(e/8),a=e%8;this.bitmap[i]|=1<<a}}class Xl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class zh{constructor(e,i,a,l,c){this.snapshotVersion=e,this.targetChanges=i,this.targetMismatches=a,this.documentUpdates=l,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,i,a){const l=new Map;return l.set(e,Su.createSynthesizedTargetChangeForCurrentChange(e,i,a)),new zh(Ae.min(),l,new Tt(qe),qr(),He())}}class Su{constructor(e,i,a,l,c){this.resumeToken=e,this.current=i,this.addedDocuments=a,this.modifiedDocuments=l,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,i,a){return new Su(a,i,He(),He(),He())}}class rh{constructor(e,i,a,l){this.be=e,this.removedTargetIds=i,this.key=a,this.De=l}}class CE{constructor(e,i){this.targetId=e,this.Ce=i}}class NE{constructor(e,i,a=mn.EMPTY_BYTE_STRING,l=null){this.state=e,this.targetIds=i,this.resumeToken=a,this.cause=l}}class cv{constructor(){this.ve=0,this.Fe=hv(),this.Me=mn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=He(),i=He(),a=He();return this.Fe.forEach(((l,c)=>{switch(c){case 0:e=e.add(l);break;case 2:i=i.add(l);break;case 1:a=a.add(l);break;default:Te(38017,{changeType:c})}})),new Su(this.Me,this.xe,e,i,a)}qe(){this.Oe=!1,this.Fe=hv()}Qe(e,i){this.Oe=!0,this.Fe=this.Fe.insert(e,i)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,tt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class eI{constructor(e){this.Ge=e,this.ze=new Map,this.je=qr(),this.Je=Gc(),this.He=Gc(),this.Ye=new Tt(qe)}Ze(e){for(const i of e.be)e.De&&e.De.isFoundDocument()?this.Xe(i,e.De):this.et(i,e.key,e.De);for(const i of e.removedTargetIds)this.et(i,e.key,e.De)}tt(e){this.forEachTarget(e,(i=>{const a=this.nt(i);switch(e.state){case 0:this.rt(i)&&a.Le(e.resumeToken);break;case 1:a.Ke(),a.Ne||a.qe(),a.Le(e.resumeToken);break;case 2:a.Ke(),a.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(a.We(),a.Le(e.resumeToken));break;case 4:this.rt(i)&&(this.it(i),a.Le(e.resumeToken));break;default:Te(56790,{state:e.state})}}))}forEachTarget(e,i){e.targetIds.length>0?e.targetIds.forEach(i):this.ze.forEach(((a,l)=>{this.rt(l)&&i(l)}))}st(e){const i=e.targetId,a=e.Ce.count,l=this.ot(i);if(l){const c=l.target;if(Am(c))if(a===0){const d=new _e(c.path);this.et(i,d,Sn.newNoDocument(d,Ae.min()))}else tt(a===1,20013,{expectedCount:a});else{const d=this._t(i);if(d!==a){const p=this.ut(e),y=p?this.ct(p,e,d):1;if(y!==0){this.it(i);const _=y===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(i,_)}}}}}ut(e){const i=e.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:a="",padding:l=0},hashCount:c=0}=i;let d,p;try{d=Ls(a).toUint8Array()}catch(y){if(y instanceof eE)return jo("Decoding the base64 bloom filter in existence filter failed ("+y.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw y}try{p=new cg(d,l,c)}catch(y){return jo(y instanceof Xl?"BloomFilter error: ":"Applying bloom filter failed: ",y),null}return p.ge===0?null:p}ct(e,i,a){return i.Ce.count===a-this.Pt(e,i.targetId)?0:2}Pt(e,i){const a=this.Ge.getRemoteKeysForTarget(i);let l=0;return a.forEach((c=>{const d=this.Ge.ht(),p=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;e.mightContain(p)||(this.et(i,c,null),l++)})),l}Tt(e){const i=new Map;this.ze.forEach(((c,d)=>{const p=this.ot(d);if(p){if(c.current&&Am(p.target)){const y=new _e(p.target.path);this.It(y).has(d)||this.Et(d,y)||this.et(d,y,Sn.newNoDocument(y,e))}c.Be&&(i.set(d,c.ke()),c.qe())}}));let a=He();this.He.forEach(((c,d)=>{let p=!0;d.forEachWhile((y=>{const _=this.ot(y);return!_||_.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)})),p&&(a=a.add(c))})),this.je.forEach(((c,d)=>d.setReadTime(e)));const l=new zh(e,i,this.Ye,this.je,a);return this.je=qr(),this.Je=Gc(),this.He=Gc(),this.Ye=new Tt(qe),l}Xe(e,i){if(!this.rt(e))return;const a=this.Et(e,i.key)?2:0;this.nt(e).Qe(i.key,a),this.je=this.je.insert(i.key,i),this.Je=this.Je.insert(i.key,this.It(i.key).add(e)),this.He=this.He.insert(i.key,this.dt(i.key).add(e))}et(e,i,a){if(!this.rt(e))return;const l=this.nt(e);this.Et(e,i)?l.Qe(i,1):l.$e(i),this.He=this.He.insert(i,this.dt(i).delete(e)),this.He=this.He.insert(i,this.dt(i).add(e)),a&&(this.je=this.je.insert(i,a))}removeTarget(e){this.ze.delete(e)}_t(e){const i=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+i.addedDocuments.size-i.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let i=this.ze.get(e);return i||(i=new cv,this.ze.set(e,i)),i}dt(e){let i=this.He.get(e);return i||(i=new $t(qe),this.He=this.He.insert(e,i)),i}It(e){let i=this.Je.get(e);return i||(i=new $t(qe),this.Je=this.Je.insert(e,i)),i}rt(e){const i=this.ot(e)!==null;return i||ce("WatchChangeAggregator","Detected inactive target",e),i}ot(e){const i=this.ze.get(e);return i&&i.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new cv),this.Ge.getRemoteKeysForTarget(e).forEach((i=>{this.et(e,i,null)}))}Et(e,i){return this.Ge.getRemoteKeysForTarget(e).has(i)}}function Gc(){return new Tt(_e.comparator)}function hv(){return new Tt(_e.comparator)}const tI={asc:"ASCENDING",desc:"DESCENDING"},nI={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},iI={and:"AND",or:"OR"};class rI{constructor(e,i){this.databaseId=e,this.useProto3Json=i}}function Im(r,e){return r.useProto3Json||Oh(e)?e:{value:e}}function Th(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function xE(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function sI(r,e){return Th(r,e.toTimestamp())}function sr(r){return tt(!!r,49232),Ae.fromTimestamp((function(i){const a=Us(i);return new gt(a.seconds,a.nanos)})(r))}function hg(r,e){return Cm(r,e).canonicalString()}function Cm(r,e){const i=(function(l){return new ht(["projects",l.projectId,"databases",l.database])})(r).child("documents");return e===void 0?i:i.child(e)}function DE(r){const e=ht.fromString(r);return tt(UE(e),10190,{key:e.toString()}),e}function Nm(r,e){return hg(r.databaseId,e.path)}function im(r,e){const i=DE(e);if(i.get(1)!==r.databaseId.projectId)throw new he(Z.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+r.databaseId.projectId);if(i.get(3)!==r.databaseId.database)throw new he(Z.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+r.databaseId.database);return new _e(OE(i))}function ME(r,e){return hg(r.databaseId,e)}function aI(r){const e=DE(r);return e.length===4?ht.emptyPath():OE(e)}function xm(r){return new ht(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function OE(r){return tt(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function fv(r,e,i){return{name:Nm(r,e),fields:i.value.mapValue.fields}}function oI(r,e){let i;if("targetChange"in e){e.targetChange;const a=(function(_){return _==="NO_CHANGE"?0:_==="ADD"?1:_==="REMOVE"?2:_==="CURRENT"?3:_==="RESET"?4:Te(39313,{state:_})})(e.targetChange.targetChangeType||"NO_CHANGE"),l=e.targetChange.targetIds||[],c=(function(_,b){return _.useProto3Json?(tt(b===void 0||typeof b=="string",58123),mn.fromBase64String(b||"")):(tt(b===void 0||b instanceof Buffer||b instanceof Uint8Array,16193),mn.fromUint8Array(b||new Uint8Array))})(r,e.targetChange.resumeToken),d=e.targetChange.cause,p=d&&(function(_){const b=_.code===void 0?Z.UNKNOWN:IE(_.code);return new he(b,_.message||"")})(d);i=new NE(a,l,c,p||null)}else if("documentChange"in e){e.documentChange;const a=e.documentChange;a.document,a.document.name,a.document.updateTime;const l=im(r,a.document.name),c=sr(a.document.updateTime),d=a.document.createTime?sr(a.document.createTime):Ae.min(),p=new jn({mapValue:{fields:a.document.fields}}),y=Sn.newFoundDocument(l,c,d,p),_=a.targetIds||[],b=a.removedTargetIds||[];i=new rh(_,b,y.key,y)}else if("documentDelete"in e){e.documentDelete;const a=e.documentDelete;a.document;const l=im(r,a.document),c=a.readTime?sr(a.readTime):Ae.min(),d=Sn.newNoDocument(l,c),p=a.removedTargetIds||[];i=new rh([],p,d.key,d)}else if("documentRemove"in e){e.documentRemove;const a=e.documentRemove;a.document;const l=im(r,a.document),c=a.removedTargetIds||[];i=new rh([],c,l,null)}else{if(!("filter"in e))return Te(11601,{Rt:e});{e.filter;const a=e.filter;a.targetId;const{count:l=0,unchangedNames:c}=a,d=new $R(l,c),p=a.targetId;i=new CE(p,d)}}return i}function lI(r,e){let i;if(e instanceof bu)i={update:fv(r,e.key,e.value)};else if(e instanceof lg)i={delete:Nm(r,e.key)};else if(e instanceof qs)i={update:fv(r,e.key,e.data),updateMask:yI(e.fieldMask)};else{if(!(e instanceof YR))return Te(16599,{Vt:e.type});i={verify:Nm(r,e.key)}}return e.fieldTransforms.length>0&&(i.updateTransforms=e.fieldTransforms.map((a=>(function(c,d){const p=d.transform;if(p instanceof uu)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof cu)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof hu)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof Eh)return{fieldPath:d.field.canonicalString(),increment:p.Ae};throw Te(20930,{transform:d.transform})})(0,a)))),e.precondition.isNone||(i.currentDocument=(function(l,c){return c.updateTime!==void 0?{updateTime:sI(l,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:Te(27497)})(r,e.precondition)),i}function uI(r,e){return r&&r.length>0?(tt(e!==void 0,14353),r.map((i=>(function(l,c){let d=l.updateTime?sr(l.updateTime):sr(c);return d.isEqual(Ae.min())&&(d=sr(c)),new FR(d,l.transformResults||[])})(i,e)))):[]}function cI(r,e){return{documents:[ME(r,e.path)]}}function hI(r,e){const i={structuredQuery:{}},a=e.path;let l;e.collectionGroup!==null?(l=a,i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(l=a.popLast(),i.structuredQuery.from=[{collectionId:a.lastSegment()}]),i.parent=ME(r,l);const c=(function(_){if(_.length!==0)return kE(ki.create(_,"and"))})(e.filters);c&&(i.structuredQuery.where=c);const d=(function(_){if(_.length!==0)return _.map((b=>(function(V){return{field:xo(V.field),direction:mI(V.dir)}})(b)))})(e.orderBy);d&&(i.structuredQuery.orderBy=d);const p=Im(r,e.limit);return p!==null&&(i.structuredQuery.limit=p),e.startAt&&(i.structuredQuery.startAt=(function(_){return{before:_.inclusive,values:_.position}})(e.startAt)),e.endAt&&(i.structuredQuery.endAt=(function(_){return{before:!_.inclusive,values:_.position}})(e.endAt)),{ft:i,parent:l}}function fI(r){let e=aI(r.parent);const i=r.structuredQuery,a=i.from?i.from.length:0;let l=null;if(a>0){tt(a===1,65062);const b=i.from[0];b.allDescendants?l=b.collectionId:e=e.child(b.collectionId)}let c=[];i.where&&(c=(function(A){const V=VE(A);return V instanceof ki&&cE(V)?V.getFilters():[V]})(i.where));let d=[];i.orderBy&&(d=(function(A){return A.map((V=>(function(te){return new vh(Do(te.field),(function(ne){switch(ne){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(te.direction))})(V)))})(i.orderBy));let p=null;i.limit&&(p=(function(A){let V;return V=typeof A=="object"?A.value:A,Oh(V)?null:V})(i.limit));let y=null;i.startAt&&(y=(function(A){const V=!!A.before,Y=A.values||[];return new _h(Y,V)})(i.startAt));let _=null;return i.endAt&&(_=(function(A){const V=!A.before,Y=A.values||[];return new _h(Y,V)})(i.endAt)),xR(e,l,d,c,p,"F",y,_)}function dI(r,e){const i=(function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Te(28987,{purpose:l})}})(e.purpose);return i==null?null:{"goog-listen-tags":i}}function VE(r){return r.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const a=Do(i.unaryFilter.field);return Ft.create(a,"==",{doubleValue:NaN});case"IS_NULL":const l=Do(i.unaryFilter.field);return Ft.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=Do(i.unaryFilter.field);return Ft.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=Do(i.unaryFilter.field);return Ft.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Te(61313);default:return Te(60726)}})(r):r.fieldFilter!==void 0?(function(i){return Ft.create(Do(i.fieldFilter.field),(function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Te(58110);default:return Te(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(i){return ki.create(i.compositeFilter.filters.map((a=>VE(a))),(function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return Te(1026)}})(i.compositeFilter.op))})(r):Te(30097,{filter:r})}function mI(r){return tI[r]}function gI(r){return nI[r]}function pI(r){return iI[r]}function xo(r){return{fieldPath:r.canonicalString()}}function Do(r){return fn.fromServerFormat(r.fieldPath)}function kE(r){return r instanceof Ft?(function(i){if(i.op==="=="){if(W0(i.value))return{unaryFilter:{field:xo(i.field),op:"IS_NAN"}};if(Z0(i.value))return{unaryFilter:{field:xo(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(W0(i.value))return{unaryFilter:{field:xo(i.field),op:"IS_NOT_NAN"}};if(Z0(i.value))return{unaryFilter:{field:xo(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:xo(i.field),op:gI(i.op),value:i.value}}})(r):r instanceof ki?(function(i){const a=i.getFilters().map((l=>kE(l)));return a.length===1?a[0]:{compositeFilter:{op:pI(i.op),filters:a}}})(r):Te(54877,{filter:r})}function yI(r){const e=[];return r.fields.forEach((i=>e.push(i.canonicalString()))),{fieldPaths:e}}function UE(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}class Ns{constructor(e,i,a,l,c=Ae.min(),d=Ae.min(),p=mn.EMPTY_BYTE_STRING,y=null){this.target=e,this.targetId=i,this.purpose=a,this.sequenceNumber=l,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=p,this.expectedCount=y}withSequenceNumber(e){return new Ns(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,i){return new Ns(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ns(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ns(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class _I{constructor(e){this.yt=e}}function vI(r){const e=fI({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?Rm(e,e.limit,"L"):e}class EI{constructor(){this.Cn=new TI}addToCollectionParentIndex(e,i){return this.Cn.add(i),W.resolve()}getCollectionParents(e,i){return W.resolve(this.Cn.getEntries(i))}addFieldIndex(e,i){return W.resolve()}deleteFieldIndex(e,i){return W.resolve()}deleteAllFieldIndexes(e){return W.resolve()}createTargetIndexes(e,i){return W.resolve()}getDocumentsMatchingTarget(e,i){return W.resolve(null)}getIndexType(e,i){return W.resolve(0)}getFieldIndexes(e,i){return W.resolve([])}getNextCollectionGroupToUpdate(e){return W.resolve(null)}getMinOffset(e,i){return W.resolve(ks.min())}getMinOffsetFromCollectionGroup(e,i){return W.resolve(ks.min())}updateCollectionGroup(e,i,a){return W.resolve()}updateIndexEntries(e,i){return W.resolve()}}class TI{constructor(){this.index={}}add(e){const i=e.lastSegment(),a=e.popLast(),l=this.index[i]||new $t(ht.comparator),c=!l.has(a);return this.index[i]=l.add(a),c}has(e){const i=e.lastSegment(),a=e.popLast(),l=this.index[i];return l&&l.has(a)}getEntries(e){return(this.index[e]||new $t(ht.comparator)).toArray()}}const dv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},LE=41943040;class zn{static withCacheSize(e){return new zn(e,zn.DEFAULT_COLLECTION_PERCENTILE,zn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,i,a){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=a}}zn.DEFAULT_COLLECTION_PERCENTILE=10,zn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,zn.DEFAULT=new zn(LE,zn.DEFAULT_COLLECTION_PERCENTILE,zn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),zn.DISABLED=new zn(-1,0,0);class Fo{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Fo(0)}static cr(){return new Fo(-1)}}const mv="LruGarbageCollector",bI=1048576;function gv([r,e],[i,a]){const l=qe(r,i);return l===0?qe(e,a):l}class SI{constructor(e){this.Ir=e,this.buffer=new $t(gv),this.Er=0}dr(){return++this.Er}Ar(e){const i=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(i);else{const a=this.buffer.last();gv(i,a)<0&&(this.buffer=this.buffer.delete(a).add(i))}}get maxValue(){return this.buffer.last()[0]}}class AI{constructor(e,i,a){this.garbageCollector=e,this.asyncQueue=i,this.localStore=a,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){ce(mv,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){Jo(i)?ce(mv,"Ignoring IndexedDB error during garbage collection: ",i):await $o(i)}await this.Vr(3e5)}))}}class wI{constructor(e,i){this.mr=e,this.params=i}calculateTargetCount(e,i){return this.mr.gr(e).next((a=>Math.floor(i/100*a)))}nthSequenceNumber(e,i){if(i===0)return W.resolve(Mh.ce);const a=new SI(i);return this.mr.forEachTarget(e,(l=>a.Ar(l.sequenceNumber))).next((()=>this.mr.pr(e,(l=>a.Ar(l))))).next((()=>a.maxValue))}removeTargets(e,i,a){return this.mr.removeTargets(e,i,a)}removeOrphanedDocuments(e,i){return this.mr.removeOrphanedDocuments(e,i)}collect(e,i){return this.params.cacheSizeCollectionThreshold===-1?(ce("LruGarbageCollector","Garbage collection skipped; disabled"),W.resolve(dv)):this.getCacheSize(e).next((a=>a<this.params.cacheSizeCollectionThreshold?(ce("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),dv):this.yr(e,i)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,i){let a,l,c,d,p,y,_;const b=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((A=>(A>this.params.maximumSequenceNumbersToCollect?(ce("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${A}`),l=this.params.maximumSequenceNumbersToCollect):l=A,d=Date.now(),this.nthSequenceNumber(e,l)))).next((A=>(a=A,p=Date.now(),this.removeTargets(e,a,i)))).next((A=>(c=A,y=Date.now(),this.removeOrphanedDocuments(e,a)))).next((A=>(_=Date.now(),Co()<=Be.DEBUG&&ce("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-b}ms
	Determined least recently used ${l} in `+(p-d)+`ms
	Removed ${c} targets in `+(y-p)+`ms
	Removed ${A} documents in `+(_-y)+`ms
Total Duration: ${_-b}ms`),W.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:c,documentsRemoved:A}))))}}function RI(r,e){return new wI(r,e)}class II{constructor(){this.changes=new za((e=>e.toString()),((e,i)=>e.isEqual(i))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,i){this.assertNotApplied(),this.changes.set(e,Sn.newInvalidDocument(e).setReadTime(i))}getEntry(e,i){this.assertNotApplied();const a=this.changes.get(i);return a!==void 0?W.resolve(a):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class CI{constructor(e,i){this.overlayedDocument=e,this.mutatedFields=i}}class NI{constructor(e,i,a,l){this.remoteDocumentCache=e,this.mutationQueue=i,this.documentOverlayCache=a,this.indexManager=l}getDocument(e,i){let a=null;return this.documentOverlayCache.getOverlay(e,i).next((l=>(a=l,this.remoteDocumentCache.getEntry(e,i)))).next((l=>(a!==null&&nu(a.mutation,l,ni.empty(),gt.now()),l)))}getDocuments(e,i){return this.remoteDocumentCache.getEntries(e,i).next((a=>this.getLocalViewOfDocuments(e,a,He()).next((()=>a))))}getLocalViewOfDocuments(e,i,a=He()){const l=Na();return this.populateOverlays(e,l,i).next((()=>this.computeViews(e,i,l,a).next((c=>{let d=Kl();return c.forEach(((p,y)=>{d=d.insert(p,y.overlayedDocument)})),d}))))}getOverlayedDocuments(e,i){const a=Na();return this.populateOverlays(e,a,i).next((()=>this.computeViews(e,i,a,He())))}populateOverlays(e,i,a){const l=[];return a.forEach((c=>{i.has(c)||l.push(c)})),this.documentOverlayCache.getOverlays(e,l).next((c=>{c.forEach(((d,p)=>{i.set(d,p)}))}))}computeViews(e,i,a,l){let c=qr();const d=tu(),p=(function(){return tu()})();return i.forEach(((y,_)=>{const b=a.get(_.key);l.has(_.key)&&(b===void 0||b.mutation instanceof qs)?c=c.insert(_.key,_):b!==void 0?(d.set(_.key,b.mutation.getFieldMask()),nu(b.mutation,_,b.mutation.getFieldMask(),gt.now())):d.set(_.key,ni.empty())})),this.recalculateAndSaveOverlays(e,c).next((y=>(y.forEach(((_,b)=>d.set(_,b))),i.forEach(((_,b)=>p.set(_,new CI(b,d.get(_)??null)))),p)))}recalculateAndSaveOverlays(e,i){const a=tu();let l=new Tt(((d,p)=>d-p)),c=He();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,i).next((d=>{for(const p of d)p.keys().forEach((y=>{const _=i.get(y);if(_===null)return;let b=a.get(y)||ni.empty();b=p.applyToLocalView(_,b),a.set(y,b);const A=(l.get(p.batchId)||He()).add(y);l=l.insert(p.batchId,A)}))})).next((()=>{const d=[],p=l.getReverseIterator();for(;p.hasNext();){const y=p.getNext(),_=y.key,b=y.value,A=vE();b.forEach((V=>{if(!c.has(V)){const Y=wE(i.get(V),a.get(V));Y!==null&&A.set(V,Y),c=c.add(V)}})),d.push(this.documentOverlayCache.saveOverlays(e,_,A))}return W.waitFor(d)})).next((()=>a))}recalculateAndSaveOverlaysForDocumentKeys(e,i){return this.remoteDocumentCache.getEntries(e,i).next((a=>this.recalculateAndSaveOverlays(e,a)))}getDocumentsMatchingQuery(e,i,a,l){return(function(d){return _e.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0})(i)?this.getDocumentsMatchingDocumentQuery(e,i.path):mE(i)?this.getDocumentsMatchingCollectionGroupQuery(e,i,a,l):this.getDocumentsMatchingCollectionQuery(e,i,a,l)}getNextDocuments(e,i,a,l){return this.remoteDocumentCache.getAllFromCollectionGroup(e,i,a,l).next((c=>{const d=l-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,i,a.largestBatchId,l-c.size):W.resolve(Na());let p=su,y=c;return d.next((_=>W.forEach(_,((b,A)=>(p<A.largestBatchId&&(p=A.largestBatchId),c.get(b)?W.resolve():this.remoteDocumentCache.getEntry(e,b).next((V=>{y=y.insert(b,V)}))))).next((()=>this.populateOverlays(e,_,c))).next((()=>this.computeViews(e,y,_,He()))).next((b=>({batchId:p,changes:_E(b)})))))}))}getDocumentsMatchingDocumentQuery(e,i){return this.getDocument(e,new _e(i)).next((a=>{let l=Kl();return a.isFoundDocument()&&(l=l.insert(a.key,a)),l}))}getDocumentsMatchingCollectionGroupQuery(e,i,a,l){const c=i.collectionGroup;let d=Kl();return this.indexManager.getCollectionParents(e,c).next((p=>W.forEach(p,(y=>{const _=(function(A,V){return new Tu(V,null,A.explicitOrderBy.slice(),A.filters.slice(),A.limit,A.limitType,A.startAt,A.endAt)})(i,y.child(c));return this.getDocumentsMatchingCollectionQuery(e,_,a,l).next((b=>{b.forEach(((A,V)=>{d=d.insert(A,V)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(e,i,a,l){let c;return this.documentOverlayCache.getOverlaysForCollection(e,i.path,a.largestBatchId).next((d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,i,a,c,l)))).next((d=>{c.forEach(((y,_)=>{const b=_.getKey();d.get(b)===null&&(d=d.insert(b,Sn.newInvalidDocument(b)))}));let p=Kl();return d.forEach(((y,_)=>{const b=c.get(y);b!==void 0&&nu(b.mutation,_,ni.empty(),gt.now()),Uh(i,_)&&(p=p.insert(y,_))})),p}))}}class xI{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,i){return W.resolve(this.Lr.get(i))}saveBundleMetadata(e,i){return this.Lr.set(i.id,(function(l){return{id:l.id,version:l.version,createTime:sr(l.createTime)}})(i)),W.resolve()}getNamedQuery(e,i){return W.resolve(this.kr.get(i))}saveNamedQuery(e,i){return this.kr.set(i.name,(function(l){return{name:l.name,query:vI(l.bundledQuery),readTime:sr(l.readTime)}})(i)),W.resolve()}}class DI{constructor(){this.overlays=new Tt(_e.comparator),this.qr=new Map}getOverlay(e,i){return W.resolve(this.overlays.get(i))}getOverlays(e,i){const a=Na();return W.forEach(i,(l=>this.getOverlay(e,l).next((c=>{c!==null&&a.set(l,c)})))).next((()=>a))}saveOverlays(e,i,a){return a.forEach(((l,c)=>{this.St(e,i,c)})),W.resolve()}removeOverlaysForBatchId(e,i,a){const l=this.qr.get(a);return l!==void 0&&(l.forEach((c=>this.overlays=this.overlays.remove(c))),this.qr.delete(a)),W.resolve()}getOverlaysForCollection(e,i,a){const l=Na(),c=i.length+1,d=new _e(i.child("")),p=this.overlays.getIteratorFrom(d);for(;p.hasNext();){const y=p.getNext().value,_=y.getKey();if(!i.isPrefixOf(_.path))break;_.path.length===c&&y.largestBatchId>a&&l.set(y.getKey(),y)}return W.resolve(l)}getOverlaysForCollectionGroup(e,i,a,l){let c=new Tt(((_,b)=>_-b));const d=this.overlays.getIterator();for(;d.hasNext();){const _=d.getNext().value;if(_.getKey().getCollectionGroup()===i&&_.largestBatchId>a){let b=c.get(_.largestBatchId);b===null&&(b=Na(),c=c.insert(_.largestBatchId,b)),b.set(_.getKey(),_)}}const p=Na(),y=c.getIterator();for(;y.hasNext()&&(y.getNext().value.forEach(((_,b)=>p.set(_,b))),!(p.size()>=l)););return W.resolve(p)}St(e,i,a){const l=this.overlays.get(a.key);if(l!==null){const d=this.qr.get(l.largestBatchId).delete(a.key);this.qr.set(l.largestBatchId,d)}this.overlays=this.overlays.insert(a.key,new XR(i,a));let c=this.qr.get(i);c===void 0&&(c=He(),this.qr.set(i,c)),this.qr.set(i,c.add(a.key))}}class MI{constructor(){this.sessionToken=mn.EMPTY_BYTE_STRING}getSessionToken(e){return W.resolve(this.sessionToken)}setSessionToken(e,i){return this.sessionToken=i,W.resolve()}}class fg{constructor(){this.Qr=new $t(nn.$r),this.Ur=new $t(nn.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,i){const a=new nn(e,i);this.Qr=this.Qr.add(a),this.Ur=this.Ur.add(a)}Wr(e,i){e.forEach((a=>this.addReference(a,i)))}removeReference(e,i){this.Gr(new nn(e,i))}zr(e,i){e.forEach((a=>this.removeReference(a,i)))}jr(e){const i=new _e(new ht([])),a=new nn(i,e),l=new nn(i,e+1),c=[];return this.Ur.forEachInRange([a,l],(d=>{this.Gr(d),c.push(d.key)})),c}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const i=new _e(new ht([])),a=new nn(i,e),l=new nn(i,e+1);let c=He();return this.Ur.forEachInRange([a,l],(d=>{c=c.add(d.key)})),c}containsKey(e){const i=new nn(e,0),a=this.Qr.firstAfterOrEqual(i);return a!==null&&e.isEqual(a.key)}}class nn{constructor(e,i){this.key=e,this.Yr=i}static $r(e,i){return _e.comparator(e.key,i.key)||qe(e.Yr,i.Yr)}static Kr(e,i){return qe(e.Yr,i.Yr)||_e.comparator(e.key,i.key)}}class OI{constructor(e,i){this.indexManager=e,this.referenceDelegate=i,this.mutationQueue=[],this.tr=1,this.Zr=new $t(nn.$r)}checkEmpty(e){return W.resolve(this.mutationQueue.length===0)}addMutationBatch(e,i,a,l){const c=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new KR(c,i,a,l);this.mutationQueue.push(d);for(const p of l)this.Zr=this.Zr.add(new nn(p.key,c)),this.indexManager.addToCollectionParentIndex(e,p.key.path.popLast());return W.resolve(d)}lookupMutationBatch(e,i){return W.resolve(this.Xr(i))}getNextMutationBatchAfterBatchId(e,i){const a=i+1,l=this.ei(a),c=l<0?0:l;return W.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return W.resolve(this.mutationQueue.length===0?tg:this.tr-1)}getAllMutationBatches(e){return W.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){const a=new nn(i,0),l=new nn(i,Number.POSITIVE_INFINITY),c=[];return this.Zr.forEachInRange([a,l],(d=>{const p=this.Xr(d.Yr);c.push(p)})),W.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,i){let a=new $t(qe);return i.forEach((l=>{const c=new nn(l,0),d=new nn(l,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([c,d],(p=>{a=a.add(p.Yr)}))})),W.resolve(this.ti(a))}getAllMutationBatchesAffectingQuery(e,i){const a=i.path,l=a.length+1;let c=a;_e.isDocumentKey(c)||(c=c.child(""));const d=new nn(new _e(c),0);let p=new $t(qe);return this.Zr.forEachWhile((y=>{const _=y.key.path;return!!a.isPrefixOf(_)&&(_.length===l&&(p=p.add(y.Yr)),!0)}),d),W.resolve(this.ti(p))}ti(e){const i=[];return e.forEach((a=>{const l=this.Xr(a);l!==null&&i.push(l)})),i}removeMutationBatch(e,i){tt(this.ni(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let a=this.Zr;return W.forEach(i.mutations,(l=>{const c=new nn(l.key,i.batchId);return a=a.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,l.key)})).next((()=>{this.Zr=a}))}ir(e){}containsKey(e,i){const a=new nn(i,0),l=this.Zr.firstAfterOrEqual(a);return W.resolve(i.isEqual(l&&l.key))}performConsistencyCheck(e){return this.mutationQueue.length,W.resolve()}ni(e,i){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const i=this.ei(e);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class VI{constructor(e){this.ri=e,this.docs=(function(){return new Tt(_e.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,i){const a=i.key,l=this.docs.get(a),c=l?l.size:0,d=this.ri(i);return this.docs=this.docs.insert(a,{document:i.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(e,a.path.popLast())}removeEntry(e){const i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){const a=this.docs.get(i);return W.resolve(a?a.document.mutableCopy():Sn.newInvalidDocument(i))}getEntries(e,i){let a=qr();return i.forEach((l=>{const c=this.docs.get(l);a=a.insert(l,c?c.document.mutableCopy():Sn.newInvalidDocument(l))})),W.resolve(a)}getDocumentsMatchingQuery(e,i,a,l){let c=qr();const d=i.path,p=new _e(d.child("__id-9223372036854775808__")),y=this.docs.getIteratorFrom(p);for(;y.hasNext();){const{key:_,value:{document:b}}=y.getNext();if(!d.isPrefixOf(_.path))break;_.path.length>d.length+1||lR(oR(b),a)<=0||(l.has(b.key)||Uh(i,b))&&(c=c.insert(b.key,b.mutableCopy()))}return W.resolve(c)}getAllFromCollectionGroup(e,i,a,l){Te(9500)}ii(e,i){return W.forEach(this.docs,(a=>i(a)))}newChangeBuffer(e){return new kI(this)}getSize(e){return W.resolve(this.size)}}class kI extends II{constructor(e){super(),this.Nr=e}applyChanges(e){const i=[];return this.changes.forEach(((a,l)=>{l.isValidDocument()?i.push(this.Nr.addEntry(e,l)):this.Nr.removeEntry(a)})),W.waitFor(i)}getFromCache(e,i){return this.Nr.getEntry(e,i)}getAllFromCache(e,i){return this.Nr.getEntries(e,i)}}class UI{constructor(e){this.persistence=e,this.si=new za((i=>rg(i)),sg),this.lastRemoteSnapshotVersion=Ae.min(),this.highestTargetId=0,this.oi=0,this._i=new fg,this.targetCount=0,this.ai=Fo.ur()}forEachTarget(e,i){return this.si.forEach(((a,l)=>i(l))),W.resolve()}getLastRemoteSnapshotVersion(e){return W.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return W.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),W.resolve(this.highestTargetId)}setTargetsMetadata(e,i,a){return a&&(this.lastRemoteSnapshotVersion=a),i>this.oi&&(this.oi=i),W.resolve()}Pr(e){this.si.set(e.target,e);const i=e.targetId;i>this.highestTargetId&&(this.ai=new Fo(i),this.highestTargetId=i),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,i){return this.Pr(i),this.targetCount+=1,W.resolve()}updateTargetData(e,i){return this.Pr(i),W.resolve()}removeTargetData(e,i){return this.si.delete(i.target),this._i.jr(i.targetId),this.targetCount-=1,W.resolve()}removeTargets(e,i,a){let l=0;const c=[];return this.si.forEach(((d,p)=>{p.sequenceNumber<=i&&a.get(p.targetId)===null&&(this.si.delete(d),c.push(this.removeMatchingKeysForTargetId(e,p.targetId)),l++)})),W.waitFor(c).next((()=>l))}getTargetCount(e){return W.resolve(this.targetCount)}getTargetData(e,i){const a=this.si.get(i)||null;return W.resolve(a)}addMatchingKeys(e,i,a){return this._i.Wr(i,a),W.resolve()}removeMatchingKeys(e,i,a){this._i.zr(i,a);const l=this.persistence.referenceDelegate,c=[];return l&&i.forEach((d=>{c.push(l.markPotentiallyOrphaned(e,d))})),W.waitFor(c)}removeMatchingKeysForTargetId(e,i){return this._i.jr(i),W.resolve()}getMatchingKeysForTargetId(e,i){const a=this._i.Hr(i);return W.resolve(a)}containsKey(e,i){return W.resolve(this._i.containsKey(i))}}class PE{constructor(e,i){this.ui={},this.overlays={},this.ci=new Mh(0),this.li=!1,this.li=!0,this.hi=new MI,this.referenceDelegate=e(this),this.Pi=new UI(this),this.indexManager=new EI,this.remoteDocumentCache=(function(l){return new VI(l)})((a=>this.referenceDelegate.Ti(a))),this.serializer=new _I(i),this.Ii=new xI(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let i=this.overlays[e.toKey()];return i||(i=new DI,this.overlays[e.toKey()]=i),i}getMutationQueue(e,i){let a=this.ui[e.toKey()];return a||(a=new OI(i,this.referenceDelegate),this.ui[e.toKey()]=a),a}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,i,a){ce("MemoryPersistence","Starting transaction:",e);const l=new LI(this.ci.next());return this.referenceDelegate.Ei(),a(l).next((c=>this.referenceDelegate.di(l).next((()=>c)))).toPromise().then((c=>(l.raiseOnCommittedEvent(),c)))}Ai(e,i){return W.or(Object.values(this.ui).map((a=>()=>a.containsKey(e,i))))}}class LI extends cR{constructor(e){super(),this.currentSequenceNumber=e}}class dg{constructor(e){this.persistence=e,this.Ri=new fg,this.Vi=null}static mi(e){return new dg(e)}get fi(){if(this.Vi)return this.Vi;throw Te(60996)}addReference(e,i,a){return this.Ri.addReference(a,i),this.fi.delete(a.toString()),W.resolve()}removeReference(e,i,a){return this.Ri.removeReference(a,i),this.fi.add(a.toString()),W.resolve()}markPotentiallyOrphaned(e,i){return this.fi.add(i.toString()),W.resolve()}removeTarget(e,i){this.Ri.jr(i.targetId).forEach((l=>this.fi.add(l.toString())));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(e,i.targetId).next((l=>{l.forEach((c=>this.fi.add(c.toString())))})).next((()=>a.removeTargetData(e,i)))}Ei(){this.Vi=new Set}di(e){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return W.forEach(this.fi,(a=>{const l=_e.fromPath(a);return this.gi(e,l).next((c=>{c||i.removeEntry(l,Ae.min())}))})).next((()=>(this.Vi=null,i.apply(e))))}updateLimboDocument(e,i){return this.gi(e,i).next((a=>{a?this.fi.delete(i.toString()):this.fi.add(i.toString())}))}Ti(e){return 0}gi(e,i){return W.or([()=>W.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.Ai(e,i)])}}class bh{constructor(e,i){this.persistence=e,this.pi=new za((a=>dR(a.path)),((a,l)=>a.isEqual(l))),this.garbageCollector=RI(this,i)}static mi(e,i){return new bh(e,i)}Ei(){}di(e){return W.resolve()}forEachTarget(e,i){return this.persistence.getTargetCache().forEachTarget(e,i)}gr(e){const i=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((a=>i.next((l=>a+l))))}wr(e){let i=0;return this.pr(e,(a=>{i++})).next((()=>i))}pr(e,i){return W.forEach(this.pi,((a,l)=>this.br(e,a,l).next((c=>c?W.resolve():i(l)))))}removeTargets(e,i,a){return this.persistence.getTargetCache().removeTargets(e,i,a)}removeOrphanedDocuments(e,i){let a=0;const l=this.persistence.getRemoteDocumentCache(),c=l.newChangeBuffer();return l.ii(e,(d=>this.br(e,d,i).next((p=>{p||(a++,c.removeEntry(d,Ae.min()))})))).next((()=>c.apply(e))).next((()=>a))}markPotentiallyOrphaned(e,i){return this.pi.set(i,e.currentSequenceNumber),W.resolve()}removeTarget(e,i){const a=i.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,a)}addReference(e,i,a){return this.pi.set(a,e.currentSequenceNumber),W.resolve()}removeReference(e,i,a){return this.pi.set(a,e.currentSequenceNumber),W.resolve()}updateLimboDocument(e,i){return this.pi.set(i,e.currentSequenceNumber),W.resolve()}Ti(e){let i=e.key.toString().length;return e.isFoundDocument()&&(i+=th(e.data.value)),i}br(e,i,a){return W.or([()=>this.persistence.Ai(e,i),()=>this.persistence.getTargetCache().containsKey(e,i),()=>{const l=this.pi.get(i);return W.resolve(l!==void 0&&l>a)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class mg{constructor(e,i,a,l){this.targetId=e,this.fromCache=i,this.Es=a,this.ds=l}static As(e,i){let a=He(),l=He();for(const c of i.docChanges)switch(c.type){case 0:a=a.add(c.doc.key);break;case 1:l=l.add(c.doc.key)}return new mg(e,i.fromCache,a,l)}}class PI{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class zI{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return CS()?8:hR(An())>0?6:4})()}initialize(e,i){this.ps=e,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(e,i,a,l){const c={result:null};return this.ys(e,i).next((d=>{c.result=d})).next((()=>{if(!c.result)return this.ws(e,i,l,a).next((d=>{c.result=d}))})).next((()=>{if(c.result)return;const d=new PI;return this.Ss(e,i,d).next((p=>{if(c.result=p,this.Vs)return this.bs(e,i,d,p.size)}))})).next((()=>c.result))}bs(e,i,a,l){return a.documentReadCount<this.fs?(Co()<=Be.DEBUG&&ce("QueryEngine","SDK will not create cache indexes for query:",No(i),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),W.resolve()):(Co()<=Be.DEBUG&&ce("QueryEngine","Query:",No(i),"scans",a.documentReadCount,"local documents and returns",l,"documents as results."),a.documentReadCount>this.gs*l?(Co()<=Be.DEBUG&&ce("QueryEngine","The SDK decides to create cache indexes for query:",No(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,rr(i))):W.resolve())}ys(e,i){if(iv(i))return W.resolve(null);let a=rr(i);return this.indexManager.getIndexType(e,a).next((l=>l===0?null:(i.limit!==null&&l===1&&(i=Rm(i,null,"F"),a=rr(i)),this.indexManager.getDocumentsMatchingTarget(e,a).next((c=>{const d=He(...c);return this.ps.getDocuments(e,d).next((p=>this.indexManager.getMinOffset(e,a).next((y=>{const _=this.Ds(i,p);return this.Cs(i,_,d,y.readTime)?this.ys(e,Rm(i,null,"F")):this.vs(e,_,i,y)}))))})))))}ws(e,i,a,l){return iv(i)||l.isEqual(Ae.min())?W.resolve(null):this.ps.getDocuments(e,a).next((c=>{const d=this.Ds(i,c);return this.Cs(i,d,a,l)?W.resolve(null):(Co()<=Be.DEBUG&&ce("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),No(i)),this.vs(e,d,i,aR(l,su)).next((p=>p)))}))}Ds(e,i){let a=new $t(pE(e));return i.forEach(((l,c)=>{Uh(e,c)&&(a=a.add(c))})),a}Cs(e,i,a,l){if(e.limit===null)return!1;if(a.size!==i.size)return!0;const c=e.limitType==="F"?i.last():i.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(l)>0)}Ss(e,i,a){return Co()<=Be.DEBUG&&ce("QueryEngine","Using full collection scan to execute query:",No(i)),this.ps.getDocumentsMatchingQuery(e,i,ks.min(),a)}vs(e,i,a,l){return this.ps.getDocumentsMatchingQuery(e,a,l).next((c=>(i.forEach((d=>{c=c.insert(d.key,d)})),c)))}}const gg="LocalStore",jI=3e8;class BI{constructor(e,i,a,l){this.persistence=e,this.Fs=i,this.serializer=l,this.Ms=new Tt(qe),this.xs=new za((c=>rg(c)),sg),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(a)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new NI(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>e.collect(i,this.Ms)))}}function qI(r,e,i,a){return new BI(r,e,i,a)}async function zE(r,e){const i=Ie(r);return await i.persistence.runTransaction("Handle user change","readonly",(a=>{let l;return i.mutationQueue.getAllMutationBatches(a).next((c=>(l=c,i.Bs(e),i.mutationQueue.getAllMutationBatches(a)))).next((c=>{const d=[],p=[];let y=He();for(const _ of l){d.push(_.batchId);for(const b of _.mutations)y=y.add(b.key)}for(const _ of c){p.push(_.batchId);for(const b of _.mutations)y=y.add(b.key)}return i.localDocuments.getDocuments(a,y).next((_=>({Ls:_,removedBatchIds:d,addedBatchIds:p})))}))}))}function HI(r,e){const i=Ie(r);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(a=>{const l=e.batch.keys(),c=i.Ns.newChangeBuffer({trackRemovals:!0});return(function(p,y,_,b){const A=_.batch,V=A.keys();let Y=W.resolve();return V.forEach((te=>{Y=Y.next((()=>b.getEntry(y,te))).next((ie=>{const ne=_.docVersions.get(te);tt(ne!==null,48541),ie.version.compareTo(ne)<0&&(A.applyToRemoteDocument(ie,_),ie.isValidDocument()&&(ie.setReadTime(_.commitVersion),b.addEntry(ie)))}))})),Y.next((()=>p.mutationQueue.removeMutationBatch(y,A)))})(i,a,e,c).next((()=>c.apply(a))).next((()=>i.mutationQueue.performConsistencyCheck(a))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(a,l,e.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,(function(p){let y=He();for(let _=0;_<p.mutationResults.length;++_)p.mutationResults[_].transformResults.length>0&&(y=y.add(p.batch.mutations[_].key));return y})(e)))).next((()=>i.localDocuments.getDocuments(a,l)))}))}function jE(r){const e=Ie(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>e.Pi.getLastRemoteSnapshotVersion(i)))}function FI(r,e){const i=Ie(r),a=e.snapshotVersion;let l=i.Ms;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const d=i.Ns.newChangeBuffer({trackRemovals:!0});l=i.Ms;const p=[];e.targetChanges.forEach(((b,A)=>{const V=l.get(A);if(!V)return;p.push(i.Pi.removeMatchingKeys(c,b.removedDocuments,A).next((()=>i.Pi.addMatchingKeys(c,b.addedDocuments,A))));let Y=V.withSequenceNumber(c.currentSequenceNumber);e.targetMismatches.get(A)!==null?Y=Y.withResumeToken(mn.EMPTY_BYTE_STRING,Ae.min()).withLastLimboFreeSnapshotVersion(Ae.min()):b.resumeToken.approximateByteSize()>0&&(Y=Y.withResumeToken(b.resumeToken,a)),l=l.insert(A,Y),(function(ie,ne,de){return ie.resumeToken.approximateByteSize()===0||ne.snapshotVersion.toMicroseconds()-ie.snapshotVersion.toMicroseconds()>=jI?!0:de.addedDocuments.size+de.modifiedDocuments.size+de.removedDocuments.size>0})(V,Y,b)&&p.push(i.Pi.updateTargetData(c,Y))}));let y=qr(),_=He();if(e.documentUpdates.forEach((b=>{e.resolvedLimboDocuments.has(b)&&p.push(i.persistence.referenceDelegate.updateLimboDocument(c,b))})),p.push(GI(c,d,e.documentUpdates).next((b=>{y=b.ks,_=b.qs}))),!a.isEqual(Ae.min())){const b=i.Pi.getLastRemoteSnapshotVersion(c).next((A=>i.Pi.setTargetsMetadata(c,c.currentSequenceNumber,a)));p.push(b)}return W.waitFor(p).next((()=>d.apply(c))).next((()=>i.localDocuments.getLocalViewOfDocuments(c,y,_))).next((()=>y))})).then((c=>(i.Ms=l,c)))}function GI(r,e,i){let a=He(),l=He();return i.forEach((c=>a=a.add(c))),e.getEntries(r,a).next((c=>{let d=qr();return i.forEach(((p,y)=>{const _=c.get(p);y.isFoundDocument()!==_.isFoundDocument()&&(l=l.add(p)),y.isNoDocument()&&y.version.isEqual(Ae.min())?(e.removeEntry(p,y.readTime),d=d.insert(p,y)):!_.isValidDocument()||y.version.compareTo(_.version)>0||y.version.compareTo(_.version)===0&&_.hasPendingWrites?(e.addEntry(y),d=d.insert(p,y)):ce(gg,"Ignoring outdated watch update for ",p,". Current version:",_.version," Watch version:",y.version)})),{ks:d,qs:l}}))}function QI(r,e){const i=Ie(r);return i.persistence.runTransaction("Get next mutation batch","readonly",(a=>(e===void 0&&(e=tg),i.mutationQueue.getNextMutationBatchAfterBatchId(a,e))))}function YI(r,e){const i=Ie(r);return i.persistence.runTransaction("Allocate target","readwrite",(a=>{let l;return i.Pi.getTargetData(a,e).next((c=>c?(l=c,W.resolve(l)):i.Pi.allocateTargetId(a).next((d=>(l=new Ns(e,d,"TargetPurposeListen",a.currentSequenceNumber),i.Pi.addTargetData(a,l).next((()=>l)))))))})).then((a=>{const l=i.Ms.get(a.targetId);return(l===null||a.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(i.Ms=i.Ms.insert(a.targetId,a),i.xs.set(e,a.targetId)),a}))}async function Dm(r,e,i){const a=Ie(r),l=a.Ms.get(e),c=i?"readwrite":"readwrite-primary";try{i||await a.persistence.runTransaction("Release target",c,(d=>a.persistence.referenceDelegate.removeTarget(d,l)))}catch(d){if(!Jo(d))throw d;ce(gg,`Failed to update sequence numbers for target ${e}: ${d}`)}a.Ms=a.Ms.remove(e),a.xs.delete(l.target)}function pv(r,e,i){const a=Ie(r);let l=Ae.min(),c=He();return a.persistence.runTransaction("Execute query","readwrite",(d=>(function(y,_,b){const A=Ie(y),V=A.xs.get(b);return V!==void 0?W.resolve(A.Ms.get(V)):A.Pi.getTargetData(_,b)})(a,d,rr(e)).next((p=>{if(p)return l=p.lastLimboFreeSnapshotVersion,a.Pi.getMatchingKeysForTargetId(d,p.targetId).next((y=>{c=y}))})).next((()=>a.Fs.getDocumentsMatchingQuery(d,e,i?l:Ae.min(),i?c:He()))).next((p=>(KI(a,MR(e),p),{documents:p,Qs:c})))))}function KI(r,e,i){let a=r.Os.get(e)||Ae.min();i.forEach(((l,c)=>{c.readTime.compareTo(a)>0&&(a=c.readTime)})),r.Os.set(e,a)}class yv{constructor(){this.activeTargetIds=PR()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class XI{constructor(){this.Mo=new yv,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,a){}addLocalQueryTarget(e,i=!0){return i&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,i,a){this.xo[e]=i}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new yv,Promise.resolve()}handleUserChange(e,i,a){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class $I{Oo(e){}shutdown(){}}const _v="ConnectivityMonitor";class vv{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ce(_v,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){ce(_v,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Qc=null;function Mm(){return Qc===null?Qc=(function(){return 268435456+Math.round(2147483648*Math.random())})():Qc++,"0x"+Qc.toString(16)}const rm="RestConnection",JI={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class ZI{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.Uo=i+"://"+e.host,this.Ko=`projects/${a}/databases/${l}`,this.Wo=this.databaseId.database===ph?`project_id=${a}`:`project_id=${a}&database_id=${l}`}Go(e,i,a,l,c){const d=Mm(),p=this.zo(e,i.toUriEncodedString());ce(rm,`Sending RPC '${e}' ${d}:`,p,a);const y={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(y,l,c);const{host:_}=new URL(p),b=Qo(_);return this.Jo(e,p,y,a,b).then((A=>(ce(rm,`Received RPC '${e}' ${d}: `,A),A)),(A=>{throw jo(rm,`RPC '${e}' ${d} failed with error: `,A,"url: ",p,"request:",a),A}))}Ho(e,i,a,l,c,d){return this.Go(e,i,a,l,c)}jo(e,i,a){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Xo})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((l,c)=>e[c]=l)),a&&a.headers.forEach(((l,c)=>e[c]=l))}zo(e,i){const a=JI[e];return`${this.Uo}/v1/${i}:${a}`}terminate(){}}class WI{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const Tn="WebChannelConnection";class eC extends ZI{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,i,a,l,c){const d=Mm();return new Promise(((p,y)=>{const _=new H1;_.setWithCredentials(!0),_.listenOnce(F1.COMPLETE,(()=>{try{switch(_.getLastErrorCode()){case eh.NO_ERROR:const A=_.getResponseJson();ce(Tn,`XHR for RPC '${e}' ${d} received:`,JSON.stringify(A)),p(A);break;case eh.TIMEOUT:ce(Tn,`RPC '${e}' ${d} timed out`),y(new he(Z.DEADLINE_EXCEEDED,"Request time out"));break;case eh.HTTP_ERROR:const V=_.getStatus();if(ce(Tn,`RPC '${e}' ${d} failed with status:`,V,"response text:",_.getResponseText()),V>0){let Y=_.getResponseJson();Array.isArray(Y)&&(Y=Y[0]);const te=Y?.error;if(te&&te.status&&te.message){const ie=(function(de){const we=de.toLowerCase().replace(/_/g,"-");return Object.values(Z).indexOf(we)>=0?we:Z.UNKNOWN})(te.status);y(new he(ie,te.message))}else y(new he(Z.UNKNOWN,"Server responded with status "+_.getStatus()))}else y(new he(Z.UNAVAILABLE,"Connection failed."));break;default:Te(9055,{l_:e,streamId:d,h_:_.getLastErrorCode(),P_:_.getLastError()})}}finally{ce(Tn,`RPC '${e}' ${d} completed.`)}}));const b=JSON.stringify(l);ce(Tn,`RPC '${e}' ${d} sending request:`,l),_.send(i,"POST",b,a,15)}))}T_(e,i,a){const l=Mm(),c=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=Y1(),p=Q1(),y={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},_=this.longPollingOptions.timeoutSeconds;_!==void 0&&(y.longPollingTimeout=Math.round(1e3*_)),this.useFetchStreams&&(y.useFetchStreams=!0),this.jo(y.initMessageHeaders,i,a),y.encodeInitMessageHeaders=!0;const b=c.join("");ce(Tn,`Creating RPC '${e}' stream ${l}: ${b}`,y);const A=d.createWebChannel(b,y);this.I_(A);let V=!1,Y=!1;const te=new WI({Yo:ne=>{Y?ce(Tn,`Not sending because RPC '${e}' stream ${l} is closed:`,ne):(V||(ce(Tn,`Opening RPC '${e}' stream ${l} transport.`),A.open(),V=!0),ce(Tn,`RPC '${e}' stream ${l} sending:`,ne),A.send(ne))},Zo:()=>A.close()}),ie=(ne,de,we)=>{ne.listen(de,(ve=>{try{we(ve)}catch(Ve){setTimeout((()=>{throw Ve}),0)}}))};return ie(A,Yl.EventType.OPEN,(()=>{Y||(ce(Tn,`RPC '${e}' stream ${l} transport opened.`),te.o_())})),ie(A,Yl.EventType.CLOSE,(()=>{Y||(Y=!0,ce(Tn,`RPC '${e}' stream ${l} transport closed`),te.a_(),this.E_(A))})),ie(A,Yl.EventType.ERROR,(ne=>{Y||(Y=!0,jo(Tn,`RPC '${e}' stream ${l} transport errored. Name:`,ne.name,"Message:",ne.message),te.a_(new he(Z.UNAVAILABLE,"The operation could not be completed")))})),ie(A,Yl.EventType.MESSAGE,(ne=>{if(!Y){const de=ne.data[0];tt(!!de,16349);const we=de,ve=we?.error||we[0]?.error;if(ve){ce(Tn,`RPC '${e}' stream ${l} received error:`,ve);const Ve=ve.status;let Je=(function(w){const C=Ht[w];if(C!==void 0)return IE(C)})(Ve),Me=ve.message;Je===void 0&&(Je=Z.INTERNAL,Me="Unknown error status: "+Ve+" with message "+ve.message),Y=!0,te.a_(new he(Je,Me)),A.close()}else ce(Tn,`RPC '${e}' stream ${l} received:`,de),te.u_(de)}})),ie(p,G1.STAT_EVENT,(ne=>{ne.stat===vm.PROXY?ce(Tn,`RPC '${e}' stream ${l} detected buffering proxy`):ne.stat===vm.NOPROXY&&ce(Tn,`RPC '${e}' stream ${l} detected no buffering proxy`)})),setTimeout((()=>{te.__()}),0),te}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((i=>i===e))}}function sm(){return typeof document<"u"?document:null}function jh(r){return new rI(r,!0)}class BE{constructor(e,i,a=1e3,l=1.5,c=6e4){this.Mi=e,this.timerId=i,this.d_=a,this.A_=l,this.R_=c,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const i=Math.floor(this.V_+this.y_()),a=Math.max(0,Date.now()-this.f_),l=Math.max(0,i-a);l>0&&ce("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.V_} ms, delay with jitter: ${i} ms, last attempt: ${a} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,l,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const Ev="PersistentStream";class qE{constructor(e,i,a,l,c,d,p,y){this.Mi=e,this.S_=a,this.b_=l,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=p,this.listener=y,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new BE(e,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,i){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():i&&i.code===Z.RESOURCE_EXHAUSTED?(Br(i.toString()),Br("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===Z.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(i)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([a,l])=>{this.D_===i&&this.G_(a,l)}),(a=>{e((()=>{const l=new he(Z.UNKNOWN,"Fetching auth token failed: "+a.message);return this.z_(l)}))}))}G_(e,i){const a=this.W_(this.D_);this.stream=this.j_(e,i),this.stream.Xo((()=>{a((()=>this.listener.Xo()))})),this.stream.t_((()=>{a((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((l=>{a((()=>this.z_(l)))})),this.stream.onMessage((l=>{a((()=>++this.F_==1?this.J_(l):this.onNext(l)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return ce(Ev,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return i=>{this.Mi.enqueueAndForget((()=>this.D_===e?i():(ce(Ev,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class tC extends qE{constructor(e,i,a,l,c,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,a,l,d),this.serializer=c}j_(e,i){return this.connection.T_("Listen",e,i)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const i=oI(this.serializer,e),a=(function(c){if(!("targetChange"in c))return Ae.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?Ae.min():d.readTime?sr(d.readTime):Ae.min()})(e);return this.listener.H_(i,a)}Y_(e){const i={};i.database=xm(this.serializer),i.addTarget=(function(c,d){let p;const y=d.target;if(p=Am(y)?{documents:cI(c,y)}:{query:hI(c,y).ft},p.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){p.resumeToken=xE(c,d.resumeToken);const _=Im(c,d.expectedCount);_!==null&&(p.expectedCount=_)}else if(d.snapshotVersion.compareTo(Ae.min())>0){p.readTime=Th(c,d.snapshotVersion.toTimestamp());const _=Im(c,d.expectedCount);_!==null&&(p.expectedCount=_)}return p})(this.serializer,e);const a=dI(this.serializer,e);a&&(i.labels=a),this.q_(i)}Z_(e){const i={};i.database=xm(this.serializer),i.removeTarget=e,this.q_(i)}}class nC extends qE{constructor(e,i,a,l,c,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,a,l,d),this.serializer=c}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,i){return this.connection.T_("Write",e,i)}J_(e){return tt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,tt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){tt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const i=uI(e.writeResults,e.commitTime),a=sr(e.commitTime);return this.listener.na(a,i)}ra(){const e={};e.database=xm(this.serializer),this.q_(e)}ea(e){const i={streamToken:this.lastStreamToken,writes:e.map((a=>lI(this.serializer,a)))};this.q_(i)}}class iC{}class rC extends iC{constructor(e,i,a,l){super(),this.authCredentials=e,this.appCheckCredentials=i,this.connection=a,this.serializer=l,this.ia=!1}sa(){if(this.ia)throw new he(Z.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,i,a,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Go(e,Cm(i,a),l,c,d))).catch((c=>{throw c.name==="FirebaseError"?(c.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new he(Z.UNKNOWN,c.toString())}))}Ho(e,i,a,l,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,p])=>this.connection.Ho(e,Cm(i,a),l,d,p,c))).catch((d=>{throw d.name==="FirebaseError"?(d.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new he(Z.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class sC{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const i=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Br(i),this.aa=!1):ce("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const La="RemoteStore";class aC{constructor(e,i,a,l,c){this.localStore=e,this.datastore=i,this.asyncQueue=a,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=c,this.Aa.Oo((d=>{a.enqueueAndForget((async()=>{ja(this)&&(ce(La,"Restarting streams for network reachability change."),await(async function(y){const _=Ie(y);_.Ea.add(4),await Au(_),_.Ra.set("Unknown"),_.Ea.delete(4),await Bh(_)})(this))}))})),this.Ra=new sC(a,l)}}async function Bh(r){if(ja(r))for(const e of r.da)await e(!0)}async function Au(r){for(const e of r.da)await e(!1)}function HE(r,e){const i=Ie(r);i.Ia.has(e.targetId)||(i.Ia.set(e.targetId,e),vg(i)?_g(i):Zo(i).O_()&&yg(i,e))}function pg(r,e){const i=Ie(r),a=Zo(i);i.Ia.delete(e),a.O_()&&FE(i,e),i.Ia.size===0&&(a.O_()?a.L_():ja(i)&&i.Ra.set("Unknown"))}function yg(r,e){if(r.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ae.min())>0){const i=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(i)}Zo(r).Y_(e)}function FE(r,e){r.Va.Ue(e),Zo(r).Z_(e)}function _g(r){r.Va=new eI({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),At:e=>r.Ia.get(e)||null,ht:()=>r.datastore.serializer.databaseId}),Zo(r).start(),r.Ra.ua()}function vg(r){return ja(r)&&!Zo(r).x_()&&r.Ia.size>0}function ja(r){return Ie(r).Ea.size===0}function GE(r){r.Va=void 0}async function oC(r){r.Ra.set("Online")}async function lC(r){r.Ia.forEach(((e,i)=>{yg(r,e)}))}async function uC(r,e){GE(r),vg(r)?(r.Ra.ha(e),_g(r)):r.Ra.set("Unknown")}async function cC(r,e,i){if(r.Ra.set("Online"),e instanceof NE&&e.state===2&&e.cause)try{await(async function(l,c){const d=c.cause;for(const p of c.targetIds)l.Ia.has(p)&&(await l.remoteSyncer.rejectListen(p,d),l.Ia.delete(p),l.Va.removeTarget(p))})(r,e)}catch(a){ce(La,"Failed to remove targets %s: %s ",e.targetIds.join(","),a),await Sh(r,a)}else if(e instanceof rh?r.Va.Ze(e):e instanceof CE?r.Va.st(e):r.Va.tt(e),!i.isEqual(Ae.min()))try{const a=await jE(r.localStore);i.compareTo(a)>=0&&await(function(c,d){const p=c.Va.Tt(d);return p.targetChanges.forEach(((y,_)=>{if(y.resumeToken.approximateByteSize()>0){const b=c.Ia.get(_);b&&c.Ia.set(_,b.withResumeToken(y.resumeToken,d))}})),p.targetMismatches.forEach(((y,_)=>{const b=c.Ia.get(y);if(!b)return;c.Ia.set(y,b.withResumeToken(mn.EMPTY_BYTE_STRING,b.snapshotVersion)),FE(c,y);const A=new Ns(b.target,y,_,b.sequenceNumber);yg(c,A)})),c.remoteSyncer.applyRemoteEvent(p)})(r,i)}catch(a){ce(La,"Failed to raise snapshot:",a),await Sh(r,a)}}async function Sh(r,e,i){if(!Jo(e))throw e;r.Ea.add(1),await Au(r),r.Ra.set("Offline"),i||(i=()=>jE(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{ce(La,"Retrying IndexedDB access"),await i(),r.Ea.delete(1),await Bh(r)}))}function QE(r,e){return e().catch((i=>Sh(r,i,e)))}async function qh(r){const e=Ie(r),i=zs(e);let a=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:tg;for(;hC(e);)try{const l=await QI(e.localStore,a);if(l===null){e.Ta.length===0&&i.L_();break}a=l.batchId,fC(e,l)}catch(l){await Sh(e,l)}YE(e)&&KE(e)}function hC(r){return ja(r)&&r.Ta.length<10}function fC(r,e){r.Ta.push(e);const i=zs(r);i.O_()&&i.X_&&i.ea(e.mutations)}function YE(r){return ja(r)&&!zs(r).x_()&&r.Ta.length>0}function KE(r){zs(r).start()}async function dC(r){zs(r).ra()}async function mC(r){const e=zs(r);for(const i of r.Ta)e.ea(i.mutations)}async function gC(r,e,i){const a=r.Ta.shift(),l=ug.from(a,e,i);await QE(r,(()=>r.remoteSyncer.applySuccessfulWrite(l))),await qh(r)}async function pC(r,e){e&&zs(r).X_&&await(async function(a,l){if((function(d){return JR(d)&&d!==Z.ABORTED})(l.code)){const c=a.Ta.shift();zs(a).B_(),await QE(a,(()=>a.remoteSyncer.rejectFailedWrite(c.batchId,l))),await qh(a)}})(r,e),YE(r)&&KE(r)}async function Tv(r,e){const i=Ie(r);i.asyncQueue.verifyOperationInProgress(),ce(La,"RemoteStore received new credentials");const a=ja(i);i.Ea.add(3),await Au(i),a&&i.Ra.set("Unknown"),await i.remoteSyncer.handleCredentialChange(e),i.Ea.delete(3),await Bh(i)}async function yC(r,e){const i=Ie(r);e?(i.Ea.delete(2),await Bh(i)):e||(i.Ea.add(2),await Au(i),i.Ra.set("Unknown"))}function Zo(r){return r.ma||(r.ma=(function(i,a,l){const c=Ie(i);return c.sa(),new tC(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(r.datastore,r.asyncQueue,{Xo:oC.bind(null,r),t_:lC.bind(null,r),r_:uC.bind(null,r),H_:cC.bind(null,r)}),r.da.push((async e=>{e?(r.ma.B_(),vg(r)?_g(r):r.Ra.set("Unknown")):(await r.ma.stop(),GE(r))}))),r.ma}function zs(r){return r.fa||(r.fa=(function(i,a,l){const c=Ie(i);return c.sa(),new nC(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(r.datastore,r.asyncQueue,{Xo:()=>Promise.resolve(),t_:dC.bind(null,r),r_:pC.bind(null,r),ta:mC.bind(null,r),na:gC.bind(null,r)}),r.da.push((async e=>{e?(r.fa.B_(),await qh(r)):(await r.fa.stop(),r.Ta.length>0&&(ce(La,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}class Eg{constructor(e,i,a,l,c){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=a,this.op=l,this.removalCallback=c,this.deferred=new xa,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,i,a,l,c){const d=Date.now()+a,p=new Eg(e,i,d,l,c);return p.start(a),p}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new he(Z.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Tg(r,e){if(Br("AsyncQueue",`${e}: ${r}`),Jo(r))return new he(Z.UNAVAILABLE,`${e}: ${r}`);throw r}class Uo{static emptySet(e){return new Uo(e.comparator)}constructor(e){this.comparator=e?(i,a)=>e(i,a)||_e.comparator(i.key,a.key):(i,a)=>_e.comparator(i.key,a.key),this.keyedMap=Kl(),this.sortedSet=new Tt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const i=this.keyedMap.get(e);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((i,a)=>(e(i),!1)))}add(e){const i=this.delete(e.key);return i.copy(i.keyedMap.insert(e.key,e),i.sortedSet.insert(e,null))}delete(e){const i=this.get(e);return i?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(i)):this}isEqual(e){if(!(e instanceof Uo)||this.size!==e.size)return!1;const i=this.sortedSet.getIterator(),a=e.sortedSet.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=a.getNext().key;if(!l.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach((i=>{e.push(i.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,i){const a=new Uo;return a.comparator=this.comparator,a.keyedMap=e,a.sortedSet=i,a}}class bv{constructor(){this.ga=new Tt(_e.comparator)}track(e){const i=e.doc.key,a=this.ga.get(i);a?e.type!==0&&a.type===3?this.ga=this.ga.insert(i,e):e.type===3&&a.type!==1?this.ga=this.ga.insert(i,{type:a.type,doc:e.doc}):e.type===2&&a.type===2?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):e.type===2&&a.type===0?this.ga=this.ga.insert(i,{type:0,doc:e.doc}):e.type===1&&a.type===0?this.ga=this.ga.remove(i):e.type===1&&a.type===2?this.ga=this.ga.insert(i,{type:1,doc:a.doc}):e.type===0&&a.type===1?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):Te(63341,{Rt:e,pa:a}):this.ga=this.ga.insert(i,e)}ya(){const e=[];return this.ga.inorderTraversal(((i,a)=>{e.push(a)})),e}}class Go{constructor(e,i,a,l,c,d,p,y,_){this.query=e,this.docs=i,this.oldDocs=a,this.docChanges=l,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=p,this.excludesMetadataChanges=y,this.hasCachedResults=_}static fromInitialDocuments(e,i,a,l,c){const d=[];return i.forEach((p=>{d.push({type:0,doc:p})})),new Go(e,i,Uo.emptySet(i),d,a,l,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&kh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const i=this.docChanges,a=e.docChanges;if(i.length!==a.length)return!1;for(let l=0;l<i.length;l++)if(i[l].type!==a[l].type||!i[l].doc.isEqual(a[l].doc))return!1;return!0}}class _C{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class vC{constructor(){this.queries=Sv(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,a){const l=Ie(i),c=l.queries;l.queries=Sv(),c.forEach(((d,p)=>{for(const y of p.Sa)y.onError(a)}))})(this,new he(Z.ABORTED,"Firestore shutting down"))}}function Sv(){return new za((r=>gE(r)),kh)}async function EC(r,e){const i=Ie(r);let a=3;const l=e.query;let c=i.queries.get(l);c?!c.ba()&&e.Da()&&(a=2):(c=new _C,a=e.Da()?0:1);try{switch(a){case 0:c.wa=await i.onListen(l,!0);break;case 1:c.wa=await i.onListen(l,!1);break;case 2:await i.onFirstRemoteStoreListen(l)}}catch(d){const p=Tg(d,`Initialization of query '${No(e.query)}' failed`);return void e.onError(p)}i.queries.set(l,c),c.Sa.push(e),e.va(i.onlineState),c.wa&&e.Fa(c.wa)&&bg(i)}async function TC(r,e){const i=Ie(r),a=e.query;let l=3;const c=i.queries.get(a);if(c){const d=c.Sa.indexOf(e);d>=0&&(c.Sa.splice(d,1),c.Sa.length===0?l=e.Da()?0:1:!c.ba()&&e.Da()&&(l=2))}switch(l){case 0:return i.queries.delete(a),i.onUnlisten(a,!0);case 1:return i.queries.delete(a),i.onUnlisten(a,!1);case 2:return i.onLastRemoteStoreUnlisten(a);default:return}}function bC(r,e){const i=Ie(r);let a=!1;for(const l of e){const c=l.query,d=i.queries.get(c);if(d){for(const p of d.Sa)p.Fa(l)&&(a=!0);d.wa=l}}a&&bg(i)}function SC(r,e,i){const a=Ie(r),l=a.queries.get(e);if(l)for(const c of l.Sa)c.onError(i);a.queries.delete(e)}function bg(r){r.Ca.forEach((e=>{e.next()}))}var Om,Av;(Av=Om||(Om={})).Ma="default",Av.Cache="cache";class AC{constructor(e,i,a){this.query=e,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=a||{}}Fa(e){if(!this.options.includeMetadataChanges){const a=[];for(const l of e.docChanges)l.type!==3&&a.push(l);e=new Go(e.query,e.docs,e.oldDocs,a,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let i=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),i=!0):this.La(e,this.onlineState)&&(this.ka(e),i=!0),this.Na=e,i}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),i=!0),i}La(e,i){if(!e.fromCache||!this.Da())return!0;const a=i!=="Offline";return(!this.options.qa||!a)&&(!e.docs.isEmpty()||e.hasCachedResults||i==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(e){e=Go.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Om.Cache}}class XE{constructor(e){this.key=e}}class $E{constructor(e){this.key=e}}class wC{constructor(e,i){this.query=e,this.Ya=i,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=He(),this.mutatedKeys=He(),this.eu=pE(e),this.tu=new Uo(this.eu)}get nu(){return this.Ya}ru(e,i){const a=i?i.iu:new bv,l=i?i.tu:this.tu;let c=i?i.mutatedKeys:this.mutatedKeys,d=l,p=!1;const y=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,_=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(e.inorderTraversal(((b,A)=>{const V=l.get(b),Y=Uh(this.query,A)?A:null,te=!!V&&this.mutatedKeys.has(V.key),ie=!!Y&&(Y.hasLocalMutations||this.mutatedKeys.has(Y.key)&&Y.hasCommittedMutations);let ne=!1;V&&Y?V.data.isEqual(Y.data)?te!==ie&&(a.track({type:3,doc:Y}),ne=!0):this.su(V,Y)||(a.track({type:2,doc:Y}),ne=!0,(y&&this.eu(Y,y)>0||_&&this.eu(Y,_)<0)&&(p=!0)):!V&&Y?(a.track({type:0,doc:Y}),ne=!0):V&&!Y&&(a.track({type:1,doc:V}),ne=!0,(y||_)&&(p=!0)),ne&&(Y?(d=d.add(Y),c=ie?c.add(b):c.delete(b)):(d=d.delete(b),c=c.delete(b)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const b=this.query.limitType==="F"?d.last():d.first();d=d.delete(b.key),c=c.delete(b.key),a.track({type:1,doc:b})}return{tu:d,iu:a,Cs:p,mutatedKeys:c}}su(e,i){return e.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(e,i,a,l){const c=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const d=e.iu.ya();d.sort(((b,A)=>(function(Y,te){const ie=ne=>{switch(ne){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Te(20277,{Rt:ne})}};return ie(Y)-ie(te)})(b.type,A.type)||this.eu(b.doc,A.doc))),this.ou(a),l=l??!1;const p=i&&!l?this._u():[],y=this.Xa.size===0&&this.current&&!l?1:0,_=y!==this.Za;return this.Za=y,d.length!==0||_?{snapshot:new Go(this.query,e.tu,c,d,e.mutatedKeys,y===0,_,!1,!!a&&a.resumeToken.approximateByteSize()>0),au:p}:{au:p}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new bv,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((i=>this.Ya=this.Ya.add(i))),e.modifiedDocuments.forEach((i=>{})),e.removedDocuments.forEach((i=>this.Ya=this.Ya.delete(i))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=He(),this.tu.forEach((a=>{this.uu(a.key)&&(this.Xa=this.Xa.add(a.key))}));const i=[];return e.forEach((a=>{this.Xa.has(a)||i.push(new $E(a))})),this.Xa.forEach((a=>{e.has(a)||i.push(new XE(a))})),i}cu(e){this.Ya=e.Qs,this.Xa=He();const i=this.ru(e.documents);return this.applyChanges(i,!0)}lu(){return Go.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Sg="SyncEngine";class RC{constructor(e,i,a){this.query=e,this.targetId=i,this.view=a}}class IC{constructor(e){this.key=e,this.hu=!1}}class CC{constructor(e,i,a,l,c,d){this.localStore=e,this.remoteStore=i,this.eventManager=a,this.sharedClientState=l,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new za((p=>gE(p)),kh),this.Iu=new Map,this.Eu=new Set,this.du=new Tt(_e.comparator),this.Au=new Map,this.Ru=new fg,this.Vu={},this.mu=new Map,this.fu=Fo.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function NC(r,e,i=!0){const a=nT(r);let l;const c=a.Tu.get(e);return c?(a.sharedClientState.addLocalQueryTarget(c.targetId),l=c.view.lu()):l=await JE(a,e,i,!0),l}async function xC(r,e){const i=nT(r);await JE(i,e,!0,!1)}async function JE(r,e,i,a){const l=await YI(r.localStore,rr(e)),c=l.targetId,d=r.sharedClientState.addLocalQueryTarget(c,i);let p;return a&&(p=await DC(r,e,c,d==="current",l.resumeToken)),r.isPrimaryClient&&i&&HE(r.remoteStore,l),p}async function DC(r,e,i,a,l){r.pu=(A,V,Y)=>(async function(ie,ne,de,we){let ve=ne.view.ru(de);ve.Cs&&(ve=await pv(ie.localStore,ne.query,!1).then((({documents:N})=>ne.view.ru(N,ve))));const Ve=we&&we.targetChanges.get(ne.targetId),Je=we&&we.targetMismatches.get(ne.targetId)!=null,Me=ne.view.applyChanges(ve,ie.isPrimaryClient,Ve,Je);return Rv(ie,ne.targetId,Me.au),Me.snapshot})(r,A,V,Y);const c=await pv(r.localStore,e,!0),d=new wC(e,c.Qs),p=d.ru(c.documents),y=Su.createSynthesizedTargetChangeForCurrentChange(i,a&&r.onlineState!=="Offline",l),_=d.applyChanges(p,r.isPrimaryClient,y);Rv(r,i,_.au);const b=new RC(e,i,d);return r.Tu.set(e,b),r.Iu.has(i)?r.Iu.get(i).push(e):r.Iu.set(i,[e]),_.snapshot}async function MC(r,e,i){const a=Ie(r),l=a.Tu.get(e),c=a.Iu.get(l.targetId);if(c.length>1)return a.Iu.set(l.targetId,c.filter((d=>!kh(d,e)))),void a.Tu.delete(e);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(l.targetId),a.sharedClientState.isActiveQueryTarget(l.targetId)||await Dm(a.localStore,l.targetId,!1).then((()=>{a.sharedClientState.clearQueryState(l.targetId),i&&pg(a.remoteStore,l.targetId),Vm(a,l.targetId)})).catch($o)):(Vm(a,l.targetId),await Dm(a.localStore,l.targetId,!0))}async function OC(r,e){const i=Ie(r),a=i.Tu.get(e),l=i.Iu.get(a.targetId);i.isPrimaryClient&&l.length===1&&(i.sharedClientState.removeLocalQueryTarget(a.targetId),pg(i.remoteStore,a.targetId))}async function VC(r,e,i){const a=BC(r);try{const l=await(function(d,p){const y=Ie(d),_=gt.now(),b=p.reduce(((Y,te)=>Y.add(te.key)),He());let A,V;return y.persistence.runTransaction("Locally write mutations","readwrite",(Y=>{let te=qr(),ie=He();return y.Ns.getEntries(Y,b).next((ne=>{te=ne,te.forEach(((de,we)=>{we.isValidDocument()||(ie=ie.add(de))}))})).next((()=>y.localDocuments.getOverlayedDocuments(Y,te))).next((ne=>{A=ne;const de=[];for(const we of p){const ve=QR(we,A.get(we.key).overlayedDocument);ve!=null&&de.push(new qs(we.key,ve,oE(ve.value.mapValue),Ai.exists(!0)))}return y.mutationQueue.addMutationBatch(Y,_,de,p)})).next((ne=>{V=ne;const de=ne.applyToLocalDocumentSet(A,ie);return y.documentOverlayCache.saveOverlays(Y,ne.batchId,de)}))})).then((()=>({batchId:V.batchId,changes:_E(A)})))})(a.localStore,e);a.sharedClientState.addPendingMutation(l.batchId),(function(d,p,y){let _=d.Vu[d.currentUser.toKey()];_||(_=new Tt(qe)),_=_.insert(p,y),d.Vu[d.currentUser.toKey()]=_})(a,l.batchId,i),await wu(a,l.changes),await qh(a.remoteStore)}catch(l){const c=Tg(l,"Failed to persist write");i.reject(c)}}async function ZE(r,e){const i=Ie(r);try{const a=await FI(i.localStore,e);e.targetChanges.forEach(((l,c)=>{const d=i.Au.get(c);d&&(tt(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?d.hu=!0:l.modifiedDocuments.size>0?tt(d.hu,14607):l.removedDocuments.size>0&&(tt(d.hu,42227),d.hu=!1))})),await wu(i,a,e)}catch(a){await $o(a)}}function wv(r,e,i){const a=Ie(r);if(a.isPrimaryClient&&i===0||!a.isPrimaryClient&&i===1){const l=[];a.Tu.forEach(((c,d)=>{const p=d.view.va(e);p.snapshot&&l.push(p.snapshot)})),(function(d,p){const y=Ie(d);y.onlineState=p;let _=!1;y.queries.forEach(((b,A)=>{for(const V of A.Sa)V.va(p)&&(_=!0)})),_&&bg(y)})(a.eventManager,e),l.length&&a.Pu.H_(l),a.onlineState=e,a.isPrimaryClient&&a.sharedClientState.setOnlineState(e)}}async function kC(r,e,i){const a=Ie(r);a.sharedClientState.updateQueryState(e,"rejected",i);const l=a.Au.get(e),c=l&&l.key;if(c){let d=new Tt(_e.comparator);d=d.insert(c,Sn.newNoDocument(c,Ae.min()));const p=He().add(c),y=new zh(Ae.min(),new Map,new Tt(qe),d,p);await ZE(a,y),a.du=a.du.remove(c),a.Au.delete(e),Ag(a)}else await Dm(a.localStore,e,!1).then((()=>Vm(a,e,i))).catch($o)}async function UC(r,e){const i=Ie(r),a=e.batch.batchId;try{const l=await HI(i.localStore,e);eT(i,a,null),WE(i,a),i.sharedClientState.updateMutationState(a,"acknowledged"),await wu(i,l)}catch(l){await $o(l)}}async function LC(r,e,i){const a=Ie(r);try{const l=await(function(d,p){const y=Ie(d);return y.persistence.runTransaction("Reject batch","readwrite-primary",(_=>{let b;return y.mutationQueue.lookupMutationBatch(_,p).next((A=>(tt(A!==null,37113),b=A.keys(),y.mutationQueue.removeMutationBatch(_,A)))).next((()=>y.mutationQueue.performConsistencyCheck(_))).next((()=>y.documentOverlayCache.removeOverlaysForBatchId(_,b,p))).next((()=>y.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,b))).next((()=>y.localDocuments.getDocuments(_,b)))}))})(a.localStore,e);eT(a,e,i),WE(a,e),a.sharedClientState.updateMutationState(e,"rejected",i),await wu(a,l)}catch(l){await $o(l)}}function WE(r,e){(r.mu.get(e)||[]).forEach((i=>{i.resolve()})),r.mu.delete(e)}function eT(r,e,i){const a=Ie(r);let l=a.Vu[a.currentUser.toKey()];if(l){const c=l.get(e);c&&(i?c.reject(i):c.resolve(),l=l.remove(e)),a.Vu[a.currentUser.toKey()]=l}}function Vm(r,e,i=null){r.sharedClientState.removeLocalQueryTarget(e);for(const a of r.Iu.get(e))r.Tu.delete(a),i&&r.Pu.yu(a,i);r.Iu.delete(e),r.isPrimaryClient&&r.Ru.jr(e).forEach((a=>{r.Ru.containsKey(a)||tT(r,a)}))}function tT(r,e){r.Eu.delete(e.path.canonicalString());const i=r.du.get(e);i!==null&&(pg(r.remoteStore,i),r.du=r.du.remove(e),r.Au.delete(i),Ag(r))}function Rv(r,e,i){for(const a of i)a instanceof XE?(r.Ru.addReference(a.key,e),PC(r,a)):a instanceof $E?(ce(Sg,"Document no longer in limbo: "+a.key),r.Ru.removeReference(a.key,e),r.Ru.containsKey(a.key)||tT(r,a.key)):Te(19791,{wu:a})}function PC(r,e){const i=e.key,a=i.path.canonicalString();r.du.get(i)||r.Eu.has(a)||(ce(Sg,"New document in limbo: "+i),r.Eu.add(a),Ag(r))}function Ag(r){for(;r.Eu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const e=r.Eu.values().next().value;r.Eu.delete(e);const i=new _e(ht.fromString(e)),a=r.fu.next();r.Au.set(a,new IC(i)),r.du=r.du.insert(i,a),HE(r.remoteStore,new Ns(rr(ag(i.path)),a,"TargetPurposeLimboResolution",Mh.ce))}}async function wu(r,e,i){const a=Ie(r),l=[],c=[],d=[];a.Tu.isEmpty()||(a.Tu.forEach(((p,y)=>{d.push(a.pu(y,e,i).then((_=>{if((_||i)&&a.isPrimaryClient){const b=_?!_.fromCache:i?.targetChanges.get(y.targetId)?.current;a.sharedClientState.updateQueryState(y.targetId,b?"current":"not-current")}if(_){l.push(_);const b=mg.As(y.targetId,_);c.push(b)}})))})),await Promise.all(d),a.Pu.H_(l),await(async function(y,_){const b=Ie(y);try{await b.persistence.runTransaction("notifyLocalViewChanges","readwrite",(A=>W.forEach(_,(V=>W.forEach(V.Es,(Y=>b.persistence.referenceDelegate.addReference(A,V.targetId,Y))).next((()=>W.forEach(V.ds,(Y=>b.persistence.referenceDelegate.removeReference(A,V.targetId,Y)))))))))}catch(A){if(!Jo(A))throw A;ce(gg,"Failed to update sequence numbers: "+A)}for(const A of _){const V=A.targetId;if(!A.fromCache){const Y=b.Ms.get(V),te=Y.snapshotVersion,ie=Y.withLastLimboFreeSnapshotVersion(te);b.Ms=b.Ms.insert(V,ie)}}})(a.localStore,c))}async function zC(r,e){const i=Ie(r);if(!i.currentUser.isEqual(e)){ce(Sg,"User change. New user:",e.toKey());const a=await zE(i.localStore,e);i.currentUser=e,(function(c,d){c.mu.forEach((p=>{p.forEach((y=>{y.reject(new he(Z.CANCELLED,d))}))})),c.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(e,a.removedBatchIds,a.addedBatchIds),await wu(i,a.Ls)}}function jC(r,e){const i=Ie(r),a=i.Au.get(e);if(a&&a.hu)return He().add(a.key);{let l=He();const c=i.Iu.get(e);if(!c)return l;for(const d of c){const p=i.Tu.get(d);l=l.unionWith(p.view.nu)}return l}}function nT(r){const e=Ie(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=ZE.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=jC.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=kC.bind(null,e),e.Pu.H_=bC.bind(null,e.eventManager),e.Pu.yu=SC.bind(null,e.eventManager),e}function BC(r){const e=Ie(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=UC.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=LC.bind(null,e),e}class Ah{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=jh(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,i){return null}Mu(e,i){return null}vu(e){return qI(this.persistence,new zI,e.initialUser,this.serializer)}Cu(e){return new PE(dg.mi,this.serializer)}Du(e){return new XI}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Ah.provider={build:()=>new Ah};class qC extends Ah{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,i){tt(this.persistence.referenceDelegate instanceof bh,46915);const a=this.persistence.referenceDelegate.garbageCollector;return new AI(a,e.asyncQueue,i)}Cu(e){const i=this.cacheSizeBytes!==void 0?zn.withCacheSize(this.cacheSizeBytes):zn.DEFAULT;return new PE((a=>bh.mi(a,i)),this.serializer)}}class km{async initialize(e,i){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>wv(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=zC.bind(null,this.syncEngine),await yC(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new vC})()}createDatastore(e){const i=jh(e.databaseInfo.databaseId),a=(function(c){return new eC(c)})(e.databaseInfo);return(function(c,d,p,y){return new rC(c,d,p,y)})(e.authCredentials,e.appCheckCredentials,a,i)}createRemoteStore(e){return(function(a,l,c,d,p){return new aC(a,l,c,d,p)})(this.localStore,this.datastore,e.asyncQueue,(i=>wv(this.syncEngine,i,0)),(function(){return vv.v()?new vv:new $I})())}createSyncEngine(e,i){return(function(l,c,d,p,y,_,b){const A=new CC(l,c,d,p,y,_);return b&&(A.gu=!0),A})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const a=Ie(i);ce(La,"RemoteStore shutting down."),a.Ea.add(5),await Au(a),a.Aa.shutdown(),a.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}km.provider={build:()=>new km};class HC{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Br("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,i){setTimeout((()=>{this.muted||e(i)}),0)}}const js="FirestoreClient";class FC{constructor(e,i,a,l,c){this.authCredentials=e,this.appCheckCredentials=i,this.asyncQueue=a,this.databaseInfo=l,this.user=bn.UNAUTHENTICATED,this.clientId=eg.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(a,(async d=>{ce(js,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(a,(d=>(ce(js,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new xa;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(i){const a=Tg(i,"Failed to shutdown persistence");e.reject(a)}})),e.promise}}async function am(r,e){r.asyncQueue.verifyOperationInProgress(),ce(js,"Initializing OfflineComponentProvider");const i=r.configuration;await e.initialize(i);let a=i.initialUser;r.setCredentialChangeListener((async l=>{a.isEqual(l)||(await zE(e.localStore,l),a=l)})),e.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=e}async function Iv(r,e){r.asyncQueue.verifyOperationInProgress();const i=await GC(r);ce(js,"Initializing OnlineComponentProvider"),await e.initialize(i,r.configuration),r.setCredentialChangeListener((a=>Tv(e.remoteStore,a))),r.setAppCheckTokenChangeListener(((a,l)=>Tv(e.remoteStore,l))),r._onlineComponents=e}async function GC(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){ce(js,"Using user provided OfflineComponentProvider");try{await am(r,r._uninitializedComponentsProvider._offline)}catch(e){const i=e;if(!(function(l){return l.name==="FirebaseError"?l.code===Z.FAILED_PRECONDITION||l.code===Z.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11})(i))throw i;jo("Error using user provided cache. Falling back to memory cache: "+i),await am(r,new Ah)}}else ce(js,"Using default OfflineComponentProvider"),await am(r,new qC(void 0));return r._offlineComponents}async function iT(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(ce(js,"Using user provided OnlineComponentProvider"),await Iv(r,r._uninitializedComponentsProvider._online)):(ce(js,"Using default OnlineComponentProvider"),await Iv(r,new km))),r._onlineComponents}function QC(r){return iT(r).then((e=>e.syncEngine))}async function Cv(r){const e=await iT(r),i=e.eventManager;return i.onListen=NC.bind(null,e.syncEngine),i.onUnlisten=MC.bind(null,e.syncEngine),i.onFirstRemoteStoreListen=xC.bind(null,e.syncEngine),i.onLastRemoteStoreUnlisten=OC.bind(null,e.syncEngine),i}function rT(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}const Nv=new Map;const sT="firestore.googleapis.com",xv=!0;class Dv{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new he(Z.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=sT,this.ssl=xv}else this.host=e.host,this.ssl=e.ssl??xv;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=LE;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<bI)throw new he(Z.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}sR("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=rT(e.experimentalLongPollingOptions??{}),(function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new he(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new he(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new he(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(a,l){return a.timeoutSeconds===l.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Hh{constructor(e,i,a,l){this._authCredentials=e,this._appCheckCredentials=i,this._databaseId=a,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Dv({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new he(Z.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new he(Z.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Dv(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(a){if(!a)return new Xw;switch(a.type){case"firstParty":return new Ww(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new he(Z.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const a=Nv.get(i);a&&(ce("ComponentProvider","Removing Datastore"),Nv.delete(i),a.terminate())})(this),Promise.resolve()}}function YC(r,e,i,a={}){r=ir(r,Hh);const l=Qo(e),c=r._getSettings(),d={...c,emulatorOptions:r._getEmulatorOptions()},p=`${e}:${i}`;l&&(i1(`https://${p}`),r1("Firestore",!0)),c.host!==sT&&c.host!==p&&jo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const y={...c,host:p,ssl:l,emulatorOptions:a};if(!Oa(y,d)&&(r._setSettings(y),a.mockUserToken)){let _,b;if(typeof a.mockUserToken=="string")_=a.mockUserToken,b=bn.MOCK_USER;else{_=vS(a.mockUserToken,r._app?.options.projectId);const A=a.mockUserToken.sub||a.mockUserToken.user_id;if(!A)throw new he(Z.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");b=new bn(A)}r._authCredentials=new $w(new X1(_,b))}}class Wo{constructor(e,i,a){this.converter=i,this._query=a,this.type="query",this.firestore=e}withConverter(e){return new Wo(this.firestore,e,this._query)}}class Vt{constructor(e,i,a){this.converter=i,this._key=a,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Vs(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Vt(this.firestore,e,this._key)}toJSON(){return{type:Vt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,i,a){if(Eu(i,Vt._jsonSchema))return new Vt(e,a||null,new _e(ht.fromString(i.referencePath)))}}Vt._jsonSchemaVersion="firestore/documentReference/1.0",Vt._jsonSchema={type:Gt("string",Vt._jsonSchemaVersion),referencePath:Gt("string")};class Vs extends Wo{constructor(e,i,a){super(e,i,ag(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Vt(this.firestore,null,new _e(e))}withConverter(e){return new Vs(this.firestore,e,this._path)}}function Yc(r,e,...i){if(r=dn(r),$1("collection","path",e),r instanceof Hh){const a=ht.fromString(e,...i);return H0(a),new Vs(r,null,a)}{if(!(r instanceof Vt||r instanceof Vs))throw new he(Z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=r._path.child(ht.fromString(e,...i));return H0(a),new Vs(r.firestore,null,a)}}function Wi(r,e,...i){if(r=dn(r),arguments.length===1&&(e=eg.newId()),$1("doc","path",e),r instanceof Hh){const a=ht.fromString(e,...i);return q0(a),new Vt(r,null,new _e(a))}{if(!(r instanceof Vt||r instanceof Vs))throw new he(Z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=r._path.child(ht.fromString(e,...i));return q0(a),new Vt(r.firestore,r instanceof Vs?r.converter:null,new _e(a))}}const Mv="AsyncQueue";class Ov{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new BE(this,"async_queue_retry"),this._c=()=>{const a=sm();a&&ce(Mv,"Visibility state changed to "+a.visibilityState),this.M_.w_()},this.ac=e;const i=sm();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const i=sm();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new xa;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Jo(e))throw e;ce(Mv,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const i=this.ac.then((()=>(this.rc=!0,e().catch((a=>{throw this.nc=a,this.rc=!1,Br("INTERNAL UNHANDLED ERROR: ",Vv(a)),a})).then((a=>(this.rc=!1,a))))));return this.ac=i,i}enqueueAfterDelay(e,i,a){this.uc(),this.oc.indexOf(e)>-1&&(i=0);const l=Eg.createAndSchedule(this,e,i,a,(c=>this.hc(c)));return this.tc.push(l),l}uc(){this.nc&&Te(47125,{Pc:Vv(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const i of this.tc)if(i.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((i,a)=>i.targetTimeMs-a.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),e!=="all"&&i.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const i=this.tc.indexOf(e);this.tc.splice(i,1)}}function Vv(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}function kv(r){return(function(i,a){if(typeof i!="object"||i===null)return!1;const l=i;for(const c of a)if(c in l&&typeof l[c]=="function")return!0;return!1})(r,["next","error","complete"])}class Pa extends Hh{constructor(e,i,a,l){super(e,i,a,l),this.type="firestore",this._queue=new Ov,this._persistenceKey=l?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Ov(e),this._firestoreClient=void 0,await e}}}function KC(r,e){const i=typeof r=="object"?r:l1(),a=typeof r=="string"?r:ph,l=Fm(i,"firestore").getImmediate({identifier:a});if(!l._initialized){const c=yS("firestore");c&&YC(l,...c)}return l}function aT(r){if(r._terminated)throw new he(Z.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||XC(r),r._firestoreClient}function XC(r){const e=r._freezeSettings(),i=(function(l,c,d,p){return new pR(l,c,d,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,rT(p.experimentalLongPollingOptions),p.useFetchStreams,p.isUsingEmulator)})(r._databaseId,r._app?.options.appId||"",r._persistenceKey,e);r._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),r._firestoreClient=new FC(r._authCredentials,r._appCheckCredentials,r._queue,i,r._componentsProvider&&(function(l){const c=l?._online.build();return{_offline:l?._offline.build(c),_online:c}})(r._componentsProvider))}class Si{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Si(mn.fromBase64String(e))}catch(i){throw new he(Z.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new Si(mn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Si._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Eu(e,Si._jsonSchema))return Si.fromBase64String(e.bytes)}}Si._jsonSchemaVersion="firestore/bytes/1.0",Si._jsonSchema={type:Gt("string",Si._jsonSchemaVersion),bytes:Gt("string")};class Fh{constructor(...e){for(let i=0;i<e.length;++i)if(e[i].length===0)throw new he(Z.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new fn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Gh{constructor(e){this._methodName=e}}class ar{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new he(Z.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new he(Z.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return qe(this._lat,e._lat)||qe(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:ar._jsonSchemaVersion}}static fromJSON(e){if(Eu(e,ar._jsonSchema))return new ar(e.latitude,e.longitude)}}ar._jsonSchemaVersion="firestore/geoPoint/1.0",ar._jsonSchema={type:Gt("string",ar._jsonSchemaVersion),latitude:Gt("number"),longitude:Gt("number")};class or{constructor(e){this._values=(e||[]).map((i=>i))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(a,l){if(a.length!==l.length)return!1;for(let c=0;c<a.length;++c)if(a[c]!==l[c])return!1;return!0})(this._values,e._values)}toJSON(){return{type:or._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Eu(e,or._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((i=>typeof i=="number")))return new or(e.vectorValues);throw new he(Z.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}or._jsonSchemaVersion="firestore/vectorValue/1.0",or._jsonSchema={type:Gt("string",or._jsonSchemaVersion),vectorValues:Gt("object")};const $C=/^__.*__$/;class JC{constructor(e,i,a){this.data=e,this.fieldMask=i,this.fieldTransforms=a}toMutation(e,i){return this.fieldMask!==null?new qs(e,this.data,this.fieldMask,i,this.fieldTransforms):new bu(e,this.data,i,this.fieldTransforms)}}class oT{constructor(e,i,a){this.data=e,this.fieldMask=i,this.fieldTransforms=a}toMutation(e,i){return new qs(e,this.data,this.fieldMask,i,this.fieldTransforms)}}function lT(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Te(40011,{Ac:r})}}class wg{constructor(e,i,a,l,c,d){this.settings=e,this.databaseId=i,this.serializer=a,this.ignoreUndefinedProperties=l,c===void 0&&this.Rc(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new wg({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const i=this.path?.child(e),a=this.Vc({path:i,fc:!1});return a.gc(e),a}yc(e){const i=this.path?.child(e),a=this.Vc({path:i,fc:!1});return a.Rc(),a}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return wh(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((i=>e.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>e.isPrefixOf(i.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(lT(this.Ac)&&$C.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class ZC{constructor(e,i,a){this.databaseId=e,this.ignoreUndefinedProperties=i,this.serializer=a||jh(e)}Cc(e,i,a,l=!1){return new wg({Ac:e,methodName:i,Dc:a,path:fn.emptyPath(),fc:!1,bc:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Qh(r){const e=r._freezeSettings(),i=jh(r._databaseId);return new ZC(r._databaseId,!!e.ignoreUndefinedProperties,i)}function uT(r,e,i,a,l,c={}){const d=r.Cc(c.merge||c.mergeFields?2:0,e,i,l);Ig("Data must be an object, but it was:",d,a);const p=cT(a,d);let y,_;if(c.merge)y=new ni(d.fieldMask),_=d.fieldTransforms;else if(c.mergeFields){const b=[];for(const A of c.mergeFields){const V=Um(e,A,i);if(!d.contains(V))throw new he(Z.INVALID_ARGUMENT,`Field '${V}' is specified in your field mask but missing from your input data.`);fT(b,V)||b.push(V)}y=new ni(b),_=d.fieldTransforms.filter((A=>y.covers(A.field)))}else y=null,_=d.fieldTransforms;return new JC(new jn(p),y,_)}class Yh extends Gh{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Yh}}class Rg extends Gh{_toFieldTransform(e){return new qR(e.path,new uu)}isEqual(e){return e instanceof Rg}}function WC(r,e,i,a){const l=r.Cc(1,e,i);Ig("Data must be an object, but it was:",l,a);const c=[],d=jn.empty();Bs(a,((y,_)=>{const b=Cg(e,y,i);_=dn(_);const A=l.yc(b);if(_ instanceof Yh)c.push(b);else{const V=Ru(_,A);V!=null&&(c.push(b),d.set(b,V))}}));const p=new ni(c);return new oT(d,p,l.fieldTransforms)}function eN(r,e,i,a,l,c){const d=r.Cc(1,e,i),p=[Um(e,a,i)],y=[l];if(c.length%2!=0)throw new he(Z.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let V=0;V<c.length;V+=2)p.push(Um(e,c[V])),y.push(c[V+1]);const _=[],b=jn.empty();for(let V=p.length-1;V>=0;--V)if(!fT(_,p[V])){const Y=p[V];let te=y[V];te=dn(te);const ie=d.yc(Y);if(te instanceof Yh)_.push(Y);else{const ne=Ru(te,ie);ne!=null&&(_.push(Y),b.set(Y,ne))}}const A=new ni(_);return new oT(b,A,d.fieldTransforms)}function tN(r,e,i,a=!1){return Ru(i,r.Cc(a?4:3,e))}function Ru(r,e){if(hT(r=dn(r)))return Ig("Unsupported field value:",e,r),cT(r,e);if(r instanceof Gh)return(function(a,l){if(!lT(l.Ac))throw l.Sc(`${a._methodName}() can only be used with update() and set()`);if(!l.path)throw l.Sc(`${a._methodName}() is not currently supported inside arrays`);const c=a._toFieldTransform(l);c&&l.fieldTransforms.push(c)})(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(a,l){const c=[];let d=0;for(const p of a){let y=Ru(p,l.wc(d));y==null&&(y={nullValue:"NULL_VALUE"}),c.push(y),d++}return{arrayValue:{values:c}}})(r,e)}return(function(a,l){if((a=dn(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return zR(l.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const c=gt.fromDate(a);return{timestampValue:Th(l.serializer,c)}}if(a instanceof gt){const c=new gt(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:Th(l.serializer,c)}}if(a instanceof ar)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof Si)return{bytesValue:xE(l.serializer,a._byteString)};if(a instanceof Vt){const c=l.databaseId,d=a.firestore._databaseId;if(!d.isEqual(c))throw l.Sc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:hg(a.firestore._databaseId||l.databaseId,a._key.path)}}if(a instanceof or)return(function(d,p){return{mapValue:{fields:{[sE]:{stringValue:aE},[yh]:{arrayValue:{values:d.toArray().map((_=>{if(typeof _!="number")throw p.Sc("VectorValues must only contain numeric values.");return og(p.serializer,_)}))}}}}}})(a,l);throw l.Sc(`Unsupported field value: ${Dh(a)}`)})(r,e)}function cT(r,e){const i={};return W1(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Bs(r,((a,l)=>{const c=Ru(l,e.mc(a));c!=null&&(i[a]=c)})),{mapValue:{fields:i}}}function hT(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof gt||r instanceof ar||r instanceof Si||r instanceof Vt||r instanceof Gh||r instanceof or)}function Ig(r,e,i){if(!hT(i)||!J1(i)){const a=Dh(i);throw a==="an object"?e.Sc(r+" a custom object"):e.Sc(r+" "+a)}}function Um(r,e,i){if((e=dn(e))instanceof Fh)return e._internalPath;if(typeof e=="string")return Cg(r,e);throw wh("Field path arguments must be of type string or ",r,!1,void 0,i)}const nN=new RegExp("[~\\*/\\[\\]]");function Cg(r,e,i){if(e.search(nN)>=0)throw wh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,i);try{return new Fh(...e.split("."))._internalPath}catch{throw wh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,i)}}function wh(r,e,i,a,l){const c=a&&!a.isEmpty(),d=l!==void 0;let p=`Function ${e}() called with invalid data`;i&&(p+=" (via `toFirestore()`)"),p+=". ";let y="";return(c||d)&&(y+=" (found",c&&(y+=` in field ${a}`),d&&(y+=` in document ${l}`),y+=")"),new he(Z.INVALID_ARGUMENT,p+r+y)}function fT(r,e){return r.some((i=>i.isEqual(e)))}class dT{constructor(e,i,a,l,c){this._firestore=e,this._userDataWriter=i,this._key=a,this._document=l,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new Vt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new iN(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const i=this._document.data.field(mT("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i)}}}class iN extends dT{data(){return super.data()}}function mT(r,e){return typeof e=="string"?Cg(r,e):e instanceof Fh?e._internalPath:e._delegate._internalPath}function rN(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new he(Z.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Ng{}class sN extends Ng{}function Uv(r,e,...i){let a=[];e instanceof Ng&&a.push(e),a=a.concat(i),(function(c){const d=c.filter((y=>y instanceof Dg)).length,p=c.filter((y=>y instanceof xg)).length;if(d>1||d>0&&p>0)throw new he(Z.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(a);for(const l of a)r=l._apply(r);return r}class xg extends sN{constructor(e,i,a){super(),this._field=e,this._op=i,this._value=a,this.type="where"}static _create(e,i,a){return new xg(e,i,a)}_apply(e){const i=this._parse(e);return gT(e._query,i),new Wo(e.firestore,e.converter,wm(e._query,i))}_parse(e){const i=Qh(e.firestore);return(function(c,d,p,y,_,b,A){let V;if(_.isKeyField()){if(b==="array-contains"||b==="array-contains-any")throw new he(Z.INVALID_ARGUMENT,`Invalid Query. You can't perform '${b}' queries on documentId().`);if(b==="in"||b==="not-in"){Pv(A,b);const te=[];for(const ie of A)te.push(Lv(y,c,ie));V={arrayValue:{values:te}}}else V=Lv(y,c,A)}else b!=="in"&&b!=="not-in"&&b!=="array-contains-any"||Pv(A,b),V=tN(p,d,A,b==="in"||b==="not-in");return Ft.create(_,b,V)})(e._query,"where",i,e.firestore._databaseId,this._field,this._op,this._value)}}class Dg extends Ng{constructor(e,i){super(),this.type=e,this._queryConstraints=i}static _create(e,i){return new Dg(e,i)}_parse(e){const i=this._queryConstraints.map((a=>a._parse(e))).filter((a=>a.getFilters().length>0));return i.length===1?i[0]:ki.create(i,this._getOperator())}_apply(e){const i=this._parse(e);return i.getFilters().length===0?e:((function(l,c){let d=l;const p=c.getFlattenedFilters();for(const y of p)gT(d,y),d=wm(d,y)})(e._query,i),new Wo(e.firestore,e.converter,wm(e._query,i)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function Lv(r,e,i){if(typeof(i=dn(i))=="string"){if(i==="")throw new he(Z.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!mE(e)&&i.indexOf("/")!==-1)throw new he(Z.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${i}' contains a '/' character.`);const a=e.path.child(ht.fromString(i));if(!_e.isDocumentKey(a))throw new he(Z.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${a}' is not because it has an odd number of segments (${a.length}).`);return J0(r,new _e(a))}if(i instanceof Vt)return J0(r,i._key);throw new he(Z.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Dh(i)}.`)}function Pv(r,e){if(!Array.isArray(r)||r.length===0)throw new he(Z.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function gT(r,e){const i=(function(l,c){for(const d of l)for(const p of d.getFlattenedFilters())if(c.indexOf(p.op)>=0)return p.op;return null})(r.filters,(function(l){switch(l){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(i!==null)throw i===e.op?new he(Z.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new he(Z.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${i.toString()}' filters.`)}class aN{convertValue(e,i="none"){switch(Ps(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ot(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,i);case 5:return e.stringValue;case 6:return this.convertBytes(Ls(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,i);case 11:return this.convertObject(e.mapValue,i);case 10:return this.convertVectorValue(e.mapValue);default:throw Te(62114,{value:e})}}convertObject(e,i){return this.convertObjectMap(e.fields,i)}convertObjectMap(e,i="none"){const a={};return Bs(e,((l,c)=>{a[l]=this.convertValue(c,i)})),a}convertVectorValue(e){const i=e.fields?.[yh].arrayValue?.values?.map((a=>Ot(a.doubleValue)));return new or(i)}convertGeoPoint(e){return new ar(Ot(e.latitude),Ot(e.longitude))}convertArray(e,i){return(e.values||[]).map((a=>this.convertValue(a,i)))}convertServerTimestamp(e,i){switch(i){case"previous":const a=Vh(e);return a==null?null:this.convertValue(a,i);case"estimate":return this.convertTimestamp(au(e));default:return null}}convertTimestamp(e){const i=Us(e);return new gt(i.seconds,i.nanos)}convertDocumentKey(e,i){const a=ht.fromString(e);tt(UE(a),9688,{name:e});const l=new ou(a.get(1),a.get(3)),c=new _e(a.popFirst(5));return l.isEqual(i)||Br(`Document ${c} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),c}}function pT(r,e,i){let a;return a=r?r.toFirestore(e):e,a}class $l{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Da extends dT{constructor(e,i,a,l,c,d){super(e,i,a,l,d),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const i=new sh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){const a=this._document.data.field(mT("DocumentSnapshot.get",e));if(a!==null)return this._userDataWriter.convertValue(a,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new he(Z.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,i={};return i.type=Da._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}Da._jsonSchemaVersion="firestore/documentSnapshot/1.0",Da._jsonSchema={type:Gt("string",Da._jsonSchemaVersion),bundleSource:Gt("string","DocumentSnapshot"),bundleName:Gt("string"),bundle:Gt("string")};class sh extends Da{data(e={}){return super.data(e)}}class Lo{constructor(e,i,a,l){this._firestore=e,this._userDataWriter=i,this._snapshot=l,this.metadata=new $l(l.hasPendingWrites,l.fromCache),this.query=a}get docs(){const e=[];return this.forEach((i=>e.push(i))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,i){this._snapshot.docs.forEach((a=>{e.call(i,new sh(this._firestore,this._userDataWriter,a.key,a,new $l(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new he(Z.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(l,c){if(l._snapshot.oldDocs.isEmpty()){let d=0;return l._snapshot.docChanges.map((p=>{const y=new sh(l._firestore,l._userDataWriter,p.doc.key,p.doc,new $l(l._snapshot.mutatedKeys.has(p.doc.key),l._snapshot.fromCache),l.query.converter);return p.doc,{type:"added",doc:y,oldIndex:-1,newIndex:d++}}))}{let d=l._snapshot.oldDocs;return l._snapshot.docChanges.filter((p=>c||p.type!==3)).map((p=>{const y=new sh(l._firestore,l._userDataWriter,p.doc.key,p.doc,new $l(l._snapshot.mutatedKeys.has(p.doc.key),l._snapshot.fromCache),l.query.converter);let _=-1,b=-1;return p.type!==0&&(_=d.indexOf(p.doc.key),d=d.delete(p.doc.key)),p.type!==1&&(d=d.add(p.doc),b=d.indexOf(p.doc.key)),{type:oN(p.type),doc:y,oldIndex:_,newIndex:b}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new he(Z.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Lo._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=eg.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],a=[],l=[];return this.docs.forEach((c=>{c._document!==null&&(i.push(c._document),a.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),l.push(c.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function oN(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Te(61501,{type:r})}}Lo._jsonSchemaVersion="firestore/querySnapshot/1.0",Lo._jsonSchema={type:Gt("string",Lo._jsonSchemaVersion),bundleSource:Gt("string","QuerySnapshot"),bundleName:Gt("string"),bundle:Gt("string")};class yT extends aN{constructor(e){super(),this.firestore=e}convertBytes(e){return new Si(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new Vt(this.firestore,null,i)}}function lN(r,e,i){r=ir(r,Vt);const a=ir(r.firestore,Pa),l=pT(r.converter,e);return Kh(a,[uT(Qh(a),"setDoc",r._key,l,r.converter!==null,i).toMutation(r._key,Ai.none())])}function Ro(r,e,i,...a){r=ir(r,Vt);const l=ir(r.firestore,Pa),c=Qh(l);let d;return d=typeof(e=dn(e))=="string"||e instanceof Fh?eN(c,"updateDoc",r._key,e,i,a):WC(c,"updateDoc",r._key,e),Kh(l,[d.toMutation(r._key,Ai.exists(!0))])}function zv(r){return Kh(ir(r.firestore,Pa),[new lg(r._key,Ai.none())])}function jv(r,e){const i=ir(r.firestore,Pa),a=Wi(r),l=pT(r.converter,e);return Kh(i,[uT(Qh(r.firestore),"addDoc",a._key,l,r.converter!==null,{}).toMutation(a._key,Ai.exists(!1))]).then((()=>a))}function Bv(r,...e){r=dn(r);let i={includeMetadataChanges:!1,source:"default"},a=0;typeof e[a]!="object"||kv(e[a])||(i=e[a++]);const l={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(kv(e[a])){const y=e[a];e[a]=y.next?.bind(y),e[a+1]=y.error?.bind(y),e[a+2]=y.complete?.bind(y)}let c,d,p;if(r instanceof Vt)d=ir(r.firestore,Pa),p=ag(r._key.path),c={next:y=>{e[a]&&e[a](uN(d,r,y))},error:e[a+1],complete:e[a+2]};else{const y=ir(r,Wo);d=ir(y.firestore,Pa),p=y._query;const _=new yT(d);c={next:b=>{e[a]&&e[a](new Lo(d,_,y,b))},error:e[a+1],complete:e[a+2]},rN(r._query)}return(function(_,b,A,V){const Y=new HC(V),te=new AC(b,Y,A);return _.asyncQueue.enqueueAndForget((async()=>EC(await Cv(_),te))),()=>{Y.Nu(),_.asyncQueue.enqueueAndForget((async()=>TC(await Cv(_),te)))}})(aT(d),p,l,c)}function Kh(r,e){return(function(a,l){const c=new xa;return a.asyncQueue.enqueueAndForget((async()=>VC(await QC(a),l,c))),c.promise})(aT(r),e)}function uN(r,e,i){const a=i.docs.get(e._key),l=new yT(r);return new Da(r,l,e._key,a,new $l(i.hasPendingWrites,i.fromCache),e.converter)}function qv(){return new Rg("serverTimestamp")}(function(e,i=!0){(function(l){Xo=l})(Yo),zo(new Va("firestore",((a,{instanceIdentifier:l,options:c})=>{const d=a.getProvider("app").getImmediate(),p=new Pa(new Jw(a.getProvider("auth-internal")),new eR(d,a.getProvider("app-check-internal")),(function(_,b){if(!Object.prototype.hasOwnProperty.apply(_.options,["projectId"]))throw new he(Z.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ou(_.options.projectId,b)})(d,l),d);return c={useFetchStreams:i,...c},p._setSettings(c),p}),"PUBLIC").setMultipleInstances(!0)),Ms(P0,z0,e),Ms(P0,z0,"esm2020")})();const cN=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),hN=r=>r.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,i,a)=>a?a.toUpperCase():i.toLowerCase()),Hv=r=>{const e=hN(r);return e.charAt(0).toUpperCase()+e.slice(1)},_T=(...r)=>r.filter((e,i,a)=>!!e&&e.trim()!==""&&a.indexOf(e)===i).join(" ").trim(),fN=r=>{for(const e in r)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var dN={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const mN=ae.forwardRef(({color:r="currentColor",size:e=24,strokeWidth:i=2,absoluteStrokeWidth:a,className:l="",children:c,iconNode:d,...p},y)=>ae.createElement("svg",{ref:y,...dN,width:e,height:e,stroke:r,strokeWidth:a?Number(i)*24/Number(e):i,className:_T("lucide",l),...!c&&!fN(p)&&{"aria-hidden":"true"},...p},[...d.map(([_,b])=>ae.createElement(_,b)),...Array.isArray(c)?c:[c]]));const Le=(r,e)=>{const i=ae.forwardRef(({className:a,...l},c)=>ae.createElement(mN,{ref:c,iconNode:e,className:_T(`lucide-${cN(Hv(r))}`,`lucide-${r}`,a),...l}));return i.displayName=Hv(r),i};const gN=[["path",{d:"M12 6v16",key:"nqf5sj"}],["path",{d:"m19 13 2-1a9 9 0 0 1-18 0l2 1",key:"y7qv08"}],["path",{d:"M9 11h6",key:"1fldmi"}],["circle",{cx:"12",cy:"4",r:"2",key:"muu5ef"}]],pN=Le("anchor",gN);const yN=[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]],om=Le("bot",yN);const _N=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],lm=Le("briefcase",_N);const vN=[["path",{d:"M12 20v-9",key:"1qisl0"}],["path",{d:"M14 7a4 4 0 0 1 4 4v3a6 6 0 0 1-12 0v-3a4 4 0 0 1 4-4z",key:"uouzyp"}],["path",{d:"M14.12 3.88 16 2",key:"qol33r"}],["path",{d:"M21 21a4 4 0 0 0-3.81-4",key:"1b0z45"}],["path",{d:"M21 5a4 4 0 0 1-3.55 3.97",key:"5cxbf6"}],["path",{d:"M22 13h-4",key:"1jl80f"}],["path",{d:"M3 21a4 4 0 0 1 3.81-4",key:"1fjd4g"}],["path",{d:"M3 5a4 4 0 0 0 3.55 3.97",key:"1d7oge"}],["path",{d:"M6 13H2",key:"82j7cp"}],["path",{d:"m8 2 1.88 1.88",key:"fmnt4t"}],["path",{d:"M9 7.13V6a3 3 0 1 1 6 0v1.13",key:"1vgav8"}]],EN=Le("bug",vN);const TN=[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],Lm=Le("camera",TN);const bN=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],SN=Le("chevron-down",bN);const AN=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],wN=Le("chevron-right",AN);const RN=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}]],ah=Le("circle-dot",RN);const IN=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],Fv=Le("crown",IN);const CN=[["path",{d:"M11 20H2",key:"nlcfvz"}],["path",{d:"M11 4.562v16.157a1 1 0 0 0 1.242.97L19 20V5.562a2 2 0 0 0-1.515-1.94l-4-1A2 2 0 0 0 11 4.561z",key:"au4z13"}],["path",{d:"M11 4H8a2 2 0 0 0-2 2v14",key:"74r1mk"}],["path",{d:"M14 12h.01",key:"1jfl7z"}],["path",{d:"M22 20h-3",key:"vhrsz"}]],NN=Le("door-open",CN);const xN=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],DN=Le("eye-off",xN);const MN=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],ON=Le("eye",MN);const VN=[["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}],["path",{d:"M12 16.5A4.5 4.5 0 1 1 7.5 12 4.5 4.5 0 1 1 12 7.5a4.5 4.5 0 1 1 4.5 4.5 4.5 4.5 0 1 1-4.5 4.5",key:"14wa3c"}],["path",{d:"M12 7.5V9",key:"1oy5b0"}],["path",{d:"M7.5 12H9",key:"eltsq1"}],["path",{d:"M16.5 12H15",key:"vk5kw4"}],["path",{d:"M12 16.5V15",key:"k7eayi"}],["path",{d:"m8 8 1.88 1.88",key:"nxy4qf"}],["path",{d:"M14.12 9.88 16 8",key:"1lst6k"}],["path",{d:"m8 16 1.88-1.88",key:"h2eex1"}],["path",{d:"M14.12 14.12 16 16",key:"uqkrx3"}]],Kc=Le("flower",VN);const kN=[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]],UN=Le("heart",kN);const LN=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],vT=Le("image",LN);const PN=[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]],Gv=Le("key",PN);const zN=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],jN=Le("layers",zN);const BN=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],Po=Le("map-pin",BN);const qN=[["path",{d:"M12 2v20",key:"t6zp3m"}],["path",{d:"m15 19-3 3-3-3",key:"11eu04"}],["path",{d:"m19 9 3 3-3 3",key:"1mg7y2"}],["path",{d:"M2 12h20",key:"9i4pu4"}],["path",{d:"m5 9-3 3 3 3",key:"j64kie"}],["path",{d:"m9 5 3-3 3 3",key:"l8vdw6"}]],HN=Le("move",qN);const FN=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],Fl=Le("package",FN);const GN=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],QN=Le("plus",GN);const YN=[["path",{d:"M16.247 7.761a6 6 0 0 1 0 8.478",key:"1fwjs5"}],["path",{d:"M19.075 4.933a10 10 0 0 1 0 14.134",key:"ehdyv1"}],["path",{d:"M4.925 19.067a10 10 0 0 1 0-14.134",key:"1q22gi"}],["path",{d:"M7.753 16.239a6 6 0 0 1 0-8.478",key:"r2q7qm"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],Qv=Le("radio",YN);const KN=[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]],XN=Le("rocket",KN);const $N=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M14 15H9v-5",key:"pi4jk9"}],["path",{d:"M16 3h5v5",key:"1806ms"}],["path",{d:"M21 3 9 15",key:"15kdhq"}]],JN=Le("scaling",$N);const ZN=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],WN=Le("search",ZN);const e4=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],t4=Le("settings",e4);const n4=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]],Pm=Le("shield-alert",n4);const i4=[["path",{d:"m12.5 17-.5-1-.5 1h1z",key:"3me087"}],["path",{d:"M15 22a1 1 0 0 0 1-1v-1a2 2 0 0 0 1.56-3.25 8 8 0 1 0-11.12 0A2 2 0 0 0 8 20v1a1 1 0 0 0 1 1z",key:"1o5pge"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}]],r4=Le("skull",i4);const s4=[["path",{d:"M14 9.536V7a4 4 0 0 1 4-4h1.5a.5.5 0 0 1 .5.5V5a4 4 0 0 1-4 4 4 4 0 0 0-4 4c0 2 1 3 1 5a5 5 0 0 1-1 3",key:"139s4v"}],["path",{d:"M4 9a5 5 0 0 1 8 4 5 5 0 0 1-8-4",key:"1dlkgp"}],["path",{d:"M5 21h14",key:"11awu3"}]],Yv=Le("sprout",s4);const a4=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]],o4=Le("square-plus",a4);const l4=[["path",{d:"M3.5 21 14 3",key:"1szst5"}],["path",{d:"M20.5 21 10 3",key:"1310c3"}],["path",{d:"M15.5 21 12 15l-3.5 6",key:"1ddtfw"}],["path",{d:"M2 21h20",key:"1nyx9w"}]],u4=Le("tent",l4);const c4=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],h4=Le("trash-2",c4);const f4=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],Rh=Le("upload",f4);const d4=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],ET=Le("user",d4);const m4=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],g4=Le("users",m4);const p4=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],zm=Le("x",p4);const y4=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],Kv=Le("zap",y4),um=typeof globalThis<"u"&&typeof globalThis.__firebase_config<"u"?globalThis.__firebase_config:"{}";let fu={};try{fu=typeof um=="string"?JSON.parse(um):um||{}}catch(r){console.warn("Failed to parse __firebase_config, falling back to empty config.",r),fu={}}const _4=!!(fu&&fu.apiKey),v4=typeof globalThis<"u"&&typeof globalThis.__disable_firebase<"u"?!!globalThis.__disable_firebase:!1;let Xc=null,Or=null,tn=null,jm=!1;if(_4&&!v4)try{Xc=o1(fu),Or=Yw(Xc),tn=KC(Xc),jm=!!(Xc&&Or&&tn)}catch(r){console.warn("Firebase init failed, running in local mode instead.",r),jm=!1}const Gl=jm,ti=typeof globalThis<"u"&&typeof globalThis.__app_id<"u"?globalThis.__app_id:"default-app",Io=r=>`./maps/${r}`,Zi={dam:{id:"dam",name:"",width:2e3,height:2e3,defaultUrl:Io("dam.jpg"),bgColor:"#1a1d21",gridColor:"#2a2e33"},spaceport:{id:"spaceport",name:"",width:2400,height:1600,defaultUrl:Io("spaceport.jpg"),bgColor:"#161b22",gridColor:"#1f2937"},buried:{id:"buried",name:"",width:2e3,height:2e3,defaultUrl:Io("buried.jpg"),bgColor:"#1f1a16",gridColor:"#332b25"},bluegate:{id:"bluegate",name:"",width:2400,height:1600,defaultUrl:Io("bluegate.jpg"),bgColor:"#1e293b",gridColor:"#334155"},stella:{id:"stella",name:"",width:2400,height:1600,bgColor:"#0f172a",gridColor:"#1e293b",layers:[{id:"upper",name:" ()",defaultUrl:Io("stella_upper.jpg")},{id:"lower",name:" ()",defaultUrl:Io("stella_lower.jpg")}]}},Ca={containers:{label:"",color:"#f59e0b"},arc:{label:"",color:"#ef4444"},nature:{label:"",color:"#10b981"},events:{label:"",color:"#a855f7"},others:{label:"",color:"#3b82f6"}},E4={weapon_case:{id:"weapon_case",cat:"containers",label:"",icon:lm},med_bag:{id:"med_bag",cat:"containers",label:"",icon:o4},grenade_tube:{id:"grenade_tube",cat:"containers",label:"",icon:ah},ammo_crate:{id:"ammo_crate",cat:"containers",label:"",icon:Fl},backpack:{id:"backpack",cat:"containers",label:"",icon:lm},security_lockbox:{id:"security_lockbox",cat:"containers",label:"",icon:Gv},baron_husk:{id:"baron_husk",cat:"containers",label:"",icon:r4},rocketeer_husk:{id:"rocketeer_husk",cat:"containers",label:"",icon:XN},wasp_husk:{id:"wasp_husk",cat:"containers",label:"",icon:ah},arc_courier:{id:"arc_courier",cat:"containers",label:"ARC",icon:Fl},crashed_probe:{id:"crashed_probe",cat:"containers",label:"",icon:Qv},tick:{id:"tick",cat:"arc",label:"",icon:EN},pop:{id:"pop",cat:"arc",label:"",icon:ah},fireball:{id:"fireball",cat:"arc",label:"",icon:Kv},surveyor:{id:"surveyor",cat:"arc",label:"arc",icon:ON},sentinel:{id:"sentinel",cat:"arc",label:"",icon:Pm},rocketeer_arc:{id:"rocketeer_arc",cat:"arc",label:"",icon:om},leaper:{id:"leaper",cat:"arc",label:"Leaper",icon:om},bombardier:{id:"bombardier",cat:"arc",label:"",icon:om},bastion:{id:"bastion",cat:"arc",label:"",icon:Pm},queen:{id:"queen",cat:"arc",label:"",icon:Fv},matriarch:{id:"matriarch",cat:"arc",label:"",icon:Fv},mushrooms:{id:"mushrooms",cat:"nature",label:"",icon:Yv},great_mullein:{id:"great_mullein",cat:"nature",label:"",icon:Kc},agave:{id:"agave",cat:"nature",label:"",icon:Kc},apricot_tree:{id:"apricot_tree",cat:"nature",label:"",icon:Kc},prickly_pear:{id:"prickly_pear",cat:"nature",label:"",icon:Kc},moss:{id:"moss",cat:"nature",label:"",icon:Yv},harvester:{id:"harvester",cat:"events",label:"",icon:Kv},raider_cache:{id:"raider_cache",cat:"events",label:"",icon:Fl},wicker_basket:{id:"wicker_basket",cat:"events",label:"",icon:Fl},elevator:{id:"elevator",cat:"others",label:"",icon:pN},hatch:{id:"hatch",cat:"others",label:"",icon:NN},supply_call:{id:"supply_call",cat:"others",label:"",icon:Qv},raider_camp:{id:"raider_camp",cat:"others",label:"",icon:u4},field_depot:{id:"field_depot",cat:"others",label:"",icon:lm},player_spawn:{id:"player_spawn",cat:"others",label:"",icon:ET},quest:{id:"quest",cat:"others",label:"",icon:Po},locked_room:{id:"locked_room",cat:"others",label:"",icon:Gv},field_crate:{id:"field_crate",cat:"others",label:"",icon:Fl},custom_pin:{id:"custom_pin",cat:"others",label:"",icon:Po}},Xv={id:"unknown",cat:"others",label:"",icon:ah},Ma={weapon_case:"/icon/weapon_case.svg",med_bag:"/icon/med_bag.svg",grenade_tube:"/icon/grenade_tube.svg",ammo_crate:"/icon/ammo_crate.svg",backpack:"/icon/backpack.svg",security_lockbox:"/icon/security_locker.svg",baron_husk:"/icon/baron_husk.svg",rocketeer_husk:"/icon/rocketeer_husk.svg",wasp_husk:"/icon/wasp_husk.svg",arc_courier:"/icon/arc_courier.svg",crashed_probe:"/icon/crashed_probe.svg",tick:"/icon/tick.svg",pop:"/icon/pop.svg",fireball:"/icon/fireball.svg",surveyor:"/icon/surveyor.svg",sentinel:"/icon/sentinel.svg",rocketeer_arc:"/icon/rocketeer.svg",leaper:"/icon/leaper.svg",bombardier:"/icon/bombardier.svg",bastion:"/icon/bastion.svg",queen:"/icon/queen.svg",matriarch:"/icon/apricot_tree.svg",mushrooms:"/icon/mushrooms.svg",great_mullein:"/icon/great_mullein.svg",agave:"/icon/agave.svg",apricot_tree:"/icon/apricot_tree.svg",prickly_pear:"/icon/prickly_pear.svg",moss:"/icon/moss.svg",harvester:"/icon/harvester.svg",raider_cache:"/icon/raider_cache.svg",wicker_basket:"/icon/wicker_basket.svg",elevator:"/icon/elevator.svg",hatch:"/icon/hatch.svg",supply_call:"/icon/supply_call_station.svg",raider_camp:"/icon/raider_camp.svg",field_depot:"/icon/field_depot.svg",player_spawn:"/icon/player_spawn.svg",quest:"/icon/quest.svg",locked_room:"/icon/locked_room.svg",field_crate:"/icon/field_crate.svg",custom_pin:"/icon/field_crate.svg"},T4="./";Object.keys(Ma).forEach(r=>{const e=Ma[r];if(typeof e=="string"&&e.startsWith("/")){const i=e.replace(/^\//,"");Ma[r]=`${T4}${i}`}});const b4=new Set(Object.values(Ma)),Ql=(r,e="")=>`data:image/svg+xml;utf8,${encodeURIComponent(`<svg xmlns="http://www.w3.org/2000/svg" width="64" height="64" viewBox="0 0 64 64"><rect width="64" height="64" rx="12" fill="${r}"/><text x="50%" y="54%" text-anchor="middle" font-size="28" fill="#0f172a" font-family="Arial, sans-serif" font-weight="700">${e}</text></svg>`)}`,S4=[{id:"preset-orange",label:"",dataUrl:Ql("#fb923c","P")},{id:"preset-blue",label:"",dataUrl:Ql("#60a5fa","P")},{id:"preset-green",label:"",dataUrl:Ql("#34d399","P")},{id:"preset-purple",label:"",dataUrl:Ql("#c084fc","P")},{id:"preset-gray",label:"",dataUrl:Ql("#9ca3af","P")}],cm=()=>Math.random().toString(36).substring(2,8).toUpperCase(),Ih=(r,e=600)=>new Promise((i,a)=>{const l=new FileReader;l.readAsDataURL(r),l.onload=c=>{const d=new Image;d.src=c.target.result,d.onload=()=>{const p=document.createElement("canvas"),y=e/d.width;p.width=e,p.height=d.height*y,p.getContext("2d").drawImage(d,0,0,p.width,p.height),i(p.toDataURL("image/jpeg",.7))},d.onerror=a},l.onerror=a}),A4=({config:r,onUpload:e})=>x.jsx("div",{className:"w-full h-full absolute top-0 left-0 flex flex-col items-center justify-center",style:{backgroundColor:r.bgColor,backgroundImage:`
        linear-gradient(${r.gridColor} 1px, transparent 1px),
        linear-gradient(90deg, ${r.gridColor} 1px, transparent 1px)
      `,backgroundSize:"100px 100px"},children:x.jsxs("div",{className:"text-center p-6 bg-black/50 backdrop-blur rounded-xl border border-gray-700",children:[x.jsx(vT,{size:48,className:"mx-auto text-gray-500 mb-4"}),x.jsx("p",{className:"text-gray-300 font-bold mb-2",children:"NO MAP IMAGE"}),x.jsx("p",{className:"text-gray-500 text-sm mb-4 max-w-xs",children:""}),x.jsxs("button",{onClick:e,className:"bg-orange-600 hover:bg-orange-500 text-white px-4 py-2 rounded flex items-center gap-2 mx-auto transition-colors",children:[x.jsx(Rh,{size:16}),""]})]})}),w4=({pin:r,markerDef:e,onClose:i,onUpdateImage:a,onUpdateIcon:l,onUpdateNote:c,onDelete:d,onMark:p})=>{const y=ae.useRef(null),_=ae.useRef(null),b=Ca[e.cat]||Ca.others,[A,V]=ae.useState(r.note||""),Y=async ie=>{const ne=ie.target.files[0];if(ne)try{const de=await Ih(ne);a(r.id,de)}catch(de){console.error("Image upload failed",de),alert("")}},te=async ie=>{const ne=ie.target.files[0];if(!(!ne||!l))try{const de=await Ih(ne,128);l(r.id,de)}catch(de){console.error("Icon upload failed",de),alert("")}};return x.jsxs("div",{className:"absolute z-[100] bg-gray-900 text-white rounded-lg shadow-2xl border border-gray-700 w-72 overflow-hidden",style:{top:"50%",left:"50%",transform:"translate(-50%, -50%)"},onClick:ie=>ie.stopPropagation(),children:[x.jsxs("div",{className:"relative h-40 bg-gray-800 flex items-center justify-center overflow-hidden group",children:[r.imageUrl?x.jsx("img",{src:r.imageUrl,alt:"Pin Attachment",className:"w-full h-full object-cover"}):x.jsxs("div",{className:"flex flex-col items-center text-gray-500",children:[x.jsx(Lm,{size:32,className:"mb-2 opacity-50"}),x.jsx("span",{className:"text-xs",children:"No Image"})]}),x.jsx("div",{className:"absolute inset-0 bg-black/60 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center cursor-pointer",onClick:()=>y.current?.click(),children:x.jsxs("div",{className:"text-center",children:[x.jsx(Rh,{className:"mx-auto mb-1 text-white",size:24}),x.jsx("span",{className:"text-xs font-bold text-white",children:"/"})]})}),x.jsx("input",{type:"file",ref:y,className:"hidden",accept:"image/*",onChange:Y}),x.jsx("input",{type:"file",ref:_,className:"hidden",accept:"image/*",onChange:te})]}),x.jsxs("div",{className:"p-4",children:[x.jsxs("div",{className:"flex justify-between items-start mb-2",children:[x.jsxs("div",{children:[x.jsxs("div",{className:"flex items-center gap-2 text-orange-400 text-xs font-bold uppercase mb-0.5",children:[x.jsx(e.icon,{size:12,color:b.color}),b.label]}),x.jsx("h3",{className:"text-lg font-bold leading-tight",children:e.label})]}),x.jsx("button",{onClick:i,className:"text-gray-400 hover:text-white",children:x.jsx(zm,{size:20})})]}),x.jsxs("div",{className:"text-xs text-gray-500 mb-4",children:[": ",x.jsx("span",{className:"text-gray-300 font-semibold",children:r.createdByName||""})," ",x.jsxs("span",{className:"ml-2 text-gray-600",children:["ID: ",r.id.slice(0,6),""]})]}),x.jsxs("div",{className:"flex flex-col gap-2 mb-3",children:[x.jsx("label",{className:"text-[10px] text-gray-400",children:""}),x.jsx("textarea",{value:A,onChange:ie=>V(ie.target.value),className:"w-full h-20 bg-gray-800 border border-gray-700 rounded px-2 py-1 text-xs text-gray-200",placeholder:""}),x.jsx("div",{className:"flex justify-end",children:x.jsx("button",{onClick:()=>c?.(r.id,A),className:"text-xs px-2 py-1 rounded bg-gray-800 border border-gray-700 hover:bg-gray-700 text-gray-200",children:""})})]}),x.jsxs("div",{className:"flex gap-2 mb-2",children:[x.jsxs("button",{onClick:()=>_.current?.click(),className:"flex-1 bg-gray-700 hover:bg-gray-600 text-white text-xs font-bold py-2 rounded transition-colors flex items-center justify-center gap-2",children:[x.jsx(Lm,{size:14}),""]}),x.jsxs("button",{onClick:()=>y.current?.click(),className:"flex-1 bg-gray-700 hover:bg-gray-600 text-white text-xs font-bold py-2 rounded transition-colors flex items-center justify-center gap-2",children:[x.jsx(Rh,{size:14}),""]})]}),x.jsxs("div",{className:"flex gap-2",children:[x.jsxs("button",{onClick:()=>p?.(r.id),className:"flex-1 bg-gray-700 hover:bg-gray-600 text-white text-xs font-bold py-2 rounded transition-colors flex items-center justify-center gap-2",children:[x.jsx(Po,{size:14}),""]}),x.jsx("button",{onClick:()=>d(r.id),className:"bg-red-900/50 hover:bg-red-900 text-red-200 p-2 rounded transition-colors",title:"",children:x.jsx(h4,{size:16})})]})]})]})};function R4(){const[r,e]=ae.useState(null),[i,a]=ae.useState(null),[l,c]=ae.useState("dam"),[d,p]=ae.useState(null),[y,_]=ae.useState({}),[b,A]=ae.useState([]),[V,Y]=ae.useState([]),[te,ie]=ae.useState(null),[ne,de]=ae.useState([]),[we,ve]=ae.useState({}),[Ve,Je]=ae.useState({}),[Me,N]=ae.useState([]),[w,C]=ae.useState(null),[k,D]=ae.useState(!1),[L,R]=ae.useState(null),[rt,bt]=ae.useState(""),[Q,oe]=ae.useState(null),[ge,Pe]=ae.useState([]),[Fe,O]=ae.useState(""),[$,le]=ae.useState(!1),[ue,be]=ae.useState([]),[Ce,Ge]=ae.useState(""),[kt,ft]=ae.useState(""),[Fr,Hs]=ae.useState("#7dd3fc"),[Fs,Gs]=ae.useState(""),[Ut,Bn]=ae.useState("move"),[It,ur]=ae.useState({x:0,y:0,scale:.4}),[Gr,St]=ae.useState(1),[Ct,ii]=ae.useState(!1),[Qs,Ys]=ae.useState(!1),[Jt,cr]=ae.useState({x:0,y:0}),[Ks,Qr]=ae.useState(!1),[gn,Ba]=ae.useState(""),[Ui,Yr]=ae.useState(i?"shared":"local"),[Kr,wn]=ae.useState(i||""),[Qt,pn]=ae.useState(!!i),[Oe,qn]=ae.useState("default"),[hr,Xs]=ae.useState(""),[Hn,Li]=ae.useState(""),[pt,Dn]=ae.useState({}),[ri,yn]=ae.useState({}),ct=Ui==="shared"&&i?"shared":"local",si=ct==="shared"?b:V,rn=(S,P=ct)=>{P==="shared"?A(G=>typeof S=="function"?S(G):S):Y(G=>typeof S=="function"?S(G):S)},Zt=ae.useMemo(()=>Gl&&!!i,[i]),[qa,fr]=ae.useState({containers:!0,arc:!0,others:!0,nature:!0,events:!0}),[Xr,$s]=ae.useState("");Ve.custom_pin,ae.useMemo(()=>{const S={...Ca};return ue.forEach(P=>{S[P.id]={label:P.label,color:P.color||"#6b7280"}}),S},[ue]);const sn=ae.useMemo(()=>{const S={...E4};return Me.forEach(P=>{S[P.id]={...P,icon:Po}}),S},[Me]),ai=[...ge,...S4],Js=S=>we[S]!==!1,Fn=ae.useMemo(()=>{const S={};return si.forEach(P=>{P.mapId!==l||Zi[l].layers&&P.layerId!==d||(S[P.type]=(S[P.type]||0)+1)}),S},[si,l,d]),Mn=ae.useRef(null),vt=ae.useRef(null),Nt=ae.useRef(null),Gn=ae.useRef(null),dr=ae.useRef(null);ae.useEffect(()=>{const S=localStorage.getItem("tactical_display_name");S&&Ba(S)},[]),ae.useEffect(()=>{!Fe&&Object.keys(sn).length>0&&O(Object.keys(sn)[0])},[sn,Fe]),ae.useEffect(()=>{gn&&localStorage.setItem("tactical_display_name",gn)},[gn]),ae.useEffect(()=>{const S=localStorage.getItem("tactical_custom_markers");if(S)try{const P=JSON.parse(S);Array.isArray(P)&&N(P)}catch(P){console.warn("Failed to parse stored custom markers",P)}},[]),ae.useEffect(()=>{localStorage.setItem("tactical_custom_markers",JSON.stringify(Me||[]))},[Me]),ae.useEffect(()=>{if(!ne.length)return;const S=new Set(si.map(P=>P.id));de(P=>P.filter(G=>S.has(G)))},[si,ne]),ae.useEffect(()=>{const S=localStorage.getItem("tactical_user_icon_library");if(S)try{const P=JSON.parse(S);Array.isArray(P)&&Pe(P)}catch(P){console.warn("Failed to parse stored icon library",P)}},[]),ae.useEffect(()=>{localStorage.setItem("tactical_user_icon_library",JSON.stringify(ge||[]))},[ge]),ae.useEffect(()=>{const S=localStorage.getItem("tactical_marker_icons");if(S)try{const P=JSON.parse(S);if(P&&typeof P=="object"){const G={...Ma};Object.entries(P).forEach(([ee,re])=>{if(!re)return;const pe=typeof re=="string"&&re.startsWith("data:"),Ke=typeof re=="string"&&re.startsWith("http"),Pt=typeof re=="string"&&b4.has(re);re.startsWith("/icon/")&&!Pt||(pe||Ke||Pt)&&(G[ee]=re)}),Je(G);return}}catch(P){console.warn("Failed to parse stored marker icons",P)}Je(Ma)},[]),ae.useEffect(()=>{localStorage.setItem("tactical_marker_icons",JSON.stringify(Ve||{}))},[Ve]),ae.useEffect(()=>{if((async()=>{if(!Gl){e({uid:"local-demo"});return}try{typeof __initial_auth_token<"u"&&__initial_auth_token?await O2(Or,__initial_auth_token):await I0(Or)}catch(G){console.error("Auth error:",G)}})(),!Gl)return;const P=U2(Or,e);return()=>P()},[]),ae.useEffect(()=>{const S=new URLSearchParams(window.location.search),P=S.get("room"),G=S.get("map"),ee=S.get("profile");a(P||null),Yr(P?"shared":"local"),wn(P||""),P&&pn(!0),G&&Zi[G]&&c(G),ee&&qn(ee);const re=localStorage.getItem("tactical_local_pins");if(re)try{const Ke=JSON.parse(re);Array.isArray(Ke)&&Y(Ke)}catch(Ke){console.warn("Failed to parse local pins",Ke)}const pe=localStorage.getItem("tactical_local_map_meta");if(pe)try{const Ke=JSON.parse(pe);Ke&&typeof Ke=="object"&&Dn(Ke)}catch(Ke){console.warn("Failed to parse local map meta",Ke)}},[]),ae.useEffect(()=>{const S=Zi[l];S.layers&&S.layers.length>0?p(S.layers[0].id):p(null),At();const P=new URLSearchParams(window.location.search);P.set("map",l),P.set("profile",Oe),i&&P.set("room",i);const G=`${window.location.pathname}?${P.toString()}`;window.history.replaceState({},"",G)},[l,Oe,i]),ae.useEffect(()=>{const S=new URLSearchParams(window.location.search);S.set("map",l),S.set("profile",Oe),i&&S.set("room",i);const P=`${window.location.pathname}?${S.toString()}`;window.history.replaceState({},"",P)},[Oe]),ae.useEffect(()=>{localStorage.setItem("tactical_local_pins",JSON.stringify(V||[]))},[V]),ae.useEffect(()=>{localStorage.setItem("tactical_local_map_meta",JSON.stringify(pt||{}))},[pt]),ae.useEffect(()=>{if(!Zt||ct!=="shared"||!Or||!tn||!r)return;const S=`${i}_pins`,P=Uv(Yc(tn,"artifacts",ti,"public","data",S)),G=Bv(P,ee=>{const re=ee.docs.map(pe=>({id:pe.id,...pe.data()}));A(re)},ee=>console.error(ee));return()=>G()},[r,i]),ae.useEffect(()=>{if(!Zt||ct!=="shared"||!Or||!tn||!r)return;const S=`${i}_mapmeta`,P=Uv(Yc(tn,"artifacts",ti,"public","data",S)),G=Bv(P,ee=>{const re={};ee.docs.forEach(pe=>{re[pe.id]=pe.data()}),yn(re)},ee=>console.error(ee));return()=>G()},[r,i,ct,Zt]);const el=S=>{const P=S.target.files[0];if(!P)return;const G=URL.createObjectURL(P),ee=d?`${l}_${d}`:l;_(re=>({...re,[ee]:G}))},Zs=()=>Nt.current?.click(),Ha=async S=>{const P=S.target.files?.[0];if(!(!P||!w))try{const G=await Ih(P,128);Je(ee=>({...ee,[w]:G})),Pi(G)}catch(G){console.error("Icon upload failed",G),alert("Icon image could not be loaded.")}finally{S.target.value="",C(null)}},oi=(S="custom_pin")=>{C(S),Gn.current?.click()},Pi=S=>{S&&Pe(P=>{if(P.some(ee=>ee.dataUrl===S))return P;const G=`user_${P.length+1}_${Date.now().toString(36)}`;return[...P,{id:G,label:"My Icon",dataUrl:S}]})},li=async S=>{const P=Ma[S];if(P){if(le(!0),Je(G=>({...G,[S]:P})),rn(G=>G.map(ee=>ee.type===S?{...ee,iconUrl:P}:ee)),Zt&&i){const G=`${i}_pins`,ee=si.filter(re=>re.type===S);await Promise.allSettled(ee.map(re=>Ro(Wi(tn,"artifacts",ti,"public","data",G,re.id),{iconUrl:P})))}le(!1)}},On=S=>{R(S),bt(""),oe(Ve.custom_pin||ai[0]?.dataUrl||null),D(!0)},Rn=async S=>{const P=S.target.files?.[0];if(P)try{const G=await Ih(P,128);oe(G),Pi(G)}catch(G){console.error("Marker icon upload failed",G),alert("")}finally{S.target.value=""}},ui=()=>{if(!rt.trim()||!L){alert("");return}const S=`custom_${Date.now().toString(36)}`,P={id:S,label:rt.trim(),cat:L};N(G=>[...G,P]),Q&&Je(G=>({...G,[S]:Q})),Bn(S),D(!1)},Et=(S,P)=>{const G=Math.min(Math.max(.2,S),5),ee=P?.x??window.innerWidth/2,re=P?.y??window.innerHeight/2,pe=(ee-It.x)/It.scale,Ke=(re-It.y)/It.scale,Pt=ee-pe*G,Kt=re-Ke*G;ur({x:Pt,y:Kt,scale:G})},$r=S=>{S.preventDefault(),S.stopPropagation(),(S.ctrlKey||S.metaKey)&&S.preventDefault();const G=It.scale-S.deltaY*.001;Et(G,{x:S.clientX,y:S.clientY})};ae.useEffect(()=>{const S=vt.current;if(S)return S.addEventListener("wheel",$r,{passive:!1}),()=>S.removeEventListener("wheel",$r)});const Ws=S=>{(S.button===1||Ut==="move")&&(Ys(!0),cr({x:S.clientX-It.x,y:S.clientY-It.y}))},ci=S=>{Qs&&ur(P=>({...P,x:S.clientX-Jt.x,y:S.clientY-Jt.y}))},Qn=()=>Ys(!1),ea=async S=>{if(Qs)return;if(ct==="shared"&&(!r||!i)){if(Gl&&Or)try{await I0(Or)}catch(pe){console.error("Auth retry failed",pe)}alert("Room");return}if(te){ie(null);return}if(Ut==="move")return;const P=Mn.current.getBoundingClientRect(),G=(S.clientX-P.left)/It.scale,ee=(S.clientY-P.top)/It.scale,re=Zi[l];if(!(G<0||ee<0||G>re.width||ee>re.height)){if(!Zt||ct==="local"){const pe=`local-${Date.now()}-${Math.random().toString(36).slice(2,8)}`;rn(Ke=>[...Ke,{id:pe,mapId:l,layerId:d,x:G,y:ee,type:Ut,iconUrl:Ve[Ut]||void 0,profileId:Oe,note:"",createdAt:new Date,createdBy:r?.uid||"local",createdByName:gn||""}]),ie(pe),Bn("move");return}if(i)try{const pe=`${i}_pins`,Ke=await jv(Yc(tn,"artifacts",ti,"public","data",pe),{mapId:l,layerId:d,x:G,y:ee,type:Ut,iconUrl:Ve[Ut]||void 0,profileId:Oe,note:"",createdAt:qv(),createdBy:r.uid,createdByName:gn||""});ie(Ke.id),Bn("move")}catch(pe){console.error("Error adding pin:",pe)}}},ta=(S,P)=>{S.stopPropagation(),ie(G=>G===P?null:P)},na=async S=>{if(!r&&ct==="shared")return;if(!Zt||ct==="local"){rn(G=>G.filter(ee=>ee.id!==S)),te===S&&ie(null),de(G=>G.filter(ee=>ee!==S));return}const P=`${i}_pins`;try{await zv(Wi(tn,"artifacts",ti,"public","data",P,S)),te===S&&ie(null),de(G=>G.filter(ee=>ee!==S))}catch(G){console.error(G)}},Fa=async(S,P)=>{if(!r&&ct==="shared")return;if(!Zt||ct==="local"){rn(ee=>ee.map(re=>re.id===S?{...re,imageUrl:P}:re));return}if(!i)return;const G=`${i}_pins`;try{await Ro(Wi(tn,"artifacts",ti,"public","data",G,S),{imageUrl:P})}catch(ee){console.error(ee)}},Jr=async(S,P)=>{if(!r&&ct==="shared")return;if(Pi(P),!Zt||ct==="local"){rn(ee=>ee.map(re=>re.id===S?{...re,iconUrl:P}:re));return}if(!i)return;const G=`${i}_pins`;try{await Ro(Wi(tn,"artifacts",ti,"public","data",G,S),{iconUrl:P})}catch(ee){console.error(ee)}},In=async(S,P)=>{if(!r&&ct==="shared")return;if(!Zt||ct==="local"){rn(ee=>ee.map(re=>re.id===S?{...re,note:P}:re));return}if(!i)return;const G=`${i}_pins`;try{await Ro(Wi(tn,"artifacts",ti,"public","data",G,S),{note:P})}catch(ee){console.error(ee)}},At=()=>{const S=window.innerWidth,P=window.innerHeight,G=Zi[l];ur({x:S/2-G.width*.4/2,y:P/2-G.height*.4/2,scale:.4})},Lt=si.filter(S=>!(S.mapId!==l||(S.profileId||"default")!==Oe||Zi[l].layers&&S.layerId!==d||!Js(S.type))),zi=S=>{fr(P=>({...P,[S]:!P[S]}))},ia=()=>{const S={};Object.keys(sn).forEach(P=>{S[P]=!0}),ve(S)},Ze=()=>{const S={};Object.keys(sn).forEach(P=>{S[P]=!1}),ve(S)},ji=ct==="shared"?ri:pt,_n=ji[l]||{title:"",note:"",profiles:["default"]},Yt=_n.profiles&&_n.profiles.length>0?_n.profiles:["default"],Wt=(S,P)=>{ct==="shared"?yn(G=>typeof P=="function"?P(G):P):Dn(G=>typeof P=="function"?P(G):P)};ae.useEffect(()=>{Yt.includes(Oe)||qn(Yt[0]||"default")},[l,Yt]);const mr=S=>{const P=(S||"").trim();if(!P)return;const G=Array.from(new Set([...Yt,P]));Wt(l,ee=>{const re=ee[l]||{};return{...ee,[l]:{...re,profiles:G}}}),Ii(l,{profiles:G}),qn(P)},Ga=async S=>{const P=(S||"").trim();if(!P||P===Oe)return;if(Yt.includes(P)){qn(P);return}const G=Yt.map(ee=>ee===Oe?P:ee);if(Wt(l,ee=>{const re=ee[l]||{};return{...ee,[l]:{...re,profiles:G}}}),Ii(l,{profiles:G}),ct==="local")Y(ee=>ee.map(re=>re.mapId===l&&(re.profileId||"default")===Oe?{...re,profileId:P}:re));else{const ee=b.filter(pe=>pe.mapId===l&&(pe.profileId||"default")===Oe),re=`${i}_pins`;await Promise.allSettled(ee.map(pe=>Ro(Wi(tn,"artifacts",ti,"public","data",re,pe.id),{profileId:P})))}qn(P)},Cn=Zi[l];let wi=Cn.defaultUrl,ra=l;if(Cn.layers&&d){const S=Cn.layers.find(P=>P.id===d);S&&(wi=S.defaultUrl),ra=`${l}_${d}`}const Ri=y[ra]||wi,[vn,sa]=ae.useState(!1);ae.useEffect(()=>sa(!1),[l,d,y]);const hi=S=>{a(S),Yr(S?"shared":"local"),wn(S||""),ie(null),S||(A([]),yn({}));const P=new URLSearchParams(window.location.search);S?P.set("room",S):P.delete("room"),P.set("map",l),P.set("profile",Oe);const G=`${window.location.pathname}${P.toString()?`?${P.toString()}`:""}`;window.history.replaceState({},"",G)},Ii=async(S,P)=>{const ee={...ji[S]||{},...P,updatedAt:Date.now(),updatedBy:r?.uid||"local",updatedByName:gn||""};if(ct==="shared"){if(!Zt||!i||!r||!tn)return;const re=`${i}_mapmeta`;try{await Ro(Wi(tn,"artifacts",ti,"public","data",re,S),ee).catch(async pe=>{if(pe.code==="not-found"||String(pe).includes("No document"))await lN(Wi(tn,"artifacts",ti,"public","data",re,S),ee);else throw pe}),yn(pe=>({...pe,[S]:ee}))}catch(pe){console.error("Map meta update failed",pe)}}else Dn(re=>({...re,[S]:ee}))},Zr=()=>{const S=i||cm();i||hi(S);const P=`${window.location.origin}${window.location.pathname}?room=${S}`;navigator.clipboard.writeText(P).then(()=>{Qr(!0),setTimeout(()=>Qr(!1),2e3)}).catch(()=>alert("Room ID: "+S))};return Qt?x.jsxs("div",{className:"flex flex-col h-screen bg-black text-gray-200 overflow-hidden font-sans relative",children:[!Gl&&x.jsx("div",{className:"absolute top-2 right-2 z-50 bg-orange-500 text-black text-xs font-bold px-3 py-1 rounded shadow",children:"Firebase disabled (local demo mode)"}),x.jsx("input",{type:"file",ref:Nt,className:"hidden",accept:"image/*",onChange:el}),x.jsx("input",{type:"file",ref:Gn,className:"hidden",accept:"image/*",onChange:Ha}),x.jsx("input",{type:"file",ref:dr,className:"hidden",accept:"image/*",onChange:Rn}),x.jsxs("header",{className:"h-12 bg-gray-900 border-b border-gray-800 flex items-center justify-between px-4 z-30 shadow-lg shrink-0 gap-4",children:[x.jsxs("div",{className:"flex items-center gap-2 min-w-fit",children:[x.jsx(Pm,{className:"text-orange-500 w-5 h-5"}),x.jsx("h1",{className:"font-bold text-base tracking-wider text-gray-100",children:"TACTICAL"})]}),x.jsxs("div",{className:"flex items-center gap-3 flex-1 justify-center min-w-0",children:[x.jsx("div",{className:"flex items-center bg-gray-800 rounded p-0.5 gap-1 overflow-x-auto scrollbar-hide",children:Object.values(Zi).map(S=>x.jsx("button",{onClick:()=>c(S.id),className:`px-3 py-1 text-xs font-bold rounded transition-colors uppercase whitespace-nowrap ${l===S.id?"bg-orange-600 text-white":"text-gray-400 hover:text-white hover:bg-gray-700"}`,children:S.name},S.id))}),x.jsx("select",{value:l,onChange:S=>c(S.target.value),className:"bg-gray-800 border border-gray-700 text-gray-200 text-xs rounded px-2 py-1",children:Object.values(Zi).map(S=>x.jsx("option",{value:S.id,children:S.name},S.id))}),x.jsx("select",{value:Oe,onChange:S=>qn(S.target.value),className:"bg-gray-800 border border-gray-700 text-gray-200 text-xs rounded px-2 py-1",children:Yt.map(S=>x.jsx("option",{value:S,children:S},S))}),x.jsx("input",{value:hr,onChange:S=>Xs(S.target.value),placeholder:"",className:"w-32 bg-gray-800 border border-gray-700 text-gray-200 text-xs rounded px-2 py-1"}),x.jsx("button",{onClick:()=>{mr(hr||`${Yt.length+1}`),Xs("")},className:"px-2 py-1 text-xs rounded bg-gray-800 border border-gray-700 text-gray-200 hover:bg-gray-700 whitespace-nowrap",children:""}),x.jsx("input",{value:Hn,onChange:S=>Li(S.target.value),placeholder:"",className:"w-32 bg-gray-800 border border-gray-700 text-gray-200 text-xs rounded px-2 py-1"}),x.jsx("button",{onClick:()=>{Ga(Hn),Li("")},className:"px-2 py-1 text-xs rounded bg-gray-800 border border-gray-700 text-gray-200 hover:bg-gray-700 whitespace-nowrap",children:""}),x.jsx("button",{onClick:()=>{const S=Oe||"default";let P=1,G=`${S}_copy`;for(;Yt.includes(G);)P+=1,G=`${S}_copy${P}`;const ee=(ct==="shared"?b:V).filter(re=>(re.profileId||"default")===S&&re.mapId===l);if(mr(G),ct==="local"){const re=ee.map(pe=>({...pe,id:`local-${Date.now()}-${Math.random().toString(36).slice(2,8)}`,profileId:G,createdAt:new Date}));Y(pe=>[...pe,...re])}else ee.forEach(re=>{jv(Yc(tn,"artifacts",ti,"public","data",`${i}_pins`),{...re,id:void 0,createdAt:qv(),profileId:G,note:re.note||""})});qn(G)},className:"px-2 py-1 text-xs rounded bg-gray-800 border border-gray-700 text-gray-200 hover:bg-gray-700 whitespace-nowrap",children:""}),x.jsx("button",{onClick:async()=>{if(Yt.length<=1)return;const S=Oe,P=Yt.filter(G=>G!==S);if(Wt(l,G=>{const ee=G[l]||{};return{...G,[l]:{...ee,profiles:P}}}),Ii(l,{profiles:P}),qn(P[0]||"default"),ct==="local")Y(G=>G.filter(ee=>!(ee.mapId===l&&(ee.profileId||"default")===S)));else{const G=b.filter(re=>re.mapId===l&&(re.profileId||"default")===S),ee=`${i}_pins`;await Promise.allSettled(G.map(re=>zv(Wi(tn,"artifacts",ti,"public","data",ee,re.id))))}},className:"px-2 py-1 text-xs rounded bg-gray-800 border border-gray-700 text-gray-200 hover:bg-gray-700 whitespace-nowrap",children:""}),x.jsxs("button",{onClick:()=>Bn("custom_pin"),className:`flex items-center gap-1 px-3 py-1 text-xs font-bold rounded border transition-all whitespace-nowrap ${Ut==="custom_pin"?"bg-orange-600 text-white border-orange-400":"bg-gray-800 text-gray-300 border-gray-700 hover:bg-gray-700"}`,children:[x.jsx(Po,{size:14}),"Drop Pin"]})]}),x.jsxs("div",{className:"flex items-center gap-3 min-w-fit",children:[x.jsxs("div",{className:"flex items-center gap-2 bg-gray-800 rounded px-2 py-1 border border-gray-700",children:[x.jsx("span",{className:"text-xs text-gray-400",children:""}),x.jsx("input",{type:"text",value:gn,onChange:S=>Ba(S.target.value.slice(0,24)),placeholder:"",className:"bg-transparent text-sm text-white outline-none w-28"})]}),x.jsx("button",{onClick:Zr,className:"bg-blue-600 hover:bg-blue-500 text-white px-3 py-1 rounded text-xs font-medium transition-all",children:""})]})]}),Cn.layers&&x.jsx("div",{className:"absolute top-14 left-1/2 -translate-x-1/2 z-30 flex gap-2 bg-black/80 backdrop-blur p-1 rounded-lg border border-gray-700",children:Cn.layers.map(S=>x.jsxs("button",{onClick:()=>p(S.id),className:`flex items-center gap-2 px-3 py-1 text-xs font-bold rounded transition-all ${d===S.id?"bg-orange-500 text-white":"text-gray-400 hover:bg-gray-700"}`,children:[x.jsx(jN,{size:14}),S.name]},S.id))}),x.jsxs("div",{className:"flex-1 relative flex overflow-hidden",children:[x.jsxs("div",{className:"w-64 bg-gray-900/95 backdrop-blur border-r border-gray-800 flex flex-col z-20 shadow-xl shrink-0 overflow-hidden",children:[x.jsxs("div",{className:"p-3 border-b border-gray-800 space-y-3",children:[x.jsxs("div",{className:"relative",children:[x.jsx(WN,{className:"absolute left-2 top-1.5 text-gray-500 w-4 h-4"}),x.jsx("input",{type:"text",placeholder:"...",value:Xr,onChange:S=>$s(S.target.value),className:"w-full bg-black/40 border border-gray-700 rounded pl-8 pr-2 py-1 text-sm text-gray-300 focus:outline-none focus:border-orange-500"})]}),x.jsx("div",{className:"flex gap-2",children:x.jsxs("div",{className:"flex-1 flex items-center gap-2",children:[x.jsxs("select",{value:Ui,onChange:S=>{const P=S.target.value;Yr(P),P==="local"&&hi(null)},className:"w-24 bg-gray-800 border border-gray-700 text-gray-200 text-xs rounded px-2 py-1",children:[x.jsx("option",{value:"local",children:""}),x.jsx("option",{value:"shared",children:""})]}),x.jsx("input",{value:Kr,onChange:S=>wn(S.target.value.toUpperCase()),placeholder:"ROOM ID",disabled:Ui==="local",className:"flex-1 bg-gray-900 border border-gray-700 rounded px-2 py-1 text-xs text-gray-200 disabled:opacity-50"}),x.jsx("button",{onClick:()=>{if(Ui==="local")return hi(null);const S=Kr.trim()||cm();hi(S)},className:"px-2 py-1 text-xs bg-gray-800 border border-gray-700 text-gray-200 rounded hover:bg-gray-700 disabled:opacity-50",disabled:Ui==="local",children:"/"})]})}),x.jsxs("div",{className:"flex gap-2 mt-2",children:[x.jsxs("div",{className:"flex flex-col gap-1 flex-1",children:[x.jsx("label",{className:"text-[10px] text-gray-400",children:""}),x.jsx("input",{value:_n.title||Zi[l]?.name||"",onChange:S=>Ii(l,{title:S.target.value}),className:"w-full bg-gray-800 border border-gray-700 rounded px-2 py-1 text-xs text-gray-200",placeholder:""})]}),x.jsxs("div",{className:"flex flex-col gap-1 flex-1",children:[x.jsx("label",{className:"text-[10px] text-gray-400",children:""}),x.jsx("input",{value:_n.note||"",onChange:S=>Ii(l,{note:S.target.value}),className:"w-full bg-gray-800 border border-gray-700 rounded px-2 py-1 text-xs text-gray-200",placeholder:""})]})]}),x.jsxs("div",{className:"flex gap-2",children:[x.jsxs("button",{onClick:()=>Bn("move"),className:`flex-1 py-1.5 rounded flex items-center justify-center gap-2 text-xs font-bold transition-colors border ${Ut==="move"?"bg-gray-700 text-white border-gray-500":"bg-gray-800 text-gray-400 border-gray-700 hover:bg-gray-700"}`,children:[x.jsx(HN,{size:14}),""]}),x.jsx("button",{onClick:Zs,className:"px-3 py-1.5 rounded bg-gray-800 text-gray-400 border border-gray-700 hover:text-white hover:border-gray-500",children:x.jsx(vT,{size:14})})]}),x.jsxs("div",{className:"flex gap-2",children:[x.jsx("button",{onClick:ia,className:"flex-1 py-1.5 rounded bg-gray-800 text-gray-300 border border-gray-700 hover:bg-gray-700 text-xs font-bold",children:""}),x.jsx("button",{onClick:Ze,className:"flex-1 py-1.5 rounded bg-gray-800 text-gray-300 border border-gray-700 hover:bg-gray-700 text-xs font-bold",children:""})]})]}),x.jsx("div",{className:"flex-1 overflow-y-auto p-2 space-y-1 scrollbar-thin scrollbar-thumb-gray-700",children:Object.entries(Ca).map(([S,P])=>x.jsxs("div",{className:"rounded overflow-hidden",children:[x.jsxs("div",{className:"w-full flex items-center justify-between px-2 py-1.5 bg-gray-800/50 text-xs font-bold text-gray-300",children:[x.jsxs("button",{onClick:()=>zi(S),className:"flex items-center gap-2 flex-1 text-left hover:text-white",children:[x.jsx("span",{children:P.label}),qa[S]?x.jsx(SN,{size:14}):x.jsx(wN,{size:14})]}),x.jsx("button",{onClick:()=>On(S),className:"p-1 rounded hover:bg-gray-700 text-gray-300 hover:text-white",title:"",children:x.jsx(QN,{size:14})})]}),qa[S]&&x.jsx("div",{className:"bg-black/20 p-1 space-y-0.5",children:Object.values(sn).filter(G=>G.cat===S).filter(G=>G.label.includes(Xr)).map(G=>{const ee=G.icon,re=Ut===G.id,pe=Ve[G.id],Ke=Fn[G.id]||0,Pt=Js(G.id);return x.jsxs("div",{role:"button",tabIndex:0,onClick:()=>Bn(G.id),onKeyDown:Kt=>{(Kt.key==="Enter"||Kt.key===" ")&&(Kt.preventDefault(),Bn(G.id))},className:`w-full flex items-center gap-3 px-2 py-1.5 rounded text-xs transition-all cursor-pointer ${re?"bg-gray-700 text-white ring-1 ring-inset ring-gray-500":"text-gray-400 hover:bg-gray-800 hover:text-gray-200"}`,children:[pe?x.jsx("img",{src:pe,alt:`${G.label} icon`,className:"w-5 h-5 rounded-full object-cover border border-gray-600/60"}):x.jsx(ee,{size:16,color:P.color}),x.jsx("span",{className:"flex-1 text-left truncate",children:G.label}),x.jsx("span",{className:"text-[11px] text-gray-400",children:Ke}),x.jsxs("div",{className:"flex items-center gap-1 ml-1",children:[x.jsx("button",{onClick:Kt=>{Kt.stopPropagation(),oi(G.id)},className:"p-1 rounded bg-gray-800 hover:bg-gray-700 text-gray-300 border border-gray-700",title:"",children:x.jsx(Lm,{size:12})}),x.jsx("button",{onClick:Kt=>{Kt.stopPropagation(),ve(Bi=>({...Bi,[G.id]:!Pt}))},className:`p-1 rounded border ${Pt?"bg-gray-800 text-gray-300 border-gray-700 hover:bg-gray-700":"bg-gray-900 text-gray-500 border-gray-800 hover:text-gray-300"}`,title:Pt?"":"",children:x.jsx(DN,{size:12})})]})]},G.id)})})]},S))}),x.jsxs("div",{className:"p-2 border-t border-gray-800 text-[10px] text-gray-600 text-center",children:["Room: ",i||""]})]}),x.jsxs("div",{ref:vt,className:"flex-1 relative overflow-hidden bg-black cursor-crosshair",onMouseDown:Ws,onMouseMove:ci,onMouseUp:Qn,onMouseLeave:Qn,children:[x.jsxs("div",{ref:Mn,className:"absolute origin-top-left will-change-transform",style:{transform:`translate(${It.x}px, ${It.y}px) scale(${It.scale})`,width:Cn.width,height:Cn.height,transition:Qs?"none":"transform 0.1s ease-out"},onClick:ea,children:[!vn&&Ri?x.jsx("img",{src:Ri,alt:Cn.name,className:"w-full h-full object-fill pointer-events-none select-none",draggable:!1,onError:()=>sa(!0)}):x.jsx(A4,{config:Cn,onUpload:Zs}),Lt.map(S=>{const P=sn[S.type]||Xv,G=Ca[P.cat]||Ca.others,ee=P.icon,re=S.id===te,pe=ne.includes(S.id),Ke=S.iconUrl||Ve[S.type],Kt=Math.max(.3,Gr),Bi=te&&!re?.4:1,qi=re?50:10;return x.jsx("div",{className:"absolute -translate-x-1/2 -translate-y-1/2 cursor-pointer transition-all duration-200",style:{left:S.x,top:S.y,transform:`scale(${Kt})`,opacity:Bi,zIndex:qi},onClick:Yn=>ta(Yn,S.id),children:x.jsxs("div",{className:"relative flex flex-col items-center group",children:[x.jsxs("div",{className:`drop-shadow-md filter transition-all ${re?"drop-shadow-[0_0_10px_rgba(255,255,255,0.8)]":""}`,children:[x.jsx("div",{className:"absolute inset-[-6px] rounded-full border-2 border-orange-500 opacity-80 pointer-events-none"}),pe&&x.jsx(UN,{size:16,color:"#f87171",fill:"#f87171",className:"absolute -top-2 -right-2 drop-shadow-md pointer-events-none"}),Ke?x.jsx("img",{src:Ke,alt:"Custom pin",className:"w-8 h-8 rounded-full border border-black/40 object-cover"}):x.jsx(ee,{size:24,fill:G.color,color:"#000000",strokeWidth:1.5,className:re?"text-white":""})]}),!re&&x.jsx("div",{className:"absolute top-full mt-1 opacity-0 group-hover:opacity-100 bg-black/80 text-white text-[10px] px-2 py-1 rounded whitespace-nowrap pointer-events-none border border-white/20 z-50",children:P.label})]})},S.id)})]}),te&&(()=>{const S=si.find(G=>G.id===te);if(!S)return null;const P=sn[S.type]||Xv;return x.jsx(w4,{pin:S,markerDef:P,onClose:()=>ie(null),onUpdateImage:Fa,onUpdateIcon:Jr,onUpdateNote:In,onMark:G=>{de(ee=>ee.includes(G)?ee.filter(re=>re!==G):[...ee,G]),ie(G)},onDelete:na})})(),!1]})]}),x.jsxs("div",{className:"absolute bottom-4 right-4 flex items-end gap-3 z-10 pointer-events-none",children:[x.jsxs("div",{className:"flex items-center gap-3 bg-black/30 backdrop-blur-sm rounded-full px-4 py-2 border border-gray-700/50 shadow pointer-events-auto",children:[x.jsx(JN,{size:16,className:"text-gray-400"}),x.jsx("input",{type:"range",min:"0.5",max:"3",step:"0.1",value:Gr,onChange:S=>St(parseFloat(S.target.value)),className:"w-28 h-1 bg-gray-600 rounded-lg appearance-none cursor-pointer accent-blue-500"})]}),x.jsxs("div",{className:"flex flex-col items-center gap-3 pointer-events-auto",children:[x.jsx("div",{className:"relative h-40 w-12 flex items-center justify-center bg-black/30 backdrop-blur-sm rounded-full border border-gray-700/50 shadow",children:x.jsx("div",{className:"-rotate-90 w-28",children:x.jsx("input",{type:"range",min:"0.2",max:"5",step:"0.1",value:It.scale,onChange:S=>Et(parseFloat(S.target.value)),className:"w-full h-1 bg-gray-600 rounded-lg appearance-none cursor-pointer accent-orange-500"})})}),x.jsx("button",{onClick:()=>ii(!0),className:"bg-gray-800 hover:bg-gray-700 text-gray-200 p-2 rounded-full shadow-lg border border-gray-700",title:"",children:x.jsx(t4,{size:18})})]})]}),Ks&&x.jsx("div",{className:"absolute top-20 left-1/2 -translate-x-1/2 bg-green-600 text-white px-4 py-2 rounded shadow-xl z-50 animate-bounce pointer-events-none",children:""}),Ct&&x.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/70 backdrop-blur-sm p-4",children:x.jsxs("div",{className:"bg-gray-900 rounded-xl border border-gray-700 w-full max-w-md p-5 space-y-4 shadow-2xl",children:[x.jsxs("div",{className:"flex items-center justify-between",children:[x.jsx("h3",{className:"text-lg font-bold text-white",children:""}),x.jsx("button",{onClick:()=>ii(!1),className:"text-gray-400 hover:text-white",children:x.jsx(zm,{size:18})})]}),x.jsxs("div",{className:"flex justify-end gap-2",children:[x.jsxs("div",{className:"flex-1 space-y-2 text-sm text-gray-300",children:[x.jsx("div",{className:"text-xs text-gray-400",children:""}),x.jsx("select",{value:Fe,onChange:S=>O(S.target.value),className:"w-full bg-gray-800 border border-gray-700 rounded px-2 py-1 text-sm text-white",children:Object.values(sn).map(S=>x.jsx("option",{value:S.id,children:S.label},S.id))})]}),x.jsxs("div",{className:"flex items-end gap-2",children:[x.jsx("button",{onClick:()=>li(Fe),disabled:!Fe||$,className:"px-3 py-2 text-xs font-semibold rounded bg-gray-800 text-gray-200 border border-gray-700 hover:bg-gray-700 shadow disabled:opacity-50 disabled:cursor-not-allowed",children:""}),x.jsx("button",{onClick:()=>ii(!1),className:"px-3 py-2 text-xs font-semibold rounded bg-orange-600 hover:bg-orange-500 text-white",children:""})]})]})]})}),k&&x.jsx("div",{className:"absolute inset-0 bg-black/60 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:x.jsxs("div",{className:"bg-gray-900 rounded-xl border border-gray-700 w-full max-w-md p-4 space-y-4 shadow-2xl",children:[x.jsxs("div",{className:"flex items-center justify-between",children:[x.jsx("h3",{className:"text-lg font-bold text-white",children:""}),x.jsx("button",{onClick:()=>D(!1),className:"text-gray-400 hover:text-white",children:x.jsx(zm,{size:18})})]}),x.jsxs("div",{className:"text-xs text-gray-400",children:[": ",L&&Ca[L]?.label]}),x.jsx("input",{value:rt,onChange:S=>bt(S.target.value),placeholder:"",className:"w-full bg-gray-800 border border-gray-700 rounded px-3 py-2 text-sm text-white focus:border-orange-500 outline-none"}),x.jsxs("div",{children:[x.jsx("div",{className:"text-xs text-gray-400 mb-2",children:""}),x.jsx("div",{className:"grid grid-cols-5 gap-2 mb-3",children:ai.map(S=>x.jsx("button",{onClick:()=>oe(S.dataUrl),className:`h-12 rounded-lg border ${Q===S.dataUrl?"border-orange-500 ring-1 ring-orange-400":"border-gray-700"} bg-gray-800 flex items-center justify-center hover:border-gray-500`,children:x.jsx("img",{src:S.dataUrl,alt:S.label,className:"w-8 h-8 rounded"})},S.id))}),x.jsxs("div",{className:"flex items-center gap-3",children:[x.jsx("div",{className:"w-12 h-12 rounded-full border border-gray-700 bg-gray-800 flex items-center justify-center overflow-hidden",children:Q?x.jsx("img",{src:Q,alt:"",className:"w-full h-full object-cover"}):x.jsx(Po,{size:20,className:"text-gray-500"})}),x.jsxs("button",{onClick:()=>dr.current?.click(),className:"px-3 py-2 text-xs font-semibold rounded border border-gray-700 bg-gray-800 text-gray-200 hover:bg-gray-700 flex items-center gap-2",children:[x.jsx(Rh,{size:14}),""]})]})]}),x.jsxs("div",{className:"flex justify-end gap-2 pt-2",children:[x.jsx("button",{onClick:()=>D(!1),className:"px-3 py-2 text-xs rounded border border-gray-700 text-gray-300 hover:bg-gray-800",children:""}),x.jsx("button",{onClick:ui,className:"px-3 py-2 text-xs rounded bg-orange-600 hover:bg-orange-500 text-white font-bold",children:""})]})]})})]}):x.jsx("div",{className:"min-h-screen bg-gradient-to-b from-slate-900 via-slate-950 to-slate-900 text-gray-100 flex items-center justify-center p-6",children:x.jsxs("div",{className:"max-w-5xl w-full space-y-8 text-center",children:[x.jsxs("div",{children:[x.jsx("div",{className:"text-3xl font-extrabold text-indigo-300 mb-2",children:""}),x.jsx("div",{className:"text-sm text-gray-400",children:""})]}),x.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[x.jsxs("button",{onClick:()=>{hi(null),pn(!0)},className:"p-6 rounded-2xl bg-slate-900 border border-slate-700 hover:border-indigo-500 transition shadow-lg flex flex-col items-center gap-3",children:[x.jsx("div",{className:"p-4 rounded-full bg-indigo-600/20 text-indigo-300",children:x.jsx(ET,{size:32})}),x.jsx("div",{className:"text-xl font-bold",children:""}),x.jsx("div",{className:"text-sm text-gray-400 leading-relaxed",children:""}),x.jsxs("div",{className:"text-xs text-gray-500 flex items-center gap-2 mt-2",children:[x.jsx("span",{className:"h-2 w-2 rounded-full bg-green-400"})," "]})]}),x.jsxs("button",{onClick:()=>{const S=Kr.trim()||i||cm();hi(S),pn(!0)},className:"p-6 rounded-2xl bg-slate-900 border border-slate-700 hover:border-purple-500 transition shadow-lg flex flex-col items-center gap-3",children:[x.jsx("div",{className:"p-4 rounded-full bg-purple-600/20 text-purple-300",children:x.jsx(g4,{size:32})}),x.jsx("div",{className:"text-xl font-bold",children:""}),x.jsx("div",{className:"text-sm text-gray-400 leading-relaxed",children:""}),x.jsxs("div",{className:"text-xs text-gray-500 flex items-center gap-2 mt-2",children:[x.jsx("span",{className:"h-2 w-2 rounded-full bg-blue-400"})," "]})]})]})]})})}lS.createRoot(document.getElementById("root")).render(x.jsx(eS.StrictMode,{children:x.jsx(R4,{})}));
