(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))a(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function i(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function a(l){if(l.ep)return;l.ep=!0;const c=i(l);fetch(l.href,c)}})();function Qv(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var Hd={exports:{}},Bl={};var J_;function Qb(){if(J_)return Bl;J_=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function i(a,l,c){var d=null;if(c!==void 0&&(d=""+c),l.key!==void 0&&(d=""+l.key),"key"in l){c={};for(var p in l)p!=="key"&&(c[p]=l[p])}else c=l;return l=c.ref,{$$typeof:r,type:a,key:d,ref:l!==void 0?l:null,props:c}}return Bl.Fragment=t,Bl.jsx=i,Bl.jsxs=i,Bl}var Z_;function Yb(){return Z_||(Z_=1,Hd.exports=Qb()),Hd.exports}var V=Yb(),Fd={exports:{}},Rt={};var W_;function Kb(){if(W_)return Rt;W_=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),S=Symbol.for("react.activity"),O=Symbol.iterator;function Q(M){return M===null||typeof M!="object"?null:(M=O&&M[O]||M["@@iterator"],typeof M=="function"?M:null)}var tt={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},nt=Object.assign,et={};function yt(M,X,st){this.props=M,this.context=X,this.refs=et,this.updater=st||tt}yt.prototype.isReactComponent={},yt.prototype.setState=function(M,X){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,X,"setState")},yt.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function wt(){}wt.prototype=yt.prototype;function _t(M,X,st){this.props=M,this.context=X,this.refs=et,this.updater=st||tt}var Ot=_t.prototype=new wt;Ot.constructor=_t,nt(Ot,yt.prototype),Ot.isPureReactComponent=!0;var Xt=Array.isArray;function Mt(){}var N={H:null,A:null,T:null,S:null},A=Object.prototype.hasOwnProperty;function C(M,X,st){var ot=st.ref;return{$$typeof:r,type:M,key:X,ref:ot!==void 0?ot:null,props:st}}function k(M,X){return C(M.type,X,M.props)}function x(M){return typeof M=="object"&&M!==null&&M.$$typeof===r}function L(M){var X={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function(st){return X[st]})}var w=/\/+/g;function ie(M,X){return typeof M=="object"&&M!==null&&M.key!=null?L(""+M.key):X.toString(36)}function Te(M){switch(M.status){case"fulfilled":return M.value;case"rejected":throw M.reason;default:switch(typeof M.status=="string"?M.then(Mt,Mt):(M.status="pending",M.then(function(X){M.status==="pending"&&(M.status="fulfilled",M.value=X)},function(X){M.status==="pending"&&(M.status="rejected",M.reason=X)})),M.status){case"fulfilled":return M.value;case"rejected":throw M.reason}}throw M}function G(M,X,st,ot,Tt){var Ct=typeof M;(Ct==="undefined"||Ct==="boolean")&&(M=null);var Ft=!1;if(M===null)Ft=!0;else switch(Ct){case"bigint":case"string":case"number":Ft=!0;break;case"object":switch(M.$$typeof){case r:case t:Ft=!0;break;case b:return Ft=M._init,G(Ft(M._payload),X,st,ot,Tt)}}if(Ft)return Tt=Tt(M),Ft=ot===""?"."+ie(M,0):ot,Xt(Tt)?(st="",Ft!=null&&(st=Ft.replace(w,"$&/")+"/"),G(Tt,X,st,"",function(Vr){return Vr})):Tt!=null&&(x(Tt)&&(Tt=k(Tt,st+(Tt.key==null||M&&M.key===Tt.key?"":(""+Tt.key).replace(w,"$&/")+"/")+Ft)),X.push(Tt)),1;Ft=0;var ke=ot===""?".":ot+":";if(Xt(M))for(var de=0;de<M.length;de++)ot=M[de],Ct=ke+ie(ot,de),Ft+=G(ot,X,st,Ct,Tt);else if(de=Q(M),typeof de=="function")for(M=de.call(M),de=0;!(ot=M.next()).done;)ot=ot.value,Ct=ke+ie(ot,de++),Ft+=G(ot,X,st,Ct,Tt);else if(Ct==="object"){if(typeof M.then=="function")return G(Te(M),X,st,ot,Tt);throw X=String(M),Error("Objects are not valid as a React child (found: "+(X==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":X)+"). If you meant to render a collection of children, use an array instead.")}return Ft}function rt(M,X,st){if(M==null)return M;var ot=[],Tt=0;return G(M,ot,"","",function(Ct){return X.call(st,Ct,Tt++)}),ot}function mt(M){if(M._status===-1){var X=M._result;X=X(),X.then(function(st){(M._status===0||M._status===-1)&&(M._status=1,M._result=st)},function(st){(M._status===0||M._status===-1)&&(M._status=2,M._result=st)}),M._status===-1&&(M._status=0,M._result=X)}if(M._status===1)return M._result.default;throw M._result}var Ut=typeof reportError=="function"?reportError:function(M){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var X=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof M=="object"&&M!==null&&typeof M.message=="string"?String(M.message):String(M),error:M});if(!window.dispatchEvent(X))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",M);return}console.error(M)},Ht={map:rt,forEach:function(M,X,st){rt(M,function(){X.apply(this,arguments)},st)},count:function(M){var X=0;return rt(M,function(){X++}),X},toArray:function(M){return rt(M,function(X){return X})||[]},only:function(M){if(!x(M))throw Error("React.Children.only expected to receive a single React element child.");return M}};return Rt.Activity=S,Rt.Children=Ht,Rt.Component=yt,Rt.Fragment=i,Rt.Profiler=l,Rt.PureComponent=_t,Rt.StrictMode=a,Rt.Suspense=y,Rt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=N,Rt.__COMPILER_RUNTIME={__proto__:null,c:function(M){return N.H.useMemoCache(M)}},Rt.cache=function(M){return function(){return M.apply(null,arguments)}},Rt.cacheSignal=function(){return null},Rt.cloneElement=function(M,X,st){if(M==null)throw Error("The argument must be a React element, but you passed "+M+".");var ot=nt({},M.props),Tt=M.key;if(X!=null)for(Ct in X.key!==void 0&&(Tt=""+X.key),X)!A.call(X,Ct)||Ct==="key"||Ct==="__self"||Ct==="__source"||Ct==="ref"&&X.ref===void 0||(ot[Ct]=X[Ct]);var Ct=arguments.length-2;if(Ct===1)ot.children=st;else if(1<Ct){for(var Ft=Array(Ct),ke=0;ke<Ct;ke++)Ft[ke]=arguments[ke+2];ot.children=Ft}return C(M.type,Tt,ot)},Rt.createContext=function(M){return M={$$typeof:d,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null},M.Provider=M,M.Consumer={$$typeof:c,_context:M},M},Rt.createElement=function(M,X,st){var ot,Tt={},Ct=null;if(X!=null)for(ot in X.key!==void 0&&(Ct=""+X.key),X)A.call(X,ot)&&ot!=="key"&&ot!=="__self"&&ot!=="__source"&&(Tt[ot]=X[ot]);var Ft=arguments.length-2;if(Ft===1)Tt.children=st;else if(1<Ft){for(var ke=Array(Ft),de=0;de<Ft;de++)ke[de]=arguments[de+2];Tt.children=ke}if(M&&M.defaultProps)for(ot in Ft=M.defaultProps,Ft)Tt[ot]===void 0&&(Tt[ot]=Ft[ot]);return C(M,Ct,Tt)},Rt.createRef=function(){return{current:null}},Rt.forwardRef=function(M){return{$$typeof:p,render:M}},Rt.isValidElement=x,Rt.lazy=function(M){return{$$typeof:b,_payload:{_status:-1,_result:M},_init:mt}},Rt.memo=function(M,X){return{$$typeof:_,type:M,compare:X===void 0?null:X}},Rt.startTransition=function(M){var X=N.T,st={};N.T=st;try{var ot=M(),Tt=N.S;Tt!==null&&Tt(st,ot),typeof ot=="object"&&ot!==null&&typeof ot.then=="function"&&ot.then(Mt,Ut)}catch(Ct){Ut(Ct)}finally{X!==null&&st.types!==null&&(X.types=st.types),N.T=X}},Rt.unstable_useCacheRefresh=function(){return N.H.useCacheRefresh()},Rt.use=function(M){return N.H.use(M)},Rt.useActionState=function(M,X,st){return N.H.useActionState(M,X,st)},Rt.useCallback=function(M,X){return N.H.useCallback(M,X)},Rt.useContext=function(M){return N.H.useContext(M)},Rt.useDebugValue=function(){},Rt.useDeferredValue=function(M,X){return N.H.useDeferredValue(M,X)},Rt.useEffect=function(M,X){return N.H.useEffect(M,X)},Rt.useEffectEvent=function(M){return N.H.useEffectEvent(M)},Rt.useId=function(){return N.H.useId()},Rt.useImperativeHandle=function(M,X,st){return N.H.useImperativeHandle(M,X,st)},Rt.useInsertionEffect=function(M,X){return N.H.useInsertionEffect(M,X)},Rt.useLayoutEffect=function(M,X){return N.H.useLayoutEffect(M,X)},Rt.useMemo=function(M,X){return N.H.useMemo(M,X)},Rt.useOptimistic=function(M,X){return N.H.useOptimistic(M,X)},Rt.useReducer=function(M,X,st){return N.H.useReducer(M,X,st)},Rt.useRef=function(M){return N.H.useRef(M)},Rt.useState=function(M){return N.H.useState(M)},Rt.useSyncExternalStore=function(M,X,st){return N.H.useSyncExternalStore(M,X,st)},Rt.useTransition=function(){return N.H.useTransition()},Rt.version="19.2.0",Rt}var t0;function jm(){return t0||(t0=1,Fd.exports=Kb()),Fd.exports}var at=jm();const Xb=Qv(at);var Gd={exports:{}},ql={},Qd={exports:{}},Yd={};var e0;function $b(){return e0||(e0=1,(function(r){function t(G,rt){var mt=G.length;G.push(rt);t:for(;0<mt;){var Ut=mt-1>>>1,Ht=G[Ut];if(0<l(Ht,rt))G[Ut]=rt,G[mt]=Ht,mt=Ut;else break t}}function i(G){return G.length===0?null:G[0]}function a(G){if(G.length===0)return null;var rt=G[0],mt=G.pop();if(mt!==rt){G[0]=mt;t:for(var Ut=0,Ht=G.length,M=Ht>>>1;Ut<M;){var X=2*(Ut+1)-1,st=G[X],ot=X+1,Tt=G[ot];if(0>l(st,mt))ot<Ht&&0>l(Tt,st)?(G[Ut]=Tt,G[ot]=mt,Ut=ot):(G[Ut]=st,G[X]=mt,Ut=X);else if(ot<Ht&&0>l(Tt,mt))G[Ut]=Tt,G[ot]=mt,Ut=ot;else break t}}return rt}function l(G,rt){var mt=G.sortIndex-rt.sortIndex;return mt!==0?mt:G.id-rt.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;r.unstable_now=function(){return c.now()}}else{var d=Date,p=d.now();r.unstable_now=function(){return d.now()-p}}var y=[],_=[],b=1,S=null,O=3,Q=!1,tt=!1,nt=!1,et=!1,yt=typeof setTimeout=="function"?setTimeout:null,wt=typeof clearTimeout=="function"?clearTimeout:null,_t=typeof setImmediate<"u"?setImmediate:null;function Ot(G){for(var rt=i(_);rt!==null;){if(rt.callback===null)a(_);else if(rt.startTime<=G)a(_),rt.sortIndex=rt.expirationTime,t(y,rt);else break;rt=i(_)}}function Xt(G){if(nt=!1,Ot(G),!tt)if(i(y)!==null)tt=!0,Mt||(Mt=!0,L());else{var rt=i(_);rt!==null&&Te(Xt,rt.startTime-G)}}var Mt=!1,N=-1,A=5,C=-1;function k(){return et?!0:!(r.unstable_now()-C<A)}function x(){if(et=!1,Mt){var G=r.unstable_now();C=G;var rt=!0;try{t:{tt=!1,nt&&(nt=!1,wt(N),N=-1),Q=!0;var mt=O;try{e:{for(Ot(G),S=i(y);S!==null&&!(S.expirationTime>G&&k());){var Ut=S.callback;if(typeof Ut=="function"){S.callback=null,O=S.priorityLevel;var Ht=Ut(S.expirationTime<=G);if(G=r.unstable_now(),typeof Ht=="function"){S.callback=Ht,Ot(G),rt=!0;break e}S===i(y)&&a(y),Ot(G)}else a(y);S=i(y)}if(S!==null)rt=!0;else{var M=i(_);M!==null&&Te(Xt,M.startTime-G),rt=!1}}break t}finally{S=null,O=mt,Q=!1}rt=void 0}}finally{rt?L():Mt=!1}}}var L;if(typeof _t=="function")L=function(){_t(x)};else if(typeof MessageChannel<"u"){var w=new MessageChannel,ie=w.port2;w.port1.onmessage=x,L=function(){ie.postMessage(null)}}else L=function(){yt(x,0)};function Te(G,rt){N=yt(function(){G(r.unstable_now())},rt)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(G){G.callback=null},r.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<G?Math.floor(1e3/G):5},r.unstable_getCurrentPriorityLevel=function(){return O},r.unstable_next=function(G){switch(O){case 1:case 2:case 3:var rt=3;break;default:rt=O}var mt=O;O=rt;try{return G()}finally{O=mt}},r.unstable_requestPaint=function(){et=!0},r.unstable_runWithPriority=function(G,rt){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var mt=O;O=G;try{return rt()}finally{O=mt}},r.unstable_scheduleCallback=function(G,rt,mt){var Ut=r.unstable_now();switch(typeof mt=="object"&&mt!==null?(mt=mt.delay,mt=typeof mt=="number"&&0<mt?Ut+mt:Ut):mt=Ut,G){case 1:var Ht=-1;break;case 2:Ht=250;break;case 5:Ht=1073741823;break;case 4:Ht=1e4;break;default:Ht=5e3}return Ht=mt+Ht,G={id:b++,callback:rt,priorityLevel:G,startTime:mt,expirationTime:Ht,sortIndex:-1},mt>Ut?(G.sortIndex=mt,t(_,G),i(y)===null&&G===i(_)&&(nt?(wt(N),N=-1):nt=!0,Te(Xt,mt-Ut))):(G.sortIndex=Ht,t(y,G),tt||Q||(tt=!0,Mt||(Mt=!0,L()))),G},r.unstable_shouldYield=k,r.unstable_wrapCallback=function(G){var rt=O;return function(){var mt=O;O=rt;try{return G.apply(this,arguments)}finally{O=mt}}}})(Yd)),Yd}var n0;function Jb(){return n0||(n0=1,Qd.exports=$b()),Qd.exports}var Kd={exports:{}},mn={};var i0;function Zb(){if(i0)return mn;i0=1;var r=jm();function t(y){var _="https://react.dev/errors/"+y;if(1<arguments.length){_+="?args[]="+encodeURIComponent(arguments[1]);for(var b=2;b<arguments.length;b++)_+="&args[]="+encodeURIComponent(arguments[b])}return"Minified React error #"+y+"; visit "+_+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var a={d:{f:i,r:function(){throw Error(t(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},l=Symbol.for("react.portal");function c(y,_,b){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:S==null?null:""+S,children:y,containerInfo:_,implementation:b}}var d=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(y,_){if(y==="font")return"";if(typeof _=="string")return _==="use-credentials"?_:""}return mn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,mn.createPortal=function(y,_){var b=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_||_.nodeType!==1&&_.nodeType!==9&&_.nodeType!==11)throw Error(t(299));return c(y,_,null,b)},mn.flushSync=function(y){var _=d.T,b=a.p;try{if(d.T=null,a.p=2,y)return y()}finally{d.T=_,a.p=b,a.d.f()}},mn.preconnect=function(y,_){typeof y=="string"&&(_?(_=_.crossOrigin,_=typeof _=="string"?_==="use-credentials"?_:"":void 0):_=null,a.d.C(y,_))},mn.prefetchDNS=function(y){typeof y=="string"&&a.d.D(y)},mn.preinit=function(y,_){if(typeof y=="string"&&_&&typeof _.as=="string"){var b=_.as,S=p(b,_.crossOrigin),O=typeof _.integrity=="string"?_.integrity:void 0,Q=typeof _.fetchPriority=="string"?_.fetchPriority:void 0;b==="style"?a.d.S(y,typeof _.precedence=="string"?_.precedence:void 0,{crossOrigin:S,integrity:O,fetchPriority:Q}):b==="script"&&a.d.X(y,{crossOrigin:S,integrity:O,fetchPriority:Q,nonce:typeof _.nonce=="string"?_.nonce:void 0})}},mn.preinitModule=function(y,_){if(typeof y=="string")if(typeof _=="object"&&_!==null){if(_.as==null||_.as==="script"){var b=p(_.as,_.crossOrigin);a.d.M(y,{crossOrigin:b,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0})}}else _==null&&a.d.M(y)},mn.preload=function(y,_){if(typeof y=="string"&&typeof _=="object"&&_!==null&&typeof _.as=="string"){var b=_.as,S=p(b,_.crossOrigin);a.d.L(y,b,{crossOrigin:S,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0,type:typeof _.type=="string"?_.type:void 0,fetchPriority:typeof _.fetchPriority=="string"?_.fetchPriority:void 0,referrerPolicy:typeof _.referrerPolicy=="string"?_.referrerPolicy:void 0,imageSrcSet:typeof _.imageSrcSet=="string"?_.imageSrcSet:void 0,imageSizes:typeof _.imageSizes=="string"?_.imageSizes:void 0,media:typeof _.media=="string"?_.media:void 0})}},mn.preloadModule=function(y,_){if(typeof y=="string")if(_){var b=p(_.as,_.crossOrigin);a.d.m(y,{as:typeof _.as=="string"&&_.as!=="script"?_.as:void 0,crossOrigin:b,integrity:typeof _.integrity=="string"?_.integrity:void 0})}else a.d.m(y)},mn.requestFormReset=function(y){a.d.r(y)},mn.unstable_batchedUpdates=function(y,_){return y(_)},mn.useFormState=function(y,_,b){return d.H.useFormState(y,_,b)},mn.useFormStatus=function(){return d.H.useHostTransitionStatus()},mn.version="19.2.0",mn}var r0;function Wb(){if(r0)return Kd.exports;r0=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),Kd.exports=Zb(),Kd.exports}var s0;function tS(){if(s0)return ql;s0=1;var r=Jb(),t=jm(),i=Wb();function a(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)n+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function c(e){var n=e,s=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(s=n.return),e=n.return;while(e)}return n.tag===3?s:null}function d(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function p(e){if(e.tag===31){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function y(e){if(c(e)!==e)throw Error(a(188))}function _(e){var n=e.alternate;if(!n){if(n=c(e),n===null)throw Error(a(188));return n!==e?null:e}for(var s=e,o=n;;){var h=s.return;if(h===null)break;var f=h.alternate;if(f===null){if(o=h.return,o!==null){s=o;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===s)return y(h),e;if(f===o)return y(h),n;f=f.sibling}throw Error(a(188))}if(s.return!==o.return)s=h,o=f;else{for(var g=!1,E=h.child;E;){if(E===s){g=!0,s=h,o=f;break}if(E===o){g=!0,o=h,s=f;break}E=E.sibling}if(!g){for(E=f.child;E;){if(E===s){g=!0,s=f,o=h;break}if(E===o){g=!0,o=f,s=h;break}E=E.sibling}if(!g)throw Error(a(189))}}if(s.alternate!==o)throw Error(a(190))}if(s.tag!==3)throw Error(a(188));return s.stateNode.current===s?e:n}function b(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=b(e),n!==null)return n;e=e.sibling}return null}var S=Object.assign,O=Symbol.for("react.element"),Q=Symbol.for("react.transitional.element"),tt=Symbol.for("react.portal"),nt=Symbol.for("react.fragment"),et=Symbol.for("react.strict_mode"),yt=Symbol.for("react.profiler"),wt=Symbol.for("react.consumer"),_t=Symbol.for("react.context"),Ot=Symbol.for("react.forward_ref"),Xt=Symbol.for("react.suspense"),Mt=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),k=Symbol.for("react.memo_cache_sentinel"),x=Symbol.iterator;function L(e){return e===null||typeof e!="object"?null:(e=x&&e[x]||e["@@iterator"],typeof e=="function"?e:null)}var w=Symbol.for("react.client.reference");function ie(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===w?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case nt:return"Fragment";case yt:return"Profiler";case et:return"StrictMode";case Xt:return"Suspense";case Mt:return"SuspenseList";case C:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case tt:return"Portal";case _t:return e.displayName||"Context";case wt:return(e._context.displayName||"Context")+".Consumer";case Ot:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case N:return n=e.displayName||null,n!==null?n:ie(e.type)||"Memo";case A:n=e._payload,e=e._init;try{return ie(e(n))}catch{}}return null}var Te=Array.isArray,G=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,rt=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,mt={pending:!1,data:null,method:null,action:null},Ut=[],Ht=-1;function M(e){return{current:e}}function X(e){0>Ht||(e.current=Ut[Ht],Ut[Ht]=null,Ht--)}function st(e,n){Ht++,Ut[Ht]=e.current,e.current=n}var ot=M(null),Tt=M(null),Ct=M(null),Ft=M(null);function ke(e,n){switch(st(Ct,n),st(Tt,e),st(ot,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?E_(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=E_(n),e=T_(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}X(ot),st(ot,e)}function de(){X(ot),X(Tt),X(Ct)}function Vr(e){e.memoizedState!==null&&st(Ft,e);var n=ot.current,s=T_(n,e.type);n!==s&&(st(Tt,e),st(ot,s))}function Ls(e){Tt.current===e&&(X(ot),X(Tt)),Ft.current===e&&(X(Ft),Ll._currentValue=mt)}var Ps,zs;function Ue(e){if(Ps===void 0)try{throw Error()}catch(s){var n=s.stack.trim().match(/\n( *(at )?)/);Ps=n&&n[1]||"",zs=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ps+e+zs}var Ln=!1;function Ie(e,n){if(!e||Ln)return"";Ln=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(n){var $=function(){throw Error()};if(Object.defineProperty($.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct($,[])}catch(H){var B=H}Reflect.construct(e,[],$)}else{try{$.call()}catch(H){B=H}e.call($.prototype)}}else{try{throw Error()}catch(H){B=H}($=e())&&typeof $.catch=="function"&&$.catch(function(){})}}catch(H){if(H&&B&&typeof H.stack=="string")return[H.stack,B.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=o.DetermineComponentFrameRoot(),g=f[0],E=f[1];if(g&&E){var I=g.split(`
`),j=E.split(`
`);for(h=o=0;o<I.length&&!I[o].includes("DetermineComponentFrameRoot");)o++;for(;h<j.length&&!j[h].includes("DetermineComponentFrameRoot");)h++;if(o===I.length||h===j.length)for(o=I.length-1,h=j.length-1;1<=o&&0<=h&&I[o]!==j[h];)h--;for(;1<=o&&0<=h;o--,h--)if(I[o]!==j[h]){if(o!==1||h!==1)do if(o--,h--,0>h||I[o]!==j[h]){var Y=`
`+I[o].replace(" at new "," at ");return e.displayName&&Y.includes("<anonymous>")&&(Y=Y.replace("<anonymous>",e.displayName)),Y}while(1<=o&&0<=h);break}}}finally{Ln=!1,Error.prepareStackTrace=s}return(s=e?e.displayName||e.name:"")?Ue(s):""}function er(e,n){switch(e.tag){case 26:case 27:case 5:return Ue(e.type);case 16:return Ue("Lazy");case 13:return e.child!==n&&n!==null?Ue("Suspense Fallback"):Ue("Suspense");case 19:return Ue("SuspenseList");case 0:case 15:return Ie(e.type,!1);case 11:return Ie(e.type.render,!1);case 1:return Ie(e.type,!0);case 31:return Ue("Activity");default:return""}}function kr(e){try{var n="",s=null;do n+=er(e,s),s=e,e=e.return;while(e);return n}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var be=Object.prototype.hasOwnProperty,Ce=r.unstable_scheduleCallback,$n=r.unstable_cancelCallback,js=r.unstable_shouldYield,Bs=r.unstable_requestPaint,$e=r.unstable_now,nr=r.unstable_getCurrentPriorityLevel,qs=r.unstable_ImmediatePriority,Ur=r.unstable_UserBlockingPriority,hn=r.unstable_NormalPriority,ka=r.unstable_LowPriority,Ni=r.unstable_IdlePriority,Lr=r.log,Hs=r.unstable_setDisableYieldValue,vn=null,Ye=null;function En(e){if(typeof Lr=="function"&&Hs(e),Ye&&typeof Ye.setStrictMode=="function")try{Ye.setStrictMode(vn,e)}catch{}}var me=Math.clz32?Math.clz32:zr,Fs=Math.log,Pr=Math.LN2;function zr(e){return e>>>=0,e===0?32:31-(Fs(e)/Pr|0)|0}var ce=256,Tn=262144,he=4194304;function Le(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Pn(e,n,s){var o=e.pendingLanes;if(o===0)return 0;var h=0,f=e.suspendedLanes,g=e.pingedLanes;e=e.warmLanes;var E=o&134217727;return E!==0?(o=E&~f,o!==0?h=Le(o):(g&=E,g!==0?h=Le(g):s||(s=E&~e,s!==0&&(h=Le(s))))):(E=o&~f,E!==0?h=Le(E):g!==0?h=Le(g):s||(s=o&~e,s!==0&&(h=Le(s)))),h===0?0:n!==0&&n!==h&&(n&f)===0&&(f=h&-h,s=n&-n,f>=s||f===32&&(s&4194048)!==0)?n:h}function zn(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function Ua(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function La(){var e=he;return he<<=1,(he&62914560)===0&&(he=4194304),e}function Pe(e){for(var n=[],s=0;31>s;s++)n.push(e);return n}function xi(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Pa(e,n,s,o,h,f){var g=e.pendingLanes;e.pendingLanes=s,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=s,e.entangledLanes&=s,e.errorRecoveryDisabledLanes&=s,e.shellSuspendCounter=0;var E=e.entanglements,I=e.expirationTimes,j=e.hiddenUpdates;for(s=g&~s;0<s;){var Y=31-me(s),$=1<<Y;E[Y]=0,I[Y]=-1;var B=j[Y];if(B!==null)for(j[Y]=null,Y=0;Y<B.length;Y++){var H=B[Y];H!==null&&(H.lane&=-536870913)}s&=~$}o!==0&&ir(e,o,0),f!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=f&~(g&~n))}function ir(e,n,s){e.pendingLanes|=n,e.suspendedLanes&=~n;var o=31-me(n);e.entangledLanes|=n,e.entanglements[o]=e.entanglements[o]|1073741824|s&261930}function jr(e,n){var s=e.entangledLanes|=n;for(e=e.entanglements;s;){var o=31-me(s),h=1<<o;h&n|e[o]&n&&(e[o]|=n),s&=~h}}function Br(e,n){var s=n&-n;return s=(s&42)!==0?1:Di(s),(s&(e.suspendedLanes|n))!==0?0:s}function Di(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Jn(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Gs(){var e=rt.p;return e!==0?e:(e=window.event,e===void 0?32:F_(e.type))}function jn(e,n){var s=rt.p;try{return rt.p=e,n()}finally{rt.p=s}}var Rn=Math.random().toString(36).slice(2),Se="__reactFiber$"+Rn,ze="__reactProps$"+Rn,In="__reactContainer$"+Rn,qr="__reactEvents$"+Rn,Zo="__reactListeners$"+Rn,za="__reactHandles$"+Rn,ja="__reactResources$"+Rn,Bn="__reactMarker$"+Rn;function rr(e){delete e[Se],delete e[ze],delete e[qr],delete e[Zo],delete e[za]}function Zn(e){var n=e[Se];if(n)return n;for(var s=e.parentNode;s;){if(n=s[In]||s[Se]){if(s=n.alternate,n.child!==null||s!==null&&s.child!==null)for(e=C_(e);e!==null;){if(s=e[Se])return s;e=C_(e)}return n}e=s,s=e.parentNode}return null}function Cn(e){if(e=e[Se]||e[In]){var n=e.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return e}return null}function fn(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(a(33))}function Wn(e){var n=e[ja];return n||(n=e[ja]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Ae(e){e[Bn]=!0}var Qs=new Set,Ys={};function ti(e,n){ei(e,n),ei(e+"Capture",n)}function ei(e,n){for(Ys[e]=n,e=0;e<n.length;e++)Qs.add(n[e])}var Ks=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Xs={},$s={};function Ba(e){return be.call($s,e)?!0:be.call(Xs,e)?!1:Ks.test(e)?$s[e]=!0:(Xs[e]=!0,!1)}function Mi(e,n,s){if(Ba(n))if(s===null)e.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var o=n.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+s)}}function dn(e,n,s){if(s===null)e.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+s)}}function Wt(e,n,s,o){if(o===null)e.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(s);return}e.setAttributeNS(n,s,""+o)}}function Ne(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function pi(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Hr(e,n,s){var o=Object.getOwnPropertyDescriptor(e.constructor.prototype,n);if(!e.hasOwnProperty(n)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var h=o.get,f=o.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return h.call(this)},set:function(g){s=""+g,f.call(this,g)}}),Object.defineProperty(e,n,{enumerable:o.enumerable}),{getValue:function(){return s},setValue:function(g){s=""+g},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function $t(e){if(!e._valueTracker){var n=pi(e)?"checked":"value";e._valueTracker=Hr(e,n,""+e[n])}}function Oi(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var s=n.getValue(),o="";return e&&(o=pi(e)?e.checked?"true":"false":e.value),e=o,e!==s?(n.setValue(e),!0):!1}function bn(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var yi=/[\n"\\]/g;function We(e){return e.replace(yi,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function Fr(e,n,s,o,h,f,g,E){e.name="",g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"?e.type=g:e.removeAttribute("type"),n!=null?g==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+Ne(n)):e.value!==""+Ne(n)&&(e.value=""+Ne(n)):g!=="submit"&&g!=="reset"||e.removeAttribute("value"),n!=null?F(e,g,Ne(n)):s!=null?F(e,g,Ne(s)):o!=null&&e.removeAttribute("value"),h==null&&f!=null&&(e.defaultChecked=!!f),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?e.name=""+Ne(E):e.removeAttribute("name")}function R(e,n,s,o,h,f,g,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.type=f),n!=null||s!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){$t(e);return}s=s!=null?""+Ne(s):"",n=n!=null?""+Ne(n):s,E||n===e.value||(e.value=n),e.defaultValue=n}o=o??h,o=typeof o!="function"&&typeof o!="symbol"&&!!o,e.checked=E?e.checked:!!o,e.defaultChecked=!!o,g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(e.name=g),$t(e)}function F(e,n,s){n==="number"&&bn(e.ownerDocument)===e||e.defaultValue===""+s||(e.defaultValue=""+s)}function J(e,n,s,o){if(e=e.options,n){n={};for(var h=0;h<s.length;h++)n["$"+s[h]]=!0;for(s=0;s<e.length;s++)h=n.hasOwnProperty("$"+e[s].value),e[s].selected!==h&&(e[s].selected=h),h&&o&&(e[s].defaultSelected=!0)}else{for(s=""+Ne(s),n=null,h=0;h<e.length;h++){if(e[h].value===s){e[h].selected=!0,o&&(e[h].defaultSelected=!0);return}n!==null||e[h].disabled||(n=e[h])}n!==null&&(n.selected=!0)}}function ht(e,n,s){if(n!=null&&(n=""+Ne(n),n!==e.value&&(e.value=n),s==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=s!=null?""+Ne(s):""}function ft(e,n,s,o){if(n==null){if(o!=null){if(s!=null)throw Error(a(92));if(Te(o)){if(1<o.length)throw Error(a(93));o=o[0]}s=o}s==null&&(s=""),n=s}s=Ne(n),e.defaultValue=s,o=e.textContent,o===s&&o!==""&&o!==null&&(e.value=o),$t(e)}function bt(e,n){if(n){var s=e.firstChild;if(s&&s===e.lastChild&&s.nodeType===3){s.nodeValue=n;return}}e.textContent=n}var re=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Sn(e,n,s){var o=n.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?o?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":o?e.setProperty(n,s):typeof s!="number"||s===0||re.has(n)?n==="float"?e.cssFloat=s:e[n]=(""+s).trim():e[n]=s+"px"}function tn(e,n,s){if(n!=null&&typeof n!="object")throw Error(a(62));if(e=e.style,s!=null){for(var o in s)!s.hasOwnProperty(o)||n!=null&&n.hasOwnProperty(o)||(o.indexOf("--")===0?e.setProperty(o,""):o==="float"?e.cssFloat="":e[o]="");for(var h in n)o=n[h],n.hasOwnProperty(h)&&s[h]!==o&&Sn(e,h,o)}else for(var f in n)n.hasOwnProperty(f)&&Sn(e,f,n[f])}function Vi(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var qa=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ki=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ha(e){return ki.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function _i(){}var Wo=null;function ni(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Gr=null,Ui=null;function Js(e){var n=Cn(e);if(n&&(e=n.stateNode)){var s=e[ze]||null;t:switch(e=n.stateNode,n.type){case"input":if(Fr(e,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),n=s.name,s.type==="radio"&&n!=null){for(s=e;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+We(""+n)+'"][type="radio"]'),n=0;n<s.length;n++){var o=s[n];if(o!==e&&o.form===e.form){var h=o[ze]||null;if(!h)throw Error(a(90));Fr(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<s.length;n++)o=s[n],o.form===e.form&&Oi(o)}break t;case"textarea":ht(e,s.value,s.defaultValue);break t;case"select":n=s.value,n!=null&&J(e,!!s.multiple,n,!1)}}}var Fa=!1;function Qr(e,n,s){if(Fa)return e(n,s);Fa=!0;try{var o=e(n);return o}finally{if(Fa=!1,(Gr!==null||Ui!==null)&&(yc(),Gr&&(n=Gr,e=Ui,Ui=Gr=null,Js(n),e)))for(n=0;n<e.length;n++)Js(e[n])}}function vi(e,n){var s=e.stateNode;if(s===null)return null;var o=s[ze]||null;if(o===null)return null;s=o[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break t;default:e=!1}if(e)return null;if(s&&typeof s!="function")throw Error(a(231,n,typeof s));return s}var ii=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Zs=!1;if(ii)try{var se={};Object.defineProperty(se,"passive",{get:function(){Zs=!0}}),window.addEventListener("test",se,se),window.removeEventListener("test",se,se)}catch{Zs=!1}var Li=null,tl=null,Ws=null;function el(){if(Ws)return Ws;var e,n=tl,s=n.length,o,h="value"in Li?Li.value:Li.textContent,f=h.length;for(e=0;e<s&&n[e]===h[e];e++);var g=s-e;for(o=1;o<=g&&n[s-o]===h[f-o];o++);return Ws=h.slice(e,1<o?1-o:void 0)}function ta(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function sr(){return!0}function Ei(){return!1}function en(e){function n(s,o,h,f,g){this._reactName=s,this._targetInst=h,this.type=o,this.nativeEvent=f,this.target=g,this.currentTarget=null;for(var E in e)e.hasOwnProperty(E)&&(s=e[E],this[E]=s?s(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?sr:Ei,this.isPropagationStopped=Ei,this}return S(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=sr)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=sr)},persist:function(){},isPersistent:sr}),n}var ar={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Pi=en(ar),Yr=S({},ar,{view:0,detail:0}),nl=en(Yr),Kr,Ga,zi,Qa=S({},Yr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Xr,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==zi&&(zi&&e.type==="mousemove"?(Kr=e.screenX-zi.screenX,Ga=e.screenY-zi.screenY):Ga=Kr=0,zi=e),Kr)},movementY:function(e){return"movementY"in e?e.movementY:Ga}}),il=en(Qa),ea=S({},Qa,{dataTransfer:0}),wu=en(ea),Ru=S({},Yr,{relatedTarget:0}),na=en(Ru),rl=S({},ar,{animationName:0,elapsedTime:0,pseudoElement:0}),Iu=en(rl),Ya=S({},ar,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Cu=en(Ya),Nu=S({},ar,{data:0}),ji=en(Nu),xu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Du={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Mu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ou(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=Mu[e])?!!n[e]:!1}function Xr(){return Ou}var An=S({},Yr,{key:function(e){if(e.key){var n=xu[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=ta(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Du[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Xr,charCode:function(e){return e.type==="keypress"?ta(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ta(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Vu=en(An),ku=S({},Qa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),or=en(ku),u=S({},Yr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Xr}),m=en(u),v=S({},ar,{propertyName:0,elapsedTime:0,pseudoElement:0}),T=en(v),P=S({},Qa,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),q=en(P),it=S({},ar,{newState:0,oldState:0}),Nt=en(it),xe=[9,13,27,32],Jt=ii&&"CompositionEvent"in window,_e=null;ii&&"documentMode"in document&&(_e=document.documentMode);var ri=ii&&"TextEvent"in window&&!_e,Bi=ii&&(!Jt||_e&&8<_e&&11>=_e),Ti=" ",bi=!1;function ia(e,n){switch(e){case"keyup":return xe.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ka(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Xa=!1;function pT(e,n){switch(e){case"compositionend":return Ka(n);case"keypress":return n.which!==32?null:(bi=!0,Ti);case"textInput":return e=n.data,e===Ti&&bi?null:e;default:return null}}function yT(e,n){if(Xa)return e==="compositionend"||!Jt&&ia(e,n)?(e=el(),Ws=tl=Li=null,Xa=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return Bi&&n.locale!=="ko"?null:n.data;default:return null}}var _T={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Dg(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!_T[e.type]:n==="textarea"}function Mg(e,n,s,o){Gr?Ui?Ui.push(o):Ui=[o]:Gr=o,n=Ac(n,"onChange"),0<n.length&&(s=new Pi("onChange","change",null,s,o),e.push({event:s,listeners:n}))}var sl=null,al=null;function vT(e){m_(e,0)}function Uu(e){var n=fn(e);if(Oi(n))return e}function Og(e,n){if(e==="change")return n}var Vg=!1;if(ii){var Xh;if(ii){var $h="oninput"in document;if(!$h){var kg=document.createElement("div");kg.setAttribute("oninput","return;"),$h=typeof kg.oninput=="function"}Xh=$h}else Xh=!1;Vg=Xh&&(!document.documentMode||9<document.documentMode)}function Ug(){sl&&(sl.detachEvent("onpropertychange",Lg),al=sl=null)}function Lg(e){if(e.propertyName==="value"&&Uu(al)){var n=[];Mg(n,al,e,ni(e)),Qr(vT,n)}}function ET(e,n,s){e==="focusin"?(Ug(),sl=n,al=s,sl.attachEvent("onpropertychange",Lg)):e==="focusout"&&Ug()}function TT(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Uu(al)}function bT(e,n){if(e==="click")return Uu(n)}function ST(e,n){if(e==="input"||e==="change")return Uu(n)}function AT(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var qn=typeof Object.is=="function"?Object.is:AT;function ol(e,n){if(qn(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var s=Object.keys(e),o=Object.keys(n);if(s.length!==o.length)return!1;for(o=0;o<s.length;o++){var h=s[o];if(!be.call(n,h)||!qn(e[h],n[h]))return!1}return!0}function Pg(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function zg(e,n){var s=Pg(e);e=0;for(var o;s;){if(s.nodeType===3){if(o=e+s.textContent.length,e<=n&&o>=n)return{node:s,offset:n-e};e=o}t:{for(;s;){if(s.nextSibling){s=s.nextSibling;break t}s=s.parentNode}s=void 0}s=Pg(s)}}function jg(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?jg(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function Bg(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=bn(e.document);n instanceof e.HTMLIFrameElement;){try{var s=typeof n.contentWindow.location.href=="string"}catch{s=!1}if(s)e=n.contentWindow;else break;n=bn(e.document)}return n}function Jh(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var wT=ii&&"documentMode"in document&&11>=document.documentMode,$a=null,Zh=null,ll=null,Wh=!1;function qg(e,n,s){var o=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;Wh||$a==null||$a!==bn(o)||(o=$a,"selectionStart"in o&&Jh(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),ll&&ol(ll,o)||(ll=o,o=Ac(Zh,"onSelect"),0<o.length&&(n=new Pi("onSelect","select",null,n,s),e.push({event:n,listeners:o}),n.target=$a)))}function ra(e,n){var s={};return s[e.toLowerCase()]=n.toLowerCase(),s["Webkit"+e]="webkit"+n,s["Moz"+e]="moz"+n,s}var Ja={animationend:ra("Animation","AnimationEnd"),animationiteration:ra("Animation","AnimationIteration"),animationstart:ra("Animation","AnimationStart"),transitionrun:ra("Transition","TransitionRun"),transitionstart:ra("Transition","TransitionStart"),transitioncancel:ra("Transition","TransitionCancel"),transitionend:ra("Transition","TransitionEnd")},tf={},Hg={};ii&&(Hg=document.createElement("div").style,"AnimationEvent"in window||(delete Ja.animationend.animation,delete Ja.animationiteration.animation,delete Ja.animationstart.animation),"TransitionEvent"in window||delete Ja.transitionend.transition);function sa(e){if(tf[e])return tf[e];if(!Ja[e])return e;var n=Ja[e],s;for(s in n)if(n.hasOwnProperty(s)&&s in Hg)return tf[e]=n[s];return e}var Fg=sa("animationend"),Gg=sa("animationiteration"),Qg=sa("animationstart"),RT=sa("transitionrun"),IT=sa("transitionstart"),CT=sa("transitioncancel"),Yg=sa("transitionend"),Kg=new Map,ef="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");ef.push("scrollEnd");function Si(e,n){Kg.set(e,n),ti(n,[e])}var Lu=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},si=[],Za=0,nf=0;function Pu(){for(var e=Za,n=nf=Za=0;n<e;){var s=si[n];si[n++]=null;var o=si[n];si[n++]=null;var h=si[n];si[n++]=null;var f=si[n];if(si[n++]=null,o!==null&&h!==null){var g=o.pending;g===null?h.next=h:(h.next=g.next,g.next=h),o.pending=h}f!==0&&Xg(s,h,f)}}function zu(e,n,s,o){si[Za++]=e,si[Za++]=n,si[Za++]=s,si[Za++]=o,nf|=o,e.lanes|=o,e=e.alternate,e!==null&&(e.lanes|=o)}function rf(e,n,s,o){return zu(e,n,s,o),ju(e)}function aa(e,n){return zu(e,null,null,n),ju(e)}function Xg(e,n,s){e.lanes|=s;var o=e.alternate;o!==null&&(o.lanes|=s);for(var h=!1,f=e.return;f!==null;)f.childLanes|=s,o=f.alternate,o!==null&&(o.childLanes|=s),f.tag===22&&(e=f.stateNode,e===null||e._visibility&1||(h=!0)),e=f,f=f.return;return e.tag===3?(f=e.stateNode,h&&n!==null&&(h=31-me(s),e=f.hiddenUpdates,o=e[h],o===null?e[h]=[n]:o.push(n),n.lane=s|536870912),f):null}function ju(e){if(50<xl)throw xl=0,dd=null,Error(a(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var Wa={};function NT(e,n,s,o){this.tag=e,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Hn(e,n,s,o){return new NT(e,n,s,o)}function sf(e){return e=e.prototype,!(!e||!e.isReactComponent)}function lr(e,n){var s=e.alternate;return s===null?(s=Hn(e.tag,n,e.key,e.mode),s.elementType=e.elementType,s.type=e.type,s.stateNode=e.stateNode,s.alternate=e,e.alternate=s):(s.pendingProps=n,s.type=e.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=e.flags&65011712,s.childLanes=e.childLanes,s.lanes=e.lanes,s.child=e.child,s.memoizedProps=e.memoizedProps,s.memoizedState=e.memoizedState,s.updateQueue=e.updateQueue,n=e.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},s.sibling=e.sibling,s.index=e.index,s.ref=e.ref,s.refCleanup=e.refCleanup,s}function $g(e,n){e.flags&=65011714;var s=e.alternate;return s===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=s.childLanes,e.lanes=s.lanes,e.child=s.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=s.memoizedProps,e.memoizedState=s.memoizedState,e.updateQueue=s.updateQueue,e.type=s.type,n=s.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function Bu(e,n,s,o,h,f){var g=0;if(o=e,typeof e=="function")sf(e)&&(g=1);else if(typeof e=="string")g=Vb(e,s,ot.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case C:return e=Hn(31,s,n,h),e.elementType=C,e.lanes=f,e;case nt:return oa(s.children,h,f,n);case et:g=8,h|=24;break;case yt:return e=Hn(12,s,n,h|2),e.elementType=yt,e.lanes=f,e;case Xt:return e=Hn(13,s,n,h),e.elementType=Xt,e.lanes=f,e;case Mt:return e=Hn(19,s,n,h),e.elementType=Mt,e.lanes=f,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case _t:g=10;break t;case wt:g=9;break t;case Ot:g=11;break t;case N:g=14;break t;case A:g=16,o=null;break t}g=29,s=Error(a(130,e===null?"null":typeof e,"")),o=null}return n=Hn(g,s,n,h),n.elementType=e,n.type=o,n.lanes=f,n}function oa(e,n,s,o){return e=Hn(7,e,o,n),e.lanes=s,e}function af(e,n,s){return e=Hn(6,e,null,n),e.lanes=s,e}function Jg(e){var n=Hn(18,null,null,0);return n.stateNode=e,n}function of(e,n,s){return n=Hn(4,e.children!==null?e.children:[],e.key,n),n.lanes=s,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var Zg=new WeakMap;function ai(e,n){if(typeof e=="object"&&e!==null){var s=Zg.get(e);return s!==void 0?s:(n={value:e,source:n,stack:kr(n)},Zg.set(e,n),n)}return{value:e,source:n,stack:kr(n)}}var to=[],eo=0,qu=null,ul=0,oi=[],li=0,$r=null,qi=1,Hi="";function ur(e,n){to[eo++]=ul,to[eo++]=qu,qu=e,ul=n}function Wg(e,n,s){oi[li++]=qi,oi[li++]=Hi,oi[li++]=$r,$r=e;var o=qi;e=Hi;var h=32-me(o)-1;o&=~(1<<h),s+=1;var f=32-me(n)+h;if(30<f){var g=h-h%5;f=(o&(1<<g)-1).toString(32),o>>=g,h-=g,qi=1<<32-me(n)+h|s<<h|o,Hi=f+e}else qi=1<<f|s<<h|o,Hi=e}function lf(e){e.return!==null&&(ur(e,1),Wg(e,1,0))}function uf(e){for(;e===qu;)qu=to[--eo],to[eo]=null,ul=to[--eo],to[eo]=null;for(;e===$r;)$r=oi[--li],oi[li]=null,Hi=oi[--li],oi[li]=null,qi=oi[--li],oi[li]=null}function tp(e,n){oi[li++]=qi,oi[li++]=Hi,oi[li++]=$r,qi=n.id,Hi=n.overflow,$r=e}var nn=null,ge=null,Gt=!1,Jr=null,ui=!1,cf=Error(a(519));function Zr(e){var n=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw cl(ai(n,e)),cf}function ep(e){var n=e.stateNode,s=e.type,o=e.memoizedProps;switch(n[Se]=e,n[ze]=o,s){case"dialog":kt("cancel",n),kt("close",n);break;case"iframe":case"object":case"embed":kt("load",n);break;case"video":case"audio":for(s=0;s<Ml.length;s++)kt(Ml[s],n);break;case"source":kt("error",n);break;case"img":case"image":case"link":kt("error",n),kt("load",n);break;case"details":kt("toggle",n);break;case"input":kt("invalid",n),R(n,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":kt("invalid",n);break;case"textarea":kt("invalid",n),ft(n,o.value,o.defaultValue,o.children)}s=o.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||n.textContent===""+s||o.suppressHydrationWarning===!0||__(n.textContent,s)?(o.popover!=null&&(kt("beforetoggle",n),kt("toggle",n)),o.onScroll!=null&&kt("scroll",n),o.onScrollEnd!=null&&kt("scrollend",n),o.onClick!=null&&(n.onclick=_i),n=!0):n=!1,n||Zr(e,!0)}function np(e){for(nn=e.return;nn;)switch(nn.tag){case 5:case 31:case 13:ui=!1;return;case 27:case 3:ui=!0;return;default:nn=nn.return}}function no(e){if(e!==nn)return!1;if(!Gt)return np(e),Gt=!0,!1;var n=e.tag,s;if((s=n!==3&&n!==27)&&((s=n===5)&&(s=e.type,s=!(s!=="form"&&s!=="button")||Cd(e.type,e.memoizedProps)),s=!s),s&&ge&&Zr(e),np(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));ge=I_(e)}else if(n===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));ge=I_(e)}else n===27?(n=ge,fs(e.type)?(e=Od,Od=null,ge=e):ge=n):ge=nn?hi(e.stateNode.nextSibling):null;return!0}function la(){ge=nn=null,Gt=!1}function hf(){var e=Jr;return e!==null&&(Mn===null?Mn=e:Mn.push.apply(Mn,e),Jr=null),e}function cl(e){Jr===null?Jr=[e]:Jr.push(e)}var ff=M(null),ua=null,cr=null;function Wr(e,n,s){st(ff,n._currentValue),n._currentValue=s}function hr(e){e._currentValue=ff.current,X(ff)}function df(e,n,s){for(;e!==null;){var o=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,o!==null&&(o.childLanes|=n)):o!==null&&(o.childLanes&n)!==n&&(o.childLanes|=n),e===s)break;e=e.return}}function mf(e,n,s,o){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var f=h.dependencies;if(f!==null){var g=h.child;f=f.firstContext;t:for(;f!==null;){var E=f;f=h;for(var I=0;I<n.length;I++)if(E.context===n[I]){f.lanes|=s,E=f.alternate,E!==null&&(E.lanes|=s),df(f.return,s,e),o||(g=null);break t}f=E.next}}else if(h.tag===18){if(g=h.return,g===null)throw Error(a(341));g.lanes|=s,f=g.alternate,f!==null&&(f.lanes|=s),df(g,s,e),g=null}else g=h.child;if(g!==null)g.return=h;else for(g=h;g!==null;){if(g===e){g=null;break}if(h=g.sibling,h!==null){h.return=g.return,g=h;break}g=g.return}h=g}}function io(e,n,s,o){e=null;for(var h=n,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var g=h.alternate;if(g===null)throw Error(a(387));if(g=g.memoizedProps,g!==null){var E=h.type;qn(h.pendingProps.value,g.value)||(e!==null?e.push(E):e=[E])}}else if(h===Ft.current){if(g=h.alternate,g===null)throw Error(a(387));g.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(Ll):e=[Ll])}h=h.return}e!==null&&mf(n,e,s,o),n.flags|=262144}function Hu(e){for(e=e.firstContext;e!==null;){if(!qn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function ca(e){ua=e,cr=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function rn(e){return ip(ua,e)}function Fu(e,n){return ua===null&&ca(e),ip(e,n)}function ip(e,n){var s=n._currentValue;if(n={context:n,memoizedValue:s,next:null},cr===null){if(e===null)throw Error(a(308));cr=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else cr=cr.next=n;return s}var xT=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(s,o){e.push(o)}};this.abort=function(){n.aborted=!0,e.forEach(function(s){return s()})}},DT=r.unstable_scheduleCallback,MT=r.unstable_NormalPriority,je={$$typeof:_t,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function gf(){return{controller:new xT,data:new Map,refCount:0}}function hl(e){e.refCount--,e.refCount===0&&DT(MT,function(){e.controller.abort()})}var fl=null,pf=0,ro=0,so=null;function OT(e,n){if(fl===null){var s=fl=[];pf=0,ro=vd(),so={status:"pending",value:void 0,then:function(o){s.push(o)}}}return pf++,n.then(rp,rp),n}function rp(){if(--pf===0&&fl!==null){so!==null&&(so.status="fulfilled");var e=fl;fl=null,ro=0,so=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function VT(e,n){var s=[],o={status:"pending",value:null,reason:null,then:function(h){s.push(h)}};return e.then(function(){o.status="fulfilled",o.value=n;for(var h=0;h<s.length;h++)(0,s[h])(n)},function(h){for(o.status="rejected",o.reason=h,h=0;h<s.length;h++)(0,s[h])(void 0)}),o}var sp=G.S;G.S=function(e,n){qy=$e(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&OT(e,n),sp!==null&&sp(e,n)};var ha=M(null);function yf(){var e=ha.current;return e!==null?e:ue.pooledCache}function Gu(e,n){n===null?st(ha,ha.current):st(ha,n.pool)}function ap(){var e=yf();return e===null?null:{parent:je._currentValue,pool:e}}var ao=Error(a(460)),_f=Error(a(474)),Qu=Error(a(542)),Yu={then:function(){}};function op(e){return e=e.status,e==="fulfilled"||e==="rejected"}function lp(e,n,s){switch(s=e[s],s===void 0?e.push(n):s!==n&&(n.then(_i,_i),n=s),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,cp(e),e;default:if(typeof n.status=="string")n.then(_i,_i);else{if(e=ue,e!==null&&100<e.shellSuspendCounter)throw Error(a(482));e=n,e.status="pending",e.then(function(o){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=o}},function(o){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=o}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,cp(e),e}throw da=n,ao}}function fa(e){try{var n=e._init;return n(e._payload)}catch(s){throw s!==null&&typeof s=="object"&&typeof s.then=="function"?(da=s,ao):s}}var da=null;function up(){if(da===null)throw Error(a(459));var e=da;return da=null,e}function cp(e){if(e===ao||e===Qu)throw Error(a(483))}var oo=null,dl=0;function Ku(e){var n=dl;return dl+=1,oo===null&&(oo=[]),lp(oo,e,n)}function ml(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function Xu(e,n){throw n.$$typeof===O?Error(a(525)):(e=Object.prototype.toString.call(n),Error(a(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function hp(e){function n(U,D){if(e){var z=U.deletions;z===null?(U.deletions=[D],U.flags|=16):z.push(D)}}function s(U,D){if(!e)return null;for(;D!==null;)n(U,D),D=D.sibling;return null}function o(U){for(var D=new Map;U!==null;)U.key!==null?D.set(U.key,U):D.set(U.index,U),U=U.sibling;return D}function h(U,D){return U=lr(U,D),U.index=0,U.sibling=null,U}function f(U,D,z){return U.index=z,e?(z=U.alternate,z!==null?(z=z.index,z<D?(U.flags|=67108866,D):z):(U.flags|=67108866,D)):(U.flags|=1048576,D)}function g(U){return e&&U.alternate===null&&(U.flags|=67108866),U}function E(U,D,z,K){return D===null||D.tag!==6?(D=af(z,U.mode,K),D.return=U,D):(D=h(D,z),D.return=U,D)}function I(U,D,z,K){var gt=z.type;return gt===nt?Y(U,D,z.props.children,K,z.key):D!==null&&(D.elementType===gt||typeof gt=="object"&&gt!==null&&gt.$$typeof===A&&fa(gt)===D.type)?(D=h(D,z.props),ml(D,z),D.return=U,D):(D=Bu(z.type,z.key,z.props,null,U.mode,K),ml(D,z),D.return=U,D)}function j(U,D,z,K){return D===null||D.tag!==4||D.stateNode.containerInfo!==z.containerInfo||D.stateNode.implementation!==z.implementation?(D=of(z,U.mode,K),D.return=U,D):(D=h(D,z.children||[]),D.return=U,D)}function Y(U,D,z,K,gt){return D===null||D.tag!==7?(D=oa(z,U.mode,K,gt),D.return=U,D):(D=h(D,z),D.return=U,D)}function $(U,D,z){if(typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint")return D=af(""+D,U.mode,z),D.return=U,D;if(typeof D=="object"&&D!==null){switch(D.$$typeof){case Q:return z=Bu(D.type,D.key,D.props,null,U.mode,z),ml(z,D),z.return=U,z;case tt:return D=of(D,U.mode,z),D.return=U,D;case A:return D=fa(D),$(U,D,z)}if(Te(D)||L(D))return D=oa(D,U.mode,z,null),D.return=U,D;if(typeof D.then=="function")return $(U,Ku(D),z);if(D.$$typeof===_t)return $(U,Fu(U,D),z);Xu(U,D)}return null}function B(U,D,z,K){var gt=D!==null?D.key:null;if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return gt!==null?null:E(U,D,""+z,K);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case Q:return z.key===gt?I(U,D,z,K):null;case tt:return z.key===gt?j(U,D,z,K):null;case A:return z=fa(z),B(U,D,z,K)}if(Te(z)||L(z))return gt!==null?null:Y(U,D,z,K,null);if(typeof z.then=="function")return B(U,D,Ku(z),K);if(z.$$typeof===_t)return B(U,D,Fu(U,z),K);Xu(U,z)}return null}function H(U,D,z,K,gt){if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return U=U.get(z)||null,E(D,U,""+K,gt);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case Q:return U=U.get(K.key===null?z:K.key)||null,I(D,U,K,gt);case tt:return U=U.get(K.key===null?z:K.key)||null,j(D,U,K,gt);case A:return K=fa(K),H(U,D,z,K,gt)}if(Te(K)||L(K))return U=U.get(z)||null,Y(D,U,K,gt,null);if(typeof K.then=="function")return H(U,D,z,Ku(K),gt);if(K.$$typeof===_t)return H(U,D,z,Fu(D,K),gt);Xu(D,K)}return null}function ct(U,D,z,K){for(var gt=null,Yt=null,dt=D,Dt=D=0,Pt=null;dt!==null&&Dt<z.length;Dt++){dt.index>Dt?(Pt=dt,dt=null):Pt=dt.sibling;var Kt=B(U,dt,z[Dt],K);if(Kt===null){dt===null&&(dt=Pt);break}e&&dt&&Kt.alternate===null&&n(U,dt),D=f(Kt,D,Dt),Yt===null?gt=Kt:Yt.sibling=Kt,Yt=Kt,dt=Pt}if(Dt===z.length)return s(U,dt),Gt&&ur(U,Dt),gt;if(dt===null){for(;Dt<z.length;Dt++)dt=$(U,z[Dt],K),dt!==null&&(D=f(dt,D,Dt),Yt===null?gt=dt:Yt.sibling=dt,Yt=dt);return Gt&&ur(U,Dt),gt}for(dt=o(dt);Dt<z.length;Dt++)Pt=H(dt,U,Dt,z[Dt],K),Pt!==null&&(e&&Pt.alternate!==null&&dt.delete(Pt.key===null?Dt:Pt.key),D=f(Pt,D,Dt),Yt===null?gt=Pt:Yt.sibling=Pt,Yt=Pt);return e&&dt.forEach(function(ys){return n(U,ys)}),Gt&&ur(U,Dt),gt}function vt(U,D,z,K){if(z==null)throw Error(a(151));for(var gt=null,Yt=null,dt=D,Dt=D=0,Pt=null,Kt=z.next();dt!==null&&!Kt.done;Dt++,Kt=z.next()){dt.index>Dt?(Pt=dt,dt=null):Pt=dt.sibling;var ys=B(U,dt,Kt.value,K);if(ys===null){dt===null&&(dt=Pt);break}e&&dt&&ys.alternate===null&&n(U,dt),D=f(ys,D,Dt),Yt===null?gt=ys:Yt.sibling=ys,Yt=ys,dt=Pt}if(Kt.done)return s(U,dt),Gt&&ur(U,Dt),gt;if(dt===null){for(;!Kt.done;Dt++,Kt=z.next())Kt=$(U,Kt.value,K),Kt!==null&&(D=f(Kt,D,Dt),Yt===null?gt=Kt:Yt.sibling=Kt,Yt=Kt);return Gt&&ur(U,Dt),gt}for(dt=o(dt);!Kt.done;Dt++,Kt=z.next())Kt=H(dt,U,Dt,Kt.value,K),Kt!==null&&(e&&Kt.alternate!==null&&dt.delete(Kt.key===null?Dt:Kt.key),D=f(Kt,D,Dt),Yt===null?gt=Kt:Yt.sibling=Kt,Yt=Kt);return e&&dt.forEach(function(Gb){return n(U,Gb)}),Gt&&ur(U,Dt),gt}function le(U,D,z,K){if(typeof z=="object"&&z!==null&&z.type===nt&&z.key===null&&(z=z.props.children),typeof z=="object"&&z!==null){switch(z.$$typeof){case Q:t:{for(var gt=z.key;D!==null;){if(D.key===gt){if(gt=z.type,gt===nt){if(D.tag===7){s(U,D.sibling),K=h(D,z.props.children),K.return=U,U=K;break t}}else if(D.elementType===gt||typeof gt=="object"&&gt!==null&&gt.$$typeof===A&&fa(gt)===D.type){s(U,D.sibling),K=h(D,z.props),ml(K,z),K.return=U,U=K;break t}s(U,D);break}else n(U,D);D=D.sibling}z.type===nt?(K=oa(z.props.children,U.mode,K,z.key),K.return=U,U=K):(K=Bu(z.type,z.key,z.props,null,U.mode,K),ml(K,z),K.return=U,U=K)}return g(U);case tt:t:{for(gt=z.key;D!==null;){if(D.key===gt)if(D.tag===4&&D.stateNode.containerInfo===z.containerInfo&&D.stateNode.implementation===z.implementation){s(U,D.sibling),K=h(D,z.children||[]),K.return=U,U=K;break t}else{s(U,D);break}else n(U,D);D=D.sibling}K=of(z,U.mode,K),K.return=U,U=K}return g(U);case A:return z=fa(z),le(U,D,z,K)}if(Te(z))return ct(U,D,z,K);if(L(z)){if(gt=L(z),typeof gt!="function")throw Error(a(150));return z=gt.call(z),vt(U,D,z,K)}if(typeof z.then=="function")return le(U,D,Ku(z),K);if(z.$$typeof===_t)return le(U,D,Fu(U,z),K);Xu(U,z)}return typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint"?(z=""+z,D!==null&&D.tag===6?(s(U,D.sibling),K=h(D,z),K.return=U,U=K):(s(U,D),K=af(z,U.mode,K),K.return=U,U=K),g(U)):s(U,D)}return function(U,D,z,K){try{dl=0;var gt=le(U,D,z,K);return oo=null,gt}catch(dt){if(dt===ao||dt===Qu)throw dt;var Yt=Hn(29,dt,null,U.mode);return Yt.lanes=K,Yt.return=U,Yt}finally{}}}var ma=hp(!0),fp=hp(!1),ts=!1;function vf(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Ef(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function es(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function ns(e,n,s){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,(Zt&2)!==0){var h=o.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),o.pending=n,n=ju(e),Xg(e,null,s),n}return zu(e,o,n,s),ju(e)}function gl(e,n,s){if(n=n.updateQueue,n!==null&&(n=n.shared,(s&4194048)!==0)){var o=n.lanes;o&=e.pendingLanes,s|=o,n.lanes=s,jr(e,s)}}function Tf(e,n){var s=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,s===o)){var h=null,f=null;if(s=s.firstBaseUpdate,s!==null){do{var g={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};f===null?h=f=g:f=f.next=g,s=s.next}while(s!==null);f===null?h=f=n:f=f.next=n}else h=f=n;s={baseState:o.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:o.shared,callbacks:o.callbacks},e.updateQueue=s;return}e=s.lastBaseUpdate,e===null?s.firstBaseUpdate=n:e.next=n,s.lastBaseUpdate=n}var bf=!1;function pl(){if(bf){var e=so;if(e!==null)throw e}}function yl(e,n,s,o){bf=!1;var h=e.updateQueue;ts=!1;var f=h.firstBaseUpdate,g=h.lastBaseUpdate,E=h.shared.pending;if(E!==null){h.shared.pending=null;var I=E,j=I.next;I.next=null,g===null?f=j:g.next=j,g=I;var Y=e.alternate;Y!==null&&(Y=Y.updateQueue,E=Y.lastBaseUpdate,E!==g&&(E===null?Y.firstBaseUpdate=j:E.next=j,Y.lastBaseUpdate=I))}if(f!==null){var $=h.baseState;g=0,Y=j=I=null,E=f;do{var B=E.lane&-536870913,H=B!==E.lane;if(H?(Lt&B)===B:(o&B)===B){B!==0&&B===ro&&(bf=!0),Y!==null&&(Y=Y.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var ct=e,vt=E;B=n;var le=s;switch(vt.tag){case 1:if(ct=vt.payload,typeof ct=="function"){$=ct.call(le,$,B);break t}$=ct;break t;case 3:ct.flags=ct.flags&-65537|128;case 0:if(ct=vt.payload,B=typeof ct=="function"?ct.call(le,$,B):ct,B==null)break t;$=S({},$,B);break t;case 2:ts=!0}}B=E.callback,B!==null&&(e.flags|=64,H&&(e.flags|=8192),H=h.callbacks,H===null?h.callbacks=[B]:H.push(B))}else H={lane:B,tag:E.tag,payload:E.payload,callback:E.callback,next:null},Y===null?(j=Y=H,I=$):Y=Y.next=H,g|=B;if(E=E.next,E===null){if(E=h.shared.pending,E===null)break;H=E,E=H.next,H.next=null,h.lastBaseUpdate=H,h.shared.pending=null}}while(!0);Y===null&&(I=$),h.baseState=I,h.firstBaseUpdate=j,h.lastBaseUpdate=Y,f===null&&(h.shared.lanes=0),os|=g,e.lanes=g,e.memoizedState=$}}function dp(e,n){if(typeof e!="function")throw Error(a(191,e));e.call(n)}function mp(e,n){var s=e.callbacks;if(s!==null)for(e.callbacks=null,e=0;e<s.length;e++)dp(s[e],n)}var lo=M(null),$u=M(0);function gp(e,n){e=Er,st($u,e),st(lo,n),Er=e|n.baseLanes}function Sf(){st($u,Er),st(lo,lo.current)}function Af(){Er=$u.current,X(lo),X($u)}var Fn=M(null),ci=null;function is(e){var n=e.alternate;st(De,De.current&1),st(Fn,e),ci===null&&(n===null||lo.current!==null||n.memoizedState!==null)&&(ci=e)}function wf(e){st(De,De.current),st(Fn,e),ci===null&&(ci=e)}function pp(e){e.tag===22?(st(De,De.current),st(Fn,e),ci===null&&(ci=e)):rs()}function rs(){st(De,De.current),st(Fn,Fn.current)}function Gn(e){X(Fn),ci===e&&(ci=null),X(De)}var De=M(0);function Ju(e){for(var n=e;n!==null;){if(n.tag===13){var s=n.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||Dd(s)||Md(s)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var fr=0,xt=null,ae=null,Be=null,Zu=!1,uo=!1,ga=!1,Wu=0,_l=0,co=null,kT=0;function we(){throw Error(a(321))}function Rf(e,n){if(n===null)return!1;for(var s=0;s<n.length&&s<e.length;s++)if(!qn(e[s],n[s]))return!1;return!0}function If(e,n,s,o,h,f){return fr=f,xt=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,G.H=e===null||e.memoizedState===null?Wp:qf,ga=!1,f=s(o,h),ga=!1,uo&&(f=_p(n,s,o,h)),yp(e),f}function yp(e){G.H=Tl;var n=ae!==null&&ae.next!==null;if(fr=0,Be=ae=xt=null,Zu=!1,_l=0,co=null,n)throw Error(a(300));e===null||qe||(e=e.dependencies,e!==null&&Hu(e)&&(qe=!0))}function _p(e,n,s,o){xt=e;var h=0;do{if(uo&&(co=null),_l=0,uo=!1,25<=h)throw Error(a(301));if(h+=1,Be=ae=null,e.updateQueue!=null){var f=e.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}G.H=ty,f=n(s,o)}while(uo);return f}function UT(){var e=G.H,n=e.useState()[0];return n=typeof n.then=="function"?vl(n):n,e=e.useState()[0],(ae!==null?ae.memoizedState:null)!==e&&(xt.flags|=1024),n}function Cf(){var e=Wu!==0;return Wu=0,e}function Nf(e,n,s){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~s}function xf(e){if(Zu){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}Zu=!1}fr=0,Be=ae=xt=null,uo=!1,_l=Wu=0,co=null}function wn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Be===null?xt.memoizedState=Be=e:Be=Be.next=e,Be}function Me(){if(ae===null){var e=xt.alternate;e=e!==null?e.memoizedState:null}else e=ae.next;var n=Be===null?xt.memoizedState:Be.next;if(n!==null)Be=n,ae=e;else{if(e===null)throw xt.alternate===null?Error(a(467)):Error(a(310));ae=e,e={memoizedState:ae.memoizedState,baseState:ae.baseState,baseQueue:ae.baseQueue,queue:ae.queue,next:null},Be===null?xt.memoizedState=Be=e:Be=Be.next=e}return Be}function tc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function vl(e){var n=_l;return _l+=1,co===null&&(co=[]),e=lp(co,e,n),n=xt,(Be===null?n.memoizedState:Be.next)===null&&(n=n.alternate,G.H=n===null||n.memoizedState===null?Wp:qf),e}function ec(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return vl(e);if(e.$$typeof===_t)return rn(e)}throw Error(a(438,String(e)))}function Df(e){var n=null,s=xt.updateQueue;if(s!==null&&(n=s.memoCache),n==null){var o=xt.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(n={data:o.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),s===null&&(s=tc(),xt.updateQueue=s),s.memoCache=n,s=n.data[n.index],s===void 0)for(s=n.data[n.index]=Array(e),o=0;o<e;o++)s[o]=k;return n.index++,s}function dr(e,n){return typeof n=="function"?n(e):n}function nc(e){var n=Me();return Mf(n,ae,e)}function Mf(e,n,s){var o=e.queue;if(o===null)throw Error(a(311));o.lastRenderedReducer=s;var h=e.baseQueue,f=o.pending;if(f!==null){if(h!==null){var g=h.next;h.next=f.next,f.next=g}n.baseQueue=h=f,o.pending=null}if(f=e.baseState,h===null)e.memoizedState=f;else{n=h.next;var E=g=null,I=null,j=n,Y=!1;do{var $=j.lane&-536870913;if($!==j.lane?(Lt&$)===$:(fr&$)===$){var B=j.revertLane;if(B===0)I!==null&&(I=I.next={lane:0,revertLane:0,gesture:null,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null}),$===ro&&(Y=!0);else if((fr&B)===B){j=j.next,B===ro&&(Y=!0);continue}else $={lane:0,revertLane:j.revertLane,gesture:null,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null},I===null?(E=I=$,g=f):I=I.next=$,xt.lanes|=B,os|=B;$=j.action,ga&&s(f,$),f=j.hasEagerState?j.eagerState:s(f,$)}else B={lane:$,revertLane:j.revertLane,gesture:j.gesture,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null},I===null?(E=I=B,g=f):I=I.next=B,xt.lanes|=$,os|=$;j=j.next}while(j!==null&&j!==n);if(I===null?g=f:I.next=E,!qn(f,e.memoizedState)&&(qe=!0,Y&&(s=so,s!==null)))throw s;e.memoizedState=f,e.baseState=g,e.baseQueue=I,o.lastRenderedState=f}return h===null&&(o.lanes=0),[e.memoizedState,o.dispatch]}function Of(e){var n=Me(),s=n.queue;if(s===null)throw Error(a(311));s.lastRenderedReducer=e;var o=s.dispatch,h=s.pending,f=n.memoizedState;if(h!==null){s.pending=null;var g=h=h.next;do f=e(f,g.action),g=g.next;while(g!==h);qn(f,n.memoizedState)||(qe=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),s.lastRenderedState=f}return[f,o]}function vp(e,n,s){var o=xt,h=Me(),f=Gt;if(f){if(s===void 0)throw Error(a(407));s=s()}else s=n();var g=!qn((ae||h).memoizedState,s);if(g&&(h.memoizedState=s,qe=!0),h=h.queue,Uf(bp.bind(null,o,h,e),[e]),h.getSnapshot!==n||g||Be!==null&&Be.memoizedState.tag&1){if(o.flags|=2048,ho(9,{destroy:void 0},Tp.bind(null,o,h,s,n),null),ue===null)throw Error(a(349));f||(fr&127)!==0||Ep(o,n,s)}return s}function Ep(e,n,s){e.flags|=16384,e={getSnapshot:n,value:s},n=xt.updateQueue,n===null?(n=tc(),xt.updateQueue=n,n.stores=[e]):(s=n.stores,s===null?n.stores=[e]:s.push(e))}function Tp(e,n,s,o){n.value=s,n.getSnapshot=o,Sp(n)&&Ap(e)}function bp(e,n,s){return s(function(){Sp(n)&&Ap(e)})}function Sp(e){var n=e.getSnapshot;e=e.value;try{var s=n();return!qn(e,s)}catch{return!0}}function Ap(e){var n=aa(e,2);n!==null&&On(n,e,2)}function Vf(e){var n=wn();if(typeof e=="function"){var s=e;if(e=s(),ga){En(!0);try{s()}finally{En(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:dr,lastRenderedState:e},n}function wp(e,n,s,o){return e.baseState=s,Mf(e,ae,typeof o=="function"?o:dr)}function LT(e,n,s,o,h){if(sc(e))throw Error(a(485));if(e=n.action,e!==null){var f={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(g){f.listeners.push(g)}};G.T!==null?s(!0):f.isTransition=!1,o(f),s=n.pending,s===null?(f.next=n.pending=f,Rp(n,f)):(f.next=s.next,n.pending=s.next=f)}}function Rp(e,n){var s=n.action,o=n.payload,h=e.state;if(n.isTransition){var f=G.T,g={};G.T=g;try{var E=s(h,o),I=G.S;I!==null&&I(g,E),Ip(e,n,E)}catch(j){kf(e,n,j)}finally{f!==null&&g.types!==null&&(f.types=g.types),G.T=f}}else try{f=s(h,o),Ip(e,n,f)}catch(j){kf(e,n,j)}}function Ip(e,n,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(o){Cp(e,n,o)},function(o){return kf(e,n,o)}):Cp(e,n,s)}function Cp(e,n,s){n.status="fulfilled",n.value=s,Np(n),e.state=s,n=e.pending,n!==null&&(s=n.next,s===n?e.pending=null:(s=s.next,n.next=s,Rp(e,s)))}function kf(e,n,s){var o=e.pending;if(e.pending=null,o!==null){o=o.next;do n.status="rejected",n.reason=s,Np(n),n=n.next;while(n!==o)}e.action=null}function Np(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function xp(e,n){return n}function Dp(e,n){if(Gt){var s=ue.formState;if(s!==null){t:{var o=xt;if(Gt){if(ge){e:{for(var h=ge,f=ui;h.nodeType!==8;){if(!f){h=null;break e}if(h=hi(h.nextSibling),h===null){h=null;break e}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){ge=hi(h.nextSibling),o=h.data==="F!";break t}}Zr(o)}o=!1}o&&(n=s[0])}}return s=wn(),s.memoizedState=s.baseState=n,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:xp,lastRenderedState:n},s.queue=o,s=$p.bind(null,xt,o),o.dispatch=s,o=Vf(!1),f=Bf.bind(null,xt,!1,o.queue),o=wn(),h={state:n,dispatch:null,action:e,pending:null},o.queue=h,s=LT.bind(null,xt,h,f,s),h.dispatch=s,o.memoizedState=e,[n,s,!1]}function Mp(e){var n=Me();return Op(n,ae,e)}function Op(e,n,s){if(n=Mf(e,n,xp)[0],e=nc(dr)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var o=vl(n)}catch(g){throw g===ao?Qu:g}else o=n;n=Me();var h=n.queue,f=h.dispatch;return s!==n.memoizedState&&(xt.flags|=2048,ho(9,{destroy:void 0},PT.bind(null,h,s),null)),[o,f,e]}function PT(e,n){e.action=n}function Vp(e){var n=Me(),s=ae;if(s!==null)return Op(n,s,e);Me(),n=n.memoizedState,s=Me();var o=s.queue.dispatch;return s.memoizedState=e,[n,o,!1]}function ho(e,n,s,o){return e={tag:e,create:s,deps:o,inst:n,next:null},n=xt.updateQueue,n===null&&(n=tc(),xt.updateQueue=n),s=n.lastEffect,s===null?n.lastEffect=e.next=e:(o=s.next,s.next=e,e.next=o,n.lastEffect=e),e}function kp(){return Me().memoizedState}function ic(e,n,s,o){var h=wn();xt.flags|=e,h.memoizedState=ho(1|n,{destroy:void 0},s,o===void 0?null:o)}function rc(e,n,s,o){var h=Me();o=o===void 0?null:o;var f=h.memoizedState.inst;ae!==null&&o!==null&&Rf(o,ae.memoizedState.deps)?h.memoizedState=ho(n,f,s,o):(xt.flags|=e,h.memoizedState=ho(1|n,f,s,o))}function Up(e,n){ic(8390656,8,e,n)}function Uf(e,n){rc(2048,8,e,n)}function zT(e){xt.flags|=4;var n=xt.updateQueue;if(n===null)n=tc(),xt.updateQueue=n,n.events=[e];else{var s=n.events;s===null?n.events=[e]:s.push(e)}}function Lp(e){var n=Me().memoizedState;return zT({ref:n,nextImpl:e}),function(){if((Zt&2)!==0)throw Error(a(440));return n.impl.apply(void 0,arguments)}}function Pp(e,n){return rc(4,2,e,n)}function zp(e,n){return rc(4,4,e,n)}function jp(e,n){if(typeof n=="function"){e=e();var s=n(e);return function(){typeof s=="function"?s():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function Bp(e,n,s){s=s!=null?s.concat([e]):null,rc(4,4,jp.bind(null,n,e),s)}function Lf(){}function qp(e,n){var s=Me();n=n===void 0?null:n;var o=s.memoizedState;return n!==null&&Rf(n,o[1])?o[0]:(s.memoizedState=[e,n],e)}function Hp(e,n){var s=Me();n=n===void 0?null:n;var o=s.memoizedState;if(n!==null&&Rf(n,o[1]))return o[0];if(o=e(),ga){En(!0);try{e()}finally{En(!1)}}return s.memoizedState=[o,n],o}function Pf(e,n,s){return s===void 0||(fr&1073741824)!==0&&(Lt&261930)===0?e.memoizedState=n:(e.memoizedState=s,e=Fy(),xt.lanes|=e,os|=e,s)}function Fp(e,n,s,o){return qn(s,n)?s:lo.current!==null?(e=Pf(e,s,o),qn(e,n)||(qe=!0),e):(fr&42)===0||(fr&1073741824)!==0&&(Lt&261930)===0?(qe=!0,e.memoizedState=s):(e=Fy(),xt.lanes|=e,os|=e,n)}function Gp(e,n,s,o,h){var f=rt.p;rt.p=f!==0&&8>f?f:8;var g=G.T,E={};G.T=E,Bf(e,!1,n,s);try{var I=h(),j=G.S;if(j!==null&&j(E,I),I!==null&&typeof I=="object"&&typeof I.then=="function"){var Y=VT(I,o);El(e,n,Y,Kn(e))}else El(e,n,o,Kn(e))}catch($){El(e,n,{then:function(){},status:"rejected",reason:$},Kn())}finally{rt.p=f,g!==null&&E.types!==null&&(g.types=E.types),G.T=g}}function jT(){}function zf(e,n,s,o){if(e.tag!==5)throw Error(a(476));var h=Qp(e).queue;Gp(e,h,n,mt,s===null?jT:function(){return Yp(e),s(o)})}function Qp(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:mt,baseState:mt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:dr,lastRenderedState:mt},next:null};var s={};return n.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:dr,lastRenderedState:s},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function Yp(e){var n=Qp(e);n.next===null&&(n=e.alternate.memoizedState),El(e,n.next.queue,{},Kn())}function jf(){return rn(Ll)}function Kp(){return Me().memoizedState}function Xp(){return Me().memoizedState}function BT(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var s=Kn();e=es(s);var o=ns(n,e,s);o!==null&&(On(o,n,s),gl(o,n,s)),n={cache:gf()},e.payload=n;return}n=n.return}}function qT(e,n,s){var o=Kn();s={lane:o,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},sc(e)?Jp(n,s):(s=rf(e,n,s,o),s!==null&&(On(s,e,o),Zp(s,n,o)))}function $p(e,n,s){var o=Kn();El(e,n,s,o)}function El(e,n,s,o){var h={lane:o,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null};if(sc(e))Jp(n,h);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var g=n.lastRenderedState,E=f(g,s);if(h.hasEagerState=!0,h.eagerState=E,qn(E,g))return zu(e,n,h,0),ue===null&&Pu(),!1}catch{}finally{}if(s=rf(e,n,h,o),s!==null)return On(s,e,o),Zp(s,n,o),!0}return!1}function Bf(e,n,s,o){if(o={lane:2,revertLane:vd(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},sc(e)){if(n)throw Error(a(479))}else n=rf(e,s,o,2),n!==null&&On(n,e,2)}function sc(e){var n=e.alternate;return e===xt||n!==null&&n===xt}function Jp(e,n){uo=Zu=!0;var s=e.pending;s===null?n.next=n:(n.next=s.next,s.next=n),e.pending=n}function Zp(e,n,s){if((s&4194048)!==0){var o=n.lanes;o&=e.pendingLanes,s|=o,n.lanes=s,jr(e,s)}}var Tl={readContext:rn,use:ec,useCallback:we,useContext:we,useEffect:we,useImperativeHandle:we,useLayoutEffect:we,useInsertionEffect:we,useMemo:we,useReducer:we,useRef:we,useState:we,useDebugValue:we,useDeferredValue:we,useTransition:we,useSyncExternalStore:we,useId:we,useHostTransitionStatus:we,useFormState:we,useActionState:we,useOptimistic:we,useMemoCache:we,useCacheRefresh:we};Tl.useEffectEvent=we;var Wp={readContext:rn,use:ec,useCallback:function(e,n){return wn().memoizedState=[e,n===void 0?null:n],e},useContext:rn,useEffect:Up,useImperativeHandle:function(e,n,s){s=s!=null?s.concat([e]):null,ic(4194308,4,jp.bind(null,n,e),s)},useLayoutEffect:function(e,n){return ic(4194308,4,e,n)},useInsertionEffect:function(e,n){ic(4,2,e,n)},useMemo:function(e,n){var s=wn();n=n===void 0?null:n;var o=e();if(ga){En(!0);try{e()}finally{En(!1)}}return s.memoizedState=[o,n],o},useReducer:function(e,n,s){var o=wn();if(s!==void 0){var h=s(n);if(ga){En(!0);try{s(n)}finally{En(!1)}}}else h=n;return o.memoizedState=o.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},o.queue=e,e=e.dispatch=qT.bind(null,xt,e),[o.memoizedState,e]},useRef:function(e){var n=wn();return e={current:e},n.memoizedState=e},useState:function(e){e=Vf(e);var n=e.queue,s=$p.bind(null,xt,n);return n.dispatch=s,[e.memoizedState,s]},useDebugValue:Lf,useDeferredValue:function(e,n){var s=wn();return Pf(s,e,n)},useTransition:function(){var e=Vf(!1);return e=Gp.bind(null,xt,e.queue,!0,!1),wn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,s){var o=xt,h=wn();if(Gt){if(s===void 0)throw Error(a(407));s=s()}else{if(s=n(),ue===null)throw Error(a(349));(Lt&127)!==0||Ep(o,n,s)}h.memoizedState=s;var f={value:s,getSnapshot:n};return h.queue=f,Up(bp.bind(null,o,f,e),[e]),o.flags|=2048,ho(9,{destroy:void 0},Tp.bind(null,o,f,s,n),null),s},useId:function(){var e=wn(),n=ue.identifierPrefix;if(Gt){var s=Hi,o=qi;s=(o&~(1<<32-me(o)-1)).toString(32)+s,n="_"+n+"R_"+s,s=Wu++,0<s&&(n+="H"+s.toString(32)),n+="_"}else s=kT++,n="_"+n+"r_"+s.toString(32)+"_";return e.memoizedState=n},useHostTransitionStatus:jf,useFormState:Dp,useActionState:Dp,useOptimistic:function(e){var n=wn();n.memoizedState=n.baseState=e;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=s,n=Bf.bind(null,xt,!0,s),s.dispatch=n,[e,n]},useMemoCache:Df,useCacheRefresh:function(){return wn().memoizedState=BT.bind(null,xt)},useEffectEvent:function(e){var n=wn(),s={impl:e};return n.memoizedState=s,function(){if((Zt&2)!==0)throw Error(a(440));return s.impl.apply(void 0,arguments)}}},qf={readContext:rn,use:ec,useCallback:qp,useContext:rn,useEffect:Uf,useImperativeHandle:Bp,useInsertionEffect:Pp,useLayoutEffect:zp,useMemo:Hp,useReducer:nc,useRef:kp,useState:function(){return nc(dr)},useDebugValue:Lf,useDeferredValue:function(e,n){var s=Me();return Fp(s,ae.memoizedState,e,n)},useTransition:function(){var e=nc(dr)[0],n=Me().memoizedState;return[typeof e=="boolean"?e:vl(e),n]},useSyncExternalStore:vp,useId:Kp,useHostTransitionStatus:jf,useFormState:Mp,useActionState:Mp,useOptimistic:function(e,n){var s=Me();return wp(s,ae,e,n)},useMemoCache:Df,useCacheRefresh:Xp};qf.useEffectEvent=Lp;var ty={readContext:rn,use:ec,useCallback:qp,useContext:rn,useEffect:Uf,useImperativeHandle:Bp,useInsertionEffect:Pp,useLayoutEffect:zp,useMemo:Hp,useReducer:Of,useRef:kp,useState:function(){return Of(dr)},useDebugValue:Lf,useDeferredValue:function(e,n){var s=Me();return ae===null?Pf(s,e,n):Fp(s,ae.memoizedState,e,n)},useTransition:function(){var e=Of(dr)[0],n=Me().memoizedState;return[typeof e=="boolean"?e:vl(e),n]},useSyncExternalStore:vp,useId:Kp,useHostTransitionStatus:jf,useFormState:Vp,useActionState:Vp,useOptimistic:function(e,n){var s=Me();return ae!==null?wp(s,ae,e,n):(s.baseState=e,[e,s.queue.dispatch])},useMemoCache:Df,useCacheRefresh:Xp};ty.useEffectEvent=Lp;function Hf(e,n,s,o){n=e.memoizedState,s=s(o,n),s=s==null?n:S({},n,s),e.memoizedState=s,e.lanes===0&&(e.updateQueue.baseState=s)}var Ff={enqueueSetState:function(e,n,s){e=e._reactInternals;var o=Kn(),h=es(o);h.payload=n,s!=null&&(h.callback=s),n=ns(e,h,o),n!==null&&(On(n,e,o),gl(n,e,o))},enqueueReplaceState:function(e,n,s){e=e._reactInternals;var o=Kn(),h=es(o);h.tag=1,h.payload=n,s!=null&&(h.callback=s),n=ns(e,h,o),n!==null&&(On(n,e,o),gl(n,e,o))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var s=Kn(),o=es(s);o.tag=2,n!=null&&(o.callback=n),n=ns(e,o,s),n!==null&&(On(n,e,s),gl(n,e,s))}};function ey(e,n,s,o,h,f,g){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,f,g):n.prototype&&n.prototype.isPureReactComponent?!ol(s,o)||!ol(h,f):!0}function ny(e,n,s,o){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(s,o),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(s,o),n.state!==e&&Ff.enqueueReplaceState(n,n.state,null)}function pa(e,n){var s=n;if("ref"in n){s={};for(var o in n)o!=="ref"&&(s[o]=n[o])}if(e=e.defaultProps){s===n&&(s=S({},s));for(var h in e)s[h]===void 0&&(s[h]=e[h])}return s}function iy(e){Lu(e)}function ry(e){console.error(e)}function sy(e){Lu(e)}function ac(e,n){try{var s=e.onUncaughtError;s(n.value,{componentStack:n.stack})}catch(o){setTimeout(function(){throw o})}}function ay(e,n,s){try{var o=e.onCaughtError;o(s.value,{componentStack:s.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Gf(e,n,s){return s=es(s),s.tag=3,s.payload={element:null},s.callback=function(){ac(e,n)},s}function oy(e){return e=es(e),e.tag=3,e}function ly(e,n,s,o){var h=s.type.getDerivedStateFromError;if(typeof h=="function"){var f=o.value;e.payload=function(){return h(f)},e.callback=function(){ay(n,s,o)}}var g=s.stateNode;g!==null&&typeof g.componentDidCatch=="function"&&(e.callback=function(){ay(n,s,o),typeof h!="function"&&(ls===null?ls=new Set([this]):ls.add(this));var E=o.stack;this.componentDidCatch(o.value,{componentStack:E!==null?E:""})})}function HT(e,n,s,o,h){if(s.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(n=s.alternate,n!==null&&io(n,s,h,!0),s=Fn.current,s!==null){switch(s.tag){case 31:case 13:return ci===null?_c():s.alternate===null&&Re===0&&(Re=3),s.flags&=-257,s.flags|=65536,s.lanes=h,o===Yu?s.flags|=16384:(n=s.updateQueue,n===null?s.updateQueue=new Set([o]):n.add(o),pd(e,o,h)),!1;case 22:return s.flags|=65536,o===Yu?s.flags|=16384:(n=s.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([o])},s.updateQueue=n):(s=n.retryQueue,s===null?n.retryQueue=new Set([o]):s.add(o)),pd(e,o,h)),!1}throw Error(a(435,s.tag))}return pd(e,o,h),_c(),!1}if(Gt)return n=Fn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,o!==cf&&(e=Error(a(422),{cause:o}),cl(ai(e,s)))):(o!==cf&&(n=Error(a(423),{cause:o}),cl(ai(n,s))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,o=ai(o,s),h=Gf(e.stateNode,o,h),Tf(e,h),Re!==4&&(Re=2)),!1;var f=Error(a(520),{cause:o});if(f=ai(f,s),Nl===null?Nl=[f]:Nl.push(f),Re!==4&&(Re=2),n===null)return!0;o=ai(o,s),s=n;do{switch(s.tag){case 3:return s.flags|=65536,e=h&-h,s.lanes|=e,e=Gf(s.stateNode,o,e),Tf(s,e),!1;case 1:if(n=s.type,f=s.stateNode,(s.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(ls===null||!ls.has(f))))return s.flags|=65536,h&=-h,s.lanes|=h,h=oy(h),ly(h,e,s,o),Tf(s,h),!1}s=s.return}while(s!==null);return!1}var Qf=Error(a(461)),qe=!1;function sn(e,n,s,o){n.child=e===null?fp(n,null,s,o):ma(n,e.child,s,o)}function uy(e,n,s,o,h){s=s.render;var f=n.ref;if("ref"in o){var g={};for(var E in o)E!=="ref"&&(g[E]=o[E])}else g=o;return ca(n),o=If(e,n,s,g,f,h),E=Cf(),e!==null&&!qe?(Nf(e,n,h),mr(e,n,h)):(Gt&&E&&lf(n),n.flags|=1,sn(e,n,o,h),n.child)}function cy(e,n,s,o,h){if(e===null){var f=s.type;return typeof f=="function"&&!sf(f)&&f.defaultProps===void 0&&s.compare===null?(n.tag=15,n.type=f,hy(e,n,f,o,h)):(e=Bu(s.type,null,o,n,n.mode,h),e.ref=n.ref,e.return=n,n.child=e)}if(f=e.child,!td(e,h)){var g=f.memoizedProps;if(s=s.compare,s=s!==null?s:ol,s(g,o)&&e.ref===n.ref)return mr(e,n,h)}return n.flags|=1,e=lr(f,o),e.ref=n.ref,e.return=n,n.child=e}function hy(e,n,s,o,h){if(e!==null){var f=e.memoizedProps;if(ol(f,o)&&e.ref===n.ref)if(qe=!1,n.pendingProps=o=f,td(e,h))(e.flags&131072)!==0&&(qe=!0);else return n.lanes=e.lanes,mr(e,n,h)}return Yf(e,n,s,o,h)}function fy(e,n,s,o){var h=o.children,f=e!==null?e.memoizedState:null;if(e===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|s:s,e!==null){for(o=n.child=e.child,h=0;o!==null;)h=h|o.lanes|o.childLanes,o=o.sibling;o=h&~f}else o=0,n.child=null;return dy(e,n,f,s,o)}if((s&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&Gu(n,f!==null?f.cachePool:null),f!==null?gp(n,f):Sf(),pp(n);else return o=n.lanes=536870912,dy(e,n,f!==null?f.baseLanes|s:s,s,o)}else f!==null?(Gu(n,f.cachePool),gp(n,f),rs(),n.memoizedState=null):(e!==null&&Gu(n,null),Sf(),rs());return sn(e,n,h,s),n.child}function bl(e,n){return e!==null&&e.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function dy(e,n,s,o,h){var f=yf();return f=f===null?null:{parent:je._currentValue,pool:f},n.memoizedState={baseLanes:s,cachePool:f},e!==null&&Gu(n,null),Sf(),pp(n),e!==null&&io(e,n,o,!0),n.childLanes=h,null}function oc(e,n){return n=uc({mode:n.mode,children:n.children},e.mode),n.ref=e.ref,e.child=n,n.return=e,n}function my(e,n,s){return ma(n,e.child,null,s),e=oc(n,n.pendingProps),e.flags|=2,Gn(n),n.memoizedState=null,e}function FT(e,n,s){var o=n.pendingProps,h=(n.flags&128)!==0;if(n.flags&=-129,e===null){if(Gt){if(o.mode==="hidden")return e=oc(n,o),n.lanes=536870912,bl(null,e);if(wf(n),(e=ge)?(e=R_(e,ui),e=e!==null&&e.data==="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:$r!==null?{id:qi,overflow:Hi}:null,retryLane:536870912,hydrationErrors:null},s=Jg(e),s.return=n,n.child=s,nn=n,ge=null)):e=null,e===null)throw Zr(n);return n.lanes=536870912,null}return oc(n,o)}var f=e.memoizedState;if(f!==null){var g=f.dehydrated;if(wf(n),h)if(n.flags&256)n.flags&=-257,n=my(e,n,s);else if(n.memoizedState!==null)n.child=e.child,n.flags|=128,n=null;else throw Error(a(558));else if(qe||io(e,n,s,!1),h=(s&e.childLanes)!==0,qe||h){if(o=ue,o!==null&&(g=Br(o,s),g!==0&&g!==f.retryLane))throw f.retryLane=g,aa(e,g),On(o,e,g),Qf;_c(),n=my(e,n,s)}else e=f.treeContext,ge=hi(g.nextSibling),nn=n,Gt=!0,Jr=null,ui=!1,e!==null&&tp(n,e),n=oc(n,o),n.flags|=4096;return n}return e=lr(e.child,{mode:o.mode,children:o.children}),e.ref=n.ref,n.child=e,e.return=n,e}function lc(e,n){var s=n.ref;if(s===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(a(284));(e===null||e.ref!==s)&&(n.flags|=4194816)}}function Yf(e,n,s,o,h){return ca(n),s=If(e,n,s,o,void 0,h),o=Cf(),e!==null&&!qe?(Nf(e,n,h),mr(e,n,h)):(Gt&&o&&lf(n),n.flags|=1,sn(e,n,s,h),n.child)}function gy(e,n,s,o,h,f){return ca(n),n.updateQueue=null,s=_p(n,o,s,h),yp(e),o=Cf(),e!==null&&!qe?(Nf(e,n,f),mr(e,n,f)):(Gt&&o&&lf(n),n.flags|=1,sn(e,n,s,f),n.child)}function py(e,n,s,o,h){if(ca(n),n.stateNode===null){var f=Wa,g=s.contextType;typeof g=="object"&&g!==null&&(f=rn(g)),f=new s(o,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Ff,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=o,f.state=n.memoizedState,f.refs={},vf(n),g=s.contextType,f.context=typeof g=="object"&&g!==null?rn(g):Wa,f.state=n.memoizedState,g=s.getDerivedStateFromProps,typeof g=="function"&&(Hf(n,s,g,o),f.state=n.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(g=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),g!==f.state&&Ff.enqueueReplaceState(f,f.state,null),yl(n,o,f,h),pl(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!0}else if(e===null){f=n.stateNode;var E=n.memoizedProps,I=pa(s,E);f.props=I;var j=f.context,Y=s.contextType;g=Wa,typeof Y=="object"&&Y!==null&&(g=rn(Y));var $=s.getDerivedStateFromProps;Y=typeof $=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,Y||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||j!==g)&&ny(n,f,o,g),ts=!1;var B=n.memoizedState;f.state=B,yl(n,o,f,h),pl(),j=n.memoizedState,E||B!==j||ts?(typeof $=="function"&&(Hf(n,s,$,o),j=n.memoizedState),(I=ts||ey(n,s,I,o,B,j,g))?(Y||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=o,n.memoizedState=j),f.props=o,f.state=j,f.context=g,o=I):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!1)}else{f=n.stateNode,Ef(e,n),g=n.memoizedProps,Y=pa(s,g),f.props=Y,$=n.pendingProps,B=f.context,j=s.contextType,I=Wa,typeof j=="object"&&j!==null&&(I=rn(j)),E=s.getDerivedStateFromProps,(j=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(g!==$||B!==I)&&ny(n,f,o,I),ts=!1,B=n.memoizedState,f.state=B,yl(n,o,f,h),pl();var H=n.memoizedState;g!==$||B!==H||ts||e!==null&&e.dependencies!==null&&Hu(e.dependencies)?(typeof E=="function"&&(Hf(n,s,E,o),H=n.memoizedState),(Y=ts||ey(n,s,Y,o,B,H,I)||e!==null&&e.dependencies!==null&&Hu(e.dependencies))?(j||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(o,H,I),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(o,H,I)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||g===e.memoizedProps&&B===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&B===e.memoizedState||(n.flags|=1024),n.memoizedProps=o,n.memoizedState=H),f.props=o,f.state=H,f.context=I,o=Y):(typeof f.componentDidUpdate!="function"||g===e.memoizedProps&&B===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&B===e.memoizedState||(n.flags|=1024),o=!1)}return f=o,lc(e,n),o=(n.flags&128)!==0,f||o?(f=n.stateNode,s=o&&typeof s.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,e!==null&&o?(n.child=ma(n,e.child,null,h),n.child=ma(n,null,s,h)):sn(e,n,s,h),n.memoizedState=f.state,e=n.child):e=mr(e,n,h),e}function yy(e,n,s,o){return la(),n.flags|=256,sn(e,n,s,o),n.child}var Kf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Xf(e){return{baseLanes:e,cachePool:ap()}}function $f(e,n,s){return e=e!==null?e.childLanes&~s:0,n&&(e|=Yn),e}function _y(e,n,s){var o=n.pendingProps,h=!1,f=(n.flags&128)!==0,g;if((g=f)||(g=e!==null&&e.memoizedState===null?!1:(De.current&2)!==0),g&&(h=!0,n.flags&=-129),g=(n.flags&32)!==0,n.flags&=-33,e===null){if(Gt){if(h?is(n):rs(),(e=ge)?(e=R_(e,ui),e=e!==null&&e.data!=="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:$r!==null?{id:qi,overflow:Hi}:null,retryLane:536870912,hydrationErrors:null},s=Jg(e),s.return=n,n.child=s,nn=n,ge=null)):e=null,e===null)throw Zr(n);return Md(e)?n.lanes=32:n.lanes=536870912,null}var E=o.children;return o=o.fallback,h?(rs(),h=n.mode,E=uc({mode:"hidden",children:E},h),o=oa(o,h,s,null),E.return=n,o.return=n,E.sibling=o,n.child=E,o=n.child,o.memoizedState=Xf(s),o.childLanes=$f(e,g,s),n.memoizedState=Kf,bl(null,o)):(is(n),Jf(n,E))}var I=e.memoizedState;if(I!==null&&(E=I.dehydrated,E!==null)){if(f)n.flags&256?(is(n),n.flags&=-257,n=Zf(e,n,s)):n.memoizedState!==null?(rs(),n.child=e.child,n.flags|=128,n=null):(rs(),E=o.fallback,h=n.mode,o=uc({mode:"visible",children:o.children},h),E=oa(E,h,s,null),E.flags|=2,o.return=n,E.return=n,o.sibling=E,n.child=o,ma(n,e.child,null,s),o=n.child,o.memoizedState=Xf(s),o.childLanes=$f(e,g,s),n.memoizedState=Kf,n=bl(null,o));else if(is(n),Md(E)){if(g=E.nextSibling&&E.nextSibling.dataset,g)var j=g.dgst;g=j,o=Error(a(419)),o.stack="",o.digest=g,cl({value:o,source:null,stack:null}),n=Zf(e,n,s)}else if(qe||io(e,n,s,!1),g=(s&e.childLanes)!==0,qe||g){if(g=ue,g!==null&&(o=Br(g,s),o!==0&&o!==I.retryLane))throw I.retryLane=o,aa(e,o),On(g,e,o),Qf;Dd(E)||_c(),n=Zf(e,n,s)}else Dd(E)?(n.flags|=192,n.child=e.child,n=null):(e=I.treeContext,ge=hi(E.nextSibling),nn=n,Gt=!0,Jr=null,ui=!1,e!==null&&tp(n,e),n=Jf(n,o.children),n.flags|=4096);return n}return h?(rs(),E=o.fallback,h=n.mode,I=e.child,j=I.sibling,o=lr(I,{mode:"hidden",children:o.children}),o.subtreeFlags=I.subtreeFlags&65011712,j!==null?E=lr(j,E):(E=oa(E,h,s,null),E.flags|=2),E.return=n,o.return=n,o.sibling=E,n.child=o,bl(null,o),o=n.child,E=e.child.memoizedState,E===null?E=Xf(s):(h=E.cachePool,h!==null?(I=je._currentValue,h=h.parent!==I?{parent:I,pool:I}:h):h=ap(),E={baseLanes:E.baseLanes|s,cachePool:h}),o.memoizedState=E,o.childLanes=$f(e,g,s),n.memoizedState=Kf,bl(e.child,o)):(is(n),s=e.child,e=s.sibling,s=lr(s,{mode:"visible",children:o.children}),s.return=n,s.sibling=null,e!==null&&(g=n.deletions,g===null?(n.deletions=[e],n.flags|=16):g.push(e)),n.child=s,n.memoizedState=null,s)}function Jf(e,n){return n=uc({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function uc(e,n){return e=Hn(22,e,null,n),e.lanes=0,e}function Zf(e,n,s){return ma(n,e.child,null,s),e=Jf(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function vy(e,n,s){e.lanes|=n;var o=e.alternate;o!==null&&(o.lanes|=n),df(e.return,n,s)}function Wf(e,n,s,o,h,f){var g=e.memoizedState;g===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:o,tail:s,tailMode:h,treeForkCount:f}:(g.isBackwards=n,g.rendering=null,g.renderingStartTime=0,g.last=o,g.tail=s,g.tailMode=h,g.treeForkCount=f)}function Ey(e,n,s){var o=n.pendingProps,h=o.revealOrder,f=o.tail;o=o.children;var g=De.current,E=(g&2)!==0;if(E?(g=g&1|2,n.flags|=128):g&=1,st(De,g),sn(e,n,o,s),o=Gt?ul:0,!E&&e!==null&&(e.flags&128)!==0)t:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&vy(e,s,n);else if(e.tag===19)vy(e,s,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break t;for(;e.sibling===null;){if(e.return===null||e.return===n)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(h){case"forwards":for(s=n.child,h=null;s!==null;)e=s.alternate,e!==null&&Ju(e)===null&&(h=s),s=s.sibling;s=h,s===null?(h=n.child,n.child=null):(h=s.sibling,s.sibling=null),Wf(n,!1,h,s,f,o);break;case"backwards":case"unstable_legacy-backwards":for(s=null,h=n.child,n.child=null;h!==null;){if(e=h.alternate,e!==null&&Ju(e)===null){n.child=h;break}e=h.sibling,h.sibling=s,s=h,h=e}Wf(n,!0,s,null,f,o);break;case"together":Wf(n,!1,null,null,void 0,o);break;default:n.memoizedState=null}return n.child}function mr(e,n,s){if(e!==null&&(n.dependencies=e.dependencies),os|=n.lanes,(s&n.childLanes)===0)if(e!==null){if(io(e,n,s,!1),(s&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(a(153));if(n.child!==null){for(e=n.child,s=lr(e,e.pendingProps),n.child=s,s.return=n;e.sibling!==null;)e=e.sibling,s=s.sibling=lr(e,e.pendingProps),s.return=n;s.sibling=null}return n.child}function td(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&Hu(e)))}function GT(e,n,s){switch(n.tag){case 3:ke(n,n.stateNode.containerInfo),Wr(n,je,e.memoizedState.cache),la();break;case 27:case 5:Vr(n);break;case 4:ke(n,n.stateNode.containerInfo);break;case 10:Wr(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,wf(n),null;break;case 13:var o=n.memoizedState;if(o!==null)return o.dehydrated!==null?(is(n),n.flags|=128,null):(s&n.child.childLanes)!==0?_y(e,n,s):(is(n),e=mr(e,n,s),e!==null?e.sibling:null);is(n);break;case 19:var h=(e.flags&128)!==0;if(o=(s&n.childLanes)!==0,o||(io(e,n,s,!1),o=(s&n.childLanes)!==0),h){if(o)return Ey(e,n,s);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),st(De,De.current),o)break;return null;case 22:return n.lanes=0,fy(e,n,s,n.pendingProps);case 24:Wr(n,je,e.memoizedState.cache)}return mr(e,n,s)}function Ty(e,n,s){if(e!==null)if(e.memoizedProps!==n.pendingProps)qe=!0;else{if(!td(e,s)&&(n.flags&128)===0)return qe=!1,GT(e,n,s);qe=(e.flags&131072)!==0}else qe=!1,Gt&&(n.flags&1048576)!==0&&Wg(n,ul,n.index);switch(n.lanes=0,n.tag){case 16:t:{var o=n.pendingProps;if(e=fa(n.elementType),n.type=e,typeof e=="function")sf(e)?(o=pa(e,o),n.tag=1,n=py(null,n,e,o,s)):(n.tag=0,n=Yf(null,n,e,o,s));else{if(e!=null){var h=e.$$typeof;if(h===Ot){n.tag=11,n=uy(null,n,e,o,s);break t}else if(h===N){n.tag=14,n=cy(null,n,e,o,s);break t}}throw n=ie(e)||e,Error(a(306,n,""))}}return n;case 0:return Yf(e,n,n.type,n.pendingProps,s);case 1:return o=n.type,h=pa(o,n.pendingProps),py(e,n,o,h,s);case 3:t:{if(ke(n,n.stateNode.containerInfo),e===null)throw Error(a(387));o=n.pendingProps;var f=n.memoizedState;h=f.element,Ef(e,n),yl(n,o,null,s);var g=n.memoizedState;if(o=g.cache,Wr(n,je,o),o!==f.cache&&mf(n,[je],s,!0),pl(),o=g.element,f.isDehydrated)if(f={element:o,isDehydrated:!1,cache:g.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=yy(e,n,o,s);break t}else if(o!==h){h=ai(Error(a(424)),n),cl(h),n=yy(e,n,o,s);break t}else{switch(e=n.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(ge=hi(e.firstChild),nn=n,Gt=!0,Jr=null,ui=!0,s=fp(n,null,o,s),n.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling}else{if(la(),o===h){n=mr(e,n,s);break t}sn(e,n,o,s)}n=n.child}return n;case 26:return lc(e,n),e===null?(s=M_(n.type,null,n.pendingProps,null))?n.memoizedState=s:Gt||(s=n.type,e=n.pendingProps,o=wc(Ct.current).createElement(s),o[Se]=n,o[ze]=e,an(o,s,e),Ae(o),n.stateNode=o):n.memoizedState=M_(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return Vr(n),e===null&&Gt&&(o=n.stateNode=N_(n.type,n.pendingProps,Ct.current),nn=n,ui=!0,h=ge,fs(n.type)?(Od=h,ge=hi(o.firstChild)):ge=h),sn(e,n,n.pendingProps.children,s),lc(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&Gt&&((h=o=ge)&&(o=Tb(o,n.type,n.pendingProps,ui),o!==null?(n.stateNode=o,nn=n,ge=hi(o.firstChild),ui=!1,h=!0):h=!1),h||Zr(n)),Vr(n),h=n.type,f=n.pendingProps,g=e!==null?e.memoizedProps:null,o=f.children,Cd(h,f)?o=null:g!==null&&Cd(h,g)&&(n.flags|=32),n.memoizedState!==null&&(h=If(e,n,UT,null,null,s),Ll._currentValue=h),lc(e,n),sn(e,n,o,s),n.child;case 6:return e===null&&Gt&&((e=s=ge)&&(s=bb(s,n.pendingProps,ui),s!==null?(n.stateNode=s,nn=n,ge=null,e=!0):e=!1),e||Zr(n)),null;case 13:return _y(e,n,s);case 4:return ke(n,n.stateNode.containerInfo),o=n.pendingProps,e===null?n.child=ma(n,null,o,s):sn(e,n,o,s),n.child;case 11:return uy(e,n,n.type,n.pendingProps,s);case 7:return sn(e,n,n.pendingProps,s),n.child;case 8:return sn(e,n,n.pendingProps.children,s),n.child;case 12:return sn(e,n,n.pendingProps.children,s),n.child;case 10:return o=n.pendingProps,Wr(n,n.type,o.value),sn(e,n,o.children,s),n.child;case 9:return h=n.type._context,o=n.pendingProps.children,ca(n),h=rn(h),o=o(h),n.flags|=1,sn(e,n,o,s),n.child;case 14:return cy(e,n,n.type,n.pendingProps,s);case 15:return hy(e,n,n.type,n.pendingProps,s);case 19:return Ey(e,n,s);case 31:return FT(e,n,s);case 22:return fy(e,n,s,n.pendingProps);case 24:return ca(n),o=rn(je),e===null?(h=yf(),h===null&&(h=ue,f=gf(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=s),h=f),n.memoizedState={parent:o,cache:h},vf(n),Wr(n,je,h)):((e.lanes&s)!==0&&(Ef(e,n),yl(n,null,null,s),pl()),h=e.memoizedState,f=n.memoizedState,h.parent!==o?(h={parent:o,cache:o},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),Wr(n,je,o)):(o=f.cache,Wr(n,je,o),o!==h.cache&&mf(n,[je],s,!0))),sn(e,n,n.pendingProps.children,s),n.child;case 29:throw n.pendingProps}throw Error(a(156,n.tag))}function gr(e){e.flags|=4}function ed(e,n,s,o,h){if((n=(e.mode&32)!==0)&&(n=!1),n){if(e.flags|=16777216,(h&335544128)===h)if(e.stateNode.complete)e.flags|=8192;else if(Ky())e.flags|=8192;else throw da=Yu,_f}else e.flags&=-16777217}function by(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!L_(n))if(Ky())e.flags|=8192;else throw da=Yu,_f}function cc(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?La():536870912,e.lanes|=n,po|=n)}function Sl(e,n){if(!Gt)switch(e.tailMode){case"hidden":n=e.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?e.tail=null:s.sibling=null;break;case"collapsed":s=e.tail;for(var o=null;s!==null;)s.alternate!==null&&(o=s),s=s.sibling;o===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function pe(e){var n=e.alternate!==null&&e.alternate.child===e.child,s=0,o=0;if(n)for(var h=e.child;h!==null;)s|=h.lanes|h.childLanes,o|=h.subtreeFlags&65011712,o|=h.flags&65011712,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)s|=h.lanes|h.childLanes,o|=h.subtreeFlags,o|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=o,e.childLanes=s,n}function QT(e,n,s){var o=n.pendingProps;switch(uf(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return pe(n),null;case 1:return pe(n),null;case 3:return s=n.stateNode,o=null,e!==null&&(o=e.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),hr(je),de(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(e===null||e.child===null)&&(no(n)?gr(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,hf())),pe(n),null;case 26:var h=n.type,f=n.memoizedState;return e===null?(gr(n),f!==null?(pe(n),by(n,f)):(pe(n),ed(n,h,null,o,s))):f?f!==e.memoizedState?(gr(n),pe(n),by(n,f)):(pe(n),n.flags&=-16777217):(e=e.memoizedProps,e!==o&&gr(n),pe(n),ed(n,h,e,o,s)),null;case 27:if(Ls(n),s=Ct.current,h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&gr(n);else{if(!o){if(n.stateNode===null)throw Error(a(166));return pe(n),null}e=ot.current,no(n)?ep(n):(e=N_(h,o,s),n.stateNode=e,gr(n))}return pe(n),null;case 5:if(Ls(n),h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&gr(n);else{if(!o){if(n.stateNode===null)throw Error(a(166));return pe(n),null}if(f=ot.current,no(n))ep(n);else{var g=wc(Ct.current);switch(f){case 1:f=g.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:f=g.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":f=g.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":f=g.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":f=g.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof o.is=="string"?g.createElement("select",{is:o.is}):g.createElement("select"),o.multiple?f.multiple=!0:o.size&&(f.size=o.size);break;default:f=typeof o.is=="string"?g.createElement(h,{is:o.is}):g.createElement(h)}}f[Se]=n,f[ze]=o;t:for(g=n.child;g!==null;){if(g.tag===5||g.tag===6)f.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===n)break t;for(;g.sibling===null;){if(g.return===null||g.return===n)break t;g=g.return}g.sibling.return=g.return,g=g.sibling}n.stateNode=f;t:switch(an(f,h,o),h){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break t;case"img":o=!0;break t;default:o=!1}o&&gr(n)}}return pe(n),ed(n,n.type,e===null?null:e.memoizedProps,n.pendingProps,s),null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==o&&gr(n);else{if(typeof o!="string"&&n.stateNode===null)throw Error(a(166));if(e=Ct.current,no(n)){if(e=n.stateNode,s=n.memoizedProps,o=null,h=nn,h!==null)switch(h.tag){case 27:case 5:o=h.memoizedProps}e[Se]=n,e=!!(e.nodeValue===s||o!==null&&o.suppressHydrationWarning===!0||__(e.nodeValue,s)),e||Zr(n,!0)}else e=wc(e).createTextNode(o),e[Se]=n,n.stateNode=e}return pe(n),null;case 31:if(s=n.memoizedState,e===null||e.memoizedState!==null){if(o=no(n),s!==null){if(e===null){if(!o)throw Error(a(318));if(e=n.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(557));e[Se]=n}else la(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;pe(n),e=!1}else s=hf(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=s),e=!0;if(!e)return n.flags&256?(Gn(n),n):(Gn(n),null);if((n.flags&128)!==0)throw Error(a(558))}return pe(n),null;case 13:if(o=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=no(n),o!==null&&o.dehydrated!==null){if(e===null){if(!h)throw Error(a(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(a(317));h[Se]=n}else la(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;pe(n),h=!1}else h=hf(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(Gn(n),n):(Gn(n),null)}return Gn(n),(n.flags&128)!==0?(n.lanes=s,n):(s=o!==null,e=e!==null&&e.memoizedState!==null,s&&(o=n.child,h=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(h=o.alternate.memoizedState.cachePool.pool),f=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),f!==h&&(o.flags|=2048)),s!==e&&s&&(n.child.flags|=8192),cc(n,n.updateQueue),pe(n),null);case 4:return de(),e===null&&Sd(n.stateNode.containerInfo),pe(n),null;case 10:return hr(n.type),pe(n),null;case 19:if(X(De),o=n.memoizedState,o===null)return pe(n),null;if(h=(n.flags&128)!==0,f=o.rendering,f===null)if(h)Sl(o,!1);else{if(Re!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(f=Ju(e),f!==null){for(n.flags|=128,Sl(o,!1),e=f.updateQueue,n.updateQueue=e,cc(n,e),n.subtreeFlags=0,e=s,s=n.child;s!==null;)$g(s,e),s=s.sibling;return st(De,De.current&1|2),Gt&&ur(n,o.treeForkCount),n.child}e=e.sibling}o.tail!==null&&$e()>gc&&(n.flags|=128,h=!0,Sl(o,!1),n.lanes=4194304)}else{if(!h)if(e=Ju(f),e!==null){if(n.flags|=128,h=!0,e=e.updateQueue,n.updateQueue=e,cc(n,e),Sl(o,!0),o.tail===null&&o.tailMode==="hidden"&&!f.alternate&&!Gt)return pe(n),null}else 2*$e()-o.renderingStartTime>gc&&s!==536870912&&(n.flags|=128,h=!0,Sl(o,!1),n.lanes=4194304);o.isBackwards?(f.sibling=n.child,n.child=f):(e=o.last,e!==null?e.sibling=f:n.child=f,o.last=f)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=$e(),e.sibling=null,s=De.current,st(De,h?s&1|2:s&1),Gt&&ur(n,o.treeForkCount),e):(pe(n),null);case 22:case 23:return Gn(n),Af(),o=n.memoizedState!==null,e!==null?e.memoizedState!==null!==o&&(n.flags|=8192):o&&(n.flags|=8192),o?(s&536870912)!==0&&(n.flags&128)===0&&(pe(n),n.subtreeFlags&6&&(n.flags|=8192)):pe(n),s=n.updateQueue,s!==null&&cc(n,s.retryQueue),s=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),o=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),o!==s&&(n.flags|=2048),e!==null&&X(ha),null;case 24:return s=null,e!==null&&(s=e.memoizedState.cache),n.memoizedState.cache!==s&&(n.flags|=2048),hr(je),pe(n),null;case 25:return null;case 30:return null}throw Error(a(156,n.tag))}function YT(e,n){switch(uf(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return hr(je),de(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return Ls(n),null;case 31:if(n.memoizedState!==null){if(Gn(n),n.alternate===null)throw Error(a(340));la()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 13:if(Gn(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(a(340));la()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return X(De),null;case 4:return de(),null;case 10:return hr(n.type),null;case 22:case 23:return Gn(n),Af(),e!==null&&X(ha),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return hr(je),null;case 25:return null;default:return null}}function Sy(e,n){switch(uf(n),n.tag){case 3:hr(je),de();break;case 26:case 27:case 5:Ls(n);break;case 4:de();break;case 31:n.memoizedState!==null&&Gn(n);break;case 13:Gn(n);break;case 19:X(De);break;case 10:hr(n.type);break;case 22:case 23:Gn(n),Af(),e!==null&&X(ha);break;case 24:hr(je)}}function Al(e,n){try{var s=n.updateQueue,o=s!==null?s.lastEffect:null;if(o!==null){var h=o.next;s=h;do{if((s.tag&e)===e){o=void 0;var f=s.create,g=s.inst;o=f(),g.destroy=o}s=s.next}while(s!==h)}}catch(E){ne(n,n.return,E)}}function ss(e,n,s){try{var o=n.updateQueue,h=o!==null?o.lastEffect:null;if(h!==null){var f=h.next;o=f;do{if((o.tag&e)===e){var g=o.inst,E=g.destroy;if(E!==void 0){g.destroy=void 0,h=n;var I=s,j=E;try{j()}catch(Y){ne(h,I,Y)}}}o=o.next}while(o!==f)}}catch(Y){ne(n,n.return,Y)}}function Ay(e){var n=e.updateQueue;if(n!==null){var s=e.stateNode;try{mp(n,s)}catch(o){ne(e,e.return,o)}}}function wy(e,n,s){s.props=pa(e.type,e.memoizedProps),s.state=e.memoizedState;try{s.componentWillUnmount()}catch(o){ne(e,n,o)}}function wl(e,n){try{var s=e.ref;if(s!==null){switch(e.tag){case 26:case 27:case 5:var o=e.stateNode;break;case 30:o=e.stateNode;break;default:o=e.stateNode}typeof s=="function"?e.refCleanup=s(o):s.current=o}}catch(h){ne(e,n,h)}}function Fi(e,n){var s=e.ref,o=e.refCleanup;if(s!==null)if(typeof o=="function")try{o()}catch(h){ne(e,n,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(h){ne(e,n,h)}else s.current=null}function Ry(e){var n=e.type,s=e.memoizedProps,o=e.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":s.autoFocus&&o.focus();break t;case"img":s.src?o.src=s.src:s.srcSet&&(o.srcset=s.srcSet)}}catch(h){ne(e,e.return,h)}}function nd(e,n,s){try{var o=e.stateNode;gb(o,e.type,s,n),o[ze]=n}catch(h){ne(e,e.return,h)}}function Iy(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&fs(e.type)||e.tag===4}function id(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||Iy(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&fs(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function rd(e,n,s){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(e,n):(n=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,n.appendChild(e),s=s._reactRootContainer,s!=null||n.onclick!==null||(n.onclick=_i));else if(o!==4&&(o===27&&fs(e.type)&&(s=e.stateNode,n=null),e=e.child,e!==null))for(rd(e,n,s),e=e.sibling;e!==null;)rd(e,n,s),e=e.sibling}function hc(e,n,s){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?s.insertBefore(e,n):s.appendChild(e);else if(o!==4&&(o===27&&fs(e.type)&&(s=e.stateNode),e=e.child,e!==null))for(hc(e,n,s),e=e.sibling;e!==null;)hc(e,n,s),e=e.sibling}function Cy(e){var n=e.stateNode,s=e.memoizedProps;try{for(var o=e.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);an(n,o,s),n[Se]=e,n[ze]=s}catch(f){ne(e,e.return,f)}}var pr=!1,He=!1,sd=!1,Ny=typeof WeakSet=="function"?WeakSet:Set,Je=null;function KT(e,n){if(e=e.containerInfo,Rd=Mc,e=Bg(e),Jh(e)){if("selectionStart"in e)var s={start:e.selectionStart,end:e.selectionEnd};else t:{s=(s=e.ownerDocument)&&s.defaultView||window;var o=s.getSelection&&s.getSelection();if(o&&o.rangeCount!==0){s=o.anchorNode;var h=o.anchorOffset,f=o.focusNode;o=o.focusOffset;try{s.nodeType,f.nodeType}catch{s=null;break t}var g=0,E=-1,I=-1,j=0,Y=0,$=e,B=null;e:for(;;){for(var H;$!==s||h!==0&&$.nodeType!==3||(E=g+h),$!==f||o!==0&&$.nodeType!==3||(I=g+o),$.nodeType===3&&(g+=$.nodeValue.length),(H=$.firstChild)!==null;)B=$,$=H;for(;;){if($===e)break e;if(B===s&&++j===h&&(E=g),B===f&&++Y===o&&(I=g),(H=$.nextSibling)!==null)break;$=B,B=$.parentNode}$=H}s=E===-1||I===-1?null:{start:E,end:I}}else s=null}s=s||{start:0,end:0}}else s=null;for(Id={focusedElem:e,selectionRange:s},Mc=!1,Je=n;Je!==null;)if(n=Je,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,Je=e;else for(;Je!==null;){switch(n=Je,f=n.alternate,e=n.flags,n.tag){case 0:if((e&4)!==0&&(e=n.updateQueue,e=e!==null?e.events:null,e!==null))for(s=0;s<e.length;s++)h=e[s],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&f!==null){e=void 0,s=n,h=f.memoizedProps,f=f.memoizedState,o=s.stateNode;try{var ct=pa(s.type,h);e=o.getSnapshotBeforeUpdate(ct,f),o.__reactInternalSnapshotBeforeUpdate=e}catch(vt){ne(s,s.return,vt)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,s=e.nodeType,s===9)xd(e);else if(s===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":xd(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(a(163))}if(e=n.sibling,e!==null){e.return=n.return,Je=e;break}Je=n.return}}function xy(e,n,s){var o=s.flags;switch(s.tag){case 0:case 11:case 15:_r(e,s),o&4&&Al(5,s);break;case 1:if(_r(e,s),o&4)if(e=s.stateNode,n===null)try{e.componentDidMount()}catch(g){ne(s,s.return,g)}else{var h=pa(s.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(h,n,e.__reactInternalSnapshotBeforeUpdate)}catch(g){ne(s,s.return,g)}}o&64&&Ay(s),o&512&&wl(s,s.return);break;case 3:if(_r(e,s),o&64&&(e=s.updateQueue,e!==null)){if(n=null,s.child!==null)switch(s.child.tag){case 27:case 5:n=s.child.stateNode;break;case 1:n=s.child.stateNode}try{mp(e,n)}catch(g){ne(s,s.return,g)}}break;case 27:n===null&&o&4&&Cy(s);case 26:case 5:_r(e,s),n===null&&o&4&&Ry(s),o&512&&wl(s,s.return);break;case 12:_r(e,s);break;case 31:_r(e,s),o&4&&Oy(e,s);break;case 13:_r(e,s),o&4&&Vy(e,s),o&64&&(e=s.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(s=ib.bind(null,s),Sb(e,s))));break;case 22:if(o=s.memoizedState!==null||pr,!o){n=n!==null&&n.memoizedState!==null||He,h=pr;var f=He;pr=o,(He=n)&&!f?vr(e,s,(s.subtreeFlags&8772)!==0):_r(e,s),pr=h,He=f}break;case 30:break;default:_r(e,s)}}function Dy(e){var n=e.alternate;n!==null&&(e.alternate=null,Dy(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&rr(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var ve=null,Nn=!1;function yr(e,n,s){for(s=s.child;s!==null;)My(e,n,s),s=s.sibling}function My(e,n,s){if(Ye&&typeof Ye.onCommitFiberUnmount=="function")try{Ye.onCommitFiberUnmount(vn,s)}catch{}switch(s.tag){case 26:He||Fi(s,n),yr(e,n,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:He||Fi(s,n);var o=ve,h=Nn;fs(s.type)&&(ve=s.stateNode,Nn=!1),yr(e,n,s),Vl(s.stateNode),ve=o,Nn=h;break;case 5:He||Fi(s,n);case 6:if(o=ve,h=Nn,ve=null,yr(e,n,s),ve=o,Nn=h,ve!==null)if(Nn)try{(ve.nodeType===9?ve.body:ve.nodeName==="HTML"?ve.ownerDocument.body:ve).removeChild(s.stateNode)}catch(f){ne(s,n,f)}else try{ve.removeChild(s.stateNode)}catch(f){ne(s,n,f)}break;case 18:ve!==null&&(Nn?(e=ve,A_(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,s.stateNode),Ao(e)):A_(ve,s.stateNode));break;case 4:o=ve,h=Nn,ve=s.stateNode.containerInfo,Nn=!0,yr(e,n,s),ve=o,Nn=h;break;case 0:case 11:case 14:case 15:ss(2,s,n),He||ss(4,s,n),yr(e,n,s);break;case 1:He||(Fi(s,n),o=s.stateNode,typeof o.componentWillUnmount=="function"&&wy(s,n,o)),yr(e,n,s);break;case 21:yr(e,n,s);break;case 22:He=(o=He)||s.memoizedState!==null,yr(e,n,s),He=o;break;default:yr(e,n,s)}}function Oy(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Ao(e)}catch(s){ne(n,n.return,s)}}}function Vy(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Ao(e)}catch(s){ne(n,n.return,s)}}function XT(e){switch(e.tag){case 31:case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new Ny),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new Ny),n;default:throw Error(a(435,e.tag))}}function fc(e,n){var s=XT(e);n.forEach(function(o){if(!s.has(o)){s.add(o);var h=rb.bind(null,e,o);o.then(h,h)}})}function xn(e,n){var s=n.deletions;if(s!==null)for(var o=0;o<s.length;o++){var h=s[o],f=e,g=n,E=g;t:for(;E!==null;){switch(E.tag){case 27:if(fs(E.type)){ve=E.stateNode,Nn=!1;break t}break;case 5:ve=E.stateNode,Nn=!1;break t;case 3:case 4:ve=E.stateNode.containerInfo,Nn=!0;break t}E=E.return}if(ve===null)throw Error(a(160));My(f,g,h),ve=null,Nn=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)ky(n,e),n=n.sibling}var Ai=null;function ky(e,n){var s=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:xn(n,e),Dn(e),o&4&&(ss(3,e,e.return),Al(3,e),ss(5,e,e.return));break;case 1:xn(n,e),Dn(e),o&512&&(He||s===null||Fi(s,s.return)),o&64&&pr&&(e=e.updateQueue,e!==null&&(o=e.callbacks,o!==null&&(s=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=s===null?o:s.concat(o))));break;case 26:var h=Ai;if(xn(n,e),Dn(e),o&512&&(He||s===null||Fi(s,s.return)),o&4){var f=s!==null?s.memoizedState:null;if(o=e.memoizedState,s===null)if(o===null)if(e.stateNode===null){t:{o=e.type,s=e.memoizedProps,h=h.ownerDocument||h;e:switch(o){case"title":f=h.getElementsByTagName("title")[0],(!f||f[Bn]||f[Se]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(o),h.head.insertBefore(f,h.querySelector("head > title"))),an(f,o,s),f[Se]=e,Ae(f),o=f;break t;case"link":var g=k_("link","href",h).get(o+(s.href||""));if(g){for(var E=0;E<g.length;E++)if(f=g[E],f.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&f.getAttribute("rel")===(s.rel==null?null:s.rel)&&f.getAttribute("title")===(s.title==null?null:s.title)&&f.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){g.splice(E,1);break e}}f=h.createElement(o),an(f,o,s),h.head.appendChild(f);break;case"meta":if(g=k_("meta","content",h).get(o+(s.content||""))){for(E=0;E<g.length;E++)if(f=g[E],f.getAttribute("content")===(s.content==null?null:""+s.content)&&f.getAttribute("name")===(s.name==null?null:s.name)&&f.getAttribute("property")===(s.property==null?null:s.property)&&f.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&f.getAttribute("charset")===(s.charSet==null?null:s.charSet)){g.splice(E,1);break e}}f=h.createElement(o),an(f,o,s),h.head.appendChild(f);break;default:throw Error(a(468,o))}f[Se]=e,Ae(f),o=f}e.stateNode=o}else U_(h,e.type,e.stateNode);else e.stateNode=V_(h,o,e.memoizedProps);else f!==o?(f===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):f.count--,o===null?U_(h,e.type,e.stateNode):V_(h,o,e.memoizedProps)):o===null&&e.stateNode!==null&&nd(e,e.memoizedProps,s.memoizedProps)}break;case 27:xn(n,e),Dn(e),o&512&&(He||s===null||Fi(s,s.return)),s!==null&&o&4&&nd(e,e.memoizedProps,s.memoizedProps);break;case 5:if(xn(n,e),Dn(e),o&512&&(He||s===null||Fi(s,s.return)),e.flags&32){h=e.stateNode;try{bt(h,"")}catch(ct){ne(e,e.return,ct)}}o&4&&e.stateNode!=null&&(h=e.memoizedProps,nd(e,h,s!==null?s.memoizedProps:h)),o&1024&&(sd=!0);break;case 6:if(xn(n,e),Dn(e),o&4){if(e.stateNode===null)throw Error(a(162));o=e.memoizedProps,s=e.stateNode;try{s.nodeValue=o}catch(ct){ne(e,e.return,ct)}}break;case 3:if(Cc=null,h=Ai,Ai=Rc(n.containerInfo),xn(n,e),Ai=h,Dn(e),o&4&&s!==null&&s.memoizedState.isDehydrated)try{Ao(n.containerInfo)}catch(ct){ne(e,e.return,ct)}sd&&(sd=!1,Uy(e));break;case 4:o=Ai,Ai=Rc(e.stateNode.containerInfo),xn(n,e),Dn(e),Ai=o;break;case 12:xn(n,e),Dn(e);break;case 31:xn(n,e),Dn(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,fc(e,o)));break;case 13:xn(n,e),Dn(e),e.child.flags&8192&&e.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(mc=$e()),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,fc(e,o)));break;case 22:h=e.memoizedState!==null;var I=s!==null&&s.memoizedState!==null,j=pr,Y=He;if(pr=j||h,He=Y||I,xn(n,e),He=Y,pr=j,Dn(e),o&8192)t:for(n=e.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(s===null||I||pr||He||ya(e)),s=null,n=e;;){if(n.tag===5||n.tag===26){if(s===null){I=s=n;try{if(f=I.stateNode,h)g=f.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none";else{E=I.stateNode;var $=I.memoizedProps.style,B=$!=null&&$.hasOwnProperty("display")?$.display:null;E.style.display=B==null||typeof B=="boolean"?"":(""+B).trim()}}catch(ct){ne(I,I.return,ct)}}}else if(n.tag===6){if(s===null){I=n;try{I.stateNode.nodeValue=h?"":I.memoizedProps}catch(ct){ne(I,I.return,ct)}}}else if(n.tag===18){if(s===null){I=n;try{var H=I.stateNode;h?w_(H,!0):w_(I.stateNode,!1)}catch(ct){ne(I,I.return,ct)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break t;for(;n.sibling===null;){if(n.return===null||n.return===e)break t;s===n&&(s=null),n=n.return}s===n&&(s=null),n.sibling.return=n.return,n=n.sibling}o&4&&(o=e.updateQueue,o!==null&&(s=o.retryQueue,s!==null&&(o.retryQueue=null,fc(e,s))));break;case 19:xn(n,e),Dn(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,fc(e,o)));break;case 30:break;case 21:break;default:xn(n,e),Dn(e)}}function Dn(e){var n=e.flags;if(n&2){try{for(var s,o=e.return;o!==null;){if(Iy(o)){s=o;break}o=o.return}if(s==null)throw Error(a(160));switch(s.tag){case 27:var h=s.stateNode,f=id(e);hc(e,f,h);break;case 5:var g=s.stateNode;s.flags&32&&(bt(g,""),s.flags&=-33);var E=id(e);hc(e,E,g);break;case 3:case 4:var I=s.stateNode.containerInfo,j=id(e);rd(e,j,I);break;default:throw Error(a(161))}}catch(Y){ne(e,e.return,Y)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function Uy(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;Uy(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function _r(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)xy(e,n.alternate,n),n=n.sibling}function ya(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:ss(4,n,n.return),ya(n);break;case 1:Fi(n,n.return);var s=n.stateNode;typeof s.componentWillUnmount=="function"&&wy(n,n.return,s),ya(n);break;case 27:Vl(n.stateNode);case 26:case 5:Fi(n,n.return),ya(n);break;case 22:n.memoizedState===null&&ya(n);break;case 30:ya(n);break;default:ya(n)}e=e.sibling}}function vr(e,n,s){for(s=s&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var o=n.alternate,h=e,f=n,g=f.flags;switch(f.tag){case 0:case 11:case 15:vr(h,f,s),Al(4,f);break;case 1:if(vr(h,f,s),o=f,h=o.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(j){ne(o,o.return,j)}if(o=f,h=o.updateQueue,h!==null){var E=o.stateNode;try{var I=h.shared.hiddenCallbacks;if(I!==null)for(h.shared.hiddenCallbacks=null,h=0;h<I.length;h++)dp(I[h],E)}catch(j){ne(o,o.return,j)}}s&&g&64&&Ay(f),wl(f,f.return);break;case 27:Cy(f);case 26:case 5:vr(h,f,s),s&&o===null&&g&4&&Ry(f),wl(f,f.return);break;case 12:vr(h,f,s);break;case 31:vr(h,f,s),s&&g&4&&Oy(h,f);break;case 13:vr(h,f,s),s&&g&4&&Vy(h,f);break;case 22:f.memoizedState===null&&vr(h,f,s),wl(f,f.return);break;case 30:break;default:vr(h,f,s)}n=n.sibling}}function ad(e,n){var s=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==s&&(e!=null&&e.refCount++,s!=null&&hl(s))}function od(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&hl(e))}function wi(e,n,s,o){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Ly(e,n,s,o),n=n.sibling}function Ly(e,n,s,o){var h=n.flags;switch(n.tag){case 0:case 11:case 15:wi(e,n,s,o),h&2048&&Al(9,n);break;case 1:wi(e,n,s,o);break;case 3:wi(e,n,s,o),h&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&hl(e)));break;case 12:if(h&2048){wi(e,n,s,o),e=n.stateNode;try{var f=n.memoizedProps,g=f.id,E=f.onPostCommit;typeof E=="function"&&E(g,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(I){ne(n,n.return,I)}}else wi(e,n,s,o);break;case 31:wi(e,n,s,o);break;case 13:wi(e,n,s,o);break;case 23:break;case 22:f=n.stateNode,g=n.alternate,n.memoizedState!==null?f._visibility&2?wi(e,n,s,o):Rl(e,n):f._visibility&2?wi(e,n,s,o):(f._visibility|=2,fo(e,n,s,o,(n.subtreeFlags&10256)!==0||!1)),h&2048&&ad(g,n);break;case 24:wi(e,n,s,o),h&2048&&od(n.alternate,n);break;default:wi(e,n,s,o)}}function fo(e,n,s,o,h){for(h=h&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=e,g=n,E=s,I=o,j=g.flags;switch(g.tag){case 0:case 11:case 15:fo(f,g,E,I,h),Al(8,g);break;case 23:break;case 22:var Y=g.stateNode;g.memoizedState!==null?Y._visibility&2?fo(f,g,E,I,h):Rl(f,g):(Y._visibility|=2,fo(f,g,E,I,h)),h&&j&2048&&ad(g.alternate,g);break;case 24:fo(f,g,E,I,h),h&&j&2048&&od(g.alternate,g);break;default:fo(f,g,E,I,h)}n=n.sibling}}function Rl(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var s=e,o=n,h=o.flags;switch(o.tag){case 22:Rl(s,o),h&2048&&ad(o.alternate,o);break;case 24:Rl(s,o),h&2048&&od(o.alternate,o);break;default:Rl(s,o)}n=n.sibling}}var Il=8192;function mo(e,n,s){if(e.subtreeFlags&Il)for(e=e.child;e!==null;)Py(e,n,s),e=e.sibling}function Py(e,n,s){switch(e.tag){case 26:mo(e,n,s),e.flags&Il&&e.memoizedState!==null&&kb(s,Ai,e.memoizedState,e.memoizedProps);break;case 5:mo(e,n,s);break;case 3:case 4:var o=Ai;Ai=Rc(e.stateNode.containerInfo),mo(e,n,s),Ai=o;break;case 22:e.memoizedState===null&&(o=e.alternate,o!==null&&o.memoizedState!==null?(o=Il,Il=16777216,mo(e,n,s),Il=o):mo(e,n,s));break;default:mo(e,n,s)}}function zy(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function Cl(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var o=n[s];Je=o,By(o,e)}zy(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)jy(e),e=e.sibling}function jy(e){switch(e.tag){case 0:case 11:case 15:Cl(e),e.flags&2048&&ss(9,e,e.return);break;case 3:Cl(e);break;case 12:Cl(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,dc(e)):Cl(e);break;default:Cl(e)}}function dc(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var o=n[s];Je=o,By(o,e)}zy(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:ss(8,n,n.return),dc(n);break;case 22:s=n.stateNode,s._visibility&2&&(s._visibility&=-3,dc(n));break;default:dc(n)}e=e.sibling}}function By(e,n){for(;Je!==null;){var s=Je;switch(s.tag){case 0:case 11:case 15:ss(8,s,n);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var o=s.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:hl(s.memoizedState.cache)}if(o=s.child,o!==null)o.return=s,Je=o;else t:for(s=e;Je!==null;){o=Je;var h=o.sibling,f=o.return;if(Dy(o),o===s){Je=null;break t}if(h!==null){h.return=f,Je=h;break t}Je=f}}}var $T={getCacheForType:function(e){var n=rn(je),s=n.data.get(e);return s===void 0&&(s=e(),n.data.set(e,s)),s},cacheSignal:function(){return rn(je).controller.signal}},JT=typeof WeakMap=="function"?WeakMap:Map,Zt=0,ue=null,Vt=null,Lt=0,ee=0,Qn=null,as=!1,go=!1,ld=!1,Er=0,Re=0,os=0,_a=0,ud=0,Yn=0,po=0,Nl=null,Mn=null,cd=!1,mc=0,qy=0,gc=1/0,pc=null,ls=null,Ke=0,us=null,yo=null,Tr=0,hd=0,fd=null,Hy=null,xl=0,dd=null;function Kn(){return(Zt&2)!==0&&Lt!==0?Lt&-Lt:G.T!==null?vd():Gs()}function Fy(){if(Yn===0)if((Lt&536870912)===0||Gt){var e=Tn;Tn<<=1,(Tn&3932160)===0&&(Tn=262144),Yn=e}else Yn=536870912;return e=Fn.current,e!==null&&(e.flags|=32),Yn}function On(e,n,s){(e===ue&&(ee===2||ee===9)||e.cancelPendingCommit!==null)&&(_o(e,0),cs(e,Lt,Yn,!1)),xi(e,s),((Zt&2)===0||e!==ue)&&(e===ue&&((Zt&2)===0&&(_a|=s),Re===4&&cs(e,Lt,Yn,!1)),Gi(e))}function Gy(e,n,s){if((Zt&6)!==0)throw Error(a(327));var o=!s&&(n&127)===0&&(n&e.expiredLanes)===0||zn(e,n),h=o?tb(e,n):gd(e,n,!0),f=o;do{if(h===0){go&&!o&&cs(e,n,0,!1);break}else{if(s=e.current.alternate,f&&!ZT(s)){h=gd(e,n,!1),f=!1;continue}if(h===2){if(f=n,e.errorRecoveryDisabledLanes&f)var g=0;else g=e.pendingLanes&-536870913,g=g!==0?g:g&536870912?536870912:0;if(g!==0){n=g;t:{var E=e;h=Nl;var I=E.current.memoizedState.isDehydrated;if(I&&(_o(E,g).flags|=256),g=gd(E,g,!1),g!==2){if(ld&&!I){E.errorRecoveryDisabledLanes|=f,_a|=f,h=4;break t}f=Mn,Mn=h,f!==null&&(Mn===null?Mn=f:Mn.push.apply(Mn,f))}h=g}if(f=!1,h!==2)continue}}if(h===1){_o(e,0),cs(e,n,0,!0);break}t:{switch(o=e,f=h,f){case 0:case 1:throw Error(a(345));case 4:if((n&4194048)!==n)break;case 6:cs(o,n,Yn,!as);break t;case 2:Mn=null;break;case 3:case 5:break;default:throw Error(a(329))}if((n&62914560)===n&&(h=mc+300-$e(),10<h)){if(cs(o,n,Yn,!as),Pn(o,0,!0)!==0)break t;Tr=n,o.timeoutHandle=b_(Qy.bind(null,o,s,Mn,pc,cd,n,Yn,_a,po,as,f,"Throttled",-0,0),h);break t}Qy(o,s,Mn,pc,cd,n,Yn,_a,po,as,f,null,-0,0)}}break}while(!0);Gi(e)}function Qy(e,n,s,o,h,f,g,E,I,j,Y,$,B,H){if(e.timeoutHandle=-1,$=n.subtreeFlags,$&8192||($&16785408)===16785408){$={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:_i},Py(n,f,$);var ct=(f&62914560)===f?mc-$e():(f&4194048)===f?qy-$e():0;if(ct=Ub($,ct),ct!==null){Tr=f,e.cancelPendingCommit=ct(t_.bind(null,e,n,f,s,o,h,g,E,I,Y,$,null,B,H)),cs(e,f,g,!j);return}}t_(e,n,f,s,o,h,g,E,I)}function ZT(e){for(var n=e;;){var s=n.tag;if((s===0||s===11||s===15)&&n.flags&16384&&(s=n.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var o=0;o<s.length;o++){var h=s[o],f=h.getSnapshot;h=h.value;try{if(!qn(f(),h))return!1}catch{return!1}}if(s=n.child,n.subtreeFlags&16384&&s!==null)s.return=n,n=s;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function cs(e,n,s,o){n&=~ud,n&=~_a,e.suspendedLanes|=n,e.pingedLanes&=~n,o&&(e.warmLanes|=n),o=e.expirationTimes;for(var h=n;0<h;){var f=31-me(h),g=1<<f;o[f]=-1,h&=~g}s!==0&&ir(e,s,n)}function yc(){return(Zt&6)===0?(Dl(0),!1):!0}function md(){if(Vt!==null){if(ee===0)var e=Vt.return;else e=Vt,cr=ua=null,xf(e),oo=null,dl=0,e=Vt;for(;e!==null;)Sy(e.alternate,e),e=e.return;Vt=null}}function _o(e,n){var s=e.timeoutHandle;s!==-1&&(e.timeoutHandle=-1,_b(s)),s=e.cancelPendingCommit,s!==null&&(e.cancelPendingCommit=null,s()),Tr=0,md(),ue=e,Vt=s=lr(e.current,null),Lt=n,ee=0,Qn=null,as=!1,go=zn(e,n),ld=!1,po=Yn=ud=_a=os=Re=0,Mn=Nl=null,cd=!1,(n&8)!==0&&(n|=n&32);var o=e.entangledLanes;if(o!==0)for(e=e.entanglements,o&=n;0<o;){var h=31-me(o),f=1<<h;n|=e[h],o&=~f}return Er=n,Pu(),s}function Yy(e,n){xt=null,G.H=Tl,n===ao||n===Qu?(n=up(),ee=3):n===_f?(n=up(),ee=4):ee=n===Qf?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,Qn=n,Vt===null&&(Re=1,ac(e,ai(n,e.current)))}function Ky(){var e=Fn.current;return e===null?!0:(Lt&4194048)===Lt?ci===null:(Lt&62914560)===Lt||(Lt&536870912)!==0?e===ci:!1}function Xy(){var e=G.H;return G.H=Tl,e===null?Tl:e}function $y(){var e=G.A;return G.A=$T,e}function _c(){Re=4,as||(Lt&4194048)!==Lt&&Fn.current!==null||(go=!0),(os&134217727)===0&&(_a&134217727)===0||ue===null||cs(ue,Lt,Yn,!1)}function gd(e,n,s){var o=Zt;Zt|=2;var h=Xy(),f=$y();(ue!==e||Lt!==n)&&(pc=null,_o(e,n)),n=!1;var g=Re;t:do try{if(ee!==0&&Vt!==null){var E=Vt,I=Qn;switch(ee){case 8:md(),g=6;break t;case 3:case 2:case 9:case 6:Fn.current===null&&(n=!0);var j=ee;if(ee=0,Qn=null,vo(e,E,I,j),s&&go){g=0;break t}break;default:j=ee,ee=0,Qn=null,vo(e,E,I,j)}}WT(),g=Re;break}catch(Y){Yy(e,Y)}while(!0);return n&&e.shellSuspendCounter++,cr=ua=null,Zt=o,G.H=h,G.A=f,Vt===null&&(ue=null,Lt=0,Pu()),g}function WT(){for(;Vt!==null;)Jy(Vt)}function tb(e,n){var s=Zt;Zt|=2;var o=Xy(),h=$y();ue!==e||Lt!==n?(pc=null,gc=$e()+500,_o(e,n)):go=zn(e,n);t:do try{if(ee!==0&&Vt!==null){n=Vt;var f=Qn;e:switch(ee){case 1:ee=0,Qn=null,vo(e,n,f,1);break;case 2:case 9:if(op(f)){ee=0,Qn=null,Zy(n);break}n=function(){ee!==2&&ee!==9||ue!==e||(ee=7),Gi(e)},f.then(n,n);break t;case 3:ee=7;break t;case 4:ee=5;break t;case 7:op(f)?(ee=0,Qn=null,Zy(n)):(ee=0,Qn=null,vo(e,n,f,7));break;case 5:var g=null;switch(Vt.tag){case 26:g=Vt.memoizedState;case 5:case 27:var E=Vt;if(g?L_(g):E.stateNode.complete){ee=0,Qn=null;var I=E.sibling;if(I!==null)Vt=I;else{var j=E.return;j!==null?(Vt=j,vc(j)):Vt=null}break e}}ee=0,Qn=null,vo(e,n,f,5);break;case 6:ee=0,Qn=null,vo(e,n,f,6);break;case 8:md(),Re=6;break t;default:throw Error(a(462))}}eb();break}catch(Y){Yy(e,Y)}while(!0);return cr=ua=null,G.H=o,G.A=h,Zt=s,Vt!==null?0:(ue=null,Lt=0,Pu(),Re)}function eb(){for(;Vt!==null&&!js();)Jy(Vt)}function Jy(e){var n=Ty(e.alternate,e,Er);e.memoizedProps=e.pendingProps,n===null?vc(e):Vt=n}function Zy(e){var n=e,s=n.alternate;switch(n.tag){case 15:case 0:n=gy(s,n,n.pendingProps,n.type,void 0,Lt);break;case 11:n=gy(s,n,n.pendingProps,n.type.render,n.ref,Lt);break;case 5:xf(n);default:Sy(s,n),n=Vt=$g(n,Er),n=Ty(s,n,Er)}e.memoizedProps=e.pendingProps,n===null?vc(e):Vt=n}function vo(e,n,s,o){cr=ua=null,xf(n),oo=null,dl=0;var h=n.return;try{if(HT(e,h,n,s,Lt)){Re=1,ac(e,ai(s,e.current)),Vt=null;return}}catch(f){if(h!==null)throw Vt=h,f;Re=1,ac(e,ai(s,e.current)),Vt=null;return}n.flags&32768?(Gt||o===1?e=!0:go||(Lt&536870912)!==0?e=!1:(as=e=!0,(o===2||o===9||o===3||o===6)&&(o=Fn.current,o!==null&&o.tag===13&&(o.flags|=16384))),Wy(n,e)):vc(n)}function vc(e){var n=e;do{if((n.flags&32768)!==0){Wy(n,as);return}e=n.return;var s=QT(n.alternate,n,Er);if(s!==null){Vt=s;return}if(n=n.sibling,n!==null){Vt=n;return}Vt=n=e}while(n!==null);Re===0&&(Re=5)}function Wy(e,n){do{var s=YT(e.alternate,e);if(s!==null){s.flags&=32767,Vt=s;return}if(s=e.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!n&&(e=e.sibling,e!==null)){Vt=e;return}Vt=e=s}while(e!==null);Re=6,Vt=null}function t_(e,n,s,o,h,f,g,E,I){e.cancelPendingCommit=null;do Ec();while(Ke!==0);if((Zt&6)!==0)throw Error(a(327));if(n!==null){if(n===e.current)throw Error(a(177));if(f=n.lanes|n.childLanes,f|=nf,Pa(e,s,f,g,E,I),e===ue&&(Vt=ue=null,Lt=0),yo=n,us=e,Tr=s,hd=f,fd=h,Hy=o,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,sb(hn,function(){return s_(),null})):(e.callbackNode=null,e.callbackPriority=0),o=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||o){o=G.T,G.T=null,h=rt.p,rt.p=2,g=Zt,Zt|=4;try{KT(e,n,s)}finally{Zt=g,rt.p=h,G.T=o}}Ke=1,e_(),n_(),i_()}}function e_(){if(Ke===1){Ke=0;var e=us,n=yo,s=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||s){s=G.T,G.T=null;var o=rt.p;rt.p=2;var h=Zt;Zt|=4;try{ky(n,e);var f=Id,g=Bg(e.containerInfo),E=f.focusedElem,I=f.selectionRange;if(g!==E&&E&&E.ownerDocument&&jg(E.ownerDocument.documentElement,E)){if(I!==null&&Jh(E)){var j=I.start,Y=I.end;if(Y===void 0&&(Y=j),"selectionStart"in E)E.selectionStart=j,E.selectionEnd=Math.min(Y,E.value.length);else{var $=E.ownerDocument||document,B=$&&$.defaultView||window;if(B.getSelection){var H=B.getSelection(),ct=E.textContent.length,vt=Math.min(I.start,ct),le=I.end===void 0?vt:Math.min(I.end,ct);!H.extend&&vt>le&&(g=le,le=vt,vt=g);var U=zg(E,vt),D=zg(E,le);if(U&&D&&(H.rangeCount!==1||H.anchorNode!==U.node||H.anchorOffset!==U.offset||H.focusNode!==D.node||H.focusOffset!==D.offset)){var z=$.createRange();z.setStart(U.node,U.offset),H.removeAllRanges(),vt>le?(H.addRange(z),H.extend(D.node,D.offset)):(z.setEnd(D.node,D.offset),H.addRange(z))}}}}for($=[],H=E;H=H.parentNode;)H.nodeType===1&&$.push({element:H,left:H.scrollLeft,top:H.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<$.length;E++){var K=$[E];K.element.scrollLeft=K.left,K.element.scrollTop=K.top}}Mc=!!Rd,Id=Rd=null}finally{Zt=h,rt.p=o,G.T=s}}e.current=n,Ke=2}}function n_(){if(Ke===2){Ke=0;var e=us,n=yo,s=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||s){s=G.T,G.T=null;var o=rt.p;rt.p=2;var h=Zt;Zt|=4;try{xy(e,n.alternate,n)}finally{Zt=h,rt.p=o,G.T=s}}Ke=3}}function i_(){if(Ke===4||Ke===3){Ke=0,Bs();var e=us,n=yo,s=Tr,o=Hy;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Ke=5:(Ke=0,yo=us=null,r_(e,e.pendingLanes));var h=e.pendingLanes;if(h===0&&(ls=null),Jn(s),n=n.stateNode,Ye&&typeof Ye.onCommitFiberRoot=="function")try{Ye.onCommitFiberRoot(vn,n,void 0,(n.current.flags&128)===128)}catch{}if(o!==null){n=G.T,h=rt.p,rt.p=2,G.T=null;try{for(var f=e.onRecoverableError,g=0;g<o.length;g++){var E=o[g];f(E.value,{componentStack:E.stack})}}finally{G.T=n,rt.p=h}}(Tr&3)!==0&&Ec(),Gi(e),h=e.pendingLanes,(s&261930)!==0&&(h&42)!==0?e===dd?xl++:(xl=0,dd=e):xl=0,Dl(0)}}function r_(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,hl(n)))}function Ec(){return e_(),n_(),i_(),s_()}function s_(){if(Ke!==5)return!1;var e=us,n=hd;hd=0;var s=Jn(Tr),o=G.T,h=rt.p;try{rt.p=32>s?32:s,G.T=null,s=fd,fd=null;var f=us,g=Tr;if(Ke=0,yo=us=null,Tr=0,(Zt&6)!==0)throw Error(a(331));var E=Zt;if(Zt|=4,jy(f.current),Ly(f,f.current,g,s),Zt=E,Dl(0,!1),Ye&&typeof Ye.onPostCommitFiberRoot=="function")try{Ye.onPostCommitFiberRoot(vn,f)}catch{}return!0}finally{rt.p=h,G.T=o,r_(e,n)}}function a_(e,n,s){n=ai(s,n),n=Gf(e.stateNode,n,2),e=ns(e,n,2),e!==null&&(xi(e,2),Gi(e))}function ne(e,n,s){if(e.tag===3)a_(e,e,s);else for(;n!==null;){if(n.tag===3){a_(n,e,s);break}else if(n.tag===1){var o=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(ls===null||!ls.has(o))){e=ai(s,e),s=oy(2),o=ns(n,s,2),o!==null&&(ly(s,o,n,e),xi(o,2),Gi(o));break}}n=n.return}}function pd(e,n,s){var o=e.pingCache;if(o===null){o=e.pingCache=new JT;var h=new Set;o.set(n,h)}else h=o.get(n),h===void 0&&(h=new Set,o.set(n,h));h.has(s)||(ld=!0,h.add(s),e=nb.bind(null,e,n,s),n.then(e,e))}function nb(e,n,s){var o=e.pingCache;o!==null&&o.delete(n),e.pingedLanes|=e.suspendedLanes&s,e.warmLanes&=~s,ue===e&&(Lt&s)===s&&(Re===4||Re===3&&(Lt&62914560)===Lt&&300>$e()-mc?(Zt&2)===0&&_o(e,0):ud|=s,po===Lt&&(po=0)),Gi(e)}function o_(e,n){n===0&&(n=La()),e=aa(e,n),e!==null&&(xi(e,n),Gi(e))}function ib(e){var n=e.memoizedState,s=0;n!==null&&(s=n.retryLane),o_(e,s)}function rb(e,n){var s=0;switch(e.tag){case 31:case 13:var o=e.stateNode,h=e.memoizedState;h!==null&&(s=h.retryLane);break;case 19:o=e.stateNode;break;case 22:o=e.stateNode._retryCache;break;default:throw Error(a(314))}o!==null&&o.delete(n),o_(e,s)}function sb(e,n){return Ce(e,n)}var Tc=null,Eo=null,yd=!1,bc=!1,_d=!1,hs=0;function Gi(e){e!==Eo&&e.next===null&&(Eo===null?Tc=Eo=e:Eo=Eo.next=e),bc=!0,yd||(yd=!0,ob())}function Dl(e,n){if(!_d&&bc){_d=!0;do for(var s=!1,o=Tc;o!==null;){if(e!==0){var h=o.pendingLanes;if(h===0)var f=0;else{var g=o.suspendedLanes,E=o.pingedLanes;f=(1<<31-me(42|e)+1)-1,f&=h&~(g&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(s=!0,h_(o,f))}else f=Lt,f=Pn(o,o===ue?f:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(f&3)===0||zn(o,f)||(s=!0,h_(o,f));o=o.next}while(s);_d=!1}}function ab(){l_()}function l_(){bc=yd=!1;var e=0;hs!==0&&yb()&&(e=hs);for(var n=$e(),s=null,o=Tc;o!==null;){var h=o.next,f=u_(o,n);f===0?(o.next=null,s===null?Tc=h:s.next=h,h===null&&(Eo=s)):(s=o,(e!==0||(f&3)!==0)&&(bc=!0)),o=h}Ke!==0&&Ke!==5||Dl(e),hs!==0&&(hs=0)}function u_(e,n){for(var s=e.suspendedLanes,o=e.pingedLanes,h=e.expirationTimes,f=e.pendingLanes&-62914561;0<f;){var g=31-me(f),E=1<<g,I=h[g];I===-1?((E&s)===0||(E&o)!==0)&&(h[g]=Ua(E,n)):I<=n&&(e.expiredLanes|=E),f&=~E}if(n=ue,s=Lt,s=Pn(e,e===n?s:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o=e.callbackNode,s===0||e===n&&(ee===2||ee===9)||e.cancelPendingCommit!==null)return o!==null&&o!==null&&$n(o),e.callbackNode=null,e.callbackPriority=0;if((s&3)===0||zn(e,s)){if(n=s&-s,n===e.callbackPriority)return n;switch(o!==null&&$n(o),Jn(s)){case 2:case 8:s=Ur;break;case 32:s=hn;break;case 268435456:s=Ni;break;default:s=hn}return o=c_.bind(null,e),s=Ce(s,o),e.callbackPriority=n,e.callbackNode=s,n}return o!==null&&o!==null&&$n(o),e.callbackPriority=2,e.callbackNode=null,2}function c_(e,n){if(Ke!==0&&Ke!==5)return e.callbackNode=null,e.callbackPriority=0,null;var s=e.callbackNode;if(Ec()&&e.callbackNode!==s)return null;var o=Lt;return o=Pn(e,e===ue?o:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o===0?null:(Gy(e,o,n),u_(e,$e()),e.callbackNode!=null&&e.callbackNode===s?c_.bind(null,e):null)}function h_(e,n){if(Ec())return null;Gy(e,n,!0)}function ob(){vb(function(){(Zt&6)!==0?Ce(qs,ab):l_()})}function vd(){if(hs===0){var e=ro;e===0&&(e=ce,ce<<=1,(ce&261888)===0&&(ce=256)),hs=e}return hs}function f_(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Ha(""+e)}function d_(e,n){var s=n.ownerDocument.createElement("input");return s.name=n.name,s.value=n.value,e.id&&s.setAttribute("form",e.id),n.parentNode.insertBefore(s,n),e=new FormData(e),s.parentNode.removeChild(s),e}function lb(e,n,s,o,h){if(n==="submit"&&s&&s.stateNode===h){var f=f_((h[ze]||null).action),g=o.submitter;g&&(n=(n=g[ze]||null)?f_(n.formAction):g.getAttribute("formAction"),n!==null&&(f=n,g=null));var E=new Pi("action","action",null,o,h);e.push({event:E,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(hs!==0){var I=g?d_(h,g):new FormData(h);zf(s,{pending:!0,data:I,method:h.method,action:f},null,I)}}else typeof f=="function"&&(E.preventDefault(),I=g?d_(h,g):new FormData(h),zf(s,{pending:!0,data:I,method:h.method,action:f},f,I))},currentTarget:h}]})}}for(var Ed=0;Ed<ef.length;Ed++){var Td=ef[Ed],ub=Td.toLowerCase(),cb=Td[0].toUpperCase()+Td.slice(1);Si(ub,"on"+cb)}Si(Fg,"onAnimationEnd"),Si(Gg,"onAnimationIteration"),Si(Qg,"onAnimationStart"),Si("dblclick","onDoubleClick"),Si("focusin","onFocus"),Si("focusout","onBlur"),Si(RT,"onTransitionRun"),Si(IT,"onTransitionStart"),Si(CT,"onTransitionCancel"),Si(Yg,"onTransitionEnd"),ei("onMouseEnter",["mouseout","mouseover"]),ei("onMouseLeave",["mouseout","mouseover"]),ei("onPointerEnter",["pointerout","pointerover"]),ei("onPointerLeave",["pointerout","pointerover"]),ti("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ti("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ti("onBeforeInput",["compositionend","keypress","textInput","paste"]),ti("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ti("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ti("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ml="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),hb=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ml));function m_(e,n){n=(n&4)!==0;for(var s=0;s<e.length;s++){var o=e[s],h=o.event;o=o.listeners;t:{var f=void 0;if(n)for(var g=o.length-1;0<=g;g--){var E=o[g],I=E.instance,j=E.currentTarget;if(E=E.listener,I!==f&&h.isPropagationStopped())break t;f=E,h.currentTarget=j;try{f(h)}catch(Y){Lu(Y)}h.currentTarget=null,f=I}else for(g=0;g<o.length;g++){if(E=o[g],I=E.instance,j=E.currentTarget,E=E.listener,I!==f&&h.isPropagationStopped())break t;f=E,h.currentTarget=j;try{f(h)}catch(Y){Lu(Y)}h.currentTarget=null,f=I}}}}function kt(e,n){var s=n[qr];s===void 0&&(s=n[qr]=new Set);var o=e+"__bubble";s.has(o)||(g_(n,e,2,!1),s.add(o))}function bd(e,n,s){var o=0;n&&(o|=4),g_(s,e,o,n)}var Sc="_reactListening"+Math.random().toString(36).slice(2);function Sd(e){if(!e[Sc]){e[Sc]=!0,Qs.forEach(function(s){s!=="selectionchange"&&(hb.has(s)||bd(s,!1,e),bd(s,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[Sc]||(n[Sc]=!0,bd("selectionchange",!1,n))}}function g_(e,n,s,o){switch(F_(n)){case 2:var h=zb;break;case 8:h=jb;break;default:h=Pd}s=h.bind(null,n,s,e),h=void 0,!Zs||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),o?h!==void 0?e.addEventListener(n,s,{capture:!0,passive:h}):e.addEventListener(n,s,!0):h!==void 0?e.addEventListener(n,s,{passive:h}):e.addEventListener(n,s,!1)}function Ad(e,n,s,o,h){var f=o;if((n&1)===0&&(n&2)===0&&o!==null)t:for(;;){if(o===null)return;var g=o.tag;if(g===3||g===4){var E=o.stateNode.containerInfo;if(E===h)break;if(g===4)for(g=o.return;g!==null;){var I=g.tag;if((I===3||I===4)&&g.stateNode.containerInfo===h)return;g=g.return}for(;E!==null;){if(g=Zn(E),g===null)return;if(I=g.tag,I===5||I===6||I===26||I===27){o=f=g;continue t}E=E.parentNode}}o=o.return}Qr(function(){var j=f,Y=ni(s),$=[];t:{var B=Kg.get(e);if(B!==void 0){var H=Pi,ct=e;switch(e){case"keypress":if(ta(s)===0)break t;case"keydown":case"keyup":H=Vu;break;case"focusin":ct="focus",H=na;break;case"focusout":ct="blur",H=na;break;case"beforeblur":case"afterblur":H=na;break;case"click":if(s.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":H=il;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":H=wu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":H=m;break;case Fg:case Gg:case Qg:H=Iu;break;case Yg:H=T;break;case"scroll":case"scrollend":H=nl;break;case"wheel":H=q;break;case"copy":case"cut":case"paste":H=Cu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":H=or;break;case"toggle":case"beforetoggle":H=Nt}var vt=(n&4)!==0,le=!vt&&(e==="scroll"||e==="scrollend"),U=vt?B!==null?B+"Capture":null:B;vt=[];for(var D=j,z;D!==null;){var K=D;if(z=K.stateNode,K=K.tag,K!==5&&K!==26&&K!==27||z===null||U===null||(K=vi(D,U),K!=null&&vt.push(Ol(D,K,z))),le)break;D=D.return}0<vt.length&&(B=new H(B,ct,null,s,Y),$.push({event:B,listeners:vt}))}}if((n&7)===0){t:{if(B=e==="mouseover"||e==="pointerover",H=e==="mouseout"||e==="pointerout",B&&s!==Wo&&(ct=s.relatedTarget||s.fromElement)&&(Zn(ct)||ct[In]))break t;if((H||B)&&(B=Y.window===Y?Y:(B=Y.ownerDocument)?B.defaultView||B.parentWindow:window,H?(ct=s.relatedTarget||s.toElement,H=j,ct=ct?Zn(ct):null,ct!==null&&(le=c(ct),vt=ct.tag,ct!==le||vt!==5&&vt!==27&&vt!==6)&&(ct=null)):(H=null,ct=j),H!==ct)){if(vt=il,K="onMouseLeave",U="onMouseEnter",D="mouse",(e==="pointerout"||e==="pointerover")&&(vt=or,K="onPointerLeave",U="onPointerEnter",D="pointer"),le=H==null?B:fn(H),z=ct==null?B:fn(ct),B=new vt(K,D+"leave",H,s,Y),B.target=le,B.relatedTarget=z,K=null,Zn(Y)===j&&(vt=new vt(U,D+"enter",ct,s,Y),vt.target=z,vt.relatedTarget=le,K=vt),le=K,H&&ct)e:{for(vt=fb,U=H,D=ct,z=0,K=U;K;K=vt(K))z++;K=0;for(var gt=D;gt;gt=vt(gt))K++;for(;0<z-K;)U=vt(U),z--;for(;0<K-z;)D=vt(D),K--;for(;z--;){if(U===D||D!==null&&U===D.alternate){vt=U;break e}U=vt(U),D=vt(D)}vt=null}else vt=null;H!==null&&p_($,B,H,vt,!1),ct!==null&&le!==null&&p_($,le,ct,vt,!0)}}t:{if(B=j?fn(j):window,H=B.nodeName&&B.nodeName.toLowerCase(),H==="select"||H==="input"&&B.type==="file")var Yt=Og;else if(Dg(B))if(Vg)Yt=ST;else{Yt=TT;var dt=ET}else H=B.nodeName,!H||H.toLowerCase()!=="input"||B.type!=="checkbox"&&B.type!=="radio"?j&&Vi(j.elementType)&&(Yt=Og):Yt=bT;if(Yt&&(Yt=Yt(e,j))){Mg($,Yt,s,Y);break t}dt&&dt(e,B,j),e==="focusout"&&j&&B.type==="number"&&j.memoizedProps.value!=null&&F(B,"number",B.value)}switch(dt=j?fn(j):window,e){case"focusin":(Dg(dt)||dt.contentEditable==="true")&&($a=dt,Zh=j,ll=null);break;case"focusout":ll=Zh=$a=null;break;case"mousedown":Wh=!0;break;case"contextmenu":case"mouseup":case"dragend":Wh=!1,qg($,s,Y);break;case"selectionchange":if(wT)break;case"keydown":case"keyup":qg($,s,Y)}var Dt;if(Jt)t:{switch(e){case"compositionstart":var Pt="onCompositionStart";break t;case"compositionend":Pt="onCompositionEnd";break t;case"compositionupdate":Pt="onCompositionUpdate";break t}Pt=void 0}else Xa?ia(e,s)&&(Pt="onCompositionEnd"):e==="keydown"&&s.keyCode===229&&(Pt="onCompositionStart");Pt&&(Bi&&s.locale!=="ko"&&(Xa||Pt!=="onCompositionStart"?Pt==="onCompositionEnd"&&Xa&&(Dt=el()):(Li=Y,tl="value"in Li?Li.value:Li.textContent,Xa=!0)),dt=Ac(j,Pt),0<dt.length&&(Pt=new ji(Pt,e,null,s,Y),$.push({event:Pt,listeners:dt}),Dt?Pt.data=Dt:(Dt=Ka(s),Dt!==null&&(Pt.data=Dt)))),(Dt=ri?pT(e,s):yT(e,s))&&(Pt=Ac(j,"onBeforeInput"),0<Pt.length&&(dt=new ji("onBeforeInput","beforeinput",null,s,Y),$.push({event:dt,listeners:Pt}),dt.data=Dt)),lb($,e,j,s,Y)}m_($,n)})}function Ol(e,n,s){return{instance:e,listener:n,currentTarget:s}}function Ac(e,n){for(var s=n+"Capture",o=[];e!==null;){var h=e,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=vi(e,s),h!=null&&o.unshift(Ol(e,h,f)),h=vi(e,n),h!=null&&o.push(Ol(e,h,f))),e.tag===3)return o;e=e.return}return[]}function fb(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function p_(e,n,s,o,h){for(var f=n._reactName,g=[];s!==null&&s!==o;){var E=s,I=E.alternate,j=E.stateNode;if(E=E.tag,I!==null&&I===o)break;E!==5&&E!==26&&E!==27||j===null||(I=j,h?(j=vi(s,f),j!=null&&g.unshift(Ol(s,j,I))):h||(j=vi(s,f),j!=null&&g.push(Ol(s,j,I)))),s=s.return}g.length!==0&&e.push({event:n,listeners:g})}var db=/\r\n?/g,mb=/\u0000|\uFFFD/g;function y_(e){return(typeof e=="string"?e:""+e).replace(db,`
`).replace(mb,"")}function __(e,n){return n=y_(n),y_(e)===n}function oe(e,n,s,o,h,f){switch(s){case"children":typeof o=="string"?n==="body"||n==="textarea"&&o===""||bt(e,o):(typeof o=="number"||typeof o=="bigint")&&n!=="body"&&bt(e,""+o);break;case"className":dn(e,"class",o);break;case"tabIndex":dn(e,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":dn(e,s,o);break;case"style":tn(e,o,f);break;case"data":if(n!=="object"){dn(e,"data",o);break}case"src":case"href":if(o===""&&(n!=="a"||s!=="href")){e.removeAttribute(s);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(s);break}o=Ha(""+o),e.setAttribute(s,o);break;case"action":case"formAction":if(typeof o=="function"){e.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(s==="formAction"?(n!=="input"&&oe(e,n,"name",h.name,h,null),oe(e,n,"formEncType",h.formEncType,h,null),oe(e,n,"formMethod",h.formMethod,h,null),oe(e,n,"formTarget",h.formTarget,h,null)):(oe(e,n,"encType",h.encType,h,null),oe(e,n,"method",h.method,h,null),oe(e,n,"target",h.target,h,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(s);break}o=Ha(""+o),e.setAttribute(s,o);break;case"onClick":o!=null&&(e.onclick=_i);break;case"onScroll":o!=null&&kt("scroll",e);break;case"onScrollEnd":o!=null&&kt("scrollend",e);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(a(61));if(s=o.__html,s!=null){if(h.children!=null)throw Error(a(60));e.innerHTML=s}}break;case"multiple":e.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":e.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){e.removeAttribute("xlink:href");break}s=Ha(""+o),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(s,""+o):e.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(s,""):e.removeAttribute(s);break;case"capture":case"download":o===!0?e.setAttribute(s,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(s,o):e.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?e.setAttribute(s,o):e.removeAttribute(s);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?e.removeAttribute(s):e.setAttribute(s,o);break;case"popover":kt("beforetoggle",e),kt("toggle",e),Mi(e,"popover",o);break;case"xlinkActuate":Wt(e,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":Wt(e,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":Wt(e,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":Wt(e,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":Wt(e,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":Wt(e,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":Wt(e,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":Wt(e,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":Wt(e,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":Mi(e,"is",o);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=qa.get(s)||s,Mi(e,s,o))}}function wd(e,n,s,o,h,f){switch(s){case"style":tn(e,o,f);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(a(61));if(s=o.__html,s!=null){if(h.children!=null)throw Error(a(60));e.innerHTML=s}}break;case"children":typeof o=="string"?bt(e,o):(typeof o=="number"||typeof o=="bigint")&&bt(e,""+o);break;case"onScroll":o!=null&&kt("scroll",e);break;case"onScrollEnd":o!=null&&kt("scrollend",e);break;case"onClick":o!=null&&(e.onclick=_i);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ys.hasOwnProperty(s))t:{if(s[0]==="o"&&s[1]==="n"&&(h=s.endsWith("Capture"),n=s.slice(2,h?s.length-7:void 0),f=e[ze]||null,f=f!=null?f[s]:null,typeof f=="function"&&e.removeEventListener(n,f,h),typeof o=="function")){typeof f!="function"&&f!==null&&(s in e?e[s]=null:e.hasAttribute(s)&&e.removeAttribute(s)),e.addEventListener(n,o,h);break t}s in e?e[s]=o:o===!0?e.setAttribute(s,""):Mi(e,s,o)}}}function an(e,n,s){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":kt("error",e),kt("load",e);var o=!1,h=!1,f;for(f in s)if(s.hasOwnProperty(f)){var g=s[f];if(g!=null)switch(f){case"src":o=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:oe(e,n,f,g,s,null)}}h&&oe(e,n,"srcSet",s.srcSet,s,null),o&&oe(e,n,"src",s.src,s,null);return;case"input":kt("invalid",e);var E=f=g=h=null,I=null,j=null;for(o in s)if(s.hasOwnProperty(o)){var Y=s[o];if(Y!=null)switch(o){case"name":h=Y;break;case"type":g=Y;break;case"checked":I=Y;break;case"defaultChecked":j=Y;break;case"value":f=Y;break;case"defaultValue":E=Y;break;case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(a(137,n));break;default:oe(e,n,o,Y,s,null)}}R(e,f,E,I,j,g,h,!1);return;case"select":kt("invalid",e),o=g=f=null;for(h in s)if(s.hasOwnProperty(h)&&(E=s[h],E!=null))switch(h){case"value":f=E;break;case"defaultValue":g=E;break;case"multiple":o=E;default:oe(e,n,h,E,s,null)}n=f,s=g,e.multiple=!!o,n!=null?J(e,!!o,n,!1):s!=null&&J(e,!!o,s,!0);return;case"textarea":kt("invalid",e),f=h=o=null;for(g in s)if(s.hasOwnProperty(g)&&(E=s[g],E!=null))switch(g){case"value":o=E;break;case"defaultValue":h=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(a(91));break;default:oe(e,n,g,E,s,null)}ft(e,o,h,f);return;case"option":for(I in s)if(s.hasOwnProperty(I)&&(o=s[I],o!=null))switch(I){case"selected":e.selected=o&&typeof o!="function"&&typeof o!="symbol";break;default:oe(e,n,I,o,s,null)}return;case"dialog":kt("beforetoggle",e),kt("toggle",e),kt("cancel",e),kt("close",e);break;case"iframe":case"object":kt("load",e);break;case"video":case"audio":for(o=0;o<Ml.length;o++)kt(Ml[o],e);break;case"image":kt("error",e),kt("load",e);break;case"details":kt("toggle",e);break;case"embed":case"source":case"link":kt("error",e),kt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(j in s)if(s.hasOwnProperty(j)&&(o=s[j],o!=null))switch(j){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:oe(e,n,j,o,s,null)}return;default:if(Vi(n)){for(Y in s)s.hasOwnProperty(Y)&&(o=s[Y],o!==void 0&&wd(e,n,Y,o,s,void 0));return}}for(E in s)s.hasOwnProperty(E)&&(o=s[E],o!=null&&oe(e,n,E,o,s,null))}function gb(e,n,s,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,g=null,E=null,I=null,j=null,Y=null;for(H in s){var $=s[H];if(s.hasOwnProperty(H)&&$!=null)switch(H){case"checked":break;case"value":break;case"defaultValue":I=$;default:o.hasOwnProperty(H)||oe(e,n,H,null,o,$)}}for(var B in o){var H=o[B];if($=s[B],o.hasOwnProperty(B)&&(H!=null||$!=null))switch(B){case"type":f=H;break;case"name":h=H;break;case"checked":j=H;break;case"defaultChecked":Y=H;break;case"value":g=H;break;case"defaultValue":E=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(a(137,n));break;default:H!==$&&oe(e,n,B,H,o,$)}}Fr(e,g,E,I,j,Y,f,h);return;case"select":H=g=E=B=null;for(f in s)if(I=s[f],s.hasOwnProperty(f)&&I!=null)switch(f){case"value":break;case"multiple":H=I;default:o.hasOwnProperty(f)||oe(e,n,f,null,o,I)}for(h in o)if(f=o[h],I=s[h],o.hasOwnProperty(h)&&(f!=null||I!=null))switch(h){case"value":B=f;break;case"defaultValue":E=f;break;case"multiple":g=f;default:f!==I&&oe(e,n,h,f,o,I)}n=E,s=g,o=H,B!=null?J(e,!!s,B,!1):!!o!=!!s&&(n!=null?J(e,!!s,n,!0):J(e,!!s,s?[]:"",!1));return;case"textarea":H=B=null;for(E in s)if(h=s[E],s.hasOwnProperty(E)&&h!=null&&!o.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:oe(e,n,E,null,o,h)}for(g in o)if(h=o[g],f=s[g],o.hasOwnProperty(g)&&(h!=null||f!=null))switch(g){case"value":B=h;break;case"defaultValue":H=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(a(91));break;default:h!==f&&oe(e,n,g,h,o,f)}ht(e,B,H);return;case"option":for(var ct in s)if(B=s[ct],s.hasOwnProperty(ct)&&B!=null&&!o.hasOwnProperty(ct))switch(ct){case"selected":e.selected=!1;break;default:oe(e,n,ct,null,o,B)}for(I in o)if(B=o[I],H=s[I],o.hasOwnProperty(I)&&B!==H&&(B!=null||H!=null))switch(I){case"selected":e.selected=B&&typeof B!="function"&&typeof B!="symbol";break;default:oe(e,n,I,B,o,H)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var vt in s)B=s[vt],s.hasOwnProperty(vt)&&B!=null&&!o.hasOwnProperty(vt)&&oe(e,n,vt,null,o,B);for(j in o)if(B=o[j],H=s[j],o.hasOwnProperty(j)&&B!==H&&(B!=null||H!=null))switch(j){case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(a(137,n));break;default:oe(e,n,j,B,o,H)}return;default:if(Vi(n)){for(var le in s)B=s[le],s.hasOwnProperty(le)&&B!==void 0&&!o.hasOwnProperty(le)&&wd(e,n,le,void 0,o,B);for(Y in o)B=o[Y],H=s[Y],!o.hasOwnProperty(Y)||B===H||B===void 0&&H===void 0||wd(e,n,Y,B,o,H);return}}for(var U in s)B=s[U],s.hasOwnProperty(U)&&B!=null&&!o.hasOwnProperty(U)&&oe(e,n,U,null,o,B);for($ in o)B=o[$],H=s[$],!o.hasOwnProperty($)||B===H||B==null&&H==null||oe(e,n,$,B,o,H)}function v_(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function pb(){if(typeof performance.getEntriesByType=="function"){for(var e=0,n=0,s=performance.getEntriesByType("resource"),o=0;o<s.length;o++){var h=s[o],f=h.transferSize,g=h.initiatorType,E=h.duration;if(f&&E&&v_(g)){for(g=0,E=h.responseEnd,o+=1;o<s.length;o++){var I=s[o],j=I.startTime;if(j>E)break;var Y=I.transferSize,$=I.initiatorType;Y&&v_($)&&(I=I.responseEnd,g+=Y*(I<E?1:(E-j)/(I-j)))}if(--o,n+=8*(f+g)/(h.duration/1e3),e++,10<e)break}}if(0<e)return n/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Rd=null,Id=null;function wc(e){return e.nodeType===9?e:e.ownerDocument}function E_(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function T_(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function Cd(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Nd=null;function yb(){var e=window.event;return e&&e.type==="popstate"?e===Nd?!1:(Nd=e,!0):(Nd=null,!1)}var b_=typeof setTimeout=="function"?setTimeout:void 0,_b=typeof clearTimeout=="function"?clearTimeout:void 0,S_=typeof Promise=="function"?Promise:void 0,vb=typeof queueMicrotask=="function"?queueMicrotask:typeof S_<"u"?function(e){return S_.resolve(null).then(e).catch(Eb)}:b_;function Eb(e){setTimeout(function(){throw e})}function fs(e){return e==="head"}function A_(e,n){var s=n,o=0;do{var h=s.nextSibling;if(e.removeChild(s),h&&h.nodeType===8)if(s=h.data,s==="/$"||s==="/&"){if(o===0){e.removeChild(h),Ao(n);return}o--}else if(s==="$"||s==="$?"||s==="$~"||s==="$!"||s==="&")o++;else if(s==="html")Vl(e.ownerDocument.documentElement);else if(s==="head"){s=e.ownerDocument.head,Vl(s);for(var f=s.firstChild;f;){var g=f.nextSibling,E=f.nodeName;f[Bn]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&f.rel.toLowerCase()==="stylesheet"||s.removeChild(f),f=g}}else s==="body"&&Vl(e.ownerDocument.body);s=h}while(s);Ao(n)}function w_(e,n){var s=e;e=0;do{var o=s.nextSibling;if(s.nodeType===1?n?(s._stashedDisplay=s.style.display,s.style.display="none"):(s.style.display=s._stashedDisplay||"",s.getAttribute("style")===""&&s.removeAttribute("style")):s.nodeType===3&&(n?(s._stashedText=s.nodeValue,s.nodeValue=""):s.nodeValue=s._stashedText||""),o&&o.nodeType===8)if(s=o.data,s==="/$"){if(e===0)break;e--}else s!=="$"&&s!=="$?"&&s!=="$~"&&s!=="$!"||e++;s=o}while(s)}function xd(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var s=n;switch(n=n.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":xd(s),rr(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}e.removeChild(s)}}function Tb(e,n,s,o){for(;e.nodeType===1;){var h=s;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!o&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(o){if(!e[Bn])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(f=e.getAttribute("rel"),f==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(f!==h.rel||e.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(f=e.getAttribute("src"),(f!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===f)return e}else return e;if(e=hi(e.nextSibling),e===null)break}return null}function bb(e,n,s){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!s||(e=hi(e.nextSibling),e===null))return null;return e}function R_(e,n){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=hi(e.nextSibling),e===null))return null;return e}function Dd(e){return e.data==="$?"||e.data==="$~"}function Md(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function Sb(e,n){var s=e.ownerDocument;if(e.data==="$~")e._reactRetry=n;else if(e.data!=="$?"||s.readyState!=="loading")n();else{var o=function(){n(),s.removeEventListener("DOMContentLoaded",o)};s.addEventListener("DOMContentLoaded",o),e._reactRetry=o}}function hi(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return e}var Od=null;function I_(e){e=e.nextSibling;for(var n=0;e;){if(e.nodeType===8){var s=e.data;if(s==="/$"||s==="/&"){if(n===0)return hi(e.nextSibling);n--}else s!=="$"&&s!=="$!"&&s!=="$?"&&s!=="$~"&&s!=="&"||n++}e=e.nextSibling}return null}function C_(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var s=e.data;if(s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"){if(n===0)return e;n--}else s!=="/$"&&s!=="/&"||n++}e=e.previousSibling}return null}function N_(e,n,s){switch(n=wc(s),e){case"html":if(e=n.documentElement,!e)throw Error(a(452));return e;case"head":if(e=n.head,!e)throw Error(a(453));return e;case"body":if(e=n.body,!e)throw Error(a(454));return e;default:throw Error(a(451))}}function Vl(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);rr(e)}var fi=new Map,x_=new Set;function Rc(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var br=rt.d;rt.d={f:Ab,r:wb,D:Rb,C:Ib,L:Cb,m:Nb,X:Db,S:xb,M:Mb};function Ab(){var e=br.f(),n=yc();return e||n}function wb(e){var n=Cn(e);n!==null&&n.tag===5&&n.type==="form"?Yp(n):br.r(e)}var To=typeof document>"u"?null:document;function D_(e,n,s){var o=To;if(o&&typeof n=="string"&&n){var h=We(n);h='link[rel="'+e+'"][href="'+h+'"]',typeof s=="string"&&(h+='[crossorigin="'+s+'"]'),x_.has(h)||(x_.add(h),e={rel:e,crossOrigin:s,href:n},o.querySelector(h)===null&&(n=o.createElement("link"),an(n,"link",e),Ae(n),o.head.appendChild(n)))}}function Rb(e){br.D(e),D_("dns-prefetch",e,null)}function Ib(e,n){br.C(e,n),D_("preconnect",e,n)}function Cb(e,n,s){br.L(e,n,s);var o=To;if(o&&e&&n){var h='link[rel="preload"][as="'+We(n)+'"]';n==="image"&&s&&s.imageSrcSet?(h+='[imagesrcset="'+We(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(h+='[imagesizes="'+We(s.imageSizes)+'"]')):h+='[href="'+We(e)+'"]';var f=h;switch(n){case"style":f=bo(e);break;case"script":f=So(e)}fi.has(f)||(e=S({rel:"preload",href:n==="image"&&s&&s.imageSrcSet?void 0:e,as:n},s),fi.set(f,e),o.querySelector(h)!==null||n==="style"&&o.querySelector(kl(f))||n==="script"&&o.querySelector(Ul(f))||(n=o.createElement("link"),an(n,"link",e),Ae(n),o.head.appendChild(n)))}}function Nb(e,n){br.m(e,n);var s=To;if(s&&e){var o=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+We(o)+'"][href="'+We(e)+'"]',f=h;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=So(e)}if(!fi.has(f)&&(e=S({rel:"modulepreload",href:e},n),fi.set(f,e),s.querySelector(h)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(Ul(f)))return}o=s.createElement("link"),an(o,"link",e),Ae(o),s.head.appendChild(o)}}}function xb(e,n,s){br.S(e,n,s);var o=To;if(o&&e){var h=Wn(o).hoistableStyles,f=bo(e);n=n||"default";var g=h.get(f);if(!g){var E={loading:0,preload:null};if(g=o.querySelector(kl(f)))E.loading=5;else{e=S({rel:"stylesheet",href:e,"data-precedence":n},s),(s=fi.get(f))&&Vd(e,s);var I=g=o.createElement("link");Ae(I),an(I,"link",e),I._p=new Promise(function(j,Y){I.onload=j,I.onerror=Y}),I.addEventListener("load",function(){E.loading|=1}),I.addEventListener("error",function(){E.loading|=2}),E.loading|=4,Ic(g,n,o)}g={type:"stylesheet",instance:g,count:1,state:E},h.set(f,g)}}}function Db(e,n){br.X(e,n);var s=To;if(s&&e){var o=Wn(s).hoistableScripts,h=So(e),f=o.get(h);f||(f=s.querySelector(Ul(h)),f||(e=S({src:e,async:!0},n),(n=fi.get(h))&&kd(e,n),f=s.createElement("script"),Ae(f),an(f,"link",e),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function Mb(e,n){br.M(e,n);var s=To;if(s&&e){var o=Wn(s).hoistableScripts,h=So(e),f=o.get(h);f||(f=s.querySelector(Ul(h)),f||(e=S({src:e,async:!0,type:"module"},n),(n=fi.get(h))&&kd(e,n),f=s.createElement("script"),Ae(f),an(f,"link",e),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function M_(e,n,s,o){var h=(h=Ct.current)?Rc(h):null;if(!h)throw Error(a(446));switch(e){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(n=bo(s.href),s=Wn(h).hoistableStyles,o=s.get(n),o||(o={type:"style",instance:null,count:0,state:null},s.set(n,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){e=bo(s.href);var f=Wn(h).hoistableStyles,g=f.get(e);if(g||(h=h.ownerDocument||h,g={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(e,g),(f=h.querySelector(kl(e)))&&!f._p&&(g.instance=f,g.state.loading=5),fi.has(e)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},fi.set(e,s),f||Ob(h,e,s,g.state))),n&&o===null)throw Error(a(528,""));return g}if(n&&o!==null)throw Error(a(529,""));return null;case"script":return n=s.async,s=s.src,typeof s=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=So(s),s=Wn(h).hoistableScripts,o=s.get(n),o||(o={type:"script",instance:null,count:0,state:null},s.set(n,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,e))}}function bo(e){return'href="'+We(e)+'"'}function kl(e){return'link[rel="stylesheet"]['+e+"]"}function O_(e){return S({},e,{"data-precedence":e.precedence,precedence:null})}function Ob(e,n,s,o){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?o.loading=1:(n=e.createElement("link"),o.preload=n,n.addEventListener("load",function(){return o.loading|=1}),n.addEventListener("error",function(){return o.loading|=2}),an(n,"link",s),Ae(n),e.head.appendChild(n))}function So(e){return'[src="'+We(e)+'"]'}function Ul(e){return"script[async]"+e}function V_(e,n,s){if(n.count++,n.instance===null)switch(n.type){case"style":var o=e.querySelector('style[data-href~="'+We(s.href)+'"]');if(o)return n.instance=o,Ae(o),o;var h=S({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return o=(e.ownerDocument||e).createElement("style"),Ae(o),an(o,"style",h),Ic(o,s.precedence,e),n.instance=o;case"stylesheet":h=bo(s.href);var f=e.querySelector(kl(h));if(f)return n.state.loading|=4,n.instance=f,Ae(f),f;o=O_(s),(h=fi.get(h))&&Vd(o,h),f=(e.ownerDocument||e).createElement("link"),Ae(f);var g=f;return g._p=new Promise(function(E,I){g.onload=E,g.onerror=I}),an(f,"link",o),n.state.loading|=4,Ic(f,s.precedence,e),n.instance=f;case"script":return f=So(s.src),(h=e.querySelector(Ul(f)))?(n.instance=h,Ae(h),h):(o=s,(h=fi.get(f))&&(o=S({},s),kd(o,h)),e=e.ownerDocument||e,h=e.createElement("script"),Ae(h),an(h,"link",o),e.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(a(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(o=n.instance,n.state.loading|=4,Ic(o,s.precedence,e));return n.instance}function Ic(e,n,s){for(var o=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=o.length?o[o.length-1]:null,f=h,g=0;g<o.length;g++){var E=o[g];if(E.dataset.precedence===n)f=E;else if(f!==h)break}f?f.parentNode.insertBefore(e,f.nextSibling):(n=s.nodeType===9?s.head:s,n.insertBefore(e,n.firstChild))}function Vd(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function kd(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var Cc=null;function k_(e,n,s){if(Cc===null){var o=new Map,h=Cc=new Map;h.set(s,o)}else h=Cc,o=h.get(s),o||(o=new Map,h.set(s,o));if(o.has(e))return o;for(o.set(e,null),s=s.getElementsByTagName(e),h=0;h<s.length;h++){var f=s[h];if(!(f[Bn]||f[Se]||e==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var g=f.getAttribute(n)||"";g=e+g;var E=o.get(g);E?E.push(f):o.set(g,[f])}}return o}function U_(e,n,s){e=e.ownerDocument||e,e.head.insertBefore(s,n==="title"?e.querySelector("head > title"):null)}function Vb(e,n,s){if(s===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return e=n.disabled,typeof n.precedence=="string"&&e==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function L_(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function kb(e,n,s,o){if(s.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var h=bo(o.href),f=n.querySelector(kl(h));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(e.count++,e=Nc.bind(e),n.then(e,e)),s.state.loading|=4,s.instance=f,Ae(f);return}f=n.ownerDocument||n,o=O_(o),(h=fi.get(h))&&Vd(o,h),f=f.createElement("link"),Ae(f);var g=f;g._p=new Promise(function(E,I){g.onload=E,g.onerror=I}),an(f,"link",o),s.instance=f}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(s,n),(n=s.state.preload)&&(s.state.loading&3)===0&&(e.count++,s=Nc.bind(e),n.addEventListener("load",s),n.addEventListener("error",s))}}var Ud=0;function Ub(e,n){return e.stylesheets&&e.count===0&&Dc(e,e.stylesheets),0<e.count||0<e.imgCount?function(s){var o=setTimeout(function(){if(e.stylesheets&&Dc(e,e.stylesheets),e.unsuspend){var f=e.unsuspend;e.unsuspend=null,f()}},6e4+n);0<e.imgBytes&&Ud===0&&(Ud=62500*pb());var h=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Dc(e,e.stylesheets),e.unsuspend)){var f=e.unsuspend;e.unsuspend=null,f()}},(e.imgBytes>Ud?50:800)+n);return e.unsuspend=s,function(){e.unsuspend=null,clearTimeout(o),clearTimeout(h)}}:null}function Nc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Dc(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var xc=null;function Dc(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,xc=new Map,n.forEach(Lb,e),xc=null,Nc.call(e))}function Lb(e,n){if(!(n.state.loading&4)){var s=xc.get(e);if(s)var o=s.get(null);else{s=new Map,xc.set(e,s);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var g=h[f];(g.nodeName==="LINK"||g.getAttribute("media")!=="not all")&&(s.set(g.dataset.precedence,g),o=g)}o&&s.set(null,o)}h=n.instance,g=h.getAttribute("data-precedence"),f=s.get(g)||o,f===o&&s.set(null,h),s.set(g,h),this.count++,o=Nc.bind(this),h.addEventListener("load",o),h.addEventListener("error",o),f?f.parentNode.insertBefore(h,f.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),n.state.loading|=4}}var Ll={$$typeof:_t,Provider:null,Consumer:null,_currentValue:mt,_currentValue2:mt,_threadCount:0};function Pb(e,n,s,o,h,f,g,E,I){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Pe(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Pe(0),this.hiddenUpdates=Pe(null),this.identifierPrefix=o,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=g,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=I,this.incompleteTransitions=new Map}function P_(e,n,s,o,h,f,g,E,I,j,Y,$){return e=new Pb(e,n,s,g,I,j,Y,$,E),n=1,f===!0&&(n|=24),f=Hn(3,null,null,n),e.current=f,f.stateNode=e,n=gf(),n.refCount++,e.pooledCache=n,n.refCount++,f.memoizedState={element:o,isDehydrated:s,cache:n},vf(f),e}function z_(e){return e?(e=Wa,e):Wa}function j_(e,n,s,o,h,f){h=z_(h),o.context===null?o.context=h:o.pendingContext=h,o=es(n),o.payload={element:s},f=f===void 0?null:f,f!==null&&(o.callback=f),s=ns(e,o,n),s!==null&&(On(s,e,n),gl(s,e,n))}function B_(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var s=e.retryLane;e.retryLane=s!==0&&s<n?s:n}}function Ld(e,n){B_(e,n),(e=e.alternate)&&B_(e,n)}function q_(e){if(e.tag===13||e.tag===31){var n=aa(e,67108864);n!==null&&On(n,e,67108864),Ld(e,67108864)}}function H_(e){if(e.tag===13||e.tag===31){var n=Kn();n=Di(n);var s=aa(e,n);s!==null&&On(s,e,n),Ld(e,n)}}var Mc=!0;function zb(e,n,s,o){var h=G.T;G.T=null;var f=rt.p;try{rt.p=2,Pd(e,n,s,o)}finally{rt.p=f,G.T=h}}function jb(e,n,s,o){var h=G.T;G.T=null;var f=rt.p;try{rt.p=8,Pd(e,n,s,o)}finally{rt.p=f,G.T=h}}function Pd(e,n,s,o){if(Mc){var h=zd(o);if(h===null)Ad(e,n,o,Oc,s),G_(e,o);else if(qb(h,e,n,s,o))o.stopPropagation();else if(G_(e,o),n&4&&-1<Bb.indexOf(e)){for(;h!==null;){var f=Cn(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var g=Le(f.pendingLanes);if(g!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;g;){var I=1<<31-me(g);E.entanglements[1]|=I,g&=~I}Gi(f),(Zt&6)===0&&(gc=$e()+500,Dl(0))}}break;case 31:case 13:E=aa(f,2),E!==null&&On(E,f,2),yc(),Ld(f,2)}if(f=zd(o),f===null&&Ad(e,n,o,Oc,s),f===h)break;h=f}h!==null&&o.stopPropagation()}else Ad(e,n,o,null,s)}}function zd(e){return e=ni(e),jd(e)}var Oc=null;function jd(e){if(Oc=null,e=Zn(e),e!==null){var n=c(e);if(n===null)e=null;else{var s=n.tag;if(s===13){if(e=d(n),e!==null)return e;e=null}else if(s===31){if(e=p(n),e!==null)return e;e=null}else if(s===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return Oc=e,null}function F_(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(nr()){case qs:return 2;case Ur:return 8;case hn:case ka:return 32;case Ni:return 268435456;default:return 32}default:return 32}}var Bd=!1,ds=null,ms=null,gs=null,Pl=new Map,zl=new Map,ps=[],Bb="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function G_(e,n){switch(e){case"focusin":case"focusout":ds=null;break;case"dragenter":case"dragleave":ms=null;break;case"mouseover":case"mouseout":gs=null;break;case"pointerover":case"pointerout":Pl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":zl.delete(n.pointerId)}}function jl(e,n,s,o,h,f){return e===null||e.nativeEvent!==f?(e={blockedOn:n,domEventName:s,eventSystemFlags:o,nativeEvent:f,targetContainers:[h]},n!==null&&(n=Cn(n),n!==null&&q_(n)),e):(e.eventSystemFlags|=o,n=e.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),e)}function qb(e,n,s,o,h){switch(n){case"focusin":return ds=jl(ds,e,n,s,o,h),!0;case"dragenter":return ms=jl(ms,e,n,s,o,h),!0;case"mouseover":return gs=jl(gs,e,n,s,o,h),!0;case"pointerover":var f=h.pointerId;return Pl.set(f,jl(Pl.get(f)||null,e,n,s,o,h)),!0;case"gotpointercapture":return f=h.pointerId,zl.set(f,jl(zl.get(f)||null,e,n,s,o,h)),!0}return!1}function Q_(e){var n=Zn(e.target);if(n!==null){var s=c(n);if(s!==null){if(n=s.tag,n===13){if(n=d(s),n!==null){e.blockedOn=n,jn(e.priority,function(){H_(s)});return}}else if(n===31){if(n=p(s),n!==null){e.blockedOn=n,jn(e.priority,function(){H_(s)});return}}else if(n===3&&s.stateNode.current.memoizedState.isDehydrated){e.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Vc(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var s=zd(e.nativeEvent);if(s===null){s=e.nativeEvent;var o=new s.constructor(s.type,s);Wo=o,s.target.dispatchEvent(o),Wo=null}else return n=Cn(s),n!==null&&q_(n),e.blockedOn=s,!1;n.shift()}return!0}function Y_(e,n,s){Vc(e)&&s.delete(n)}function Hb(){Bd=!1,ds!==null&&Vc(ds)&&(ds=null),ms!==null&&Vc(ms)&&(ms=null),gs!==null&&Vc(gs)&&(gs=null),Pl.forEach(Y_),zl.forEach(Y_)}function kc(e,n){e.blockedOn===n&&(e.blockedOn=null,Bd||(Bd=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,Hb)))}var Uc=null;function K_(e){Uc!==e&&(Uc=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Uc===e&&(Uc=null);for(var n=0;n<e.length;n+=3){var s=e[n],o=e[n+1],h=e[n+2];if(typeof o!="function"){if(jd(o||s)===null)continue;break}var f=Cn(s);f!==null&&(e.splice(n,3),n-=3,zf(f,{pending:!0,data:h,method:s.method,action:o},o,h))}}))}function Ao(e){function n(I){return kc(I,e)}ds!==null&&kc(ds,e),ms!==null&&kc(ms,e),gs!==null&&kc(gs,e),Pl.forEach(n),zl.forEach(n);for(var s=0;s<ps.length;s++){var o=ps[s];o.blockedOn===e&&(o.blockedOn=null)}for(;0<ps.length&&(s=ps[0],s.blockedOn===null);)Q_(s),s.blockedOn===null&&ps.shift();if(s=(e.ownerDocument||e).$$reactFormReplay,s!=null)for(o=0;o<s.length;o+=3){var h=s[o],f=s[o+1],g=h[ze]||null;if(typeof f=="function")g||K_(s);else if(g){var E=null;if(f&&f.hasAttribute("formAction")){if(h=f,g=f[ze]||null)E=g.formAction;else if(jd(h)!==null)continue}else E=g.action;typeof E=="function"?s[o+1]=E:(s.splice(o,3),o-=3),K_(s)}}}function X_(){function e(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(g){return h=g})},focusReset:"manual",scroll:"manual"})}function n(){h!==null&&(h(),h=null),o||setTimeout(s,20)}function s(){if(!o&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,h=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(s,100),function(){o=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),h!==null&&(h(),h=null)}}}function qd(e){this._internalRoot=e}Lc.prototype.render=qd.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(a(409));var s=n.current,o=Kn();j_(s,o,e,n,null,null)},Lc.prototype.unmount=qd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;j_(e.current,2,null,e,null,null),yc(),n[In]=null}};function Lc(e){this._internalRoot=e}Lc.prototype.unstable_scheduleHydration=function(e){if(e){var n=Gs();e={blockedOn:null,target:e,priority:n};for(var s=0;s<ps.length&&n!==0&&n<ps[s].priority;s++);ps.splice(s,0,e),s===0&&Q_(e)}};var $_=t.version;if($_!=="19.2.0")throw Error(a(527,$_,"19.2.0"));rt.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(a(188)):(e=Object.keys(e).join(","),Error(a(268,e)));return e=_(n),e=e!==null?b(e):null,e=e===null?null:e.stateNode,e};var Fb={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:G,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Pc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Pc.isDisabled&&Pc.supportsFiber)try{vn=Pc.inject(Fb),Ye=Pc}catch{}}return ql.createRoot=function(e,n){if(!l(e))throw Error(a(299));var s=!1,o="",h=iy,f=ry,g=sy;return n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(g=n.onRecoverableError)),n=P_(e,1,!1,null,null,s,o,null,h,f,g,X_),e[In]=n.current,Sd(e),new qd(n)},ql.hydrateRoot=function(e,n,s){if(!l(e))throw Error(a(299));var o=!1,h="",f=iy,g=ry,E=sy,I=null;return s!=null&&(s.unstable_strictMode===!0&&(o=!0),s.identifierPrefix!==void 0&&(h=s.identifierPrefix),s.onUncaughtError!==void 0&&(f=s.onUncaughtError),s.onCaughtError!==void 0&&(g=s.onCaughtError),s.onRecoverableError!==void 0&&(E=s.onRecoverableError),s.formState!==void 0&&(I=s.formState)),n=P_(e,1,!0,n,s??null,o,h,I,f,g,E,X_),n.context=z_(null),s=n.current,o=Kn(),o=Di(o),h=es(o),h.callback=null,ns(s,h,o),s=o,n.current.lanes=s,xi(n,s),Gi(n),e[In]=n.current,Sd(e),new Lc(n)},ql.version="19.2.0",ql}var a0;function eS(){if(a0)return Gd.exports;a0=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),Gd.exports=tS(),Gd.exports}var nS=eS();const iS=Qv(nS),rS=()=>{};var o0={};const Yv=function(r){const t=[];let i=0;for(let a=0;a<r.length;a++){let l=r.charCodeAt(a);l<128?t[i++]=l:l<2048?(t[i++]=l>>6|192,t[i++]=l&63|128):(l&64512)===55296&&a+1<r.length&&(r.charCodeAt(a+1)&64512)===56320?(l=65536+((l&1023)<<10)+(r.charCodeAt(++a)&1023),t[i++]=l>>18|240,t[i++]=l>>12&63|128,t[i++]=l>>6&63|128,t[i++]=l&63|128):(t[i++]=l>>12|224,t[i++]=l>>6&63|128,t[i++]=l&63|128)}return t},sS=function(r){const t=[];let i=0,a=0;for(;i<r.length;){const l=r[i++];if(l<128)t[a++]=String.fromCharCode(l);else if(l>191&&l<224){const c=r[i++];t[a++]=String.fromCharCode((l&31)<<6|c&63)}else if(l>239&&l<365){const c=r[i++],d=r[i++],p=r[i++],y=((l&7)<<18|(c&63)<<12|(d&63)<<6|p&63)-65536;t[a++]=String.fromCharCode(55296+(y>>10)),t[a++]=String.fromCharCode(56320+(y&1023))}else{const c=r[i++],d=r[i++];t[a++]=String.fromCharCode((l&15)<<12|(c&63)<<6|d&63)}}return t.join("")},Kv={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,t){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let l=0;l<r.length;l+=3){const c=r[l],d=l+1<r.length,p=d?r[l+1]:0,y=l+2<r.length,_=y?r[l+2]:0,b=c>>2,S=(c&3)<<4|p>>4;let O=(p&15)<<2|_>>6,Q=_&63;y||(Q=64,d||(O=64)),a.push(i[b],i[S],i[O],i[Q])}return a.join("")},encodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(r):this.encodeByteArray(Yv(r),t)},decodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(r):sS(this.decodeStringToByteArray(r,t))},decodeStringToByteArray(r,t){this.init_();const i=t?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let l=0;l<r.length;){const c=i[r.charAt(l++)],p=l<r.length?i[r.charAt(l)]:0;++l;const _=l<r.length?i[r.charAt(l)]:64;++l;const S=l<r.length?i[r.charAt(l)]:64;if(++l,c==null||p==null||_==null||S==null)throw new aS;const O=c<<2|p>>4;if(a.push(O),_!==64){const Q=p<<4&240|_>>2;if(a.push(Q),S!==64){const tt=_<<6&192|S;a.push(tt)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class aS extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const oS=function(r){const t=Yv(r);return Kv.encodeByteArray(t,!0)},ah=function(r){return oS(r).replace(/\./g,"")},Xv=function(r){try{return Kv.decodeString(r,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function lS(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const uS=()=>lS().__FIREBASE_DEFAULTS__,cS=()=>{if(typeof process>"u"||typeof o0>"u")return;const r=o0.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},hS=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=r&&Xv(r[1]);return t&&JSON.parse(t)},Ch=()=>{try{return rS()||uS()||cS()||hS()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},$v=r=>Ch()?.emulatorHosts?.[r],fS=r=>{const t=$v(r);if(!t)return;const i=t.lastIndexOf(":");if(i<=0||i+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const a=parseInt(t.substring(i+1),10);return t[0]==="["?[t.substring(1,i-1),a]:[t.substring(0,i),a]},Jv=()=>Ch()?.config,Zv=r=>Ch()?.[`_${r}`];class dS{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}wrapCallback(t){return(i,a)=>{i?this.reject(i):this.resolve(a),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(i):t(i,a))}}}function Fo(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Wv(r){return(await fetch(r,{credentials:"include"})).ok}function mS(r,t){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},a=t||"demo-project",l=r.iat||0,c=r.sub||r.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${a}`,aud:a,iat:l,exp:l+3600,auth_time:l,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...r};return[ah(JSON.stringify(i)),ah(JSON.stringify(d)),""].join(".")}const Xl={};function gS(){const r={prod:[],emulator:[]};for(const t of Object.keys(Xl))Xl[t]?r.emulator.push(t):r.prod.push(t);return r}function pS(r){let t=document.getElementById(r),i=!1;return t||(t=document.createElement("div"),t.setAttribute("id",r),i=!0),{created:i,element:t}}let l0=!1;function t1(r,t){if(typeof window>"u"||typeof document>"u"||!Fo(window.location.host)||Xl[r]===t||Xl[r]||l0)return;Xl[r]=t;function i(O){return`__firebase__banner__${O}`}const a="__firebase__banner",c=gS().prod.length>0;function d(){const O=document.getElementById(a);O&&O.remove()}function p(O){O.style.display="flex",O.style.background="#7faaf0",O.style.position="fixed",O.style.bottom="5px",O.style.left="5px",O.style.padding=".5em",O.style.borderRadius="5px",O.style.alignItems="center"}function y(O,Q){O.setAttribute("width","24"),O.setAttribute("id",Q),O.setAttribute("height","24"),O.setAttribute("viewBox","0 0 24 24"),O.setAttribute("fill","none"),O.style.marginLeft="-6px"}function _(){const O=document.createElement("span");return O.style.cursor="pointer",O.style.marginLeft="16px",O.style.fontSize="24px",O.innerHTML=" &times;",O.onclick=()=>{l0=!0,d()},O}function b(O,Q){O.setAttribute("id",Q),O.innerText="Learn more",O.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",O.setAttribute("target","__blank"),O.style.paddingLeft="5px",O.style.textDecoration="underline"}function S(){const O=pS(a),Q=i("text"),tt=document.getElementById(Q)||document.createElement("span"),nt=i("learnmore"),et=document.getElementById(nt)||document.createElement("a"),yt=i("preprendIcon"),wt=document.getElementById(yt)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(O.created){const _t=O.element;p(_t),b(et,nt);const Ot=_();y(wt,yt),_t.append(wt,tt,et,Ot),document.body.appendChild(_t)}c?(tt.innerText="Preview backend disconnected.",wt.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(wt.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,tt.innerText="Preview backend running in this workspace."),tt.setAttribute("id",Q)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",S):S()}function _n(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function yS(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(_n())}function _S(){const r=Ch()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function vS(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function ES(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function TS(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function bS(){const r=_n();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function SS(){return!_S()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function AS(){try{return typeof indexedDB=="object"}catch{return!1}}function wS(){return new Promise((r,t)=>{try{let i=!0;const a="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(a);l.onsuccess=()=>{l.result.close(),i||self.indexedDB.deleteDatabase(a),r(!0)},l.onupgradeneeded=()=>{i=!1},l.onerror=()=>{t(l.error?.message||"")}}catch(i){t(i)}})}const RS="FirebaseError";class Or extends Error{constructor(t,i,a){super(i),this.code=t,this.customData=a,this.name=RS,Object.setPrototypeOf(this,Or.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,hu.prototype.create)}}class hu{constructor(t,i,a){this.service=t,this.serviceName=i,this.errors=a}create(t,...i){const a=i[0]||{},l=`${this.service}/${t}`,c=this.errors[t],d=c?IS(c,a):"Error",p=`${this.serviceName}: ${d} (${l}).`;return new Or(l,p,a)}}function IS(r,t){return r.replace(CS,(i,a)=>{const l=t[a];return l!=null?String(l):`<${a}?>`})}const CS=/\{\$([^}]+)}/g;function NS(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}function Ia(r,t){if(r===t)return!0;const i=Object.keys(r),a=Object.keys(t);for(const l of i){if(!a.includes(l))return!1;const c=r[l],d=t[l];if(u0(c)&&u0(d)){if(!Ia(c,d))return!1}else if(c!==d)return!1}for(const l of a)if(!i.includes(l))return!1;return!0}function u0(r){return r!==null&&typeof r=="object"}function fu(r){const t=[];for(const[i,a]of Object.entries(r))Array.isArray(a)?a.forEach(l=>{t.push(encodeURIComponent(i)+"="+encodeURIComponent(l))}):t.push(encodeURIComponent(i)+"="+encodeURIComponent(a));return t.length?"&"+t.join("&"):""}function xS(r,t){const i=new DS(r,t);return i.subscribe.bind(i)}class DS{constructor(t,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{t(this)}).catch(a=>{this.error(a)})}next(t){this.forEachObserver(i=>{i.next(t)})}error(t){this.forEachObserver(i=>{i.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,i,a){let l;if(t===void 0&&i===void 0&&a===void 0)throw new Error("Missing Observer.");MS(t,["next","error","complete"])?l=t:l={next:t,error:i,complete:a},l.next===void 0&&(l.next=Xd),l.error===void 0&&(l.error=Xd),l.complete===void 0&&(l.complete=Xd);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),c}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,t)}sendOne(t,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{i(this.observers[t])}catch(a){typeof console<"u"&&console.error&&console.error(a)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function MS(r,t){if(typeof r!="object"||r===null)return!1;for(const i of t)if(i in r&&typeof r[i]=="function")return!0;return!1}function Xd(){}function un(r){return r&&r._delegate?r._delegate:r}class Ca{constructor(t,i,a){this.name=t,this.instanceFactory=i,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const va="[DEFAULT]";class OS{constructor(t,i){this.name=t,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const i=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(i)){const a=new dS;if(this.instancesDeferred.set(i,a),this.isInitialized(i)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:i});l&&a.resolve(l)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(t){const i=this.normalizeInstanceIdentifier(t?.identifier),a=t?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(l){if(a)return null;throw l}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(kS(t))try{this.getOrInitializeService({instanceIdentifier:va})}catch{}for(const[i,a]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:l});a.resolve(c)}catch{}}}}clearInstance(t=va){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...t.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=va){return this.instances.has(t)}getOptions(t=va){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:i={}}=t,a=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:a,options:i});for(const[c,d]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(c);a===p&&d.resolve(l)}return l}onInit(t,i){const a=this.normalizeInstanceIdentifier(i),l=this.onInitCallbacks.get(a)??new Set;l.add(t),this.onInitCallbacks.set(a,l);const c=this.instances.get(a);return c&&t(c,a),()=>{l.delete(t)}}invokeOnInitCallbacks(t,i){const a=this.onInitCallbacks.get(i);if(a)for(const l of a)try{l(t,i)}catch{}}getOrInitializeService({instanceIdentifier:t,options:i={}}){let a=this.instances.get(t);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:VS(t),options:i}),this.instances.set(t,a),this.instancesOptions.set(t,i),this.invokeOnInitCallbacks(a,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,a)}catch{}return a||null}normalizeInstanceIdentifier(t=va){return this.component?this.component.multipleInstances?t:va:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function VS(r){return r===va?void 0:r}function kS(r){return r.instantiationMode==="EAGER"}class US{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const i=this.getProvider(t.name);if(i.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);i.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const i=new OS(t,this);return this.providers.set(t,i),i}getProviders(){return Array.from(this.providers.values())}}var zt;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(zt||(zt={}));const LS={debug:zt.DEBUG,verbose:zt.VERBOSE,info:zt.INFO,warn:zt.WARN,error:zt.ERROR,silent:zt.SILENT},PS=zt.INFO,zS={[zt.DEBUG]:"log",[zt.VERBOSE]:"log",[zt.INFO]:"info",[zt.WARN]:"warn",[zt.ERROR]:"error"},jS=(r,t,...i)=>{if(t<r.logLevel)return;const a=new Date().toISOString(),l=zS[t];if(l)console[l](`[${a}]  ${r.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Bm{constructor(t){this.name=t,this._logLevel=PS,this._logHandler=jS,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in zt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?LS[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,zt.DEBUG,...t),this._logHandler(this,zt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,zt.VERBOSE,...t),this._logHandler(this,zt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,zt.INFO,...t),this._logHandler(this,zt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,zt.WARN,...t),this._logHandler(this,zt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,zt.ERROR,...t),this._logHandler(this,zt.ERROR,...t)}}const BS=(r,t)=>t.some(i=>r instanceof i);let c0,h0;function qS(){return c0||(c0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function HS(){return h0||(h0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const e1=new WeakMap,hm=new WeakMap,n1=new WeakMap,$d=new WeakMap,qm=new WeakMap;function FS(r){const t=new Promise((i,a)=>{const l=()=>{r.removeEventListener("success",c),r.removeEventListener("error",d)},c=()=>{i(As(r.result)),l()},d=()=>{a(r.error),l()};r.addEventListener("success",c),r.addEventListener("error",d)});return t.then(i=>{i instanceof IDBCursor&&e1.set(i,r)}).catch(()=>{}),qm.set(t,r),t}function GS(r){if(hm.has(r))return;const t=new Promise((i,a)=>{const l=()=>{r.removeEventListener("complete",c),r.removeEventListener("error",d),r.removeEventListener("abort",d)},c=()=>{i(),l()},d=()=>{a(r.error||new DOMException("AbortError","AbortError")),l()};r.addEventListener("complete",c),r.addEventListener("error",d),r.addEventListener("abort",d)});hm.set(r,t)}let fm={get(r,t,i){if(r instanceof IDBTransaction){if(t==="done")return hm.get(r);if(t==="objectStoreNames")return r.objectStoreNames||n1.get(r);if(t==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return As(r[t])},set(r,t,i){return r[t]=i,!0},has(r,t){return r instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in r}};function QS(r){fm=r(fm)}function YS(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...i){const a=r.call(Jd(this),t,...i);return n1.set(a,t.sort?t.sort():[t]),As(a)}:HS().includes(r)?function(...t){return r.apply(Jd(this),t),As(e1.get(this))}:function(...t){return As(r.apply(Jd(this),t))}}function KS(r){return typeof r=="function"?YS(r):(r instanceof IDBTransaction&&GS(r),BS(r,qS())?new Proxy(r,fm):r)}function As(r){if(r instanceof IDBRequest)return FS(r);if($d.has(r))return $d.get(r);const t=KS(r);return t!==r&&($d.set(r,t),qm.set(t,r)),t}const Jd=r=>qm.get(r);function XS(r,t,{blocked:i,upgrade:a,blocking:l,terminated:c}={}){const d=indexedDB.open(r,t),p=As(d);return a&&d.addEventListener("upgradeneeded",y=>{a(As(d.result),y.oldVersion,y.newVersion,As(d.transaction),y)}),i&&d.addEventListener("blocked",y=>i(y.oldVersion,y.newVersion,y)),p.then(y=>{c&&y.addEventListener("close",()=>c()),l&&y.addEventListener("versionchange",_=>l(_.oldVersion,_.newVersion,_))}).catch(()=>{}),p}const $S=["get","getKey","getAll","getAllKeys","count"],JS=["put","add","delete","clear"],Zd=new Map;function f0(r,t){if(!(r instanceof IDBDatabase&&!(t in r)&&typeof t=="string"))return;if(Zd.get(t))return Zd.get(t);const i=t.replace(/FromIndex$/,""),a=t!==i,l=JS.includes(i);if(!(i in(a?IDBIndex:IDBObjectStore).prototype)||!(l||$S.includes(i)))return;const c=async function(d,...p){const y=this.transaction(d,l?"readwrite":"readonly");let _=y.store;return a&&(_=_.index(p.shift())),(await Promise.all([_[i](...p),l&&y.done]))[0]};return Zd.set(t,c),c}QS(r=>({...r,get:(t,i,a)=>f0(t,i)||r.get(t,i,a),has:(t,i)=>!!f0(t,i)||r.has(t,i)}));class ZS{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(WS(i)){const a=i.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(i=>i).join(" ")}}function WS(r){return r.getComponent()?.type==="VERSION"}const dm="@firebase/app",d0="0.14.6";const Ir=new Bm("@firebase/app"),tA="@firebase/app-compat",eA="@firebase/analytics-compat",nA="@firebase/analytics",iA="@firebase/app-check-compat",rA="@firebase/app-check",sA="@firebase/auth",aA="@firebase/auth-compat",oA="@firebase/database",lA="@firebase/data-connect",uA="@firebase/database-compat",cA="@firebase/functions",hA="@firebase/functions-compat",fA="@firebase/installations",dA="@firebase/installations-compat",mA="@firebase/messaging",gA="@firebase/messaging-compat",pA="@firebase/performance",yA="@firebase/performance-compat",_A="@firebase/remote-config",vA="@firebase/remote-config-compat",EA="@firebase/storage",TA="@firebase/storage-compat",bA="@firebase/firestore",SA="@firebase/ai",AA="@firebase/firestore-compat",wA="firebase",RA="12.6.0";const mm="[DEFAULT]",IA={[dm]:"fire-core",[tA]:"fire-core-compat",[nA]:"fire-analytics",[eA]:"fire-analytics-compat",[rA]:"fire-app-check",[iA]:"fire-app-check-compat",[sA]:"fire-auth",[aA]:"fire-auth-compat",[oA]:"fire-rtdb",[lA]:"fire-data-connect",[uA]:"fire-rtdb-compat",[cA]:"fire-fn",[hA]:"fire-fn-compat",[fA]:"fire-iid",[dA]:"fire-iid-compat",[mA]:"fire-fcm",[gA]:"fire-fcm-compat",[pA]:"fire-perf",[yA]:"fire-perf-compat",[_A]:"fire-rc",[vA]:"fire-rc-compat",[EA]:"fire-gcs",[TA]:"fire-gcs-compat",[bA]:"fire-fst",[AA]:"fire-fst-compat",[SA]:"fire-vertex","fire-js":"fire-js",[wA]:"fire-js-all"};const oh=new Map,CA=new Map,gm=new Map;function m0(r,t){try{r.container.addComponent(t)}catch(i){Ir.debug(`Component ${t.name} failed to register with FirebaseApp ${r.name}`,i)}}function Lo(r){const t=r.name;if(gm.has(t))return Ir.debug(`There were multiple attempts to register component ${t}.`),!1;gm.set(t,r);for(const i of oh.values())m0(i,r);for(const i of CA.values())m0(i,r);return!0}function Hm(r,t){const i=r.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),r.container.getProvider(t)}function di(r){return r==null?!1:r.settings!==void 0}const NA={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ws=new hu("app","Firebase",NA);class xA{constructor(t,i,a){this._isDeleted=!1,this._options={...t},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new Ca("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw ws.create("app-deleted",{appName:this._name})}}const Go=RA;function i1(r,t={}){let i=r;typeof t!="object"&&(t={name:t});const a={name:mm,automaticDataCollectionEnabled:!0,...t},l=a.name;if(typeof l!="string"||!l)throw ws.create("bad-app-name",{appName:String(l)});if(i||(i=Jv()),!i)throw ws.create("no-options");const c=oh.get(l);if(c){if(Ia(i,c.options)&&Ia(a,c.config))return c;throw ws.create("duplicate-app",{appName:l})}const d=new US(l);for(const y of gm.values())d.addComponent(y);const p=new xA(i,a,d);return oh.set(l,p),p}function r1(r=mm){const t=oh.get(r);if(!t&&r===mm&&Jv())return i1();if(!t)throw ws.create("no-app",{appName:r});return t}function Rs(r,t,i){let a=IA[r]??r;i&&(a+=`-${i}`);const l=a.match(/\s|\//),c=t.match(/\s|\//);if(l||c){const d=[`Unable to register library "${a}" with version "${t}":`];l&&d.push(`library name "${a}" contains illegal characters (whitespace or "/")`),l&&c&&d.push("and"),c&&d.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Ir.warn(d.join(" "));return}Lo(new Ca(`${a}-version`,()=>({library:a,version:t}),"VERSION"))}const DA="firebase-heartbeat-database",MA=1,eu="firebase-heartbeat-store";let Wd=null;function s1(){return Wd||(Wd=XS(DA,MA,{upgrade:(r,t)=>{switch(t){case 0:try{r.createObjectStore(eu)}catch(i){console.warn(i)}}}}).catch(r=>{throw ws.create("idb-open",{originalErrorMessage:r.message})})),Wd}async function OA(r){try{const i=(await s1()).transaction(eu),a=await i.objectStore(eu).get(a1(r));return await i.done,a}catch(t){if(t instanceof Or)Ir.warn(t.message);else{const i=ws.create("idb-get",{originalErrorMessage:t?.message});Ir.warn(i.message)}}}async function g0(r,t){try{const a=(await s1()).transaction(eu,"readwrite");await a.objectStore(eu).put(t,a1(r)),await a.done}catch(i){if(i instanceof Or)Ir.warn(i.message);else{const a=ws.create("idb-set",{originalErrorMessage:i?.message});Ir.warn(a.message)}}}function a1(r){return`${r.name}!${r.options.appId}`}const VA=1024,kA=30;class UA{constructor(t){this.container=t,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new PA(i),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=p0();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(l=>l.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>kA){const l=zA(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){Ir.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=p0(),{heartbeatsToSend:i,unsentEntries:a}=LA(this._heartbeatsCache.heartbeats),l=ah(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return Ir.warn(t),""}}}function p0(){return new Date().toISOString().substring(0,10)}function LA(r,t=VA){const i=[];let a=r.slice();for(const l of r){const c=i.find(d=>d.agent===l.agent);if(c){if(c.dates.push(l.date),y0(i)>t){c.dates.pop();break}}else if(i.push({agent:l.agent,dates:[l.date]}),y0(i)>t){i.pop();break}a=a.slice(1)}return{heartbeatsToSend:i,unsentEntries:a}}class PA{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return AS()?wS().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await OA(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const a=await this.read();return g0(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const a=await this.read();return g0(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...t.heartbeats]})}else return}}function y0(r){return ah(JSON.stringify({version:2,heartbeats:r})).length}function zA(r){if(r.length===0)return-1;let t=0,i=r[0].date;for(let a=1;a<r.length;a++)r[a].date<i&&(i=r[a].date,t=a);return t}function jA(r){Lo(new Ca("platform-logger",t=>new ZS(t),"PRIVATE")),Lo(new Ca("heartbeat",t=>new UA(t),"PRIVATE")),Rs(dm,d0,r),Rs(dm,d0,"esm2020"),Rs("fire-js","")}jA("");var BA="firebase",qA="12.6.0";Rs(BA,qA,"app");function o1(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const HA=o1,l1=new hu("auth","Firebase",o1());const lh=new Bm("@firebase/auth");function FA(r,...t){lh.logLevel<=zt.WARN&&lh.warn(`Auth (${Go}): ${r}`,...t)}function Xc(r,...t){lh.logLevel<=zt.ERROR&&lh.error(`Auth (${Go}): ${r}`,...t)}function Cr(r,...t){throw Fm(r,...t)}function Yi(r,...t){return Fm(r,...t)}function u1(r,t,i){const a={...HA(),[t]:i};return new hu("auth","Firebase",a).create(t,{appName:r.name})}function Rr(r){return u1(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Fm(r,...t){if(typeof r!="string"){const i=t[0],a=[...t.slice(1)];return a[0]&&(a[0].appName=r.name),r._errorFactory.create(i,...a)}return l1.create(r,...t)}function St(r,t,...i){if(!r)throw Fm(t,...i)}function Ar(r){const t="INTERNAL ASSERTION FAILED: "+r;throw Xc(t),new Error(t)}function Nr(r,t){r||Ar(t)}function pm(){return typeof self<"u"&&self.location?.href||""}function GA(){return _0()==="http:"||_0()==="https:"}function _0(){return typeof self<"u"&&self.location?.protocol||null}function QA(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(GA()||ES()||"connection"in navigator)?navigator.onLine:!0}function YA(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}class du{constructor(t,i){this.shortDelay=t,this.longDelay=i,Nr(i>t,"Short delay should be less than long delay!"),this.isMobile=yS()||TS()}get(){return QA()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Gm(r,t){Nr(r.emulator,"Emulator should always be set here");const{url:i}=r.emulator;return t?`${i}${t.startsWith("/")?t.slice(1):t}`:i}class c1{static initialize(t,i,a){this.fetchImpl=t,i&&(this.headersImpl=i),a&&(this.responseImpl=a)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ar("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ar("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ar("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const KA={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const XA=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],$A=new du(3e4,6e4);function mu(r,t){return r.tenantId&&!t.tenantId?{...t,tenantId:r.tenantId}:t}async function Qo(r,t,i,a,l={}){return h1(r,l,async()=>{let c={},d={};a&&(t==="GET"?d=a:c={body:JSON.stringify(a)});const p=fu({key:r.config.apiKey,...d}).slice(1),y=await r._getAdditionalHeaders();y["Content-Type"]="application/json",r.languageCode&&(y["X-Firebase-Locale"]=r.languageCode);const _={method:t,headers:y,...c};return vS()||(_.referrerPolicy="no-referrer"),r.emulatorConfig&&Fo(r.emulatorConfig.host)&&(_.credentials="include"),c1.fetch()(await f1(r,r.config.apiHost,i,p),_)})}async function h1(r,t,i){r._canInitEmulator=!1;const a={...KA,...t};try{const l=new JA(r),c=await Promise.race([i(),l.promise]);l.clearNetworkTimeout();const d=await c.json();if("needConfirmation"in d)throw zc(r,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const p=c.ok?d.errorMessage:d.error.message,[y,_]=p.split(" : ");if(y==="FEDERATED_USER_ID_ALREADY_LINKED")throw zc(r,"credential-already-in-use",d);if(y==="EMAIL_EXISTS")throw zc(r,"email-already-in-use",d);if(y==="USER_DISABLED")throw zc(r,"user-disabled",d);const b=a[y]||y.toLowerCase().replace(/[_\s]+/g,"-");if(_)throw u1(r,b,_);Cr(r,b)}}catch(l){if(l instanceof Or)throw l;Cr(r,"network-request-failed",{message:String(l)})}}async function Qm(r,t,i,a,l={}){const c=await Qo(r,t,i,a,l);return"mfaPendingCredential"in c&&Cr(r,"multi-factor-auth-required",{_serverResponse:c}),c}async function f1(r,t,i,a){const l=`${t}${i}?${a}`,c=r,d=c.config.emulator?Gm(r.config,l):`${r.config.apiScheme}://${l}`;return XA.includes(i)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(d).toString():d}class JA{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((i,a)=>{this.timer=setTimeout(()=>a(Yi(this.auth,"network-request-failed")),$A.get())})}}function zc(r,t,i){const a={appName:r.name};i.email&&(a.email=i.email),i.phoneNumber&&(a.phoneNumber=i.phoneNumber);const l=Yi(r,t,a);return l.customData._tokenResponse=i,l}async function ZA(r,t){return Qo(r,"POST","/v1/accounts:delete",t)}async function uh(r,t){return Qo(r,"POST","/v1/accounts:lookup",t)}function $l(r){if(r)try{const t=new Date(Number(r));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function WA(r,t=!1){const i=un(r),a=await i.getIdToken(t),l=Ym(a);St(l&&l.exp&&l.auth_time&&l.iat,i.auth,"internal-error");const c=typeof l.firebase=="object"?l.firebase:void 0,d=c?.sign_in_provider;return{claims:l,token:a,authTime:$l(tm(l.auth_time)),issuedAtTime:$l(tm(l.iat)),expirationTime:$l(tm(l.exp)),signInProvider:d||null,signInSecondFactor:c?.sign_in_second_factor||null}}function tm(r){return Number(r)*1e3}function Ym(r){const[t,i,a]=r.split(".");if(t===void 0||i===void 0||a===void 0)return Xc("JWT malformed, contained fewer than 3 sections"),null;try{const l=Xv(i);return l?JSON.parse(l):(Xc("Failed to decode base64 JWT payload"),null)}catch(l){return Xc("Caught error parsing JWT payload as JSON",l?.toString()),null}}function v0(r){const t=Ym(r);return St(t,"internal-error"),St(typeof t.exp<"u","internal-error"),St(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}async function nu(r,t,i=!1){if(i)return t;try{return await t}catch(a){throw a instanceof Or&&t2(a)&&r.auth.currentUser===r&&await r.auth.signOut(),a}}function t2({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}class e2{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const a=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,a)}}schedule(t=!1){if(!this.isRunning)return;const i=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class ym{constructor(t,i){this.createdAt=t,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=$l(this.lastLoginAt),this.creationTime=$l(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function ch(r){const t=r.auth,i=await r.getIdToken(),a=await nu(r,uh(t,{idToken:i}));St(a?.users.length,t,"internal-error");const l=a.users[0];r._notifyReloadListener(l);const c=l.providerUserInfo?.length?d1(l.providerUserInfo):[],d=i2(r.providerData,c),p=r.isAnonymous,y=!(r.email&&l.passwordHash)&&!d?.length,_=p?y:!1,b={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:d,metadata:new ym(l.createdAt,l.lastLoginAt),isAnonymous:_};Object.assign(r,b)}async function n2(r){const t=un(r);await ch(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function i2(r,t){return[...r.filter(a=>!t.some(l=>l.providerId===a.providerId)),...t]}function d1(r){return r.map(({providerId:t,...i})=>({providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}async function r2(r,t){const i=await h1(r,{},async()=>{const a=fu({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:l,apiKey:c}=r.config,d=await f1(r,l,"/v1/token",`key=${c}`),p=await r._getAdditionalHeaders();p["Content-Type"]="application/x-www-form-urlencoded";const y={method:"POST",headers:p,body:a};return r.emulatorConfig&&Fo(r.emulatorConfig.host)&&(y.credentials="include"),c1.fetch()(d,y)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function s2(r,t){return Qo(r,"POST","/v2/accounts:revokeToken",mu(r,t))}class Do{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){St(t.idToken,"internal-error"),St(typeof t.idToken<"u","internal-error"),St(typeof t.refreshToken<"u","internal-error");const i="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):v0(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,i)}updateFromIdToken(t){St(t.length!==0,"internal-error");const i=v0(t);this.updateTokensAndExpiration(t,null,i)}async getToken(t,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(St(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,i){const{accessToken:a,refreshToken:l,expiresIn:c}=await r2(t,i);this.updateTokensAndExpiration(a,l,Number(c))}updateTokensAndExpiration(t,i,a){this.refreshToken=i||null,this.accessToken=t||null,this.expirationTime=Date.now()+a*1e3}static fromJSON(t,i){const{refreshToken:a,accessToken:l,expirationTime:c}=i,d=new Do;return a&&(St(typeof a=="string","internal-error",{appName:t}),d.refreshToken=a),l&&(St(typeof l=="string","internal-error",{appName:t}),d.accessToken=l),c&&(St(typeof c=="number","internal-error",{appName:t}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Do,this.toJSON())}_performRefresh(){return Ar("not implemented")}}function _s(r,t){St(typeof r=="string"||typeof r>"u","internal-error",{appName:t})}class Ii{constructor({uid:t,auth:i,stsTokenManager:a,...l}){this.providerId="firebase",this.proactiveRefresh=new e2(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new ym(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(t){const i=await nu(this,this.stsTokenManager.getToken(this.auth,t));return St(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(t){return WA(this,t)}reload(){return n2(this)}_assign(t){this!==t&&(St(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(i=>({...i})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const i=new Ii({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(t){St(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,i=!1){let a=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),a=!0),i&&await ch(this),await this.auth._persistUserIfCurrent(this),a&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(di(this.auth.app))return Promise.reject(Rr(this.auth));const t=await this.getIdToken();return await nu(this,ZA(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,i){const a=i.displayName??void 0,l=i.email??void 0,c=i.phoneNumber??void 0,d=i.photoURL??void 0,p=i.tenantId??void 0,y=i._redirectEventId??void 0,_=i.createdAt??void 0,b=i.lastLoginAt??void 0,{uid:S,emailVerified:O,isAnonymous:Q,providerData:tt,stsTokenManager:nt}=i;St(S&&nt,t,"internal-error");const et=Do.fromJSON(this.name,nt);St(typeof S=="string",t,"internal-error"),_s(a,t.name),_s(l,t.name),St(typeof O=="boolean",t,"internal-error"),St(typeof Q=="boolean",t,"internal-error"),_s(c,t.name),_s(d,t.name),_s(p,t.name),_s(y,t.name),_s(_,t.name),_s(b,t.name);const yt=new Ii({uid:S,auth:t,email:l,emailVerified:O,displayName:a,isAnonymous:Q,photoURL:d,phoneNumber:c,tenantId:p,stsTokenManager:et,createdAt:_,lastLoginAt:b});return tt&&Array.isArray(tt)&&(yt.providerData=tt.map(wt=>({...wt}))),y&&(yt._redirectEventId=y),yt}static async _fromIdTokenResponse(t,i,a=!1){const l=new Do;l.updateFromServerResponse(i);const c=new Ii({uid:i.localId,auth:t,stsTokenManager:l,isAnonymous:a});return await ch(c),c}static async _fromGetAccountInfoResponse(t,i,a){const l=i.users[0];St(l.localId!==void 0,"internal-error");const c=l.providerUserInfo!==void 0?d1(l.providerUserInfo):[],d=!(l.email&&l.passwordHash)&&!c?.length,p=new Do;p.updateFromIdToken(a);const y=new Ii({uid:l.localId,auth:t,stsTokenManager:p,isAnonymous:d}),_={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:c,metadata:new ym(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!c?.length};return Object.assign(y,_),y}}const E0=new Map;function wr(r){Nr(r instanceof Function,"Expected a class definition");let t=E0.get(r);return t?(Nr(t instanceof r,"Instance stored in cache mismatched with class"),t):(t=new r,E0.set(r,t),t)}class m1{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,i){this.storage[t]=i}async _get(t){const i=this.storage[t];return i===void 0?null:i}async _remove(t){delete this.storage[t]}_addListener(t,i){}_removeListener(t,i){}}m1.type="NONE";const T0=m1;function $c(r,t,i){return`firebase:${r}:${t}:${i}`}class Mo{constructor(t,i,a){this.persistence=t,this.auth=i,this.userKey=a;const{config:l,name:c}=this.auth;this.fullUserKey=$c(this.userKey,l.apiKey,c),this.fullPersistenceKey=$c("persistence",l.apiKey,c),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const i=await uh(this.auth,{idToken:t}).catch(()=>{});return i?Ii._fromGetAccountInfoResponse(this.auth,i,t):null}return Ii._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,i,a="authUser"){if(!i.length)return new Mo(wr(T0),t,a);const l=(await Promise.all(i.map(async _=>{if(await _._isAvailable())return _}))).filter(_=>_);let c=l[0]||wr(T0);const d=$c(a,t.config.apiKey,t.name);let p=null;for(const _ of i)try{const b=await _._get(d);if(b){let S;if(typeof b=="string"){const O=await uh(t,{idToken:b}).catch(()=>{});if(!O)break;S=await Ii._fromGetAccountInfoResponse(t,O,b)}else S=Ii._fromJSON(t,b);_!==c&&(p=S),c=_;break}}catch{}const y=l.filter(_=>_._shouldAllowMigration);return!c._shouldAllowMigration||!y.length?new Mo(c,t,a):(c=y[0],p&&await c._set(d,p.toJSON()),await Promise.all(i.map(async _=>{if(_!==c)try{await _._remove(d)}catch{}})),new Mo(c,t,a))}}function b0(r){const t=r.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(_1(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(g1(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(E1(t))return"Blackberry";if(T1(t))return"Webos";if(p1(t))return"Safari";if((t.includes("chrome/")||y1(t))&&!t.includes("edge/"))return"Chrome";if(v1(t))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,a=r.match(i);if(a?.length===2)return a[1]}return"Other"}function g1(r=_n()){return/firefox\//i.test(r)}function p1(r=_n()){const t=r.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function y1(r=_n()){return/crios\//i.test(r)}function _1(r=_n()){return/iemobile/i.test(r)}function v1(r=_n()){return/android/i.test(r)}function E1(r=_n()){return/blackberry/i.test(r)}function T1(r=_n()){return/webos/i.test(r)}function Km(r=_n()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function a2(r=_n()){return Km(r)&&!!window.navigator?.standalone}function o2(){return bS()&&document.documentMode===10}function b1(r=_n()){return Km(r)||v1(r)||T1(r)||E1(r)||/windows phone/i.test(r)||_1(r)}function S1(r,t=[]){let i;switch(r){case"Browser":i=b0(_n());break;case"Worker":i=`${b0(_n())}-${r}`;break;default:i=r}const a=t.length?t.join(","):"FirebaseCore-web";return`${i}/JsCore/${Go}/${a}`}class l2{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,i){const a=c=>new Promise((d,p)=>{try{const y=t(c);d(y)}catch(y){p(y)}});a.onAbort=i,this.queue.push(a);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const i=[];try{for(const a of this.queue)await a(t),a.onAbort&&i.push(a.onAbort)}catch(a){i.reverse();for(const l of i)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:a?.message})}}}async function u2(r,t={}){return Qo(r,"GET","/v2/passwordPolicy",mu(r,t))}const c2=6;class h2{constructor(t){const i=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??c2,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,i),this.validatePasswordCharacterOptions(t,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(t,i){const a=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;a&&(i.meetsMinPasswordLength=t.length>=a),l&&(i.meetsMaxPasswordLength=t.length<=l)}validatePasswordCharacterOptions(t,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let a;for(let l=0;l<t.length;l++)a=t.charAt(l),this.updatePasswordCharacterOptionsStatuses(i,a>="a"&&a<="z",a>="A"&&a<="Z",a>="0"&&a<="9",this.allowedNonAlphanumericCharacters.includes(a))}updatePasswordCharacterOptionsStatuses(t,i,a,l,c){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=a)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=c))}}class f2{constructor(t,i,a,l){this.app=t,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=a,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new S0(this),this.idTokenSubscription=new S0(this),this.beforeStateQueue=new l2(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=l1,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(t,i){return i&&(this._popupRedirectResolver=wr(i)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Mo.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const i=await uh(this,{idToken:t}),a=await Ii._fromGetAccountInfoResponse(this,i,t);await this.directlySetCurrentUser(a)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(di(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let a=i,l=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,d=a?._redirectEventId,p=await this.tryRedirectSignIn(t);(!c||c===d)&&p?.user&&(a=p.user,l=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(a)}catch(c){a=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return St(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(t){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(t){try{await ch(t)}catch(i){if(i?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=YA()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(di(this.app))return Promise.reject(Rr(this));const i=t?un(t):null;return i&&St(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(t,i=!1){if(!this._deleted)return t&&St(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return di(this.app)?Promise.reject(Rr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return di(this.app)?Promise.reject(Rr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(wr(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await u2(this),i=new h2(t);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new hu("auth","Firebase",t())}onAuthStateChanged(t,i,a){return this.registerStateListener(this.authStateSubscription,t,i,a)}beforeAuthStateChanged(t,i){return this.beforeStateQueue.pushCallback(t,i)}onIdTokenChanged(t,i,a){return this.registerStateListener(this.idTokenSubscription,t,i,a)}authStateReady(){return new Promise((t,i)=>{if(this.currentUser)t();else{const a=this.onAuthStateChanged(()=>{a(),t()},i)}})}async revokeAccessToken(t){if(this.currentUser){const i=await this.currentUser.getIdToken(),a={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:i};this.tenantId!=null&&(a.tenantId=this.tenantId),await s2(this,a)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,i){const a=await this.getOrInitRedirectPersistenceManager(i);return t===null?a.removeCurrentUser():a.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const i=t&&wr(t)||this._popupRedirectResolver;St(i,this,"argument-error"),this.redirectPersistenceManager=await Mo.create(this,[wr(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,i,a,l){if(this._deleted)return()=>{};const c=typeof i=="function"?i:i.next.bind(i);let d=!1;const p=this._isInitialized?Promise.resolve():this._initializationPromise;if(St(p,this,"internal-error"),p.then(()=>{d||c(this.currentUser)}),typeof i=="function"){const y=t.addObserver(i,a,l);return()=>{d=!0,y()}}else{const y=t.addObserver(i);return()=>{d=!0,y()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return St(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=S1(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();i&&(t["X-Firebase-Client"]=i);const a=await this._getAppCheckToken();return a&&(t["X-Firebase-AppCheck"]=a),t}async _getAppCheckToken(){if(di(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&FA(`Error while retrieving App Check token: ${t.error}`),t?.token}}function gu(r){return un(r)}class S0{constructor(t){this.auth=t,this.observer=null,this.addObserver=xS(i=>this.observer=i)}get next(){return St(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Xm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function d2(r){Xm=r}function m2(r){return Xm.loadJS(r)}function g2(){return Xm.gapiScript}function p2(r){return`__${r}${Math.floor(Math.random()*1e6)}`}function y2(r,t){const i=Hm(r,"auth");if(i.isInitialized()){const l=i.getImmediate(),c=i.getOptions();if(Ia(c,t??{}))return l;Cr(l,"already-initialized")}return i.initialize({options:t})}function _2(r,t){const i=t?.persistence||[],a=(Array.isArray(i)?i:[i]).map(wr);t?.errorMap&&r._updateErrorMap(t.errorMap),r._initializeWithPersistence(a,t?.popupRedirectResolver)}function v2(r,t,i){const a=gu(r);St(/^https?:\/\//.test(t),a,"invalid-emulator-scheme");const l=!1,c=A1(t),{host:d,port:p}=E2(t),y=p===null?"":`:${p}`,_={url:`${c}//${d}${y}/`},b=Object.freeze({host:d,port:p,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!a._canInitEmulator){St(a.config.emulator&&a.emulatorConfig,a,"emulator-config-failed"),St(Ia(_,a.config.emulator)&&Ia(b,a.emulatorConfig),a,"emulator-config-failed");return}a.config.emulator=_,a.emulatorConfig=b,a.settings.appVerificationDisabledForTesting=!0,Fo(d)?(Wv(`${c}//${d}${y}`),t1("Auth",!0)):T2()}function A1(r){const t=r.indexOf(":");return t<0?"":r.substr(0,t+1)}function E2(r){const t=A1(r),i=/(\/\/)?([^?#/]+)/.exec(r.substr(t.length));if(!i)return{host:"",port:null};const a=i[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(a);if(l){const c=l[1];return{host:c,port:A0(a.substr(c.length+1))}}else{const[c,d]=a.split(":");return{host:c,port:A0(d)}}}function A0(r){if(!r)return null;const t=Number(r);return isNaN(t)?null:t}function T2(){function r(){const t=document.createElement("p"),i=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}class w1{constructor(t,i){this.providerId=t,this.signInMethod=i}toJSON(){return Ar("not implemented")}_getIdTokenResponse(t){return Ar("not implemented")}_linkToIdToken(t,i){return Ar("not implemented")}_getReauthenticationResolver(t){return Ar("not implemented")}}async function Oo(r,t){return Qm(r,"POST","/v1/accounts:signInWithIdp",mu(r,t))}const b2="http://localhost";class Na extends w1{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const i=new Na(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(i.idToken=t.idToken),t.accessToken&&(i.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(i.nonce=t.nonce),t.pendingToken&&(i.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(i.accessToken=t.oauthToken,i.secret=t.oauthTokenSecret):Cr("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const i=typeof t=="string"?JSON.parse(t):t,{providerId:a,signInMethod:l,...c}=i;if(!a||!l)return null;const d=new Na(a,l);return d.idToken=c.idToken||void 0,d.accessToken=c.accessToken||void 0,d.secret=c.secret,d.nonce=c.nonce,d.pendingToken=c.pendingToken||null,d}_getIdTokenResponse(t){const i=this.buildRequest();return Oo(t,i)}_linkToIdToken(t,i){const a=this.buildRequest();return a.idToken=i,Oo(t,a)}_getReauthenticationResolver(t){const i=this.buildRequest();return i.autoCreate=!1,Oo(t,i)}buildRequest(){const t={requestUri:b2,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),t.postBody=fu(i)}return t}}class R1{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}class pu extends R1{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}class vs extends pu{constructor(){super("facebook.com")}static credential(t){return Na._fromParams({providerId:vs.PROVIDER_ID,signInMethod:vs.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return vs.credentialFromTaggedObject(t)}static credentialFromError(t){return vs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return vs.credential(t.oauthAccessToken)}catch{return null}}}vs.FACEBOOK_SIGN_IN_METHOD="facebook.com";vs.PROVIDER_ID="facebook.com";class Es extends pu{constructor(){super("google.com"),this.addScope("profile")}static credential(t,i){return Na._fromParams({providerId:Es.PROVIDER_ID,signInMethod:Es.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:i})}static credentialFromResult(t){return Es.credentialFromTaggedObject(t)}static credentialFromError(t){return Es.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:i,oauthAccessToken:a}=t;if(!i&&!a)return null;try{return Es.credential(i,a)}catch{return null}}}Es.GOOGLE_SIGN_IN_METHOD="google.com";Es.PROVIDER_ID="google.com";class Ts extends pu{constructor(){super("github.com")}static credential(t){return Na._fromParams({providerId:Ts.PROVIDER_ID,signInMethod:Ts.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Ts.credentialFromTaggedObject(t)}static credentialFromError(t){return Ts.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Ts.credential(t.oauthAccessToken)}catch{return null}}}Ts.GITHUB_SIGN_IN_METHOD="github.com";Ts.PROVIDER_ID="github.com";class bs extends pu{constructor(){super("twitter.com")}static credential(t,i){return Na._fromParams({providerId:bs.PROVIDER_ID,signInMethod:bs.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:i})}static credentialFromResult(t){return bs.credentialFromTaggedObject(t)}static credentialFromError(t){return bs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:i,oauthTokenSecret:a}=t;if(!i||!a)return null;try{return bs.credential(i,a)}catch{return null}}}bs.TWITTER_SIGN_IN_METHOD="twitter.com";bs.PROVIDER_ID="twitter.com";async function S2(r,t){return Qm(r,"POST","/v1/accounts:signUp",mu(r,t))}class xr{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,i,a,l=!1){const c=await Ii._fromIdTokenResponse(t,a,l),d=w0(a);return new xr({user:c,providerId:d,_tokenResponse:a,operationType:i})}static async _forOperation(t,i,a){await t._updateTokensIfNecessary(a,!0);const l=w0(a);return new xr({user:t,providerId:l,_tokenResponse:a,operationType:i})}}function w0(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}async function A2(r){if(di(r.app))return Promise.reject(Rr(r));const t=gu(r);if(await t._initializationPromise,t.currentUser?.isAnonymous)return new xr({user:t.currentUser,providerId:null,operationType:"signIn"});const i=await S2(t,{returnSecureToken:!0}),a=await xr._fromIdTokenResponse(t,"signIn",i,!0);return await t._updateCurrentUser(a.user),a}class hh extends Or{constructor(t,i,a,l){super(i.code,i.message),this.operationType=a,this.user=l,Object.setPrototypeOf(this,hh.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:a}}static _fromErrorAndOperation(t,i,a,l){return new hh(t,i,a,l)}}function I1(r,t,i,a){return(t==="reauthenticate"?i._getReauthenticationResolver(r):i._getIdTokenResponse(r)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?hh._fromErrorAndOperation(r,c,t,a):c})}async function w2(r,t,i=!1){const a=await nu(r,t._linkToIdToken(r.auth,await r.getIdToken()),i);return xr._forOperation(r,"link",a)}async function R2(r,t,i=!1){const{auth:a}=r;if(di(a.app))return Promise.reject(Rr(a));const l="reauthenticate";try{const c=await nu(r,I1(a,l,t,r),i);St(c.idToken,a,"internal-error");const d=Ym(c.idToken);St(d,a,"internal-error");const{sub:p}=d;return St(r.uid===p,a,"user-mismatch"),xr._forOperation(r,l,c)}catch(c){throw c?.code==="auth/user-not-found"&&Cr(a,"user-mismatch"),c}}async function I2(r,t,i=!1){if(di(r.app))return Promise.reject(Rr(r));const a="signIn",l=await I1(r,a,t),c=await xr._fromIdTokenResponse(r,a,l);return i||await r._updateCurrentUser(c.user),c}async function C2(r,t){return Qm(r,"POST","/v1/accounts:signInWithCustomToken",mu(r,t))}async function N2(r,t){if(di(r.app))return Promise.reject(Rr(r));const i=gu(r),a=await C2(i,{token:t,returnSecureToken:!0}),l=await xr._fromIdTokenResponse(i,"signIn",a);return await i._updateCurrentUser(l.user),l}function x2(r,t,i,a){return un(r).onIdTokenChanged(t,i,a)}function D2(r,t,i){return un(r).beforeAuthStateChanged(t,i)}function M2(r,t,i,a){return un(r).onAuthStateChanged(t,i,a)}const fh="__sak";class C1{constructor(t,i){this.storageRetriever=t,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(fh,"1"),this.storage.removeItem(fh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,i){return this.storage.setItem(t,JSON.stringify(i)),Promise.resolve()}_get(t){const i=this.storage.getItem(t);return Promise.resolve(i?JSON.parse(i):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}const O2=1e3,V2=10;class N1 extends C1{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,i)=>this.onStorageEvent(t,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=b1(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const i of Object.keys(this.listeners)){const a=this.storage.getItem(i),l=this.localCache[i];a!==l&&t(i,l,a)}}onStorageEvent(t,i=!1){if(!t.key){this.forAllChangedKeys((d,p,y)=>{this.notifyListeners(d,y)});return}const a=t.key;i?this.detachListener():this.stopPolling();const l=()=>{const d=this.storage.getItem(a);!i&&this.localCache[a]===d||this.notifyListeners(a,d)},c=this.storage.getItem(a);o2()&&c!==t.newValue&&t.newValue!==t.oldValue?setTimeout(l,V2):l()}notifyListeners(t,i){this.localCache[t]=i;const a=this.listeners[t];if(a)for(const l of Array.from(a))l(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,i,a)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:i,newValue:a}),!0)})},O2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,i){await super._set(t,i),this.localCache[t]=JSON.stringify(i)}async _get(t){const i=await super._get(t);return this.localCache[t]=JSON.stringify(i),i}async _remove(t){await super._remove(t),delete this.localCache[t]}}N1.type="LOCAL";const k2=N1;class x1 extends C1{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,i){}_removeListener(t,i){}}x1.type="SESSION";const D1=x1;function U2(r){return Promise.all(r.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(i){return{fulfilled:!1,reason:i}}}))}class Nh{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const i=this.receivers.find(l=>l.isListeningto(t));if(i)return i;const a=new Nh(t);return this.receivers.push(a),a}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const i=t,{eventId:a,eventType:l,data:c}=i.data,d=this.handlersMap[l];if(!d?.size)return;i.ports[0].postMessage({status:"ack",eventId:a,eventType:l});const p=Array.from(d).map(async _=>_(i.origin,c)),y=await U2(p);i.ports[0].postMessage({status:"done",eventId:a,eventType:l,response:y})}_subscribe(t,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(i)}_unsubscribe(t,i){this.handlersMap[t]&&i&&this.handlersMap[t].delete(i),(!i||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Nh.receivers=[];function $m(r="",t=10){let i="";for(let a=0;a<t;a++)i+=Math.floor(Math.random()*10);return r+i}class L2{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,i,a=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let c,d;return new Promise((p,y)=>{const _=$m("",20);l.port1.start();const b=setTimeout(()=>{y(new Error("unsupported_event"))},a);d={messageChannel:l,onMessage(S){const O=S;if(O.data.eventId===_)switch(O.data.status){case"ack":clearTimeout(b),c=setTimeout(()=>{y(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),p(O.data.response);break;default:clearTimeout(b),clearTimeout(c),y(new Error("invalid_response"));break}}},this.handlers.add(d),l.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:t,eventId:_,data:i},[l.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}function Ki(){return window}function P2(r){Ki().location.href=r}function M1(){return typeof Ki().WorkerGlobalScope<"u"&&typeof Ki().importScripts=="function"}async function z2(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function j2(){return navigator?.serviceWorker?.controller||null}function B2(){return M1()?self:null}const O1="firebaseLocalStorageDb",q2=1,dh="firebaseLocalStorage",V1="fbase_key";class yu{constructor(t){this.request=t}toPromise(){return new Promise((t,i)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function xh(r,t){return r.transaction([dh],t?"readwrite":"readonly").objectStore(dh)}function H2(){const r=indexedDB.deleteDatabase(O1);return new yu(r).toPromise()}function _m(){const r=indexedDB.open(O1,q2);return new Promise((t,i)=>{r.addEventListener("error",()=>{i(r.error)}),r.addEventListener("upgradeneeded",()=>{const a=r.result;try{a.createObjectStore(dh,{keyPath:V1})}catch(l){i(l)}}),r.addEventListener("success",async()=>{const a=r.result;a.objectStoreNames.contains(dh)?t(a):(a.close(),await H2(),t(await _m()))})})}async function R0(r,t,i){const a=xh(r,!0).put({[V1]:t,value:i});return new yu(a).toPromise()}async function F2(r,t){const i=xh(r,!1).get(t),a=await new yu(i).toPromise();return a===void 0?null:a.value}function I0(r,t){const i=xh(r,!0).delete(t);return new yu(i).toPromise()}const G2=800,Q2=3;class k1{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await _m(),this.db)}async _withRetries(t){let i=0;for(;;)try{const a=await this._openDb();return await t(a)}catch(a){if(i++>Q2)throw a;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return M1()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Nh._getInstance(B2()),this.receiver._subscribe("keyChanged",async(t,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(t,i)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await z2(),!this.activeServiceWorker)return;this.sender=new L2(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||j2()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await _m();return await R0(t,fh,"1"),await I0(t,fh),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,i){return this._withPendingWrite(async()=>(await this._withRetries(a=>R0(a,t,i)),this.localCache[t]=i,this.notifyServiceWorker(t)))}async _get(t){const i=await this._withRetries(a=>F2(a,t));return this.localCache[t]=i,i}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(i=>I0(i,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(l=>{const c=xh(l,!1).getAll();return new yu(c).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const i=[],a=new Set;if(t.length!==0)for(const{fbase_key:l,value:c}of t)a.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(c)&&(this.notifyListeners(l,c),i.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!a.has(l)&&(this.notifyListeners(l,null),i.push(l));return i}notifyListeners(t,i){this.localCache[t]=i;const a=this.listeners[t];if(a)for(const l of Array.from(a))l(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),G2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}k1.type="LOCAL";const Y2=k1;new du(3e4,6e4);function K2(r,t){return t?wr(t):(St(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}class Jm extends w1{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Oo(t,this._buildIdpRequest())}_linkToIdToken(t,i){return Oo(t,this._buildIdpRequest(i))}_getReauthenticationResolver(t){return Oo(t,this._buildIdpRequest())}_buildIdpRequest(t){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(i.idToken=t),i}}function X2(r){return I2(r.auth,new Jm(r),r.bypassAuthState)}function $2(r){const{auth:t,user:i}=r;return St(i,t,"internal-error"),R2(i,new Jm(r),r.bypassAuthState)}async function J2(r){const{auth:t,user:i}=r;return St(i,t,"internal-error"),w2(i,new Jm(r),r.bypassAuthState)}class U1{constructor(t,i,a,l,c=!1){this.auth=t,this.resolver=a,this.user=l,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(t,i)=>{this.pendingPromise={resolve:t,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(a){this.reject(a)}})}async onAuthEvent(t){const{urlResponse:i,sessionId:a,postBody:l,tenantId:c,error:d,type:p}=t;if(d){this.reject(d);return}const y={auth:this.auth,requestUri:i,sessionId:a,tenantId:c||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(p)(y))}catch(_){this.reject(_)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return X2;case"linkViaPopup":case"linkViaRedirect":return J2;case"reauthViaPopup":case"reauthViaRedirect":return $2;default:Cr(this.auth,"internal-error")}}resolve(t){Nr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){Nr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Z2=new du(2e3,1e4);class xo extends U1{constructor(t,i,a,l,c){super(t,i,l,c),this.provider=a,this.authWindow=null,this.pollId=null,xo.currentPopupAction&&xo.currentPopupAction.cancel(),xo.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return St(t,this.auth,"internal-error"),t}async onExecution(){Nr(this.filter.length===1,"Popup operations only handle one event");const t=$m();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(Yi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Yi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,xo.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Yi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,Z2.get())};t()}}xo.currentPopupAction=null;const W2="pendingRedirect",Jc=new Map;class tw extends U1{constructor(t,i,a=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,a),this.eventId=null}async execute(){let t=Jc.get(this.auth._key());if(!t){try{const a=await ew(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(a)}catch(i){t=()=>Promise.reject(i)}Jc.set(this.auth._key(),t)}return this.bypassAuthState||Jc.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const i=await this.auth._redirectUserForId(t.eventId);if(i)return this.user=i,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function ew(r,t){const i=rw(t),a=iw(r);if(!await a._isAvailable())return!1;const l=await a._get(i)==="true";return await a._remove(i),l}function nw(r,t){Jc.set(r._key(),t)}function iw(r){return wr(r._redirectPersistence)}function rw(r){return $c(W2,r.config.apiKey,r.name)}async function sw(r,t,i=!1){if(di(r.app))return Promise.reject(Rr(r));const a=gu(r),l=K2(a,t),d=await new tw(a,l,i).execute();return d&&!i&&(delete d.user._redirectEventId,await a._persistUserIfCurrent(d.user),await a._setRedirectUser(null,t)),d}const aw=600*1e3;class ow{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let i=!1;return this.consumers.forEach(a=>{this.isEventForConsumer(t,a)&&(i=!0,this.sendToConsumer(t,a),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!lw(t)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=t,i=!0)),i}sendToConsumer(t,i){if(t.error&&!L1(t)){const a=t.error.code?.split("auth/")[1]||"internal-error";i.onError(Yi(this.auth,a))}else i.onAuthEvent(t)}isEventForConsumer(t,i){const a=i.eventId===null||!!t.eventId&&t.eventId===i.eventId;return i.filter.includes(t.type)&&a}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=aw&&this.cachedEventUids.clear(),this.cachedEventUids.has(C0(t))}saveEventToCache(t){this.cachedEventUids.add(C0(t)),this.lastProcessedEventTime=Date.now()}}function C0(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(t=>t).join("-")}function L1({type:r,error:t}){return r==="unknown"&&t?.code==="auth/no-auth-event"}function lw(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return L1(r);default:return!1}}async function uw(r,t={}){return Qo(r,"GET","/v1/projects",t)}const cw=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,hw=/^https?/;async function fw(r){if(r.config.emulator)return;const{authorizedDomains:t}=await uw(r);for(const i of t)try{if(dw(i))return}catch{}Cr(r,"unauthorized-domain")}function dw(r){const t=pm(),{protocol:i,hostname:a}=new URL(t);if(r.startsWith("chrome-extension://")){const d=new URL(r);return d.hostname===""&&a===""?i==="chrome-extension:"&&r.replace("chrome-extension://","")===t.replace("chrome-extension://",""):i==="chrome-extension:"&&d.hostname===a}if(!hw.test(i))return!1;if(cw.test(r))return a===r;const l=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(a)}const mw=new du(3e4,6e4);function N0(){const r=Ki().___jsl;if(r?.H){for(const t of Object.keys(r.H))if(r.H[t].r=r.H[t].r||[],r.H[t].L=r.H[t].L||[],r.H[t].r=[...r.H[t].L],r.CP)for(let i=0;i<r.CP.length;i++)r.CP[i]=null}}function gw(r){return new Promise((t,i)=>{function a(){N0(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{N0(),i(Yi(r,"network-request-failed"))},timeout:mw.get()})}if(Ki().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(Ki().gapi?.load)a();else{const l=p2("iframefcb");return Ki()[l]=()=>{gapi.load?a():i(Yi(r,"network-request-failed"))},m2(`${g2()}?onload=${l}`).catch(c=>i(c))}}).catch(t=>{throw Zc=null,t})}let Zc=null;function pw(r){return Zc=Zc||gw(r),Zc}const yw=new du(5e3,15e3),_w="__/auth/iframe",vw="emulator/auth/iframe",Ew={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Tw=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function bw(r){const t=r.config;St(t.authDomain,r,"auth-domain-config-required");const i=t.emulator?Gm(t,vw):`https://${r.config.authDomain}/${_w}`,a={apiKey:t.apiKey,appName:r.name,v:Go},l=Tw.get(r.config.apiHost);l&&(a.eid=l);const c=r._getFrameworks();return c.length&&(a.fw=c.join(",")),`${i}?${fu(a).slice(1)}`}async function Sw(r){const t=await pw(r),i=Ki().gapi;return St(i,r,"internal-error"),t.open({where:document.body,url:bw(r),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Ew,dontclear:!0},a=>new Promise(async(l,c)=>{await a.restyle({setHideOnLeave:!1});const d=Yi(r,"network-request-failed"),p=Ki().setTimeout(()=>{c(d)},yw.get());function y(){Ki().clearTimeout(p),l(a)}a.ping(y).then(y,()=>{c(d)})}))}const Aw={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},ww=500,Rw=600,Iw="_blank",Cw="http://localhost";class x0{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Nw(r,t,i,a=ww,l=Rw){const c=Math.max((window.screen.availHeight-l)/2,0).toString(),d=Math.max((window.screen.availWidth-a)/2,0).toString();let p="";const y={...Aw,width:a.toString(),height:l.toString(),top:c,left:d},_=_n().toLowerCase();i&&(p=y1(_)?Iw:i),g1(_)&&(t=t||Cw,y.scrollbars="yes");const b=Object.entries(y).reduce((O,[Q,tt])=>`${O}${Q}=${tt},`,"");if(a2(_)&&p!=="_self")return xw(t||"",p),new x0(null);const S=window.open(t||"",p,b);St(S,r,"popup-blocked");try{S.focus()}catch{}return new x0(S)}function xw(r,t){const i=document.createElement("a");i.href=r,i.target=t;const a=document.createEvent("MouseEvent");a.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(a)}const Dw="__/auth/handler",Mw="emulator/auth/handler",Ow=encodeURIComponent("fac");async function D0(r,t,i,a,l,c){St(r.config.authDomain,r,"auth-domain-config-required"),St(r.config.apiKey,r,"invalid-api-key");const d={apiKey:r.config.apiKey,appName:r.name,authType:i,redirectUrl:a,v:Go,eventId:l};if(t instanceof R1){t.setDefaultLanguage(r.languageCode),d.providerId=t.providerId||"",NS(t.getCustomParameters())||(d.customParameters=JSON.stringify(t.getCustomParameters()));for(const[b,S]of Object.entries({}))d[b]=S}if(t instanceof pu){const b=t.getScopes().filter(S=>S!=="");b.length>0&&(d.scopes=b.join(","))}r.tenantId&&(d.tid=r.tenantId);const p=d;for(const b of Object.keys(p))p[b]===void 0&&delete p[b];const y=await r._getAppCheckToken(),_=y?`#${Ow}=${encodeURIComponent(y)}`:"";return`${Vw(r)}?${fu(p).slice(1)}${_}`}function Vw({config:r}){return r.emulator?Gm(r,Mw):`https://${r.authDomain}/${Dw}`}const em="webStorageSupport";class kw{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=D1,this._completeRedirectFn=sw,this._overrideRedirectResult=nw}async _openPopup(t,i,a,l){Nr(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const c=await D0(t,i,a,pm(),l);return Nw(t,c,$m())}async _openRedirect(t,i,a,l){await this._originValidation(t);const c=await D0(t,i,a,pm(),l);return P2(c),new Promise(()=>{})}_initialize(t){const i=t._key();if(this.eventManagers[i]){const{manager:l,promise:c}=this.eventManagers[i];return l?Promise.resolve(l):(Nr(c,"If manager is not set, promise should be"),c)}const a=this.initAndGetManager(t);return this.eventManagers[i]={promise:a},a.catch(()=>{delete this.eventManagers[i]}),a}async initAndGetManager(t){const i=await Sw(t),a=new ow(t);return i.register("authEvent",l=>(St(l?.authEvent,t,"invalid-auth-event"),{status:a.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:a},this.iframes[t._key()]=i,a}_isIframeWebStorageSupported(t,i){this.iframes[t._key()].send(em,{type:em},l=>{const c=l?.[0]?.[em];c!==void 0&&i(!!c),Cr(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const i=t._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=fw(t)),this.originValidationPromises[i]}get _shouldInitProactively(){return b1()||p1()||Km()}}const Uw=kw;var M0="@firebase/auth",O0="1.11.1";class Lw{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const i=this.auth.onIdTokenChanged(a=>{t(a?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,i),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const i=this.internalListeners.get(t);i&&(this.internalListeners.delete(t),i(),this.updateProactiveRefresh())}assertAuthConfigured(){St(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function Pw(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function zw(r){Lo(new Ca("auth",(t,{options:i})=>{const a=t.getProvider("app").getImmediate(),l=t.getProvider("heartbeat"),c=t.getProvider("app-check-internal"),{apiKey:d,authDomain:p}=a.options;St(d&&!d.includes(":"),"invalid-api-key",{appName:a.name});const y={apiKey:d,authDomain:p,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:S1(r)},_=new f2(a,l,c,y);return _2(_,i),_},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,i,a)=>{t.getProvider("auth-internal").initialize()})),Lo(new Ca("auth-internal",t=>{const i=gu(t.getProvider("auth").getImmediate());return(a=>new Lw(a))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),Rs(M0,O0,Pw(r)),Rs(M0,O0,"esm2020")}const jw=300,Bw=Zv("authIdTokenMaxAge")||jw;let V0=null;const qw=r=>async t=>{const i=t&&await t.getIdTokenResult(),a=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(a&&a>Bw)return;const l=i?.token;V0!==l&&(V0=l,await fetch(r,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function Hw(r=r1()){const t=Hm(r,"auth");if(t.isInitialized())return t.getImmediate();const i=y2(r,{popupRedirectResolver:Uw,persistence:[Y2,k2,D1]}),a=Zv("authTokenSyncURL");if(a&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(a,location.origin);if(location.origin===c.origin){const d=qw(c.toString());D2(i,d,()=>d(i.currentUser)),x2(i,p=>d(p))}}const l=$v("auth");return l&&v2(i,`http://${l}`),i}function Fw(){return document.getElementsByTagName("head")?.[0]??document}d2({loadJS(r){return new Promise((t,i)=>{const a=document.createElement("script");a.setAttribute("src",r),a.onload=t,a.onerror=l=>{const c=Yi("internal-error");c.customData=l,i(c)},a.type="text/javascript",a.charset="UTF-8",Fw().appendChild(a)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});zw("Browser");var k0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Is,P1;(function(){var r;function t(N,A){function C(){}C.prototype=A.prototype,N.F=A.prototype,N.prototype=new C,N.prototype.constructor=N,N.D=function(k,x,L){for(var w=Array(arguments.length-2),ie=2;ie<arguments.length;ie++)w[ie-2]=arguments[ie];return A.prototype[x].apply(k,w)}}function i(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(a,i),a.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(N,A,C){C||(C=0);const k=Array(16);if(typeof A=="string")for(var x=0;x<16;++x)k[x]=A.charCodeAt(C++)|A.charCodeAt(C++)<<8|A.charCodeAt(C++)<<16|A.charCodeAt(C++)<<24;else for(x=0;x<16;++x)k[x]=A[C++]|A[C++]<<8|A[C++]<<16|A[C++]<<24;A=N.g[0],C=N.g[1],x=N.g[2];let L=N.g[3],w;w=A+(L^C&(x^L))+k[0]+3614090360&4294967295,A=C+(w<<7&4294967295|w>>>25),w=L+(x^A&(C^x))+k[1]+3905402710&4294967295,L=A+(w<<12&4294967295|w>>>20),w=x+(C^L&(A^C))+k[2]+606105819&4294967295,x=L+(w<<17&4294967295|w>>>15),w=C+(A^x&(L^A))+k[3]+3250441966&4294967295,C=x+(w<<22&4294967295|w>>>10),w=A+(L^C&(x^L))+k[4]+4118548399&4294967295,A=C+(w<<7&4294967295|w>>>25),w=L+(x^A&(C^x))+k[5]+1200080426&4294967295,L=A+(w<<12&4294967295|w>>>20),w=x+(C^L&(A^C))+k[6]+2821735955&4294967295,x=L+(w<<17&4294967295|w>>>15),w=C+(A^x&(L^A))+k[7]+4249261313&4294967295,C=x+(w<<22&4294967295|w>>>10),w=A+(L^C&(x^L))+k[8]+1770035416&4294967295,A=C+(w<<7&4294967295|w>>>25),w=L+(x^A&(C^x))+k[9]+2336552879&4294967295,L=A+(w<<12&4294967295|w>>>20),w=x+(C^L&(A^C))+k[10]+4294925233&4294967295,x=L+(w<<17&4294967295|w>>>15),w=C+(A^x&(L^A))+k[11]+2304563134&4294967295,C=x+(w<<22&4294967295|w>>>10),w=A+(L^C&(x^L))+k[12]+1804603682&4294967295,A=C+(w<<7&4294967295|w>>>25),w=L+(x^A&(C^x))+k[13]+4254626195&4294967295,L=A+(w<<12&4294967295|w>>>20),w=x+(C^L&(A^C))+k[14]+2792965006&4294967295,x=L+(w<<17&4294967295|w>>>15),w=C+(A^x&(L^A))+k[15]+1236535329&4294967295,C=x+(w<<22&4294967295|w>>>10),w=A+(x^L&(C^x))+k[1]+4129170786&4294967295,A=C+(w<<5&4294967295|w>>>27),w=L+(C^x&(A^C))+k[6]+3225465664&4294967295,L=A+(w<<9&4294967295|w>>>23),w=x+(A^C&(L^A))+k[11]+643717713&4294967295,x=L+(w<<14&4294967295|w>>>18),w=C+(L^A&(x^L))+k[0]+3921069994&4294967295,C=x+(w<<20&4294967295|w>>>12),w=A+(x^L&(C^x))+k[5]+3593408605&4294967295,A=C+(w<<5&4294967295|w>>>27),w=L+(C^x&(A^C))+k[10]+38016083&4294967295,L=A+(w<<9&4294967295|w>>>23),w=x+(A^C&(L^A))+k[15]+3634488961&4294967295,x=L+(w<<14&4294967295|w>>>18),w=C+(L^A&(x^L))+k[4]+3889429448&4294967295,C=x+(w<<20&4294967295|w>>>12),w=A+(x^L&(C^x))+k[9]+568446438&4294967295,A=C+(w<<5&4294967295|w>>>27),w=L+(C^x&(A^C))+k[14]+3275163606&4294967295,L=A+(w<<9&4294967295|w>>>23),w=x+(A^C&(L^A))+k[3]+4107603335&4294967295,x=L+(w<<14&4294967295|w>>>18),w=C+(L^A&(x^L))+k[8]+1163531501&4294967295,C=x+(w<<20&4294967295|w>>>12),w=A+(x^L&(C^x))+k[13]+2850285829&4294967295,A=C+(w<<5&4294967295|w>>>27),w=L+(C^x&(A^C))+k[2]+4243563512&4294967295,L=A+(w<<9&4294967295|w>>>23),w=x+(A^C&(L^A))+k[7]+1735328473&4294967295,x=L+(w<<14&4294967295|w>>>18),w=C+(L^A&(x^L))+k[12]+2368359562&4294967295,C=x+(w<<20&4294967295|w>>>12),w=A+(C^x^L)+k[5]+4294588738&4294967295,A=C+(w<<4&4294967295|w>>>28),w=L+(A^C^x)+k[8]+2272392833&4294967295,L=A+(w<<11&4294967295|w>>>21),w=x+(L^A^C)+k[11]+1839030562&4294967295,x=L+(w<<16&4294967295|w>>>16),w=C+(x^L^A)+k[14]+4259657740&4294967295,C=x+(w<<23&4294967295|w>>>9),w=A+(C^x^L)+k[1]+2763975236&4294967295,A=C+(w<<4&4294967295|w>>>28),w=L+(A^C^x)+k[4]+1272893353&4294967295,L=A+(w<<11&4294967295|w>>>21),w=x+(L^A^C)+k[7]+4139469664&4294967295,x=L+(w<<16&4294967295|w>>>16),w=C+(x^L^A)+k[10]+3200236656&4294967295,C=x+(w<<23&4294967295|w>>>9),w=A+(C^x^L)+k[13]+681279174&4294967295,A=C+(w<<4&4294967295|w>>>28),w=L+(A^C^x)+k[0]+3936430074&4294967295,L=A+(w<<11&4294967295|w>>>21),w=x+(L^A^C)+k[3]+3572445317&4294967295,x=L+(w<<16&4294967295|w>>>16),w=C+(x^L^A)+k[6]+76029189&4294967295,C=x+(w<<23&4294967295|w>>>9),w=A+(C^x^L)+k[9]+3654602809&4294967295,A=C+(w<<4&4294967295|w>>>28),w=L+(A^C^x)+k[12]+3873151461&4294967295,L=A+(w<<11&4294967295|w>>>21),w=x+(L^A^C)+k[15]+530742520&4294967295,x=L+(w<<16&4294967295|w>>>16),w=C+(x^L^A)+k[2]+3299628645&4294967295,C=x+(w<<23&4294967295|w>>>9),w=A+(x^(C|~L))+k[0]+4096336452&4294967295,A=C+(w<<6&4294967295|w>>>26),w=L+(C^(A|~x))+k[7]+1126891415&4294967295,L=A+(w<<10&4294967295|w>>>22),w=x+(A^(L|~C))+k[14]+2878612391&4294967295,x=L+(w<<15&4294967295|w>>>17),w=C+(L^(x|~A))+k[5]+4237533241&4294967295,C=x+(w<<21&4294967295|w>>>11),w=A+(x^(C|~L))+k[12]+1700485571&4294967295,A=C+(w<<6&4294967295|w>>>26),w=L+(C^(A|~x))+k[3]+2399980690&4294967295,L=A+(w<<10&4294967295|w>>>22),w=x+(A^(L|~C))+k[10]+4293915773&4294967295,x=L+(w<<15&4294967295|w>>>17),w=C+(L^(x|~A))+k[1]+2240044497&4294967295,C=x+(w<<21&4294967295|w>>>11),w=A+(x^(C|~L))+k[8]+1873313359&4294967295,A=C+(w<<6&4294967295|w>>>26),w=L+(C^(A|~x))+k[15]+4264355552&4294967295,L=A+(w<<10&4294967295|w>>>22),w=x+(A^(L|~C))+k[6]+2734768916&4294967295,x=L+(w<<15&4294967295|w>>>17),w=C+(L^(x|~A))+k[13]+1309151649&4294967295,C=x+(w<<21&4294967295|w>>>11),w=A+(x^(C|~L))+k[4]+4149444226&4294967295,A=C+(w<<6&4294967295|w>>>26),w=L+(C^(A|~x))+k[11]+3174756917&4294967295,L=A+(w<<10&4294967295|w>>>22),w=x+(A^(L|~C))+k[2]+718787259&4294967295,x=L+(w<<15&4294967295|w>>>17),w=C+(L^(x|~A))+k[9]+3951481745&4294967295,N.g[0]=N.g[0]+A&4294967295,N.g[1]=N.g[1]+(x+(w<<21&4294967295|w>>>11))&4294967295,N.g[2]=N.g[2]+x&4294967295,N.g[3]=N.g[3]+L&4294967295}a.prototype.v=function(N,A){A===void 0&&(A=N.length);const C=A-this.blockSize,k=this.C;let x=this.h,L=0;for(;L<A;){if(x==0)for(;L<=C;)l(this,N,L),L+=this.blockSize;if(typeof N=="string"){for(;L<A;)if(k[x++]=N.charCodeAt(L++),x==this.blockSize){l(this,k),x=0;break}}else for(;L<A;)if(k[x++]=N[L++],x==this.blockSize){l(this,k),x=0;break}}this.h=x,this.o+=A},a.prototype.A=function(){var N=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);N[0]=128;for(var A=1;A<N.length-8;++A)N[A]=0;A=this.o*8;for(var C=N.length-8;C<N.length;++C)N[C]=A&255,A/=256;for(this.v(N),N=Array(16),A=0,C=0;C<4;++C)for(let k=0;k<32;k+=8)N[A++]=this.g[C]>>>k&255;return N};function c(N,A){var C=p;return Object.prototype.hasOwnProperty.call(C,N)?C[N]:C[N]=A(N)}function d(N,A){this.h=A;const C=[];let k=!0;for(let x=N.length-1;x>=0;x--){const L=N[x]|0;k&&L==A||(C[x]=L,k=!1)}this.g=C}var p={};function y(N){return-128<=N&&N<128?c(N,function(A){return new d([A|0],A<0?-1:0)}):new d([N|0],N<0?-1:0)}function _(N){if(isNaN(N)||!isFinite(N))return S;if(N<0)return et(_(-N));const A=[];let C=1;for(let k=0;N>=C;k++)A[k]=N/C|0,C*=4294967296;return new d(A,0)}function b(N,A){if(N.length==0)throw Error("number format error: empty string");if(A=A||10,A<2||36<A)throw Error("radix out of range: "+A);if(N.charAt(0)=="-")return et(b(N.substring(1),A));if(N.indexOf("-")>=0)throw Error('number format error: interior "-" character');const C=_(Math.pow(A,8));let k=S;for(let L=0;L<N.length;L+=8){var x=Math.min(8,N.length-L);const w=parseInt(N.substring(L,L+x),A);x<8?(x=_(Math.pow(A,x)),k=k.j(x).add(_(w))):(k=k.j(C),k=k.add(_(w)))}return k}var S=y(0),O=y(1),Q=y(16777216);r=d.prototype,r.m=function(){if(nt(this))return-et(this).m();let N=0,A=1;for(let C=0;C<this.g.length;C++){const k=this.i(C);N+=(k>=0?k:4294967296+k)*A,A*=4294967296}return N},r.toString=function(N){if(N=N||10,N<2||36<N)throw Error("radix out of range: "+N);if(tt(this))return"0";if(nt(this))return"-"+et(this).toString(N);const A=_(Math.pow(N,6));var C=this;let k="";for(;;){const x=Ot(C,A).g;C=yt(C,x.j(A));let L=((C.g.length>0?C.g[0]:C.h)>>>0).toString(N);if(C=x,tt(C))return L+k;for(;L.length<6;)L="0"+L;k=L+k}},r.i=function(N){return N<0?0:N<this.g.length?this.g[N]:this.h};function tt(N){if(N.h!=0)return!1;for(let A=0;A<N.g.length;A++)if(N.g[A]!=0)return!1;return!0}function nt(N){return N.h==-1}r.l=function(N){return N=yt(this,N),nt(N)?-1:tt(N)?0:1};function et(N){const A=N.g.length,C=[];for(let k=0;k<A;k++)C[k]=~N.g[k];return new d(C,~N.h).add(O)}r.abs=function(){return nt(this)?et(this):this},r.add=function(N){const A=Math.max(this.g.length,N.g.length),C=[];let k=0;for(let x=0;x<=A;x++){let L=k+(this.i(x)&65535)+(N.i(x)&65535),w=(L>>>16)+(this.i(x)>>>16)+(N.i(x)>>>16);k=w>>>16,L&=65535,w&=65535,C[x]=w<<16|L}return new d(C,C[C.length-1]&-2147483648?-1:0)};function yt(N,A){return N.add(et(A))}r.j=function(N){if(tt(this)||tt(N))return S;if(nt(this))return nt(N)?et(this).j(et(N)):et(et(this).j(N));if(nt(N))return et(this.j(et(N)));if(this.l(Q)<0&&N.l(Q)<0)return _(this.m()*N.m());const A=this.g.length+N.g.length,C=[];for(var k=0;k<2*A;k++)C[k]=0;for(k=0;k<this.g.length;k++)for(let x=0;x<N.g.length;x++){const L=this.i(k)>>>16,w=this.i(k)&65535,ie=N.i(x)>>>16,Te=N.i(x)&65535;C[2*k+2*x]+=w*Te,wt(C,2*k+2*x),C[2*k+2*x+1]+=L*Te,wt(C,2*k+2*x+1),C[2*k+2*x+1]+=w*ie,wt(C,2*k+2*x+1),C[2*k+2*x+2]+=L*ie,wt(C,2*k+2*x+2)}for(N=0;N<A;N++)C[N]=C[2*N+1]<<16|C[2*N];for(N=A;N<2*A;N++)C[N]=0;return new d(C,0)};function wt(N,A){for(;(N[A]&65535)!=N[A];)N[A+1]+=N[A]>>>16,N[A]&=65535,A++}function _t(N,A){this.g=N,this.h=A}function Ot(N,A){if(tt(A))throw Error("division by zero");if(tt(N))return new _t(S,S);if(nt(N))return A=Ot(et(N),A),new _t(et(A.g),et(A.h));if(nt(A))return A=Ot(N,et(A)),new _t(et(A.g),A.h);if(N.g.length>30){if(nt(N)||nt(A))throw Error("slowDivide_ only works with positive integers.");for(var C=O,k=A;k.l(N)<=0;)C=Xt(C),k=Xt(k);var x=Mt(C,1),L=Mt(k,1);for(k=Mt(k,2),C=Mt(C,2);!tt(k);){var w=L.add(k);w.l(N)<=0&&(x=x.add(C),L=w),k=Mt(k,1),C=Mt(C,1)}return A=yt(N,x.j(A)),new _t(x,A)}for(x=S;N.l(A)>=0;){for(C=Math.max(1,Math.floor(N.m()/A.m())),k=Math.ceil(Math.log(C)/Math.LN2),k=k<=48?1:Math.pow(2,k-48),L=_(C),w=L.j(A);nt(w)||w.l(N)>0;)C-=k,L=_(C),w=L.j(A);tt(L)&&(L=O),x=x.add(L),N=yt(N,w)}return new _t(x,N)}r.B=function(N){return Ot(this,N).h},r.and=function(N){const A=Math.max(this.g.length,N.g.length),C=[];for(let k=0;k<A;k++)C[k]=this.i(k)&N.i(k);return new d(C,this.h&N.h)},r.or=function(N){const A=Math.max(this.g.length,N.g.length),C=[];for(let k=0;k<A;k++)C[k]=this.i(k)|N.i(k);return new d(C,this.h|N.h)},r.xor=function(N){const A=Math.max(this.g.length,N.g.length),C=[];for(let k=0;k<A;k++)C[k]=this.i(k)^N.i(k);return new d(C,this.h^N.h)};function Xt(N){const A=N.g.length+1,C=[];for(let k=0;k<A;k++)C[k]=N.i(k)<<1|N.i(k-1)>>>31;return new d(C,N.h)}function Mt(N,A){const C=A>>5;A%=32;const k=N.g.length-C,x=[];for(let L=0;L<k;L++)x[L]=A>0?N.i(L+C)>>>A|N.i(L+C+1)<<32-A:N.i(L+C);return new d(x,N.h)}a.prototype.digest=a.prototype.A,a.prototype.reset=a.prototype.u,a.prototype.update=a.prototype.v,P1=a,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=_,d.fromString=b,Is=d}).apply(typeof k0<"u"?k0:typeof self<"u"?self:typeof window<"u"?window:{});var jc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var z1,Gl,j1,Wc,vm,B1,q1,H1;(function(){var r,t=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof jc=="object"&&jc];for(var m=0;m<u.length;++m){var v=u[m];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var a=i(this);function l(u,m){if(m)t:{var v=a;u=u.split(".");for(var T=0;T<u.length-1;T++){var P=u[T];if(!(P in v))break t;v=v[P]}u=u[u.length-1],T=v[u],m=m(T),m!=T&&m!=null&&t(v,u,{configurable:!0,writable:!0,value:m})}}l("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),l("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),l("Object.entries",function(u){return u||function(m){var v=[],T;for(T in m)Object.prototype.hasOwnProperty.call(m,T)&&v.push([T,m[T]]);return v}});var c=c||{},d=this||self;function p(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function y(u,m,v){return u.call.apply(u.bind,arguments)}function _(u,m,v){return _=y,_.apply(null,arguments)}function b(u,m){var v=Array.prototype.slice.call(arguments,1);return function(){var T=v.slice();return T.push.apply(T,arguments),u.apply(this,T)}}function S(u,m){function v(){}v.prototype=m.prototype,u.Z=m.prototype,u.prototype=new v,u.prototype.constructor=u,u.Ob=function(T,P,q){for(var it=Array(arguments.length-2),Nt=2;Nt<arguments.length;Nt++)it[Nt-2]=arguments[Nt];return m.prototype[P].apply(T,it)}}var O=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function Q(u){const m=u.length;if(m>0){const v=Array(m);for(let T=0;T<m;T++)v[T]=u[T];return v}return[]}function tt(u,m){for(let T=1;T<arguments.length;T++){const P=arguments[T];var v=typeof P;if(v=v!="object"?v:P?Array.isArray(P)?"array":v:"null",v=="array"||v=="object"&&typeof P.length=="number"){v=u.length||0;const q=P.length||0;u.length=v+q;for(let it=0;it<q;it++)u[v+it]=P[it]}else u.push(P)}}class nt{constructor(m,v){this.i=m,this.j=v,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function et(u){d.setTimeout(()=>{throw u},0)}function yt(){var u=N;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class wt{constructor(){this.h=this.g=null}add(m,v){const T=_t.get();T.set(m,v),this.h?this.h.next=T:this.g=T,this.h=T}}var _t=new nt(()=>new Ot,u=>u.reset());class Ot{constructor(){this.next=this.g=this.h=null}set(m,v){this.h=m,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let Xt,Mt=!1,N=new wt,A=()=>{const u=Promise.resolve(void 0);Xt=()=>{u.then(C)}};function C(){for(var u;u=yt();){try{u.h.call(u.g)}catch(v){et(v)}var m=_t;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}Mt=!1}function k(){this.u=this.u,this.C=this.C}k.prototype.u=!1,k.prototype.dispose=function(){this.u||(this.u=!0,this.N())},k.prototype[Symbol.dispose]=function(){this.dispose()},k.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function x(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}x.prototype.h=function(){this.defaultPrevented=!0};var L=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const v=()=>{};d.addEventListener("test",v,m),d.removeEventListener("test",v,m)}catch{}return u})();function w(u){return/^[\s\xa0]*$/.test(u)}function ie(u,m){x.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}S(ie,x),ie.prototype.init=function(u,m){const v=this.type=u.type,T=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(v=="mouseover"?m=u.fromElement:v=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&ie.Z.h.call(this)},ie.prototype.h=function(){ie.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Te="closure_listenable_"+(Math.random()*1e6|0),G=0;function rt(u,m,v,T,P){this.listener=u,this.proxy=null,this.src=m,this.type=v,this.capture=!!T,this.ha=P,this.key=++G,this.da=this.fa=!1}function mt(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Ut(u,m,v){for(const T in u)m.call(v,u[T],T,u)}function Ht(u,m){for(const v in u)m.call(void 0,u[v],v,u)}function M(u){const m={};for(const v in u)m[v]=u[v];return m}const X="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function st(u,m){let v,T;for(let P=1;P<arguments.length;P++){T=arguments[P];for(v in T)u[v]=T[v];for(let q=0;q<X.length;q++)v=X[q],Object.prototype.hasOwnProperty.call(T,v)&&(u[v]=T[v])}}function ot(u){this.src=u,this.g={},this.h=0}ot.prototype.add=function(u,m,v,T,P){const q=u.toString();u=this.g[q],u||(u=this.g[q]=[],this.h++);const it=Ct(u,m,T,P);return it>-1?(m=u[it],v||(m.fa=!1)):(m=new rt(m,this.src,q,!!T,P),m.fa=v,u.push(m)),m};function Tt(u,m){const v=m.type;if(v in u.g){var T=u.g[v],P=Array.prototype.indexOf.call(T,m,void 0),q;(q=P>=0)&&Array.prototype.splice.call(T,P,1),q&&(mt(m),u.g[v].length==0&&(delete u.g[v],u.h--))}}function Ct(u,m,v,T){for(let P=0;P<u.length;++P){const q=u[P];if(!q.da&&q.listener==m&&q.capture==!!v&&q.ha==T)return P}return-1}var Ft="closure_lm_"+(Math.random()*1e6|0),ke={};function de(u,m,v,T,P){if(Array.isArray(m)){for(let q=0;q<m.length;q++)de(u,m[q],v,T,P);return null}return v=kr(v),u&&u[Te]?u.J(m,v,p(T)?!!T.capture:!1,P):Vr(u,m,v,!1,T,P)}function Vr(u,m,v,T,P,q){if(!m)throw Error("Invalid event type");const it=p(P)?!!P.capture:!!P;let Nt=Ie(u);if(Nt||(u[Ft]=Nt=new ot(u)),v=Nt.add(m,v,T,it,q),v.proxy)return v;if(T=Ls(),v.proxy=T,T.src=u,T.listener=v,u.addEventListener)L||(P=it),P===void 0&&(P=!1),u.addEventListener(m.toString(),T,P);else if(u.attachEvent)u.attachEvent(Ue(m.toString()),T);else if(u.addListener&&u.removeListener)u.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return v}function Ls(){function u(v){return m.call(u.src,u.listener,v)}const m=Ln;return u}function Ps(u,m,v,T,P){if(Array.isArray(m))for(var q=0;q<m.length;q++)Ps(u,m[q],v,T,P);else T=p(T)?!!T.capture:!!T,v=kr(v),u&&u[Te]?(u=u.i,q=String(m).toString(),q in u.g&&(m=u.g[q],v=Ct(m,v,T,P),v>-1&&(mt(m[v]),Array.prototype.splice.call(m,v,1),m.length==0&&(delete u.g[q],u.h--)))):u&&(u=Ie(u))&&(m=u.g[m.toString()],u=-1,m&&(u=Ct(m,v,T,P)),(v=u>-1?m[u]:null)&&zs(v))}function zs(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[Te])Tt(m.i,u);else{var v=u.type,T=u.proxy;m.removeEventListener?m.removeEventListener(v,T,u.capture):m.detachEvent?m.detachEvent(Ue(v),T):m.addListener&&m.removeListener&&m.removeListener(T),(v=Ie(m))?(Tt(v,u),v.h==0&&(v.src=null,m[Ft]=null)):mt(u)}}}function Ue(u){return u in ke?ke[u]:ke[u]="on"+u}function Ln(u,m){if(u.da)u=!0;else{m=new ie(m,this);const v=u.listener,T=u.ha||u.src;u.fa&&zs(u),u=v.call(T,m)}return u}function Ie(u){return u=u[Ft],u instanceof ot?u:null}var er="__closure_events_fn_"+(Math.random()*1e9>>>0);function kr(u){return typeof u=="function"?u:(u[er]||(u[er]=function(m){return u.handleEvent(m)}),u[er])}function be(){k.call(this),this.i=new ot(this),this.M=this,this.G=null}S(be,k),be.prototype[Te]=!0,be.prototype.removeEventListener=function(u,m,v,T){Ps(this,u,m,v,T)};function Ce(u,m){var v,T=u.G;if(T)for(v=[];T;T=T.G)v.push(T);if(u=u.M,T=m.type||m,typeof m=="string")m=new x(m,u);else if(m instanceof x)m.target=m.target||u;else{var P=m;m=new x(T,u),st(m,P)}P=!0;let q,it;if(v)for(it=v.length-1;it>=0;it--)q=m.g=v[it],P=$n(q,T,!0,m)&&P;if(q=m.g=u,P=$n(q,T,!0,m)&&P,P=$n(q,T,!1,m)&&P,v)for(it=0;it<v.length;it++)q=m.g=v[it],P=$n(q,T,!1,m)&&P}be.prototype.N=function(){if(be.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const v=u.g[m];for(let T=0;T<v.length;T++)mt(v[T]);delete u.g[m],u.h--}}this.G=null},be.prototype.J=function(u,m,v,T){return this.i.add(String(u),m,!1,v,T)},be.prototype.K=function(u,m,v,T){return this.i.add(String(u),m,!0,v,T)};function $n(u,m,v,T){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let P=!0;for(let q=0;q<m.length;++q){const it=m[q];if(it&&!it.da&&it.capture==v){const Nt=it.listener,xe=it.ha||it.src;it.fa&&Tt(u.i,it),P=Nt.call(xe,T)!==!1&&P}}return P&&!T.defaultPrevented}function js(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=_(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(u,m||0)}function Bs(u){u.g=js(()=>{u.g=null,u.i&&(u.i=!1,Bs(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class $e extends k{constructor(m,v){super(),this.m=m,this.l=v,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:Bs(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function nr(u){k.call(this),this.h=u,this.g={}}S(nr,k);var qs=[];function Ur(u){Ut(u.g,function(m,v){this.g.hasOwnProperty(v)&&zs(m)},u),u.g={}}nr.prototype.N=function(){nr.Z.N.call(this),Ur(this)},nr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var hn=d.JSON.stringify,ka=d.JSON.parse,Ni=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function Lr(){}function Hs(){}var vn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Ye(){x.call(this,"d")}S(Ye,x);function En(){x.call(this,"c")}S(En,x);var me={},Fs=null;function Pr(){return Fs=Fs||new be}me.Ia="serverreachability";function zr(u){x.call(this,me.Ia,u)}S(zr,x);function ce(u){const m=Pr();Ce(m,new zr(m))}me.STAT_EVENT="statevent";function Tn(u,m){x.call(this,me.STAT_EVENT,u),this.stat=m}S(Tn,x);function he(u){const m=Pr();Ce(m,new Tn(m,u))}me.Ja="timingevent";function Le(u,m){x.call(this,me.Ja,u),this.size=m}S(Le,x);function Pn(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function zn(){this.g=!0}zn.prototype.ua=function(){this.g=!1};function Ua(u,m,v,T,P,q){u.info(function(){if(u.g)if(q){var it="",Nt=q.split("&");for(let Jt=0;Jt<Nt.length;Jt++){var xe=Nt[Jt].split("=");if(xe.length>1){const _e=xe[0];xe=xe[1];const ri=_e.split("_");it=ri.length>=2&&ri[1]=="type"?it+(_e+"="+xe+"&"):it+(_e+"=redacted&")}}}else it=null;else it=q;return"XMLHTTP REQ ("+T+") [attempt "+P+"]: "+m+`
`+v+`
`+it})}function La(u,m,v,T,P,q,it){u.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+P+"]: "+m+`
`+v+`
`+q+" "+it})}function Pe(u,m,v,T){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Pa(u,v)+(T?" "+T:"")})}function xi(u,m){u.info(function(){return"TIMEOUT: "+m})}zn.prototype.info=function(){};function Pa(u,m){if(!u.g)return m;if(!m)return null;try{const q=JSON.parse(m);if(q){for(u=0;u<q.length;u++)if(Array.isArray(q[u])){var v=q[u];if(!(v.length<2)){var T=v[1];if(Array.isArray(T)&&!(T.length<1)){var P=T[0];if(P!="noop"&&P!="stop"&&P!="close")for(let it=1;it<T.length;it++)T[it]=""}}}}return hn(q)}catch{return m}}var ir={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},jr={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Br;function Di(){}S(Di,Lr),Di.prototype.g=function(){return new XMLHttpRequest},Br=new Di;function Jn(u){return encodeURIComponent(String(u))}function Gs(u){var m=1;u=u.split(":");const v=[];for(;m>0&&u.length;)v.push(u.shift()),m--;return u.length&&v.push(u.join(":")),v}function jn(u,m,v,T){this.j=u,this.i=m,this.l=v,this.S=T||1,this.V=new nr(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Rn}function Rn(){this.i=null,this.g="",this.h=!1}var Se={},ze={};function In(u,m,v){u.M=1,u.A=Oi(Wt(m)),u.u=v,u.R=!0,qr(u,null)}function qr(u,m){u.F=Date.now(),Bn(u),u.B=Wt(u.A);var v=u.B,T=u.S;Array.isArray(T)||(T=[String(T)]),Vi(v.i,"t",T),u.C=0,v=u.j.L,u.h=new Rn,u.g=Mu(u.j,v?m:null,!u.u),u.P>0&&(u.O=new $e(_(u.Y,u,u.g),u.P)),m=u.V,v=u.g,T=u.ba;var P="readystatechange";Array.isArray(P)||(P&&(qs[0]=P.toString()),P=qs);for(let q=0;q<P.length;q++){const it=de(v,P[q],T||m.handleEvent,!1,m.h||m);if(!it)break;m.g[it.key]=it}m=u.J?M(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),ce(),Ua(u.i,u.v,u.B,u.l,u.S,u.u)}jn.prototype.ba=function(u){u=u.target;const m=this.O;m&&Ei(u)==3?m.j():this.Y(u)},jn.prototype.Y=function(u){try{if(u==this.g)t:{const Nt=Ei(this.g),xe=this.g.ya(),Jt=this.g.ca();if(!(Nt<3)&&(Nt!=3||this.g&&(this.h.h||this.g.la()||en(this.g)))){this.K||Nt!=4||xe==7||(xe==8||Jt<=0?ce(3):ce(2)),Zn(this);var m=this.g.ca();this.X=m;var v=Zo(this);if(this.o=m==200,La(this.i,this.v,this.B,this.l,this.S,Nt,m),this.o){if(this.U&&!this.L){e:{if(this.g){var T,P=this.g;if((T=P.g?P.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!w(T)){var q=T;break e}}q=null}if(u=q)Pe(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Wn(this,u);else{this.o=!1,this.m=3,he(12),fn(this),Cn(this);break t}}if(this.R){u=!0;let _e;for(;!this.K&&this.C<v.length;)if(_e=ja(this,v),_e==ze){Nt==4&&(this.m=4,he(14),u=!1),Pe(this.i,this.l,null,"[Incomplete Response]");break}else if(_e==Se){this.m=4,he(15),Pe(this.i,this.l,v,"[Invalid Chunk]"),u=!1;break}else Pe(this.i,this.l,_e,null),Wn(this,_e);if(za(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Nt!=4||v.length!=0||this.h.h||(this.m=1,he(16),u=!1),this.o=this.o&&u,!u)Pe(this.i,this.l,v,"[Invalid Chunked Response]"),fn(this),Cn(this);else if(v.length>0&&!this.W){this.W=!0;var it=this.j;it.g==this&&it.aa&&!it.P&&(it.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),rl(it),it.P=!0,he(11))}}else Pe(this.i,this.l,v,null),Wn(this,v);Nt==4&&fn(this),this.o&&!this.K&&(Nt==4?Cu(this.j,this):(this.o=!1,Bn(this)))}else ar(this.g),m==400&&v.indexOf("Unknown SID")>0?(this.m=3,he(12)):(this.m=0,he(13)),fn(this),Cn(this)}}}catch{}finally{}};function Zo(u){if(!za(u))return u.g.la();const m=en(u.g);if(m==="")return"";let v="";const T=m.length,P=Ei(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return fn(u),Cn(u),"";u.h.i=new d.TextDecoder}for(let q=0;q<T;q++)u.h.h=!0,v+=u.h.i.decode(m[q],{stream:!(P&&q==T-1)});return m.length=0,u.h.g+=v,u.C=0,u.h.g}function za(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function ja(u,m){var v=u.C,T=m.indexOf(`
`,v);return T==-1?ze:(v=Number(m.substring(v,T)),isNaN(v)?Se:(T+=1,T+v>m.length?ze:(m=m.slice(T,T+v),u.C=T+v,m)))}jn.prototype.cancel=function(){this.K=!0,fn(this)};function Bn(u){u.T=Date.now()+u.H,rr(u,u.H)}function rr(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=Pn(_(u.aa,u),m)}function Zn(u){u.D&&(d.clearTimeout(u.D),u.D=null)}jn.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(xi(this.i,this.B),this.M!=2&&(ce(),he(17)),fn(this),this.m=2,Cn(this)):rr(this,this.T-u)};function Cn(u){u.j.I==0||u.K||Cu(u.j,u)}function fn(u){Zn(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,Ur(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function Wn(u,m){try{var v=u.j;if(v.I!=0&&(v.g==u||ei(v.h,u))){if(!u.L&&ei(v.h,u)&&v.I==3){try{var T=v.Ba.g.parse(m)}catch{T=null}if(Array.isArray(T)&&T.length==3){var P=T;if(P[0]==0){t:if(!v.v){if(v.g)if(v.g.F+3e3<u.F)Ya(v),Kr(v);else break t;na(v),he(18)}}else v.xa=P[1],0<v.xa-v.K&&P[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=Pn(_(v.Va,v),6e3));ti(v.h)<=1&&v.ta&&(v.ta=void 0)}else ji(v,11)}else if((u.L||v.g==u)&&Ya(v),!w(m))for(P=v.Ba.g.parse(m),m=0;m<P.length;m++){let Jt=P[m];const _e=Jt[0];if(!(_e<=v.K))if(v.K=_e,Jt=Jt[1],v.I==2)if(Jt[0]=="c"){v.M=Jt[1],v.ba=Jt[2];const ri=Jt[3];ri!=null&&(v.ka=ri,v.j.info("VER="+v.ka));const Bi=Jt[4];Bi!=null&&(v.za=Bi,v.j.info("SVER="+v.za));const Ti=Jt[5];Ti!=null&&typeof Ti=="number"&&Ti>0&&(T=1.5*Ti,v.O=T,v.j.info("backChannelRequestTimeoutMs_="+T)),T=v;const bi=u.g;if(bi){const ia=bi.g?bi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ia){var q=T.h;q.g||ia.indexOf("spdy")==-1&&ia.indexOf("quic")==-1&&ia.indexOf("h2")==-1||(q.j=q.l,q.g=new Set,q.h&&(Ks(q,q.h),q.h=null))}if(T.G){const Ka=bi.g?bi.g.getResponseHeader("X-HTTP-Session-Id"):null;Ka&&(T.wa=Ka,$t(T.J,T.G,Ka))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-u.F,v.j.info("Handshake RTT: "+v.T+"ms")),T=v;var it=u;if(T.na=Du(T,T.L?T.ba:null,T.W),it.L){Xs(T.h,it);var Nt=it,xe=T.O;xe&&(Nt.H=xe),Nt.D&&(Zn(Nt),Bn(Nt)),T.g=it}else Ru(T);v.i.length>0&&zi(v)}else Jt[0]!="stop"&&Jt[0]!="close"||ji(v,7);else v.I==3&&(Jt[0]=="stop"||Jt[0]=="close"?Jt[0]=="stop"?ji(v,7):nl(v):Jt[0]!="noop"&&v.l&&v.l.qa(Jt),v.A=0)}}ce(4)}catch{}}var Ae=class{constructor(u,m){this.g=u,this.map=m}};function Qs(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Ys(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function ti(u){return u.h?1:u.g?u.g.size:0}function ei(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function Ks(u,m){u.g?u.g.add(m):u.h=m}function Xs(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}Qs.prototype.cancel=function(){if(this.i=$s(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function $s(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const v of u.g.values())m=m.concat(v.G);return m}return Q(u.i)}var Ba=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Mi(u,m){if(u){u=u.split("&");for(let v=0;v<u.length;v++){const T=u[v].indexOf("=");let P,q=null;T>=0?(P=u[v].substring(0,T),q=u[v].substring(T+1)):P=u[v],m(P,q?decodeURIComponent(q.replace(/\+/g," ")):"")}}}function dn(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof dn?(this.l=u.l,Ne(this,u.j),this.o=u.o,this.g=u.g,pi(this,u.u),this.h=u.h,Hr(this,qa(u.i)),this.m=u.m):u&&(m=String(u).match(Ba))?(this.l=!1,Ne(this,m[1]||"",!0),this.o=bn(m[2]||""),this.g=bn(m[3]||"",!0),pi(this,m[4]),this.h=bn(m[5]||"",!0),Hr(this,m[6]||"",!0),this.m=bn(m[7]||"")):(this.l=!1,this.i=new ft(null,this.l))}dn.prototype.toString=function(){const u=[];var m=this.j;m&&u.push(yi(m,Fr,!0),":");var v=this.g;return(v||m=="file")&&(u.push("//"),(m=this.o)&&u.push(yi(m,Fr,!0),"@"),u.push(Jn(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&u.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&u.push("/"),u.push(yi(v,v.charAt(0)=="/"?F:R,!0))),(v=this.i.toString())&&u.push("?",v),(v=this.m)&&u.push("#",yi(v,ht)),u.join("")},dn.prototype.resolve=function(u){const m=Wt(this);let v=!!u.j;v?Ne(m,u.j):v=!!u.o,v?m.o=u.o:v=!!u.g,v?m.g=u.g:v=u.u!=null;var T=u.h;if(v)pi(m,u.u);else if(v=!!u.h){if(T.charAt(0)!="/")if(this.g&&!this.h)T="/"+T;else{var P=m.h.lastIndexOf("/");P!=-1&&(T=m.h.slice(0,P+1)+T)}if(P=T,P==".."||P==".")T="";else if(P.indexOf("./")!=-1||P.indexOf("/.")!=-1){T=P.lastIndexOf("/",0)==0,P=P.split("/");const q=[];for(let it=0;it<P.length;){const Nt=P[it++];Nt=="."?T&&it==P.length&&q.push(""):Nt==".."?((q.length>1||q.length==1&&q[0]!="")&&q.pop(),T&&it==P.length&&q.push("")):(q.push(Nt),T=!0)}T=q.join("/")}else T=P}return v?m.h=T:v=u.i.toString()!=="",v?Hr(m,qa(u.i)):v=!!u.m,v&&(m.m=u.m),m};function Wt(u){return new dn(u)}function Ne(u,m,v){u.j=v?bn(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function pi(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function Hr(u,m,v){m instanceof ft?(u.i=m,Ha(u.i,u.l)):(v||(m=yi(m,J)),u.i=new ft(m,u.l))}function $t(u,m,v){u.i.set(m,v)}function Oi(u){return $t(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function bn(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function yi(u,m,v){return typeof u=="string"?(u=encodeURI(u).replace(m,We),v&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function We(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var Fr=/[#\/\?@]/g,R=/[#\?:]/g,F=/[#\?]/g,J=/[#\?@]/g,ht=/#/g;function ft(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function bt(u){u.g||(u.g=new Map,u.h=0,u.i&&Mi(u.i,function(m,v){u.add(decodeURIComponent(m.replace(/\+/g," ")),v)}))}r=ft.prototype,r.add=function(u,m){bt(this),this.i=null,u=ki(this,u);let v=this.g.get(u);return v||this.g.set(u,v=[]),v.push(m),this.h+=1,this};function re(u,m){bt(u),m=ki(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function Sn(u,m){return bt(u),m=ki(u,m),u.g.has(m)}r.forEach=function(u,m){bt(this),this.g.forEach(function(v,T){v.forEach(function(P){u.call(m,P,T,this)},this)},this)};function tn(u,m){bt(u);let v=[];if(typeof m=="string")Sn(u,m)&&(v=v.concat(u.g.get(ki(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)v=v.concat(u[m]);return v}r.set=function(u,m){return bt(this),this.i=null,u=ki(this,u),Sn(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},r.get=function(u,m){return u?(u=tn(this,u),u.length>0?String(u[0]):m):m};function Vi(u,m,v){re(u,m),v.length>0&&(u.i=null,u.g.set(ki(u,m),Q(v)),u.h+=v.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let T=0;T<m.length;T++){var v=m[T];const P=Jn(v);v=tn(this,v);for(let q=0;q<v.length;q++){let it=P;v[q]!==""&&(it+="="+Jn(v[q])),u.push(it)}}return this.i=u.join("&")};function qa(u){const m=new ft;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function ki(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function Ha(u,m){m&&!u.j&&(bt(u),u.i=null,u.g.forEach(function(v,T){const P=T.toLowerCase();T!=P&&(re(this,T),Vi(this,P,v))},u)),u.j=m}function _i(u,m){const v=new zn;if(d.Image){const T=new Image;T.onload=b(ni,v,"TestLoadImage: loaded",!0,m,T),T.onerror=b(ni,v,"TestLoadImage: error",!1,m,T),T.onabort=b(ni,v,"TestLoadImage: abort",!1,m,T),T.ontimeout=b(ni,v,"TestLoadImage: timeout",!1,m,T),d.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=u}else m(!1)}function Wo(u,m){const v=new zn,T=new AbortController,P=setTimeout(()=>{T.abort(),ni(v,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:T.signal}).then(q=>{clearTimeout(P),q.ok?ni(v,"TestPingServer: ok",!0,m):ni(v,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(P),ni(v,"TestPingServer: error",!1,m)})}function ni(u,m,v,T,P){try{P&&(P.onload=null,P.onerror=null,P.onabort=null,P.ontimeout=null),T(v)}catch{}}function Gr(){this.g=new Ni}function Ui(u){this.i=u.Sb||null,this.h=u.ab||!1}S(Ui,Lr),Ui.prototype.g=function(){return new Js(this.i,this.h)};function Js(u,m){be.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}S(Js,be),r=Js.prototype,r.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,vi(this)},r.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Qr(this)),this.readyState=0},r.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,vi(this)),this.g&&(this.readyState=3,vi(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Fa(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function Fa(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}r.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?Qr(this):vi(this),this.readyState==3&&Fa(this)}},r.Oa=function(u){this.g&&(this.response=this.responseText=u,Qr(this))},r.Na=function(u){this.g&&(this.response=u,Qr(this))},r.ga=function(){this.g&&Qr(this)};function Qr(u){u.readyState=4,u.l=null,u.j=null,u.B=null,vi(u)}r.setRequestHeader=function(u,m){this.A.append(u,m)},r.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var v=m.next();!v.done;)v=v.value,u.push(v[0]+": "+v[1]),v=m.next();return u.join(`\r
`)};function vi(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Js.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function ii(u){let m="";return Ut(u,function(v,T){m+=T,m+=":",m+=v,m+=`\r
`}),m}function Zs(u,m,v){t:{for(T in v){var T=!1;break t}T=!0}T||(v=ii(v),typeof u=="string"?v!=null&&Jn(v):$t(u,m,v))}function se(u){be.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}S(se,be);var Li=/^https?$/i,tl=["POST","PUT"];r=se.prototype,r.Fa=function(u){this.H=u},r.ea=function(u,m,v,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Br.g(),this.g.onreadystatechange=O(_(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(q){Ws(this,q);return}if(u=v||"",v=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var P in T)v.set(P,T[P]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const q of T.keys())v.set(q,T.get(q));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(v.keys()).find(q=>q.toLowerCase()=="content-type"),P=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call(tl,m,void 0)>=0)||T||P||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[q,it]of v)this.g.setRequestHeader(q,it);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(q){Ws(this,q)}};function Ws(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,el(u),sr(u)}function el(u){u.A||(u.A=!0,Ce(u,"complete"),Ce(u,"error"))}r.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,Ce(this,"complete"),Ce(this,"abort"),sr(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),sr(this,!0)),se.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?ta(this):this.Xa())},r.Xa=function(){ta(this)};function ta(u){if(u.h&&typeof c<"u"){if(u.v&&Ei(u)==4)setTimeout(u.Ca.bind(u),0);else if(Ce(u,"readystatechange"),Ei(u)==4){u.h=!1;try{const q=u.ca();t:switch(q){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var v;if(!(v=m)){var T;if(T=q===0){let it=String(u.D).match(Ba)[1]||null;!it&&d.self&&d.self.location&&(it=d.self.location.protocol.slice(0,-1)),T=!Li.test(it?it.toLowerCase():"")}v=T}if(v)Ce(u,"complete"),Ce(u,"success");else{u.o=6;try{var P=Ei(u)>2?u.g.statusText:""}catch{P=""}u.l=P+" ["+u.ca()+"]",el(u)}}finally{sr(u)}}}}function sr(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const v=u.g;u.g=null,m||Ce(u,"ready");try{v.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function Ei(u){return u.g?u.g.readyState:0}r.ca=function(){try{return Ei(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),ka(m)}};function en(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function ar(u){const m={};u=(u.g&&Ei(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<u.length;T++){if(w(u[T]))continue;var v=Gs(u[T]);const P=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const q=m[P]||[];m[P]=q,q.push(v)}Ht(m,function(T){return T.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Pi(u,m,v){return v&&v.internalChannelParams&&v.internalChannelParams[u]||m}function Yr(u){this.za=0,this.i=[],this.j=new zn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Pi("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Pi("baseRetryDelayMs",5e3,u),this.Za=Pi("retryDelaySeedMs",1e4,u),this.Ta=Pi("forwardChannelMaxRetries",2,u),this.va=Pi("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new Qs(u&&u.concurrentRequestLimit),this.Ba=new Gr,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=Yr.prototype,r.ka=8,r.I=1,r.connect=function(u,m,v,T){he(0),this.W=u,this.H=m||{},v&&T!==void 0&&(this.H.OSID=v,this.H.OAID=T),this.F=this.X,this.J=Du(this,null,this.W),zi(this)};function nl(u){if(Ga(u),u.I==3){var m=u.V++,v=Wt(u.J);if($t(v,"SID",u.M),$t(v,"RID",m),$t(v,"TYPE","terminate"),ea(u,v),m=new jn(u,u.j,m),m.M=2,m.A=Oi(Wt(v)),v=!1,d.navigator&&d.navigator.sendBeacon)try{v=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!v&&d.Image&&(new Image().src=m.A,v=!0),v||(m.g=Mu(m.j,null),m.g.ea(m.A)),m.F=Date.now(),Bn(m)}xu(u)}function Kr(u){u.g&&(rl(u),u.g.cancel(),u.g=null)}function Ga(u){Kr(u),u.v&&(d.clearTimeout(u.v),u.v=null),Ya(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function zi(u){if(!Ys(u.h)&&!u.m){u.m=!0;var m=u.Ea;Xt||A(),Mt||(Xt(),Mt=!0),N.add(m,u),u.D=0}}function Qa(u,m){return ti(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=Pn(_(u.Ea,u,m),Nu(u,u.D)),u.D++,!0)}r.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const P=new jn(this,this.j,u);let q=this.o;if(this.U&&(q?(q=M(q),st(q,this.U)):q=this.U),this.u!==null||this.R||(P.J=q,q=null),this.S)t:{for(var m=0,v=0;v<this.i.length;v++){e:{var T=this.i[v];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break e}T=void 0}if(T===void 0)break;if(m+=T,m>4096){m=v;break t}if(m===4096||v===this.i.length-1){m=v+1;break t}}m=1e3}else m=1e3;m=wu(this,P,m),v=Wt(this.J),$t(v,"RID",u),$t(v,"CVER",22),this.G&&$t(v,"X-HTTP-Session-Id",this.G),ea(this,v),q&&(this.R?m="headers="+Jn(ii(q))+"&"+m:this.u&&Zs(v,this.u,q)),Ks(this.h,P),this.Ra&&$t(v,"TYPE","init"),this.S?($t(v,"$req",m),$t(v,"SID","null"),P.U=!0,In(P,v,null)):In(P,v,m),this.I=2}}else this.I==3&&(u?il(this,u):this.i.length==0||Ys(this.h)||il(this))};function il(u,m){var v;m?v=m.l:v=u.V++;const T=Wt(u.J);$t(T,"SID",u.M),$t(T,"RID",v),$t(T,"AID",u.K),ea(u,T),u.u&&u.o&&Zs(T,u.u,u.o),v=new jn(u,u.j,v,u.D+1),u.u===null&&(v.J=u.o),m&&(u.i=m.G.concat(u.i)),m=wu(u,v,1e3),v.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),Ks(u.h,v),In(v,T,m)}function ea(u,m){u.H&&Ut(u.H,function(v,T){$t(m,T,v)}),u.l&&Ut({},function(v,T){$t(m,T,v)})}function wu(u,m,v){v=Math.min(u.i.length,v);const T=u.l?_(u.l.Ka,u.l,u):null;t:{var P=u.i;let Nt=-1;for(;;){const xe=["count="+v];Nt==-1?v>0?(Nt=P[0].g,xe.push("ofs="+Nt)):Nt=0:xe.push("ofs="+Nt);let Jt=!0;for(let _e=0;_e<v;_e++){var q=P[_e].g;const ri=P[_e].map;if(q-=Nt,q<0)Nt=Math.max(0,P[_e].g-100),Jt=!1;else try{q="req"+q+"_"||"";try{var it=ri instanceof Map?ri:Object.entries(ri);for(const[Bi,Ti]of it){let bi=Ti;p(Ti)&&(bi=hn(Ti)),xe.push(q+Bi+"="+encodeURIComponent(bi))}}catch(Bi){throw xe.push(q+"type="+encodeURIComponent("_badmap")),Bi}}catch{T&&T(ri)}}if(Jt){it=xe.join("&");break t}}it=void 0}return u=u.i.splice(0,v),m.G=u,it}function Ru(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;Xt||A(),Mt||(Xt(),Mt=!0),N.add(m,u),u.A=0}}function na(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=Pn(_(u.Da,u),Nu(u,u.A)),u.A++,!0)}r.Da=function(){if(this.v=null,Iu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=Pn(_(this.Wa,this),u)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,he(10),Kr(this),Iu(this))};function rl(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function Iu(u){u.g=new jn(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=Wt(u.na);$t(m,"RID","rpc"),$t(m,"SID",u.M),$t(m,"AID",u.K),$t(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&$t(m,"TO",u.ia),$t(m,"TYPE","xmlhttp"),ea(u,m),u.u&&u.o&&Zs(m,u.u,u.o),u.O&&(u.g.H=u.O);var v=u.g;u=u.ba,v.M=1,v.A=Oi(Wt(m)),v.u=null,v.R=!0,qr(v,u)}r.Va=function(){this.C!=null&&(this.C=null,Kr(this),na(this),he(19))};function Ya(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function Cu(u,m){var v=null;if(u.g==m){Ya(u),rl(u),u.g=null;var T=2}else if(ei(u.h,m))v=m.G,Xs(u.h,m),T=1;else return;if(u.I!=0){if(m.o)if(T==1){v=m.u?m.u.length:0,m=Date.now()-m.F;var P=u.D;T=Pr(),Ce(T,new Le(T,v)),zi(u)}else Ru(u);else if(P=m.m,P==3||P==0&&m.X>0||!(T==1&&Qa(u,m)||T==2&&na(u)))switch(v&&v.length>0&&(m=u.h,m.i=m.i.concat(v)),P){case 1:ji(u,5);break;case 4:ji(u,10);break;case 3:ji(u,6);break;default:ji(u,2)}}}function Nu(u,m){let v=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(v*=2),v*m}function ji(u,m){if(u.j.info("Error code "+m),m==2){var v=_(u.bb,u),T=u.Ua;const P=!T;T=new dn(T||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Ne(T,"https"),Oi(T),P?_i(T.toString(),v):Wo(T.toString(),v)}else he(2);u.I=0,u.l&&u.l.pa(m),xu(u),Ga(u)}r.bb=function(u){u?(this.j.info("Successfully pinged google.com"),he(2)):(this.j.info("Failed to ping google.com"),he(1))};function xu(u){if(u.I=0,u.ja=[],u.l){const m=$s(u.h);(m.length!=0||u.i.length!=0)&&(tt(u.ja,m),tt(u.ja,u.i),u.h.i.length=0,Q(u.i),u.i.length=0),u.l.oa()}}function Du(u,m,v){var T=v instanceof dn?Wt(v):new dn(v);if(T.g!="")m&&(T.g=m+"."+T.g),pi(T,T.u);else{var P=d.location;T=P.protocol,m=m?m+"."+P.hostname:P.hostname,P=+P.port;const q=new dn(null);T&&Ne(q,T),m&&(q.g=m),P&&pi(q,P),v&&(q.h=v),T=q}return v=u.G,m=u.wa,v&&m&&$t(T,v,m),$t(T,"VER",u.ka),ea(u,T),T}function Mu(u,m,v){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new se(new Ui({ab:v})):new se(u.ma),m.Fa(u.L),m}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Ou(){}r=Ou.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function Xr(){}Xr.prototype.g=function(u,m){return new An(u,m)};function An(u,m){be.call(this),this.g=new Yr(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!w(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!w(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new or(this)}S(An,be),An.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},An.prototype.close=function(){nl(this.g)},An.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var v={};v.__data__=u,u=v}else this.v&&(v={},v.__data__=hn(u),u=v);m.i.push(new Ae(m.Ya++,u)),m.I==3&&zi(m)},An.prototype.N=function(){this.g.l=null,delete this.j,nl(this.g),delete this.g,An.Z.N.call(this)};function Vu(u){Ye.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){t:{for(const v in m){u=v;break t}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}S(Vu,Ye);function ku(){En.call(this),this.status=1}S(ku,En);function or(u){this.g=u}S(or,Ou),or.prototype.ra=function(){Ce(this.g,"a")},or.prototype.qa=function(u){Ce(this.g,new Vu(u))},or.prototype.pa=function(u){Ce(this.g,new ku)},or.prototype.oa=function(){Ce(this.g,"b")},Xr.prototype.createWebChannel=Xr.prototype.g,An.prototype.send=An.prototype.o,An.prototype.open=An.prototype.m,An.prototype.close=An.prototype.close,H1=function(){return new Xr},q1=function(){return Pr()},B1=me,vm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},ir.NO_ERROR=0,ir.TIMEOUT=8,ir.HTTP_ERROR=6,Wc=ir,jr.COMPLETE="complete",j1=jr,Hs.EventType=vn,vn.OPEN="a",vn.CLOSE="b",vn.ERROR="c",vn.MESSAGE="d",be.prototype.listen=be.prototype.J,Gl=Hs,se.prototype.listenOnce=se.prototype.K,se.prototype.getLastError=se.prototype.Ha,se.prototype.getLastErrorCode=se.prototype.ya,se.prototype.getStatus=se.prototype.ca,se.prototype.getResponseJson=se.prototype.La,se.prototype.getResponseText=se.prototype.la,se.prototype.send=se.prototype.ea,se.prototype.setWithCredentials=se.prototype.Fa,z1=se}).apply(typeof jc<"u"?jc:typeof self<"u"?self:typeof window<"u"?window:{});const U0="@firebase/firestore",L0="4.9.2";let pn=class{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}};pn.UNAUTHENTICATED=new pn(null),pn.GOOGLE_CREDENTIALS=new pn("google-credentials-uid"),pn.FIRST_PARTY=new pn("first-party-uid"),pn.MOCK_USER=new pn("mock-user");let Yo="12.3.0";const xa=new Bm("@firebase/firestore");function Ro(){return xa.logLevel}function lt(r,...t){if(xa.logLevel<=zt.DEBUG){const i=t.map(Zm);xa.debug(`Firestore (${Yo}): ${r}`,...i)}}function Dr(r,...t){if(xa.logLevel<=zt.ERROR){const i=t.map(Zm);xa.error(`Firestore (${Yo}): ${r}`,...i)}}function Po(r,...t){if(xa.logLevel<=zt.WARN){const i=t.map(Zm);xa.warn(`Firestore (${Yo}): ${r}`,...i)}}function Zm(r){if(typeof r=="string")return r;try{return(function(i){return JSON.stringify(i)})(r)}catch{return r}}function Et(r,t,i){let a="Unexpected state";typeof t=="string"?a=t:i=t,F1(r,a,i)}function F1(r,t,i){let a=`FIRESTORE (${Yo}) INTERNAL ASSERTION FAILED: ${t} (ID: ${r.toString(16)})`;if(i!==void 0)try{a+=" CONTEXT: "+JSON.stringify(i)}catch{a+=" CONTEXT: "+i}throw Dr(a),new Error(a)}function te(r,t,i,a){let l="Unexpected state";typeof i=="string"?l=i:a=i,r||F1(t,l,a)}function It(r,t){return r}const Z={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ut extends Or{constructor(t,i){super(t,i),this.code=t,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Aa{constructor(){this.promise=new Promise(((t,i)=>{this.resolve=t,this.reject=i}))}}class G1{constructor(t,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class Gw{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,i){t.enqueueRetryable((()=>i(pn.UNAUTHENTICATED)))}shutdown(){}}class Qw{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,i){this.changeListener=i,t.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class Yw{constructor(t){this.t=t,this.currentUser=pn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,i){te(this.o===void 0,42304);let a=this.i;const l=y=>this.i!==a?(a=this.i,i(y)):Promise.resolve();let c=new Aa;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new Aa,t.enqueueRetryable((()=>l(this.currentUser)))};const d=()=>{const y=c;t.enqueueRetryable((async()=>{await y.promise,await l(this.currentUser)}))},p=y=>{lt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=y,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((y=>p(y))),setTimeout((()=>{if(!this.auth){const y=this.t.getImmediate({optional:!0});y?p(y):(lt("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new Aa)}}),0),d()}getToken(){const t=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((a=>this.i!==t?(lt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(te(typeof a.accessToken=="string",31837,{l:a}),new G1(a.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return te(t===null||typeof t=="string",2055,{h:t}),new pn(t)}}class Kw{constructor(t,i,a){this.P=t,this.T=i,this.I=a,this.type="FirstParty",this.user=pn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class Xw{constructor(t,i,a){this.P=t,this.T=i,this.I=a}getToken(){return Promise.resolve(new Kw(this.P,this.T,this.I))}start(t,i){t.enqueueRetryable((()=>i(pn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class P0{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class $w{constructor(t,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,di(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,i){te(this.o===void 0,3512);const a=c=>{c.error!=null&&lt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.m;return this.m=c.token,lt("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(c.token):Promise.resolve()};this.o=c=>{t.enqueueRetryable((()=>a(c)))};const l=c=>{lt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>l(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?l(c):lt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new P0(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((i=>i?(te(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new P0(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function Jw(r){const t=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(r);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(i);else for(let a=0;a<r;a++)i[a]=Math.floor(256*Math.random());return i}class Wm{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const l=Jw(40);for(let c=0;c<l.length;++c)a.length<20&&l[c]<i&&(a+=t.charAt(l[c]%62))}return a}}function jt(r,t){return r<t?-1:r>t?1:0}function Em(r,t){const i=Math.min(r.length,t.length);for(let a=0;a<i;a++){const l=r.charAt(a),c=t.charAt(a);if(l!==c)return nm(l)===nm(c)?jt(l,c):nm(l)?1:-1}return jt(r.length,t.length)}const Zw=55296,Ww=57343;function nm(r){const t=r.charCodeAt(0);return t>=Zw&&t<=Ww}function zo(r,t,i){return r.length===t.length&&r.every(((a,l)=>i(a,t[l])))}const z0="__name__";class Qi{constructor(t,i,a){i===void 0?i=0:i>t.length&&Et(637,{offset:i,range:t.length}),a===void 0?a=t.length-i:a>t.length-i&&Et(1746,{length:a,range:t.length-i}),this.segments=t,this.offset=i,this.len=a}get length(){return this.len}isEqual(t){return Qi.comparator(this,t)===0}child(t){const i=this.segments.slice(this.offset,this.limit());return t instanceof Qi?t.forEach((a=>{i.push(a)})):i.push(t),this.construct(i)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}forEach(t){for(let i=this.offset,a=this.limit();i<a;i++)t(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,i){const a=Math.min(t.length,i.length);for(let l=0;l<a;l++){const c=Qi.compareSegments(t.get(l),i.get(l));if(c!==0)return c}return jt(t.length,i.length)}static compareSegments(t,i){const a=Qi.isNumericId(t),l=Qi.isNumericId(i);return a&&!l?-1:!a&&l?1:a&&l?Qi.extractNumericId(t).compare(Qi.extractNumericId(i)):Em(t,i)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Is.fromString(t.substring(4,t.length-2))}}class fe extends Qi{construct(t,i,a){return new fe(t,i,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const i=[];for(const a of t){if(a.indexOf("//")>=0)throw new ut(Z.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);i.push(...a.split("/").filter((l=>l.length>0)))}return new fe(i)}static emptyPath(){return new fe([])}}const tR=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ln extends Qi{construct(t,i,a){return new ln(t,i,a)}static isValidIdentifier(t){return tR.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ln.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===z0}static keyField(){return new ln([z0])}static fromServerFormat(t){const i=[];let a="",l=0;const c=()=>{if(a.length===0)throw new ut(Z.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(a),a=""};let d=!1;for(;l<t.length;){const p=t[l];if(p==="\\"){if(l+1===t.length)throw new ut(Z.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const y=t[l+1];if(y!=="\\"&&y!=="."&&y!=="`")throw new ut(Z.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);a+=y,l+=2}else p==="`"?(d=!d,l++):p!=="."||d?(a+=p,l++):(c(),l++)}if(c(),d)throw new ut(Z.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new ln(i)}static emptyPath(){return new ln([])}}class pt{constructor(t){this.path=t}static fromPath(t){return new pt(fe.fromString(t))}static fromName(t){return new pt(fe.fromString(t).popFirst(5))}static empty(){return new pt(fe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&fe.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,i){return fe.comparator(t.path,i.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new pt(new fe(t.slice()))}}function Q1(r,t,i){if(!i)throw new ut(Z.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${t}.`)}function eR(r,t,i,a){if(t===!0&&a===!0)throw new ut(Z.INVALID_ARGUMENT,`${r} and ${i} cannot be used together.`)}function j0(r){if(!pt.isDocumentKey(r))throw new ut(Z.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function B0(r){if(pt.isDocumentKey(r))throw new ut(Z.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function Y1(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function Dh(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const t=(function(a){return a.constructor?a.constructor.name:null})(r);return t?`a custom ${t} object`:"an object"}}return typeof r=="function"?"a function":Et(12329,{type:typeof r})}function Xi(r,t){if("_delegate"in r&&(r=r._delegate),!(r instanceof t)){if(t.name===r.constructor.name)throw new ut(Z.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=Dh(r);throw new ut(Z.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${i}`)}}return r}function Qe(r,t){const i={typeString:r};return t&&(i.value=t),i}function _u(r,t){if(!Y1(r))throw new ut(Z.INVALID_ARGUMENT,"JSON must be an object");let i;for(const a in t)if(t[a]){const l=t[a].typeString,c="value"in t[a]?{value:t[a].value}:void 0;if(!(a in r)){i=`JSON missing required field: '${a}'`;break}const d=r[a];if(l&&typeof d!==l){i=`JSON field '${a}' must be a ${l}.`;break}if(c!==void 0&&d!==c.value){i=`Expected '${a}' field to equal '${c.value}'`;break}}if(i)throw new ut(Z.INVALID_ARGUMENT,i);return!0}const q0=-62135596800,H0=1e6;class ye{static now(){return ye.fromMillis(Date.now())}static fromDate(t){return ye.fromMillis(t.getTime())}static fromMillis(t){const i=Math.floor(t/1e3),a=Math.floor((t-1e3*i)*H0);return new ye(i,a)}constructor(t,i){if(this.seconds=t,this.nanoseconds=i,i<0)throw new ut(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new ut(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(t<q0)throw new ut(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new ut(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/H0}_compareTo(t){return this.seconds===t.seconds?jt(this.nanoseconds,t.nanoseconds):jt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ye._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(_u(t,ye._jsonSchema))return new ye(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-q0;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ye._jsonSchemaVersion="firestore/timestamp/1.0",ye._jsonSchema={type:Qe("string",ye._jsonSchemaVersion),seconds:Qe("number"),nanoseconds:Qe("number")};class At{static fromTimestamp(t){return new At(t)}static min(){return new At(new ye(0,0))}static max(){return new At(new ye(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const iu=-1;function nR(r,t){const i=r.toTimestamp().seconds,a=r.toTimestamp().nanoseconds+1,l=At.fromTimestamp(a===1e9?new ye(i+1,0):new ye(i,a));return new Ns(l,pt.empty(),t)}function iR(r){return new Ns(r.readTime,r.key,iu)}class Ns{constructor(t,i,a){this.readTime=t,this.documentKey=i,this.largestBatchId=a}static min(){return new Ns(At.min(),pt.empty(),iu)}static max(){return new Ns(At.max(),pt.empty(),iu)}}function rR(r,t){let i=r.readTime.compareTo(t.readTime);return i!==0?i:(i=pt.comparator(r.documentKey,t.documentKey),i!==0?i:jt(r.largestBatchId,t.largestBatchId))}const sR="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class aR{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}async function Ko(r){if(r.code!==Z.FAILED_PRECONDITION||r.message!==sR)throw r;lt("LocalStore","Unexpectedly lost primary lease")}class W{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(t){return this.next(void 0,t)}next(t,i){return this.callbackAttached&&Et(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(t,this.result):new W(((a,l)=>{this.nextCallback=c=>{this.wrapSuccess(t,c).next(a,l)},this.catchCallback=c=>{this.wrapFailure(i,c).next(a,l)}}))}toPromise(){return new Promise(((t,i)=>{this.next(t,i)}))}wrapUserFunction(t){try{const i=t();return i instanceof W?i:W.resolve(i)}catch(i){return W.reject(i)}}wrapSuccess(t,i){return t?this.wrapUserFunction((()=>t(i))):W.resolve(i)}wrapFailure(t,i){return t?this.wrapUserFunction((()=>t(i))):W.reject(i)}static resolve(t){return new W(((i,a)=>{i(t)}))}static reject(t){return new W(((i,a)=>{a(t)}))}static waitFor(t){return new W(((i,a)=>{let l=0,c=0,d=!1;t.forEach((p=>{++l,p.next((()=>{++c,d&&c===l&&i()}),(y=>a(y)))})),d=!0,c===l&&i()}))}static or(t){let i=W.resolve(!1);for(const a of t)i=i.next((l=>l?W.resolve(l):a()));return i}static forEach(t,i){const a=[];return t.forEach(((l,c)=>{a.push(i.call(this,l,c))})),this.waitFor(a)}static mapArray(t,i){return new W(((a,l)=>{const c=t.length,d=new Array(c);let p=0;for(let y=0;y<c;y++){const _=y;i(t[_]).next((b=>{d[_]=b,++p,p===c&&a(d)}),(b=>l(b)))}}))}static doWhile(t,i){return new W(((a,l)=>{const c=()=>{t()===!0?i().next((()=>{c()}),l):a()};c()}))}}function oR(r){const t=r.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function Xo(r){return r.name==="IndexedDbTransactionError"}class Mh{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=a=>this.ae(a),this.ue=a=>i.writeSequenceNumber(a))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}Mh.ce=-1;const tg=-1;function Oh(r){return r==null}function mh(r){return r===0&&1/r==-1/0}function lR(r){return typeof r=="number"&&Number.isInteger(r)&&!mh(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}const K1="";function uR(r){let t="";for(let i=0;i<r.length;i++)t.length>0&&(t=F0(t)),t=cR(r.get(i),t);return F0(t)}function cR(r,t){let i=t;const a=r.length;for(let l=0;l<a;l++){const c=r.charAt(l);switch(c){case"\0":i+="";break;case K1:i+="";break;default:i+=c}}return i}function F0(r){return r+K1+""}function G0(r){let t=0;for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&t++;return t}function ks(r,t){for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&t(i,r[i])}function X1(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}class Ee{constructor(t,i){this.comparator=t,this.root=i||on.EMPTY}insert(t,i){return new Ee(this.comparator,this.root.insert(t,i,this.comparator).copy(null,null,on.BLACK,null,null))}remove(t){return new Ee(this.comparator,this.root.remove(t,this.comparator).copy(null,null,on.BLACK,null,null))}get(t){let i=this.root;for(;!i.isEmpty();){const a=this.comparator(t,i.key);if(a===0)return i.value;a<0?i=i.left:a>0&&(i=i.right)}return null}indexOf(t){let i=0,a=this.root;for(;!a.isEmpty();){const l=this.comparator(t,a.key);if(l===0)return i+a.left.size;l<0?a=a.left:(i+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((i,a)=>(t(i,a),!1)))}toString(){const t=[];return this.inorderTraversal(((i,a)=>(t.push(`${i}:${a}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Bc(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Bc(this.root,t,this.comparator,!1)}getReverseIterator(){return new Bc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Bc(this.root,t,this.comparator,!0)}}class Bc{constructor(t,i,a,l){this.isReverse=l,this.nodeStack=[];let c=1;for(;!t.isEmpty();)if(c=i?a(t.key,i):1,i&&l&&(c*=-1),c<0)t=this.isReverse?t.left:t.right;else{if(c===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const i={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class on{constructor(t,i,a,l,c){this.key=t,this.value=i,this.color=a??on.RED,this.left=l??on.EMPTY,this.right=c??on.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,i,a,l,c){return new on(t??this.key,i??this.value,a??this.color,l??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,a){let l=this;const c=a(t,l.key);return l=c<0?l.copy(null,null,null,l.left.insert(t,i,a),null):c===0?l.copy(null,i,null,null,null):l.copy(null,null,null,null,l.right.insert(t,i,a)),l.fixUp()}removeMin(){if(this.left.isEmpty())return on.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,i){let a,l=this;if(i(t,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(t,i),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),i(t,l.key)===0){if(l.right.isEmpty())return on.EMPTY;a=l.right.min(),l=l.copy(a.key,a.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(t,i))}return l.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,on.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,on.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Et(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Et(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw Et(27949);return t+(this.isRed()?0:1)}}on.EMPTY=null,on.RED=!0,on.BLACK=!1;on.EMPTY=new class{constructor(){this.size=0}get key(){throw Et(57766)}get value(){throw Et(16141)}get color(){throw Et(16727)}get left(){throw Et(29726)}get right(){throw Et(36894)}copy(t,i,a,l,c){return this}insert(t,i,a){return new on(t,i)}remove(t,i){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Xe{constructor(t){this.comparator=t,this.data=new Ee(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((i,a)=>(t(i),!1)))}forEachInRange(t,i){const a=this.data.getIteratorFrom(t[0]);for(;a.hasNext();){const l=a.getNext();if(this.comparator(l.key,t[1])>=0)return;i(l.key)}}forEachWhile(t,i){let a;for(a=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();a.hasNext();)if(!t(a.getNext().key))return}firstAfterOrEqual(t){const i=this.data.getIteratorFrom(t);return i.hasNext()?i.getNext().key:null}getIterator(){return new Q0(this.data.getIterator())}getIteratorFrom(t){return new Q0(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let i=this;return i.size<t.size&&(i=t,t=this),t.forEach((a=>{i=i.add(a)})),i}isEqual(t){if(!(t instanceof Xe)||this.size!==t.size)return!1;const i=this.data.getIterator(),a=t.data.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=a.getNext().key;if(this.comparator(l,c)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((i=>{t.push(i)})),t}toString(){const t=[];return this.forEach((i=>t.push(i))),"SortedSet("+t.toString()+")"}copy(t){const i=new Xe(this.comparator);return i.data=t,i}}class Q0{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Xn{constructor(t){this.fields=t,t.sort(ln.comparator)}static empty(){return new Xn([])}unionWith(t){let i=new Xe(ln.comparator);for(const a of this.fields)i=i.add(a);for(const a of t)i=i.add(a);return new Xn(i.toArray())}covers(t){for(const i of this.fields)if(i.isPrefixOf(t))return!0;return!1}isEqual(t){return zo(this.fields,t.fields,((i,a)=>i.isEqual(a)))}}class $1 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class cn{constructor(t){this.binaryString=t}static fromBase64String(t){const i=(function(l){try{return atob(l)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new $1("Invalid base64 string: "+c):c}})(t);return new cn(i)}static fromUint8Array(t){const i=(function(l){let c="";for(let d=0;d<l.length;++d)c+=String.fromCharCode(l[d]);return c})(t);return new cn(i)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const a=new Uint8Array(i.length);for(let l=0;l<i.length;l++)a[l]=i.charCodeAt(l);return a})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return jt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}cn.EMPTY_BYTE_STRING=new cn("");const hR=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function xs(r){if(te(!!r,39018),typeof r=="string"){let t=0;const i=hR.exec(r);if(te(!!i,46558,{timestamp:r}),i[1]){let l=i[1];l=(l+"000000000").substr(0,9),t=Number(l)}const a=new Date(r);return{seconds:Math.floor(a.getTime()/1e3),nanos:t}}return{seconds:Oe(r.seconds),nanos:Oe(r.nanos)}}function Oe(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function Ds(r){return typeof r=="string"?cn.fromBase64String(r):cn.fromUint8Array(r)}const J1="server_timestamp",Z1="__type__",W1="__previous_value__",tE="__local_write_time__";function eg(r){return(r?.mapValue?.fields||{})[Z1]?.stringValue===J1}function Vh(r){const t=r.mapValue.fields[W1];return eg(t)?Vh(t):t}function ru(r){const t=xs(r.mapValue.fields[tE].timestampValue);return new ye(t.seconds,t.nanos)}class fR{constructor(t,i,a,l,c,d,p,y,_,b){this.databaseId=t,this.appId=i,this.persistenceKey=a,this.host=l,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=p,this.longPollingOptions=y,this.useFetchStreams=_,this.isUsingEmulator=b}}const gh="(default)";class su{constructor(t,i){this.projectId=t,this.database=i||gh}static empty(){return new su("","")}get isDefaultDatabase(){return this.database===gh}isEqual(t){return t instanceof su&&t.projectId===this.projectId&&t.database===this.database}}const eE="__type__",dR="__max__",qc={mapValue:{}},nE="__vector__",ph="value";function Ms(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?eg(r)?4:gR(r)?9007199254740991:mR(r)?10:11:Et(28295,{value:r})}function tr(r,t){if(r===t)return!0;const i=Ms(r);if(i!==Ms(t))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===t.booleanValue;case 4:return ru(r).isEqual(ru(t));case 3:return(function(l,c){if(typeof l.timestampValue=="string"&&typeof c.timestampValue=="string"&&l.timestampValue.length===c.timestampValue.length)return l.timestampValue===c.timestampValue;const d=xs(l.timestampValue),p=xs(c.timestampValue);return d.seconds===p.seconds&&d.nanos===p.nanos})(r,t);case 5:return r.stringValue===t.stringValue;case 6:return(function(l,c){return Ds(l.bytesValue).isEqual(Ds(c.bytesValue))})(r,t);case 7:return r.referenceValue===t.referenceValue;case 8:return(function(l,c){return Oe(l.geoPointValue.latitude)===Oe(c.geoPointValue.latitude)&&Oe(l.geoPointValue.longitude)===Oe(c.geoPointValue.longitude)})(r,t);case 2:return(function(l,c){if("integerValue"in l&&"integerValue"in c)return Oe(l.integerValue)===Oe(c.integerValue);if("doubleValue"in l&&"doubleValue"in c){const d=Oe(l.doubleValue),p=Oe(c.doubleValue);return d===p?mh(d)===mh(p):isNaN(d)&&isNaN(p)}return!1})(r,t);case 9:return zo(r.arrayValue.values||[],t.arrayValue.values||[],tr);case 10:case 11:return(function(l,c){const d=l.mapValue.fields||{},p=c.mapValue.fields||{};if(G0(d)!==G0(p))return!1;for(const y in d)if(d.hasOwnProperty(y)&&(p[y]===void 0||!tr(d[y],p[y])))return!1;return!0})(r,t);default:return Et(52216,{left:r})}}function au(r,t){return(r.values||[]).find((i=>tr(i,t)))!==void 0}function jo(r,t){if(r===t)return 0;const i=Ms(r),a=Ms(t);if(i!==a)return jt(i,a);switch(i){case 0:case 9007199254740991:return 0;case 1:return jt(r.booleanValue,t.booleanValue);case 2:return(function(c,d){const p=Oe(c.integerValue||c.doubleValue),y=Oe(d.integerValue||d.doubleValue);return p<y?-1:p>y?1:p===y?0:isNaN(p)?isNaN(y)?0:-1:1})(r,t);case 3:return Y0(r.timestampValue,t.timestampValue);case 4:return Y0(ru(r),ru(t));case 5:return Em(r.stringValue,t.stringValue);case 6:return(function(c,d){const p=Ds(c),y=Ds(d);return p.compareTo(y)})(r.bytesValue,t.bytesValue);case 7:return(function(c,d){const p=c.split("/"),y=d.split("/");for(let _=0;_<p.length&&_<y.length;_++){const b=jt(p[_],y[_]);if(b!==0)return b}return jt(p.length,y.length)})(r.referenceValue,t.referenceValue);case 8:return(function(c,d){const p=jt(Oe(c.latitude),Oe(d.latitude));return p!==0?p:jt(Oe(c.longitude),Oe(d.longitude))})(r.geoPointValue,t.geoPointValue);case 9:return K0(r.arrayValue,t.arrayValue);case 10:return(function(c,d){const p=c.fields||{},y=d.fields||{},_=p[ph]?.arrayValue,b=y[ph]?.arrayValue,S=jt(_?.values?.length||0,b?.values?.length||0);return S!==0?S:K0(_,b)})(r.mapValue,t.mapValue);case 11:return(function(c,d){if(c===qc.mapValue&&d===qc.mapValue)return 0;if(c===qc.mapValue)return 1;if(d===qc.mapValue)return-1;const p=c.fields||{},y=Object.keys(p),_=d.fields||{},b=Object.keys(_);y.sort(),b.sort();for(let S=0;S<y.length&&S<b.length;++S){const O=Em(y[S],b[S]);if(O!==0)return O;const Q=jo(p[y[S]],_[b[S]]);if(Q!==0)return Q}return jt(y.length,b.length)})(r.mapValue,t.mapValue);default:throw Et(23264,{he:i})}}function Y0(r,t){if(typeof r=="string"&&typeof t=="string"&&r.length===t.length)return jt(r,t);const i=xs(r),a=xs(t),l=jt(i.seconds,a.seconds);return l!==0?l:jt(i.nanos,a.nanos)}function K0(r,t){const i=r.values||[],a=t.values||[];for(let l=0;l<i.length&&l<a.length;++l){const c=jo(i[l],a[l]);if(c)return c}return jt(i.length,a.length)}function Bo(r){return Tm(r)}function Tm(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(i){const a=xs(i);return`time(${a.seconds},${a.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(i){return Ds(i).toBase64()})(r.bytesValue):"referenceValue"in r?(function(i){return pt.fromName(i).toString()})(r.referenceValue):"geoPointValue"in r?(function(i){return`geo(${i.latitude},${i.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(i){let a="[",l=!0;for(const c of i.values||[])l?l=!1:a+=",",a+=Tm(c);return a+"]"})(r.arrayValue):"mapValue"in r?(function(i){const a=Object.keys(i.fields||{}).sort();let l="{",c=!0;for(const d of a)c?c=!1:l+=",",l+=`${d}:${Tm(i.fields[d])}`;return l+"}"})(r.mapValue):Et(61005,{value:r})}function th(r){switch(Ms(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=Vh(r);return t?16+th(t):16;case 5:return 2*r.stringValue.length;case 6:return Ds(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(a){return(a.values||[]).reduce(((l,c)=>l+th(c)),0)})(r.arrayValue);case 10:case 11:return(function(a){let l=0;return ks(a.fields,((c,d)=>{l+=c.length+th(d)})),l})(r.mapValue);default:throw Et(13486,{value:r})}}function X0(r,t){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${t.path.canonicalString()}`}}function bm(r){return!!r&&"integerValue"in r}function ng(r){return!!r&&"arrayValue"in r}function $0(r){return!!r&&"nullValue"in r}function J0(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function eh(r){return!!r&&"mapValue"in r}function mR(r){return(r?.mapValue?.fields||{})[eE]?.stringValue===nE}function Jl(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const t={mapValue:{fields:{}}};return ks(r.mapValue.fields,((i,a)=>t.mapValue.fields[i]=Jl(a))),t}if(r.arrayValue){const t={arrayValue:{values:[]}};for(let i=0;i<(r.arrayValue.values||[]).length;++i)t.arrayValue.values[i]=Jl(r.arrayValue.values[i]);return t}return{...r}}function gR(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===dR}class Un{constructor(t){this.value=t}static empty(){return new Un({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let i=this.value;for(let a=0;a<t.length-1;++a)if(i=(i.mapValue.fields||{})[t.get(a)],!eh(i))return null;return i=(i.mapValue.fields||{})[t.lastSegment()],i||null}}set(t,i){this.getFieldsMap(t.popLast())[t.lastSegment()]=Jl(i)}setAll(t){let i=ln.emptyPath(),a={},l=[];t.forEach(((d,p)=>{if(!i.isImmediateParentOf(p)){const y=this.getFieldsMap(i);this.applyChanges(y,a,l),a={},l=[],i=p.popLast()}d?a[p.lastSegment()]=Jl(d):l.push(p.lastSegment())}));const c=this.getFieldsMap(i);this.applyChanges(c,a,l)}delete(t){const i=this.field(t.popLast());eh(i)&&i.mapValue.fields&&delete i.mapValue.fields[t.lastSegment()]}isEqual(t){return tr(this.value,t.value)}getFieldsMap(t){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let a=0;a<t.length;++a){let l=i.mapValue.fields[t.get(a)];eh(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},i.mapValue.fields[t.get(a)]=l),i=l}return i.mapValue.fields}applyChanges(t,i,a){ks(i,((l,c)=>t[l]=c));for(const l of a)delete t[l]}clone(){return new Un(Jl(this.value))}}function iE(r){const t=[];return ks(r.fields,((i,a)=>{const l=new ln([i]);if(eh(a)){const c=iE(a.mapValue).fields;if(c.length===0)t.push(l);else for(const d of c)t.push(l.child(d))}else t.push(l)})),new Xn(t)}class yn{constructor(t,i,a,l,c,d,p){this.key=t,this.documentType=i,this.version=a,this.readTime=l,this.createTime=c,this.data=d,this.documentState=p}static newInvalidDocument(t){return new yn(t,0,At.min(),At.min(),At.min(),Un.empty(),0)}static newFoundDocument(t,i,a,l){return new yn(t,1,i,At.min(),a,l,0)}static newNoDocument(t,i){return new yn(t,2,i,At.min(),At.min(),Un.empty(),0)}static newUnknownDocument(t,i){return new yn(t,3,i,At.min(),At.min(),Un.empty(),2)}convertToFoundDocument(t,i){return!this.createTime.isEqual(At.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Un.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Un.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=At.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof yn&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new yn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class yh{constructor(t,i){this.position=t,this.inclusive=i}}function Z0(r,t,i){let a=0;for(let l=0;l<r.position.length;l++){const c=t[l],d=r.position[l];if(c.field.isKeyField()?a=pt.comparator(pt.fromName(d.referenceValue),i.key):a=jo(d,i.data.field(c.field)),c.dir==="desc"&&(a*=-1),a!==0)break}return a}function W0(r,t){if(r===null)return t===null;if(t===null||r.inclusive!==t.inclusive||r.position.length!==t.position.length)return!1;for(let i=0;i<r.position.length;i++)if(!tr(r.position[i],t.position[i]))return!1;return!0}class _h{constructor(t,i="asc"){this.field=t,this.dir=i}}function pR(r,t){return r.dir===t.dir&&r.field.isEqual(t.field)}class rE{}class Ge extends rE{constructor(t,i,a){super(),this.field=t,this.op=i,this.value=a}static create(t,i,a){return t.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(t,i,a):new _R(t,i,a):i==="array-contains"?new TR(t,a):i==="in"?new bR(t,a):i==="not-in"?new SR(t,a):i==="array-contains-any"?new AR(t,a):new Ge(t,i,a)}static createKeyFieldInFilter(t,i,a){return i==="in"?new vR(t,a):new ER(t,a)}matches(t){const i=t.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(jo(i,this.value)):i!==null&&Ms(this.value)===Ms(i)&&this.matchesComparison(jo(i,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return Et(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ci extends rE{constructor(t,i){super(),this.filters=t,this.op=i,this.Pe=null}static create(t,i){return new Ci(t,i)}matches(t){return sE(this)?this.filters.find((i=>!i.matches(t)))===void 0:this.filters.find((i=>i.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,i)=>t.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function sE(r){return r.op==="and"}function aE(r){return yR(r)&&sE(r)}function yR(r){for(const t of r.filters)if(t instanceof Ci)return!1;return!0}function Sm(r){if(r instanceof Ge)return r.field.canonicalString()+r.op.toString()+Bo(r.value);if(aE(r))return r.filters.map((t=>Sm(t))).join(",");{const t=r.filters.map((i=>Sm(i))).join(",");return`${r.op}(${t})`}}function oE(r,t){return r instanceof Ge?(function(a,l){return l instanceof Ge&&a.op===l.op&&a.field.isEqual(l.field)&&tr(a.value,l.value)})(r,t):r instanceof Ci?(function(a,l){return l instanceof Ci&&a.op===l.op&&a.filters.length===l.filters.length?a.filters.reduce(((c,d,p)=>c&&oE(d,l.filters[p])),!0):!1})(r,t):void Et(19439)}function lE(r){return r instanceof Ge?(function(i){return`${i.field.canonicalString()} ${i.op} ${Bo(i.value)}`})(r):r instanceof Ci?(function(i){return i.op.toString()+" {"+i.getFilters().map(lE).join(" ,")+"}"})(r):"Filter"}class _R extends Ge{constructor(t,i,a){super(t,i,a),this.key=pt.fromName(a.referenceValue)}matches(t){const i=pt.comparator(t.key,this.key);return this.matchesComparison(i)}}class vR extends Ge{constructor(t,i){super(t,"in",i),this.keys=uE("in",i)}matches(t){return this.keys.some((i=>i.isEqual(t.key)))}}class ER extends Ge{constructor(t,i){super(t,"not-in",i),this.keys=uE("not-in",i)}matches(t){return!this.keys.some((i=>i.isEqual(t.key)))}}function uE(r,t){return(t.arrayValue?.values||[]).map((i=>pt.fromName(i.referenceValue)))}class TR extends Ge{constructor(t,i){super(t,"array-contains",i)}matches(t){const i=t.data.field(this.field);return ng(i)&&au(i.arrayValue,this.value)}}class bR extends Ge{constructor(t,i){super(t,"in",i)}matches(t){const i=t.data.field(this.field);return i!==null&&au(this.value.arrayValue,i)}}class SR extends Ge{constructor(t,i){super(t,"not-in",i)}matches(t){if(au(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=t.data.field(this.field);return i!==null&&i.nullValue===void 0&&!au(this.value.arrayValue,i)}}class AR extends Ge{constructor(t,i){super(t,"array-contains-any",i)}matches(t){const i=t.data.field(this.field);return!(!ng(i)||!i.arrayValue.values)&&i.arrayValue.values.some((a=>au(this.value.arrayValue,a)))}}class wR{constructor(t,i=null,a=[],l=[],c=null,d=null,p=null){this.path=t,this.collectionGroup=i,this.orderBy=a,this.filters=l,this.limit=c,this.startAt=d,this.endAt=p,this.Te=null}}function tv(r,t=null,i=[],a=[],l=null,c=null,d=null){return new wR(r,t,i,a,l,c,d)}function ig(r){const t=It(r);if(t.Te===null){let i=t.path.canonicalString();t.collectionGroup!==null&&(i+="|cg:"+t.collectionGroup),i+="|f:",i+=t.filters.map((a=>Sm(a))).join(","),i+="|ob:",i+=t.orderBy.map((a=>(function(c){return c.field.canonicalString()+c.dir})(a))).join(","),Oh(t.limit)||(i+="|l:",i+=t.limit),t.startAt&&(i+="|lb:",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map((a=>Bo(a))).join(",")),t.endAt&&(i+="|ub:",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map((a=>Bo(a))).join(",")),t.Te=i}return t.Te}function rg(r,t){if(r.limit!==t.limit||r.orderBy.length!==t.orderBy.length)return!1;for(let i=0;i<r.orderBy.length;i++)if(!pR(r.orderBy[i],t.orderBy[i]))return!1;if(r.filters.length!==t.filters.length)return!1;for(let i=0;i<r.filters.length;i++)if(!oE(r.filters[i],t.filters[i]))return!1;return r.collectionGroup===t.collectionGroup&&!!r.path.isEqual(t.path)&&!!W0(r.startAt,t.startAt)&&W0(r.endAt,t.endAt)}function Am(r){return pt.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}class vu{constructor(t,i=null,a=[],l=[],c=null,d="F",p=null,y=null){this.path=t,this.collectionGroup=i,this.explicitOrderBy=a,this.filters=l,this.limit=c,this.limitType=d,this.startAt=p,this.endAt=y,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function RR(r,t,i,a,l,c,d,p){return new vu(r,t,i,a,l,c,d,p)}function sg(r){return new vu(r)}function ev(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function cE(r){return r.collectionGroup!==null}function Zl(r){const t=It(r);if(t.Ie===null){t.Ie=[];const i=new Set;for(const c of t.explicitOrderBy)t.Ie.push(c),i.add(c.field.canonicalString());const a=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(d){let p=new Xe(ln.comparator);return d.filters.forEach((y=>{y.getFlattenedFilters().forEach((_=>{_.isInequality()&&(p=p.add(_.field))}))})),p})(t).forEach((c=>{i.has(c.canonicalString())||c.isKeyField()||t.Ie.push(new _h(c,a))})),i.has(ln.keyField().canonicalString())||t.Ie.push(new _h(ln.keyField(),a))}return t.Ie}function $i(r){const t=It(r);return t.Ee||(t.Ee=IR(t,Zl(r))),t.Ee}function IR(r,t){if(r.limitType==="F")return tv(r.path,r.collectionGroup,t,r.filters,r.limit,r.startAt,r.endAt);{t=t.map((l=>{const c=l.dir==="desc"?"asc":"desc";return new _h(l.field,c)}));const i=r.endAt?new yh(r.endAt.position,r.endAt.inclusive):null,a=r.startAt?new yh(r.startAt.position,r.startAt.inclusive):null;return tv(r.path,r.collectionGroup,t,r.filters,r.limit,i,a)}}function wm(r,t){const i=r.filters.concat([t]);return new vu(r.path,r.collectionGroup,r.explicitOrderBy.slice(),i,r.limit,r.limitType,r.startAt,r.endAt)}function Rm(r,t,i){return new vu(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),t,i,r.startAt,r.endAt)}function kh(r,t){return rg($i(r),$i(t))&&r.limitType===t.limitType}function hE(r){return`${ig($i(r))}|lt:${r.limitType}`}function Io(r){return`Query(target=${(function(i){let a=i.path.canonicalString();return i.collectionGroup!==null&&(a+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(a+=`, filters: [${i.filters.map((l=>lE(l))).join(", ")}]`),Oh(i.limit)||(a+=", limit: "+i.limit),i.orderBy.length>0&&(a+=`, orderBy: [${i.orderBy.map((l=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(l))).join(", ")}]`),i.startAt&&(a+=", startAt: ",a+=i.startAt.inclusive?"b:":"a:",a+=i.startAt.position.map((l=>Bo(l))).join(",")),i.endAt&&(a+=", endAt: ",a+=i.endAt.inclusive?"a:":"b:",a+=i.endAt.position.map((l=>Bo(l))).join(",")),`Target(${a})`})($i(r))}; limitType=${r.limitType})`}function Uh(r,t){return t.isFoundDocument()&&(function(a,l){const c=l.key.path;return a.collectionGroup!==null?l.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(c):pt.isDocumentKey(a.path)?a.path.isEqual(c):a.path.isImmediateParentOf(c)})(r,t)&&(function(a,l){for(const c of Zl(a))if(!c.field.isKeyField()&&l.data.field(c.field)===null)return!1;return!0})(r,t)&&(function(a,l){for(const c of a.filters)if(!c.matches(l))return!1;return!0})(r,t)&&(function(a,l){return!(a.startAt&&!(function(d,p,y){const _=Z0(d,p,y);return d.inclusive?_<=0:_<0})(a.startAt,Zl(a),l)||a.endAt&&!(function(d,p,y){const _=Z0(d,p,y);return d.inclusive?_>=0:_>0})(a.endAt,Zl(a),l))})(r,t)}function CR(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function fE(r){return(t,i)=>{let a=!1;for(const l of Zl(r)){const c=NR(l,t,i);if(c!==0)return c;a=a||l.field.isKeyField()}return 0}}function NR(r,t,i){const a=r.field.isKeyField()?pt.comparator(t.key,i.key):(function(c,d,p){const y=d.data.field(c),_=p.data.field(c);return y!==null&&_!==null?jo(y,_):Et(42886)})(r.field,t,i);switch(r.dir){case"asc":return a;case"desc":return-1*a;default:return Et(19790,{direction:r.dir})}}class Oa{constructor(t,i){this.mapKeyFn=t,this.equalsFn=i,this.inner={},this.innerSize=0}get(t){const i=this.mapKeyFn(t),a=this.inner[i];if(a!==void 0){for(const[l,c]of a)if(this.equalsFn(l,t))return c}}has(t){return this.get(t)!==void 0}set(t,i){const a=this.mapKeyFn(t),l=this.inner[a];if(l===void 0)return this.inner[a]=[[t,i]],void this.innerSize++;for(let c=0;c<l.length;c++)if(this.equalsFn(l[c][0],t))return void(l[c]=[t,i]);l.push([t,i]),this.innerSize++}delete(t){const i=this.mapKeyFn(t),a=this.inner[i];if(a===void 0)return!1;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],t))return a.length===1?delete this.inner[i]:a.splice(l,1),this.innerSize--,!0;return!1}forEach(t){ks(this.inner,((i,a)=>{for(const[l,c]of a)t(l,c)}))}isEmpty(){return X1(this.inner)}size(){return this.innerSize}}const xR=new Ee(pt.comparator);function Mr(){return xR}const dE=new Ee(pt.comparator);function Ql(...r){let t=dE;for(const i of r)t=t.insert(i.key,i);return t}function mE(r){let t=dE;return r.forEach(((i,a)=>t=t.insert(i,a.overlayedDocument))),t}function Sa(){return Wl()}function gE(){return Wl()}function Wl(){return new Oa((r=>r.toString()),((r,t)=>r.isEqual(t)))}const DR=new Ee(pt.comparator),MR=new Xe(pt.comparator);function Bt(...r){let t=MR;for(const i of r)t=t.add(i);return t}const OR=new Xe(jt);function VR(){return OR}function ag(r,t){if(r.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:mh(t)?"-0":t}}function pE(r){return{integerValue:""+r}}function kR(r,t){return lR(t)?pE(t):ag(r,t)}class Lh{constructor(){this._=void 0}}function UR(r,t,i){return r instanceof ou?(function(l,c){const d={fields:{[Z1]:{stringValue:J1},[tE]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return c&&eg(c)&&(c=Vh(c)),c&&(d.fields[W1]=c),{mapValue:d}})(i,t):r instanceof lu?_E(r,t):r instanceof uu?vE(r,t):(function(l,c){const d=yE(l,c),p=nv(d)+nv(l.Ae);return bm(d)&&bm(l.Ae)?pE(p):ag(l.serializer,p)})(r,t)}function LR(r,t,i){return r instanceof lu?_E(r,t):r instanceof uu?vE(r,t):i}function yE(r,t){return r instanceof vh?(function(a){return bm(a)||(function(c){return!!c&&"doubleValue"in c})(a)})(t)?t:{integerValue:0}:null}class ou extends Lh{}class lu extends Lh{constructor(t){super(),this.elements=t}}function _E(r,t){const i=EE(t);for(const a of r.elements)i.some((l=>tr(l,a)))||i.push(a);return{arrayValue:{values:i}}}class uu extends Lh{constructor(t){super(),this.elements=t}}function vE(r,t){let i=EE(t);for(const a of r.elements)i=i.filter((l=>!tr(l,a)));return{arrayValue:{values:i}}}class vh extends Lh{constructor(t,i){super(),this.serializer=t,this.Ae=i}}function nv(r){return Oe(r.integerValue||r.doubleValue)}function EE(r){return ng(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}class PR{constructor(t,i){this.field=t,this.transform=i}}function zR(r,t){return r.field.isEqual(t.field)&&(function(a,l){return a instanceof lu&&l instanceof lu||a instanceof uu&&l instanceof uu?zo(a.elements,l.elements,tr):a instanceof vh&&l instanceof vh?tr(a.Ae,l.Ae):a instanceof ou&&l instanceof ou})(r.transform,t.transform)}class jR{constructor(t,i){this.version=t,this.transformResults=i}}class gi{constructor(t,i){this.updateTime=t,this.exists=i}static none(){return new gi}static exists(t){return new gi(void 0,t)}static updateTime(t){return new gi(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function nh(r,t){return r.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(r.updateTime):r.exists===void 0||r.exists===t.isFoundDocument()}class Ph{}function TE(r,t){if(!r.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return r.isNoDocument()?new og(r.key,gi.none()):new Eu(r.key,r.data,gi.none());{const i=r.data,a=Un.empty();let l=new Xe(ln.comparator);for(let c of t.fields)if(!l.has(c)){let d=i.field(c);d===null&&c.length>1&&(c=c.popLast(),d=i.field(c)),d===null?a.delete(c):a.set(c,d),l=l.add(c)}return new Us(r.key,a,new Xn(l.toArray()),gi.none())}}function BR(r,t,i){r instanceof Eu?(function(l,c,d){const p=l.value.clone(),y=rv(l.fieldTransforms,c,d.transformResults);p.setAll(y),c.convertToFoundDocument(d.version,p).setHasCommittedMutations()})(r,t,i):r instanceof Us?(function(l,c,d){if(!nh(l.precondition,c))return void c.convertToUnknownDocument(d.version);const p=rv(l.fieldTransforms,c,d.transformResults),y=c.data;y.setAll(bE(l)),y.setAll(p),c.convertToFoundDocument(d.version,y).setHasCommittedMutations()})(r,t,i):(function(l,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()})(0,t,i)}function tu(r,t,i,a){return r instanceof Eu?(function(c,d,p,y){if(!nh(c.precondition,d))return p;const _=c.value.clone(),b=sv(c.fieldTransforms,y,d);return _.setAll(b),d.convertToFoundDocument(d.version,_).setHasLocalMutations(),null})(r,t,i,a):r instanceof Us?(function(c,d,p,y){if(!nh(c.precondition,d))return p;const _=sv(c.fieldTransforms,y,d),b=d.data;return b.setAll(bE(c)),b.setAll(_),d.convertToFoundDocument(d.version,b).setHasLocalMutations(),p===null?null:p.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((S=>S.field)))})(r,t,i,a):(function(c,d,p){return nh(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):p})(r,t,i)}function qR(r,t){let i=null;for(const a of r.fieldTransforms){const l=t.data.field(a.field),c=yE(a.transform,l||null);c!=null&&(i===null&&(i=Un.empty()),i.set(a.field,c))}return i||null}function iv(r,t){return r.type===t.type&&!!r.key.isEqual(t.key)&&!!r.precondition.isEqual(t.precondition)&&!!(function(a,l){return a===void 0&&l===void 0||!(!a||!l)&&zo(a,l,((c,d)=>zR(c,d)))})(r.fieldTransforms,t.fieldTransforms)&&(r.type===0?r.value.isEqual(t.value):r.type!==1||r.data.isEqual(t.data)&&r.fieldMask.isEqual(t.fieldMask))}class Eu extends Ph{constructor(t,i,a,l=[]){super(),this.key=t,this.value=i,this.precondition=a,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class Us extends Ph{constructor(t,i,a,l,c=[]){super(),this.key=t,this.data=i,this.fieldMask=a,this.precondition=l,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function bE(r){const t=new Map;return r.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const a=r.data.field(i);t.set(i,a)}})),t}function rv(r,t,i){const a=new Map;te(r.length===i.length,32656,{Re:i.length,Ve:r.length});for(let l=0;l<i.length;l++){const c=r[l],d=c.transform,p=t.data.field(c.field);a.set(c.field,LR(d,p,i[l]))}return a}function sv(r,t,i){const a=new Map;for(const l of r){const c=l.transform,d=i.data.field(l.field);a.set(l.field,UR(c,d,t))}return a}class og extends Ph{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class HR extends Ph{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class FR{constructor(t,i,a,l){this.batchId=t,this.localWriteTime=i,this.baseMutations=a,this.mutations=l}applyToRemoteDocument(t,i){const a=i.mutationResults;for(let l=0;l<this.mutations.length;l++){const c=this.mutations[l];c.key.isEqual(t.key)&&BR(c,t,a[l])}}applyToLocalView(t,i){for(const a of this.baseMutations)a.key.isEqual(t.key)&&(i=tu(a,t,i,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(t.key)&&(i=tu(a,t,i,this.localWriteTime));return i}applyToLocalDocumentSet(t,i){const a=gE();return this.mutations.forEach((l=>{const c=t.get(l.key),d=c.overlayedDocument;let p=this.applyToLocalView(d,c.mutatedFields);p=i.has(l.key)?null:p;const y=TE(d,p);y!==null&&a.set(l.key,y),d.isValidDocument()||d.convertToNoDocument(At.min())})),a}keys(){return this.mutations.reduce(((t,i)=>t.add(i.key)),Bt())}isEqual(t){return this.batchId===t.batchId&&zo(this.mutations,t.mutations,((i,a)=>iv(i,a)))&&zo(this.baseMutations,t.baseMutations,((i,a)=>iv(i,a)))}}class lg{constructor(t,i,a,l){this.batch=t,this.commitVersion=i,this.mutationResults=a,this.docVersions=l}static from(t,i,a){te(t.mutations.length===a.length,58842,{me:t.mutations.length,fe:a.length});let l=(function(){return DR})();const c=t.mutations;for(let d=0;d<c.length;d++)l=l.insert(c[d].key,a[d].version);return new lg(t,i,a,l)}}class GR{constructor(t,i){this.largestBatchId=t,this.mutation=i}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class QR{constructor(t,i){this.count=t,this.unchangedNames=i}}var Fe,Qt;function YR(r){switch(r){case Z.OK:return Et(64938);case Z.CANCELLED:case Z.UNKNOWN:case Z.DEADLINE_EXCEEDED:case Z.RESOURCE_EXHAUSTED:case Z.INTERNAL:case Z.UNAVAILABLE:case Z.UNAUTHENTICATED:return!1;case Z.INVALID_ARGUMENT:case Z.NOT_FOUND:case Z.ALREADY_EXISTS:case Z.PERMISSION_DENIED:case Z.FAILED_PRECONDITION:case Z.ABORTED:case Z.OUT_OF_RANGE:case Z.UNIMPLEMENTED:case Z.DATA_LOSS:return!0;default:return Et(15467,{code:r})}}function SE(r){if(r===void 0)return Dr("GRPC error has no .code"),Z.UNKNOWN;switch(r){case Fe.OK:return Z.OK;case Fe.CANCELLED:return Z.CANCELLED;case Fe.UNKNOWN:return Z.UNKNOWN;case Fe.DEADLINE_EXCEEDED:return Z.DEADLINE_EXCEEDED;case Fe.RESOURCE_EXHAUSTED:return Z.RESOURCE_EXHAUSTED;case Fe.INTERNAL:return Z.INTERNAL;case Fe.UNAVAILABLE:return Z.UNAVAILABLE;case Fe.UNAUTHENTICATED:return Z.UNAUTHENTICATED;case Fe.INVALID_ARGUMENT:return Z.INVALID_ARGUMENT;case Fe.NOT_FOUND:return Z.NOT_FOUND;case Fe.ALREADY_EXISTS:return Z.ALREADY_EXISTS;case Fe.PERMISSION_DENIED:return Z.PERMISSION_DENIED;case Fe.FAILED_PRECONDITION:return Z.FAILED_PRECONDITION;case Fe.ABORTED:return Z.ABORTED;case Fe.OUT_OF_RANGE:return Z.OUT_OF_RANGE;case Fe.UNIMPLEMENTED:return Z.UNIMPLEMENTED;case Fe.DATA_LOSS:return Z.DATA_LOSS;default:return Et(39323,{code:r})}}(Qt=Fe||(Fe={}))[Qt.OK=0]="OK",Qt[Qt.CANCELLED=1]="CANCELLED",Qt[Qt.UNKNOWN=2]="UNKNOWN",Qt[Qt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Qt[Qt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Qt[Qt.NOT_FOUND=5]="NOT_FOUND",Qt[Qt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Qt[Qt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Qt[Qt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Qt[Qt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Qt[Qt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Qt[Qt.ABORTED=10]="ABORTED",Qt[Qt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Qt[Qt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Qt[Qt.INTERNAL=13]="INTERNAL",Qt[Qt.UNAVAILABLE=14]="UNAVAILABLE",Qt[Qt.DATA_LOSS=15]="DATA_LOSS";function KR(){return new TextEncoder}const XR=new Is([4294967295,4294967295],0);function av(r){const t=KR().encode(r),i=new P1;return i.update(t),new Uint8Array(i.digest())}function ov(r){const t=new DataView(r.buffer),i=t.getUint32(0,!0),a=t.getUint32(4,!0),l=t.getUint32(8,!0),c=t.getUint32(12,!0);return[new Is([i,a],0),new Is([l,c],0)]}class ug{constructor(t,i,a){if(this.bitmap=t,this.padding=i,this.hashCount=a,i<0||i>=8)throw new Yl(`Invalid padding: ${i}`);if(a<0)throw new Yl(`Invalid hash count: ${a}`);if(t.length>0&&this.hashCount===0)throw new Yl(`Invalid hash count: ${a}`);if(t.length===0&&i!==0)throw new Yl(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*t.length-i,this.pe=Is.fromNumber(this.ge)}ye(t,i,a){let l=t.add(i.multiply(Is.fromNumber(a)));return l.compare(XR)===1&&(l=new Is([l.getBits(0),l.getBits(1)],0)),l.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const i=av(t),[a,l]=ov(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,l,c);if(!this.we(d))return!1}return!0}static create(t,i,a){const l=t%8==0?0:8-t%8,c=new Uint8Array(Math.ceil(t/8)),d=new ug(c,l,i);return a.forEach((p=>d.insert(p))),d}insert(t){if(this.ge===0)return;const i=av(t),[a,l]=ov(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,l,c);this.Se(d)}}Se(t){const i=Math.floor(t/8),a=t%8;this.bitmap[i]|=1<<a}}class Yl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class zh{constructor(t,i,a,l,c){this.snapshotVersion=t,this.targetChanges=i,this.targetMismatches=a,this.documentUpdates=l,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(t,i,a){const l=new Map;return l.set(t,Tu.createSynthesizedTargetChangeForCurrentChange(t,i,a)),new zh(At.min(),l,new Ee(jt),Mr(),Bt())}}class Tu{constructor(t,i,a,l,c){this.resumeToken=t,this.current=i,this.addedDocuments=a,this.modifiedDocuments=l,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(t,i,a){return new Tu(a,i,Bt(),Bt(),Bt())}}class ih{constructor(t,i,a,l){this.be=t,this.removedTargetIds=i,this.key=a,this.De=l}}class AE{constructor(t,i){this.targetId=t,this.Ce=i}}class wE{constructor(t,i,a=cn.EMPTY_BYTE_STRING,l=null){this.state=t,this.targetIds=i,this.resumeToken=a,this.cause=l}}class lv{constructor(){this.ve=0,this.Fe=uv(),this.Me=cn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=Bt(),i=Bt(),a=Bt();return this.Fe.forEach(((l,c)=>{switch(c){case 0:t=t.add(l);break;case 2:i=i.add(l);break;case 1:a=a.add(l);break;default:Et(38017,{changeType:c})}})),new Tu(this.Me,this.xe,t,i,a)}qe(){this.Oe=!1,this.Fe=uv()}Qe(t,i){this.Oe=!0,this.Fe=this.Fe.insert(t,i)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,te(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class $R{constructor(t){this.Ge=t,this.ze=new Map,this.je=Mr(),this.Je=Hc(),this.He=Hc(),this.Ye=new Ee(jt)}Ze(t){for(const i of t.be)t.De&&t.De.isFoundDocument()?this.Xe(i,t.De):this.et(i,t.key,t.De);for(const i of t.removedTargetIds)this.et(i,t.key,t.De)}tt(t){this.forEachTarget(t,(i=>{const a=this.nt(i);switch(t.state){case 0:this.rt(i)&&a.Le(t.resumeToken);break;case 1:a.Ke(),a.Ne||a.qe(),a.Le(t.resumeToken);break;case 2:a.Ke(),a.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(a.We(),a.Le(t.resumeToken));break;case 4:this.rt(i)&&(this.it(i),a.Le(t.resumeToken));break;default:Et(56790,{state:t.state})}}))}forEachTarget(t,i){t.targetIds.length>0?t.targetIds.forEach(i):this.ze.forEach(((a,l)=>{this.rt(l)&&i(l)}))}st(t){const i=t.targetId,a=t.Ce.count,l=this.ot(i);if(l){const c=l.target;if(Am(c))if(a===0){const d=new pt(c.path);this.et(i,d,yn.newNoDocument(d,At.min()))}else te(a===1,20013,{expectedCount:a});else{const d=this._t(i);if(d!==a){const p=this.ut(t),y=p?this.ct(p,t,d):1;if(y!==0){this.it(i);const _=y===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(i,_)}}}}}ut(t){const i=t.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:a="",padding:l=0},hashCount:c=0}=i;let d,p;try{d=Ds(a).toUint8Array()}catch(y){if(y instanceof $1)return Po("Decoding the base64 bloom filter in existence filter failed ("+y.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw y}try{p=new ug(d,l,c)}catch(y){return Po(y instanceof Yl?"BloomFilter error: ":"Applying bloom filter failed: ",y),null}return p.ge===0?null:p}ct(t,i,a){return i.Ce.count===a-this.Pt(t,i.targetId)?0:2}Pt(t,i){const a=this.Ge.getRemoteKeysForTarget(i);let l=0;return a.forEach((c=>{const d=this.Ge.ht(),p=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;t.mightContain(p)||(this.et(i,c,null),l++)})),l}Tt(t){const i=new Map;this.ze.forEach(((c,d)=>{const p=this.ot(d);if(p){if(c.current&&Am(p.target)){const y=new pt(p.target.path);this.It(y).has(d)||this.Et(d,y)||this.et(d,y,yn.newNoDocument(y,t))}c.Be&&(i.set(d,c.ke()),c.qe())}}));let a=Bt();this.He.forEach(((c,d)=>{let p=!0;d.forEachWhile((y=>{const _=this.ot(y);return!_||_.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)})),p&&(a=a.add(c))})),this.je.forEach(((c,d)=>d.setReadTime(t)));const l=new zh(t,i,this.Ye,this.je,a);return this.je=Mr(),this.Je=Hc(),this.He=Hc(),this.Ye=new Ee(jt),l}Xe(t,i){if(!this.rt(t))return;const a=this.Et(t,i.key)?2:0;this.nt(t).Qe(i.key,a),this.je=this.je.insert(i.key,i),this.Je=this.Je.insert(i.key,this.It(i.key).add(t)),this.He=this.He.insert(i.key,this.dt(i.key).add(t))}et(t,i,a){if(!this.rt(t))return;const l=this.nt(t);this.Et(t,i)?l.Qe(i,1):l.$e(i),this.He=this.He.insert(i,this.dt(i).delete(t)),this.He=this.He.insert(i,this.dt(i).add(t)),a&&(this.je=this.je.insert(i,a))}removeTarget(t){this.ze.delete(t)}_t(t){const i=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+i.addedDocuments.size-i.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let i=this.ze.get(t);return i||(i=new lv,this.ze.set(t,i)),i}dt(t){let i=this.He.get(t);return i||(i=new Xe(jt),this.He=this.He.insert(t,i)),i}It(t){let i=this.Je.get(t);return i||(i=new Xe(jt),this.Je=this.Je.insert(t,i)),i}rt(t){const i=this.ot(t)!==null;return i||lt("WatchChangeAggregator","Detected inactive target",t),i}ot(t){const i=this.ze.get(t);return i&&i.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new lv),this.Ge.getRemoteKeysForTarget(t).forEach((i=>{this.et(t,i,null)}))}Et(t,i){return this.Ge.getRemoteKeysForTarget(t).has(i)}}function Hc(){return new Ee(pt.comparator)}function uv(){return new Ee(pt.comparator)}const JR={asc:"ASCENDING",desc:"DESCENDING"},ZR={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},WR={and:"AND",or:"OR"};class tI{constructor(t,i){this.databaseId=t,this.useProto3Json=i}}function Im(r,t){return r.useProto3Json||Oh(t)?t:{value:t}}function Eh(r,t){return r.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function RE(r,t){return r.useProto3Json?t.toBase64():t.toUint8Array()}function eI(r,t){return Eh(r,t.toTimestamp())}function Ji(r){return te(!!r,49232),At.fromTimestamp((function(i){const a=xs(i);return new ye(a.seconds,a.nanos)})(r))}function cg(r,t){return Cm(r,t).canonicalString()}function Cm(r,t){const i=(function(l){return new fe(["projects",l.projectId,"databases",l.database])})(r).child("documents");return t===void 0?i:i.child(t)}function IE(r){const t=fe.fromString(r);return te(ME(t),10190,{key:t.toString()}),t}function Nm(r,t){return cg(r.databaseId,t.path)}function im(r,t){const i=IE(t);if(i.get(1)!==r.databaseId.projectId)throw new ut(Z.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+r.databaseId.projectId);if(i.get(3)!==r.databaseId.database)throw new ut(Z.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+r.databaseId.database);return new pt(NE(i))}function CE(r,t){return cg(r.databaseId,t)}function nI(r){const t=IE(r);return t.length===4?fe.emptyPath():NE(t)}function xm(r){return new fe(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function NE(r){return te(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function cv(r,t,i){return{name:Nm(r,t),fields:i.value.mapValue.fields}}function iI(r,t){let i;if("targetChange"in t){t.targetChange;const a=(function(_){return _==="NO_CHANGE"?0:_==="ADD"?1:_==="REMOVE"?2:_==="CURRENT"?3:_==="RESET"?4:Et(39313,{state:_})})(t.targetChange.targetChangeType||"NO_CHANGE"),l=t.targetChange.targetIds||[],c=(function(_,b){return _.useProto3Json?(te(b===void 0||typeof b=="string",58123),cn.fromBase64String(b||"")):(te(b===void 0||b instanceof Buffer||b instanceof Uint8Array,16193),cn.fromUint8Array(b||new Uint8Array))})(r,t.targetChange.resumeToken),d=t.targetChange.cause,p=d&&(function(_){const b=_.code===void 0?Z.UNKNOWN:SE(_.code);return new ut(b,_.message||"")})(d);i=new wE(a,l,c,p||null)}else if("documentChange"in t){t.documentChange;const a=t.documentChange;a.document,a.document.name,a.document.updateTime;const l=im(r,a.document.name),c=Ji(a.document.updateTime),d=a.document.createTime?Ji(a.document.createTime):At.min(),p=new Un({mapValue:{fields:a.document.fields}}),y=yn.newFoundDocument(l,c,d,p),_=a.targetIds||[],b=a.removedTargetIds||[];i=new ih(_,b,y.key,y)}else if("documentDelete"in t){t.documentDelete;const a=t.documentDelete;a.document;const l=im(r,a.document),c=a.readTime?Ji(a.readTime):At.min(),d=yn.newNoDocument(l,c),p=a.removedTargetIds||[];i=new ih([],p,d.key,d)}else if("documentRemove"in t){t.documentRemove;const a=t.documentRemove;a.document;const l=im(r,a.document),c=a.removedTargetIds||[];i=new ih([],c,l,null)}else{if(!("filter"in t))return Et(11601,{Rt:t});{t.filter;const a=t.filter;a.targetId;const{count:l=0,unchangedNames:c}=a,d=new QR(l,c),p=a.targetId;i=new AE(p,d)}}return i}function rI(r,t){let i;if(t instanceof Eu)i={update:cv(r,t.key,t.value)};else if(t instanceof og)i={delete:Nm(r,t.key)};else if(t instanceof Us)i={update:cv(r,t.key,t.data),updateMask:dI(t.fieldMask)};else{if(!(t instanceof HR))return Et(16599,{Vt:t.type});i={verify:Nm(r,t.key)}}return t.fieldTransforms.length>0&&(i.updateTransforms=t.fieldTransforms.map((a=>(function(c,d){const p=d.transform;if(p instanceof ou)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof lu)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof uu)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof vh)return{fieldPath:d.field.canonicalString(),increment:p.Ae};throw Et(20930,{transform:d.transform})})(0,a)))),t.precondition.isNone||(i.currentDocument=(function(l,c){return c.updateTime!==void 0?{updateTime:eI(l,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:Et(27497)})(r,t.precondition)),i}function sI(r,t){return r&&r.length>0?(te(t!==void 0,14353),r.map((i=>(function(l,c){let d=l.updateTime?Ji(l.updateTime):Ji(c);return d.isEqual(At.min())&&(d=Ji(c)),new jR(d,l.transformResults||[])})(i,t)))):[]}function aI(r,t){return{documents:[CE(r,t.path)]}}function oI(r,t){const i={structuredQuery:{}},a=t.path;let l;t.collectionGroup!==null?(l=a,i.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(l=a.popLast(),i.structuredQuery.from=[{collectionId:a.lastSegment()}]),i.parent=CE(r,l);const c=(function(_){if(_.length!==0)return DE(Ci.create(_,"and"))})(t.filters);c&&(i.structuredQuery.where=c);const d=(function(_){if(_.length!==0)return _.map((b=>(function(O){return{field:Co(O.field),direction:cI(O.dir)}})(b)))})(t.orderBy);d&&(i.structuredQuery.orderBy=d);const p=Im(r,t.limit);return p!==null&&(i.structuredQuery.limit=p),t.startAt&&(i.structuredQuery.startAt=(function(_){return{before:_.inclusive,values:_.position}})(t.startAt)),t.endAt&&(i.structuredQuery.endAt=(function(_){return{before:!_.inclusive,values:_.position}})(t.endAt)),{ft:i,parent:l}}function lI(r){let t=nI(r.parent);const i=r.structuredQuery,a=i.from?i.from.length:0;let l=null;if(a>0){te(a===1,65062);const b=i.from[0];b.allDescendants?l=b.collectionId:t=t.child(b.collectionId)}let c=[];i.where&&(c=(function(S){const O=xE(S);return O instanceof Ci&&aE(O)?O.getFilters():[O]})(i.where));let d=[];i.orderBy&&(d=(function(S){return S.map((O=>(function(tt){return new _h(No(tt.field),(function(et){switch(et){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(tt.direction))})(O)))})(i.orderBy));let p=null;i.limit&&(p=(function(S){let O;return O=typeof S=="object"?S.value:S,Oh(O)?null:O})(i.limit));let y=null;i.startAt&&(y=(function(S){const O=!!S.before,Q=S.values||[];return new yh(Q,O)})(i.startAt));let _=null;return i.endAt&&(_=(function(S){const O=!S.before,Q=S.values||[];return new yh(Q,O)})(i.endAt)),RR(t,l,d,c,p,"F",y,_)}function uI(r,t){const i=(function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Et(28987,{purpose:l})}})(t.purpose);return i==null?null:{"goog-listen-tags":i}}function xE(r){return r.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const a=No(i.unaryFilter.field);return Ge.create(a,"==",{doubleValue:NaN});case"IS_NULL":const l=No(i.unaryFilter.field);return Ge.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=No(i.unaryFilter.field);return Ge.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=No(i.unaryFilter.field);return Ge.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Et(61313);default:return Et(60726)}})(r):r.fieldFilter!==void 0?(function(i){return Ge.create(No(i.fieldFilter.field),(function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Et(58110);default:return Et(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(i){return Ci.create(i.compositeFilter.filters.map((a=>xE(a))),(function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return Et(1026)}})(i.compositeFilter.op))})(r):Et(30097,{filter:r})}function cI(r){return JR[r]}function hI(r){return ZR[r]}function fI(r){return WR[r]}function Co(r){return{fieldPath:r.canonicalString()}}function No(r){return ln.fromServerFormat(r.fieldPath)}function DE(r){return r instanceof Ge?(function(i){if(i.op==="=="){if(J0(i.value))return{unaryFilter:{field:Co(i.field),op:"IS_NAN"}};if($0(i.value))return{unaryFilter:{field:Co(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(J0(i.value))return{unaryFilter:{field:Co(i.field),op:"IS_NOT_NAN"}};if($0(i.value))return{unaryFilter:{field:Co(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Co(i.field),op:hI(i.op),value:i.value}}})(r):r instanceof Ci?(function(i){const a=i.getFilters().map((l=>DE(l)));return a.length===1?a[0]:{compositeFilter:{op:fI(i.op),filters:a}}})(r):Et(54877,{filter:r})}function dI(r){const t=[];return r.fields.forEach((i=>t.push(i.canonicalString()))),{fieldPaths:t}}function ME(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}class Ss{constructor(t,i,a,l,c=At.min(),d=At.min(),p=cn.EMPTY_BYTE_STRING,y=null){this.target=t,this.targetId=i,this.purpose=a,this.sequenceNumber=l,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=p,this.expectedCount=y}withSequenceNumber(t){return new Ss(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,i){return new Ss(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Ss(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Ss(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class mI{constructor(t){this.yt=t}}function gI(r){const t=lI({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?Rm(t,t.limit,"L"):t}class pI{constructor(){this.Cn=new yI}addToCollectionParentIndex(t,i){return this.Cn.add(i),W.resolve()}getCollectionParents(t,i){return W.resolve(this.Cn.getEntries(i))}addFieldIndex(t,i){return W.resolve()}deleteFieldIndex(t,i){return W.resolve()}deleteAllFieldIndexes(t){return W.resolve()}createTargetIndexes(t,i){return W.resolve()}getDocumentsMatchingTarget(t,i){return W.resolve(null)}getIndexType(t,i){return W.resolve(0)}getFieldIndexes(t,i){return W.resolve([])}getNextCollectionGroupToUpdate(t){return W.resolve(null)}getMinOffset(t,i){return W.resolve(Ns.min())}getMinOffsetFromCollectionGroup(t,i){return W.resolve(Ns.min())}updateCollectionGroup(t,i,a){return W.resolve()}updateIndexEntries(t,i){return W.resolve()}}class yI{constructor(){this.index={}}add(t){const i=t.lastSegment(),a=t.popLast(),l=this.index[i]||new Xe(fe.comparator),c=!l.has(a);return this.index[i]=l.add(a),c}has(t){const i=t.lastSegment(),a=t.popLast(),l=this.index[i];return l&&l.has(a)}getEntries(t){return(this.index[t]||new Xe(fe.comparator)).toArray()}}const hv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},OE=41943040;class kn{static withCacheSize(t){return new kn(t,kn.DEFAULT_COLLECTION_PERCENTILE,kn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,i,a){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=a}}kn.DEFAULT_COLLECTION_PERCENTILE=10,kn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,kn.DEFAULT=new kn(OE,kn.DEFAULT_COLLECTION_PERCENTILE,kn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),kn.DISABLED=new kn(-1,0,0);class qo{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new qo(0)}static cr(){return new qo(-1)}}const fv="LruGarbageCollector",_I=1048576;function dv([r,t],[i,a]){const l=jt(r,i);return l===0?jt(t,a):l}class vI{constructor(t){this.Ir=t,this.buffer=new Xe(dv),this.Er=0}dr(){return++this.Er}Ar(t){const i=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(i);else{const a=this.buffer.last();dv(i,a)<0&&(this.buffer=this.buffer.delete(a).add(i))}}get maxValue(){return this.buffer.last()[0]}}class EI{constructor(t,i,a){this.garbageCollector=t,this.asyncQueue=i,this.localStore=a,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){lt(fv,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){Xo(i)?lt(fv,"Ignoring IndexedDB error during garbage collection: ",i):await Ko(i)}await this.Vr(3e5)}))}}class TI{constructor(t,i){this.mr=t,this.params=i}calculateTargetCount(t,i){return this.mr.gr(t).next((a=>Math.floor(i/100*a)))}nthSequenceNumber(t,i){if(i===0)return W.resolve(Mh.ce);const a=new vI(i);return this.mr.forEachTarget(t,(l=>a.Ar(l.sequenceNumber))).next((()=>this.mr.pr(t,(l=>a.Ar(l))))).next((()=>a.maxValue))}removeTargets(t,i,a){return this.mr.removeTargets(t,i,a)}removeOrphanedDocuments(t,i){return this.mr.removeOrphanedDocuments(t,i)}collect(t,i){return this.params.cacheSizeCollectionThreshold===-1?(lt("LruGarbageCollector","Garbage collection skipped; disabled"),W.resolve(hv)):this.getCacheSize(t).next((a=>a<this.params.cacheSizeCollectionThreshold?(lt("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),hv):this.yr(t,i)))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,i){let a,l,c,d,p,y,_;const b=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((S=>(S>this.params.maximumSequenceNumbersToCollect?(lt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${S}`),l=this.params.maximumSequenceNumbersToCollect):l=S,d=Date.now(),this.nthSequenceNumber(t,l)))).next((S=>(a=S,p=Date.now(),this.removeTargets(t,a,i)))).next((S=>(c=S,y=Date.now(),this.removeOrphanedDocuments(t,a)))).next((S=>(_=Date.now(),Ro()<=zt.DEBUG&&lt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-b}ms
	Determined least recently used ${l} in `+(p-d)+`ms
	Removed ${c} targets in `+(y-p)+`ms
	Removed ${S} documents in `+(_-y)+`ms
Total Duration: ${_-b}ms`),W.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:c,documentsRemoved:S}))))}}function bI(r,t){return new TI(r,t)}class SI{constructor(){this.changes=new Oa((t=>t.toString()),((t,i)=>t.isEqual(i))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,i){this.assertNotApplied(),this.changes.set(t,yn.newInvalidDocument(t).setReadTime(i))}getEntry(t,i){this.assertNotApplied();const a=this.changes.get(i);return a!==void 0?W.resolve(a):this.getFromCache(t,i)}getEntries(t,i){return this.getAllFromCache(t,i)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class AI{constructor(t,i){this.overlayedDocument=t,this.mutatedFields=i}}class wI{constructor(t,i,a,l){this.remoteDocumentCache=t,this.mutationQueue=i,this.documentOverlayCache=a,this.indexManager=l}getDocument(t,i){let a=null;return this.documentOverlayCache.getOverlay(t,i).next((l=>(a=l,this.remoteDocumentCache.getEntry(t,i)))).next((l=>(a!==null&&tu(a.mutation,l,Xn.empty(),ye.now()),l)))}getDocuments(t,i){return this.remoteDocumentCache.getEntries(t,i).next((a=>this.getLocalViewOfDocuments(t,a,Bt()).next((()=>a))))}getLocalViewOfDocuments(t,i,a=Bt()){const l=Sa();return this.populateOverlays(t,l,i).next((()=>this.computeViews(t,i,l,a).next((c=>{let d=Ql();return c.forEach(((p,y)=>{d=d.insert(p,y.overlayedDocument)})),d}))))}getOverlayedDocuments(t,i){const a=Sa();return this.populateOverlays(t,a,i).next((()=>this.computeViews(t,i,a,Bt())))}populateOverlays(t,i,a){const l=[];return a.forEach((c=>{i.has(c)||l.push(c)})),this.documentOverlayCache.getOverlays(t,l).next((c=>{c.forEach(((d,p)=>{i.set(d,p)}))}))}computeViews(t,i,a,l){let c=Mr();const d=Wl(),p=(function(){return Wl()})();return i.forEach(((y,_)=>{const b=a.get(_.key);l.has(_.key)&&(b===void 0||b.mutation instanceof Us)?c=c.insert(_.key,_):b!==void 0?(d.set(_.key,b.mutation.getFieldMask()),tu(b.mutation,_,b.mutation.getFieldMask(),ye.now())):d.set(_.key,Xn.empty())})),this.recalculateAndSaveOverlays(t,c).next((y=>(y.forEach(((_,b)=>d.set(_,b))),i.forEach(((_,b)=>p.set(_,new AI(b,d.get(_)??null)))),p)))}recalculateAndSaveOverlays(t,i){const a=Wl();let l=new Ee(((d,p)=>d-p)),c=Bt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,i).next((d=>{for(const p of d)p.keys().forEach((y=>{const _=i.get(y);if(_===null)return;let b=a.get(y)||Xn.empty();b=p.applyToLocalView(_,b),a.set(y,b);const S=(l.get(p.batchId)||Bt()).add(y);l=l.insert(p.batchId,S)}))})).next((()=>{const d=[],p=l.getReverseIterator();for(;p.hasNext();){const y=p.getNext(),_=y.key,b=y.value,S=gE();b.forEach((O=>{if(!c.has(O)){const Q=TE(i.get(O),a.get(O));Q!==null&&S.set(O,Q),c=c.add(O)}})),d.push(this.documentOverlayCache.saveOverlays(t,_,S))}return W.waitFor(d)})).next((()=>a))}recalculateAndSaveOverlaysForDocumentKeys(t,i){return this.remoteDocumentCache.getEntries(t,i).next((a=>this.recalculateAndSaveOverlays(t,a)))}getDocumentsMatchingQuery(t,i,a,l){return(function(d){return pt.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0})(i)?this.getDocumentsMatchingDocumentQuery(t,i.path):cE(i)?this.getDocumentsMatchingCollectionGroupQuery(t,i,a,l):this.getDocumentsMatchingCollectionQuery(t,i,a,l)}getNextDocuments(t,i,a,l){return this.remoteDocumentCache.getAllFromCollectionGroup(t,i,a,l).next((c=>{const d=l-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,i,a.largestBatchId,l-c.size):W.resolve(Sa());let p=iu,y=c;return d.next((_=>W.forEach(_,((b,S)=>(p<S.largestBatchId&&(p=S.largestBatchId),c.get(b)?W.resolve():this.remoteDocumentCache.getEntry(t,b).next((O=>{y=y.insert(b,O)}))))).next((()=>this.populateOverlays(t,_,c))).next((()=>this.computeViews(t,y,_,Bt()))).next((b=>({batchId:p,changes:mE(b)})))))}))}getDocumentsMatchingDocumentQuery(t,i){return this.getDocument(t,new pt(i)).next((a=>{let l=Ql();return a.isFoundDocument()&&(l=l.insert(a.key,a)),l}))}getDocumentsMatchingCollectionGroupQuery(t,i,a,l){const c=i.collectionGroup;let d=Ql();return this.indexManager.getCollectionParents(t,c).next((p=>W.forEach(p,(y=>{const _=(function(S,O){return new vu(O,null,S.explicitOrderBy.slice(),S.filters.slice(),S.limit,S.limitType,S.startAt,S.endAt)})(i,y.child(c));return this.getDocumentsMatchingCollectionQuery(t,_,a,l).next((b=>{b.forEach(((S,O)=>{d=d.insert(S,O)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(t,i,a,l){let c;return this.documentOverlayCache.getOverlaysForCollection(t,i.path,a.largestBatchId).next((d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(t,i,a,c,l)))).next((d=>{c.forEach(((y,_)=>{const b=_.getKey();d.get(b)===null&&(d=d.insert(b,yn.newInvalidDocument(b)))}));let p=Ql();return d.forEach(((y,_)=>{const b=c.get(y);b!==void 0&&tu(b.mutation,_,Xn.empty(),ye.now()),Uh(i,_)&&(p=p.insert(y,_))})),p}))}}class RI{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,i){return W.resolve(this.Lr.get(i))}saveBundleMetadata(t,i){return this.Lr.set(i.id,(function(l){return{id:l.id,version:l.version,createTime:Ji(l.createTime)}})(i)),W.resolve()}getNamedQuery(t,i){return W.resolve(this.kr.get(i))}saveNamedQuery(t,i){return this.kr.set(i.name,(function(l){return{name:l.name,query:gI(l.bundledQuery),readTime:Ji(l.readTime)}})(i)),W.resolve()}}class II{constructor(){this.overlays=new Ee(pt.comparator),this.qr=new Map}getOverlay(t,i){return W.resolve(this.overlays.get(i))}getOverlays(t,i){const a=Sa();return W.forEach(i,(l=>this.getOverlay(t,l).next((c=>{c!==null&&a.set(l,c)})))).next((()=>a))}saveOverlays(t,i,a){return a.forEach(((l,c)=>{this.St(t,i,c)})),W.resolve()}removeOverlaysForBatchId(t,i,a){const l=this.qr.get(a);return l!==void 0&&(l.forEach((c=>this.overlays=this.overlays.remove(c))),this.qr.delete(a)),W.resolve()}getOverlaysForCollection(t,i,a){const l=Sa(),c=i.length+1,d=new pt(i.child("")),p=this.overlays.getIteratorFrom(d);for(;p.hasNext();){const y=p.getNext().value,_=y.getKey();if(!i.isPrefixOf(_.path))break;_.path.length===c&&y.largestBatchId>a&&l.set(y.getKey(),y)}return W.resolve(l)}getOverlaysForCollectionGroup(t,i,a,l){let c=new Ee(((_,b)=>_-b));const d=this.overlays.getIterator();for(;d.hasNext();){const _=d.getNext().value;if(_.getKey().getCollectionGroup()===i&&_.largestBatchId>a){let b=c.get(_.largestBatchId);b===null&&(b=Sa(),c=c.insert(_.largestBatchId,b)),b.set(_.getKey(),_)}}const p=Sa(),y=c.getIterator();for(;y.hasNext()&&(y.getNext().value.forEach(((_,b)=>p.set(_,b))),!(p.size()>=l)););return W.resolve(p)}St(t,i,a){const l=this.overlays.get(a.key);if(l!==null){const d=this.qr.get(l.largestBatchId).delete(a.key);this.qr.set(l.largestBatchId,d)}this.overlays=this.overlays.insert(a.key,new GR(i,a));let c=this.qr.get(i);c===void 0&&(c=Bt(),this.qr.set(i,c)),this.qr.set(i,c.add(a.key))}}class CI{constructor(){this.sessionToken=cn.EMPTY_BYTE_STRING}getSessionToken(t){return W.resolve(this.sessionToken)}setSessionToken(t,i){return this.sessionToken=i,W.resolve()}}class hg{constructor(){this.Qr=new Xe(Ze.$r),this.Ur=new Xe(Ze.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,i){const a=new Ze(t,i);this.Qr=this.Qr.add(a),this.Ur=this.Ur.add(a)}Wr(t,i){t.forEach((a=>this.addReference(a,i)))}removeReference(t,i){this.Gr(new Ze(t,i))}zr(t,i){t.forEach((a=>this.removeReference(a,i)))}jr(t){const i=new pt(new fe([])),a=new Ze(i,t),l=new Ze(i,t+1),c=[];return this.Ur.forEachInRange([a,l],(d=>{this.Gr(d),c.push(d.key)})),c}Jr(){this.Qr.forEach((t=>this.Gr(t)))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const i=new pt(new fe([])),a=new Ze(i,t),l=new Ze(i,t+1);let c=Bt();return this.Ur.forEachInRange([a,l],(d=>{c=c.add(d.key)})),c}containsKey(t){const i=new Ze(t,0),a=this.Qr.firstAfterOrEqual(i);return a!==null&&t.isEqual(a.key)}}class Ze{constructor(t,i){this.key=t,this.Yr=i}static $r(t,i){return pt.comparator(t.key,i.key)||jt(t.Yr,i.Yr)}static Kr(t,i){return jt(t.Yr,i.Yr)||pt.comparator(t.key,i.key)}}class NI{constructor(t,i){this.indexManager=t,this.referenceDelegate=i,this.mutationQueue=[],this.tr=1,this.Zr=new Xe(Ze.$r)}checkEmpty(t){return W.resolve(this.mutationQueue.length===0)}addMutationBatch(t,i,a,l){const c=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new FR(c,i,a,l);this.mutationQueue.push(d);for(const p of l)this.Zr=this.Zr.add(new Ze(p.key,c)),this.indexManager.addToCollectionParentIndex(t,p.key.path.popLast());return W.resolve(d)}lookupMutationBatch(t,i){return W.resolve(this.Xr(i))}getNextMutationBatchAfterBatchId(t,i){const a=i+1,l=this.ei(a),c=l<0?0:l;return W.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return W.resolve(this.mutationQueue.length===0?tg:this.tr-1)}getAllMutationBatches(t){return W.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,i){const a=new Ze(i,0),l=new Ze(i,Number.POSITIVE_INFINITY),c=[];return this.Zr.forEachInRange([a,l],(d=>{const p=this.Xr(d.Yr);c.push(p)})),W.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(t,i){let a=new Xe(jt);return i.forEach((l=>{const c=new Ze(l,0),d=new Ze(l,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([c,d],(p=>{a=a.add(p.Yr)}))})),W.resolve(this.ti(a))}getAllMutationBatchesAffectingQuery(t,i){const a=i.path,l=a.length+1;let c=a;pt.isDocumentKey(c)||(c=c.child(""));const d=new Ze(new pt(c),0);let p=new Xe(jt);return this.Zr.forEachWhile((y=>{const _=y.key.path;return!!a.isPrefixOf(_)&&(_.length===l&&(p=p.add(y.Yr)),!0)}),d),W.resolve(this.ti(p))}ti(t){const i=[];return t.forEach((a=>{const l=this.Xr(a);l!==null&&i.push(l)})),i}removeMutationBatch(t,i){te(this.ni(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let a=this.Zr;return W.forEach(i.mutations,(l=>{const c=new Ze(l.key,i.batchId);return a=a.delete(c),this.referenceDelegate.markPotentiallyOrphaned(t,l.key)})).next((()=>{this.Zr=a}))}ir(t){}containsKey(t,i){const a=new Ze(i,0),l=this.Zr.firstAfterOrEqual(a);return W.resolve(i.isEqual(l&&l.key))}performConsistencyCheck(t){return this.mutationQueue.length,W.resolve()}ni(t,i){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const i=this.ei(t);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class xI{constructor(t){this.ri=t,this.docs=(function(){return new Ee(pt.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,i){const a=i.key,l=this.docs.get(a),c=l?l.size:0,d=this.ri(i);return this.docs=this.docs.insert(a,{document:i.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(t,a.path.popLast())}removeEntry(t){const i=this.docs.get(t);i&&(this.docs=this.docs.remove(t),this.size-=i.size)}getEntry(t,i){const a=this.docs.get(i);return W.resolve(a?a.document.mutableCopy():yn.newInvalidDocument(i))}getEntries(t,i){let a=Mr();return i.forEach((l=>{const c=this.docs.get(l);a=a.insert(l,c?c.document.mutableCopy():yn.newInvalidDocument(l))})),W.resolve(a)}getDocumentsMatchingQuery(t,i,a,l){let c=Mr();const d=i.path,p=new pt(d.child("__id-9223372036854775808__")),y=this.docs.getIteratorFrom(p);for(;y.hasNext();){const{key:_,value:{document:b}}=y.getNext();if(!d.isPrefixOf(_.path))break;_.path.length>d.length+1||rR(iR(b),a)<=0||(l.has(b.key)||Uh(i,b))&&(c=c.insert(b.key,b.mutableCopy()))}return W.resolve(c)}getAllFromCollectionGroup(t,i,a,l){Et(9500)}ii(t,i){return W.forEach(this.docs,(a=>i(a)))}newChangeBuffer(t){return new DI(this)}getSize(t){return W.resolve(this.size)}}class DI extends SI{constructor(t){super(),this.Nr=t}applyChanges(t){const i=[];return this.changes.forEach(((a,l)=>{l.isValidDocument()?i.push(this.Nr.addEntry(t,l)):this.Nr.removeEntry(a)})),W.waitFor(i)}getFromCache(t,i){return this.Nr.getEntry(t,i)}getAllFromCache(t,i){return this.Nr.getEntries(t,i)}}class MI{constructor(t){this.persistence=t,this.si=new Oa((i=>ig(i)),rg),this.lastRemoteSnapshotVersion=At.min(),this.highestTargetId=0,this.oi=0,this._i=new hg,this.targetCount=0,this.ai=qo.ur()}forEachTarget(t,i){return this.si.forEach(((a,l)=>i(l))),W.resolve()}getLastRemoteSnapshotVersion(t){return W.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return W.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),W.resolve(this.highestTargetId)}setTargetsMetadata(t,i,a){return a&&(this.lastRemoteSnapshotVersion=a),i>this.oi&&(this.oi=i),W.resolve()}Pr(t){this.si.set(t.target,t);const i=t.targetId;i>this.highestTargetId&&(this.ai=new qo(i),this.highestTargetId=i),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,i){return this.Pr(i),this.targetCount+=1,W.resolve()}updateTargetData(t,i){return this.Pr(i),W.resolve()}removeTargetData(t,i){return this.si.delete(i.target),this._i.jr(i.targetId),this.targetCount-=1,W.resolve()}removeTargets(t,i,a){let l=0;const c=[];return this.si.forEach(((d,p)=>{p.sequenceNumber<=i&&a.get(p.targetId)===null&&(this.si.delete(d),c.push(this.removeMatchingKeysForTargetId(t,p.targetId)),l++)})),W.waitFor(c).next((()=>l))}getTargetCount(t){return W.resolve(this.targetCount)}getTargetData(t,i){const a=this.si.get(i)||null;return W.resolve(a)}addMatchingKeys(t,i,a){return this._i.Wr(i,a),W.resolve()}removeMatchingKeys(t,i,a){this._i.zr(i,a);const l=this.persistence.referenceDelegate,c=[];return l&&i.forEach((d=>{c.push(l.markPotentiallyOrphaned(t,d))})),W.waitFor(c)}removeMatchingKeysForTargetId(t,i){return this._i.jr(i),W.resolve()}getMatchingKeysForTargetId(t,i){const a=this._i.Hr(i);return W.resolve(a)}containsKey(t,i){return W.resolve(this._i.containsKey(i))}}class VE{constructor(t,i){this.ui={},this.overlays={},this.ci=new Mh(0),this.li=!1,this.li=!0,this.hi=new CI,this.referenceDelegate=t(this),this.Pi=new MI(this),this.indexManager=new pI,this.remoteDocumentCache=(function(l){return new xI(l)})((a=>this.referenceDelegate.Ti(a))),this.serializer=new mI(i),this.Ii=new RI(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let i=this.overlays[t.toKey()];return i||(i=new II,this.overlays[t.toKey()]=i),i}getMutationQueue(t,i){let a=this.ui[t.toKey()];return a||(a=new NI(i,this.referenceDelegate),this.ui[t.toKey()]=a),a}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,i,a){lt("MemoryPersistence","Starting transaction:",t);const l=new OI(this.ci.next());return this.referenceDelegate.Ei(),a(l).next((c=>this.referenceDelegate.di(l).next((()=>c)))).toPromise().then((c=>(l.raiseOnCommittedEvent(),c)))}Ai(t,i){return W.or(Object.values(this.ui).map((a=>()=>a.containsKey(t,i))))}}class OI extends aR{constructor(t){super(),this.currentSequenceNumber=t}}class fg{constructor(t){this.persistence=t,this.Ri=new hg,this.Vi=null}static mi(t){return new fg(t)}get fi(){if(this.Vi)return this.Vi;throw Et(60996)}addReference(t,i,a){return this.Ri.addReference(a,i),this.fi.delete(a.toString()),W.resolve()}removeReference(t,i,a){return this.Ri.removeReference(a,i),this.fi.add(a.toString()),W.resolve()}markPotentiallyOrphaned(t,i){return this.fi.add(i.toString()),W.resolve()}removeTarget(t,i){this.Ri.jr(i.targetId).forEach((l=>this.fi.add(l.toString())));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(t,i.targetId).next((l=>{l.forEach((c=>this.fi.add(c.toString())))})).next((()=>a.removeTargetData(t,i)))}Ei(){this.Vi=new Set}di(t){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return W.forEach(this.fi,(a=>{const l=pt.fromPath(a);return this.gi(t,l).next((c=>{c||i.removeEntry(l,At.min())}))})).next((()=>(this.Vi=null,i.apply(t))))}updateLimboDocument(t,i){return this.gi(t,i).next((a=>{a?this.fi.delete(i.toString()):this.fi.add(i.toString())}))}Ti(t){return 0}gi(t,i){return W.or([()=>W.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(t,i),()=>this.persistence.Ai(t,i)])}}class Th{constructor(t,i){this.persistence=t,this.pi=new Oa((a=>uR(a.path)),((a,l)=>a.isEqual(l))),this.garbageCollector=bI(this,i)}static mi(t,i){return new Th(t,i)}Ei(){}di(t){return W.resolve()}forEachTarget(t,i){return this.persistence.getTargetCache().forEachTarget(t,i)}gr(t){const i=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next((a=>i.next((l=>a+l))))}wr(t){let i=0;return this.pr(t,(a=>{i++})).next((()=>i))}pr(t,i){return W.forEach(this.pi,((a,l)=>this.br(t,a,l).next((c=>c?W.resolve():i(l)))))}removeTargets(t,i,a){return this.persistence.getTargetCache().removeTargets(t,i,a)}removeOrphanedDocuments(t,i){let a=0;const l=this.persistence.getRemoteDocumentCache(),c=l.newChangeBuffer();return l.ii(t,(d=>this.br(t,d,i).next((p=>{p||(a++,c.removeEntry(d,At.min()))})))).next((()=>c.apply(t))).next((()=>a))}markPotentiallyOrphaned(t,i){return this.pi.set(i,t.currentSequenceNumber),W.resolve()}removeTarget(t,i){const a=i.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,a)}addReference(t,i,a){return this.pi.set(a,t.currentSequenceNumber),W.resolve()}removeReference(t,i,a){return this.pi.set(a,t.currentSequenceNumber),W.resolve()}updateLimboDocument(t,i){return this.pi.set(i,t.currentSequenceNumber),W.resolve()}Ti(t){let i=t.key.toString().length;return t.isFoundDocument()&&(i+=th(t.data.value)),i}br(t,i,a){return W.or([()=>this.persistence.Ai(t,i),()=>this.persistence.getTargetCache().containsKey(t,i),()=>{const l=this.pi.get(i);return W.resolve(l!==void 0&&l>a)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}class dg{constructor(t,i,a,l){this.targetId=t,this.fromCache=i,this.Es=a,this.ds=l}static As(t,i){let a=Bt(),l=Bt();for(const c of i.docChanges)switch(c.type){case 0:a=a.add(c.doc.key);break;case 1:l=l.add(c.doc.key)}return new dg(t,i.fromCache,a,l)}}class VI{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class kI{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return SS()?8:oR(_n())>0?6:4})()}initialize(t,i){this.ps=t,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(t,i,a,l){const c={result:null};return this.ys(t,i).next((d=>{c.result=d})).next((()=>{if(!c.result)return this.ws(t,i,l,a).next((d=>{c.result=d}))})).next((()=>{if(c.result)return;const d=new VI;return this.Ss(t,i,d).next((p=>{if(c.result=p,this.Vs)return this.bs(t,i,d,p.size)}))})).next((()=>c.result))}bs(t,i,a,l){return a.documentReadCount<this.fs?(Ro()<=zt.DEBUG&&lt("QueryEngine","SDK will not create cache indexes for query:",Io(i),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),W.resolve()):(Ro()<=zt.DEBUG&&lt("QueryEngine","Query:",Io(i),"scans",a.documentReadCount,"local documents and returns",l,"documents as results."),a.documentReadCount>this.gs*l?(Ro()<=zt.DEBUG&&lt("QueryEngine","The SDK decides to create cache indexes for query:",Io(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,$i(i))):W.resolve())}ys(t,i){if(ev(i))return W.resolve(null);let a=$i(i);return this.indexManager.getIndexType(t,a).next((l=>l===0?null:(i.limit!==null&&l===1&&(i=Rm(i,null,"F"),a=$i(i)),this.indexManager.getDocumentsMatchingTarget(t,a).next((c=>{const d=Bt(...c);return this.ps.getDocuments(t,d).next((p=>this.indexManager.getMinOffset(t,a).next((y=>{const _=this.Ds(i,p);return this.Cs(i,_,d,y.readTime)?this.ys(t,Rm(i,null,"F")):this.vs(t,_,i,y)}))))})))))}ws(t,i,a,l){return ev(i)||l.isEqual(At.min())?W.resolve(null):this.ps.getDocuments(t,a).next((c=>{const d=this.Ds(i,c);return this.Cs(i,d,a,l)?W.resolve(null):(Ro()<=zt.DEBUG&&lt("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),Io(i)),this.vs(t,d,i,nR(l,iu)).next((p=>p)))}))}Ds(t,i){let a=new Xe(fE(t));return i.forEach(((l,c)=>{Uh(t,c)&&(a=a.add(c))})),a}Cs(t,i,a,l){if(t.limit===null)return!1;if(a.size!==i.size)return!0;const c=t.limitType==="F"?i.last():i.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(l)>0)}Ss(t,i,a){return Ro()<=zt.DEBUG&&lt("QueryEngine","Using full collection scan to execute query:",Io(i)),this.ps.getDocumentsMatchingQuery(t,i,Ns.min(),a)}vs(t,i,a,l){return this.ps.getDocumentsMatchingQuery(t,a,l).next((c=>(i.forEach((d=>{c=c.insert(d.key,d)})),c)))}}const mg="LocalStore",UI=3e8;class LI{constructor(t,i,a,l){this.persistence=t,this.Fs=i,this.serializer=l,this.Ms=new Ee(jt),this.xs=new Oa((c=>ig(c)),rg),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(a)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new wI(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>t.collect(i,this.Ms)))}}function PI(r,t,i,a){return new LI(r,t,i,a)}async function kE(r,t){const i=It(r);return await i.persistence.runTransaction("Handle user change","readonly",(a=>{let l;return i.mutationQueue.getAllMutationBatches(a).next((c=>(l=c,i.Bs(t),i.mutationQueue.getAllMutationBatches(a)))).next((c=>{const d=[],p=[];let y=Bt();for(const _ of l){d.push(_.batchId);for(const b of _.mutations)y=y.add(b.key)}for(const _ of c){p.push(_.batchId);for(const b of _.mutations)y=y.add(b.key)}return i.localDocuments.getDocuments(a,y).next((_=>({Ls:_,removedBatchIds:d,addedBatchIds:p})))}))}))}function zI(r,t){const i=It(r);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(a=>{const l=t.batch.keys(),c=i.Ns.newChangeBuffer({trackRemovals:!0});return(function(p,y,_,b){const S=_.batch,O=S.keys();let Q=W.resolve();return O.forEach((tt=>{Q=Q.next((()=>b.getEntry(y,tt))).next((nt=>{const et=_.docVersions.get(tt);te(et!==null,48541),nt.version.compareTo(et)<0&&(S.applyToRemoteDocument(nt,_),nt.isValidDocument()&&(nt.setReadTime(_.commitVersion),b.addEntry(nt)))}))})),Q.next((()=>p.mutationQueue.removeMutationBatch(y,S)))})(i,a,t,c).next((()=>c.apply(a))).next((()=>i.mutationQueue.performConsistencyCheck(a))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(a,l,t.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,(function(p){let y=Bt();for(let _=0;_<p.mutationResults.length;++_)p.mutationResults[_].transformResults.length>0&&(y=y.add(p.batch.mutations[_].key));return y})(t)))).next((()=>i.localDocuments.getDocuments(a,l)))}))}function UE(r){const t=It(r);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>t.Pi.getLastRemoteSnapshotVersion(i)))}function jI(r,t){const i=It(r),a=t.snapshotVersion;let l=i.Ms;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const d=i.Ns.newChangeBuffer({trackRemovals:!0});l=i.Ms;const p=[];t.targetChanges.forEach(((b,S)=>{const O=l.get(S);if(!O)return;p.push(i.Pi.removeMatchingKeys(c,b.removedDocuments,S).next((()=>i.Pi.addMatchingKeys(c,b.addedDocuments,S))));let Q=O.withSequenceNumber(c.currentSequenceNumber);t.targetMismatches.get(S)!==null?Q=Q.withResumeToken(cn.EMPTY_BYTE_STRING,At.min()).withLastLimboFreeSnapshotVersion(At.min()):b.resumeToken.approximateByteSize()>0&&(Q=Q.withResumeToken(b.resumeToken,a)),l=l.insert(S,Q),(function(nt,et,yt){return nt.resumeToken.approximateByteSize()===0||et.snapshotVersion.toMicroseconds()-nt.snapshotVersion.toMicroseconds()>=UI?!0:yt.addedDocuments.size+yt.modifiedDocuments.size+yt.removedDocuments.size>0})(O,Q,b)&&p.push(i.Pi.updateTargetData(c,Q))}));let y=Mr(),_=Bt();if(t.documentUpdates.forEach((b=>{t.resolvedLimboDocuments.has(b)&&p.push(i.persistence.referenceDelegate.updateLimboDocument(c,b))})),p.push(BI(c,d,t.documentUpdates).next((b=>{y=b.ks,_=b.qs}))),!a.isEqual(At.min())){const b=i.Pi.getLastRemoteSnapshotVersion(c).next((S=>i.Pi.setTargetsMetadata(c,c.currentSequenceNumber,a)));p.push(b)}return W.waitFor(p).next((()=>d.apply(c))).next((()=>i.localDocuments.getLocalViewOfDocuments(c,y,_))).next((()=>y))})).then((c=>(i.Ms=l,c)))}function BI(r,t,i){let a=Bt(),l=Bt();return i.forEach((c=>a=a.add(c))),t.getEntries(r,a).next((c=>{let d=Mr();return i.forEach(((p,y)=>{const _=c.get(p);y.isFoundDocument()!==_.isFoundDocument()&&(l=l.add(p)),y.isNoDocument()&&y.version.isEqual(At.min())?(t.removeEntry(p,y.readTime),d=d.insert(p,y)):!_.isValidDocument()||y.version.compareTo(_.version)>0||y.version.compareTo(_.version)===0&&_.hasPendingWrites?(t.addEntry(y),d=d.insert(p,y)):lt(mg,"Ignoring outdated watch update for ",p,". Current version:",_.version," Watch version:",y.version)})),{ks:d,qs:l}}))}function qI(r,t){const i=It(r);return i.persistence.runTransaction("Get next mutation batch","readonly",(a=>(t===void 0&&(t=tg),i.mutationQueue.getNextMutationBatchAfterBatchId(a,t))))}function HI(r,t){const i=It(r);return i.persistence.runTransaction("Allocate target","readwrite",(a=>{let l;return i.Pi.getTargetData(a,t).next((c=>c?(l=c,W.resolve(l)):i.Pi.allocateTargetId(a).next((d=>(l=new Ss(t,d,"TargetPurposeListen",a.currentSequenceNumber),i.Pi.addTargetData(a,l).next((()=>l)))))))})).then((a=>{const l=i.Ms.get(a.targetId);return(l===null||a.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(i.Ms=i.Ms.insert(a.targetId,a),i.xs.set(t,a.targetId)),a}))}async function Dm(r,t,i){const a=It(r),l=a.Ms.get(t),c=i?"readwrite":"readwrite-primary";try{i||await a.persistence.runTransaction("Release target",c,(d=>a.persistence.referenceDelegate.removeTarget(d,l)))}catch(d){if(!Xo(d))throw d;lt(mg,`Failed to update sequence numbers for target ${t}: ${d}`)}a.Ms=a.Ms.remove(t),a.xs.delete(l.target)}function mv(r,t,i){const a=It(r);let l=At.min(),c=Bt();return a.persistence.runTransaction("Execute query","readwrite",(d=>(function(y,_,b){const S=It(y),O=S.xs.get(b);return O!==void 0?W.resolve(S.Ms.get(O)):S.Pi.getTargetData(_,b)})(a,d,$i(t)).next((p=>{if(p)return l=p.lastLimboFreeSnapshotVersion,a.Pi.getMatchingKeysForTargetId(d,p.targetId).next((y=>{c=y}))})).next((()=>a.Fs.getDocumentsMatchingQuery(d,t,i?l:At.min(),i?c:Bt()))).next((p=>(FI(a,CR(t),p),{documents:p,Qs:c})))))}function FI(r,t,i){let a=r.Os.get(t)||At.min();i.forEach(((l,c)=>{c.readTime.compareTo(a)>0&&(a=c.readTime)})),r.Os.set(t,a)}class gv{constructor(){this.activeTargetIds=VR()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class GI{constructor(){this.Mo=new gv,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,i,a){}addLocalQueryTarget(t,i=!0){return i&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,i,a){this.xo[t]=i}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new gv,Promise.resolve()}handleUserChange(t,i,a){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class QI{Oo(t){}shutdown(){}}const pv="ConnectivityMonitor";class yv{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){lt(pv,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){lt(pv,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Fc=null;function Mm(){return Fc===null?Fc=(function(){return 268435456+Math.round(2147483648*Math.random())})():Fc++,"0x"+Fc.toString(16)}const rm="RestConnection",YI={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class KI{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const i=t.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.Uo=i+"://"+t.host,this.Ko=`projects/${a}/databases/${l}`,this.Wo=this.databaseId.database===gh?`project_id=${a}`:`project_id=${a}&database_id=${l}`}Go(t,i,a,l,c){const d=Mm(),p=this.zo(t,i.toUriEncodedString());lt(rm,`Sending RPC '${t}' ${d}:`,p,a);const y={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(y,l,c);const{host:_}=new URL(p),b=Fo(_);return this.Jo(t,p,y,a,b).then((S=>(lt(rm,`Received RPC '${t}' ${d}: `,S),S)),(S=>{throw Po(rm,`RPC '${t}' ${d} failed with error: `,S,"url: ",p,"request:",a),S}))}Ho(t,i,a,l,c,d){return this.Go(t,i,a,l,c)}jo(t,i,a){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Yo})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((l,c)=>t[c]=l)),a&&a.headers.forEach(((l,c)=>t[c]=l))}zo(t,i){const a=YI[t];return`${this.Uo}/v1/${i}:${a}`}terminate(){}}class XI{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}const gn="WebChannelConnection";class $I extends KI{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,i,a,l,c){const d=Mm();return new Promise(((p,y)=>{const _=new z1;_.setWithCredentials(!0),_.listenOnce(j1.COMPLETE,(()=>{try{switch(_.getLastErrorCode()){case Wc.NO_ERROR:const S=_.getResponseJson();lt(gn,`XHR for RPC '${t}' ${d} received:`,JSON.stringify(S)),p(S);break;case Wc.TIMEOUT:lt(gn,`RPC '${t}' ${d} timed out`),y(new ut(Z.DEADLINE_EXCEEDED,"Request time out"));break;case Wc.HTTP_ERROR:const O=_.getStatus();if(lt(gn,`RPC '${t}' ${d} failed with status:`,O,"response text:",_.getResponseText()),O>0){let Q=_.getResponseJson();Array.isArray(Q)&&(Q=Q[0]);const tt=Q?.error;if(tt&&tt.status&&tt.message){const nt=(function(yt){const wt=yt.toLowerCase().replace(/_/g,"-");return Object.values(Z).indexOf(wt)>=0?wt:Z.UNKNOWN})(tt.status);y(new ut(nt,tt.message))}else y(new ut(Z.UNKNOWN,"Server responded with status "+_.getStatus()))}else y(new ut(Z.UNAVAILABLE,"Connection failed."));break;default:Et(9055,{l_:t,streamId:d,h_:_.getLastErrorCode(),P_:_.getLastError()})}}finally{lt(gn,`RPC '${t}' ${d} completed.`)}}));const b=JSON.stringify(l);lt(gn,`RPC '${t}' ${d} sending request:`,l),_.send(i,"POST",b,a,15)}))}T_(t,i,a){const l=Mm(),c=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],d=H1(),p=q1(),y={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},_=this.longPollingOptions.timeoutSeconds;_!==void 0&&(y.longPollingTimeout=Math.round(1e3*_)),this.useFetchStreams&&(y.useFetchStreams=!0),this.jo(y.initMessageHeaders,i,a),y.encodeInitMessageHeaders=!0;const b=c.join("");lt(gn,`Creating RPC '${t}' stream ${l}: ${b}`,y);const S=d.createWebChannel(b,y);this.I_(S);let O=!1,Q=!1;const tt=new XI({Yo:et=>{Q?lt(gn,`Not sending because RPC '${t}' stream ${l} is closed:`,et):(O||(lt(gn,`Opening RPC '${t}' stream ${l} transport.`),S.open(),O=!0),lt(gn,`RPC '${t}' stream ${l} sending:`,et),S.send(et))},Zo:()=>S.close()}),nt=(et,yt,wt)=>{et.listen(yt,(_t=>{try{wt(_t)}catch(Ot){setTimeout((()=>{throw Ot}),0)}}))};return nt(S,Gl.EventType.OPEN,(()=>{Q||(lt(gn,`RPC '${t}' stream ${l} transport opened.`),tt.o_())})),nt(S,Gl.EventType.CLOSE,(()=>{Q||(Q=!0,lt(gn,`RPC '${t}' stream ${l} transport closed`),tt.a_(),this.E_(S))})),nt(S,Gl.EventType.ERROR,(et=>{Q||(Q=!0,Po(gn,`RPC '${t}' stream ${l} transport errored. Name:`,et.name,"Message:",et.message),tt.a_(new ut(Z.UNAVAILABLE,"The operation could not be completed")))})),nt(S,Gl.EventType.MESSAGE,(et=>{if(!Q){const yt=et.data[0];te(!!yt,16349);const wt=yt,_t=wt?.error||wt[0]?.error;if(_t){lt(gn,`RPC '${t}' stream ${l} received error:`,_t);const Ot=_t.status;let Xt=(function(A){const C=Fe[A];if(C!==void 0)return SE(C)})(Ot),Mt=_t.message;Xt===void 0&&(Xt=Z.INTERNAL,Mt="Unknown error status: "+Ot+" with message "+_t.message),Q=!0,tt.a_(new ut(Xt,Mt)),S.close()}else lt(gn,`RPC '${t}' stream ${l} received:`,yt),tt.u_(yt)}})),nt(p,B1.STAT_EVENT,(et=>{et.stat===vm.PROXY?lt(gn,`RPC '${t}' stream ${l} detected buffering proxy`):et.stat===vm.NOPROXY&&lt(gn,`RPC '${t}' stream ${l} detected no buffering proxy`)})),setTimeout((()=>{tt.__()}),0),tt}terminate(){this.c_.forEach((t=>t.close())),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter((i=>i===t))}}function sm(){return typeof document<"u"?document:null}function jh(r){return new tI(r,!0)}class LE{constructor(t,i,a=1e3,l=1.5,c=6e4){this.Mi=t,this.timerId=i,this.d_=a,this.A_=l,this.R_=c,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const i=Math.floor(this.V_+this.y_()),a=Math.max(0,Date.now()-this.f_),l=Math.max(0,i-a);l>0&&lt("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.V_} ms, delay with jitter: ${i} ms, last attempt: ${a} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,l,(()=>(this.f_=Date.now(),t()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const _v="PersistentStream";class PE{constructor(t,i,a,l,c,d,p,y){this.Mi=t,this.S_=a,this.b_=l,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=p,this.listener=y,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new LE(t,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,i){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():i&&i.code===Z.RESOURCE_EXHAUSTED?(Dr(i.toString()),Dr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===Z.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(i)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([a,l])=>{this.D_===i&&this.G_(a,l)}),(a=>{t((()=>{const l=new ut(Z.UNKNOWN,"Fetching auth token failed: "+a.message);return this.z_(l)}))}))}G_(t,i){const a=this.W_(this.D_);this.stream=this.j_(t,i),this.stream.Xo((()=>{a((()=>this.listener.Xo()))})),this.stream.t_((()=>{a((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((l=>{a((()=>this.z_(l)))})),this.stream.onMessage((l=>{a((()=>++this.F_==1?this.J_(l):this.onNext(l)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return lt(_v,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return i=>{this.Mi.enqueueAndForget((()=>this.D_===t?i():(lt(_v,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class JI extends PE{constructor(t,i,a,l,c,d){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,a,l,d),this.serializer=c}j_(t,i){return this.connection.T_("Listen",t,i)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const i=iI(this.serializer,t),a=(function(c){if(!("targetChange"in c))return At.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?At.min():d.readTime?Ji(d.readTime):At.min()})(t);return this.listener.H_(i,a)}Y_(t){const i={};i.database=xm(this.serializer),i.addTarget=(function(c,d){let p;const y=d.target;if(p=Am(y)?{documents:aI(c,y)}:{query:oI(c,y).ft},p.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){p.resumeToken=RE(c,d.resumeToken);const _=Im(c,d.expectedCount);_!==null&&(p.expectedCount=_)}else if(d.snapshotVersion.compareTo(At.min())>0){p.readTime=Eh(c,d.snapshotVersion.toTimestamp());const _=Im(c,d.expectedCount);_!==null&&(p.expectedCount=_)}return p})(this.serializer,t);const a=uI(this.serializer,t);a&&(i.labels=a),this.q_(i)}Z_(t){const i={};i.database=xm(this.serializer),i.removeTarget=t,this.q_(i)}}class ZI extends PE{constructor(t,i,a,l,c,d){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,a,l,d),this.serializer=c}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,i){return this.connection.T_("Write",t,i)}J_(t){return te(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,te(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){te(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const i=sI(t.writeResults,t.commitTime),a=Ji(t.commitTime);return this.listener.na(a,i)}ra(){const t={};t.database=xm(this.serializer),this.q_(t)}ea(t){const i={streamToken:this.lastStreamToken,writes:t.map((a=>rI(this.serializer,a)))};this.q_(i)}}class WI{}class tC extends WI{constructor(t,i,a,l){super(),this.authCredentials=t,this.appCheckCredentials=i,this.connection=a,this.serializer=l,this.ia=!1}sa(){if(this.ia)throw new ut(Z.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,i,a,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Go(t,Cm(i,a),l,c,d))).catch((c=>{throw c.name==="FirebaseError"?(c.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new ut(Z.UNKNOWN,c.toString())}))}Ho(t,i,a,l,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,p])=>this.connection.Ho(t,Cm(i,a),l,d,p,c))).catch((d=>{throw d.name==="FirebaseError"?(d.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new ut(Z.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class eC{constructor(t,i){this.asyncQueue=t,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const i=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Dr(i),this.aa=!1):lt("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Da="RemoteStore";class nC{constructor(t,i,a,l,c){this.localStore=t,this.datastore=i,this.asyncQueue=a,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=c,this.Aa.Oo((d=>{a.enqueueAndForget((async()=>{Va(this)&&(lt(Da,"Restarting streams for network reachability change."),await(async function(y){const _=It(y);_.Ea.add(4),await bu(_),_.Ra.set("Unknown"),_.Ea.delete(4),await Bh(_)})(this))}))})),this.Ra=new eC(a,l)}}async function Bh(r){if(Va(r))for(const t of r.da)await t(!0)}async function bu(r){for(const t of r.da)await t(!1)}function zE(r,t){const i=It(r);i.Ia.has(t.targetId)||(i.Ia.set(t.targetId,t),_g(i)?yg(i):$o(i).O_()&&pg(i,t))}function gg(r,t){const i=It(r),a=$o(i);i.Ia.delete(t),a.O_()&&jE(i,t),i.Ia.size===0&&(a.O_()?a.L_():Va(i)&&i.Ra.set("Unknown"))}function pg(r,t){if(r.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(At.min())>0){const i=r.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(i)}$o(r).Y_(t)}function jE(r,t){r.Va.Ue(t),$o(r).Z_(t)}function yg(r){r.Va=new $R({getRemoteKeysForTarget:t=>r.remoteSyncer.getRemoteKeysForTarget(t),At:t=>r.Ia.get(t)||null,ht:()=>r.datastore.serializer.databaseId}),$o(r).start(),r.Ra.ua()}function _g(r){return Va(r)&&!$o(r).x_()&&r.Ia.size>0}function Va(r){return It(r).Ea.size===0}function BE(r){r.Va=void 0}async function iC(r){r.Ra.set("Online")}async function rC(r){r.Ia.forEach(((t,i)=>{pg(r,t)}))}async function sC(r,t){BE(r),_g(r)?(r.Ra.ha(t),yg(r)):r.Ra.set("Unknown")}async function aC(r,t,i){if(r.Ra.set("Online"),t instanceof wE&&t.state===2&&t.cause)try{await(async function(l,c){const d=c.cause;for(const p of c.targetIds)l.Ia.has(p)&&(await l.remoteSyncer.rejectListen(p,d),l.Ia.delete(p),l.Va.removeTarget(p))})(r,t)}catch(a){lt(Da,"Failed to remove targets %s: %s ",t.targetIds.join(","),a),await bh(r,a)}else if(t instanceof ih?r.Va.Ze(t):t instanceof AE?r.Va.st(t):r.Va.tt(t),!i.isEqual(At.min()))try{const a=await UE(r.localStore);i.compareTo(a)>=0&&await(function(c,d){const p=c.Va.Tt(d);return p.targetChanges.forEach(((y,_)=>{if(y.resumeToken.approximateByteSize()>0){const b=c.Ia.get(_);b&&c.Ia.set(_,b.withResumeToken(y.resumeToken,d))}})),p.targetMismatches.forEach(((y,_)=>{const b=c.Ia.get(y);if(!b)return;c.Ia.set(y,b.withResumeToken(cn.EMPTY_BYTE_STRING,b.snapshotVersion)),jE(c,y);const S=new Ss(b.target,y,_,b.sequenceNumber);pg(c,S)})),c.remoteSyncer.applyRemoteEvent(p)})(r,i)}catch(a){lt(Da,"Failed to raise snapshot:",a),await bh(r,a)}}async function bh(r,t,i){if(!Xo(t))throw t;r.Ea.add(1),await bu(r),r.Ra.set("Offline"),i||(i=()=>UE(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{lt(Da,"Retrying IndexedDB access"),await i(),r.Ea.delete(1),await Bh(r)}))}function qE(r,t){return t().catch((i=>bh(r,i,t)))}async function qh(r){const t=It(r),i=Os(t);let a=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:tg;for(;oC(t);)try{const l=await qI(t.localStore,a);if(l===null){t.Ta.length===0&&i.L_();break}a=l.batchId,lC(t,l)}catch(l){await bh(t,l)}HE(t)&&FE(t)}function oC(r){return Va(r)&&r.Ta.length<10}function lC(r,t){r.Ta.push(t);const i=Os(r);i.O_()&&i.X_&&i.ea(t.mutations)}function HE(r){return Va(r)&&!Os(r).x_()&&r.Ta.length>0}function FE(r){Os(r).start()}async function uC(r){Os(r).ra()}async function cC(r){const t=Os(r);for(const i of r.Ta)t.ea(i.mutations)}async function hC(r,t,i){const a=r.Ta.shift(),l=lg.from(a,t,i);await qE(r,(()=>r.remoteSyncer.applySuccessfulWrite(l))),await qh(r)}async function fC(r,t){t&&Os(r).X_&&await(async function(a,l){if((function(d){return YR(d)&&d!==Z.ABORTED})(l.code)){const c=a.Ta.shift();Os(a).B_(),await qE(a,(()=>a.remoteSyncer.rejectFailedWrite(c.batchId,l))),await qh(a)}})(r,t),HE(r)&&FE(r)}async function vv(r,t){const i=It(r);i.asyncQueue.verifyOperationInProgress(),lt(Da,"RemoteStore received new credentials");const a=Va(i);i.Ea.add(3),await bu(i),a&&i.Ra.set("Unknown"),await i.remoteSyncer.handleCredentialChange(t),i.Ea.delete(3),await Bh(i)}async function dC(r,t){const i=It(r);t?(i.Ea.delete(2),await Bh(i)):t||(i.Ea.add(2),await bu(i),i.Ra.set("Unknown"))}function $o(r){return r.ma||(r.ma=(function(i,a,l){const c=It(i);return c.sa(),new JI(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(r.datastore,r.asyncQueue,{Xo:iC.bind(null,r),t_:rC.bind(null,r),r_:sC.bind(null,r),H_:aC.bind(null,r)}),r.da.push((async t=>{t?(r.ma.B_(),_g(r)?yg(r):r.Ra.set("Unknown")):(await r.ma.stop(),BE(r))}))),r.ma}function Os(r){return r.fa||(r.fa=(function(i,a,l){const c=It(i);return c.sa(),new ZI(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(r.datastore,r.asyncQueue,{Xo:()=>Promise.resolve(),t_:uC.bind(null,r),r_:fC.bind(null,r),ta:cC.bind(null,r),na:hC.bind(null,r)}),r.da.push((async t=>{t?(r.fa.B_(),await qh(r)):(await r.fa.stop(),r.Ta.length>0&&(lt(Da,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}class vg{constructor(t,i,a,l,c){this.asyncQueue=t,this.timerId=i,this.targetTimeMs=a,this.op=l,this.removalCallback=c,this.deferred=new Aa,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,i,a,l,c){const d=Date.now()+a,p=new vg(t,i,d,l,c);return p.start(a),p}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ut(Z.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Eg(r,t){if(Dr("AsyncQueue",`${t}: ${r}`),Xo(r))return new ut(Z.UNAVAILABLE,`${t}: ${r}`);throw r}class Vo{static emptySet(t){return new Vo(t.comparator)}constructor(t){this.comparator=t?(i,a)=>t(i,a)||pt.comparator(i.key,a.key):(i,a)=>pt.comparator(i.key,a.key),this.keyedMap=Ql(),this.sortedSet=new Ee(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const i=this.keyedMap.get(t);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((i,a)=>(t(i),!1)))}add(t){const i=this.delete(t.key);return i.copy(i.keyedMap.insert(t.key,t),i.sortedSet.insert(t,null))}delete(t){const i=this.get(t);return i?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(i)):this}isEqual(t){if(!(t instanceof Vo)||this.size!==t.size)return!1;const i=this.sortedSet.getIterator(),a=t.sortedSet.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=a.getNext().key;if(!l.isEqual(c))return!1}return!0}toString(){const t=[];return this.forEach((i=>{t.push(i.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,i){const a=new Vo;return a.comparator=this.comparator,a.keyedMap=t,a.sortedSet=i,a}}class Ev{constructor(){this.ga=new Ee(pt.comparator)}track(t){const i=t.doc.key,a=this.ga.get(i);a?t.type!==0&&a.type===3?this.ga=this.ga.insert(i,t):t.type===3&&a.type!==1?this.ga=this.ga.insert(i,{type:a.type,doc:t.doc}):t.type===2&&a.type===2?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):t.type===2&&a.type===0?this.ga=this.ga.insert(i,{type:0,doc:t.doc}):t.type===1&&a.type===0?this.ga=this.ga.remove(i):t.type===1&&a.type===2?this.ga=this.ga.insert(i,{type:1,doc:a.doc}):t.type===0&&a.type===1?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):Et(63341,{Rt:t,pa:a}):this.ga=this.ga.insert(i,t)}ya(){const t=[];return this.ga.inorderTraversal(((i,a)=>{t.push(a)})),t}}class Ho{constructor(t,i,a,l,c,d,p,y,_){this.query=t,this.docs=i,this.oldDocs=a,this.docChanges=l,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=p,this.excludesMetadataChanges=y,this.hasCachedResults=_}static fromInitialDocuments(t,i,a,l,c){const d=[];return i.forEach((p=>{d.push({type:0,doc:p})})),new Ho(t,i,Vo.emptySet(i),d,a,l,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&kh(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const i=this.docChanges,a=t.docChanges;if(i.length!==a.length)return!1;for(let l=0;l<i.length;l++)if(i[l].type!==a[l].type||!i[l].doc.isEqual(a[l].doc))return!1;return!0}}class mC{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((t=>t.Da()))}}class gC{constructor(){this.queries=Tv(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,a){const l=It(i),c=l.queries;l.queries=Tv(),c.forEach(((d,p)=>{for(const y of p.Sa)y.onError(a)}))})(this,new ut(Z.ABORTED,"Firestore shutting down"))}}function Tv(){return new Oa((r=>hE(r)),kh)}async function pC(r,t){const i=It(r);let a=3;const l=t.query;let c=i.queries.get(l);c?!c.ba()&&t.Da()&&(a=2):(c=new mC,a=t.Da()?0:1);try{switch(a){case 0:c.wa=await i.onListen(l,!0);break;case 1:c.wa=await i.onListen(l,!1);break;case 2:await i.onFirstRemoteStoreListen(l)}}catch(d){const p=Eg(d,`Initialization of query '${Io(t.query)}' failed`);return void t.onError(p)}i.queries.set(l,c),c.Sa.push(t),t.va(i.onlineState),c.wa&&t.Fa(c.wa)&&Tg(i)}async function yC(r,t){const i=It(r),a=t.query;let l=3;const c=i.queries.get(a);if(c){const d=c.Sa.indexOf(t);d>=0&&(c.Sa.splice(d,1),c.Sa.length===0?l=t.Da()?0:1:!c.ba()&&t.Da()&&(l=2))}switch(l){case 0:return i.queries.delete(a),i.onUnlisten(a,!0);case 1:return i.queries.delete(a),i.onUnlisten(a,!1);case 2:return i.onLastRemoteStoreUnlisten(a);default:return}}function _C(r,t){const i=It(r);let a=!1;for(const l of t){const c=l.query,d=i.queries.get(c);if(d){for(const p of d.Sa)p.Fa(l)&&(a=!0);d.wa=l}}a&&Tg(i)}function vC(r,t,i){const a=It(r),l=a.queries.get(t);if(l)for(const c of l.Sa)c.onError(i);a.queries.delete(t)}function Tg(r){r.Ca.forEach((t=>{t.next()}))}var Om,bv;(bv=Om||(Om={})).Ma="default",bv.Cache="cache";class EC{constructor(t,i,a){this.query=t,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=a||{}}Fa(t){if(!this.options.includeMetadataChanges){const a=[];for(const l of t.docChanges)l.type!==3&&a.push(l);t=new Ho(t.query,t.docs,t.oldDocs,a,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let i=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),i=!0):this.La(t,this.onlineState)&&(this.ka(t),i=!0),this.Na=t,i}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),i=!0),i}La(t,i){if(!t.fromCache||!this.Da())return!0;const a=i!=="Offline";return(!this.options.qa||!a)&&(!t.docs.isEmpty()||t.hasCachedResults||i==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(t){t=Ho.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==Om.Cache}}class GE{constructor(t){this.key=t}}class QE{constructor(t){this.key=t}}class TC{constructor(t,i){this.query=t,this.Ya=i,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Bt(),this.mutatedKeys=Bt(),this.eu=fE(t),this.tu=new Vo(this.eu)}get nu(){return this.Ya}ru(t,i){const a=i?i.iu:new Ev,l=i?i.tu:this.tu;let c=i?i.mutatedKeys:this.mutatedKeys,d=l,p=!1;const y=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,_=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(t.inorderTraversal(((b,S)=>{const O=l.get(b),Q=Uh(this.query,S)?S:null,tt=!!O&&this.mutatedKeys.has(O.key),nt=!!Q&&(Q.hasLocalMutations||this.mutatedKeys.has(Q.key)&&Q.hasCommittedMutations);let et=!1;O&&Q?O.data.isEqual(Q.data)?tt!==nt&&(a.track({type:3,doc:Q}),et=!0):this.su(O,Q)||(a.track({type:2,doc:Q}),et=!0,(y&&this.eu(Q,y)>0||_&&this.eu(Q,_)<0)&&(p=!0)):!O&&Q?(a.track({type:0,doc:Q}),et=!0):O&&!Q&&(a.track({type:1,doc:O}),et=!0,(y||_)&&(p=!0)),et&&(Q?(d=d.add(Q),c=nt?c.add(b):c.delete(b)):(d=d.delete(b),c=c.delete(b)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const b=this.query.limitType==="F"?d.last():d.first();d=d.delete(b.key),c=c.delete(b.key),a.track({type:1,doc:b})}return{tu:d,iu:a,Cs:p,mutatedKeys:c}}su(t,i){return t.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(t,i,a,l){const c=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const d=t.iu.ya();d.sort(((b,S)=>(function(Q,tt){const nt=et=>{switch(et){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Et(20277,{Rt:et})}};return nt(Q)-nt(tt)})(b.type,S.type)||this.eu(b.doc,S.doc))),this.ou(a),l=l??!1;const p=i&&!l?this._u():[],y=this.Xa.size===0&&this.current&&!l?1:0,_=y!==this.Za;return this.Za=y,d.length!==0||_?{snapshot:new Ho(this.query,t.tu,c,d,t.mutatedKeys,y===0,_,!1,!!a&&a.resumeToken.approximateByteSize()>0),au:p}:{au:p}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Ev,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((i=>this.Ya=this.Ya.add(i))),t.modifiedDocuments.forEach((i=>{})),t.removedDocuments.forEach((i=>this.Ya=this.Ya.delete(i))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=Bt(),this.tu.forEach((a=>{this.uu(a.key)&&(this.Xa=this.Xa.add(a.key))}));const i=[];return t.forEach((a=>{this.Xa.has(a)||i.push(new QE(a))})),this.Xa.forEach((a=>{t.has(a)||i.push(new GE(a))})),i}cu(t){this.Ya=t.Qs,this.Xa=Bt();const i=this.ru(t.documents);return this.applyChanges(i,!0)}lu(){return Ho.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const bg="SyncEngine";class bC{constructor(t,i,a){this.query=t,this.targetId=i,this.view=a}}class SC{constructor(t){this.key=t,this.hu=!1}}class AC{constructor(t,i,a,l,c,d){this.localStore=t,this.remoteStore=i,this.eventManager=a,this.sharedClientState=l,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new Oa((p=>hE(p)),kh),this.Iu=new Map,this.Eu=new Set,this.du=new Ee(pt.comparator),this.Au=new Map,this.Ru=new hg,this.Vu={},this.mu=new Map,this.fu=qo.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function wC(r,t,i=!0){const a=ZE(r);let l;const c=a.Tu.get(t);return c?(a.sharedClientState.addLocalQueryTarget(c.targetId),l=c.view.lu()):l=await YE(a,t,i,!0),l}async function RC(r,t){const i=ZE(r);await YE(i,t,!0,!1)}async function YE(r,t,i,a){const l=await HI(r.localStore,$i(t)),c=l.targetId,d=r.sharedClientState.addLocalQueryTarget(c,i);let p;return a&&(p=await IC(r,t,c,d==="current",l.resumeToken)),r.isPrimaryClient&&i&&zE(r.remoteStore,l),p}async function IC(r,t,i,a,l){r.pu=(S,O,Q)=>(async function(nt,et,yt,wt){let _t=et.view.ru(yt);_t.Cs&&(_t=await mv(nt.localStore,et.query,!1).then((({documents:N})=>et.view.ru(N,_t))));const Ot=wt&&wt.targetChanges.get(et.targetId),Xt=wt&&wt.targetMismatches.get(et.targetId)!=null,Mt=et.view.applyChanges(_t,nt.isPrimaryClient,Ot,Xt);return Av(nt,et.targetId,Mt.au),Mt.snapshot})(r,S,O,Q);const c=await mv(r.localStore,t,!0),d=new TC(t,c.Qs),p=d.ru(c.documents),y=Tu.createSynthesizedTargetChangeForCurrentChange(i,a&&r.onlineState!=="Offline",l),_=d.applyChanges(p,r.isPrimaryClient,y);Av(r,i,_.au);const b=new bC(t,i,d);return r.Tu.set(t,b),r.Iu.has(i)?r.Iu.get(i).push(t):r.Iu.set(i,[t]),_.snapshot}async function CC(r,t,i){const a=It(r),l=a.Tu.get(t),c=a.Iu.get(l.targetId);if(c.length>1)return a.Iu.set(l.targetId,c.filter((d=>!kh(d,t)))),void a.Tu.delete(t);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(l.targetId),a.sharedClientState.isActiveQueryTarget(l.targetId)||await Dm(a.localStore,l.targetId,!1).then((()=>{a.sharedClientState.clearQueryState(l.targetId),i&&gg(a.remoteStore,l.targetId),Vm(a,l.targetId)})).catch(Ko)):(Vm(a,l.targetId),await Dm(a.localStore,l.targetId,!0))}async function NC(r,t){const i=It(r),a=i.Tu.get(t),l=i.Iu.get(a.targetId);i.isPrimaryClient&&l.length===1&&(i.sharedClientState.removeLocalQueryTarget(a.targetId),gg(i.remoteStore,a.targetId))}async function xC(r,t,i){const a=LC(r);try{const l=await(function(d,p){const y=It(d),_=ye.now(),b=p.reduce(((Q,tt)=>Q.add(tt.key)),Bt());let S,O;return y.persistence.runTransaction("Locally write mutations","readwrite",(Q=>{let tt=Mr(),nt=Bt();return y.Ns.getEntries(Q,b).next((et=>{tt=et,tt.forEach(((yt,wt)=>{wt.isValidDocument()||(nt=nt.add(yt))}))})).next((()=>y.localDocuments.getOverlayedDocuments(Q,tt))).next((et=>{S=et;const yt=[];for(const wt of p){const _t=qR(wt,S.get(wt.key).overlayedDocument);_t!=null&&yt.push(new Us(wt.key,_t,iE(_t.value.mapValue),gi.exists(!0)))}return y.mutationQueue.addMutationBatch(Q,_,yt,p)})).next((et=>{O=et;const yt=et.applyToLocalDocumentSet(S,nt);return y.documentOverlayCache.saveOverlays(Q,et.batchId,yt)}))})).then((()=>({batchId:O.batchId,changes:mE(S)})))})(a.localStore,t);a.sharedClientState.addPendingMutation(l.batchId),(function(d,p,y){let _=d.Vu[d.currentUser.toKey()];_||(_=new Ee(jt)),_=_.insert(p,y),d.Vu[d.currentUser.toKey()]=_})(a,l.batchId,i),await Su(a,l.changes),await qh(a.remoteStore)}catch(l){const c=Eg(l,"Failed to persist write");i.reject(c)}}async function KE(r,t){const i=It(r);try{const a=await jI(i.localStore,t);t.targetChanges.forEach(((l,c)=>{const d=i.Au.get(c);d&&(te(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?d.hu=!0:l.modifiedDocuments.size>0?te(d.hu,14607):l.removedDocuments.size>0&&(te(d.hu,42227),d.hu=!1))})),await Su(i,a,t)}catch(a){await Ko(a)}}function Sv(r,t,i){const a=It(r);if(a.isPrimaryClient&&i===0||!a.isPrimaryClient&&i===1){const l=[];a.Tu.forEach(((c,d)=>{const p=d.view.va(t);p.snapshot&&l.push(p.snapshot)})),(function(d,p){const y=It(d);y.onlineState=p;let _=!1;y.queries.forEach(((b,S)=>{for(const O of S.Sa)O.va(p)&&(_=!0)})),_&&Tg(y)})(a.eventManager,t),l.length&&a.Pu.H_(l),a.onlineState=t,a.isPrimaryClient&&a.sharedClientState.setOnlineState(t)}}async function DC(r,t,i){const a=It(r);a.sharedClientState.updateQueryState(t,"rejected",i);const l=a.Au.get(t),c=l&&l.key;if(c){let d=new Ee(pt.comparator);d=d.insert(c,yn.newNoDocument(c,At.min()));const p=Bt().add(c),y=new zh(At.min(),new Map,new Ee(jt),d,p);await KE(a,y),a.du=a.du.remove(c),a.Au.delete(t),Sg(a)}else await Dm(a.localStore,t,!1).then((()=>Vm(a,t,i))).catch(Ko)}async function MC(r,t){const i=It(r),a=t.batch.batchId;try{const l=await zI(i.localStore,t);$E(i,a,null),XE(i,a),i.sharedClientState.updateMutationState(a,"acknowledged"),await Su(i,l)}catch(l){await Ko(l)}}async function OC(r,t,i){const a=It(r);try{const l=await(function(d,p){const y=It(d);return y.persistence.runTransaction("Reject batch","readwrite-primary",(_=>{let b;return y.mutationQueue.lookupMutationBatch(_,p).next((S=>(te(S!==null,37113),b=S.keys(),y.mutationQueue.removeMutationBatch(_,S)))).next((()=>y.mutationQueue.performConsistencyCheck(_))).next((()=>y.documentOverlayCache.removeOverlaysForBatchId(_,b,p))).next((()=>y.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,b))).next((()=>y.localDocuments.getDocuments(_,b)))}))})(a.localStore,t);$E(a,t,i),XE(a,t),a.sharedClientState.updateMutationState(t,"rejected",i),await Su(a,l)}catch(l){await Ko(l)}}function XE(r,t){(r.mu.get(t)||[]).forEach((i=>{i.resolve()})),r.mu.delete(t)}function $E(r,t,i){const a=It(r);let l=a.Vu[a.currentUser.toKey()];if(l){const c=l.get(t);c&&(i?c.reject(i):c.resolve(),l=l.remove(t)),a.Vu[a.currentUser.toKey()]=l}}function Vm(r,t,i=null){r.sharedClientState.removeLocalQueryTarget(t);for(const a of r.Iu.get(t))r.Tu.delete(a),i&&r.Pu.yu(a,i);r.Iu.delete(t),r.isPrimaryClient&&r.Ru.jr(t).forEach((a=>{r.Ru.containsKey(a)||JE(r,a)}))}function JE(r,t){r.Eu.delete(t.path.canonicalString());const i=r.du.get(t);i!==null&&(gg(r.remoteStore,i),r.du=r.du.remove(t),r.Au.delete(i),Sg(r))}function Av(r,t,i){for(const a of i)a instanceof GE?(r.Ru.addReference(a.key,t),VC(r,a)):a instanceof QE?(lt(bg,"Document no longer in limbo: "+a.key),r.Ru.removeReference(a.key,t),r.Ru.containsKey(a.key)||JE(r,a.key)):Et(19791,{wu:a})}function VC(r,t){const i=t.key,a=i.path.canonicalString();r.du.get(i)||r.Eu.has(a)||(lt(bg,"New document in limbo: "+i),r.Eu.add(a),Sg(r))}function Sg(r){for(;r.Eu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const t=r.Eu.values().next().value;r.Eu.delete(t);const i=new pt(fe.fromString(t)),a=r.fu.next();r.Au.set(a,new SC(i)),r.du=r.du.insert(i,a),zE(r.remoteStore,new Ss($i(sg(i.path)),a,"TargetPurposeLimboResolution",Mh.ce))}}async function Su(r,t,i){const a=It(r),l=[],c=[],d=[];a.Tu.isEmpty()||(a.Tu.forEach(((p,y)=>{d.push(a.pu(y,t,i).then((_=>{if((_||i)&&a.isPrimaryClient){const b=_?!_.fromCache:i?.targetChanges.get(y.targetId)?.current;a.sharedClientState.updateQueryState(y.targetId,b?"current":"not-current")}if(_){l.push(_);const b=dg.As(y.targetId,_);c.push(b)}})))})),await Promise.all(d),a.Pu.H_(l),await(async function(y,_){const b=It(y);try{await b.persistence.runTransaction("notifyLocalViewChanges","readwrite",(S=>W.forEach(_,(O=>W.forEach(O.Es,(Q=>b.persistence.referenceDelegate.addReference(S,O.targetId,Q))).next((()=>W.forEach(O.ds,(Q=>b.persistence.referenceDelegate.removeReference(S,O.targetId,Q)))))))))}catch(S){if(!Xo(S))throw S;lt(mg,"Failed to update sequence numbers: "+S)}for(const S of _){const O=S.targetId;if(!S.fromCache){const Q=b.Ms.get(O),tt=Q.snapshotVersion,nt=Q.withLastLimboFreeSnapshotVersion(tt);b.Ms=b.Ms.insert(O,nt)}}})(a.localStore,c))}async function kC(r,t){const i=It(r);if(!i.currentUser.isEqual(t)){lt(bg,"User change. New user:",t.toKey());const a=await kE(i.localStore,t);i.currentUser=t,(function(c,d){c.mu.forEach((p=>{p.forEach((y=>{y.reject(new ut(Z.CANCELLED,d))}))})),c.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(t,a.removedBatchIds,a.addedBatchIds),await Su(i,a.Ls)}}function UC(r,t){const i=It(r),a=i.Au.get(t);if(a&&a.hu)return Bt().add(a.key);{let l=Bt();const c=i.Iu.get(t);if(!c)return l;for(const d of c){const p=i.Tu.get(d);l=l.unionWith(p.view.nu)}return l}}function ZE(r){const t=It(r);return t.remoteStore.remoteSyncer.applyRemoteEvent=KE.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=UC.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=DC.bind(null,t),t.Pu.H_=_C.bind(null,t.eventManager),t.Pu.yu=vC.bind(null,t.eventManager),t}function LC(r){const t=It(r);return t.remoteStore.remoteSyncer.applySuccessfulWrite=MC.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=OC.bind(null,t),t}class Sh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=jh(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,i){return null}Mu(t,i){return null}vu(t){return PI(this.persistence,new kI,t.initialUser,this.serializer)}Cu(t){return new VE(fg.mi,this.serializer)}Du(t){return new GI}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Sh.provider={build:()=>new Sh};class PC extends Sh{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,i){te(this.persistence.referenceDelegate instanceof Th,46915);const a=this.persistence.referenceDelegate.garbageCollector;return new EI(a,t.asyncQueue,i)}Cu(t){const i=this.cacheSizeBytes!==void 0?kn.withCacheSize(this.cacheSizeBytes):kn.DEFAULT;return new VE((a=>Th.mi(a,i)),this.serializer)}}class km{async initialize(t,i){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>Sv(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=kC.bind(null,this.syncEngine),await dC(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new gC})()}createDatastore(t){const i=jh(t.databaseInfo.databaseId),a=(function(c){return new $I(c)})(t.databaseInfo);return(function(c,d,p,y){return new tC(c,d,p,y)})(t.authCredentials,t.appCheckCredentials,a,i)}createRemoteStore(t){return(function(a,l,c,d,p){return new nC(a,l,c,d,p)})(this.localStore,this.datastore,t.asyncQueue,(i=>Sv(this.syncEngine,i,0)),(function(){return yv.v()?new yv:new QI})())}createSyncEngine(t,i){return(function(l,c,d,p,y,_,b){const S=new AC(l,c,d,p,y,_);return b&&(S.gu=!0),S})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const a=It(i);lt(Da,"RemoteStore shutting down."),a.Ea.add(5),await bu(a),a.Aa.shutdown(),a.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}km.provider={build:()=>new km};class zC{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):Dr("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,i){setTimeout((()=>{this.muted||t(i)}),0)}}const Vs="FirestoreClient";class jC{constructor(t,i,a,l,c){this.authCredentials=t,this.appCheckCredentials=i,this.asyncQueue=a,this.databaseInfo=l,this.user=pn.UNAUTHENTICATED,this.clientId=Wm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(a,(async d=>{lt(Vs,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(a,(d=>(lt(Vs,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Aa;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(i){const a=Eg(i,"Failed to shutdown persistence");t.reject(a)}})),t.promise}}async function am(r,t){r.asyncQueue.verifyOperationInProgress(),lt(Vs,"Initializing OfflineComponentProvider");const i=r.configuration;await t.initialize(i);let a=i.initialUser;r.setCredentialChangeListener((async l=>{a.isEqual(l)||(await kE(t.localStore,l),a=l)})),t.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=t}async function wv(r,t){r.asyncQueue.verifyOperationInProgress();const i=await BC(r);lt(Vs,"Initializing OnlineComponentProvider"),await t.initialize(i,r.configuration),r.setCredentialChangeListener((a=>vv(t.remoteStore,a))),r.setAppCheckTokenChangeListener(((a,l)=>vv(t.remoteStore,l))),r._onlineComponents=t}async function BC(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){lt(Vs,"Using user provided OfflineComponentProvider");try{await am(r,r._uninitializedComponentsProvider._offline)}catch(t){const i=t;if(!(function(l){return l.name==="FirebaseError"?l.code===Z.FAILED_PRECONDITION||l.code===Z.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11})(i))throw i;Po("Error using user provided cache. Falling back to memory cache: "+i),await am(r,new Sh)}}else lt(Vs,"Using default OfflineComponentProvider"),await am(r,new PC(void 0));return r._offlineComponents}async function WE(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(lt(Vs,"Using user provided OnlineComponentProvider"),await wv(r,r._uninitializedComponentsProvider._online)):(lt(Vs,"Using default OnlineComponentProvider"),await wv(r,new km))),r._onlineComponents}function qC(r){return WE(r).then((t=>t.syncEngine))}async function Rv(r){const t=await WE(r),i=t.eventManager;return i.onListen=wC.bind(null,t.syncEngine),i.onUnlisten=CC.bind(null,t.syncEngine),i.onFirstRemoteStoreListen=RC.bind(null,t.syncEngine),i.onLastRemoteStoreUnlisten=NC.bind(null,t.syncEngine),i}function tT(r){const t={};return r.timeoutSeconds!==void 0&&(t.timeoutSeconds=r.timeoutSeconds),t}const Iv=new Map;const eT="firestore.googleapis.com",Cv=!0;class Nv{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new ut(Z.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=eT,this.ssl=Cv}else this.host=t.host,this.ssl=t.ssl??Cv;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=OE;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<_I)throw new ut(Z.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}eR("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=tT(t.experimentalLongPollingOptions??{}),(function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new ut(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new ut(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new ut(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(a,l){return a.timeoutSeconds===l.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Hh{constructor(t,i,a,l){this._authCredentials=t,this._appCheckCredentials=i,this._databaseId=a,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Nv({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ut(Z.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new ut(Z.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Nv(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(a){if(!a)return new Gw;switch(a.type){case"firstParty":return new Xw(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new ut(Z.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const a=Iv.get(i);a&&(lt("ComponentProvider","Removing Datastore"),Iv.delete(i),a.terminate())})(this),Promise.resolve()}}function HC(r,t,i,a={}){r=Xi(r,Hh);const l=Fo(t),c=r._getSettings(),d={...c,emulatorOptions:r._getEmulatorOptions()},p=`${t}:${i}`;l&&(Wv(`https://${p}`),t1("Firestore",!0)),c.host!==eT&&c.host!==p&&Po("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const y={...c,host:p,ssl:l,emulatorOptions:a};if(!Ia(y,d)&&(r._setSettings(y),a.mockUserToken)){let _,b;if(typeof a.mockUserToken=="string")_=a.mockUserToken,b=pn.MOCK_USER;else{_=mS(a.mockUserToken,r._app?.options.projectId);const S=a.mockUserToken.sub||a.mockUserToken.user_id;if(!S)throw new ut(Z.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");b=new pn(S)}r._authCredentials=new Qw(new G1(_,b))}}class Jo{constructor(t,i,a){this.converter=i,this._query=a,this.type="query",this.firestore=t}withConverter(t){return new Jo(this.firestore,t,this._query)}}class Ve{constructor(t,i,a){this.converter=i,this._key=a,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Cs(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Ve(this.firestore,t,this._key)}toJSON(){return{type:Ve._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,i,a){if(_u(i,Ve._jsonSchema))return new Ve(t,a||null,new pt(fe.fromString(i.referencePath)))}}Ve._jsonSchemaVersion="firestore/documentReference/1.0",Ve._jsonSchema={type:Qe("string",Ve._jsonSchemaVersion),referencePath:Qe("string")};class Cs extends Jo{constructor(t,i,a){super(t,i,sg(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Ve(this.firestore,null,new pt(t))}withConverter(t){return new Cs(this.firestore,t,this._path)}}function om(r,t,...i){if(r=un(r),Q1("collection","path",t),r instanceof Hh){const a=fe.fromString(t,...i);return B0(a),new Cs(r,null,a)}{if(!(r instanceof Ve||r instanceof Cs))throw new ut(Z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=r._path.child(fe.fromString(t,...i));return B0(a),new Cs(r.firestore,null,a)}}function Ea(r,t,...i){if(r=un(r),arguments.length===1&&(t=Wm.newId()),Q1("doc","path",t),r instanceof Hh){const a=fe.fromString(t,...i);return j0(a),new Ve(r,null,new pt(a))}{if(!(r instanceof Ve||r instanceof Cs))throw new ut(Z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=r._path.child(fe.fromString(t,...i));return j0(a),new Ve(r.firestore,r instanceof Cs?r.converter:null,new pt(a))}}const xv="AsyncQueue";class Dv{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new LE(this,"async_queue_retry"),this._c=()=>{const a=sm();a&&lt(xv,"Visibility state changed to "+a.visibilityState),this.M_.w_()},this.ac=t;const i=sm();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const i=sm();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new Aa;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Xu.push(t),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!Xo(t))throw t;lt(xv,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const i=this.ac.then((()=>(this.rc=!0,t().catch((a=>{throw this.nc=a,this.rc=!1,Dr("INTERNAL UNHANDLED ERROR: ",Mv(a)),a})).then((a=>(this.rc=!1,a))))));return this.ac=i,i}enqueueAfterDelay(t,i,a){this.uc(),this.oc.indexOf(t)>-1&&(i=0);const l=vg.createAndSchedule(this,t,i,a,(c=>this.hc(c)));return this.tc.push(l),l}uc(){this.nc&&Et(47125,{Pc:Mv(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const i of this.tc)if(i.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((i,a)=>i.targetTimeMs-a.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),t!=="all"&&i.timerId===t)break;return this.Tc()}))}dc(t){this.oc.push(t)}hc(t){const i=this.tc.indexOf(t);this.tc.splice(i,1)}}function Mv(r){let t=r.message||"";return r.stack&&(t=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),t}function Ov(r){return(function(i,a){if(typeof i!="object"||i===null)return!1;const l=i;for(const c of a)if(c in l&&typeof l[c]=="function")return!0;return!1})(r,["next","error","complete"])}class Ma extends Hh{constructor(t,i,a,l){super(t,i,a,l),this.type="firestore",this._queue=new Dv,this._persistenceKey=l?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new Dv(t),this._firestoreClient=void 0,await t}}}function FC(r,t){const i=typeof r=="object"?r:r1(),a=typeof r=="string"?r:gh,l=Hm(i,"firestore").getImmediate({identifier:a});if(!l._initialized){const c=fS("firestore");c&&HC(l,...c)}return l}function nT(r){if(r._terminated)throw new ut(Z.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||GC(r),r._firestoreClient}function GC(r){const t=r._freezeSettings(),i=(function(l,c,d,p){return new fR(l,c,d,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,tT(p.experimentalLongPollingOptions),p.useFetchStreams,p.isUsingEmulator)})(r._databaseId,r._app?.options.appId||"",r._persistenceKey,t);r._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),r._firestoreClient=new jC(r._authCredentials,r._appCheckCredentials,r._queue,i,r._componentsProvider&&(function(l){const c=l?._online.build();return{_offline:l?._offline.build(c),_online:c}})(r._componentsProvider))}class mi{constructor(t){this._byteString=t}static fromBase64String(t){try{return new mi(cn.fromBase64String(t))}catch(i){throw new ut(Z.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(t){return new mi(cn.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:mi._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(_u(t,mi._jsonSchema))return mi.fromBase64String(t.bytes)}}mi._jsonSchemaVersion="firestore/bytes/1.0",mi._jsonSchema={type:Qe("string",mi._jsonSchemaVersion),bytes:Qe("string")};class Fh{constructor(...t){for(let i=0;i<t.length;++i)if(t[i].length===0)throw new ut(Z.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ln(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class Gh{constructor(t){this._methodName=t}}class Zi{constructor(t,i){if(!isFinite(t)||t<-90||t>90)throw new ut(Z.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(i)||i<-180||i>180)throw new ut(Z.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=t,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return jt(this._lat,t._lat)||jt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Zi._jsonSchemaVersion}}static fromJSON(t){if(_u(t,Zi._jsonSchema))return new Zi(t.latitude,t.longitude)}}Zi._jsonSchemaVersion="firestore/geoPoint/1.0",Zi._jsonSchema={type:Qe("string",Zi._jsonSchemaVersion),latitude:Qe("number"),longitude:Qe("number")};class Wi{constructor(t){this._values=(t||[]).map((i=>i))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(a,l){if(a.length!==l.length)return!1;for(let c=0;c<a.length;++c)if(a[c]!==l[c])return!1;return!0})(this._values,t._values)}toJSON(){return{type:Wi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(_u(t,Wi._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((i=>typeof i=="number")))return new Wi(t.vectorValues);throw new ut(Z.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Wi._jsonSchemaVersion="firestore/vectorValue/1.0",Wi._jsonSchema={type:Qe("string",Wi._jsonSchemaVersion),vectorValues:Qe("object")};const QC=/^__.*__$/;class YC{constructor(t,i,a){this.data=t,this.fieldMask=i,this.fieldTransforms=a}toMutation(t,i){return this.fieldMask!==null?new Us(t,this.data,this.fieldMask,i,this.fieldTransforms):new Eu(t,this.data,i,this.fieldTransforms)}}class iT{constructor(t,i,a){this.data=t,this.fieldMask=i,this.fieldTransforms=a}toMutation(t,i){return new Us(t,this.data,this.fieldMask,i,this.fieldTransforms)}}function rT(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Et(40011,{Ac:r})}}class Ag{constructor(t,i,a,l,c,d){this.settings=t,this.databaseId=i,this.serializer=a,this.ignoreUndefinedProperties=l,c===void 0&&this.Rc(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new Ag({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){const i=this.path?.child(t),a=this.Vc({path:i,fc:!1});return a.gc(t),a}yc(t){const i=this.path?.child(t),a=this.Vc({path:i,fc:!1});return a.Rc(),a}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return Ah(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find((i=>t.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>t.isPrefixOf(i.field)))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(rT(this.Ac)&&QC.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class KC{constructor(t,i,a){this.databaseId=t,this.ignoreUndefinedProperties=i,this.serializer=a||jh(t)}Cc(t,i,a,l=!1){return new Ag({Ac:t,methodName:i,Dc:a,path:ln.emptyPath(),fc:!1,bc:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Qh(r){const t=r._freezeSettings(),i=jh(r._databaseId);return new KC(r._databaseId,!!t.ignoreUndefinedProperties,i)}function sT(r,t,i,a,l,c={}){const d=r.Cc(c.merge||c.mergeFields?2:0,t,i,l);Rg("Data must be an object, but it was:",d,a);const p=aT(a,d);let y,_;if(c.merge)y=new Xn(d.fieldMask),_=d.fieldTransforms;else if(c.mergeFields){const b=[];for(const S of c.mergeFields){const O=Um(t,S,i);if(!d.contains(O))throw new ut(Z.INVALID_ARGUMENT,`Field '${O}' is specified in your field mask but missing from your input data.`);lT(b,O)||b.push(O)}y=new Xn(b),_=d.fieldTransforms.filter((S=>y.covers(S.field)))}else y=null,_=d.fieldTransforms;return new YC(new Un(p),y,_)}class Yh extends Gh{_toFieldTransform(t){if(t.Ac!==2)throw t.Ac===1?t.Sc(`${this._methodName}() can only appear at the top level of your update data`):t.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof Yh}}class wg extends Gh{_toFieldTransform(t){return new PR(t.path,new ou)}isEqual(t){return t instanceof wg}}function XC(r,t,i,a){const l=r.Cc(1,t,i);Rg("Data must be an object, but it was:",l,a);const c=[],d=Un.empty();ks(a,((y,_)=>{const b=Ig(t,y,i);_=un(_);const S=l.yc(b);if(_ instanceof Yh)c.push(b);else{const O=Au(_,S);O!=null&&(c.push(b),d.set(b,O))}}));const p=new Xn(c);return new iT(d,p,l.fieldTransforms)}function $C(r,t,i,a,l,c){const d=r.Cc(1,t,i),p=[Um(t,a,i)],y=[l];if(c.length%2!=0)throw new ut(Z.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let O=0;O<c.length;O+=2)p.push(Um(t,c[O])),y.push(c[O+1]);const _=[],b=Un.empty();for(let O=p.length-1;O>=0;--O)if(!lT(_,p[O])){const Q=p[O];let tt=y[O];tt=un(tt);const nt=d.yc(Q);if(tt instanceof Yh)_.push(Q);else{const et=Au(tt,nt);et!=null&&(_.push(Q),b.set(Q,et))}}const S=new Xn(_);return new iT(b,S,d.fieldTransforms)}function JC(r,t,i,a=!1){return Au(i,r.Cc(a?4:3,t))}function Au(r,t){if(oT(r=un(r)))return Rg("Unsupported field value:",t,r),aT(r,t);if(r instanceof Gh)return(function(a,l){if(!rT(l.Ac))throw l.Sc(`${a._methodName}() can only be used with update() and set()`);if(!l.path)throw l.Sc(`${a._methodName}() is not currently supported inside arrays`);const c=a._toFieldTransform(l);c&&l.fieldTransforms.push(c)})(r,t),null;if(r===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),r instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return(function(a,l){const c=[];let d=0;for(const p of a){let y=Au(p,l.wc(d));y==null&&(y={nullValue:"NULL_VALUE"}),c.push(y),d++}return{arrayValue:{values:c}}})(r,t)}return(function(a,l){if((a=un(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return kR(l.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const c=ye.fromDate(a);return{timestampValue:Eh(l.serializer,c)}}if(a instanceof ye){const c=new ye(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:Eh(l.serializer,c)}}if(a instanceof Zi)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof mi)return{bytesValue:RE(l.serializer,a._byteString)};if(a instanceof Ve){const c=l.databaseId,d=a.firestore._databaseId;if(!d.isEqual(c))throw l.Sc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:cg(a.firestore._databaseId||l.databaseId,a._key.path)}}if(a instanceof Wi)return(function(d,p){return{mapValue:{fields:{[eE]:{stringValue:nE},[ph]:{arrayValue:{values:d.toArray().map((_=>{if(typeof _!="number")throw p.Sc("VectorValues must only contain numeric values.");return ag(p.serializer,_)}))}}}}}})(a,l);throw l.Sc(`Unsupported field value: ${Dh(a)}`)})(r,t)}function aT(r,t){const i={};return X1(r)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):ks(r,((a,l)=>{const c=Au(l,t.mc(a));c!=null&&(i[a]=c)})),{mapValue:{fields:i}}}function oT(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof ye||r instanceof Zi||r instanceof mi||r instanceof Ve||r instanceof Gh||r instanceof Wi)}function Rg(r,t,i){if(!oT(i)||!Y1(i)){const a=Dh(i);throw a==="an object"?t.Sc(r+" a custom object"):t.Sc(r+" "+a)}}function Um(r,t,i){if((t=un(t))instanceof Fh)return t._internalPath;if(typeof t=="string")return Ig(r,t);throw Ah("Field path arguments must be of type string or ",r,!1,void 0,i)}const ZC=new RegExp("[~\\*/\\[\\]]");function Ig(r,t,i){if(t.search(ZC)>=0)throw Ah(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,i);try{return new Fh(...t.split("."))._internalPath}catch{throw Ah(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,i)}}function Ah(r,t,i,a,l){const c=a&&!a.isEmpty(),d=l!==void 0;let p=`Function ${t}() called with invalid data`;i&&(p+=" (via `toFirestore()`)"),p+=". ";let y="";return(c||d)&&(y+=" (found",c&&(y+=` in field ${a}`),d&&(y+=` in document ${l}`),y+=")"),new ut(Z.INVALID_ARGUMENT,p+r+y)}function lT(r,t){return r.some((i=>i.isEqual(t)))}class uT{constructor(t,i,a,l,c){this._firestore=t,this._userDataWriter=i,this._key=a,this._document=l,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new Ve(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new WC(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const i=this._document.data.field(cT("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i)}}}class WC extends uT{data(){return super.data()}}function cT(r,t){return typeof t=="string"?Ig(r,t):t instanceof Fh?t._internalPath:t._delegate._internalPath}function tN(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new ut(Z.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Cg{}class eN extends Cg{}function Vv(r,t,...i){let a=[];t instanceof Cg&&a.push(t),a=a.concat(i),(function(c){const d=c.filter((y=>y instanceof xg)).length,p=c.filter((y=>y instanceof Ng)).length;if(d>1||d>0&&p>0)throw new ut(Z.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(a);for(const l of a)r=l._apply(r);return r}class Ng extends eN{constructor(t,i,a){super(),this._field=t,this._op=i,this._value=a,this.type="where"}static _create(t,i,a){return new Ng(t,i,a)}_apply(t){const i=this._parse(t);return hT(t._query,i),new Jo(t.firestore,t.converter,wm(t._query,i))}_parse(t){const i=Qh(t.firestore);return(function(c,d,p,y,_,b,S){let O;if(_.isKeyField()){if(b==="array-contains"||b==="array-contains-any")throw new ut(Z.INVALID_ARGUMENT,`Invalid Query. You can't perform '${b}' queries on documentId().`);if(b==="in"||b==="not-in"){Uv(S,b);const tt=[];for(const nt of S)tt.push(kv(y,c,nt));O={arrayValue:{values:tt}}}else O=kv(y,c,S)}else b!=="in"&&b!=="not-in"&&b!=="array-contains-any"||Uv(S,b),O=JC(p,d,S,b==="in"||b==="not-in");return Ge.create(_,b,O)})(t._query,"where",i,t.firestore._databaseId,this._field,this._op,this._value)}}class xg extends Cg{constructor(t,i){super(),this.type=t,this._queryConstraints=i}static _create(t,i){return new xg(t,i)}_parse(t){const i=this._queryConstraints.map((a=>a._parse(t))).filter((a=>a.getFilters().length>0));return i.length===1?i[0]:Ci.create(i,this._getOperator())}_apply(t){const i=this._parse(t);return i.getFilters().length===0?t:((function(l,c){let d=l;const p=c.getFlattenedFilters();for(const y of p)hT(d,y),d=wm(d,y)})(t._query,i),new Jo(t.firestore,t.converter,wm(t._query,i)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function kv(r,t,i){if(typeof(i=un(i))=="string"){if(i==="")throw new ut(Z.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!cE(t)&&i.indexOf("/")!==-1)throw new ut(Z.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${i}' contains a '/' character.`);const a=t.path.child(fe.fromString(i));if(!pt.isDocumentKey(a))throw new ut(Z.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${a}' is not because it has an odd number of segments (${a.length}).`);return X0(r,new pt(a))}if(i instanceof Ve)return X0(r,i._key);throw new ut(Z.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Dh(i)}.`)}function Uv(r,t){if(!Array.isArray(r)||r.length===0)throw new ut(Z.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function hT(r,t){const i=(function(l,c){for(const d of l)for(const p of d.getFlattenedFilters())if(c.indexOf(p.op)>=0)return p.op;return null})(r.filters,(function(l){switch(l){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(t.op));if(i!==null)throw i===t.op?new ut(Z.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new ut(Z.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${i.toString()}' filters.`)}class nN{convertValue(t,i="none"){switch(Ms(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Oe(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,i);case 5:return t.stringValue;case 6:return this.convertBytes(Ds(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,i);case 11:return this.convertObject(t.mapValue,i);case 10:return this.convertVectorValue(t.mapValue);default:throw Et(62114,{value:t})}}convertObject(t,i){return this.convertObjectMap(t.fields,i)}convertObjectMap(t,i="none"){const a={};return ks(t,((l,c)=>{a[l]=this.convertValue(c,i)})),a}convertVectorValue(t){const i=t.fields?.[ph].arrayValue?.values?.map((a=>Oe(a.doubleValue)));return new Wi(i)}convertGeoPoint(t){return new Zi(Oe(t.latitude),Oe(t.longitude))}convertArray(t,i){return(t.values||[]).map((a=>this.convertValue(a,i)))}convertServerTimestamp(t,i){switch(i){case"previous":const a=Vh(t);return a==null?null:this.convertValue(a,i);case"estimate":return this.convertTimestamp(ru(t));default:return null}}convertTimestamp(t){const i=xs(t);return new ye(i.seconds,i.nanos)}convertDocumentKey(t,i){const a=fe.fromString(t);te(ME(a),9688,{name:t});const l=new su(a.get(1),a.get(3)),c=new pt(a.popFirst(5));return l.isEqual(i)||Dr(`Document ${c} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),c}}function fT(r,t,i){let a;return a=r?r.toFirestore(t):t,a}class Kl{constructor(t,i){this.hasPendingWrites=t,this.fromCache=i}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class wa extends uT{constructor(t,i,a,l,c,d){super(t,i,a,l,d),this._firestore=t,this._firestoreImpl=t,this.metadata=c}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const i=new rh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,i={}){if(this._document){const a=this._document.data.field(cT("DocumentSnapshot.get",t));if(a!==null)return this._userDataWriter.convertValue(a,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ut(Z.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,i={};return i.type=wa._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}wa._jsonSchemaVersion="firestore/documentSnapshot/1.0",wa._jsonSchema={type:Qe("string",wa._jsonSchemaVersion),bundleSource:Qe("string","DocumentSnapshot"),bundleName:Qe("string"),bundle:Qe("string")};class rh extends wa{data(t={}){return super.data(t)}}class ko{constructor(t,i,a,l){this._firestore=t,this._userDataWriter=i,this._snapshot=l,this.metadata=new Kl(l.hasPendingWrites,l.fromCache),this.query=a}get docs(){const t=[];return this.forEach((i=>t.push(i))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,i){this._snapshot.docs.forEach((a=>{t.call(i,new rh(this._firestore,this._userDataWriter,a.key,a,new Kl(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const i=!!t.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new ut(Z.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(l,c){if(l._snapshot.oldDocs.isEmpty()){let d=0;return l._snapshot.docChanges.map((p=>{const y=new rh(l._firestore,l._userDataWriter,p.doc.key,p.doc,new Kl(l._snapshot.mutatedKeys.has(p.doc.key),l._snapshot.fromCache),l.query.converter);return p.doc,{type:"added",doc:y,oldIndex:-1,newIndex:d++}}))}{let d=l._snapshot.oldDocs;return l._snapshot.docChanges.filter((p=>c||p.type!==3)).map((p=>{const y=new rh(l._firestore,l._userDataWriter,p.doc.key,p.doc,new Kl(l._snapshot.mutatedKeys.has(p.doc.key),l._snapshot.fromCache),l.query.converter);let _=-1,b=-1;return p.type!==0&&(_=d.indexOf(p.doc.key),d=d.delete(p.doc.key)),p.type!==1&&(d=d.add(p.doc),b=d.indexOf(p.doc.key)),{type:iN(p.type),doc:y,oldIndex:_,newIndex:b}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ut(Z.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=ko._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=Wm.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],a=[],l=[];return this.docs.forEach((c=>{c._document!==null&&(i.push(c._document),a.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),l.push(c.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function iN(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Et(61501,{type:r})}}ko._jsonSchemaVersion="firestore/querySnapshot/1.0",ko._jsonSchema={type:Qe("string",ko._jsonSchemaVersion),bundleSource:Qe("string","QuerySnapshot"),bundleName:Qe("string"),bundle:Qe("string")};class dT extends nN{constructor(t){super(),this.firestore=t}convertBytes(t){return new mi(t)}convertReference(t){const i=this.convertDocumentKey(t,this.firestore._databaseId);return new Ve(this.firestore,null,i)}}function rN(r,t,i){r=Xi(r,Ve);const a=Xi(r.firestore,Ma),l=fT(r.converter,t);return Kh(a,[sT(Qh(a),"setDoc",r._key,l,r.converter!==null,i).toMutation(r._key,gi.none())])}function Gc(r,t,i,...a){r=Xi(r,Ve);const l=Xi(r.firestore,Ma),c=Qh(l);let d;return d=typeof(t=un(t))=="string"||t instanceof Fh?$C(c,"updateDoc",r._key,t,i,a):XC(c,"updateDoc",r._key,t),Kh(l,[d.toMutation(r._key,gi.exists(!0))])}function sN(r){return Kh(Xi(r.firestore,Ma),[new og(r._key,gi.none())])}function aN(r,t){const i=Xi(r.firestore,Ma),a=Ea(r),l=fT(r.converter,t);return Kh(i,[sT(Qh(r.firestore),"addDoc",a._key,l,r.converter!==null,{}).toMutation(a._key,gi.exists(!1))]).then((()=>a))}function Lv(r,...t){r=un(r);let i={includeMetadataChanges:!1,source:"default"},a=0;typeof t[a]!="object"||Ov(t[a])||(i=t[a++]);const l={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(Ov(t[a])){const y=t[a];t[a]=y.next?.bind(y),t[a+1]=y.error?.bind(y),t[a+2]=y.complete?.bind(y)}let c,d,p;if(r instanceof Ve)d=Xi(r.firestore,Ma),p=sg(r._key.path),c={next:y=>{t[a]&&t[a](oN(d,r,y))},error:t[a+1],complete:t[a+2]};else{const y=Xi(r,Jo);d=Xi(y.firestore,Ma),p=y._query;const _=new dT(d);c={next:b=>{t[a]&&t[a](new ko(d,_,y,b))},error:t[a+1],complete:t[a+2]},tN(r._query)}return(function(_,b,S,O){const Q=new zC(O),tt=new EC(b,Q,S);return _.asyncQueue.enqueueAndForget((async()=>pC(await Rv(_),tt))),()=>{Q.Nu(),_.asyncQueue.enqueueAndForget((async()=>yC(await Rv(_),tt)))}})(nT(d),p,l,c)}function Kh(r,t){return(function(a,l){const c=new Aa;return a.asyncQueue.enqueueAndForget((async()=>xC(await qC(a),l,c))),c.promise})(nT(r),t)}function oN(r,t,i){const a=i.docs.get(t._key),l=new dT(r);return new wa(r,l,t._key,a,new Kl(i.hasPendingWrites,i.fromCache),t.converter)}function lN(){return new wg("serverTimestamp")}(function(t,i=!0){(function(l){Yo=l})(Go),Lo(new Ca("firestore",((a,{instanceIdentifier:l,options:c})=>{const d=a.getProvider("app").getImmediate(),p=new Ma(new Yw(a.getProvider("auth-internal")),new $w(d,a.getProvider("app-check-internal")),(function(_,b){if(!Object.prototype.hasOwnProperty.apply(_.options,["projectId"]))throw new ut(Z.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new su(_.options.projectId,b)})(d,l),d);return c={useFetchStreams:i,...c},p._setSettings(c),p}),"PUBLIC").setMultipleInstances(!0)),Rs(U0,L0,t),Rs(U0,L0,"esm2020")})();const uN=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),cN=r=>r.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,i,a)=>a?a.toUpperCase():i.toLowerCase()),Pv=r=>{const t=cN(r);return t.charAt(0).toUpperCase()+t.slice(1)},mT=(...r)=>r.filter((t,i,a)=>!!t&&t.trim()!==""&&a.indexOf(t)===i).join(" ").trim(),hN=r=>{for(const t in r)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};var fN={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const dN=at.forwardRef(({color:r="currentColor",size:t=24,strokeWidth:i=2,absoluteStrokeWidth:a,className:l="",children:c,iconNode:d,...p},y)=>at.createElement("svg",{ref:y,...fN,width:t,height:t,stroke:r,strokeWidth:a?Number(i)*24/Number(t):i,className:mT("lucide",l),...!c&&!hN(p)&&{"aria-hidden":"true"},...p},[...d.map(([_,b])=>at.createElement(_,b)),...Array.isArray(c)?c:[c]]));const qt=(r,t)=>{const i=at.forwardRef(({className:a,...l},c)=>at.createElement(dN,{ref:c,iconNode:t,className:mT(`lucide-${uN(Pv(r))}`,`lucide-${r}`,a),...l}));return i.displayName=Pv(r),i};const mN=[["path",{d:"M12 6v16",key:"nqf5sj"}],["path",{d:"m19 13 2-1a9 9 0 0 1-18 0l2 1",key:"y7qv08"}],["path",{d:"M9 11h6",key:"1fldmi"}],["circle",{cx:"12",cy:"4",r:"2",key:"muu5ef"}]],gN=qt("anchor",mN);const pN=[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]],lm=qt("bot",pN);const yN=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],um=qt("briefcase",yN);const _N=[["path",{d:"M12 20v-9",key:"1qisl0"}],["path",{d:"M14 7a4 4 0 0 1 4 4v3a6 6 0 0 1-12 0v-3a4 4 0 0 1 4-4z",key:"uouzyp"}],["path",{d:"M14.12 3.88 16 2",key:"qol33r"}],["path",{d:"M21 21a4 4 0 0 0-3.81-4",key:"1b0z45"}],["path",{d:"M21 5a4 4 0 0 1-3.55 3.97",key:"5cxbf6"}],["path",{d:"M22 13h-4",key:"1jl80f"}],["path",{d:"M3 21a4 4 0 0 1 3.81-4",key:"1fjd4g"}],["path",{d:"M3 5a4 4 0 0 0 3.55 3.97",key:"1d7oge"}],["path",{d:"M6 13H2",key:"82j7cp"}],["path",{d:"m8 2 1.88 1.88",key:"fmnt4t"}],["path",{d:"M9 7.13V6a3 3 0 1 1 6 0v1.13",key:"1vgav8"}]],vN=qt("bug",_N);const EN=[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],Lm=qt("camera",EN);const TN=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],bN=qt("chevron-down",TN);const SN=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],AN=qt("chevron-right",SN);const wN=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}]],sh=qt("circle-dot",wN);const RN=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],zv=qt("crown",RN);const IN=[["path",{d:"M11 20H2",key:"nlcfvz"}],["path",{d:"M11 4.562v16.157a1 1 0 0 0 1.242.97L19 20V5.562a2 2 0 0 0-1.515-1.94l-4-1A2 2 0 0 0 11 4.561z",key:"au4z13"}],["path",{d:"M11 4H8a2 2 0 0 0-2 2v14",key:"74r1mk"}],["path",{d:"M14 12h.01",key:"1jfl7z"}],["path",{d:"M22 20h-3",key:"vhrsz"}]],CN=qt("door-open",IN);const NN=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],xN=qt("eye-off",NN);const DN=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],MN=qt("eye",DN);const ON=[["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}],["path",{d:"M12 16.5A4.5 4.5 0 1 1 7.5 12 4.5 4.5 0 1 1 12 7.5a4.5 4.5 0 1 1 4.5 4.5 4.5 4.5 0 1 1-4.5 4.5",key:"14wa3c"}],["path",{d:"M12 7.5V9",key:"1oy5b0"}],["path",{d:"M7.5 12H9",key:"eltsq1"}],["path",{d:"M16.5 12H15",key:"vk5kw4"}],["path",{d:"M12 16.5V15",key:"k7eayi"}],["path",{d:"m8 8 1.88 1.88",key:"nxy4qf"}],["path",{d:"M14.12 9.88 16 8",key:"1lst6k"}],["path",{d:"m8 16 1.88-1.88",key:"h2eex1"}],["path",{d:"M14.12 14.12 16 16",key:"uqkrx3"}]],Qc=qt("flower",ON);const VN=[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]],kN=qt("heart",VN);const UN=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],gT=qt("image",UN);const LN=[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]],jv=qt("key",LN);const PN=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],zN=qt("layers",PN);const jN=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],Uo=qt("map-pin",jN);const BN=[["path",{d:"M12 2v20",key:"t6zp3m"}],["path",{d:"m15 19-3 3-3-3",key:"11eu04"}],["path",{d:"m19 9 3 3-3 3",key:"1mg7y2"}],["path",{d:"M2 12h20",key:"9i4pu4"}],["path",{d:"m5 9-3 3 3 3",key:"j64kie"}],["path",{d:"m9 5 3-3 3 3",key:"l8vdw6"}]],qN=qt("move",BN);const HN=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],Hl=qt("package",HN);const FN=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],GN=qt("plus",FN);const QN=[["path",{d:"M16.247 7.761a6 6 0 0 1 0 8.478",key:"1fwjs5"}],["path",{d:"M19.075 4.933a10 10 0 0 1 0 14.134",key:"ehdyv1"}],["path",{d:"M4.925 19.067a10 10 0 0 1 0-14.134",key:"1q22gi"}],["path",{d:"M7.753 16.239a6 6 0 0 1 0-8.478",key:"r2q7qm"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],Bv=qt("radio",QN);const YN=[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]],KN=qt("rocket",YN);const XN=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M14 15H9v-5",key:"pi4jk9"}],["path",{d:"M16 3h5v5",key:"1806ms"}],["path",{d:"M21 3 9 15",key:"15kdhq"}]],$N=qt("scaling",XN);const JN=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],ZN=qt("search",JN);const WN=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],t4=qt("settings",WN);const e4=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]],wh=qt("shield-alert",e4);const n4=[["path",{d:"m12.5 17-.5-1-.5 1h1z",key:"3me087"}],["path",{d:"M15 22a1 1 0 0 0 1-1v-1a2 2 0 0 0 1.56-3.25 8 8 0 1 0-11.12 0A2 2 0 0 0 8 20v1a1 1 0 0 0 1 1z",key:"1o5pge"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}]],i4=qt("skull",n4);const r4=[["path",{d:"M14 9.536V7a4 4 0 0 1 4-4h1.5a.5.5 0 0 1 .5.5V5a4 4 0 0 1-4 4 4 4 0 0 0-4 4c0 2 1 3 1 5a5 5 0 0 1-1 3",key:"139s4v"}],["path",{d:"M4 9a5 5 0 0 1 8 4 5 5 0 0 1-8-4",key:"1dlkgp"}],["path",{d:"M5 21h14",key:"11awu3"}]],qv=qt("sprout",r4);const s4=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]],a4=qt("square-plus",s4);const o4=[["path",{d:"M3.5 21 14 3",key:"1szst5"}],["path",{d:"M20.5 21 10 3",key:"1310c3"}],["path",{d:"M15.5 21 12 15l-3.5 6",key:"1ddtfw"}],["path",{d:"M2 21h20",key:"1nyx9w"}]],l4=qt("tent",o4);const u4=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],c4=qt("trash-2",u4);const h4=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],Rh=qt("upload",h4);const f4=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],d4=qt("user",f4);const m4=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Pm=qt("x",m4);const g4=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],Hv=qt("zap",g4),cm=typeof globalThis<"u"&&typeof globalThis.__firebase_config<"u"?globalThis.__firebase_config:"{}";let cu={};try{cu=typeof cm=="string"?JSON.parse(cm):cm||{}}catch(r){console.warn("Failed to parse __firebase_config, falling back to empty config.",r),cu={}}const p4=!!(cu&&cu.apiKey),y4=typeof globalThis<"u"&&typeof globalThis.__disable_firebase<"u"?!!globalThis.__disable_firebase:!1;let Yc=null,Ta=null,Vn=null,zm=!1;if(p4&&!y4)try{Yc=i1(cu),Ta=Hw(Yc),Vn=FC(Yc),zm=!!(Yc&&Ta&&Vn)}catch(r){console.warn("Firebase init failed, running in local mode instead.",r),zm=!1}const Kc=zm,Sr=typeof globalThis<"u"&&typeof globalThis.__app_id<"u"?globalThis.__app_id:"default-app",wo=r=>`./maps/${r}`,Ri={dam:{id:"dam",name:"",width:2e3,height:2e3,defaultUrl:wo("dam.jpg"),bgColor:"#1a1d21",gridColor:"#2a2e33"},spaceport:{id:"spaceport",name:"",width:2400,height:1600,defaultUrl:wo("spaceport.jpg"),bgColor:"#161b22",gridColor:"#1f2937"},buried:{id:"buried",name:"",width:2e3,height:2e3,defaultUrl:wo("buried.jpg"),bgColor:"#1f1a16",gridColor:"#332b25"},bluegate:{id:"bluegate",name:"",width:2400,height:1600,defaultUrl:wo("bluegate.jpg"),bgColor:"#1e293b",gridColor:"#334155"},stella:{id:"stella",name:"",width:2400,height:1600,bgColor:"#0f172a",gridColor:"#1e293b",layers:[{id:"upper",name:" ()",defaultUrl:wo("stella_upper.jpg")},{id:"lower",name:" ()",defaultUrl:wo("stella_lower.jpg")}]}},ba={containers:{label:"",color:"#f59e0b"},arc:{label:"",color:"#ef4444"},nature:{label:"",color:"#10b981"},events:{label:"",color:"#a855f7"},others:{label:"",color:"#3b82f6"}},_4={weapon_case:{id:"weapon_case",cat:"containers",label:"",icon:um},med_bag:{id:"med_bag",cat:"containers",label:"",icon:a4},grenade_tube:{id:"grenade_tube",cat:"containers",label:"",icon:sh},ammo_crate:{id:"ammo_crate",cat:"containers",label:"",icon:Hl},backpack:{id:"backpack",cat:"containers",label:"",icon:um},security_lockbox:{id:"security_lockbox",cat:"containers",label:"",icon:jv},baron_husk:{id:"baron_husk",cat:"containers",label:"",icon:i4},rocketeer_husk:{id:"rocketeer_husk",cat:"containers",label:"",icon:KN},wasp_husk:{id:"wasp_husk",cat:"containers",label:"",icon:sh},arc_courier:{id:"arc_courier",cat:"containers",label:"ARC",icon:Hl},crashed_probe:{id:"crashed_probe",cat:"containers",label:"",icon:Bv},tick:{id:"tick",cat:"arc",label:"",icon:vN},pop:{id:"pop",cat:"arc",label:"",icon:sh},fireball:{id:"fireball",cat:"arc",label:"",icon:Hv},surveyor:{id:"surveyor",cat:"arc",label:"arc",icon:MN},sentinel:{id:"sentinel",cat:"arc",label:"",icon:wh},rocketeer_arc:{id:"rocketeer_arc",cat:"arc",label:"",icon:lm},leaper:{id:"leaper",cat:"arc",label:"Leaper",icon:lm},bombardier:{id:"bombardier",cat:"arc",label:"",icon:lm},bastion:{id:"bastion",cat:"arc",label:"",icon:wh},queen:{id:"queen",cat:"arc",label:"",icon:zv},matriarch:{id:"matriarch",cat:"arc",label:"",icon:zv},mushrooms:{id:"mushrooms",cat:"nature",label:"",icon:qv},great_mullein:{id:"great_mullein",cat:"nature",label:"",icon:Qc},agave:{id:"agave",cat:"nature",label:"",icon:Qc},apricot_tree:{id:"apricot_tree",cat:"nature",label:"",icon:Qc},prickly_pear:{id:"prickly_pear",cat:"nature",label:"",icon:Qc},moss:{id:"moss",cat:"nature",label:"",icon:qv},harvester:{id:"harvester",cat:"events",label:"",icon:Hv},raider_cache:{id:"raider_cache",cat:"events",label:"",icon:Hl},wicker_basket:{id:"wicker_basket",cat:"events",label:"",icon:Hl},elevator:{id:"elevator",cat:"others",label:"",icon:gN},hatch:{id:"hatch",cat:"others",label:"",icon:CN},supply_call:{id:"supply_call",cat:"others",label:"",icon:Bv},raider_camp:{id:"raider_camp",cat:"others",label:"",icon:l4},field_depot:{id:"field_depot",cat:"others",label:"",icon:um},player_spawn:{id:"player_spawn",cat:"others",label:"",icon:d4},quest:{id:"quest",cat:"others",label:"",icon:Uo},locked_room:{id:"locked_room",cat:"others",label:"",icon:jv},field_crate:{id:"field_crate",cat:"others",label:"",icon:Hl},custom_pin:{id:"custom_pin",cat:"others",label:"",icon:Uo}},Fv={id:"unknown",cat:"others",label:"",icon:sh},Ra={weapon_case:"/icon/weapon_case.svg",med_bag:"/icon/med_bag.svg",grenade_tube:"/icon/grenade_tube.svg",ammo_crate:"/icon/ammo_crate.svg",backpack:"/icon/backpack.svg",security_lockbox:"/icon/security_locker.svg",baron_husk:"/icon/baron_husk.svg",rocketeer_husk:"/icon/rocketeer_husk.svg",wasp_husk:"/icon/wasp_husk.svg",arc_courier:"/icon/arc_courier.svg",crashed_probe:"/icon/crashed_probe.svg",tick:"/icon/tick.svg",pop:"/icon/pop.svg",fireball:"/icon/fireball.svg",surveyor:"/icon/surveyor.svg",sentinel:"/icon/sentinel.svg",rocketeer_arc:"/icon/rocketeer.svg",leaper:"/icon/leaper.svg",bombardier:"/icon/bombardier.svg",bastion:"/icon/bastion.svg",queen:"/icon/queen.svg",matriarch:"/icon/apricot_tree.svg",mushrooms:"/icon/mushrooms.svg",great_mullein:"/icon/great_mullein.svg",agave:"/icon/agave.svg",apricot_tree:"/icon/apricot_tree.svg",prickly_pear:"/icon/prickly_pear.svg",moss:"/icon/moss.svg",harvester:"/icon/harvester.svg",raider_cache:"/icon/raider_cache.svg",wicker_basket:"/icon/wicker_basket.svg",elevator:"/icon/elevator.svg",hatch:"/icon/hatch.svg",supply_call:"/icon/supply_call_station.svg",raider_camp:"/icon/raider_camp.svg",field_depot:"/icon/field_depot.svg",player_spawn:"/icon/player_spawn.svg",quest:"/icon/quest.svg",locked_room:"/icon/locked_room.svg",field_crate:"/icon/field_crate.svg",custom_pin:"/icon/field_crate.svg"},v4="./";Object.keys(Ra).forEach(r=>{const t=Ra[r];if(typeof t=="string"&&t.startsWith("/")){const i=t.replace(/^\//,"");Ra[r]=`${v4}${i}`}});const E4=new Set(Object.values(Ra)),Fl=(r,t="")=>`data:image/svg+xml;utf8,${encodeURIComponent(`<svg xmlns="http://www.w3.org/2000/svg" width="64" height="64" viewBox="0 0 64 64"><rect width="64" height="64" rx="12" fill="${r}"/><text x="50%" y="54%" text-anchor="middle" font-size="28" fill="#0f172a" font-family="Arial, sans-serif" font-weight="700">${t}</text></svg>`)}`,T4=[{id:"preset-orange",label:"",dataUrl:Fl("#fb923c","P")},{id:"preset-blue",label:"",dataUrl:Fl("#60a5fa","P")},{id:"preset-green",label:"",dataUrl:Fl("#34d399","P")},{id:"preset-purple",label:"",dataUrl:Fl("#c084fc","P")},{id:"preset-gray",label:"",dataUrl:Fl("#9ca3af","P")}],Gv=()=>Math.random().toString(36).substring(2,8).toUpperCase(),Ih=(r,t=600)=>new Promise((i,a)=>{const l=new FileReader;l.readAsDataURL(r),l.onload=c=>{const d=new Image;d.src=c.target.result,d.onload=()=>{const p=document.createElement("canvas"),y=t/d.width;p.width=t,p.height=d.height*y,p.getContext("2d").drawImage(d,0,0,p.width,p.height),i(p.toDataURL("image/jpeg",.7))},d.onerror=a},l.onerror=a}),b4=({config:r,onUpload:t})=>V.jsx("div",{className:"w-full h-full absolute top-0 left-0 flex flex-col items-center justify-center",style:{backgroundColor:r.bgColor,backgroundImage:`
        linear-gradient(${r.gridColor} 1px, transparent 1px),
        linear-gradient(90deg, ${r.gridColor} 1px, transparent 1px)
      `,backgroundSize:"100px 100px"},children:V.jsxs("div",{className:"text-center p-6 bg-black/50 backdrop-blur rounded-xl border border-gray-700",children:[V.jsx(gT,{size:48,className:"mx-auto text-gray-500 mb-4"}),V.jsx("p",{className:"text-gray-300 font-bold mb-2",children:"NO MAP IMAGE"}),V.jsx("p",{className:"text-gray-500 text-sm mb-4 max-w-xs",children:""}),V.jsxs("button",{onClick:t,className:"bg-orange-600 hover:bg-orange-500 text-white px-4 py-2 rounded flex items-center gap-2 mx-auto transition-colors",children:[V.jsx(Rh,{size:16}),""]})]})}),S4=({pin:r,markerDef:t,onClose:i,onUpdateImage:a,onUpdateIcon:l,onDelete:c,onMark:d})=>{const p=at.useRef(null),y=at.useRef(null),_=ba[t.cat]||ba.others,b=async O=>{const Q=O.target.files[0];if(Q)try{const tt=await Ih(Q);a(r.id,tt)}catch(tt){console.error("Image upload failed",tt),alert("")}},S=async O=>{const Q=O.target.files[0];if(!(!Q||!l))try{const tt=await Ih(Q,128);l(r.id,tt)}catch(tt){console.error("Icon upload failed",tt),alert("")}};return V.jsxs("div",{className:"absolute z-[100] bg-gray-900 text-white rounded-lg shadow-2xl border border-gray-700 w-72 overflow-hidden",style:{top:"50%",left:"50%",transform:"translate(-50%, -50%)"},onClick:O=>O.stopPropagation(),children:[V.jsxs("div",{className:"relative h-40 bg-gray-800 flex items-center justify-center overflow-hidden group",children:[r.imageUrl?V.jsx("img",{src:r.imageUrl,alt:"Pin Attachment",className:"w-full h-full object-cover"}):V.jsxs("div",{className:"flex flex-col items-center text-gray-500",children:[V.jsx(Lm,{size:32,className:"mb-2 opacity-50"}),V.jsx("span",{className:"text-xs",children:"No Image"})]}),V.jsx("div",{className:"absolute inset-0 bg-black/60 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center cursor-pointer",onClick:()=>p.current?.click(),children:V.jsxs("div",{className:"text-center",children:[V.jsx(Rh,{className:"mx-auto mb-1 text-white",size:24}),V.jsx("span",{className:"text-xs font-bold text-white",children:"/"})]})}),V.jsx("input",{type:"file",ref:p,className:"hidden",accept:"image/*",onChange:b}),V.jsx("input",{type:"file",ref:y,className:"hidden",accept:"image/*",onChange:S})]}),V.jsxs("div",{className:"p-4",children:[V.jsxs("div",{className:"flex justify-between items-start mb-2",children:[V.jsxs("div",{children:[V.jsxs("div",{className:"flex items-center gap-2 text-orange-400 text-xs font-bold uppercase mb-0.5",children:[V.jsx(t.icon,{size:12,color:_.color}),_.label]}),V.jsx("h3",{className:"text-lg font-bold leading-tight",children:t.label})]}),V.jsx("button",{onClick:i,className:"text-gray-400 hover:text-white",children:V.jsx(Pm,{size:20})})]}),V.jsxs("div",{className:"text-xs text-gray-500 mb-4",children:[": ",V.jsx("span",{className:"text-gray-300 font-semibold",children:r.createdByName||""})," ",V.jsxs("span",{className:"ml-2 text-gray-600",children:["ID: ",r.id.slice(0,6),""]})]}),V.jsxs("div",{className:"flex gap-2 mb-2",children:[V.jsxs("button",{onClick:()=>y.current?.click(),className:"flex-1 bg-gray-700 hover:bg-gray-600 text-white text-xs font-bold py-2 rounded transition-colors flex items-center justify-center gap-2",children:[V.jsx(Lm,{size:14}),""]}),V.jsxs("button",{onClick:()=>p.current?.click(),className:"flex-1 bg-gray-700 hover:bg-gray-600 text-white text-xs font-bold py-2 rounded transition-colors flex items-center justify-center gap-2",children:[V.jsx(Rh,{size:14}),""]})]}),V.jsxs("div",{className:"flex gap-2",children:[V.jsxs("button",{onClick:()=>d?.(r.id),className:"flex-1 bg-gray-700 hover:bg-gray-600 text-white text-xs font-bold py-2 rounded transition-colors flex items-center justify-center gap-2",children:[V.jsx(Uo,{size:14}),""]}),V.jsx("button",{onClick:()=>c(r.id),className:"bg-red-900/50 hover:bg-red-900 text-red-200 p-2 rounded transition-colors",title:"",children:V.jsx(c4,{size:16})})]})]})]})};function A4(){const[r,t]=at.useState(null),[i,a]=at.useState(null),[l,c]=at.useState("dam"),[d,p]=at.useState(null),[y,_]=at.useState({}),[b,S]=at.useState([]),[O,Q]=at.useState([]),[tt,nt]=at.useState(null),[et,yt]=at.useState([]),[wt,_t]=at.useState({}),[Ot,Xt]=at.useState({}),[Mt,N]=at.useState([]),[A,C]=at.useState(null),[k,x]=at.useState(!1),[L,w]=at.useState(null),[ie,Te]=at.useState(""),[G,rt]=at.useState(null),[mt,Ut]=at.useState([]),[Ht,M]=at.useState(""),[X,st]=at.useState(!1),[ot,Tt]=at.useState([]),[Ct,Ft]=at.useState(""),[ke,de]=at.useState(""),[Vr,Ls]=at.useState("#7dd3fc"),[Ps,zs]=at.useState(""),[Ue,Ln]=at.useState("move"),[Ie,er]=at.useState({x:0,y:0,scale:.4}),[kr,be]=at.useState(1),[Ce,$n]=at.useState(!1),[js,Bs]=at.useState(!1),[$e,nr]=at.useState({x:0,y:0}),[qs,Ur]=at.useState(!1),[hn,ka]=at.useState(""),[Ni,Lr]=at.useState(i?"shared":"local"),[Hs,vn]=at.useState(i||""),[Ye,En]=at.useState("map"),[me,Fs]=at.useState({}),[Pr,zr]=at.useState({}),ce=Ni==="shared"&&i?"shared":"local",Tn=ce==="shared"?b:O,he=(R,F=ce)=>{F==="shared"?S(J=>typeof R=="function"?R(J):R):Q(J=>typeof R=="function"?R(J):R)},Le=at.useMemo(()=>Kc&&!!i,[i]),[Pn,zn]=at.useState({containers:!0,arc:!0,others:!0,nature:!0,events:!0}),[Ua,La]=at.useState("");Ot.custom_pin,at.useMemo(()=>{const R={...ba};return ot.forEach(F=>{R[F.id]={label:F.label,color:F.color||"#6b7280"}}),R},[ot]);const Pe=at.useMemo(()=>{const R={..._4};return Mt.forEach(F=>{R[F.id]={...F,icon:Uo}}),R},[Mt]),xi=[...mt,...T4],Pa=R=>wt[R]!==!1,ir=at.useMemo(()=>{const R={};return Tn.forEach(F=>{F.mapId!==l||Ri[l].layers&&F.layerId!==d||(R[F.type]=(R[F.type]||0)+1)}),R},[Tn,l,d]),jr=at.useRef(null),Br=at.useRef(null),Di=at.useRef(null),Jn=at.useRef(null),Gs=at.useRef(null);at.useEffect(()=>{const R=localStorage.getItem("tactical_display_name");R&&ka(R)},[]),at.useEffect(()=>{!Ht&&Object.keys(Pe).length>0&&M(Object.keys(Pe)[0])},[Pe,Ht]),at.useEffect(()=>{hn&&localStorage.setItem("tactical_display_name",hn)},[hn]),at.useEffect(()=>{const R=localStorage.getItem("tactical_custom_markers");if(R)try{const F=JSON.parse(R);Array.isArray(F)&&N(F)}catch(F){console.warn("Failed to parse stored custom markers",F)}},[]),at.useEffect(()=>{localStorage.setItem("tactical_custom_markers",JSON.stringify(Mt||[]))},[Mt]),at.useEffect(()=>{if(!et.length)return;const R=new Set(Tn.map(F=>F.id));yt(F=>F.filter(J=>R.has(J)))},[Tn,et]),at.useEffect(()=>{const R=localStorage.getItem("tactical_user_icon_library");if(R)try{const F=JSON.parse(R);Array.isArray(F)&&Ut(F)}catch(F){console.warn("Failed to parse stored icon library",F)}},[]),at.useEffect(()=>{localStorage.setItem("tactical_user_icon_library",JSON.stringify(mt||[]))},[mt]),at.useEffect(()=>{const R=localStorage.getItem("tactical_marker_icons");if(R)try{const F=JSON.parse(R);if(F&&typeof F=="object"){const J={...Ra};Object.entries(F).forEach(([ht,ft])=>{if(!ft)return;const bt=typeof ft=="string"&&ft.startsWith("data:"),re=typeof ft=="string"&&ft.startsWith("http"),Sn=typeof ft=="string"&&E4.has(ft);ft.startsWith("/icon/")&&!Sn||(bt||re||Sn)&&(J[ht]=ft)}),Xt(J);return}}catch(F){console.warn("Failed to parse stored marker icons",F)}Xt(Ra)},[]),at.useEffect(()=>{localStorage.setItem("tactical_marker_icons",JSON.stringify(Ot||{}))},[Ot]),at.useEffect(()=>{if((async()=>{if(!Kc){t({uid:"local-demo"});return}try{typeof __initial_auth_token<"u"&&__initial_auth_token?await N2(Ta,__initial_auth_token):await A2(Ta)}catch(J){console.error("Auth error:",J)}})(),!Kc)return;const F=M2(Ta,t);return()=>F()},[]),at.useEffect(()=>{const R=new URLSearchParams(window.location.search),F=R.get("room"),J=R.get("map"),ht=R.get("view");a(F||null),Lr(F?"shared":"local"),vn(F||""),J&&Ri[J]&&c(J),ht==="list"&&En("list");const ft=localStorage.getItem("tactical_local_pins");if(ft)try{const re=JSON.parse(ft);Array.isArray(re)&&Q(re)}catch(re){console.warn("Failed to parse local pins",re)}const bt=localStorage.getItem("tactical_local_map_meta");if(bt)try{const re=JSON.parse(bt);re&&typeof re=="object"&&Fs(re)}catch(re){console.warn("Failed to parse local map meta",re)}},[]),at.useEffect(()=>{const R=Ri[l];R.layers&&R.layers.length>0?p(R.layers[0].id):p(null),ei();const F=new URLSearchParams(window.location.search);F.set("map",l),i&&F.set("room",i);const J=`${window.location.pathname}?${F.toString()}`;window.history.replaceState({},"",J)},[l]),at.useEffect(()=>{localStorage.setItem("tactical_local_pins",JSON.stringify(O||[]))},[O]),at.useEffect(()=>{localStorage.setItem("tactical_local_map_meta",JSON.stringify(me||{}))},[me]),at.useEffect(()=>{if(!Le||ce!=="shared"||!Ta||!Vn||!r)return;const R=`${i}_pins`,F=Vv(om(Vn,"artifacts",Sr,"public","data",R)),J=Lv(F,ht=>{const ft=ht.docs.map(bt=>({id:bt.id,...bt.data()}));S(ft)},ht=>console.error(ht));return()=>J()},[r,i]),at.useEffect(()=>{if(!Le||ce!=="shared"||!Ta||!Vn||!r)return;const R=`${i}_mapmeta`,F=Vv(om(Vn,"artifacts",Sr,"public","data",R)),J=Lv(F,ht=>{const ft={};ht.docs.forEach(bt=>{ft[bt.id]=bt.data()}),zr(ft)},ht=>console.error(ht));return()=>J()},[r,i,ce,Le]);const jn=R=>{const F=R.target.files[0];if(!F)return;const J=URL.createObjectURL(F),ht=d?`${l}_${d}`:l;_(ft=>({...ft,[ht]:J}))},Rn=()=>Di.current?.click(),Se=async R=>{const F=R.target.files?.[0];if(!(!F||!A))try{const J=await Ih(F,128);Xt(ht=>({...ht,[A]:J})),In(J)}catch(J){console.error("Icon upload failed",J),alert("Icon image could not be loaded.")}finally{R.target.value="",C(null)}},ze=(R="custom_pin")=>{C(R),Jn.current?.click()},In=R=>{R&&Ut(F=>{if(F.some(ht=>ht.dataUrl===R))return F;const J=`user_${F.length+1}_${Date.now().toString(36)}`;return[...F,{id:J,label:"My Icon",dataUrl:R}]})},qr=async R=>{const F=Ra[R];if(F){if(st(!0),Xt(J=>({...J,[R]:F})),he(J=>J.map(ht=>ht.type===R?{...ht,iconUrl:F}:ht)),Le&&i){const J=`${i}_pins`,ht=Tn.filter(ft=>ft.type===R);await Promise.allSettled(ht.map(ft=>Gc(Ea(Vn,"artifacts",Sr,"public","data",J,ft.id),{iconUrl:F})))}st(!1)}},Zo=R=>{w(R),Te(""),rt(Ot.custom_pin||xi[0]?.dataUrl||null),x(!0)},za=async R=>{const F=R.target.files?.[0];if(F)try{const J=await Ih(F,128);rt(J),In(J)}catch(J){console.error("Marker icon upload failed",J),alert("")}finally{R.target.value=""}},ja=()=>{if(!ie.trim()||!L){alert("");return}const R=`custom_${Date.now().toString(36)}`,F={id:R,label:ie.trim(),cat:L};N(J=>[...J,F]),G&&Xt(J=>({...J,[R]:G})),Ln(R),x(!1)},Bn=(R,F)=>{const J=Math.min(Math.max(.2,R),5),ht=F?.x??window.innerWidth/2,ft=F?.y??window.innerHeight/2,bt=(ht-Ie.x)/Ie.scale,re=(ft-Ie.y)/Ie.scale,Sn=ht-bt*J,tn=ft-re*J;er({x:Sn,y:tn,scale:J})},rr=R=>{R.preventDefault(),R.stopPropagation(),(R.ctrlKey||R.metaKey)&&R.preventDefault();const J=Ie.scale-R.deltaY*.001;Bn(J,{x:R.clientX,y:R.clientY})};at.useEffect(()=>{const R=Br.current;if(R)return R.addEventListener("wheel",rr,{passive:!1}),()=>R.removeEventListener("wheel",rr)});const Zn=R=>{(R.button===1||Ue==="move")&&(Bs(!0),nr({x:R.clientX-Ie.x,y:R.clientY-Ie.y}))},Cn=R=>{js&&er(F=>({...F,x:R.clientX-$e.x,y:R.clientY-$e.y}))},fn=()=>Bs(!1),Wn=async R=>{if(js||ce==="shared"&&!r)return;if(tt){nt(null);return}if(Ue==="move")return;const F=jr.current.getBoundingClientRect(),J=(R.clientX-F.left)/Ie.scale,ht=(R.clientY-F.top)/Ie.scale,ft=Ri[l];if(!(J<0||ht<0||J>ft.width||ht>ft.height)){if(!Le||ce==="local"){const bt=`local-${Date.now()}-${Math.random().toString(36).slice(2,8)}`;he(re=>[...re,{id:bt,mapId:l,layerId:d,x:J,y:ht,type:Ue,iconUrl:Ot[Ue]||void 0,createdAt:new Date,createdBy:r?.uid||"local",createdByName:hn||""}]),nt(bt),Ln("move");return}if(i)try{const bt=`${i}_pins`,re=await aN(om(Vn,"artifacts",Sr,"public","data",bt),{mapId:l,layerId:d,x:J,y:ht,type:Ue,iconUrl:Ot[Ue]||void 0,createdAt:lN(),createdBy:r.uid,createdByName:hn||""});nt(re.id),Ln("move")}catch(bt){console.error("Error adding pin:",bt)}}},Ae=(R,F)=>{R.stopPropagation(),nt(J=>J===F?null:F)},Qs=async R=>{if(!r&&ce==="shared")return;if(!Le||ce==="local"){he(J=>J.filter(ht=>ht.id!==R)),tt===R&&nt(null),yt(J=>J.filter(ht=>ht!==R));return}const F=`${i}_pins`;try{await sN(Ea(Vn,"artifacts",Sr,"public","data",F,R)),tt===R&&nt(null),yt(J=>J.filter(ht=>ht!==R))}catch(J){console.error(J)}},Ys=async(R,F)=>{if(!r&&ce==="shared")return;if(!Le||ce==="local"){he(ht=>ht.map(ft=>ft.id===R?{...ft,imageUrl:F}:ft));return}if(!i)return;const J=`${i}_pins`;try{await Gc(Ea(Vn,"artifacts",Sr,"public","data",J,R),{imageUrl:F})}catch(ht){console.error(ht)}},ti=async(R,F)=>{if(!r&&ce==="shared")return;if(In(F),!Le||ce==="local"){he(ht=>ht.map(ft=>ft.id===R?{...ft,iconUrl:F}:ft));return}if(!i)return;const J=`${i}_pins`;try{await Gc(Ea(Vn,"artifacts",Sr,"public","data",J,R),{iconUrl:F})}catch(ht){console.error(ht)}},ei=()=>{const R=window.innerWidth,F=window.innerHeight,J=Ri[l];er({x:R/2-J.width*.4/2,y:F/2-J.height*.4/2,scale:.4})},Ks=Tn.filter(R=>!(R.mapId!==l||Ri[l].layers&&R.layerId!==d||!Pa(R.type))),Xs=R=>{zn(F=>({...F,[R]:!F[R]}))},$s=()=>{const R={};Object.keys(Pe).forEach(F=>{R[F]=!0}),_t(R)},Ba=()=>{const R={};Object.keys(Pe).forEach(F=>{R[F]=!1}),_t(R)},Mi=ce==="shared"?Pr:me,dn=Mi[l]||{title:"",note:""},Wt=Ri[l];let Ne=Wt.defaultUrl,pi=l;if(Wt.layers&&d){const R=Wt.layers.find(F=>F.id===d);R&&(Ne=R.defaultUrl),pi=`${l}_${d}`}const Hr=y[pi]||Ne,[$t,Oi]=at.useState(!1);at.useEffect(()=>Oi(!1),[l,d,y]);const bn=R=>{a(R),Lr(R?"shared":"local"),vn(R||""),nt(null),R||(S([]),zr({}));const F=new URLSearchParams(window.location.search);R?F.set("room",R):F.delete("room"),F.set("map",l);const J=`${window.location.pathname}${F.toString()?`?${F.toString()}`:""}`;window.history.replaceState({},"",J)},yi=R=>{En(R);const F=new URLSearchParams(window.location.search);i&&F.set("room",i),F.set("map",l),R==="list"?F.set("view","list"):F.delete("view");const J=`${window.location.pathname}${F.toString()?`?${F.toString()}`:""}`;window.history.replaceState({},"",J)},We=async(R,F)=>{const ht={...Mi[R]||{},...F,updatedAt:Date.now(),updatedBy:r?.uid||"local",updatedByName:hn||""};if(ce==="shared"){if(!Le||!i||!r||!Vn)return;const ft=`${i}_mapmeta`;try{await Gc(Ea(Vn,"artifacts",Sr,"public","data",ft,R),ht).catch(async bt=>{if(bt.code==="not-found"||String(bt).includes("No document"))await rN(Ea(Vn,"artifacts",Sr,"public","data",ft,R),ht);else throw bt}),zr(bt=>({...bt,[R]:ht}))}catch(bt){console.error("Map meta update failed",bt)}}else Fs(ft=>({...ft,[R]:ht}))},Fr=()=>{const R=i||Gv();i||bn(R);const F=`${window.location.origin}${window.location.pathname}?room=${R}`;navigator.clipboard.writeText(F).then(()=>{Ur(!0),setTimeout(()=>Ur(!1),2e3)}).catch(()=>alert("Room ID: "+R))};return Ye==="list"?V.jsxs("div",{className:"min-h-screen bg-black text-gray-200 p-6",children:[V.jsxs("header",{className:"flex items-center justify-between mb-6",children:[V.jsxs("div",{className:"flex items-center gap-2",children:[V.jsx(wh,{className:"text-orange-500 w-5 h-5"}),V.jsx("h1",{className:"font-bold text-base tracking-wider text-gray-100",children:"TACTICAL - "})]}),V.jsx("button",{onClick:()=>yi("map"),className:"px-4 py-2 rounded bg-orange-600 hover:bg-orange-500 text-white text-sm font-semibold",children:""})]}),V.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-4",children:Object.values(Ri).map(R=>{const F=Mi[R.id]||{};return V.jsxs("div",{className:"bg-gray-900 border border-gray-800 rounded-lg p-4 flex flex-col gap-2 shadow",children:[V.jsxs("div",{className:"flex items-center justify-between",children:[V.jsx("div",{className:"text-xs text-gray-500 uppercase",children:R.id}),V.jsx("button",{onClick:()=>{c(R.id),yi("map")},className:"text-xs px-2 py-1 rounded bg-gray-800 border border-gray-700 hover:bg-gray-700",children:""})]}),V.jsx("div",{className:"text-lg font-bold text-white",children:F.title||R.name}),V.jsx("div",{className:"text-sm text-gray-400 line-clamp-3",children:F.note||""})]},R.id)})})]}):V.jsxs("div",{className:"flex flex-col h-screen bg-black text-gray-200 overflow-hidden font-sans relative",children:[!Kc&&V.jsx("div",{className:"absolute top-2 right-2 z-50 bg-orange-500 text-black text-xs font-bold px-3 py-1 rounded shadow",children:"Firebase disabled (local demo mode)"}),V.jsx("input",{type:"file",ref:Di,className:"hidden",accept:"image/*",onChange:jn}),V.jsx("input",{type:"file",ref:Jn,className:"hidden",accept:"image/*",onChange:Se}),V.jsx("input",{type:"file",ref:Gs,className:"hidden",accept:"image/*",onChange:za}),V.jsxs("header",{className:"h-12 bg-gray-900 border-b border-gray-800 flex items-center justify-between px-4 z-30 shadow-lg shrink-0 gap-4",children:[V.jsxs("div",{className:"flex items-center gap-2 min-w-fit",children:[V.jsx(wh,{className:"text-orange-500 w-5 h-5"}),V.jsx("h1",{className:"font-bold text-base tracking-wider text-gray-100",children:"TACTICAL"})]}),V.jsxs("div",{className:"flex items-center gap-3 flex-1 justify-center min-w-0",children:[V.jsx("div",{className:"flex items-center bg-gray-800 rounded p-0.5 gap-1 overflow-x-auto scrollbar-hide",children:Object.values(Ri).map(R=>V.jsx("button",{onClick:()=>c(R.id),className:`px-3 py-1 text-xs font-bold rounded transition-colors uppercase whitespace-nowrap ${l===R.id?"bg-orange-600 text-white":"text-gray-400 hover:text-white hover:bg-gray-700"}`,children:R.name},R.id))}),V.jsx("select",{value:l,onChange:R=>c(R.target.value),className:"bg-gray-800 border border-gray-700 text-gray-200 text-xs rounded px-2 py-1",children:Object.values(Ri).map(R=>V.jsx("option",{value:R.id,children:R.name},R.id))}),V.jsx("button",{onClick:()=>yi("list"),className:"px-3 py-1 text-xs font-medium rounded border border-gray-700 bg-gray-800 text-gray-300 hover:bg-gray-700 whitespace-nowrap",children:""}),V.jsxs("button",{onClick:()=>Ln("custom_pin"),className:`flex items-center gap-1 px-3 py-1 text-xs font-bold rounded border transition-all whitespace-nowrap ${Ue==="custom_pin"?"bg-orange-600 text-white border-orange-400":"bg-gray-800 text-gray-300 border-gray-700 hover:bg-gray-700"}`,children:[V.jsx(Uo,{size:14}),"Drop Pin"]})]}),V.jsxs("div",{className:"flex items-center gap-3 min-w-fit",children:[V.jsxs("div",{className:"flex items-center gap-2 bg-gray-800 rounded px-2 py-1 border border-gray-700",children:[V.jsx("span",{className:"text-xs text-gray-400",children:""}),V.jsx("input",{type:"text",value:hn,onChange:R=>ka(R.target.value.slice(0,24)),placeholder:"",className:"bg-transparent text-sm text-white outline-none w-28"})]}),V.jsx("button",{onClick:Fr,className:"bg-blue-600 hover:bg-blue-500 text-white px-3 py-1 rounded text-xs font-medium transition-all",children:""})]})]}),Wt.layers&&V.jsx("div",{className:"absolute top-14 left-1/2 -translate-x-1/2 z-30 flex gap-2 bg-black/80 backdrop-blur p-1 rounded-lg border border-gray-700",children:Wt.layers.map(R=>V.jsxs("button",{onClick:()=>p(R.id),className:`flex items-center gap-2 px-3 py-1 text-xs font-bold rounded transition-all ${d===R.id?"bg-orange-500 text-white":"text-gray-400 hover:bg-gray-700"}`,children:[V.jsx(zN,{size:14}),R.name]},R.id))}),V.jsxs("div",{className:"flex-1 relative flex overflow-hidden",children:[V.jsxs("div",{className:"w-64 bg-gray-900/95 backdrop-blur border-r border-gray-800 flex flex-col z-20 shadow-xl shrink-0 overflow-hidden",children:[V.jsxs("div",{className:"p-3 border-b border-gray-800 space-y-3",children:[V.jsxs("div",{className:"relative",children:[V.jsx(ZN,{className:"absolute left-2 top-1.5 text-gray-500 w-4 h-4"}),V.jsx("input",{type:"text",placeholder:"...",value:Ua,onChange:R=>La(R.target.value),className:"w-full bg-black/40 border border-gray-700 rounded pl-8 pr-2 py-1 text-sm text-gray-300 focus:outline-none focus:border-orange-500"})]}),V.jsx("div",{className:"flex gap-2",children:V.jsxs("div",{className:"flex-1 flex items-center gap-2",children:[V.jsxs("select",{value:Ni,onChange:R=>{const F=R.target.value;Lr(F),F==="local"&&bn(null)},className:"w-24 bg-gray-800 border border-gray-700 text-gray-200 text-xs rounded px-2 py-1",children:[V.jsx("option",{value:"local",children:""}),V.jsx("option",{value:"shared",children:""})]}),V.jsx("input",{value:Hs,onChange:R=>vn(R.target.value.toUpperCase()),placeholder:"ROOM ID",disabled:Ni==="local",className:"flex-1 bg-gray-900 border border-gray-700 rounded px-2 py-1 text-xs text-gray-200 disabled:opacity-50"}),V.jsx("button",{onClick:()=>{if(Ni==="local")return bn(null);const R=Hs.trim()||Gv();bn(R)},className:"px-2 py-1 text-xs bg-gray-800 border border-gray-700 text-gray-200 rounded hover:bg-gray-700 disabled:opacity-50",disabled:Ni==="local",children:"/"})]})}),V.jsxs("div",{className:"flex gap-2 mt-2",children:[V.jsxs("div",{className:"flex flex-col gap-1 flex-1",children:[V.jsx("label",{className:"text-[10px] text-gray-400",children:""}),V.jsx("input",{value:dn.title||Ri[l]?.name||"",onChange:R=>We(l,{title:R.target.value}),className:"w-full bg-gray-800 border border-gray-700 rounded px-2 py-1 text-xs text-gray-200",placeholder:""})]}),V.jsxs("div",{className:"flex flex-col gap-1 flex-1",children:[V.jsx("label",{className:"text-[10px] text-gray-400",children:""}),V.jsx("input",{value:dn.note||"",onChange:R=>We(l,{note:R.target.value}),className:"w-full bg-gray-800 border border-gray-700 rounded px-2 py-1 text-xs text-gray-200",placeholder:""})]})]}),V.jsxs("div",{className:"flex gap-2",children:[V.jsxs("button",{onClick:()=>Ln("move"),className:`flex-1 py-1.5 rounded flex items-center justify-center gap-2 text-xs font-bold transition-colors border ${Ue==="move"?"bg-gray-700 text-white border-gray-500":"bg-gray-800 text-gray-400 border-gray-700 hover:bg-gray-700"}`,children:[V.jsx(qN,{size:14}),""]}),V.jsx("button",{onClick:Rn,className:"px-3 py-1.5 rounded bg-gray-800 text-gray-400 border border-gray-700 hover:text-white hover:border-gray-500",children:V.jsx(gT,{size:14})})]}),V.jsxs("div",{className:"flex gap-2",children:[V.jsx("button",{onClick:$s,className:"flex-1 py-1.5 rounded bg-gray-800 text-gray-300 border border-gray-700 hover:bg-gray-700 text-xs font-bold",children:""}),V.jsx("button",{onClick:Ba,className:"flex-1 py-1.5 rounded bg-gray-800 text-gray-300 border border-gray-700 hover:bg-gray-700 text-xs font-bold",children:""})]})]}),V.jsx("div",{className:"flex-1 overflow-y-auto p-2 space-y-1 scrollbar-thin scrollbar-thumb-gray-700",children:Object.entries(ba).map(([R,F])=>V.jsxs("div",{className:"rounded overflow-hidden",children:[V.jsxs("div",{className:"w-full flex items-center justify-between px-2 py-1.5 bg-gray-800/50 text-xs font-bold text-gray-300",children:[V.jsxs("button",{onClick:()=>Xs(R),className:"flex items-center gap-2 flex-1 text-left hover:text-white",children:[V.jsx("span",{children:F.label}),Pn[R]?V.jsx(bN,{size:14}):V.jsx(AN,{size:14})]}),V.jsx("button",{onClick:()=>Zo(R),className:"p-1 rounded hover:bg-gray-700 text-gray-300 hover:text-white",title:"",children:V.jsx(GN,{size:14})})]}),Pn[R]&&V.jsx("div",{className:"bg-black/20 p-1 space-y-0.5",children:Object.values(Pe).filter(J=>J.cat===R).filter(J=>J.label.includes(Ua)).map(J=>{const ht=J.icon,ft=Ue===J.id,bt=Ot[J.id],re=ir[J.id]||0,Sn=Pa(J.id);return V.jsxs("div",{role:"button",tabIndex:0,onClick:()=>Ln(J.id),onKeyDown:tn=>{(tn.key==="Enter"||tn.key===" ")&&(tn.preventDefault(),Ln(J.id))},className:`w-full flex items-center gap-3 px-2 py-1.5 rounded text-xs transition-all cursor-pointer ${ft?"bg-gray-700 text-white ring-1 ring-inset ring-gray-500":"text-gray-400 hover:bg-gray-800 hover:text-gray-200"}`,children:[bt?V.jsx("img",{src:bt,alt:`${J.label} icon`,className:"w-5 h-5 rounded-full object-cover border border-gray-600/60"}):V.jsx(ht,{size:16,color:F.color}),V.jsx("span",{className:"flex-1 text-left truncate",children:J.label}),V.jsx("span",{className:"text-[11px] text-gray-400",children:re}),V.jsxs("div",{className:"flex items-center gap-1 ml-1",children:[V.jsx("button",{onClick:tn=>{tn.stopPropagation(),ze(J.id)},className:"p-1 rounded bg-gray-800 hover:bg-gray-700 text-gray-300 border border-gray-700",title:"",children:V.jsx(Lm,{size:12})}),V.jsx("button",{onClick:tn=>{tn.stopPropagation(),_t(Vi=>({...Vi,[J.id]:!Sn}))},className:`p-1 rounded border ${Sn?"bg-gray-800 text-gray-300 border-gray-700 hover:bg-gray-700":"bg-gray-900 text-gray-500 border-gray-800 hover:text-gray-300"}`,title:Sn?"":"",children:V.jsx(xN,{size:12})})]})]},J.id)})})]},R))}),V.jsxs("div",{className:"p-2 border-t border-gray-800 text-[10px] text-gray-600 text-center",children:["Room: ",i||""]})]}),V.jsxs("div",{ref:Br,className:"flex-1 relative overflow-hidden bg-black cursor-crosshair",onMouseDown:Zn,onMouseMove:Cn,onMouseUp:fn,onMouseLeave:fn,children:[V.jsxs("div",{ref:jr,className:"absolute origin-top-left will-change-transform",style:{transform:`translate(${Ie.x}px, ${Ie.y}px) scale(${Ie.scale})`,width:Wt.width,height:Wt.height,transition:js?"none":"transform 0.1s ease-out"},onClick:Wn,children:[!$t&&Hr?V.jsx("img",{src:Hr,alt:Wt.name,className:"w-full h-full object-fill pointer-events-none select-none",draggable:!1,onError:()=>Oi(!0)}):V.jsx(b4,{config:Wt,onUpload:Rn}),Ks.map(R=>{const F=Pe[R.type]||Fv,J=ba[F.cat]||ba.others,ht=F.icon,ft=R.id===tt,bt=et.includes(R.id),re=R.iconUrl||Ot[R.type],tn=Math.max(.3,kr),Vi=tt&&!ft?.4:1,qa=ft?50:10;return V.jsx("div",{className:"absolute -translate-x-1/2 -translate-y-1/2 cursor-pointer transition-all duration-200",style:{left:R.x,top:R.y,transform:`scale(${tn})`,opacity:Vi,zIndex:qa},onClick:ki=>Ae(ki,R.id),children:V.jsxs("div",{className:"relative flex flex-col items-center group",children:[V.jsxs("div",{className:`drop-shadow-md filter transition-all ${ft?"drop-shadow-[0_0_10px_rgba(255,255,255,0.8)]":""}`,children:[V.jsx("div",{className:"absolute inset-[-6px] rounded-full border-2 border-orange-500 opacity-80 pointer-events-none"}),bt&&V.jsx(kN,{size:16,color:"#f87171",fill:"#f87171",className:"absolute -top-2 -right-2 drop-shadow-md pointer-events-none"}),re?V.jsx("img",{src:re,alt:"Custom pin",className:"w-8 h-8 rounded-full border border-black/40 object-cover"}):V.jsx(ht,{size:24,fill:J.color,color:"#000000",strokeWidth:1.5,className:ft?"text-white":""})]}),!ft&&V.jsx("div",{className:"absolute top-full mt-1 opacity-0 group-hover:opacity-100 bg-black/80 text-white text-[10px] px-2 py-1 rounded whitespace-nowrap pointer-events-none border border-white/20 z-50",children:F.label})]})},R.id)})]}),tt&&(()=>{const R=Tn.find(J=>J.id===tt);if(!R)return null;const F=Pe[R.type]||Fv;return V.jsx(S4,{pin:R,markerDef:F,onClose:()=>nt(null),onUpdateImage:Ys,onUpdateIcon:ti,onMark:J=>{yt(ht=>ht.includes(J)?ht.filter(ft=>ft!==J):[...ht,J]),nt(J)},onDelete:Qs})})(),!1]})]}),V.jsxs("div",{className:"absolute bottom-4 right-4 flex items-end gap-3 z-10 pointer-events-none",children:[V.jsxs("div",{className:"flex items-center gap-3 bg-black/30 backdrop-blur-sm rounded-full px-4 py-2 border border-gray-700/50 shadow pointer-events-auto",children:[V.jsx($N,{size:16,className:"text-gray-400"}),V.jsx("input",{type:"range",min:"0.5",max:"3",step:"0.1",value:kr,onChange:R=>be(parseFloat(R.target.value)),className:"w-28 h-1 bg-gray-600 rounded-lg appearance-none cursor-pointer accent-blue-500"})]}),V.jsxs("div",{className:"flex flex-col items-center gap-3 pointer-events-auto",children:[V.jsx("div",{className:"relative h-40 w-12 flex items-center justify-center bg-black/30 backdrop-blur-sm rounded-full border border-gray-700/50 shadow",children:V.jsx("div",{className:"-rotate-90 w-28",children:V.jsx("input",{type:"range",min:"0.2",max:"5",step:"0.1",value:Ie.scale,onChange:R=>Bn(parseFloat(R.target.value)),className:"w-full h-1 bg-gray-600 rounded-lg appearance-none cursor-pointer accent-orange-500"})})}),V.jsx("button",{onClick:()=>$n(!0),className:"bg-gray-800 hover:bg-gray-700 text-gray-200 p-2 rounded-full shadow-lg border border-gray-700",title:"",children:V.jsx(t4,{size:18})})]})]}),qs&&V.jsx("div",{className:"absolute top-20 left-1/2 -translate-x-1/2 bg-green-600 text-white px-4 py-2 rounded shadow-xl z-50 animate-bounce pointer-events-none",children:""}),Ce&&V.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/70 backdrop-blur-sm p-4",children:V.jsxs("div",{className:"bg-gray-900 rounded-xl border border-gray-700 w-full max-w-md p-5 space-y-4 shadow-2xl",children:[V.jsxs("div",{className:"flex items-center justify-between",children:[V.jsx("h3",{className:"text-lg font-bold text-white",children:""}),V.jsx("button",{onClick:()=>$n(!1),className:"text-gray-400 hover:text-white",children:V.jsx(Pm,{size:18})})]}),V.jsxs("div",{className:"flex justify-end gap-2",children:[V.jsxs("div",{className:"flex-1 space-y-2 text-sm text-gray-300",children:[V.jsx("div",{className:"text-xs text-gray-400",children:""}),V.jsx("select",{value:Ht,onChange:R=>M(R.target.value),className:"w-full bg-gray-800 border border-gray-700 rounded px-2 py-1 text-sm text-white",children:Object.values(Pe).map(R=>V.jsx("option",{value:R.id,children:R.label},R.id))})]}),V.jsxs("div",{className:"flex items-end gap-2",children:[V.jsx("button",{onClick:()=>qr(Ht),disabled:!Ht||X,className:"px-3 py-2 text-xs font-semibold rounded bg-gray-800 text-gray-200 border border-gray-700 hover:bg-gray-700 shadow disabled:opacity-50 disabled:cursor-not-allowed",children:""}),V.jsx("button",{onClick:()=>$n(!1),className:"px-3 py-2 text-xs font-semibold rounded bg-orange-600 hover:bg-orange-500 text-white",children:""})]})]})]})}),k&&V.jsx("div",{className:"absolute inset-0 bg-black/60 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:V.jsxs("div",{className:"bg-gray-900 rounded-xl border border-gray-700 w-full max-w-md p-4 space-y-4 shadow-2xl",children:[V.jsxs("div",{className:"flex items-center justify-between",children:[V.jsx("h3",{className:"text-lg font-bold text-white",children:""}),V.jsx("button",{onClick:()=>x(!1),className:"text-gray-400 hover:text-white",children:V.jsx(Pm,{size:18})})]}),V.jsxs("div",{className:"text-xs text-gray-400",children:[": ",L&&ba[L]?.label]}),V.jsx("input",{value:ie,onChange:R=>Te(R.target.value),placeholder:"",className:"w-full bg-gray-800 border border-gray-700 rounded px-3 py-2 text-sm text-white focus:border-orange-500 outline-none"}),V.jsxs("div",{children:[V.jsx("div",{className:"text-xs text-gray-400 mb-2",children:""}),V.jsx("div",{className:"grid grid-cols-5 gap-2 mb-3",children:xi.map(R=>V.jsx("button",{onClick:()=>rt(R.dataUrl),className:`h-12 rounded-lg border ${G===R.dataUrl?"border-orange-500 ring-1 ring-orange-400":"border-gray-700"} bg-gray-800 flex items-center justify-center hover:border-gray-500`,children:V.jsx("img",{src:R.dataUrl,alt:R.label,className:"w-8 h-8 rounded"})},R.id))}),V.jsxs("div",{className:"flex items-center gap-3",children:[V.jsx("div",{className:"w-12 h-12 rounded-full border border-gray-700 bg-gray-800 flex items-center justify-center overflow-hidden",children:G?V.jsx("img",{src:G,alt:"",className:"w-full h-full object-cover"}):V.jsx(Uo,{size:20,className:"text-gray-500"})}),V.jsxs("button",{onClick:()=>Gs.current?.click(),className:"px-3 py-2 text-xs font-semibold rounded border border-gray-700 bg-gray-800 text-gray-200 hover:bg-gray-700 flex items-center gap-2",children:[V.jsx(Rh,{size:14}),""]})]})]}),V.jsxs("div",{className:"flex justify-end gap-2 pt-2",children:[V.jsx("button",{onClick:()=>x(!1),className:"px-3 py-2 text-xs rounded border border-gray-700 text-gray-300 hover:bg-gray-800",children:""}),V.jsx("button",{onClick:ja,className:"px-3 py-2 text-xs rounded bg-orange-600 hover:bg-orange-500 text-white font-bold",children:""})]})]})})]})}iS.createRoot(document.getElementById("root")).render(V.jsx(Xb.StrictMode,{children:V.jsx(A4,{})}));
