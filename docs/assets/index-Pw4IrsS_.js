(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))s(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&s(d)}).observe(document,{childList:!0,subtree:!0});function i(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function s(l){if(l.ep)return;l.ep=!0;const c=i(l);fetch(l.href,c)}})();function r1(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var Fd={exports:{}},$l={};var s0;function aS(){if(s0)return $l;s0=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(s,l,c){var d=null;if(c!==void 0&&(d=""+c),l.key!==void 0&&(d=""+l.key),"key"in l){c={};for(var g in l)g!=="key"&&(c[g]=l[g])}else c=l;return l=c.ref,{$$typeof:r,type:s,key:d,ref:l!==void 0?l:null,props:c}}return $l.Fragment=e,$l.jsx=i,$l.jsxs=i,$l}var a0;function oS(){return a0||(a0=1,Fd.exports=aS()),Fd.exports}var R=oS(),Gd={exports:{}},Re={};var o0;function lS(){if(o0)return Re;o0=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),A=Symbol.for("react.activity"),V=Symbol.iterator;function K(D){return D===null||typeof D!="object"?null:(D=V&&D[V]||D["@@iterator"],typeof D=="function"?D:null)}var re={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},se=Object.assign,te={};function de(D,$,le){this.props=D,this.context=$,this.refs=te,this.updater=le||re}de.prototype.isReactComponent={},de.prototype.setState=function(D,$){if(typeof D!="object"&&typeof D!="function"&&D!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,D,$,"setState")},de.prototype.forceUpdate=function(D){this.updater.enqueueForceUpdate(this,D,"forceUpdate")};function Se(){}Se.prototype=de.prototype;function ve(D,$,le){this.props=D,this.context=$,this.refs=te,this.updater=le||re}var Ye=ve.prototype=new Se;Ye.constructor=ve,se(Ye,de.prototype),Ye.isPureReactComponent=!0;var Fe=Array.isArray;function Me(){}var N={H:null,A:null,T:null,S:null},w=Object.prototype.hasOwnProperty;function x(D,$,le){var ue=le.ref;return{$$typeof:r,type:D,key:$,ref:ue!==void 0?ue:null,props:le}}function k(D,$){return x(D.type,$,D.props)}function O(D){return typeof D=="object"&&D!==null&&D.$$typeof===r}function P(D){var $={"=":"=0",":":"=2"};return"$"+D.replace(/[=:]/g,function(le){return $[le]})}var I=/\/+/g;function yt(D,$){return typeof D=="object"&&D!==null&&D.key!=null?P(""+D.key):$.toString(36)}function wt(D){switch(D.status){case"fulfilled":return D.value;case"rejected":throw D.reason;default:switch(typeof D.status=="string"?D.then(Me,Me):(D.status="pending",D.then(function($){D.status==="pending"&&(D.status="fulfilled",D.value=$)},function($){D.status==="pending"&&(D.status="rejected",D.reason=$)})),D.status){case"fulfilled":return D.value;case"rejected":throw D.reason}}throw D}function Q(D,$,le,ue,Ee){var Ce=typeof D;(Ce==="undefined"||Ce==="boolean")&&(D=null);var qe=!1;if(D===null)qe=!0;else switch(Ce){case"bigint":case"string":case"number":qe=!0;break;case"object":switch(D.$$typeof){case r:case e:qe=!0;break;case b:return qe=D._init,Q(qe(D._payload),$,le,ue,Ee)}}if(qe)return Ee=Ee(D),qe=ue===""?"."+yt(D,0):ue,Fe(Ee)?(le="",qe!=null&&(le=qe.replace(I,"$&/")+"/"),Q(Ee,$,le,"",function(ss){return ss})):Ee!=null&&(O(Ee)&&(Ee=k(Ee,le+(Ee.key==null||D&&D.key===Ee.key?"":(""+Ee.key).replace(I,"$&/")+"/")+qe)),$.push(Ee)),1;qe=0;var Ht=ue===""?".":ue+":";if(Fe(D))for(var vt=0;vt<D.length;vt++)ue=D[vt],Ce=Ht+yt(ue,vt),qe+=Q(ue,$,le,Ce,Ee);else if(vt=K(D),typeof vt=="function")for(D=vt.call(D),vt=0;!(ue=D.next()).done;)ue=ue.value,Ce=Ht+yt(ue,vt++),qe+=Q(ue,$,le,Ce,Ee);else if(Ce==="object"){if(typeof D.then=="function")return Q(wt(D),$,le,ue,Ee);throw $=String(D),Error("Objects are not valid as a React child (found: "+($==="[object Object]"?"object with keys {"+Object.keys(D).join(", ")+"}":$)+"). If you meant to render a collection of children, use an array instead.")}return qe}function oe(D,$,le){if(D==null)return D;var ue=[],Ee=0;return Q(D,ue,"","",function(Ce){return $.call(le,Ce,Ee++)}),ue}function ge(D){if(D._status===-1){var $=D._result;$=$(),$.then(function(le){(D._status===0||D._status===-1)&&(D._status=1,D._result=le)},function(le){(D._status===0||D._status===-1)&&(D._status=2,D._result=le)}),D._status===-1&&(D._status=0,D._result=$)}if(D._status===1)return D._result.default;throw D._result}var Oe=typeof reportError=="function"?reportError:function(D){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var $=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof D=="object"&&D!==null&&typeof D.message=="string"?String(D.message):String(D),error:D});if(!window.dispatchEvent($))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",D);return}console.error(D)},Ke={map:oe,forEach:function(D,$,le){oe(D,function(){$.apply(this,arguments)},le)},count:function(D){var $=0;return oe(D,function(){$++}),$},toArray:function(D){return oe(D,function($){return $})||[]},only:function(D){if(!O(D))throw Error("React.Children.only expected to receive a single React element child.");return D}};return Re.Activity=A,Re.Children=Ke,Re.Component=de,Re.Fragment=i,Re.Profiler=l,Re.PureComponent=ve,Re.StrictMode=s,Re.Suspense=y,Re.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=N,Re.__COMPILER_RUNTIME={__proto__:null,c:function(D){return N.H.useMemoCache(D)}},Re.cache=function(D){return function(){return D.apply(null,arguments)}},Re.cacheSignal=function(){return null},Re.cloneElement=function(D,$,le){if(D==null)throw Error("The argument must be a React element, but you passed "+D+".");var ue=se({},D.props),Ee=D.key;if($!=null)for(Ce in $.key!==void 0&&(Ee=""+$.key),$)!w.call($,Ce)||Ce==="key"||Ce==="__self"||Ce==="__source"||Ce==="ref"&&$.ref===void 0||(ue[Ce]=$[Ce]);var Ce=arguments.length-2;if(Ce===1)ue.children=le;else if(1<Ce){for(var qe=Array(Ce),Ht=0;Ht<Ce;Ht++)qe[Ht]=arguments[Ht+2];ue.children=qe}return x(D.type,Ee,ue)},Re.createContext=function(D){return D={$$typeof:d,_currentValue:D,_currentValue2:D,_threadCount:0,Provider:null,Consumer:null},D.Provider=D,D.Consumer={$$typeof:c,_context:D},D},Re.createElement=function(D,$,le){var ue,Ee={},Ce=null;if($!=null)for(ue in $.key!==void 0&&(Ce=""+$.key),$)w.call($,ue)&&ue!=="key"&&ue!=="__self"&&ue!=="__source"&&(Ee[ue]=$[ue]);var qe=arguments.length-2;if(qe===1)Ee.children=le;else if(1<qe){for(var Ht=Array(qe),vt=0;vt<qe;vt++)Ht[vt]=arguments[vt+2];Ee.children=Ht}if(D&&D.defaultProps)for(ue in qe=D.defaultProps,qe)Ee[ue]===void 0&&(Ee[ue]=qe[ue]);return x(D,Ce,Ee)},Re.createRef=function(){return{current:null}},Re.forwardRef=function(D){return{$$typeof:g,render:D}},Re.isValidElement=O,Re.lazy=function(D){return{$$typeof:b,_payload:{_status:-1,_result:D},_init:ge}},Re.memo=function(D,$){return{$$typeof:_,type:D,compare:$===void 0?null:$}},Re.startTransition=function(D){var $=N.T,le={};N.T=le;try{var ue=D(),Ee=N.S;Ee!==null&&Ee(le,ue),typeof ue=="object"&&ue!==null&&typeof ue.then=="function"&&ue.then(Me,Oe)}catch(Ce){Oe(Ce)}finally{$!==null&&le.types!==null&&($.types=le.types),N.T=$}},Re.unstable_useCacheRefresh=function(){return N.H.useCacheRefresh()},Re.use=function(D){return N.H.use(D)},Re.useActionState=function(D,$,le){return N.H.useActionState(D,$,le)},Re.useCallback=function(D,$){return N.H.useCallback(D,$)},Re.useContext=function(D){return N.H.useContext(D)},Re.useDebugValue=function(){},Re.useDeferredValue=function(D,$){return N.H.useDeferredValue(D,$)},Re.useEffect=function(D,$){return N.H.useEffect(D,$)},Re.useEffectEvent=function(D){return N.H.useEffectEvent(D)},Re.useId=function(){return N.H.useId()},Re.useImperativeHandle=function(D,$,le){return N.H.useImperativeHandle(D,$,le)},Re.useInsertionEffect=function(D,$){return N.H.useInsertionEffect(D,$)},Re.useLayoutEffect=function(D,$){return N.H.useLayoutEffect(D,$)},Re.useMemo=function(D,$){return N.H.useMemo(D,$)},Re.useOptimistic=function(D,$){return N.H.useOptimistic(D,$)},Re.useReducer=function(D,$,le){return N.H.useReducer(D,$,le)},Re.useRef=function(D){return N.H.useRef(D)},Re.useState=function(D){return N.H.useState(D)},Re.useSyncExternalStore=function(D,$,le){return N.H.useSyncExternalStore(D,$,le)},Re.useTransition=function(){return N.H.useTransition()},Re.version="19.2.0",Re}var l0;function Qm(){return l0||(l0=1,Gd.exports=lS()),Gd.exports}var ne=Qm();const uS=r1(ne);var Qd={exports:{}},Jl={},Yd={exports:{}},Kd={};var u0;function cS(){return u0||(u0=1,(function(r){function e(Q,oe){var ge=Q.length;Q.push(oe);e:for(;0<ge;){var Oe=ge-1>>>1,Ke=Q[Oe];if(0<l(Ke,oe))Q[Oe]=oe,Q[ge]=Ke,ge=Oe;else break e}}function i(Q){return Q.length===0?null:Q[0]}function s(Q){if(Q.length===0)return null;var oe=Q[0],ge=Q.pop();if(ge!==oe){Q[0]=ge;e:for(var Oe=0,Ke=Q.length,D=Ke>>>1;Oe<D;){var $=2*(Oe+1)-1,le=Q[$],ue=$+1,Ee=Q[ue];if(0>l(le,ge))ue<Ke&&0>l(Ee,le)?(Q[Oe]=Ee,Q[ue]=ge,Oe=ue):(Q[Oe]=le,Q[$]=ge,Oe=$);else if(ue<Ke&&0>l(Ee,ge))Q[Oe]=Ee,Q[ue]=ge,Oe=ue;else break e}}return oe}function l(Q,oe){var ge=Q.sortIndex-oe.sortIndex;return ge!==0?ge:Q.id-oe.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;r.unstable_now=function(){return c.now()}}else{var d=Date,g=d.now();r.unstable_now=function(){return d.now()-g}}var y=[],_=[],b=1,A=null,V=3,K=!1,re=!1,se=!1,te=!1,de=typeof setTimeout=="function"?setTimeout:null,Se=typeof clearTimeout=="function"?clearTimeout:null,ve=typeof setImmediate<"u"?setImmediate:null;function Ye(Q){for(var oe=i(_);oe!==null;){if(oe.callback===null)s(_);else if(oe.startTime<=Q)s(_),oe.sortIndex=oe.expirationTime,e(y,oe);else break;oe=i(_)}}function Fe(Q){if(se=!1,Ye(Q),!re)if(i(y)!==null)re=!0,Me||(Me=!0,P());else{var oe=i(_);oe!==null&&wt(Fe,oe.startTime-Q)}}var Me=!1,N=-1,w=5,x=-1;function k(){return te?!0:!(r.unstable_now()-x<w)}function O(){if(te=!1,Me){var Q=r.unstable_now();x=Q;var oe=!0;try{e:{re=!1,se&&(se=!1,Se(N),N=-1),K=!0;var ge=V;try{t:{for(Ye(Q),A=i(y);A!==null&&!(A.expirationTime>Q&&k());){var Oe=A.callback;if(typeof Oe=="function"){A.callback=null,V=A.priorityLevel;var Ke=Oe(A.expirationTime<=Q);if(Q=r.unstable_now(),typeof Ke=="function"){A.callback=Ke,Ye(Q),oe=!0;break t}A===i(y)&&s(y),Ye(Q)}else s(y);A=i(y)}if(A!==null)oe=!0;else{var D=i(_);D!==null&&wt(Fe,D.startTime-Q),oe=!1}}break e}finally{A=null,V=ge,K=!1}oe=void 0}}finally{oe?P():Me=!1}}}var P;if(typeof ve=="function")P=function(){ve(O)};else if(typeof MessageChannel<"u"){var I=new MessageChannel,yt=I.port2;I.port1.onmessage=O,P=function(){yt.postMessage(null)}}else P=function(){de(O,0)};function wt(Q,oe){N=de(function(){Q(r.unstable_now())},oe)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(Q){Q.callback=null},r.unstable_forceFrameRate=function(Q){0>Q||125<Q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):w=0<Q?Math.floor(1e3/Q):5},r.unstable_getCurrentPriorityLevel=function(){return V},r.unstable_next=function(Q){switch(V){case 1:case 2:case 3:var oe=3;break;default:oe=V}var ge=V;V=oe;try{return Q()}finally{V=ge}},r.unstable_requestPaint=function(){te=!0},r.unstable_runWithPriority=function(Q,oe){switch(Q){case 1:case 2:case 3:case 4:case 5:break;default:Q=3}var ge=V;V=Q;try{return oe()}finally{V=ge}},r.unstable_scheduleCallback=function(Q,oe,ge){var Oe=r.unstable_now();switch(typeof ge=="object"&&ge!==null?(ge=ge.delay,ge=typeof ge=="number"&&0<ge?Oe+ge:Oe):ge=Oe,Q){case 1:var Ke=-1;break;case 2:Ke=250;break;case 5:Ke=1073741823;break;case 4:Ke=1e4;break;default:Ke=5e3}return Ke=ge+Ke,Q={id:b++,callback:oe,priorityLevel:Q,startTime:ge,expirationTime:Ke,sortIndex:-1},ge>Oe?(Q.sortIndex=ge,e(_,Q),i(y)===null&&Q===i(_)&&(se?(Se(N),N=-1):se=!0,wt(Fe,ge-Oe))):(Q.sortIndex=Ke,e(y,Q),re||K||(re=!0,Me||(Me=!0,P()))),Q},r.unstable_shouldYield=k,r.unstable_wrapCallback=function(Q){var oe=V;return function(){var ge=V;V=oe;try{return Q.apply(this,arguments)}finally{V=ge}}}})(Kd)),Kd}var c0;function hS(){return c0||(c0=1,Yd.exports=cS()),Yd.exports}var Xd={exports:{}},Sn={};var h0;function fS(){if(h0)return Sn;h0=1;var r=Qm();function e(y){var _="https://react.dev/errors/"+y;if(1<arguments.length){_+="?args[]="+encodeURIComponent(arguments[1]);for(var b=2;b<arguments.length;b++)_+="&args[]="+encodeURIComponent(arguments[b])}return"Minified React error #"+y+"; visit "+_+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var s={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},l=Symbol.for("react.portal");function c(y,_,b){var A=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:A==null?null:""+A,children:y,containerInfo:_,implementation:b}}var d=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(y,_){if(y==="font")return"";if(typeof _=="string")return _==="use-credentials"?_:""}return Sn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Sn.createPortal=function(y,_){var b=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_||_.nodeType!==1&&_.nodeType!==9&&_.nodeType!==11)throw Error(e(299));return c(y,_,null,b)},Sn.flushSync=function(y){var _=d.T,b=s.p;try{if(d.T=null,s.p=2,y)return y()}finally{d.T=_,s.p=b,s.d.f()}},Sn.preconnect=function(y,_){typeof y=="string"&&(_?(_=_.crossOrigin,_=typeof _=="string"?_==="use-credentials"?_:"":void 0):_=null,s.d.C(y,_))},Sn.prefetchDNS=function(y){typeof y=="string"&&s.d.D(y)},Sn.preinit=function(y,_){if(typeof y=="string"&&_&&typeof _.as=="string"){var b=_.as,A=g(b,_.crossOrigin),V=typeof _.integrity=="string"?_.integrity:void 0,K=typeof _.fetchPriority=="string"?_.fetchPriority:void 0;b==="style"?s.d.S(y,typeof _.precedence=="string"?_.precedence:void 0,{crossOrigin:A,integrity:V,fetchPriority:K}):b==="script"&&s.d.X(y,{crossOrigin:A,integrity:V,fetchPriority:K,nonce:typeof _.nonce=="string"?_.nonce:void 0})}},Sn.preinitModule=function(y,_){if(typeof y=="string")if(typeof _=="object"&&_!==null){if(_.as==null||_.as==="script"){var b=g(_.as,_.crossOrigin);s.d.M(y,{crossOrigin:b,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0})}}else _==null&&s.d.M(y)},Sn.preload=function(y,_){if(typeof y=="string"&&typeof _=="object"&&_!==null&&typeof _.as=="string"){var b=_.as,A=g(b,_.crossOrigin);s.d.L(y,b,{crossOrigin:A,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0,type:typeof _.type=="string"?_.type:void 0,fetchPriority:typeof _.fetchPriority=="string"?_.fetchPriority:void 0,referrerPolicy:typeof _.referrerPolicy=="string"?_.referrerPolicy:void 0,imageSrcSet:typeof _.imageSrcSet=="string"?_.imageSrcSet:void 0,imageSizes:typeof _.imageSizes=="string"?_.imageSizes:void 0,media:typeof _.media=="string"?_.media:void 0})}},Sn.preloadModule=function(y,_){if(typeof y=="string")if(_){var b=g(_.as,_.crossOrigin);s.d.m(y,{as:typeof _.as=="string"&&_.as!=="script"?_.as:void 0,crossOrigin:b,integrity:typeof _.integrity=="string"?_.integrity:void 0})}else s.d.m(y)},Sn.requestFormReset=function(y){s.d.r(y)},Sn.unstable_batchedUpdates=function(y,_){return y(_)},Sn.useFormState=function(y,_,b){return d.H.useFormState(y,_,b)},Sn.useFormStatus=function(){return d.H.useHostTransitionStatus()},Sn.version="19.2.0",Sn}var f0;function dS(){if(f0)return Xd.exports;f0=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Xd.exports=fS(),Xd.exports}var d0;function mS(){if(d0)return Jl;d0=1;var r=hS(),e=Qm(),i=dS();function s(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)n+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function c(t){var n=t,a=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(a=n.return),t=n.return;while(t)}return n.tag===3?a:null}function d(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function g(t){if(t.tag===31){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function y(t){if(c(t)!==t)throw Error(s(188))}function _(t){var n=t.alternate;if(!n){if(n=c(t),n===null)throw Error(s(188));return n!==t?null:t}for(var a=t,o=n;;){var h=a.return;if(h===null)break;var f=h.alternate;if(f===null){if(o=h.return,o!==null){a=o;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===a)return y(h),t;if(f===o)return y(h),n;f=f.sibling}throw Error(s(188))}if(a.return!==o.return)a=h,o=f;else{for(var p=!1,E=h.child;E;){if(E===a){p=!0,a=h,o=f;break}if(E===o){p=!0,o=h,a=f;break}E=E.sibling}if(!p){for(E=f.child;E;){if(E===a){p=!0,a=f,o=h;break}if(E===o){p=!0,o=f,a=h;break}E=E.sibling}if(!p)throw Error(s(189))}}if(a.alternate!==o)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?t:n}function b(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=b(t),n!==null)return n;t=t.sibling}return null}var A=Object.assign,V=Symbol.for("react.element"),K=Symbol.for("react.transitional.element"),re=Symbol.for("react.portal"),se=Symbol.for("react.fragment"),te=Symbol.for("react.strict_mode"),de=Symbol.for("react.profiler"),Se=Symbol.for("react.consumer"),ve=Symbol.for("react.context"),Ye=Symbol.for("react.forward_ref"),Fe=Symbol.for("react.suspense"),Me=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),x=Symbol.for("react.activity"),k=Symbol.for("react.memo_cache_sentinel"),O=Symbol.iterator;function P(t){return t===null||typeof t!="object"?null:(t=O&&t[O]||t["@@iterator"],typeof t=="function"?t:null)}var I=Symbol.for("react.client.reference");function yt(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===I?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case se:return"Fragment";case de:return"Profiler";case te:return"StrictMode";case Fe:return"Suspense";case Me:return"SuspenseList";case x:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case re:return"Portal";case ve:return t.displayName||"Context";case Se:return(t._context.displayName||"Context")+".Consumer";case Ye:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case N:return n=t.displayName||null,n!==null?n:yt(t.type)||"Memo";case w:n=t._payload,t=t._init;try{return yt(t(n))}catch{}}return null}var wt=Array.isArray,Q=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,oe=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ge={pending:!1,data:null,method:null,action:null},Oe=[],Ke=-1;function D(t){return{current:t}}function $(t){0>Ke||(t.current=Oe[Ke],Oe[Ke]=null,Ke--)}function le(t,n){Ke++,Oe[Ke]=t.current,t.current=n}var ue=D(null),Ee=D(null),Ce=D(null),qe=D(null);function Ht(t,n){switch(le(Ce,n),le(Ee,t),le(ue,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?C_(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=C_(n),t=x_(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}$(ue),le(ue,t)}function vt(){$(ue),$(Ee),$(Ce)}function ss(t){t.memoizedState!==null&&le(qe,t);var n=ue.current,a=x_(n,t.type);n!==a&&(le(Ee,t),le(ue,a))}function ta(t){Ee.current===t&&($(ue),$(Ee)),qe.current===t&&($(qe),Ql._currentValue=ge)}var na,ia;function Ci(t){if(na===void 0)try{throw Error()}catch(a){var n=a.stack.trim().match(/\n( *(at )?)/);na=n&&n[1]||"",ia=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+na+t+ia}var ra=!1;function Xn(t,n){if(!t||ra)return"";ra=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(n){var J=function(){throw Error()};if(Object.defineProperty(J.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(J,[])}catch(F){var q=F}Reflect.construct(t,[],J)}else{try{J.call()}catch(F){q=F}t.call(J.prototype)}}else{try{throw Error()}catch(F){q=F}(J=t())&&typeof J.catch=="function"&&J.catch(function(){})}}catch(F){if(F&&q&&typeof F.stack=="string")return[F.stack,q.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=o.DetermineComponentFrameRoot(),p=f[0],E=f[1];if(p&&E){var C=p.split(`
`),B=E.split(`
`);for(h=o=0;o<C.length&&!C[o].includes("DetermineComponentFrameRoot");)o++;for(;h<B.length&&!B[h].includes("DetermineComponentFrameRoot");)h++;if(o===C.length||h===B.length)for(o=C.length-1,h=B.length-1;1<=o&&0<=h&&C[o]!==B[h];)h--;for(;1<=o&&0<=h;o--,h--)if(C[o]!==B[h]){if(o!==1||h!==1)do if(o--,h--,0>h||C[o]!==B[h]){var Y=`
`+C[o].replace(" at new "," at ");return t.displayName&&Y.includes("<anonymous>")&&(Y=Y.replace("<anonymous>",t.displayName)),Y}while(1<=o&&0<=h);break}}}finally{ra=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?Ci(a):""}function as(t,n){switch(t.tag){case 26:case 27:case 5:return Ci(t.type);case 16:return Ci("Lazy");case 13:return t.child!==n&&n!==null?Ci("Suspense Fallback"):Ci("Suspense");case 19:return Ci("SuspenseList");case 0:case 15:return Xn(t.type,!1);case 11:return Xn(t.type.render,!1);case 1:return Xn(t.type,!0);case 31:return Ci("Activity");default:return""}}function kn(t){try{var n="",a=null;do n+=as(t,a),a=t,t=t.return;while(t);return n}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var it=Object.prototype.hasOwnProperty,ft=r.unstable_scheduleCallback,xt=r.unstable_cancelCallback,sa=r.unstable_shouldYield,aa=r.unstable_requestPaint,sn=r.unstable_now,_r=r.unstable_getCurrentPriorityLevel,vr=r.unstable_ImmediatePriority,Er=r.unstable_UserBlockingPriority,xi=r.unstable_NormalPriority,Wa=r.unstable_LowPriority,eo=r.unstable_IdlePriority,to=r.log,oa=r.unstable_setDisableYieldValue,Vt=null,Ft=null;function Zt(t){if(typeof to=="function"&&oa(t),Ft&&typeof Ft.setStrictMode=="function")try{Ft.setStrictMode(Vt,t)}catch{}}var ot=Math.clz32?Math.clz32:la,Tr=Math.log,Cn=Math.LN2;function la(t){return t>>>=0,t===0?32:31-(Tr(t)/Cn|0)|0}var an=256,br=262144,dt=4194304;function Ni(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Un(t,n,a){var o=t.pendingLanes;if(o===0)return 0;var h=0,f=t.suspendedLanes,p=t.pingedLanes;t=t.warmLanes;var E=o&134217727;return E!==0?(o=E&~f,o!==0?h=Ni(o):(p&=E,p!==0?h=Ni(p):a||(a=E&~t,a!==0&&(h=Ni(a))))):(E=o&~f,E!==0?h=Ni(E):p!==0?h=Ni(p):a||(a=o&~t,a!==0&&(h=Ni(a)))),h===0?0:n!==0&&n!==h&&(n&f)===0&&(f=h&-h,a=n&-n,f>=a||f===32&&(a&4194048)!==0)?n:h}function lt(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function ui(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ua(){var t=dt;return dt<<=1,(dt&62914560)===0&&(dt=4194304),t}function $n(t){for(var n=[],a=0;31>a;a++)n.push(t);return n}function Yi(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function no(t,n,a,o,h,f){var p=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var E=t.entanglements,C=t.expirationTimes,B=t.hiddenUpdates;for(a=p&~a;0<a;){var Y=31-ot(a),J=1<<Y;E[Y]=0,C[Y]=-1;var q=B[Y];if(q!==null)for(B[Y]=null,Y=0;Y<q.length;Y++){var F=q[Y];F!==null&&(F.lane&=-536870913)}a&=~J}o!==0&&Di(t,o,0),f!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=f&~(p&~n))}function Di(t,n,a){t.pendingLanes|=n,t.suspendedLanes&=~n;var o=31-ot(n);t.entangledLanes|=n,t.entanglements[o]=t.entanglements[o]|1073741824|a&261930}function Sr(t,n){var a=t.entangledLanes|=n;for(t=t.entanglements;a;){var o=31-ot(a),h=1<<o;h&n|t[o]&n&&(t[o]|=n),a&=~h}}function ca(t,n){var a=n&-n;return a=(a&42)!==0?1:ci(a),(a&(t.suspendedLanes|n))!==0?0:a}function ci(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function mt(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function os(){var t=oe.p;return t!==0?t:(t=window.event,t===void 0?32:Z_(t.type))}function hi(t,n){var a=oe.p;try{return oe.p=t,n()}finally{oe.p=a}}var xn=Math.random().toString(36).slice(2),Je="__reactFiber$"+xn,kt="__reactProps$"+xn,yn="__reactContainer$"+xn,Ar="__reactEvents$"+xn,Ze="__reactListeners$"+xn,Mi="__reactHandles$"+xn,ha="__reactResources$"+xn,on="__reactMarker$"+xn;function Ln(t){delete t[Je],delete t[kt],delete t[Ar],delete t[Ze],delete t[Mi]}function ln(t){var n=t[Je];if(n)return n;for(var a=t.parentNode;a;){if(n=a[yn]||a[Je]){if(a=n.alternate,n.child!==null||a!==null&&a.child!==null)for(t=U_(t);t!==null;){if(a=t[Je])return a;t=U_(t)}return n}t=a,a=t.parentNode}return null}function Rt(t){if(t=t[Je]||t[yn]){var n=t.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return t}return null}function _n(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(s(33))}function fi(t){var n=t[ha];return n||(n=t[ha]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function It(t){t[on]=!0}var fa=new Set,Nn={};function Jn(t,n){Zn(t,n),Zn(t+"Capture",n)}function Zn(t,n){for(Nn[t]=n,t=0;t<n.length;t++)fa.add(n[t])}var da=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ls={},us={};function ma(t){return it.call(us,t)?!0:it.call(ls,t)?!1:da.test(t)?us[t]=!0:(ls[t]=!0,!1)}function wr(t,n,a){if(ma(n))if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var o=n.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+a)}}function vn(t,n,a){if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+a)}}function Nt(t,n,a,o){if(o===null)t.removeAttribute(a);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(n,a,""+o)}}function Ut(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Ki(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function ga(t,n,a){var o=Object.getOwnPropertyDescriptor(t.constructor.prototype,n);if(!t.hasOwnProperty(n)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var h=o.get,f=o.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return h.call(this)},set:function(p){a=""+p,f.call(this,p)}}),Object.defineProperty(t,n,{enumerable:o.enumerable}),{getValue:function(){return a},setValue:function(p){a=""+p},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function Qe(t){if(!t._valueTracker){var n=Ki(t)?"checked":"value";t._valueTracker=ga(t,n,""+t[n])}}function Rr(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var a=n.getValue(),o="";return t&&(o=Ki(t)?t.checked?"true":"false":t.value),t=o,t!==a?(n.setValue(t),!0):!1}function di(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Ir=/[\n"\\]/g;function En(t){return t.replace(Ir,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function Cr(t,n,a,o,h,f,p,E){t.name="",p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"?t.type=p:t.removeAttribute("type"),n!=null?p==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+Ut(n)):t.value!==""+Ut(n)&&(t.value=""+Ut(n)):p!=="submit"&&p!=="reset"||t.removeAttribute("value"),n!=null?ya(t,p,Ut(n)):a!=null?ya(t,p,Ut(a)):o!=null&&t.removeAttribute("value"),h==null&&f!=null&&(t.defaultChecked=!!f),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?t.name=""+Ut(E):t.removeAttribute("name")}function pa(t,n,a,o,h,f,p,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),n!=null||a!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){Qe(t);return}a=a!=null?""+Ut(a):"",n=n!=null?""+Ut(n):a,E||n===t.value||(t.value=n),t.defaultValue=n}o=o??h,o=typeof o!="function"&&typeof o!="symbol"&&!!o,t.checked=E?t.checked:!!o,t.defaultChecked=!!o,p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(t.name=p),Qe(t)}function ya(t,n,a){n==="number"&&di(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function Xi(t,n,a,o){if(t=t.options,n){n={};for(var h=0;h<a.length;h++)n["$"+a[h]]=!0;for(a=0;a<t.length;a++)h=n.hasOwnProperty("$"+t[a].value),t[a].selected!==h&&(t[a].selected=h),h&&o&&(t[a].defaultSelected=!0)}else{for(a=""+Ut(a),n=null,h=0;h<t.length;h++){if(t[h].value===a){t[h].selected=!0,o&&(t[h].defaultSelected=!0);return}n!==null||t[h].disabled||(n=t[h])}n!==null&&(n.selected=!0)}}function _a(t,n,a){if(n!=null&&(n=""+Ut(n),n!==t.value&&(t.value=n),a==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=a!=null?""+Ut(a):""}function $i(t,n,a,o){if(n==null){if(o!=null){if(a!=null)throw Error(s(92));if(wt(o)){if(1<o.length)throw Error(s(93));o=o[0]}a=o}a==null&&(a=""),n=a}a=Ut(n),t.defaultValue=a,o=t.textContent,o===a&&o!==""&&o!==null&&(t.value=o),Qe(t)}function Tn(t,n){if(n){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=n;return}}t.textContent=n}var io=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function va(t,n,a){var o=n.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?o?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":o?t.setProperty(n,a):typeof a!="number"||a===0||io.has(n)?n==="float"?t.cssFloat=a:t[n]=(""+a).trim():t[n]=a+"px"}function Ea(t,n,a){if(n!=null&&typeof n!="object")throw Error(s(62));if(t=t.style,a!=null){for(var o in a)!a.hasOwnProperty(o)||n!=null&&n.hasOwnProperty(o)||(o.indexOf("--")===0?t.setProperty(o,""):o==="float"?t.cssFloat="":t[o]="");for(var h in n)o=n[h],n.hasOwnProperty(h)&&a[h]!==o&&va(t,h,o)}else for(var f in n)n.hasOwnProperty(f)&&va(t,f,n[f])}function cs(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ro=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ji=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function hs(t){return Ji.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function Wn(){}var Ta=null;function Dn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Pn=null,Dt=null;function Oi(t){var n=Rt(t);if(n&&(t=n.stateNode)){var a=t[kt]||null;e:switch(t=n.stateNode,n.type){case"input":if(Cr(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),n=a.name,a.type==="radio"&&n!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+En(""+n)+'"][type="radio"]'),n=0;n<a.length;n++){var o=a[n];if(o!==t&&o.form===t.form){var h=o[kt]||null;if(!h)throw Error(s(90));Cr(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<a.length;n++)o=a[n],o.form===t.form&&Rr(o)}break e;case"textarea":_a(t,a.value,a.defaultValue);break e;case"select":n=a.value,n!=null&&Xi(t,!!a.multiple,n,!1)}}}var xr=!1;function Zi(t,n,a){if(xr)return t(n,a);xr=!0;try{var o=t(n);return o}finally{if(xr=!1,(Pn!==null||Dt!==null)&&(Ec(),Pn&&(n=Pn,t=Dt,Dt=Pn=null,Oi(n),t)))for(n=0;n<t.length;n++)Oi(t[n])}}function Lt(t,n){var a=t.stateNode;if(a===null)return null;var o=a[kt]||null;if(o===null)return null;a=o[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(t=t.type,o=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!o;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(s(231,n,typeof a));return a}var Mn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Wi=!1;if(Mn)try{var We={};Object.defineProperty(We,"passive",{get:function(){Wi=!0}}),window.addEventListener("test",We,We),window.removeEventListener("test",We,We)}catch{Wi=!1}var mi=null,fs=null,zn=null;function Vi(){if(zn)return zn;var t,n=fs,a=n.length,o,h="value"in mi?mi.value:mi.textContent,f=h.length;for(t=0;t<a&&n[t]===h[t];t++);var p=a-t;for(o=1;o<=p&&n[a-o]===h[f-o];o++);return zn=h.slice(t,1<o?1-o:void 0)}function Nr(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function ki(){return!0}function ei(){return!1}function Wt(t){function n(a,o,h,f,p){this._reactName=a,this._targetInst=h,this.type=o,this.nativeEvent=f,this.target=p,this.currentTarget=null;for(var E in t)t.hasOwnProperty(E)&&(a=t[E],this[E]=a?a(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?ki:ei,this.isPropagationStopped=ei,this}return A(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=ki)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=ki)},persist:function(){},isPersistent:ki}),n}var Ui={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},gi=Wt(Ui),er=A({},Ui,{view:0,detail:0}),S=Wt(er),L,G,ee,ie=A({},er,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ds,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ee&&(ee&&t.type==="mousemove"?(L=t.screenX-ee.screenX,G=t.screenY-ee.screenY):G=L=0,ee=t),L)},movementY:function(t){return"movementY"in t?t.movementY:G}}),Te=Wt(ie),et=A({},ie,{dataTransfer:0}),jn=Wt(et),bn=A({},er,{relatedTarget:0}),Li=Wt(bn),ba=A({},Ui,{animationName:0,elapsedTime:0,pseudoElement:0}),so=Wt(ba),ao=A({},Ui,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Du=Wt(ao),Mu=A({},Ui,{data:0}),tr=Wt(Mu),Ou={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Vu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ku={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Uu(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=ku[t])?!!n[t]:!1}function ds(){return Uu}var On=A({},er,{key:function(t){if(t.key){var n=Ou[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=Nr(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Vu[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ds,charCode:function(t){return t.type==="keypress"?Nr(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Nr(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Lu=Wt(On),Pu=A({},ie,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Dr=Wt(Pu),u=A({},er,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ds}),m=Wt(u),v=A({},Ui,{propertyName:0,elapsedTime:0,pseudoElement:0}),T=Wt(v),z=A({},ie,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),H=Wt(z),ae=A({},Ui,{newState:0,oldState:0}),xe=Wt(ae),Pt=[9,13,27,32],tt=Mn&&"CompositionEvent"in window,St=null;Mn&&"documentMode"in document&&(St=document.documentMode);var pi=Mn&&"TextEvent"in window&&!St,nr=Mn&&(!tt||St&&8<St&&11>=St),Pi=" ",zi=!1;function Sa(t,n){switch(t){case"keyup":return Pt.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function oo(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var lo=!1;function NT(t,n){switch(t){case"compositionend":return oo(n);case"keypress":return n.which!==32?null:(zi=!0,Pi);case"textInput":return t=n.data,t===Pi&&zi?null:t;default:return null}}function DT(t,n){if(lo)return t==="compositionend"||!tt&&Sa(t,n)?(t=Vi(),zn=fs=mi=null,lo=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return nr&&n.locale!=="ko"?null:n.data;default:return null}}var MT={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function zg(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!MT[t.type]:n==="textarea"}function jg(t,n,a,o){Pn?Dt?Dt.push(o):Dt=[o]:Pn=o,n=Ic(n,"onChange"),0<n.length&&(a=new gi("onChange","change",null,a,o),t.push({event:a,listeners:n}))}var ml=null,gl=null;function OT(t){b_(t,0)}function zu(t){var n=_n(t);if(Rr(n))return t}function Bg(t,n){if(t==="change")return n}var qg=!1;if(Mn){var $h;if(Mn){var Jh="oninput"in document;if(!Jh){var Hg=document.createElement("div");Hg.setAttribute("oninput","return;"),Jh=typeof Hg.oninput=="function"}$h=Jh}else $h=!1;qg=$h&&(!document.documentMode||9<document.documentMode)}function Fg(){ml&&(ml.detachEvent("onpropertychange",Gg),gl=ml=null)}function Gg(t){if(t.propertyName==="value"&&zu(gl)){var n=[];jg(n,gl,t,Dn(t)),Zi(OT,n)}}function VT(t,n,a){t==="focusin"?(Fg(),ml=n,gl=a,ml.attachEvent("onpropertychange",Gg)):t==="focusout"&&Fg()}function kT(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return zu(gl)}function UT(t,n){if(t==="click")return zu(n)}function LT(t,n){if(t==="input"||t==="change")return zu(n)}function PT(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var ti=typeof Object.is=="function"?Object.is:PT;function pl(t,n){if(ti(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var a=Object.keys(t),o=Object.keys(n);if(a.length!==o.length)return!1;for(o=0;o<a.length;o++){var h=a[o];if(!it.call(n,h)||!ti(t[h],n[h]))return!1}return!0}function Qg(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Yg(t,n){var a=Qg(t);t=0;for(var o;a;){if(a.nodeType===3){if(o=t+a.textContent.length,t<=n&&o>=n)return{node:a,offset:n-t};t=o}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Qg(a)}}function Kg(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?Kg(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function Xg(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=di(t.document);n instanceof t.HTMLIFrameElement;){try{var a=typeof n.contentWindow.location.href=="string"}catch{a=!1}if(a)t=n.contentWindow;else break;n=di(t.document)}return n}function Zh(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var zT=Mn&&"documentMode"in document&&11>=document.documentMode,uo=null,Wh=null,yl=null,ef=!1;function $g(t,n,a){var o=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;ef||uo==null||uo!==di(o)||(o=uo,"selectionStart"in o&&Zh(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),yl&&pl(yl,o)||(yl=o,o=Ic(Wh,"onSelect"),0<o.length&&(n=new gi("onSelect","select",null,n,a),t.push({event:n,listeners:o}),n.target=uo)))}function Aa(t,n){var a={};return a[t.toLowerCase()]=n.toLowerCase(),a["Webkit"+t]="webkit"+n,a["Moz"+t]="moz"+n,a}var co={animationend:Aa("Animation","AnimationEnd"),animationiteration:Aa("Animation","AnimationIteration"),animationstart:Aa("Animation","AnimationStart"),transitionrun:Aa("Transition","TransitionRun"),transitionstart:Aa("Transition","TransitionStart"),transitioncancel:Aa("Transition","TransitionCancel"),transitionend:Aa("Transition","TransitionEnd")},tf={},Jg={};Mn&&(Jg=document.createElement("div").style,"AnimationEvent"in window||(delete co.animationend.animation,delete co.animationiteration.animation,delete co.animationstart.animation),"TransitionEvent"in window||delete co.transitionend.transition);function wa(t){if(tf[t])return tf[t];if(!co[t])return t;var n=co[t],a;for(a in n)if(n.hasOwnProperty(a)&&a in Jg)return tf[t]=n[a];return t}var Zg=wa("animationend"),Wg=wa("animationiteration"),ep=wa("animationstart"),jT=wa("transitionrun"),BT=wa("transitionstart"),qT=wa("transitioncancel"),tp=wa("transitionend"),np=new Map,nf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");nf.push("scrollEnd");function ji(t,n){np.set(t,n),Jn(n,[t])}var ju=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},yi=[],ho=0,rf=0;function Bu(){for(var t=ho,n=rf=ho=0;n<t;){var a=yi[n];yi[n++]=null;var o=yi[n];yi[n++]=null;var h=yi[n];yi[n++]=null;var f=yi[n];if(yi[n++]=null,o!==null&&h!==null){var p=o.pending;p===null?h.next=h:(h.next=p.next,p.next=h),o.pending=h}f!==0&&ip(a,h,f)}}function qu(t,n,a,o){yi[ho++]=t,yi[ho++]=n,yi[ho++]=a,yi[ho++]=o,rf|=o,t.lanes|=o,t=t.alternate,t!==null&&(t.lanes|=o)}function sf(t,n,a,o){return qu(t,n,a,o),Hu(t)}function Ra(t,n){return qu(t,null,null,n),Hu(t)}function ip(t,n,a){t.lanes|=a;var o=t.alternate;o!==null&&(o.lanes|=a);for(var h=!1,f=t.return;f!==null;)f.childLanes|=a,o=f.alternate,o!==null&&(o.childLanes|=a),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(h=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,h&&n!==null&&(h=31-ot(a),t=f.hiddenUpdates,o=t[h],o===null?t[h]=[n]:o.push(n),n.lane=a|536870912),f):null}function Hu(t){if(50<zl)throw zl=0,md=null,Error(s(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var fo={};function HT(t,n,a,o){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ni(t,n,a,o){return new HT(t,n,a,o)}function af(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Mr(t,n){var a=t.alternate;return a===null?(a=ni(t.tag,n,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=n,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,n=t.dependencies,a.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function rp(t,n){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,n=a.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function Fu(t,n,a,o,h,f){var p=0;if(o=t,typeof t=="function")af(t)&&(p=1);else if(typeof t=="string")p=Kb(t,a,ue.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case x:return t=ni(31,a,n,h),t.elementType=x,t.lanes=f,t;case se:return Ia(a.children,h,f,n);case te:p=8,h|=24;break;case de:return t=ni(12,a,n,h|2),t.elementType=de,t.lanes=f,t;case Fe:return t=ni(13,a,n,h),t.elementType=Fe,t.lanes=f,t;case Me:return t=ni(19,a,n,h),t.elementType=Me,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case ve:p=10;break e;case Se:p=9;break e;case Ye:p=11;break e;case N:p=14;break e;case w:p=16,o=null;break e}p=29,a=Error(s(130,t===null?"null":typeof t,"")),o=null}return n=ni(p,a,n,h),n.elementType=t,n.type=o,n.lanes=f,n}function Ia(t,n,a,o){return t=ni(7,t,o,n),t.lanes=a,t}function of(t,n,a){return t=ni(6,t,null,n),t.lanes=a,t}function sp(t){var n=ni(18,null,null,0);return n.stateNode=t,n}function lf(t,n,a){return n=ni(4,t.children!==null?t.children:[],t.key,n),n.lanes=a,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var ap=new WeakMap;function _i(t,n){if(typeof t=="object"&&t!==null){var a=ap.get(t);return a!==void 0?a:(n={value:t,source:n,stack:kn(n)},ap.set(t,n),n)}return{value:t,source:n,stack:kn(n)}}var mo=[],go=0,Gu=null,_l=0,vi=[],Ei=0,ms=null,ir=1,rr="";function Or(t,n){mo[go++]=_l,mo[go++]=Gu,Gu=t,_l=n}function op(t,n,a){vi[Ei++]=ir,vi[Ei++]=rr,vi[Ei++]=ms,ms=t;var o=ir;t=rr;var h=32-ot(o)-1;o&=~(1<<h),a+=1;var f=32-ot(n)+h;if(30<f){var p=h-h%5;f=(o&(1<<p)-1).toString(32),o>>=p,h-=p,ir=1<<32-ot(n)+h|a<<h|o,rr=f+t}else ir=1<<f|a<<h|o,rr=t}function uf(t){t.return!==null&&(Or(t,1),op(t,1,0))}function cf(t){for(;t===Gu;)Gu=mo[--go],mo[go]=null,_l=mo[--go],mo[go]=null;for(;t===ms;)ms=vi[--Ei],vi[Ei]=null,rr=vi[--Ei],vi[Ei]=null,ir=vi[--Ei],vi[Ei]=null}function lp(t,n){vi[Ei++]=ir,vi[Ei++]=rr,vi[Ei++]=ms,ir=n.id,rr=n.overflow,ms=t}var un=null,Et=null,He=!1,gs=null,Ti=!1,hf=Error(s(519));function ps(t){var n=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw vl(_i(n,t)),hf}function up(t){var n=t.stateNode,a=t.type,o=t.memoizedProps;switch(n[Je]=t,n[kt]=o,a){case"dialog":ke("cancel",n),ke("close",n);break;case"iframe":case"object":case"embed":ke("load",n);break;case"video":case"audio":for(a=0;a<Bl.length;a++)ke(Bl[a],n);break;case"source":ke("error",n);break;case"img":case"image":case"link":ke("error",n),ke("load",n);break;case"details":ke("toggle",n);break;case"input":ke("invalid",n),pa(n,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":ke("invalid",n);break;case"textarea":ke("invalid",n),$i(n,o.value,o.defaultValue,o.children)}a=o.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||n.textContent===""+a||o.suppressHydrationWarning===!0||R_(n.textContent,a)?(o.popover!=null&&(ke("beforetoggle",n),ke("toggle",n)),o.onScroll!=null&&ke("scroll",n),o.onScrollEnd!=null&&ke("scrollend",n),o.onClick!=null&&(n.onclick=Wn),n=!0):n=!1,n||ps(t,!0)}function cp(t){for(un=t.return;un;)switch(un.tag){case 5:case 31:case 13:Ti=!1;return;case 27:case 3:Ti=!0;return;default:un=un.return}}function po(t){if(t!==un)return!1;if(!He)return cp(t),He=!0,!1;var n=t.tag,a;if((a=n!==3&&n!==27)&&((a=n===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||xd(t.type,t.memoizedProps)),a=!a),a&&Et&&ps(t),cp(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));Et=k_(t)}else if(n===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));Et=k_(t)}else n===27?(n=Et,Ns(t.type)?(t=Vd,Vd=null,Et=t):Et=n):Et=un?Si(t.stateNode.nextSibling):null;return!0}function Ca(){Et=un=null,He=!1}function ff(){var t=gs;return t!==null&&(Fn===null?Fn=t:Fn.push.apply(Fn,t),gs=null),t}function vl(t){gs===null?gs=[t]:gs.push(t)}var df=D(null),xa=null,Vr=null;function ys(t,n,a){le(df,n._currentValue),n._currentValue=a}function kr(t){t._currentValue=df.current,$(df)}function mf(t,n,a){for(;t!==null;){var o=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,o!==null&&(o.childLanes|=n)):o!==null&&(o.childLanes&n)!==n&&(o.childLanes|=n),t===a)break;t=t.return}}function gf(t,n,a,o){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var f=h.dependencies;if(f!==null){var p=h.child;f=f.firstContext;e:for(;f!==null;){var E=f;f=h;for(var C=0;C<n.length;C++)if(E.context===n[C]){f.lanes|=a,E=f.alternate,E!==null&&(E.lanes|=a),mf(f.return,a,t),o||(p=null);break e}f=E.next}}else if(h.tag===18){if(p=h.return,p===null)throw Error(s(341));p.lanes|=a,f=p.alternate,f!==null&&(f.lanes|=a),mf(p,a,t),p=null}else p=h.child;if(p!==null)p.return=h;else for(p=h;p!==null;){if(p===t){p=null;break}if(h=p.sibling,h!==null){h.return=p.return,p=h;break}p=p.return}h=p}}function yo(t,n,a,o){t=null;for(var h=n,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var p=h.alternate;if(p===null)throw Error(s(387));if(p=p.memoizedProps,p!==null){var E=h.type;ti(h.pendingProps.value,p.value)||(t!==null?t.push(E):t=[E])}}else if(h===qe.current){if(p=h.alternate,p===null)throw Error(s(387));p.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(Ql):t=[Ql])}h=h.return}t!==null&&gf(n,t,a,o),n.flags|=262144}function Qu(t){for(t=t.firstContext;t!==null;){if(!ti(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Na(t){xa=t,Vr=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function cn(t){return hp(xa,t)}function Yu(t,n){return xa===null&&Na(t),hp(t,n)}function hp(t,n){var a=n._currentValue;if(n={context:n,memoizedValue:a,next:null},Vr===null){if(t===null)throw Error(s(308));Vr=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else Vr=Vr.next=n;return a}var FT=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(a,o){t.push(o)}};this.abort=function(){n.aborted=!0,t.forEach(function(a){return a()})}},GT=r.unstable_scheduleCallback,QT=r.unstable_NormalPriority,Gt={$$typeof:ve,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function pf(){return{controller:new FT,data:new Map,refCount:0}}function El(t){t.refCount--,t.refCount===0&&GT(QT,function(){t.controller.abort()})}var Tl=null,yf=0,_o=0,vo=null;function YT(t,n){if(Tl===null){var a=Tl=[];yf=0,_o=Ed(),vo={status:"pending",value:void 0,then:function(o){a.push(o)}}}return yf++,n.then(fp,fp),n}function fp(){if(--yf===0&&Tl!==null){vo!==null&&(vo.status="fulfilled");var t=Tl;Tl=null,_o=0,vo=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function KT(t,n){var a=[],o={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return t.then(function(){o.status="fulfilled",o.value=n;for(var h=0;h<a.length;h++)(0,a[h])(n)},function(h){for(o.status="rejected",o.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),o}var dp=Q.S;Q.S=function(t,n){$y=sn(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&YT(t,n),dp!==null&&dp(t,n)};var Da=D(null);function _f(){var t=Da.current;return t!==null?t:gt.pooledCache}function Ku(t,n){n===null?le(Da,Da.current):le(Da,n.pool)}function mp(){var t=_f();return t===null?null:{parent:Gt._currentValue,pool:t}}var Eo=Error(s(460)),vf=Error(s(474)),Xu=Error(s(542)),$u={then:function(){}};function gp(t){return t=t.status,t==="fulfilled"||t==="rejected"}function pp(t,n,a){switch(a=t[a],a===void 0?t.push(n):a!==n&&(n.then(Wn,Wn),n=a),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,_p(t),t;default:if(typeof n.status=="string")n.then(Wn,Wn);else{if(t=gt,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=n,t.status="pending",t.then(function(o){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=o}},function(o){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=o}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,_p(t),t}throw Oa=n,Eo}}function Ma(t){try{var n=t._init;return n(t._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Oa=a,Eo):a}}var Oa=null;function yp(){if(Oa===null)throw Error(s(459));var t=Oa;return Oa=null,t}function _p(t){if(t===Eo||t===Xu)throw Error(s(483))}var To=null,bl=0;function Ju(t){var n=bl;return bl+=1,To===null&&(To=[]),pp(To,t,n)}function Sl(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function Zu(t,n){throw n.$$typeof===V?Error(s(525)):(t=Object.prototype.toString.call(n),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function vp(t){function n(U,M){if(t){var j=U.deletions;j===null?(U.deletions=[M],U.flags|=16):j.push(M)}}function a(U,M){if(!t)return null;for(;M!==null;)n(U,M),M=M.sibling;return null}function o(U){for(var M=new Map;U!==null;)U.key!==null?M.set(U.key,U):M.set(U.index,U),U=U.sibling;return M}function h(U,M){return U=Mr(U,M),U.index=0,U.sibling=null,U}function f(U,M,j){return U.index=j,t?(j=U.alternate,j!==null?(j=j.index,j<M?(U.flags|=67108866,M):j):(U.flags|=67108866,M)):(U.flags|=1048576,M)}function p(U){return t&&U.alternate===null&&(U.flags|=67108866),U}function E(U,M,j,X){return M===null||M.tag!==6?(M=of(j,U.mode,X),M.return=U,M):(M=h(M,j),M.return=U,M)}function C(U,M,j,X){var pe=j.type;return pe===se?Y(U,M,j.props.children,X,j.key):M!==null&&(M.elementType===pe||typeof pe=="object"&&pe!==null&&pe.$$typeof===w&&Ma(pe)===M.type)?(M=h(M,j.props),Sl(M,j),M.return=U,M):(M=Fu(j.type,j.key,j.props,null,U.mode,X),Sl(M,j),M.return=U,M)}function B(U,M,j,X){return M===null||M.tag!==4||M.stateNode.containerInfo!==j.containerInfo||M.stateNode.implementation!==j.implementation?(M=lf(j,U.mode,X),M.return=U,M):(M=h(M,j.children||[]),M.return=U,M)}function Y(U,M,j,X,pe){return M===null||M.tag!==7?(M=Ia(j,U.mode,X,pe),M.return=U,M):(M=h(M,j),M.return=U,M)}function J(U,M,j){if(typeof M=="string"&&M!==""||typeof M=="number"||typeof M=="bigint")return M=of(""+M,U.mode,j),M.return=U,M;if(typeof M=="object"&&M!==null){switch(M.$$typeof){case K:return j=Fu(M.type,M.key,M.props,null,U.mode,j),Sl(j,M),j.return=U,j;case re:return M=lf(M,U.mode,j),M.return=U,M;case w:return M=Ma(M),J(U,M,j)}if(wt(M)||P(M))return M=Ia(M,U.mode,j,null),M.return=U,M;if(typeof M.then=="function")return J(U,Ju(M),j);if(M.$$typeof===ve)return J(U,Yu(U,M),j);Zu(U,M)}return null}function q(U,M,j,X){var pe=M!==null?M.key:null;if(typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint")return pe!==null?null:E(U,M,""+j,X);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case K:return j.key===pe?C(U,M,j,X):null;case re:return j.key===pe?B(U,M,j,X):null;case w:return j=Ma(j),q(U,M,j,X)}if(wt(j)||P(j))return pe!==null?null:Y(U,M,j,X,null);if(typeof j.then=="function")return q(U,M,Ju(j),X);if(j.$$typeof===ve)return q(U,M,Yu(U,j),X);Zu(U,j)}return null}function F(U,M,j,X,pe){if(typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint")return U=U.get(j)||null,E(M,U,""+X,pe);if(typeof X=="object"&&X!==null){switch(X.$$typeof){case K:return U=U.get(X.key===null?j:X.key)||null,C(M,U,X,pe);case re:return U=U.get(X.key===null?j:X.key)||null,B(M,U,X,pe);case w:return X=Ma(X),F(U,M,j,X,pe)}if(wt(X)||P(X))return U=U.get(j)||null,Y(M,U,X,pe,null);if(typeof X.then=="function")return F(U,M,j,Ju(X),pe);if(X.$$typeof===ve)return F(U,M,j,Yu(M,X),pe);Zu(M,X)}return null}function fe(U,M,j,X){for(var pe=null,Xe=null,me=M,De=M=0,Pe=null;me!==null&&De<j.length;De++){me.index>De?(Pe=me,me=null):Pe=me.sibling;var $e=q(U,me,j[De],X);if($e===null){me===null&&(me=Pe);break}t&&me&&$e.alternate===null&&n(U,me),M=f($e,M,De),Xe===null?pe=$e:Xe.sibling=$e,Xe=$e,me=Pe}if(De===j.length)return a(U,me),He&&Or(U,De),pe;if(me===null){for(;De<j.length;De++)me=J(U,j[De],X),me!==null&&(M=f(me,M,De),Xe===null?pe=me:Xe.sibling=me,Xe=me);return He&&Or(U,De),pe}for(me=o(me);De<j.length;De++)Pe=F(me,U,De,j[De],X),Pe!==null&&(t&&Pe.alternate!==null&&me.delete(Pe.key===null?De:Pe.key),M=f(Pe,M,De),Xe===null?pe=Pe:Xe.sibling=Pe,Xe=Pe);return t&&me.forEach(function(ks){return n(U,ks)}),He&&Or(U,De),pe}function _e(U,M,j,X){if(j==null)throw Error(s(151));for(var pe=null,Xe=null,me=M,De=M=0,Pe=null,$e=j.next();me!==null&&!$e.done;De++,$e=j.next()){me.index>De?(Pe=me,me=null):Pe=me.sibling;var ks=q(U,me,$e.value,X);if(ks===null){me===null&&(me=Pe);break}t&&me&&ks.alternate===null&&n(U,me),M=f(ks,M,De),Xe===null?pe=ks:Xe.sibling=ks,Xe=ks,me=Pe}if($e.done)return a(U,me),He&&Or(U,De),pe;if(me===null){for(;!$e.done;De++,$e=j.next())$e=J(U,$e.value,X),$e!==null&&(M=f($e,M,De),Xe===null?pe=$e:Xe.sibling=$e,Xe=$e);return He&&Or(U,De),pe}for(me=o(me);!$e.done;De++,$e=j.next())$e=F(me,U,De,$e.value,X),$e!==null&&(t&&$e.alternate!==null&&me.delete($e.key===null?De:$e.key),M=f($e,M,De),Xe===null?pe=$e:Xe.sibling=$e,Xe=$e);return t&&me.forEach(function(sS){return n(U,sS)}),He&&Or(U,De),pe}function ht(U,M,j,X){if(typeof j=="object"&&j!==null&&j.type===se&&j.key===null&&(j=j.props.children),typeof j=="object"&&j!==null){switch(j.$$typeof){case K:e:{for(var pe=j.key;M!==null;){if(M.key===pe){if(pe=j.type,pe===se){if(M.tag===7){a(U,M.sibling),X=h(M,j.props.children),X.return=U,U=X;break e}}else if(M.elementType===pe||typeof pe=="object"&&pe!==null&&pe.$$typeof===w&&Ma(pe)===M.type){a(U,M.sibling),X=h(M,j.props),Sl(X,j),X.return=U,U=X;break e}a(U,M);break}else n(U,M);M=M.sibling}j.type===se?(X=Ia(j.props.children,U.mode,X,j.key),X.return=U,U=X):(X=Fu(j.type,j.key,j.props,null,U.mode,X),Sl(X,j),X.return=U,U=X)}return p(U);case re:e:{for(pe=j.key;M!==null;){if(M.key===pe)if(M.tag===4&&M.stateNode.containerInfo===j.containerInfo&&M.stateNode.implementation===j.implementation){a(U,M.sibling),X=h(M,j.children||[]),X.return=U,U=X;break e}else{a(U,M);break}else n(U,M);M=M.sibling}X=lf(j,U.mode,X),X.return=U,U=X}return p(U);case w:return j=Ma(j),ht(U,M,j,X)}if(wt(j))return fe(U,M,j,X);if(P(j)){if(pe=P(j),typeof pe!="function")throw Error(s(150));return j=pe.call(j),_e(U,M,j,X)}if(typeof j.then=="function")return ht(U,M,Ju(j),X);if(j.$$typeof===ve)return ht(U,M,Yu(U,j),X);Zu(U,j)}return typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint"?(j=""+j,M!==null&&M.tag===6?(a(U,M.sibling),X=h(M,j),X.return=U,U=X):(a(U,M),X=of(j,U.mode,X),X.return=U,U=X),p(U)):a(U,M)}return function(U,M,j,X){try{bl=0;var pe=ht(U,M,j,X);return To=null,pe}catch(me){if(me===Eo||me===Xu)throw me;var Xe=ni(29,me,null,U.mode);return Xe.lanes=X,Xe.return=U,Xe}finally{}}}var Va=vp(!0),Ep=vp(!1),_s=!1;function Ef(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Tf(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function vs(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Es(t,n,a){var o=t.updateQueue;if(o===null)return null;if(o=o.shared,(nt&2)!==0){var h=o.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),o.pending=n,n=Hu(t),ip(t,null,a),n}return qu(t,o,n,a),Hu(t)}function Al(t,n,a){if(n=n.updateQueue,n!==null&&(n=n.shared,(a&4194048)!==0)){var o=n.lanes;o&=t.pendingLanes,a|=o,n.lanes=a,Sr(t,a)}}function bf(t,n){var a=t.updateQueue,o=t.alternate;if(o!==null&&(o=o.updateQueue,a===o)){var h=null,f=null;if(a=a.firstBaseUpdate,a!==null){do{var p={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};f===null?h=f=p:f=f.next=p,a=a.next}while(a!==null);f===null?h=f=n:f=f.next=n}else h=f=n;a={baseState:o.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:o.shared,callbacks:o.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=n:t.next=n,a.lastBaseUpdate=n}var Sf=!1;function wl(){if(Sf){var t=vo;if(t!==null)throw t}}function Rl(t,n,a,o){Sf=!1;var h=t.updateQueue;_s=!1;var f=h.firstBaseUpdate,p=h.lastBaseUpdate,E=h.shared.pending;if(E!==null){h.shared.pending=null;var C=E,B=C.next;C.next=null,p===null?f=B:p.next=B,p=C;var Y=t.alternate;Y!==null&&(Y=Y.updateQueue,E=Y.lastBaseUpdate,E!==p&&(E===null?Y.firstBaseUpdate=B:E.next=B,Y.lastBaseUpdate=C))}if(f!==null){var J=h.baseState;p=0,Y=B=C=null,E=f;do{var q=E.lane&-536870913,F=q!==E.lane;if(F?(Le&q)===q:(o&q)===q){q!==0&&q===_o&&(Sf=!0),Y!==null&&(Y=Y.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});e:{var fe=t,_e=E;q=n;var ht=a;switch(_e.tag){case 1:if(fe=_e.payload,typeof fe=="function"){J=fe.call(ht,J,q);break e}J=fe;break e;case 3:fe.flags=fe.flags&-65537|128;case 0:if(fe=_e.payload,q=typeof fe=="function"?fe.call(ht,J,q):fe,q==null)break e;J=A({},J,q);break e;case 2:_s=!0}}q=E.callback,q!==null&&(t.flags|=64,F&&(t.flags|=8192),F=h.callbacks,F===null?h.callbacks=[q]:F.push(q))}else F={lane:q,tag:E.tag,payload:E.payload,callback:E.callback,next:null},Y===null?(B=Y=F,C=J):Y=Y.next=F,p|=q;if(E=E.next,E===null){if(E=h.shared.pending,E===null)break;F=E,E=F.next,F.next=null,h.lastBaseUpdate=F,h.shared.pending=null}}while(!0);Y===null&&(C=J),h.baseState=C,h.firstBaseUpdate=B,h.lastBaseUpdate=Y,f===null&&(h.shared.lanes=0),ws|=p,t.lanes=p,t.memoizedState=J}}function Tp(t,n){if(typeof t!="function")throw Error(s(191,t));t.call(n)}function bp(t,n){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)Tp(a[t],n)}var bo=D(null),Wu=D(0);function Sp(t,n){t=Fr,le(Wu,t),le(bo,n),Fr=t|n.baseLanes}function Af(){le(Wu,Fr),le(bo,bo.current)}function wf(){Fr=Wu.current,$(bo),$(Wu)}var ii=D(null),bi=null;function Ts(t){var n=t.alternate;le(zt,zt.current&1),le(ii,t),bi===null&&(n===null||bo.current!==null||n.memoizedState!==null)&&(bi=t)}function Rf(t){le(zt,zt.current),le(ii,t),bi===null&&(bi=t)}function Ap(t){t.tag===22?(le(zt,zt.current),le(ii,t),bi===null&&(bi=t)):bs()}function bs(){le(zt,zt.current),le(ii,ii.current)}function ri(t){$(ii),bi===t&&(bi=null),$(zt)}var zt=D(0);function ec(t){for(var n=t;n!==null;){if(n.tag===13){var a=n.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Md(a)||Od(a)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Ur=0,Ne=null,ut=null,Qt=null,tc=!1,So=!1,ka=!1,nc=0,Il=0,Ao=null,XT=0;function Mt(){throw Error(s(321))}function If(t,n){if(n===null)return!1;for(var a=0;a<n.length&&a<t.length;a++)if(!ti(t[a],n[a]))return!1;return!0}function Cf(t,n,a,o,h,f){return Ur=f,Ne=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,Q.H=t===null||t.memoizedState===null?oy:Hf,ka=!1,f=a(o,h),ka=!1,So&&(f=Rp(n,a,o,h)),wp(t),f}function wp(t){Q.H=Nl;var n=ut!==null&&ut.next!==null;if(Ur=0,Qt=ut=Ne=null,tc=!1,Il=0,Ao=null,n)throw Error(s(300));t===null||Yt||(t=t.dependencies,t!==null&&Qu(t)&&(Yt=!0))}function Rp(t,n,a,o){Ne=t;var h=0;do{if(So&&(Ao=null),Il=0,So=!1,25<=h)throw Error(s(301));if(h+=1,Qt=ut=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}Q.H=ly,f=n(a,o)}while(So);return f}function $T(){var t=Q.H,n=t.useState()[0];return n=typeof n.then=="function"?Cl(n):n,t=t.useState()[0],(ut!==null?ut.memoizedState:null)!==t&&(Ne.flags|=1024),n}function xf(){var t=nc!==0;return nc=0,t}function Nf(t,n,a){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~a}function Df(t){if(tc){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}tc=!1}Ur=0,Qt=ut=Ne=null,So=!1,Il=nc=0,Ao=null}function Vn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Qt===null?Ne.memoizedState=Qt=t:Qt=Qt.next=t,Qt}function jt(){if(ut===null){var t=Ne.alternate;t=t!==null?t.memoizedState:null}else t=ut.next;var n=Qt===null?Ne.memoizedState:Qt.next;if(n!==null)Qt=n,ut=t;else{if(t===null)throw Ne.alternate===null?Error(s(467)):Error(s(310));ut=t,t={memoizedState:ut.memoizedState,baseState:ut.baseState,baseQueue:ut.baseQueue,queue:ut.queue,next:null},Qt===null?Ne.memoizedState=Qt=t:Qt=Qt.next=t}return Qt}function ic(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Cl(t){var n=Il;return Il+=1,Ao===null&&(Ao=[]),t=pp(Ao,t,n),n=Ne,(Qt===null?n.memoizedState:Qt.next)===null&&(n=n.alternate,Q.H=n===null||n.memoizedState===null?oy:Hf),t}function rc(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Cl(t);if(t.$$typeof===ve)return cn(t)}throw Error(s(438,String(t)))}function Mf(t){var n=null,a=Ne.updateQueue;if(a!==null&&(n=a.memoCache),n==null){var o=Ne.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(n={data:o.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),a===null&&(a=ic(),Ne.updateQueue=a),a.memoCache=n,a=n.data[n.index],a===void 0)for(a=n.data[n.index]=Array(t),o=0;o<t;o++)a[o]=k;return n.index++,a}function Lr(t,n){return typeof n=="function"?n(t):n}function sc(t){var n=jt();return Of(n,ut,t)}function Of(t,n,a){var o=t.queue;if(o===null)throw Error(s(311));o.lastRenderedReducer=a;var h=t.baseQueue,f=o.pending;if(f!==null){if(h!==null){var p=h.next;h.next=f.next,f.next=p}n.baseQueue=h=f,o.pending=null}if(f=t.baseState,h===null)t.memoizedState=f;else{n=h.next;var E=p=null,C=null,B=n,Y=!1;do{var J=B.lane&-536870913;if(J!==B.lane?(Le&J)===J:(Ur&J)===J){var q=B.revertLane;if(q===0)C!==null&&(C=C.next={lane:0,revertLane:0,gesture:null,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null}),J===_o&&(Y=!0);else if((Ur&q)===q){B=B.next,q===_o&&(Y=!0);continue}else J={lane:0,revertLane:B.revertLane,gesture:null,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},C===null?(E=C=J,p=f):C=C.next=J,Ne.lanes|=q,ws|=q;J=B.action,ka&&a(f,J),f=B.hasEagerState?B.eagerState:a(f,J)}else q={lane:J,revertLane:B.revertLane,gesture:B.gesture,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},C===null?(E=C=q,p=f):C=C.next=q,Ne.lanes|=J,ws|=J;B=B.next}while(B!==null&&B!==n);if(C===null?p=f:C.next=E,!ti(f,t.memoizedState)&&(Yt=!0,Y&&(a=vo,a!==null)))throw a;t.memoizedState=f,t.baseState=p,t.baseQueue=C,o.lastRenderedState=f}return h===null&&(o.lanes=0),[t.memoizedState,o.dispatch]}function Vf(t){var n=jt(),a=n.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=t;var o=a.dispatch,h=a.pending,f=n.memoizedState;if(h!==null){a.pending=null;var p=h=h.next;do f=t(f,p.action),p=p.next;while(p!==h);ti(f,n.memoizedState)||(Yt=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),a.lastRenderedState=f}return[f,o]}function Ip(t,n,a){var o=Ne,h=jt(),f=He;if(f){if(a===void 0)throw Error(s(407));a=a()}else a=n();var p=!ti((ut||h).memoizedState,a);if(p&&(h.memoizedState=a,Yt=!0),h=h.queue,Lf(Np.bind(null,o,h,t),[t]),h.getSnapshot!==n||p||Qt!==null&&Qt.memoizedState.tag&1){if(o.flags|=2048,wo(9,{destroy:void 0},xp.bind(null,o,h,a,n),null),gt===null)throw Error(s(349));f||(Ur&127)!==0||Cp(o,n,a)}return a}function Cp(t,n,a){t.flags|=16384,t={getSnapshot:n,value:a},n=Ne.updateQueue,n===null?(n=ic(),Ne.updateQueue=n,n.stores=[t]):(a=n.stores,a===null?n.stores=[t]:a.push(t))}function xp(t,n,a,o){n.value=a,n.getSnapshot=o,Dp(n)&&Mp(t)}function Np(t,n,a){return a(function(){Dp(n)&&Mp(t)})}function Dp(t){var n=t.getSnapshot;t=t.value;try{var a=n();return!ti(t,a)}catch{return!0}}function Mp(t){var n=Ra(t,2);n!==null&&Gn(n,t,2)}function kf(t){var n=Vn();if(typeof t=="function"){var a=t;if(t=a(),ka){Zt(!0);try{a()}finally{Zt(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Lr,lastRenderedState:t},n}function Op(t,n,a,o){return t.baseState=a,Of(t,ut,typeof o=="function"?o:Lr)}function JT(t,n,a,o,h){if(lc(t))throw Error(s(485));if(t=n.action,t!==null){var f={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(p){f.listeners.push(p)}};Q.T!==null?a(!0):f.isTransition=!1,o(f),a=n.pending,a===null?(f.next=n.pending=f,Vp(n,f)):(f.next=a.next,n.pending=a.next=f)}}function Vp(t,n){var a=n.action,o=n.payload,h=t.state;if(n.isTransition){var f=Q.T,p={};Q.T=p;try{var E=a(h,o),C=Q.S;C!==null&&C(p,E),kp(t,n,E)}catch(B){Uf(t,n,B)}finally{f!==null&&p.types!==null&&(f.types=p.types),Q.T=f}}else try{f=a(h,o),kp(t,n,f)}catch(B){Uf(t,n,B)}}function kp(t,n,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(o){Up(t,n,o)},function(o){return Uf(t,n,o)}):Up(t,n,a)}function Up(t,n,a){n.status="fulfilled",n.value=a,Lp(n),t.state=a,n=t.pending,n!==null&&(a=n.next,a===n?t.pending=null:(a=a.next,n.next=a,Vp(t,a)))}function Uf(t,n,a){var o=t.pending;if(t.pending=null,o!==null){o=o.next;do n.status="rejected",n.reason=a,Lp(n),n=n.next;while(n!==o)}t.action=null}function Lp(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function Pp(t,n){return n}function zp(t,n){if(He){var a=gt.formState;if(a!==null){e:{var o=Ne;if(He){if(Et){t:{for(var h=Et,f=Ti;h.nodeType!==8;){if(!f){h=null;break t}if(h=Si(h.nextSibling),h===null){h=null;break t}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){Et=Si(h.nextSibling),o=h.data==="F!";break e}}ps(o)}o=!1}o&&(n=a[0])}}return a=Vn(),a.memoizedState=a.baseState=n,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Pp,lastRenderedState:n},a.queue=o,a=ry.bind(null,Ne,o),o.dispatch=a,o=kf(!1),f=qf.bind(null,Ne,!1,o.queue),o=Vn(),h={state:n,dispatch:null,action:t,pending:null},o.queue=h,a=JT.bind(null,Ne,h,f,a),h.dispatch=a,o.memoizedState=t,[n,a,!1]}function jp(t){var n=jt();return Bp(n,ut,t)}function Bp(t,n,a){if(n=Of(t,n,Pp)[0],t=sc(Lr)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var o=Cl(n)}catch(p){throw p===Eo?Xu:p}else o=n;n=jt();var h=n.queue,f=h.dispatch;return a!==n.memoizedState&&(Ne.flags|=2048,wo(9,{destroy:void 0},ZT.bind(null,h,a),null)),[o,f,t]}function ZT(t,n){t.action=n}function qp(t){var n=jt(),a=ut;if(a!==null)return Bp(n,a,t);jt(),n=n.memoizedState,a=jt();var o=a.queue.dispatch;return a.memoizedState=t,[n,o,!1]}function wo(t,n,a,o){return t={tag:t,create:a,deps:o,inst:n,next:null},n=Ne.updateQueue,n===null&&(n=ic(),Ne.updateQueue=n),a=n.lastEffect,a===null?n.lastEffect=t.next=t:(o=a.next,a.next=t,t.next=o,n.lastEffect=t),t}function Hp(){return jt().memoizedState}function ac(t,n,a,o){var h=Vn();Ne.flags|=t,h.memoizedState=wo(1|n,{destroy:void 0},a,o===void 0?null:o)}function oc(t,n,a,o){var h=jt();o=o===void 0?null:o;var f=h.memoizedState.inst;ut!==null&&o!==null&&If(o,ut.memoizedState.deps)?h.memoizedState=wo(n,f,a,o):(Ne.flags|=t,h.memoizedState=wo(1|n,f,a,o))}function Fp(t,n){ac(8390656,8,t,n)}function Lf(t,n){oc(2048,8,t,n)}function WT(t){Ne.flags|=4;var n=Ne.updateQueue;if(n===null)n=ic(),Ne.updateQueue=n,n.events=[t];else{var a=n.events;a===null?n.events=[t]:a.push(t)}}function Gp(t){var n=jt().memoizedState;return WT({ref:n,nextImpl:t}),function(){if((nt&2)!==0)throw Error(s(440));return n.impl.apply(void 0,arguments)}}function Qp(t,n){return oc(4,2,t,n)}function Yp(t,n){return oc(4,4,t,n)}function Kp(t,n){if(typeof n=="function"){t=t();var a=n(t);return function(){typeof a=="function"?a():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function Xp(t,n,a){a=a!=null?a.concat([t]):null,oc(4,4,Kp.bind(null,n,t),a)}function Pf(){}function $p(t,n){var a=jt();n=n===void 0?null:n;var o=a.memoizedState;return n!==null&&If(n,o[1])?o[0]:(a.memoizedState=[t,n],t)}function Jp(t,n){var a=jt();n=n===void 0?null:n;var o=a.memoizedState;if(n!==null&&If(n,o[1]))return o[0];if(o=t(),ka){Zt(!0);try{t()}finally{Zt(!1)}}return a.memoizedState=[o,n],o}function zf(t,n,a){return a===void 0||(Ur&1073741824)!==0&&(Le&261930)===0?t.memoizedState=n:(t.memoizedState=a,t=Zy(),Ne.lanes|=t,ws|=t,a)}function Zp(t,n,a,o){return ti(a,n)?a:bo.current!==null?(t=zf(t,a,o),ti(t,n)||(Yt=!0),t):(Ur&42)===0||(Ur&1073741824)!==0&&(Le&261930)===0?(Yt=!0,t.memoizedState=a):(t=Zy(),Ne.lanes|=t,ws|=t,n)}function Wp(t,n,a,o,h){var f=oe.p;oe.p=f!==0&&8>f?f:8;var p=Q.T,E={};Q.T=E,qf(t,!1,n,a);try{var C=h(),B=Q.S;if(B!==null&&B(E,C),C!==null&&typeof C=="object"&&typeof C.then=="function"){var Y=KT(C,o);xl(t,n,Y,oi(t))}else xl(t,n,o,oi(t))}catch(J){xl(t,n,{then:function(){},status:"rejected",reason:J},oi())}finally{oe.p=f,p!==null&&E.types!==null&&(p.types=E.types),Q.T=p}}function eb(){}function jf(t,n,a,o){if(t.tag!==5)throw Error(s(476));var h=ey(t).queue;Wp(t,h,n,ge,a===null?eb:function(){return ty(t),a(o)})}function ey(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:ge,baseState:ge,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Lr,lastRenderedState:ge},next:null};var a={};return n.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Lr,lastRenderedState:a},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function ty(t){var n=ey(t);n.next===null&&(n=t.alternate.memoizedState),xl(t,n.next.queue,{},oi())}function Bf(){return cn(Ql)}function ny(){return jt().memoizedState}function iy(){return jt().memoizedState}function tb(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var a=oi();t=vs(a);var o=Es(n,t,a);o!==null&&(Gn(o,n,a),Al(o,n,a)),n={cache:pf()},t.payload=n;return}n=n.return}}function nb(t,n,a){var o=oi();a={lane:o,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},lc(t)?sy(n,a):(a=sf(t,n,a,o),a!==null&&(Gn(a,t,o),ay(a,n,o)))}function ry(t,n,a){var o=oi();xl(t,n,a,o)}function xl(t,n,a,o){var h={lane:o,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(lc(t))sy(n,h);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var p=n.lastRenderedState,E=f(p,a);if(h.hasEagerState=!0,h.eagerState=E,ti(E,p))return qu(t,n,h,0),gt===null&&Bu(),!1}catch{}finally{}if(a=sf(t,n,h,o),a!==null)return Gn(a,t,o),ay(a,n,o),!0}return!1}function qf(t,n,a,o){if(o={lane:2,revertLane:Ed(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},lc(t)){if(n)throw Error(s(479))}else n=sf(t,a,o,2),n!==null&&Gn(n,t,2)}function lc(t){var n=t.alternate;return t===Ne||n!==null&&n===Ne}function sy(t,n){So=tc=!0;var a=t.pending;a===null?n.next=n:(n.next=a.next,a.next=n),t.pending=n}function ay(t,n,a){if((a&4194048)!==0){var o=n.lanes;o&=t.pendingLanes,a|=o,n.lanes=a,Sr(t,a)}}var Nl={readContext:cn,use:rc,useCallback:Mt,useContext:Mt,useEffect:Mt,useImperativeHandle:Mt,useLayoutEffect:Mt,useInsertionEffect:Mt,useMemo:Mt,useReducer:Mt,useRef:Mt,useState:Mt,useDebugValue:Mt,useDeferredValue:Mt,useTransition:Mt,useSyncExternalStore:Mt,useId:Mt,useHostTransitionStatus:Mt,useFormState:Mt,useActionState:Mt,useOptimistic:Mt,useMemoCache:Mt,useCacheRefresh:Mt};Nl.useEffectEvent=Mt;var oy={readContext:cn,use:rc,useCallback:function(t,n){return Vn().memoizedState=[t,n===void 0?null:n],t},useContext:cn,useEffect:Fp,useImperativeHandle:function(t,n,a){a=a!=null?a.concat([t]):null,ac(4194308,4,Kp.bind(null,n,t),a)},useLayoutEffect:function(t,n){return ac(4194308,4,t,n)},useInsertionEffect:function(t,n){ac(4,2,t,n)},useMemo:function(t,n){var a=Vn();n=n===void 0?null:n;var o=t();if(ka){Zt(!0);try{t()}finally{Zt(!1)}}return a.memoizedState=[o,n],o},useReducer:function(t,n,a){var o=Vn();if(a!==void 0){var h=a(n);if(ka){Zt(!0);try{a(n)}finally{Zt(!1)}}}else h=n;return o.memoizedState=o.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},o.queue=t,t=t.dispatch=nb.bind(null,Ne,t),[o.memoizedState,t]},useRef:function(t){var n=Vn();return t={current:t},n.memoizedState=t},useState:function(t){t=kf(t);var n=t.queue,a=ry.bind(null,Ne,n);return n.dispatch=a,[t.memoizedState,a]},useDebugValue:Pf,useDeferredValue:function(t,n){var a=Vn();return zf(a,t,n)},useTransition:function(){var t=kf(!1);return t=Wp.bind(null,Ne,t.queue,!0,!1),Vn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,a){var o=Ne,h=Vn();if(He){if(a===void 0)throw Error(s(407));a=a()}else{if(a=n(),gt===null)throw Error(s(349));(Le&127)!==0||Cp(o,n,a)}h.memoizedState=a;var f={value:a,getSnapshot:n};return h.queue=f,Fp(Np.bind(null,o,f,t),[t]),o.flags|=2048,wo(9,{destroy:void 0},xp.bind(null,o,f,a,n),null),a},useId:function(){var t=Vn(),n=gt.identifierPrefix;if(He){var a=rr,o=ir;a=(o&~(1<<32-ot(o)-1)).toString(32)+a,n="_"+n+"R_"+a,a=nc++,0<a&&(n+="H"+a.toString(32)),n+="_"}else a=XT++,n="_"+n+"r_"+a.toString(32)+"_";return t.memoizedState=n},useHostTransitionStatus:Bf,useFormState:zp,useActionState:zp,useOptimistic:function(t){var n=Vn();n.memoizedState=n.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=a,n=qf.bind(null,Ne,!0,a),a.dispatch=n,[t,n]},useMemoCache:Mf,useCacheRefresh:function(){return Vn().memoizedState=tb.bind(null,Ne)},useEffectEvent:function(t){var n=Vn(),a={impl:t};return n.memoizedState=a,function(){if((nt&2)!==0)throw Error(s(440));return a.impl.apply(void 0,arguments)}}},Hf={readContext:cn,use:rc,useCallback:$p,useContext:cn,useEffect:Lf,useImperativeHandle:Xp,useInsertionEffect:Qp,useLayoutEffect:Yp,useMemo:Jp,useReducer:sc,useRef:Hp,useState:function(){return sc(Lr)},useDebugValue:Pf,useDeferredValue:function(t,n){var a=jt();return Zp(a,ut.memoizedState,t,n)},useTransition:function(){var t=sc(Lr)[0],n=jt().memoizedState;return[typeof t=="boolean"?t:Cl(t),n]},useSyncExternalStore:Ip,useId:ny,useHostTransitionStatus:Bf,useFormState:jp,useActionState:jp,useOptimistic:function(t,n){var a=jt();return Op(a,ut,t,n)},useMemoCache:Mf,useCacheRefresh:iy};Hf.useEffectEvent=Gp;var ly={readContext:cn,use:rc,useCallback:$p,useContext:cn,useEffect:Lf,useImperativeHandle:Xp,useInsertionEffect:Qp,useLayoutEffect:Yp,useMemo:Jp,useReducer:Vf,useRef:Hp,useState:function(){return Vf(Lr)},useDebugValue:Pf,useDeferredValue:function(t,n){var a=jt();return ut===null?zf(a,t,n):Zp(a,ut.memoizedState,t,n)},useTransition:function(){var t=Vf(Lr)[0],n=jt().memoizedState;return[typeof t=="boolean"?t:Cl(t),n]},useSyncExternalStore:Ip,useId:ny,useHostTransitionStatus:Bf,useFormState:qp,useActionState:qp,useOptimistic:function(t,n){var a=jt();return ut!==null?Op(a,ut,t,n):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:Mf,useCacheRefresh:iy};ly.useEffectEvent=Gp;function Ff(t,n,a,o){n=t.memoizedState,a=a(o,n),a=a==null?n:A({},n,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var Gf={enqueueSetState:function(t,n,a){t=t._reactInternals;var o=oi(),h=vs(o);h.payload=n,a!=null&&(h.callback=a),n=Es(t,h,o),n!==null&&(Gn(n,t,o),Al(n,t,o))},enqueueReplaceState:function(t,n,a){t=t._reactInternals;var o=oi(),h=vs(o);h.tag=1,h.payload=n,a!=null&&(h.callback=a),n=Es(t,h,o),n!==null&&(Gn(n,t,o),Al(n,t,o))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var a=oi(),o=vs(a);o.tag=2,n!=null&&(o.callback=n),n=Es(t,o,a),n!==null&&(Gn(n,t,a),Al(n,t,a))}};function uy(t,n,a,o,h,f,p){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(o,f,p):n.prototype&&n.prototype.isPureReactComponent?!pl(a,o)||!pl(h,f):!0}function cy(t,n,a,o){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(a,o),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(a,o),n.state!==t&&Gf.enqueueReplaceState(n,n.state,null)}function Ua(t,n){var a=n;if("ref"in n){a={};for(var o in n)o!=="ref"&&(a[o]=n[o])}if(t=t.defaultProps){a===n&&(a=A({},a));for(var h in t)a[h]===void 0&&(a[h]=t[h])}return a}function hy(t){ju(t)}function fy(t){console.error(t)}function dy(t){ju(t)}function uc(t,n){try{var a=t.onUncaughtError;a(n.value,{componentStack:n.stack})}catch(o){setTimeout(function(){throw o})}}function my(t,n,a){try{var o=t.onCaughtError;o(a.value,{componentStack:a.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Qf(t,n,a){return a=vs(a),a.tag=3,a.payload={element:null},a.callback=function(){uc(t,n)},a}function gy(t){return t=vs(t),t.tag=3,t}function py(t,n,a,o){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var f=o.value;t.payload=function(){return h(f)},t.callback=function(){my(n,a,o)}}var p=a.stateNode;p!==null&&typeof p.componentDidCatch=="function"&&(t.callback=function(){my(n,a,o),typeof h!="function"&&(Rs===null?Rs=new Set([this]):Rs.add(this));var E=o.stack;this.componentDidCatch(o.value,{componentStack:E!==null?E:""})})}function ib(t,n,a,o,h){if(a.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(n=a.alternate,n!==null&&yo(n,a,h,!0),a=ii.current,a!==null){switch(a.tag){case 31:case 13:return bi===null?Tc():a.alternate===null&&Ot===0&&(Ot=3),a.flags&=-257,a.flags|=65536,a.lanes=h,o===$u?a.flags|=16384:(n=a.updateQueue,n===null?a.updateQueue=new Set([o]):n.add(o),yd(t,o,h)),!1;case 22:return a.flags|=65536,o===$u?a.flags|=16384:(n=a.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([o])},a.updateQueue=n):(a=n.retryQueue,a===null?n.retryQueue=new Set([o]):a.add(o)),yd(t,o,h)),!1}throw Error(s(435,a.tag))}return yd(t,o,h),Tc(),!1}if(He)return n=ii.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,o!==hf&&(t=Error(s(422),{cause:o}),vl(_i(t,a)))):(o!==hf&&(n=Error(s(423),{cause:o}),vl(_i(n,a))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,o=_i(o,a),h=Qf(t.stateNode,o,h),bf(t,h),Ot!==4&&(Ot=2)),!1;var f=Error(s(520),{cause:o});if(f=_i(f,a),Pl===null?Pl=[f]:Pl.push(f),Ot!==4&&(Ot=2),n===null)return!0;o=_i(o,a),a=n;do{switch(a.tag){case 3:return a.flags|=65536,t=h&-h,a.lanes|=t,t=Qf(a.stateNode,o,t),bf(a,t),!1;case 1:if(n=a.type,f=a.stateNode,(a.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Rs===null||!Rs.has(f))))return a.flags|=65536,h&=-h,a.lanes|=h,h=gy(h),py(h,t,a,o),bf(a,h),!1}a=a.return}while(a!==null);return!1}var Yf=Error(s(461)),Yt=!1;function hn(t,n,a,o){n.child=t===null?Ep(n,null,a,o):Va(n,t.child,a,o)}function yy(t,n,a,o,h){a=a.render;var f=n.ref;if("ref"in o){var p={};for(var E in o)E!=="ref"&&(p[E]=o[E])}else p=o;return Na(n),o=Cf(t,n,a,p,f,h),E=xf(),t!==null&&!Yt?(Nf(t,n,h),Pr(t,n,h)):(He&&E&&uf(n),n.flags|=1,hn(t,n,o,h),n.child)}function _y(t,n,a,o,h){if(t===null){var f=a.type;return typeof f=="function"&&!af(f)&&f.defaultProps===void 0&&a.compare===null?(n.tag=15,n.type=f,vy(t,n,f,o,h)):(t=Fu(a.type,null,o,n,n.mode,h),t.ref=n.ref,t.return=n,n.child=t)}if(f=t.child,!td(t,h)){var p=f.memoizedProps;if(a=a.compare,a=a!==null?a:pl,a(p,o)&&t.ref===n.ref)return Pr(t,n,h)}return n.flags|=1,t=Mr(f,o),t.ref=n.ref,t.return=n,n.child=t}function vy(t,n,a,o,h){if(t!==null){var f=t.memoizedProps;if(pl(f,o)&&t.ref===n.ref)if(Yt=!1,n.pendingProps=o=f,td(t,h))(t.flags&131072)!==0&&(Yt=!0);else return n.lanes=t.lanes,Pr(t,n,h)}return Kf(t,n,a,o,h)}function Ey(t,n,a,o){var h=o.children,f=t!==null?t.memoizedState:null;if(t===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|a:a,t!==null){for(o=n.child=t.child,h=0;o!==null;)h=h|o.lanes|o.childLanes,o=o.sibling;o=h&~f}else o=0,n.child=null;return Ty(t,n,f,a,o)}if((a&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&Ku(n,f!==null?f.cachePool:null),f!==null?Sp(n,f):Af(),Ap(n);else return o=n.lanes=536870912,Ty(t,n,f!==null?f.baseLanes|a:a,a,o)}else f!==null?(Ku(n,f.cachePool),Sp(n,f),bs(),n.memoizedState=null):(t!==null&&Ku(n,null),Af(),bs());return hn(t,n,h,a),n.child}function Dl(t,n){return t!==null&&t.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function Ty(t,n,a,o,h){var f=_f();return f=f===null?null:{parent:Gt._currentValue,pool:f},n.memoizedState={baseLanes:a,cachePool:f},t!==null&&Ku(n,null),Af(),Ap(n),t!==null&&yo(t,n,o,!0),n.childLanes=h,null}function cc(t,n){return n=fc({mode:n.mode,children:n.children},t.mode),n.ref=t.ref,t.child=n,n.return=t,n}function by(t,n,a){return Va(n,t.child,null,a),t=cc(n,n.pendingProps),t.flags|=2,ri(n),n.memoizedState=null,t}function rb(t,n,a){var o=n.pendingProps,h=(n.flags&128)!==0;if(n.flags&=-129,t===null){if(He){if(o.mode==="hidden")return t=cc(n,o),n.lanes=536870912,Dl(null,t);if(Rf(n),(t=Et)?(t=V_(t,Ti),t=t!==null&&t.data==="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:ms!==null?{id:ir,overflow:rr}:null,retryLane:536870912,hydrationErrors:null},a=sp(t),a.return=n,n.child=a,un=n,Et=null)):t=null,t===null)throw ps(n);return n.lanes=536870912,null}return cc(n,o)}var f=t.memoizedState;if(f!==null){var p=f.dehydrated;if(Rf(n),h)if(n.flags&256)n.flags&=-257,n=by(t,n,a);else if(n.memoizedState!==null)n.child=t.child,n.flags|=128,n=null;else throw Error(s(558));else if(Yt||yo(t,n,a,!1),h=(a&t.childLanes)!==0,Yt||h){if(o=gt,o!==null&&(p=ca(o,a),p!==0&&p!==f.retryLane))throw f.retryLane=p,Ra(t,p),Gn(o,t,p),Yf;Tc(),n=by(t,n,a)}else t=f.treeContext,Et=Si(p.nextSibling),un=n,He=!0,gs=null,Ti=!1,t!==null&&lp(n,t),n=cc(n,o),n.flags|=4096;return n}return t=Mr(t.child,{mode:o.mode,children:o.children}),t.ref=n.ref,n.child=t,t.return=n,t}function hc(t,n){var a=n.ref;if(a===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(t===null||t.ref!==a)&&(n.flags|=4194816)}}function Kf(t,n,a,o,h){return Na(n),a=Cf(t,n,a,o,void 0,h),o=xf(),t!==null&&!Yt?(Nf(t,n,h),Pr(t,n,h)):(He&&o&&uf(n),n.flags|=1,hn(t,n,a,h),n.child)}function Sy(t,n,a,o,h,f){return Na(n),n.updateQueue=null,a=Rp(n,o,a,h),wp(t),o=xf(),t!==null&&!Yt?(Nf(t,n,f),Pr(t,n,f)):(He&&o&&uf(n),n.flags|=1,hn(t,n,a,f),n.child)}function Ay(t,n,a,o,h){if(Na(n),n.stateNode===null){var f=fo,p=a.contextType;typeof p=="object"&&p!==null&&(f=cn(p)),f=new a(o,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Gf,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=o,f.state=n.memoizedState,f.refs={},Ef(n),p=a.contextType,f.context=typeof p=="object"&&p!==null?cn(p):fo,f.state=n.memoizedState,p=a.getDerivedStateFromProps,typeof p=="function"&&(Ff(n,a,p,o),f.state=n.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(p=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),p!==f.state&&Gf.enqueueReplaceState(f,f.state,null),Rl(n,o,f,h),wl(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!0}else if(t===null){f=n.stateNode;var E=n.memoizedProps,C=Ua(a,E);f.props=C;var B=f.context,Y=a.contextType;p=fo,typeof Y=="object"&&Y!==null&&(p=cn(Y));var J=a.getDerivedStateFromProps;Y=typeof J=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,Y||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||B!==p)&&cy(n,f,o,p),_s=!1;var q=n.memoizedState;f.state=q,Rl(n,o,f,h),wl(),B=n.memoizedState,E||q!==B||_s?(typeof J=="function"&&(Ff(n,a,J,o),B=n.memoizedState),(C=_s||uy(n,a,C,o,q,B,p))?(Y||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=o,n.memoizedState=B),f.props=o,f.state=B,f.context=p,o=C):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!1)}else{f=n.stateNode,Tf(t,n),p=n.memoizedProps,Y=Ua(a,p),f.props=Y,J=n.pendingProps,q=f.context,B=a.contextType,C=fo,typeof B=="object"&&B!==null&&(C=cn(B)),E=a.getDerivedStateFromProps,(B=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(p!==J||q!==C)&&cy(n,f,o,C),_s=!1,q=n.memoizedState,f.state=q,Rl(n,o,f,h),wl();var F=n.memoizedState;p!==J||q!==F||_s||t!==null&&t.dependencies!==null&&Qu(t.dependencies)?(typeof E=="function"&&(Ff(n,a,E,o),F=n.memoizedState),(Y=_s||uy(n,a,Y,o,q,F,C)||t!==null&&t.dependencies!==null&&Qu(t.dependencies))?(B||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(o,F,C),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(o,F,C)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||p===t.memoizedProps&&q===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||p===t.memoizedProps&&q===t.memoizedState||(n.flags|=1024),n.memoizedProps=o,n.memoizedState=F),f.props=o,f.state=F,f.context=C,o=Y):(typeof f.componentDidUpdate!="function"||p===t.memoizedProps&&q===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||p===t.memoizedProps&&q===t.memoizedState||(n.flags|=1024),o=!1)}return f=o,hc(t,n),o=(n.flags&128)!==0,f||o?(f=n.stateNode,a=o&&typeof a.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,t!==null&&o?(n.child=Va(n,t.child,null,h),n.child=Va(n,null,a,h)):hn(t,n,a,h),n.memoizedState=f.state,t=n.child):t=Pr(t,n,h),t}function wy(t,n,a,o){return Ca(),n.flags|=256,hn(t,n,a,o),n.child}var Xf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function $f(t){return{baseLanes:t,cachePool:mp()}}function Jf(t,n,a){return t=t!==null?t.childLanes&~a:0,n&&(t|=ai),t}function Ry(t,n,a){var o=n.pendingProps,h=!1,f=(n.flags&128)!==0,p;if((p=f)||(p=t!==null&&t.memoizedState===null?!1:(zt.current&2)!==0),p&&(h=!0,n.flags&=-129),p=(n.flags&32)!==0,n.flags&=-33,t===null){if(He){if(h?Ts(n):bs(),(t=Et)?(t=V_(t,Ti),t=t!==null&&t.data!=="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:ms!==null?{id:ir,overflow:rr}:null,retryLane:536870912,hydrationErrors:null},a=sp(t),a.return=n,n.child=a,un=n,Et=null)):t=null,t===null)throw ps(n);return Od(t)?n.lanes=32:n.lanes=536870912,null}var E=o.children;return o=o.fallback,h?(bs(),h=n.mode,E=fc({mode:"hidden",children:E},h),o=Ia(o,h,a,null),E.return=n,o.return=n,E.sibling=o,n.child=E,o=n.child,o.memoizedState=$f(a),o.childLanes=Jf(t,p,a),n.memoizedState=Xf,Dl(null,o)):(Ts(n),Zf(n,E))}var C=t.memoizedState;if(C!==null&&(E=C.dehydrated,E!==null)){if(f)n.flags&256?(Ts(n),n.flags&=-257,n=Wf(t,n,a)):n.memoizedState!==null?(bs(),n.child=t.child,n.flags|=128,n=null):(bs(),E=o.fallback,h=n.mode,o=fc({mode:"visible",children:o.children},h),E=Ia(E,h,a,null),E.flags|=2,o.return=n,E.return=n,o.sibling=E,n.child=o,Va(n,t.child,null,a),o=n.child,o.memoizedState=$f(a),o.childLanes=Jf(t,p,a),n.memoizedState=Xf,n=Dl(null,o));else if(Ts(n),Od(E)){if(p=E.nextSibling&&E.nextSibling.dataset,p)var B=p.dgst;p=B,o=Error(s(419)),o.stack="",o.digest=p,vl({value:o,source:null,stack:null}),n=Wf(t,n,a)}else if(Yt||yo(t,n,a,!1),p=(a&t.childLanes)!==0,Yt||p){if(p=gt,p!==null&&(o=ca(p,a),o!==0&&o!==C.retryLane))throw C.retryLane=o,Ra(t,o),Gn(p,t,o),Yf;Md(E)||Tc(),n=Wf(t,n,a)}else Md(E)?(n.flags|=192,n.child=t.child,n=null):(t=C.treeContext,Et=Si(E.nextSibling),un=n,He=!0,gs=null,Ti=!1,t!==null&&lp(n,t),n=Zf(n,o.children),n.flags|=4096);return n}return h?(bs(),E=o.fallback,h=n.mode,C=t.child,B=C.sibling,o=Mr(C,{mode:"hidden",children:o.children}),o.subtreeFlags=C.subtreeFlags&65011712,B!==null?E=Mr(B,E):(E=Ia(E,h,a,null),E.flags|=2),E.return=n,o.return=n,o.sibling=E,n.child=o,Dl(null,o),o=n.child,E=t.child.memoizedState,E===null?E=$f(a):(h=E.cachePool,h!==null?(C=Gt._currentValue,h=h.parent!==C?{parent:C,pool:C}:h):h=mp(),E={baseLanes:E.baseLanes|a,cachePool:h}),o.memoizedState=E,o.childLanes=Jf(t,p,a),n.memoizedState=Xf,Dl(t.child,o)):(Ts(n),a=t.child,t=a.sibling,a=Mr(a,{mode:"visible",children:o.children}),a.return=n,a.sibling=null,t!==null&&(p=n.deletions,p===null?(n.deletions=[t],n.flags|=16):p.push(t)),n.child=a,n.memoizedState=null,a)}function Zf(t,n){return n=fc({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function fc(t,n){return t=ni(22,t,null,n),t.lanes=0,t}function Wf(t,n,a){return Va(n,t.child,null,a),t=Zf(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function Iy(t,n,a){t.lanes|=n;var o=t.alternate;o!==null&&(o.lanes|=n),mf(t.return,n,a)}function ed(t,n,a,o,h,f){var p=t.memoizedState;p===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:o,tail:a,tailMode:h,treeForkCount:f}:(p.isBackwards=n,p.rendering=null,p.renderingStartTime=0,p.last=o,p.tail=a,p.tailMode=h,p.treeForkCount=f)}function Cy(t,n,a){var o=n.pendingProps,h=o.revealOrder,f=o.tail;o=o.children;var p=zt.current,E=(p&2)!==0;if(E?(p=p&1|2,n.flags|=128):p&=1,le(zt,p),hn(t,n,o,a),o=He?_l:0,!E&&t!==null&&(t.flags&128)!==0)e:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Iy(t,a,n);else if(t.tag===19)Iy(t,a,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break e;for(;t.sibling===null;){if(t.return===null||t.return===n)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(h){case"forwards":for(a=n.child,h=null;a!==null;)t=a.alternate,t!==null&&ec(t)===null&&(h=a),a=a.sibling;a=h,a===null?(h=n.child,n.child=null):(h=a.sibling,a.sibling=null),ed(n,!1,h,a,f,o);break;case"backwards":case"unstable_legacy-backwards":for(a=null,h=n.child,n.child=null;h!==null;){if(t=h.alternate,t!==null&&ec(t)===null){n.child=h;break}t=h.sibling,h.sibling=a,a=h,h=t}ed(n,!0,a,null,f,o);break;case"together":ed(n,!1,null,null,void 0,o);break;default:n.memoizedState=null}return n.child}function Pr(t,n,a){if(t!==null&&(n.dependencies=t.dependencies),ws|=n.lanes,(a&n.childLanes)===0)if(t!==null){if(yo(t,n,a,!1),(a&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(s(153));if(n.child!==null){for(t=n.child,a=Mr(t,t.pendingProps),n.child=a,a.return=n;t.sibling!==null;)t=t.sibling,a=a.sibling=Mr(t,t.pendingProps),a.return=n;a.sibling=null}return n.child}function td(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&Qu(t)))}function sb(t,n,a){switch(n.tag){case 3:Ht(n,n.stateNode.containerInfo),ys(n,Gt,t.memoizedState.cache),Ca();break;case 27:case 5:ss(n);break;case 4:Ht(n,n.stateNode.containerInfo);break;case 10:ys(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,Rf(n),null;break;case 13:var o=n.memoizedState;if(o!==null)return o.dehydrated!==null?(Ts(n),n.flags|=128,null):(a&n.child.childLanes)!==0?Ry(t,n,a):(Ts(n),t=Pr(t,n,a),t!==null?t.sibling:null);Ts(n);break;case 19:var h=(t.flags&128)!==0;if(o=(a&n.childLanes)!==0,o||(yo(t,n,a,!1),o=(a&n.childLanes)!==0),h){if(o)return Cy(t,n,a);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),le(zt,zt.current),o)break;return null;case 22:return n.lanes=0,Ey(t,n,a,n.pendingProps);case 24:ys(n,Gt,t.memoizedState.cache)}return Pr(t,n,a)}function xy(t,n,a){if(t!==null)if(t.memoizedProps!==n.pendingProps)Yt=!0;else{if(!td(t,a)&&(n.flags&128)===0)return Yt=!1,sb(t,n,a);Yt=(t.flags&131072)!==0}else Yt=!1,He&&(n.flags&1048576)!==0&&op(n,_l,n.index);switch(n.lanes=0,n.tag){case 16:e:{var o=n.pendingProps;if(t=Ma(n.elementType),n.type=t,typeof t=="function")af(t)?(o=Ua(t,o),n.tag=1,n=Ay(null,n,t,o,a)):(n.tag=0,n=Kf(null,n,t,o,a));else{if(t!=null){var h=t.$$typeof;if(h===Ye){n.tag=11,n=yy(null,n,t,o,a);break e}else if(h===N){n.tag=14,n=_y(null,n,t,o,a);break e}}throw n=yt(t)||t,Error(s(306,n,""))}}return n;case 0:return Kf(t,n,n.type,n.pendingProps,a);case 1:return o=n.type,h=Ua(o,n.pendingProps),Ay(t,n,o,h,a);case 3:e:{if(Ht(n,n.stateNode.containerInfo),t===null)throw Error(s(387));o=n.pendingProps;var f=n.memoizedState;h=f.element,Tf(t,n),Rl(n,o,null,a);var p=n.memoizedState;if(o=p.cache,ys(n,Gt,o),o!==f.cache&&gf(n,[Gt],a,!0),wl(),o=p.element,f.isDehydrated)if(f={element:o,isDehydrated:!1,cache:p.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=wy(t,n,o,a);break e}else if(o!==h){h=_i(Error(s(424)),n),vl(h),n=wy(t,n,o,a);break e}else{switch(t=n.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(Et=Si(t.firstChild),un=n,He=!0,gs=null,Ti=!0,a=Ep(n,null,o,a),n.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Ca(),o===h){n=Pr(t,n,a);break e}hn(t,n,o,a)}n=n.child}return n;case 26:return hc(t,n),t===null?(a=j_(n.type,null,n.pendingProps,null))?n.memoizedState=a:He||(a=n.type,t=n.pendingProps,o=Cc(Ce.current).createElement(a),o[Je]=n,o[kt]=t,fn(o,a,t),It(o),n.stateNode=o):n.memoizedState=j_(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return ss(n),t===null&&He&&(o=n.stateNode=L_(n.type,n.pendingProps,Ce.current),un=n,Ti=!0,h=Et,Ns(n.type)?(Vd=h,Et=Si(o.firstChild)):Et=h),hn(t,n,n.pendingProps.children,a),hc(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&He&&((h=o=Et)&&(o=kb(o,n.type,n.pendingProps,Ti),o!==null?(n.stateNode=o,un=n,Et=Si(o.firstChild),Ti=!1,h=!0):h=!1),h||ps(n)),ss(n),h=n.type,f=n.pendingProps,p=t!==null?t.memoizedProps:null,o=f.children,xd(h,f)?o=null:p!==null&&xd(h,p)&&(n.flags|=32),n.memoizedState!==null&&(h=Cf(t,n,$T,null,null,a),Ql._currentValue=h),hc(t,n),hn(t,n,o,a),n.child;case 6:return t===null&&He&&((t=a=Et)&&(a=Ub(a,n.pendingProps,Ti),a!==null?(n.stateNode=a,un=n,Et=null,t=!0):t=!1),t||ps(n)),null;case 13:return Ry(t,n,a);case 4:return Ht(n,n.stateNode.containerInfo),o=n.pendingProps,t===null?n.child=Va(n,null,o,a):hn(t,n,o,a),n.child;case 11:return yy(t,n,n.type,n.pendingProps,a);case 7:return hn(t,n,n.pendingProps,a),n.child;case 8:return hn(t,n,n.pendingProps.children,a),n.child;case 12:return hn(t,n,n.pendingProps.children,a),n.child;case 10:return o=n.pendingProps,ys(n,n.type,o.value),hn(t,n,o.children,a),n.child;case 9:return h=n.type._context,o=n.pendingProps.children,Na(n),h=cn(h),o=o(h),n.flags|=1,hn(t,n,o,a),n.child;case 14:return _y(t,n,n.type,n.pendingProps,a);case 15:return vy(t,n,n.type,n.pendingProps,a);case 19:return Cy(t,n,a);case 31:return rb(t,n,a);case 22:return Ey(t,n,a,n.pendingProps);case 24:return Na(n),o=cn(Gt),t===null?(h=_f(),h===null&&(h=gt,f=pf(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=a),h=f),n.memoizedState={parent:o,cache:h},Ef(n),ys(n,Gt,h)):((t.lanes&a)!==0&&(Tf(t,n),Rl(n,null,null,a),wl()),h=t.memoizedState,f=n.memoizedState,h.parent!==o?(h={parent:o,cache:o},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),ys(n,Gt,o)):(o=f.cache,ys(n,Gt,o),o!==h.cache&&gf(n,[Gt],a,!0))),hn(t,n,n.pendingProps.children,a),n.child;case 29:throw n.pendingProps}throw Error(s(156,n.tag))}function zr(t){t.flags|=4}function nd(t,n,a,o,h){if((n=(t.mode&32)!==0)&&(n=!1),n){if(t.flags|=16777216,(h&335544128)===h)if(t.stateNode.complete)t.flags|=8192;else if(n_())t.flags|=8192;else throw Oa=$u,vf}else t.flags&=-16777217}function Ny(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!G_(n))if(n_())t.flags|=8192;else throw Oa=$u,vf}function dc(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?ua():536870912,t.lanes|=n,xo|=n)}function Ml(t,n){if(!He)switch(t.tailMode){case"hidden":n=t.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var o=null;a!==null;)a.alternate!==null&&(o=a),a=a.sibling;o===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:o.sibling=null}}function Tt(t){var n=t.alternate!==null&&t.alternate.child===t.child,a=0,o=0;if(n)for(var h=t.child;h!==null;)a|=h.lanes|h.childLanes,o|=h.subtreeFlags&65011712,o|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)a|=h.lanes|h.childLanes,o|=h.subtreeFlags,o|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=o,t.childLanes=a,n}function ab(t,n,a){var o=n.pendingProps;switch(cf(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Tt(n),null;case 1:return Tt(n),null;case 3:return a=n.stateNode,o=null,t!==null&&(o=t.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),kr(Gt),vt(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(po(n)?zr(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,ff())),Tt(n),null;case 26:var h=n.type,f=n.memoizedState;return t===null?(zr(n),f!==null?(Tt(n),Ny(n,f)):(Tt(n),nd(n,h,null,o,a))):f?f!==t.memoizedState?(zr(n),Tt(n),Ny(n,f)):(Tt(n),n.flags&=-16777217):(t=t.memoizedProps,t!==o&&zr(n),Tt(n),nd(n,h,t,o,a)),null;case 27:if(ta(n),a=Ce.current,h=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==o&&zr(n);else{if(!o){if(n.stateNode===null)throw Error(s(166));return Tt(n),null}t=ue.current,po(n)?up(n):(t=L_(h,o,a),n.stateNode=t,zr(n))}return Tt(n),null;case 5:if(ta(n),h=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==o&&zr(n);else{if(!o){if(n.stateNode===null)throw Error(s(166));return Tt(n),null}if(f=ue.current,po(n))up(n);else{var p=Cc(Ce.current);switch(f){case 1:f=p.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:f=p.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":f=p.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":f=p.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":f=p.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof o.is=="string"?p.createElement("select",{is:o.is}):p.createElement("select"),o.multiple?f.multiple=!0:o.size&&(f.size=o.size);break;default:f=typeof o.is=="string"?p.createElement(h,{is:o.is}):p.createElement(h)}}f[Je]=n,f[kt]=o;e:for(p=n.child;p!==null;){if(p.tag===5||p.tag===6)f.appendChild(p.stateNode);else if(p.tag!==4&&p.tag!==27&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===n)break e;for(;p.sibling===null;){if(p.return===null||p.return===n)break e;p=p.return}p.sibling.return=p.return,p=p.sibling}n.stateNode=f;e:switch(fn(f,h,o),h){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break e;case"img":o=!0;break e;default:o=!1}o&&zr(n)}}return Tt(n),nd(n,n.type,t===null?null:t.memoizedProps,n.pendingProps,a),null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==o&&zr(n);else{if(typeof o!="string"&&n.stateNode===null)throw Error(s(166));if(t=Ce.current,po(n)){if(t=n.stateNode,a=n.memoizedProps,o=null,h=un,h!==null)switch(h.tag){case 27:case 5:o=h.memoizedProps}t[Je]=n,t=!!(t.nodeValue===a||o!==null&&o.suppressHydrationWarning===!0||R_(t.nodeValue,a)),t||ps(n,!0)}else t=Cc(t).createTextNode(o),t[Je]=n,n.stateNode=t}return Tt(n),null;case 31:if(a=n.memoizedState,t===null||t.memoizedState!==null){if(o=po(n),a!==null){if(t===null){if(!o)throw Error(s(318));if(t=n.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(557));t[Je]=n}else Ca(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;Tt(n),t=!1}else a=ff(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),t=!0;if(!t)return n.flags&256?(ri(n),n):(ri(n),null);if((n.flags&128)!==0)throw Error(s(558))}return Tt(n),null;case 13:if(o=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=po(n),o!==null&&o.dehydrated!==null){if(t===null){if(!h)throw Error(s(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[Je]=n}else Ca(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;Tt(n),h=!1}else h=ff(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(ri(n),n):(ri(n),null)}return ri(n),(n.flags&128)!==0?(n.lanes=a,n):(a=o!==null,t=t!==null&&t.memoizedState!==null,a&&(o=n.child,h=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(h=o.alternate.memoizedState.cachePool.pool),f=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),f!==h&&(o.flags|=2048)),a!==t&&a&&(n.child.flags|=8192),dc(n,n.updateQueue),Tt(n),null);case 4:return vt(),t===null&&Ad(n.stateNode.containerInfo),Tt(n),null;case 10:return kr(n.type),Tt(n),null;case 19:if($(zt),o=n.memoizedState,o===null)return Tt(n),null;if(h=(n.flags&128)!==0,f=o.rendering,f===null)if(h)Ml(o,!1);else{if(Ot!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(f=ec(t),f!==null){for(n.flags|=128,Ml(o,!1),t=f.updateQueue,n.updateQueue=t,dc(n,t),n.subtreeFlags=0,t=a,a=n.child;a!==null;)rp(a,t),a=a.sibling;return le(zt,zt.current&1|2),He&&Or(n,o.treeForkCount),n.child}t=t.sibling}o.tail!==null&&sn()>_c&&(n.flags|=128,h=!0,Ml(o,!1),n.lanes=4194304)}else{if(!h)if(t=ec(f),t!==null){if(n.flags|=128,h=!0,t=t.updateQueue,n.updateQueue=t,dc(n,t),Ml(o,!0),o.tail===null&&o.tailMode==="hidden"&&!f.alternate&&!He)return Tt(n),null}else 2*sn()-o.renderingStartTime>_c&&a!==536870912&&(n.flags|=128,h=!0,Ml(o,!1),n.lanes=4194304);o.isBackwards?(f.sibling=n.child,n.child=f):(t=o.last,t!==null?t.sibling=f:n.child=f,o.last=f)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=sn(),t.sibling=null,a=zt.current,le(zt,h?a&1|2:a&1),He&&Or(n,o.treeForkCount),t):(Tt(n),null);case 22:case 23:return ri(n),wf(),o=n.memoizedState!==null,t!==null?t.memoizedState!==null!==o&&(n.flags|=8192):o&&(n.flags|=8192),o?(a&536870912)!==0&&(n.flags&128)===0&&(Tt(n),n.subtreeFlags&6&&(n.flags|=8192)):Tt(n),a=n.updateQueue,a!==null&&dc(n,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),o=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),o!==a&&(n.flags|=2048),t!==null&&$(Da),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),n.memoizedState.cache!==a&&(n.flags|=2048),kr(Gt),Tt(n),null;case 25:return null;case 30:return null}throw Error(s(156,n.tag))}function ob(t,n){switch(cf(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return kr(Gt),vt(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return ta(n),null;case 31:if(n.memoizedState!==null){if(ri(n),n.alternate===null)throw Error(s(340));Ca()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 13:if(ri(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(s(340));Ca()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return $(zt),null;case 4:return vt(),null;case 10:return kr(n.type),null;case 22:case 23:return ri(n),wf(),t!==null&&$(Da),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return kr(Gt),null;case 25:return null;default:return null}}function Dy(t,n){switch(cf(n),n.tag){case 3:kr(Gt),vt();break;case 26:case 27:case 5:ta(n);break;case 4:vt();break;case 31:n.memoizedState!==null&&ri(n);break;case 13:ri(n);break;case 19:$(zt);break;case 10:kr(n.type);break;case 22:case 23:ri(n),wf(),t!==null&&$(Da);break;case 24:kr(Gt)}}function Ol(t,n){try{var a=n.updateQueue,o=a!==null?a.lastEffect:null;if(o!==null){var h=o.next;a=h;do{if((a.tag&t)===t){o=void 0;var f=a.create,p=a.inst;o=f(),p.destroy=o}a=a.next}while(a!==h)}}catch(E){at(n,n.return,E)}}function Ss(t,n,a){try{var o=n.updateQueue,h=o!==null?o.lastEffect:null;if(h!==null){var f=h.next;o=f;do{if((o.tag&t)===t){var p=o.inst,E=p.destroy;if(E!==void 0){p.destroy=void 0,h=n;var C=a,B=E;try{B()}catch(Y){at(h,C,Y)}}}o=o.next}while(o!==f)}}catch(Y){at(n,n.return,Y)}}function My(t){var n=t.updateQueue;if(n!==null){var a=t.stateNode;try{bp(n,a)}catch(o){at(t,t.return,o)}}}function Oy(t,n,a){a.props=Ua(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(o){at(t,n,o)}}function Vl(t,n){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var o=t.stateNode;break;case 30:o=t.stateNode;break;default:o=t.stateNode}typeof a=="function"?t.refCleanup=a(o):a.current=o}}catch(h){at(t,n,h)}}function sr(t,n){var a=t.ref,o=t.refCleanup;if(a!==null)if(typeof o=="function")try{o()}catch(h){at(t,n,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){at(t,n,h)}else a.current=null}function Vy(t){var n=t.type,a=t.memoizedProps,o=t.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":a.autoFocus&&o.focus();break e;case"img":a.src?o.src=a.src:a.srcSet&&(o.srcset=a.srcSet)}}catch(h){at(t,t.return,h)}}function id(t,n,a){try{var o=t.stateNode;xb(o,t.type,a,n),o[kt]=n}catch(h){at(t,t.return,h)}}function ky(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Ns(t.type)||t.tag===4}function rd(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||ky(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Ns(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function sd(t,n,a){var o=t.tag;if(o===5||o===6)t=t.stateNode,n?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,n):(n=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,n.appendChild(t),a=a._reactRootContainer,a!=null||n.onclick!==null||(n.onclick=Wn));else if(o!==4&&(o===27&&Ns(t.type)&&(a=t.stateNode,n=null),t=t.child,t!==null))for(sd(t,n,a),t=t.sibling;t!==null;)sd(t,n,a),t=t.sibling}function mc(t,n,a){var o=t.tag;if(o===5||o===6)t=t.stateNode,n?a.insertBefore(t,n):a.appendChild(t);else if(o!==4&&(o===27&&Ns(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(mc(t,n,a),t=t.sibling;t!==null;)mc(t,n,a),t=t.sibling}function Uy(t){var n=t.stateNode,a=t.memoizedProps;try{for(var o=t.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);fn(n,o,a),n[Je]=t,n[kt]=a}catch(f){at(t,t.return,f)}}var jr=!1,Kt=!1,ad=!1,Ly=typeof WeakSet=="function"?WeakSet:Set,nn=null;function lb(t,n){if(t=t.containerInfo,Id=kc,t=Xg(t),Zh(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var o=a.getSelection&&a.getSelection();if(o&&o.rangeCount!==0){a=o.anchorNode;var h=o.anchorOffset,f=o.focusNode;o=o.focusOffset;try{a.nodeType,f.nodeType}catch{a=null;break e}var p=0,E=-1,C=-1,B=0,Y=0,J=t,q=null;t:for(;;){for(var F;J!==a||h!==0&&J.nodeType!==3||(E=p+h),J!==f||o!==0&&J.nodeType!==3||(C=p+o),J.nodeType===3&&(p+=J.nodeValue.length),(F=J.firstChild)!==null;)q=J,J=F;for(;;){if(J===t)break t;if(q===a&&++B===h&&(E=p),q===f&&++Y===o&&(C=p),(F=J.nextSibling)!==null)break;J=q,q=J.parentNode}J=F}a=E===-1||C===-1?null:{start:E,end:C}}else a=null}a=a||{start:0,end:0}}else a=null;for(Cd={focusedElem:t,selectionRange:a},kc=!1,nn=n;nn!==null;)if(n=nn,t=n.child,(n.subtreeFlags&1028)!==0&&t!==null)t.return=n,nn=t;else for(;nn!==null;){switch(n=nn,f=n.alternate,t=n.flags,n.tag){case 0:if((t&4)!==0&&(t=n.updateQueue,t=t!==null?t.events:null,t!==null))for(a=0;a<t.length;a++)h=t[a],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,a=n,h=f.memoizedProps,f=f.memoizedState,o=a.stateNode;try{var fe=Ua(a.type,h);t=o.getSnapshotBeforeUpdate(fe,f),o.__reactInternalSnapshotBeforeUpdate=t}catch(_e){at(a,a.return,_e)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,a=t.nodeType,a===9)Dd(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Dd(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=n.sibling,t!==null){t.return=n.return,nn=t;break}nn=n.return}}function Py(t,n,a){var o=a.flags;switch(a.tag){case 0:case 11:case 15:qr(t,a),o&4&&Ol(5,a);break;case 1:if(qr(t,a),o&4)if(t=a.stateNode,n===null)try{t.componentDidMount()}catch(p){at(a,a.return,p)}else{var h=Ua(a.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(h,n,t.__reactInternalSnapshotBeforeUpdate)}catch(p){at(a,a.return,p)}}o&64&&My(a),o&512&&Vl(a,a.return);break;case 3:if(qr(t,a),o&64&&(t=a.updateQueue,t!==null)){if(n=null,a.child!==null)switch(a.child.tag){case 27:case 5:n=a.child.stateNode;break;case 1:n=a.child.stateNode}try{bp(t,n)}catch(p){at(a,a.return,p)}}break;case 27:n===null&&o&4&&Uy(a);case 26:case 5:qr(t,a),n===null&&o&4&&Vy(a),o&512&&Vl(a,a.return);break;case 12:qr(t,a);break;case 31:qr(t,a),o&4&&By(t,a);break;case 13:qr(t,a),o&4&&qy(t,a),o&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=yb.bind(null,a),Lb(t,a))));break;case 22:if(o=a.memoizedState!==null||jr,!o){n=n!==null&&n.memoizedState!==null||Kt,h=jr;var f=Kt;jr=o,(Kt=n)&&!f?Hr(t,a,(a.subtreeFlags&8772)!==0):qr(t,a),jr=h,Kt=f}break;case 30:break;default:qr(t,a)}}function zy(t){var n=t.alternate;n!==null&&(t.alternate=null,zy(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&Ln(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var At=null,Bn=!1;function Br(t,n,a){for(a=a.child;a!==null;)jy(t,n,a),a=a.sibling}function jy(t,n,a){if(Ft&&typeof Ft.onCommitFiberUnmount=="function")try{Ft.onCommitFiberUnmount(Vt,a)}catch{}switch(a.tag){case 26:Kt||sr(a,n),Br(t,n,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Kt||sr(a,n);var o=At,h=Bn;Ns(a.type)&&(At=a.stateNode,Bn=!1),Br(t,n,a),Hl(a.stateNode),At=o,Bn=h;break;case 5:Kt||sr(a,n);case 6:if(o=At,h=Bn,At=null,Br(t,n,a),At=o,Bn=h,At!==null)if(Bn)try{(At.nodeType===9?At.body:At.nodeName==="HTML"?At.ownerDocument.body:At).removeChild(a.stateNode)}catch(f){at(a,n,f)}else try{At.removeChild(a.stateNode)}catch(f){at(a,n,f)}break;case 18:At!==null&&(Bn?(t=At,M_(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),Lo(t)):M_(At,a.stateNode));break;case 4:o=At,h=Bn,At=a.stateNode.containerInfo,Bn=!0,Br(t,n,a),At=o,Bn=h;break;case 0:case 11:case 14:case 15:Ss(2,a,n),Kt||Ss(4,a,n),Br(t,n,a);break;case 1:Kt||(sr(a,n),o=a.stateNode,typeof o.componentWillUnmount=="function"&&Oy(a,n,o)),Br(t,n,a);break;case 21:Br(t,n,a);break;case 22:Kt=(o=Kt)||a.memoizedState!==null,Br(t,n,a),Kt=o;break;default:Br(t,n,a)}}function By(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{Lo(t)}catch(a){at(n,n.return,a)}}}function qy(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Lo(t)}catch(a){at(n,n.return,a)}}function ub(t){switch(t.tag){case 31:case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new Ly),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new Ly),n;default:throw Error(s(435,t.tag))}}function gc(t,n){var a=ub(t);n.forEach(function(o){if(!a.has(o)){a.add(o);var h=_b.bind(null,t,o);o.then(h,h)}})}function qn(t,n){var a=n.deletions;if(a!==null)for(var o=0;o<a.length;o++){var h=a[o],f=t,p=n,E=p;e:for(;E!==null;){switch(E.tag){case 27:if(Ns(E.type)){At=E.stateNode,Bn=!1;break e}break;case 5:At=E.stateNode,Bn=!1;break e;case 3:case 4:At=E.stateNode.containerInfo,Bn=!0;break e}E=E.return}if(At===null)throw Error(s(160));jy(f,p,h),At=null,Bn=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)Hy(n,t),n=n.sibling}var Bi=null;function Hy(t,n){var a=t.alternate,o=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:qn(n,t),Hn(t),o&4&&(Ss(3,t,t.return),Ol(3,t),Ss(5,t,t.return));break;case 1:qn(n,t),Hn(t),o&512&&(Kt||a===null||sr(a,a.return)),o&64&&jr&&(t=t.updateQueue,t!==null&&(o=t.callbacks,o!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?o:a.concat(o))));break;case 26:var h=Bi;if(qn(n,t),Hn(t),o&512&&(Kt||a===null||sr(a,a.return)),o&4){var f=a!==null?a.memoizedState:null;if(o=t.memoizedState,a===null)if(o===null)if(t.stateNode===null){e:{o=t.type,a=t.memoizedProps,h=h.ownerDocument||h;t:switch(o){case"title":f=h.getElementsByTagName("title")[0],(!f||f[on]||f[Je]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(o),h.head.insertBefore(f,h.querySelector("head > title"))),fn(f,o,a),f[Je]=t,It(f),o=f;break e;case"link":var p=H_("link","href",h).get(o+(a.href||""));if(p){for(var E=0;E<p.length;E++)if(f=p[E],f.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&f.getAttribute("rel")===(a.rel==null?null:a.rel)&&f.getAttribute("title")===(a.title==null?null:a.title)&&f.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){p.splice(E,1);break t}}f=h.createElement(o),fn(f,o,a),h.head.appendChild(f);break;case"meta":if(p=H_("meta","content",h).get(o+(a.content||""))){for(E=0;E<p.length;E++)if(f=p[E],f.getAttribute("content")===(a.content==null?null:""+a.content)&&f.getAttribute("name")===(a.name==null?null:a.name)&&f.getAttribute("property")===(a.property==null?null:a.property)&&f.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&f.getAttribute("charset")===(a.charSet==null?null:a.charSet)){p.splice(E,1);break t}}f=h.createElement(o),fn(f,o,a),h.head.appendChild(f);break;default:throw Error(s(468,o))}f[Je]=t,It(f),o=f}t.stateNode=o}else F_(h,t.type,t.stateNode);else t.stateNode=q_(h,o,t.memoizedProps);else f!==o?(f===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):f.count--,o===null?F_(h,t.type,t.stateNode):q_(h,o,t.memoizedProps)):o===null&&t.stateNode!==null&&id(t,t.memoizedProps,a.memoizedProps)}break;case 27:qn(n,t),Hn(t),o&512&&(Kt||a===null||sr(a,a.return)),a!==null&&o&4&&id(t,t.memoizedProps,a.memoizedProps);break;case 5:if(qn(n,t),Hn(t),o&512&&(Kt||a===null||sr(a,a.return)),t.flags&32){h=t.stateNode;try{Tn(h,"")}catch(fe){at(t,t.return,fe)}}o&4&&t.stateNode!=null&&(h=t.memoizedProps,id(t,h,a!==null?a.memoizedProps:h)),o&1024&&(ad=!0);break;case 6:if(qn(n,t),Hn(t),o&4){if(t.stateNode===null)throw Error(s(162));o=t.memoizedProps,a=t.stateNode;try{a.nodeValue=o}catch(fe){at(t,t.return,fe)}}break;case 3:if(Dc=null,h=Bi,Bi=xc(n.containerInfo),qn(n,t),Bi=h,Hn(t),o&4&&a!==null&&a.memoizedState.isDehydrated)try{Lo(n.containerInfo)}catch(fe){at(t,t.return,fe)}ad&&(ad=!1,Fy(t));break;case 4:o=Bi,Bi=xc(t.stateNode.containerInfo),qn(n,t),Hn(t),Bi=o;break;case 12:qn(n,t),Hn(t);break;case 31:qn(n,t),Hn(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,gc(t,o)));break;case 13:qn(n,t),Hn(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(yc=sn()),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,gc(t,o)));break;case 22:h=t.memoizedState!==null;var C=a!==null&&a.memoizedState!==null,B=jr,Y=Kt;if(jr=B||h,Kt=Y||C,qn(n,t),Kt=Y,jr=B,Hn(t),o&8192)e:for(n=t.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(a===null||C||jr||Kt||La(t)),a=null,n=t;;){if(n.tag===5||n.tag===26){if(a===null){C=a=n;try{if(f=C.stateNode,h)p=f.style,typeof p.setProperty=="function"?p.setProperty("display","none","important"):p.display="none";else{E=C.stateNode;var J=C.memoizedProps.style,q=J!=null&&J.hasOwnProperty("display")?J.display:null;E.style.display=q==null||typeof q=="boolean"?"":(""+q).trim()}}catch(fe){at(C,C.return,fe)}}}else if(n.tag===6){if(a===null){C=n;try{C.stateNode.nodeValue=h?"":C.memoizedProps}catch(fe){at(C,C.return,fe)}}}else if(n.tag===18){if(a===null){C=n;try{var F=C.stateNode;h?O_(F,!0):O_(C.stateNode,!1)}catch(fe){at(C,C.return,fe)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break e;for(;n.sibling===null;){if(n.return===null||n.return===t)break e;a===n&&(a=null),n=n.return}a===n&&(a=null),n.sibling.return=n.return,n=n.sibling}o&4&&(o=t.updateQueue,o!==null&&(a=o.retryQueue,a!==null&&(o.retryQueue=null,gc(t,a))));break;case 19:qn(n,t),Hn(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,gc(t,o)));break;case 30:break;case 21:break;default:qn(n,t),Hn(t)}}function Hn(t){var n=t.flags;if(n&2){try{for(var a,o=t.return;o!==null;){if(ky(o)){a=o;break}o=o.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var h=a.stateNode,f=rd(t);mc(t,f,h);break;case 5:var p=a.stateNode;a.flags&32&&(Tn(p,""),a.flags&=-33);var E=rd(t);mc(t,E,p);break;case 3:case 4:var C=a.stateNode.containerInfo,B=rd(t);sd(t,B,C);break;default:throw Error(s(161))}}catch(Y){at(t,t.return,Y)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function Fy(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;Fy(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function qr(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Py(t,n.alternate,n),n=n.sibling}function La(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:Ss(4,n,n.return),La(n);break;case 1:sr(n,n.return);var a=n.stateNode;typeof a.componentWillUnmount=="function"&&Oy(n,n.return,a),La(n);break;case 27:Hl(n.stateNode);case 26:case 5:sr(n,n.return),La(n);break;case 22:n.memoizedState===null&&La(n);break;case 30:La(n);break;default:La(n)}t=t.sibling}}function Hr(t,n,a){for(a=a&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var o=n.alternate,h=t,f=n,p=f.flags;switch(f.tag){case 0:case 11:case 15:Hr(h,f,a),Ol(4,f);break;case 1:if(Hr(h,f,a),o=f,h=o.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(B){at(o,o.return,B)}if(o=f,h=o.updateQueue,h!==null){var E=o.stateNode;try{var C=h.shared.hiddenCallbacks;if(C!==null)for(h.shared.hiddenCallbacks=null,h=0;h<C.length;h++)Tp(C[h],E)}catch(B){at(o,o.return,B)}}a&&p&64&&My(f),Vl(f,f.return);break;case 27:Uy(f);case 26:case 5:Hr(h,f,a),a&&o===null&&p&4&&Vy(f),Vl(f,f.return);break;case 12:Hr(h,f,a);break;case 31:Hr(h,f,a),a&&p&4&&By(h,f);break;case 13:Hr(h,f,a),a&&p&4&&qy(h,f);break;case 22:f.memoizedState===null&&Hr(h,f,a),Vl(f,f.return);break;case 30:break;default:Hr(h,f,a)}n=n.sibling}}function od(t,n){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&El(a))}function ld(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&El(t))}function qi(t,n,a,o){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Gy(t,n,a,o),n=n.sibling}function Gy(t,n,a,o){var h=n.flags;switch(n.tag){case 0:case 11:case 15:qi(t,n,a,o),h&2048&&Ol(9,n);break;case 1:qi(t,n,a,o);break;case 3:qi(t,n,a,o),h&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&El(t)));break;case 12:if(h&2048){qi(t,n,a,o),t=n.stateNode;try{var f=n.memoizedProps,p=f.id,E=f.onPostCommit;typeof E=="function"&&E(p,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(C){at(n,n.return,C)}}else qi(t,n,a,o);break;case 31:qi(t,n,a,o);break;case 13:qi(t,n,a,o);break;case 23:break;case 22:f=n.stateNode,p=n.alternate,n.memoizedState!==null?f._visibility&2?qi(t,n,a,o):kl(t,n):f._visibility&2?qi(t,n,a,o):(f._visibility|=2,Ro(t,n,a,o,(n.subtreeFlags&10256)!==0||!1)),h&2048&&od(p,n);break;case 24:qi(t,n,a,o),h&2048&&ld(n.alternate,n);break;default:qi(t,n,a,o)}}function Ro(t,n,a,o,h){for(h=h&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=t,p=n,E=a,C=o,B=p.flags;switch(p.tag){case 0:case 11:case 15:Ro(f,p,E,C,h),Ol(8,p);break;case 23:break;case 22:var Y=p.stateNode;p.memoizedState!==null?Y._visibility&2?Ro(f,p,E,C,h):kl(f,p):(Y._visibility|=2,Ro(f,p,E,C,h)),h&&B&2048&&od(p.alternate,p);break;case 24:Ro(f,p,E,C,h),h&&B&2048&&ld(p.alternate,p);break;default:Ro(f,p,E,C,h)}n=n.sibling}}function kl(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var a=t,o=n,h=o.flags;switch(o.tag){case 22:kl(a,o),h&2048&&od(o.alternate,o);break;case 24:kl(a,o),h&2048&&ld(o.alternate,o);break;default:kl(a,o)}n=n.sibling}}var Ul=8192;function Io(t,n,a){if(t.subtreeFlags&Ul)for(t=t.child;t!==null;)Qy(t,n,a),t=t.sibling}function Qy(t,n,a){switch(t.tag){case 26:Io(t,n,a),t.flags&Ul&&t.memoizedState!==null&&Xb(a,Bi,t.memoizedState,t.memoizedProps);break;case 5:Io(t,n,a);break;case 3:case 4:var o=Bi;Bi=xc(t.stateNode.containerInfo),Io(t,n,a),Bi=o;break;case 22:t.memoizedState===null&&(o=t.alternate,o!==null&&o.memoizedState!==null?(o=Ul,Ul=16777216,Io(t,n,a),Ul=o):Io(t,n,a));break;default:Io(t,n,a)}}function Yy(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function Ll(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var o=n[a];nn=o,Xy(o,t)}Yy(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Ky(t),t=t.sibling}function Ky(t){switch(t.tag){case 0:case 11:case 15:Ll(t),t.flags&2048&&Ss(9,t,t.return);break;case 3:Ll(t);break;case 12:Ll(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,pc(t)):Ll(t);break;default:Ll(t)}}function pc(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var o=n[a];nn=o,Xy(o,t)}Yy(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:Ss(8,n,n.return),pc(n);break;case 22:a=n.stateNode,a._visibility&2&&(a._visibility&=-3,pc(n));break;default:pc(n)}t=t.sibling}}function Xy(t,n){for(;nn!==null;){var a=nn;switch(a.tag){case 0:case 11:case 15:Ss(8,a,n);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var o=a.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:El(a.memoizedState.cache)}if(o=a.child,o!==null)o.return=a,nn=o;else e:for(a=t;nn!==null;){o=nn;var h=o.sibling,f=o.return;if(zy(o),o===a){nn=null;break e}if(h!==null){h.return=f,nn=h;break e}nn=f}}}var cb={getCacheForType:function(t){var n=cn(Gt),a=n.data.get(t);return a===void 0&&(a=t(),n.data.set(t,a)),a},cacheSignal:function(){return cn(Gt).controller.signal}},hb=typeof WeakMap=="function"?WeakMap:Map,nt=0,gt=null,Ve=null,Le=0,st=0,si=null,As=!1,Co=!1,ud=!1,Fr=0,Ot=0,ws=0,Pa=0,cd=0,ai=0,xo=0,Pl=null,Fn=null,hd=!1,yc=0,$y=0,_c=1/0,vc=null,Rs=null,en=0,Is=null,No=null,Gr=0,fd=0,dd=null,Jy=null,zl=0,md=null;function oi(){return(nt&2)!==0&&Le!==0?Le&-Le:Q.T!==null?Ed():os()}function Zy(){if(ai===0)if((Le&536870912)===0||He){var t=br;br<<=1,(br&3932160)===0&&(br=262144),ai=t}else ai=536870912;return t=ii.current,t!==null&&(t.flags|=32),ai}function Gn(t,n,a){(t===gt&&(st===2||st===9)||t.cancelPendingCommit!==null)&&(Do(t,0),Cs(t,Le,ai,!1)),Yi(t,a),((nt&2)===0||t!==gt)&&(t===gt&&((nt&2)===0&&(Pa|=a),Ot===4&&Cs(t,Le,ai,!1)),ar(t))}function Wy(t,n,a){if((nt&6)!==0)throw Error(s(327));var o=!a&&(n&127)===0&&(n&t.expiredLanes)===0||lt(t,n),h=o?mb(t,n):pd(t,n,!0),f=o;do{if(h===0){Co&&!o&&Cs(t,n,0,!1);break}else{if(a=t.current.alternate,f&&!fb(a)){h=pd(t,n,!1),f=!1;continue}if(h===2){if(f=n,t.errorRecoveryDisabledLanes&f)var p=0;else p=t.pendingLanes&-536870913,p=p!==0?p:p&536870912?536870912:0;if(p!==0){n=p;e:{var E=t;h=Pl;var C=E.current.memoizedState.isDehydrated;if(C&&(Do(E,p).flags|=256),p=pd(E,p,!1),p!==2){if(ud&&!C){E.errorRecoveryDisabledLanes|=f,Pa|=f,h=4;break e}f=Fn,Fn=h,f!==null&&(Fn===null?Fn=f:Fn.push.apply(Fn,f))}h=p}if(f=!1,h!==2)continue}}if(h===1){Do(t,0),Cs(t,n,0,!0);break}e:{switch(o=t,f=h,f){case 0:case 1:throw Error(s(345));case 4:if((n&4194048)!==n)break;case 6:Cs(o,n,ai,!As);break e;case 2:Fn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((n&62914560)===n&&(h=yc+300-sn(),10<h)){if(Cs(o,n,ai,!As),Un(o,0,!0)!==0)break e;Gr=n,o.timeoutHandle=N_(e_.bind(null,o,a,Fn,vc,hd,n,ai,Pa,xo,As,f,"Throttled",-0,0),h);break e}e_(o,a,Fn,vc,hd,n,ai,Pa,xo,As,f,null,-0,0)}}break}while(!0);ar(t)}function e_(t,n,a,o,h,f,p,E,C,B,Y,J,q,F){if(t.timeoutHandle=-1,J=n.subtreeFlags,J&8192||(J&16785408)===16785408){J={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Wn},Qy(n,f,J);var fe=(f&62914560)===f?yc-sn():(f&4194048)===f?$y-sn():0;if(fe=$b(J,fe),fe!==null){Gr=f,t.cancelPendingCommit=fe(l_.bind(null,t,n,f,a,o,h,p,E,C,Y,J,null,q,F)),Cs(t,f,p,!B);return}}l_(t,n,f,a,o,h,p,E,C)}function fb(t){for(var n=t;;){var a=n.tag;if((a===0||a===11||a===15)&&n.flags&16384&&(a=n.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var o=0;o<a.length;o++){var h=a[o],f=h.getSnapshot;h=h.value;try{if(!ti(f(),h))return!1}catch{return!1}}if(a=n.child,n.subtreeFlags&16384&&a!==null)a.return=n,n=a;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Cs(t,n,a,o){n&=~cd,n&=~Pa,t.suspendedLanes|=n,t.pingedLanes&=~n,o&&(t.warmLanes|=n),o=t.expirationTimes;for(var h=n;0<h;){var f=31-ot(h),p=1<<f;o[f]=-1,h&=~p}a!==0&&Di(t,a,n)}function Ec(){return(nt&6)===0?(jl(0),!1):!0}function gd(){if(Ve!==null){if(st===0)var t=Ve.return;else t=Ve,Vr=xa=null,Df(t),To=null,bl=0,t=Ve;for(;t!==null;)Dy(t.alternate,t),t=t.return;Ve=null}}function Do(t,n){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,Mb(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),Gr=0,gd(),gt=t,Ve=a=Mr(t.current,null),Le=n,st=0,si=null,As=!1,Co=lt(t,n),ud=!1,xo=ai=cd=Pa=ws=Ot=0,Fn=Pl=null,hd=!1,(n&8)!==0&&(n|=n&32);var o=t.entangledLanes;if(o!==0)for(t=t.entanglements,o&=n;0<o;){var h=31-ot(o),f=1<<h;n|=t[h],o&=~f}return Fr=n,Bu(),a}function t_(t,n){Ne=null,Q.H=Nl,n===Eo||n===Xu?(n=yp(),st=3):n===vf?(n=yp(),st=4):st=n===Yf?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,si=n,Ve===null&&(Ot=1,uc(t,_i(n,t.current)))}function n_(){var t=ii.current;return t===null?!0:(Le&4194048)===Le?bi===null:(Le&62914560)===Le||(Le&536870912)!==0?t===bi:!1}function i_(){var t=Q.H;return Q.H=Nl,t===null?Nl:t}function r_(){var t=Q.A;return Q.A=cb,t}function Tc(){Ot=4,As||(Le&4194048)!==Le&&ii.current!==null||(Co=!0),(ws&134217727)===0&&(Pa&134217727)===0||gt===null||Cs(gt,Le,ai,!1)}function pd(t,n,a){var o=nt;nt|=2;var h=i_(),f=r_();(gt!==t||Le!==n)&&(vc=null,Do(t,n)),n=!1;var p=Ot;e:do try{if(st!==0&&Ve!==null){var E=Ve,C=si;switch(st){case 8:gd(),p=6;break e;case 3:case 2:case 9:case 6:ii.current===null&&(n=!0);var B=st;if(st=0,si=null,Mo(t,E,C,B),a&&Co){p=0;break e}break;default:B=st,st=0,si=null,Mo(t,E,C,B)}}db(),p=Ot;break}catch(Y){t_(t,Y)}while(!0);return n&&t.shellSuspendCounter++,Vr=xa=null,nt=o,Q.H=h,Q.A=f,Ve===null&&(gt=null,Le=0,Bu()),p}function db(){for(;Ve!==null;)s_(Ve)}function mb(t,n){var a=nt;nt|=2;var o=i_(),h=r_();gt!==t||Le!==n?(vc=null,_c=sn()+500,Do(t,n)):Co=lt(t,n);e:do try{if(st!==0&&Ve!==null){n=Ve;var f=si;t:switch(st){case 1:st=0,si=null,Mo(t,n,f,1);break;case 2:case 9:if(gp(f)){st=0,si=null,a_(n);break}n=function(){st!==2&&st!==9||gt!==t||(st=7),ar(t)},f.then(n,n);break e;case 3:st=7;break e;case 4:st=5;break e;case 7:gp(f)?(st=0,si=null,a_(n)):(st=0,si=null,Mo(t,n,f,7));break;case 5:var p=null;switch(Ve.tag){case 26:p=Ve.memoizedState;case 5:case 27:var E=Ve;if(p?G_(p):E.stateNode.complete){st=0,si=null;var C=E.sibling;if(C!==null)Ve=C;else{var B=E.return;B!==null?(Ve=B,bc(B)):Ve=null}break t}}st=0,si=null,Mo(t,n,f,5);break;case 6:st=0,si=null,Mo(t,n,f,6);break;case 8:gd(),Ot=6;break e;default:throw Error(s(462))}}gb();break}catch(Y){t_(t,Y)}while(!0);return Vr=xa=null,Q.H=o,Q.A=h,nt=a,Ve!==null?0:(gt=null,Le=0,Bu(),Ot)}function gb(){for(;Ve!==null&&!sa();)s_(Ve)}function s_(t){var n=xy(t.alternate,t,Fr);t.memoizedProps=t.pendingProps,n===null?bc(t):Ve=n}function a_(t){var n=t,a=n.alternate;switch(n.tag){case 15:case 0:n=Sy(a,n,n.pendingProps,n.type,void 0,Le);break;case 11:n=Sy(a,n,n.pendingProps,n.type.render,n.ref,Le);break;case 5:Df(n);default:Dy(a,n),n=Ve=rp(n,Fr),n=xy(a,n,Fr)}t.memoizedProps=t.pendingProps,n===null?bc(t):Ve=n}function Mo(t,n,a,o){Vr=xa=null,Df(n),To=null,bl=0;var h=n.return;try{if(ib(t,h,n,a,Le)){Ot=1,uc(t,_i(a,t.current)),Ve=null;return}}catch(f){if(h!==null)throw Ve=h,f;Ot=1,uc(t,_i(a,t.current)),Ve=null;return}n.flags&32768?(He||o===1?t=!0:Co||(Le&536870912)!==0?t=!1:(As=t=!0,(o===2||o===9||o===3||o===6)&&(o=ii.current,o!==null&&o.tag===13&&(o.flags|=16384))),o_(n,t)):bc(n)}function bc(t){var n=t;do{if((n.flags&32768)!==0){o_(n,As);return}t=n.return;var a=ab(n.alternate,n,Fr);if(a!==null){Ve=a;return}if(n=n.sibling,n!==null){Ve=n;return}Ve=n=t}while(n!==null);Ot===0&&(Ot=5)}function o_(t,n){do{var a=ob(t.alternate,t);if(a!==null){a.flags&=32767,Ve=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!n&&(t=t.sibling,t!==null)){Ve=t;return}Ve=t=a}while(t!==null);Ot=6,Ve=null}function l_(t,n,a,o,h,f,p,E,C){t.cancelPendingCommit=null;do Sc();while(en!==0);if((nt&6)!==0)throw Error(s(327));if(n!==null){if(n===t.current)throw Error(s(177));if(f=n.lanes|n.childLanes,f|=rf,no(t,a,f,p,E,C),t===gt&&(Ve=gt=null,Le=0),No=n,Is=t,Gr=a,fd=f,dd=h,Jy=o,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,vb(xi,function(){return d_(),null})):(t.callbackNode=null,t.callbackPriority=0),o=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||o){o=Q.T,Q.T=null,h=oe.p,oe.p=2,p=nt,nt|=4;try{lb(t,n,a)}finally{nt=p,oe.p=h,Q.T=o}}en=1,u_(),c_(),h_()}}function u_(){if(en===1){en=0;var t=Is,n=No,a=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||a){a=Q.T,Q.T=null;var o=oe.p;oe.p=2;var h=nt;nt|=4;try{Hy(n,t);var f=Cd,p=Xg(t.containerInfo),E=f.focusedElem,C=f.selectionRange;if(p!==E&&E&&E.ownerDocument&&Kg(E.ownerDocument.documentElement,E)){if(C!==null&&Zh(E)){var B=C.start,Y=C.end;if(Y===void 0&&(Y=B),"selectionStart"in E)E.selectionStart=B,E.selectionEnd=Math.min(Y,E.value.length);else{var J=E.ownerDocument||document,q=J&&J.defaultView||window;if(q.getSelection){var F=q.getSelection(),fe=E.textContent.length,_e=Math.min(C.start,fe),ht=C.end===void 0?_e:Math.min(C.end,fe);!F.extend&&_e>ht&&(p=ht,ht=_e,_e=p);var U=Yg(E,_e),M=Yg(E,ht);if(U&&M&&(F.rangeCount!==1||F.anchorNode!==U.node||F.anchorOffset!==U.offset||F.focusNode!==M.node||F.focusOffset!==M.offset)){var j=J.createRange();j.setStart(U.node,U.offset),F.removeAllRanges(),_e>ht?(F.addRange(j),F.extend(M.node,M.offset)):(j.setEnd(M.node,M.offset),F.addRange(j))}}}}for(J=[],F=E;F=F.parentNode;)F.nodeType===1&&J.push({element:F,left:F.scrollLeft,top:F.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<J.length;E++){var X=J[E];X.element.scrollLeft=X.left,X.element.scrollTop=X.top}}kc=!!Id,Cd=Id=null}finally{nt=h,oe.p=o,Q.T=a}}t.current=n,en=2}}function c_(){if(en===2){en=0;var t=Is,n=No,a=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||a){a=Q.T,Q.T=null;var o=oe.p;oe.p=2;var h=nt;nt|=4;try{Py(t,n.alternate,n)}finally{nt=h,oe.p=o,Q.T=a}}en=3}}function h_(){if(en===4||en===3){en=0,aa();var t=Is,n=No,a=Gr,o=Jy;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?en=5:(en=0,No=Is=null,f_(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(Rs=null),mt(a),n=n.stateNode,Ft&&typeof Ft.onCommitFiberRoot=="function")try{Ft.onCommitFiberRoot(Vt,n,void 0,(n.current.flags&128)===128)}catch{}if(o!==null){n=Q.T,h=oe.p,oe.p=2,Q.T=null;try{for(var f=t.onRecoverableError,p=0;p<o.length;p++){var E=o[p];f(E.value,{componentStack:E.stack})}}finally{Q.T=n,oe.p=h}}(Gr&3)!==0&&Sc(),ar(t),h=t.pendingLanes,(a&261930)!==0&&(h&42)!==0?t===md?zl++:(zl=0,md=t):zl=0,jl(0)}}function f_(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,El(n)))}function Sc(){return u_(),c_(),h_(),d_()}function d_(){if(en!==5)return!1;var t=Is,n=fd;fd=0;var a=mt(Gr),o=Q.T,h=oe.p;try{oe.p=32>a?32:a,Q.T=null,a=dd,dd=null;var f=Is,p=Gr;if(en=0,No=Is=null,Gr=0,(nt&6)!==0)throw Error(s(331));var E=nt;if(nt|=4,Ky(f.current),Gy(f,f.current,p,a),nt=E,jl(0,!1),Ft&&typeof Ft.onPostCommitFiberRoot=="function")try{Ft.onPostCommitFiberRoot(Vt,f)}catch{}return!0}finally{oe.p=h,Q.T=o,f_(t,n)}}function m_(t,n,a){n=_i(a,n),n=Qf(t.stateNode,n,2),t=Es(t,n,2),t!==null&&(Yi(t,2),ar(t))}function at(t,n,a){if(t.tag===3)m_(t,t,a);else for(;n!==null;){if(n.tag===3){m_(n,t,a);break}else if(n.tag===1){var o=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Rs===null||!Rs.has(o))){t=_i(a,t),a=gy(2),o=Es(n,a,2),o!==null&&(py(a,o,n,t),Yi(o,2),ar(o));break}}n=n.return}}function yd(t,n,a){var o=t.pingCache;if(o===null){o=t.pingCache=new hb;var h=new Set;o.set(n,h)}else h=o.get(n),h===void 0&&(h=new Set,o.set(n,h));h.has(a)||(ud=!0,h.add(a),t=pb.bind(null,t,n,a),n.then(t,t))}function pb(t,n,a){var o=t.pingCache;o!==null&&o.delete(n),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,gt===t&&(Le&a)===a&&(Ot===4||Ot===3&&(Le&62914560)===Le&&300>sn()-yc?(nt&2)===0&&Do(t,0):cd|=a,xo===Le&&(xo=0)),ar(t)}function g_(t,n){n===0&&(n=ua()),t=Ra(t,n),t!==null&&(Yi(t,n),ar(t))}function yb(t){var n=t.memoizedState,a=0;n!==null&&(a=n.retryLane),g_(t,a)}function _b(t,n){var a=0;switch(t.tag){case 31:case 13:var o=t.stateNode,h=t.memoizedState;h!==null&&(a=h.retryLane);break;case 19:o=t.stateNode;break;case 22:o=t.stateNode._retryCache;break;default:throw Error(s(314))}o!==null&&o.delete(n),g_(t,a)}function vb(t,n){return ft(t,n)}var Ac=null,Oo=null,_d=!1,wc=!1,vd=!1,xs=0;function ar(t){t!==Oo&&t.next===null&&(Oo===null?Ac=Oo=t:Oo=Oo.next=t),wc=!0,_d||(_d=!0,Tb())}function jl(t,n){if(!vd&&wc){vd=!0;do for(var a=!1,o=Ac;o!==null;){if(t!==0){var h=o.pendingLanes;if(h===0)var f=0;else{var p=o.suspendedLanes,E=o.pingedLanes;f=(1<<31-ot(42|t)+1)-1,f&=h&~(p&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(a=!0,v_(o,f))}else f=Le,f=Un(o,o===gt?f:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(f&3)===0||lt(o,f)||(a=!0,v_(o,f));o=o.next}while(a);vd=!1}}function Eb(){p_()}function p_(){wc=_d=!1;var t=0;xs!==0&&Db()&&(t=xs);for(var n=sn(),a=null,o=Ac;o!==null;){var h=o.next,f=y_(o,n);f===0?(o.next=null,a===null?Ac=h:a.next=h,h===null&&(Oo=a)):(a=o,(t!==0||(f&3)!==0)&&(wc=!0)),o=h}en!==0&&en!==5||jl(t),xs!==0&&(xs=0)}function y_(t,n){for(var a=t.suspendedLanes,o=t.pingedLanes,h=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var p=31-ot(f),E=1<<p,C=h[p];C===-1?((E&a)===0||(E&o)!==0)&&(h[p]=ui(E,n)):C<=n&&(t.expiredLanes|=E),f&=~E}if(n=gt,a=Le,a=Un(t,t===n?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o=t.callbackNode,a===0||t===n&&(st===2||st===9)||t.cancelPendingCommit!==null)return o!==null&&o!==null&&xt(o),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||lt(t,a)){if(n=a&-a,n===t.callbackPriority)return n;switch(o!==null&&xt(o),mt(a)){case 2:case 8:a=Er;break;case 32:a=xi;break;case 268435456:a=eo;break;default:a=xi}return o=__.bind(null,t),a=ft(a,o),t.callbackPriority=n,t.callbackNode=a,n}return o!==null&&o!==null&&xt(o),t.callbackPriority=2,t.callbackNode=null,2}function __(t,n){if(en!==0&&en!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(Sc()&&t.callbackNode!==a)return null;var o=Le;return o=Un(t,t===gt?o:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o===0?null:(Wy(t,o,n),y_(t,sn()),t.callbackNode!=null&&t.callbackNode===a?__.bind(null,t):null)}function v_(t,n){if(Sc())return null;Wy(t,n,!0)}function Tb(){Ob(function(){(nt&6)!==0?ft(vr,Eb):p_()})}function Ed(){if(xs===0){var t=_o;t===0&&(t=an,an<<=1,(an&261888)===0&&(an=256)),xs=t}return xs}function E_(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:hs(""+t)}function T_(t,n){var a=n.ownerDocument.createElement("input");return a.name=n.name,a.value=n.value,t.id&&a.setAttribute("form",t.id),n.parentNode.insertBefore(a,n),t=new FormData(t),a.parentNode.removeChild(a),t}function bb(t,n,a,o,h){if(n==="submit"&&a&&a.stateNode===h){var f=E_((h[kt]||null).action),p=o.submitter;p&&(n=(n=p[kt]||null)?E_(n.formAction):p.getAttribute("formAction"),n!==null&&(f=n,p=null));var E=new gi("action","action",null,o,h);t.push({event:E,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(xs!==0){var C=p?T_(h,p):new FormData(h);jf(a,{pending:!0,data:C,method:h.method,action:f},null,C)}}else typeof f=="function"&&(E.preventDefault(),C=p?T_(h,p):new FormData(h),jf(a,{pending:!0,data:C,method:h.method,action:f},f,C))},currentTarget:h}]})}}for(var Td=0;Td<nf.length;Td++){var bd=nf[Td],Sb=bd.toLowerCase(),Ab=bd[0].toUpperCase()+bd.slice(1);ji(Sb,"on"+Ab)}ji(Zg,"onAnimationEnd"),ji(Wg,"onAnimationIteration"),ji(ep,"onAnimationStart"),ji("dblclick","onDoubleClick"),ji("focusin","onFocus"),ji("focusout","onBlur"),ji(jT,"onTransitionRun"),ji(BT,"onTransitionStart"),ji(qT,"onTransitionCancel"),ji(tp,"onTransitionEnd"),Zn("onMouseEnter",["mouseout","mouseover"]),Zn("onMouseLeave",["mouseout","mouseover"]),Zn("onPointerEnter",["pointerout","pointerover"]),Zn("onPointerLeave",["pointerout","pointerover"]),Jn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Jn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Jn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Jn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Jn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Jn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Bl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),wb=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Bl));function b_(t,n){n=(n&4)!==0;for(var a=0;a<t.length;a++){var o=t[a],h=o.event;o=o.listeners;e:{var f=void 0;if(n)for(var p=o.length-1;0<=p;p--){var E=o[p],C=E.instance,B=E.currentTarget;if(E=E.listener,C!==f&&h.isPropagationStopped())break e;f=E,h.currentTarget=B;try{f(h)}catch(Y){ju(Y)}h.currentTarget=null,f=C}else for(p=0;p<o.length;p++){if(E=o[p],C=E.instance,B=E.currentTarget,E=E.listener,C!==f&&h.isPropagationStopped())break e;f=E,h.currentTarget=B;try{f(h)}catch(Y){ju(Y)}h.currentTarget=null,f=C}}}}function ke(t,n){var a=n[Ar];a===void 0&&(a=n[Ar]=new Set);var o=t+"__bubble";a.has(o)||(S_(n,t,2,!1),a.add(o))}function Sd(t,n,a){var o=0;n&&(o|=4),S_(a,t,o,n)}var Rc="_reactListening"+Math.random().toString(36).slice(2);function Ad(t){if(!t[Rc]){t[Rc]=!0,fa.forEach(function(a){a!=="selectionchange"&&(wb.has(a)||Sd(a,!1,t),Sd(a,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[Rc]||(n[Rc]=!0,Sd("selectionchange",!1,n))}}function S_(t,n,a,o){switch(Z_(n)){case 2:var h=Wb;break;case 8:h=eS;break;default:h=zd}a=h.bind(null,n,a,t),h=void 0,!Wi||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),o?h!==void 0?t.addEventListener(n,a,{capture:!0,passive:h}):t.addEventListener(n,a,!0):h!==void 0?t.addEventListener(n,a,{passive:h}):t.addEventListener(n,a,!1)}function wd(t,n,a,o,h){var f=o;if((n&1)===0&&(n&2)===0&&o!==null)e:for(;;){if(o===null)return;var p=o.tag;if(p===3||p===4){var E=o.stateNode.containerInfo;if(E===h)break;if(p===4)for(p=o.return;p!==null;){var C=p.tag;if((C===3||C===4)&&p.stateNode.containerInfo===h)return;p=p.return}for(;E!==null;){if(p=ln(E),p===null)return;if(C=p.tag,C===5||C===6||C===26||C===27){o=f=p;continue e}E=E.parentNode}}o=o.return}Zi(function(){var B=f,Y=Dn(a),J=[];e:{var q=np.get(t);if(q!==void 0){var F=gi,fe=t;switch(t){case"keypress":if(Nr(a)===0)break e;case"keydown":case"keyup":F=Lu;break;case"focusin":fe="focus",F=Li;break;case"focusout":fe="blur",F=Li;break;case"beforeblur":case"afterblur":F=Li;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":F=Te;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":F=jn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":F=m;break;case Zg:case Wg:case ep:F=so;break;case tp:F=T;break;case"scroll":case"scrollend":F=S;break;case"wheel":F=H;break;case"copy":case"cut":case"paste":F=Du;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":F=Dr;break;case"toggle":case"beforetoggle":F=xe}var _e=(n&4)!==0,ht=!_e&&(t==="scroll"||t==="scrollend"),U=_e?q!==null?q+"Capture":null:q;_e=[];for(var M=B,j;M!==null;){var X=M;if(j=X.stateNode,X=X.tag,X!==5&&X!==26&&X!==27||j===null||U===null||(X=Lt(M,U),X!=null&&_e.push(ql(M,X,j))),ht)break;M=M.return}0<_e.length&&(q=new F(q,fe,null,a,Y),J.push({event:q,listeners:_e}))}}if((n&7)===0){e:{if(q=t==="mouseover"||t==="pointerover",F=t==="mouseout"||t==="pointerout",q&&a!==Ta&&(fe=a.relatedTarget||a.fromElement)&&(ln(fe)||fe[yn]))break e;if((F||q)&&(q=Y.window===Y?Y:(q=Y.ownerDocument)?q.defaultView||q.parentWindow:window,F?(fe=a.relatedTarget||a.toElement,F=B,fe=fe?ln(fe):null,fe!==null&&(ht=c(fe),_e=fe.tag,fe!==ht||_e!==5&&_e!==27&&_e!==6)&&(fe=null)):(F=null,fe=B),F!==fe)){if(_e=Te,X="onMouseLeave",U="onMouseEnter",M="mouse",(t==="pointerout"||t==="pointerover")&&(_e=Dr,X="onPointerLeave",U="onPointerEnter",M="pointer"),ht=F==null?q:_n(F),j=fe==null?q:_n(fe),q=new _e(X,M+"leave",F,a,Y),q.target=ht,q.relatedTarget=j,X=null,ln(Y)===B&&(_e=new _e(U,M+"enter",fe,a,Y),_e.target=j,_e.relatedTarget=ht,X=_e),ht=X,F&&fe)t:{for(_e=Rb,U=F,M=fe,j=0,X=U;X;X=_e(X))j++;X=0;for(var pe=M;pe;pe=_e(pe))X++;for(;0<j-X;)U=_e(U),j--;for(;0<X-j;)M=_e(M),X--;for(;j--;){if(U===M||M!==null&&U===M.alternate){_e=U;break t}U=_e(U),M=_e(M)}_e=null}else _e=null;F!==null&&A_(J,q,F,_e,!1),fe!==null&&ht!==null&&A_(J,ht,fe,_e,!0)}}e:{if(q=B?_n(B):window,F=q.nodeName&&q.nodeName.toLowerCase(),F==="select"||F==="input"&&q.type==="file")var Xe=Bg;else if(zg(q))if(qg)Xe=LT;else{Xe=kT;var me=VT}else F=q.nodeName,!F||F.toLowerCase()!=="input"||q.type!=="checkbox"&&q.type!=="radio"?B&&cs(B.elementType)&&(Xe=Bg):Xe=UT;if(Xe&&(Xe=Xe(t,B))){jg(J,Xe,a,Y);break e}me&&me(t,q,B),t==="focusout"&&B&&q.type==="number"&&B.memoizedProps.value!=null&&ya(q,"number",q.value)}switch(me=B?_n(B):window,t){case"focusin":(zg(me)||me.contentEditable==="true")&&(uo=me,Wh=B,yl=null);break;case"focusout":yl=Wh=uo=null;break;case"mousedown":ef=!0;break;case"contextmenu":case"mouseup":case"dragend":ef=!1,$g(J,a,Y);break;case"selectionchange":if(zT)break;case"keydown":case"keyup":$g(J,a,Y)}var De;if(tt)e:{switch(t){case"compositionstart":var Pe="onCompositionStart";break e;case"compositionend":Pe="onCompositionEnd";break e;case"compositionupdate":Pe="onCompositionUpdate";break e}Pe=void 0}else lo?Sa(t,a)&&(Pe="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(Pe="onCompositionStart");Pe&&(nr&&a.locale!=="ko"&&(lo||Pe!=="onCompositionStart"?Pe==="onCompositionEnd"&&lo&&(De=Vi()):(mi=Y,fs="value"in mi?mi.value:mi.textContent,lo=!0)),me=Ic(B,Pe),0<me.length&&(Pe=new tr(Pe,t,null,a,Y),J.push({event:Pe,listeners:me}),De?Pe.data=De:(De=oo(a),De!==null&&(Pe.data=De)))),(De=pi?NT(t,a):DT(t,a))&&(Pe=Ic(B,"onBeforeInput"),0<Pe.length&&(me=new tr("onBeforeInput","beforeinput",null,a,Y),J.push({event:me,listeners:Pe}),me.data=De)),bb(J,t,B,a,Y)}b_(J,n)})}function ql(t,n,a){return{instance:t,listener:n,currentTarget:a}}function Ic(t,n){for(var a=n+"Capture",o=[];t!==null;){var h=t,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=Lt(t,a),h!=null&&o.unshift(ql(t,h,f)),h=Lt(t,n),h!=null&&o.push(ql(t,h,f))),t.tag===3)return o;t=t.return}return[]}function Rb(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function A_(t,n,a,o,h){for(var f=n._reactName,p=[];a!==null&&a!==o;){var E=a,C=E.alternate,B=E.stateNode;if(E=E.tag,C!==null&&C===o)break;E!==5&&E!==26&&E!==27||B===null||(C=B,h?(B=Lt(a,f),B!=null&&p.unshift(ql(a,B,C))):h||(B=Lt(a,f),B!=null&&p.push(ql(a,B,C)))),a=a.return}p.length!==0&&t.push({event:n,listeners:p})}var Ib=/\r\n?/g,Cb=/\u0000|\uFFFD/g;function w_(t){return(typeof t=="string"?t:""+t).replace(Ib,`
`).replace(Cb,"")}function R_(t,n){return n=w_(n),w_(t)===n}function ct(t,n,a,o,h,f){switch(a){case"children":typeof o=="string"?n==="body"||n==="textarea"&&o===""||Tn(t,o):(typeof o=="number"||typeof o=="bigint")&&n!=="body"&&Tn(t,""+o);break;case"className":vn(t,"class",o);break;case"tabIndex":vn(t,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":vn(t,a,o);break;case"style":Ea(t,o,f);break;case"data":if(n!=="object"){vn(t,"data",o);break}case"src":case"href":if(o===""&&(n!=="a"||a!=="href")){t.removeAttribute(a);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(a);break}o=hs(""+o),t.setAttribute(a,o);break;case"action":case"formAction":if(typeof o=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(a==="formAction"?(n!=="input"&&ct(t,n,"name",h.name,h,null),ct(t,n,"formEncType",h.formEncType,h,null),ct(t,n,"formMethod",h.formMethod,h,null),ct(t,n,"formTarget",h.formTarget,h,null)):(ct(t,n,"encType",h.encType,h,null),ct(t,n,"method",h.method,h,null),ct(t,n,"target",h.target,h,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(a);break}o=hs(""+o),t.setAttribute(a,o);break;case"onClick":o!=null&&(t.onclick=Wn);break;case"onScroll":o!=null&&ke("scroll",t);break;case"onScrollEnd":o!=null&&ke("scrollend",t);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(s(61));if(a=o.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"multiple":t.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":t.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){t.removeAttribute("xlink:href");break}a=hs(""+o),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(a,""+o):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":o===!0?t.setAttribute(a,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(a,o):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?t.setAttribute(a,o):t.removeAttribute(a);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?t.removeAttribute(a):t.setAttribute(a,o);break;case"popover":ke("beforetoggle",t),ke("toggle",t),wr(t,"popover",o);break;case"xlinkActuate":Nt(t,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":Nt(t,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":Nt(t,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":Nt(t,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":Nt(t,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":Nt(t,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":Nt(t,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":Nt(t,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":Nt(t,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":wr(t,"is",o);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=ro.get(a)||a,wr(t,a,o))}}function Rd(t,n,a,o,h,f){switch(a){case"style":Ea(t,o,f);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(s(61));if(a=o.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"children":typeof o=="string"?Tn(t,o):(typeof o=="number"||typeof o=="bigint")&&Tn(t,""+o);break;case"onScroll":o!=null&&ke("scroll",t);break;case"onScrollEnd":o!=null&&ke("scrollend",t);break;case"onClick":o!=null&&(t.onclick=Wn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Nn.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),n=a.slice(2,h?a.length-7:void 0),f=t[kt]||null,f=f!=null?f[a]:null,typeof f=="function"&&t.removeEventListener(n,f,h),typeof o=="function")){typeof f!="function"&&f!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(n,o,h);break e}a in t?t[a]=o:o===!0?t.setAttribute(a,""):wr(t,a,o)}}}function fn(t,n,a){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ke("error",t),ke("load",t);var o=!1,h=!1,f;for(f in a)if(a.hasOwnProperty(f)){var p=a[f];if(p!=null)switch(f){case"src":o=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:ct(t,n,f,p,a,null)}}h&&ct(t,n,"srcSet",a.srcSet,a,null),o&&ct(t,n,"src",a.src,a,null);return;case"input":ke("invalid",t);var E=f=p=h=null,C=null,B=null;for(o in a)if(a.hasOwnProperty(o)){var Y=a[o];if(Y!=null)switch(o){case"name":h=Y;break;case"type":p=Y;break;case"checked":C=Y;break;case"defaultChecked":B=Y;break;case"value":f=Y;break;case"defaultValue":E=Y;break;case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(s(137,n));break;default:ct(t,n,o,Y,a,null)}}pa(t,f,E,C,B,p,h,!1);return;case"select":ke("invalid",t),o=p=f=null;for(h in a)if(a.hasOwnProperty(h)&&(E=a[h],E!=null))switch(h){case"value":f=E;break;case"defaultValue":p=E;break;case"multiple":o=E;default:ct(t,n,h,E,a,null)}n=f,a=p,t.multiple=!!o,n!=null?Xi(t,!!o,n,!1):a!=null&&Xi(t,!!o,a,!0);return;case"textarea":ke("invalid",t),f=h=o=null;for(p in a)if(a.hasOwnProperty(p)&&(E=a[p],E!=null))switch(p){case"value":o=E;break;case"defaultValue":h=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(s(91));break;default:ct(t,n,p,E,a,null)}$i(t,o,h,f);return;case"option":for(C in a)if(a.hasOwnProperty(C)&&(o=a[C],o!=null))switch(C){case"selected":t.selected=o&&typeof o!="function"&&typeof o!="symbol";break;default:ct(t,n,C,o,a,null)}return;case"dialog":ke("beforetoggle",t),ke("toggle",t),ke("cancel",t),ke("close",t);break;case"iframe":case"object":ke("load",t);break;case"video":case"audio":for(o=0;o<Bl.length;o++)ke(Bl[o],t);break;case"image":ke("error",t),ke("load",t);break;case"details":ke("toggle",t);break;case"embed":case"source":case"link":ke("error",t),ke("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(B in a)if(a.hasOwnProperty(B)&&(o=a[B],o!=null))switch(B){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:ct(t,n,B,o,a,null)}return;default:if(cs(n)){for(Y in a)a.hasOwnProperty(Y)&&(o=a[Y],o!==void 0&&Rd(t,n,Y,o,a,void 0));return}}for(E in a)a.hasOwnProperty(E)&&(o=a[E],o!=null&&ct(t,n,E,o,a,null))}function xb(t,n,a,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,p=null,E=null,C=null,B=null,Y=null;for(F in a){var J=a[F];if(a.hasOwnProperty(F)&&J!=null)switch(F){case"checked":break;case"value":break;case"defaultValue":C=J;default:o.hasOwnProperty(F)||ct(t,n,F,null,o,J)}}for(var q in o){var F=o[q];if(J=a[q],o.hasOwnProperty(q)&&(F!=null||J!=null))switch(q){case"type":f=F;break;case"name":h=F;break;case"checked":B=F;break;case"defaultChecked":Y=F;break;case"value":p=F;break;case"defaultValue":E=F;break;case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(s(137,n));break;default:F!==J&&ct(t,n,q,F,o,J)}}Cr(t,p,E,C,B,Y,f,h);return;case"select":F=p=E=q=null;for(f in a)if(C=a[f],a.hasOwnProperty(f)&&C!=null)switch(f){case"value":break;case"multiple":F=C;default:o.hasOwnProperty(f)||ct(t,n,f,null,o,C)}for(h in o)if(f=o[h],C=a[h],o.hasOwnProperty(h)&&(f!=null||C!=null))switch(h){case"value":q=f;break;case"defaultValue":E=f;break;case"multiple":p=f;default:f!==C&&ct(t,n,h,f,o,C)}n=E,a=p,o=F,q!=null?Xi(t,!!a,q,!1):!!o!=!!a&&(n!=null?Xi(t,!!a,n,!0):Xi(t,!!a,a?[]:"",!1));return;case"textarea":F=q=null;for(E in a)if(h=a[E],a.hasOwnProperty(E)&&h!=null&&!o.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:ct(t,n,E,null,o,h)}for(p in o)if(h=o[p],f=a[p],o.hasOwnProperty(p)&&(h!=null||f!=null))switch(p){case"value":q=h;break;case"defaultValue":F=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==f&&ct(t,n,p,h,o,f)}_a(t,q,F);return;case"option":for(var fe in a)if(q=a[fe],a.hasOwnProperty(fe)&&q!=null&&!o.hasOwnProperty(fe))switch(fe){case"selected":t.selected=!1;break;default:ct(t,n,fe,null,o,q)}for(C in o)if(q=o[C],F=a[C],o.hasOwnProperty(C)&&q!==F&&(q!=null||F!=null))switch(C){case"selected":t.selected=q&&typeof q!="function"&&typeof q!="symbol";break;default:ct(t,n,C,q,o,F)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var _e in a)q=a[_e],a.hasOwnProperty(_e)&&q!=null&&!o.hasOwnProperty(_e)&&ct(t,n,_e,null,o,q);for(B in o)if(q=o[B],F=a[B],o.hasOwnProperty(B)&&q!==F&&(q!=null||F!=null))switch(B){case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(s(137,n));break;default:ct(t,n,B,q,o,F)}return;default:if(cs(n)){for(var ht in a)q=a[ht],a.hasOwnProperty(ht)&&q!==void 0&&!o.hasOwnProperty(ht)&&Rd(t,n,ht,void 0,o,q);for(Y in o)q=o[Y],F=a[Y],!o.hasOwnProperty(Y)||q===F||q===void 0&&F===void 0||Rd(t,n,Y,q,o,F);return}}for(var U in a)q=a[U],a.hasOwnProperty(U)&&q!=null&&!o.hasOwnProperty(U)&&ct(t,n,U,null,o,q);for(J in o)q=o[J],F=a[J],!o.hasOwnProperty(J)||q===F||q==null&&F==null||ct(t,n,J,q,o,F)}function I_(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Nb(){if(typeof performance.getEntriesByType=="function"){for(var t=0,n=0,a=performance.getEntriesByType("resource"),o=0;o<a.length;o++){var h=a[o],f=h.transferSize,p=h.initiatorType,E=h.duration;if(f&&E&&I_(p)){for(p=0,E=h.responseEnd,o+=1;o<a.length;o++){var C=a[o],B=C.startTime;if(B>E)break;var Y=C.transferSize,J=C.initiatorType;Y&&I_(J)&&(C=C.responseEnd,p+=Y*(C<E?1:(E-B)/(C-B)))}if(--o,n+=8*(f+p)/(h.duration/1e3),t++,10<t)break}}if(0<t)return n/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var Id=null,Cd=null;function Cc(t){return t.nodeType===9?t:t.ownerDocument}function C_(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function x_(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function xd(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Nd=null;function Db(){var t=window.event;return t&&t.type==="popstate"?t===Nd?!1:(Nd=t,!0):(Nd=null,!1)}var N_=typeof setTimeout=="function"?setTimeout:void 0,Mb=typeof clearTimeout=="function"?clearTimeout:void 0,D_=typeof Promise=="function"?Promise:void 0,Ob=typeof queueMicrotask=="function"?queueMicrotask:typeof D_<"u"?function(t){return D_.resolve(null).then(t).catch(Vb)}:N_;function Vb(t){setTimeout(function(){throw t})}function Ns(t){return t==="head"}function M_(t,n){var a=n,o=0;do{var h=a.nextSibling;if(t.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"||a==="/&"){if(o===0){t.removeChild(h),Lo(n);return}o--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")o++;else if(a==="html")Hl(t.ownerDocument.documentElement);else if(a==="head"){a=t.ownerDocument.head,Hl(a);for(var f=a.firstChild;f;){var p=f.nextSibling,E=f.nodeName;f[on]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&f.rel.toLowerCase()==="stylesheet"||a.removeChild(f),f=p}}else a==="body"&&Hl(t.ownerDocument.body);a=h}while(a);Lo(n)}function O_(t,n){var a=t;t=0;do{var o=a.nextSibling;if(a.nodeType===1?n?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(n?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),o&&o.nodeType===8)if(a=o.data,a==="/$"){if(t===0)break;t--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||t++;a=o}while(a)}function Dd(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var a=n;switch(n=n.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Dd(a),Ln(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function kb(t,n,a,o){for(;t.nodeType===1;){var h=a;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!o&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(o){if(!t[on])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=Si(t.nextSibling),t===null)break}return null}function Ub(t,n,a){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=Si(t.nextSibling),t===null))return null;return t}function V_(t,n){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=Si(t.nextSibling),t===null))return null;return t}function Md(t){return t.data==="$?"||t.data==="$~"}function Od(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function Lb(t,n){var a=t.ownerDocument;if(t.data==="$~")t._reactRetry=n;else if(t.data!=="$?"||a.readyState!=="loading")n();else{var o=function(){n(),a.removeEventListener("DOMContentLoaded",o)};a.addEventListener("DOMContentLoaded",o),t._reactRetry=o}}function Si(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return t}var Vd=null;function k_(t){t=t.nextSibling;for(var n=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"||a==="/&"){if(n===0)return Si(t.nextSibling);n--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||n++}t=t.nextSibling}return null}function U_(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(n===0)return t;n--}else a!=="/$"&&a!=="/&"||n++}t=t.previousSibling}return null}function L_(t,n,a){switch(n=Cc(a),t){case"html":if(t=n.documentElement,!t)throw Error(s(452));return t;case"head":if(t=n.head,!t)throw Error(s(453));return t;case"body":if(t=n.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function Hl(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);Ln(t)}var Ai=new Map,P_=new Set;function xc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Qr=oe.d;oe.d={f:Pb,r:zb,D:jb,C:Bb,L:qb,m:Hb,X:Gb,S:Fb,M:Qb};function Pb(){var t=Qr.f(),n=Ec();return t||n}function zb(t){var n=Rt(t);n!==null&&n.tag===5&&n.type==="form"?ty(n):Qr.r(t)}var Vo=typeof document>"u"?null:document;function z_(t,n,a){var o=Vo;if(o&&typeof n=="string"&&n){var h=En(n);h='link[rel="'+t+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),P_.has(h)||(P_.add(h),t={rel:t,crossOrigin:a,href:n},o.querySelector(h)===null&&(n=o.createElement("link"),fn(n,"link",t),It(n),o.head.appendChild(n)))}}function jb(t){Qr.D(t),z_("dns-prefetch",t,null)}function Bb(t,n){Qr.C(t,n),z_("preconnect",t,n)}function qb(t,n,a){Qr.L(t,n,a);var o=Vo;if(o&&t&&n){var h='link[rel="preload"][as="'+En(n)+'"]';n==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+En(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+En(a.imageSizes)+'"]')):h+='[href="'+En(t)+'"]';var f=h;switch(n){case"style":f=ko(t);break;case"script":f=Uo(t)}Ai.has(f)||(t=A({rel:"preload",href:n==="image"&&a&&a.imageSrcSet?void 0:t,as:n},a),Ai.set(f,t),o.querySelector(h)!==null||n==="style"&&o.querySelector(Fl(f))||n==="script"&&o.querySelector(Gl(f))||(n=o.createElement("link"),fn(n,"link",t),It(n),o.head.appendChild(n)))}}function Hb(t,n){Qr.m(t,n);var a=Vo;if(a&&t){var o=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+En(o)+'"][href="'+En(t)+'"]',f=h;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=Uo(t)}if(!Ai.has(f)&&(t=A({rel:"modulepreload",href:t},n),Ai.set(f,t),a.querySelector(h)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Gl(f)))return}o=a.createElement("link"),fn(o,"link",t),It(o),a.head.appendChild(o)}}}function Fb(t,n,a){Qr.S(t,n,a);var o=Vo;if(o&&t){var h=fi(o).hoistableStyles,f=ko(t);n=n||"default";var p=h.get(f);if(!p){var E={loading:0,preload:null};if(p=o.querySelector(Fl(f)))E.loading=5;else{t=A({rel:"stylesheet",href:t,"data-precedence":n},a),(a=Ai.get(f))&&kd(t,a);var C=p=o.createElement("link");It(C),fn(C,"link",t),C._p=new Promise(function(B,Y){C.onload=B,C.onerror=Y}),C.addEventListener("load",function(){E.loading|=1}),C.addEventListener("error",function(){E.loading|=2}),E.loading|=4,Nc(p,n,o)}p={type:"stylesheet",instance:p,count:1,state:E},h.set(f,p)}}}function Gb(t,n){Qr.X(t,n);var a=Vo;if(a&&t){var o=fi(a).hoistableScripts,h=Uo(t),f=o.get(h);f||(f=a.querySelector(Gl(h)),f||(t=A({src:t,async:!0},n),(n=Ai.get(h))&&Ud(t,n),f=a.createElement("script"),It(f),fn(f,"link",t),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function Qb(t,n){Qr.M(t,n);var a=Vo;if(a&&t){var o=fi(a).hoistableScripts,h=Uo(t),f=o.get(h);f||(f=a.querySelector(Gl(h)),f||(t=A({src:t,async:!0,type:"module"},n),(n=Ai.get(h))&&Ud(t,n),f=a.createElement("script"),It(f),fn(f,"link",t),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function j_(t,n,a,o){var h=(h=Ce.current)?xc(h):null;if(!h)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(n=ko(a.href),a=fi(h).hoistableStyles,o=a.get(n),o||(o={type:"style",instance:null,count:0,state:null},a.set(n,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=ko(a.href);var f=fi(h).hoistableStyles,p=f.get(t);if(p||(h=h.ownerDocument||h,p={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,p),(f=h.querySelector(Fl(t)))&&!f._p&&(p.instance=f,p.state.loading=5),Ai.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Ai.set(t,a),f||Yb(h,t,a,p.state))),n&&o===null)throw Error(s(528,""));return p}if(n&&o!==null)throw Error(s(529,""));return null;case"script":return n=a.async,a=a.src,typeof a=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Uo(a),a=fi(h).hoistableScripts,o=a.get(n),o||(o={type:"script",instance:null,count:0,state:null},a.set(n,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function ko(t){return'href="'+En(t)+'"'}function Fl(t){return'link[rel="stylesheet"]['+t+"]"}function B_(t){return A({},t,{"data-precedence":t.precedence,precedence:null})}function Yb(t,n,a,o){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?o.loading=1:(n=t.createElement("link"),o.preload=n,n.addEventListener("load",function(){return o.loading|=1}),n.addEventListener("error",function(){return o.loading|=2}),fn(n,"link",a),It(n),t.head.appendChild(n))}function Uo(t){return'[src="'+En(t)+'"]'}function Gl(t){return"script[async]"+t}function q_(t,n,a){if(n.count++,n.instance===null)switch(n.type){case"style":var o=t.querySelector('style[data-href~="'+En(a.href)+'"]');if(o)return n.instance=o,It(o),o;var h=A({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return o=(t.ownerDocument||t).createElement("style"),It(o),fn(o,"style",h),Nc(o,a.precedence,t),n.instance=o;case"stylesheet":h=ko(a.href);var f=t.querySelector(Fl(h));if(f)return n.state.loading|=4,n.instance=f,It(f),f;o=B_(a),(h=Ai.get(h))&&kd(o,h),f=(t.ownerDocument||t).createElement("link"),It(f);var p=f;return p._p=new Promise(function(E,C){p.onload=E,p.onerror=C}),fn(f,"link",o),n.state.loading|=4,Nc(f,a.precedence,t),n.instance=f;case"script":return f=Uo(a.src),(h=t.querySelector(Gl(f)))?(n.instance=h,It(h),h):(o=a,(h=Ai.get(f))&&(o=A({},a),Ud(o,h)),t=t.ownerDocument||t,h=t.createElement("script"),It(h),fn(h,"link",o),t.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(s(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(o=n.instance,n.state.loading|=4,Nc(o,a.precedence,t));return n.instance}function Nc(t,n,a){for(var o=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=o.length?o[o.length-1]:null,f=h,p=0;p<o.length;p++){var E=o[p];if(E.dataset.precedence===n)f=E;else if(f!==h)break}f?f.parentNode.insertBefore(t,f.nextSibling):(n=a.nodeType===9?a.head:a,n.insertBefore(t,n.firstChild))}function kd(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function Ud(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var Dc=null;function H_(t,n,a){if(Dc===null){var o=new Map,h=Dc=new Map;h.set(a,o)}else h=Dc,o=h.get(a),o||(o=new Map,h.set(a,o));if(o.has(t))return o;for(o.set(t,null),a=a.getElementsByTagName(t),h=0;h<a.length;h++){var f=a[h];if(!(f[on]||f[Je]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var p=f.getAttribute(n)||"";p=t+p;var E=o.get(p);E?E.push(f):o.set(p,[f])}}return o}function F_(t,n,a){t=t.ownerDocument||t,t.head.insertBefore(a,n==="title"?t.querySelector("head > title"):null)}function Kb(t,n,a){if(a===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return t=n.disabled,typeof n.precedence=="string"&&t==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function G_(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function Xb(t,n,a,o){if(a.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var h=ko(o.href),f=n.querySelector(Fl(h));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(t.count++,t=Mc.bind(t),n.then(t,t)),a.state.loading|=4,a.instance=f,It(f);return}f=n.ownerDocument||n,o=B_(o),(h=Ai.get(h))&&kd(o,h),f=f.createElement("link"),It(f);var p=f;p._p=new Promise(function(E,C){p.onload=E,p.onerror=C}),fn(f,"link",o),a.instance=f}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(a,n),(n=a.state.preload)&&(a.state.loading&3)===0&&(t.count++,a=Mc.bind(t),n.addEventListener("load",a),n.addEventListener("error",a))}}var Ld=0;function $b(t,n){return t.stylesheets&&t.count===0&&Vc(t,t.stylesheets),0<t.count||0<t.imgCount?function(a){var o=setTimeout(function(){if(t.stylesheets&&Vc(t,t.stylesheets),t.unsuspend){var f=t.unsuspend;t.unsuspend=null,f()}},6e4+n);0<t.imgBytes&&Ld===0&&(Ld=62500*Nb());var h=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&Vc(t,t.stylesheets),t.unsuspend)){var f=t.unsuspend;t.unsuspend=null,f()}},(t.imgBytes>Ld?50:800)+n);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(o),clearTimeout(h)}}:null}function Mc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Vc(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Oc=null;function Vc(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Oc=new Map,n.forEach(Jb,t),Oc=null,Mc.call(t))}function Jb(t,n){if(!(n.state.loading&4)){var a=Oc.get(t);if(a)var o=a.get(null);else{a=new Map,Oc.set(t,a);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var p=h[f];(p.nodeName==="LINK"||p.getAttribute("media")!=="not all")&&(a.set(p.dataset.precedence,p),o=p)}o&&a.set(null,o)}h=n.instance,p=h.getAttribute("data-precedence"),f=a.get(p)||o,f===o&&a.set(null,h),a.set(p,h),this.count++,o=Mc.bind(this),h.addEventListener("load",o),h.addEventListener("error",o),f?f.parentNode.insertBefore(h,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),n.state.loading|=4}}var Ql={$$typeof:ve,Provider:null,Consumer:null,_currentValue:ge,_currentValue2:ge,_threadCount:0};function Zb(t,n,a,o,h,f,p,E,C){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=$n(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=$n(0),this.hiddenUpdates=$n(null),this.identifierPrefix=o,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=p,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=C,this.incompleteTransitions=new Map}function Q_(t,n,a,o,h,f,p,E,C,B,Y,J){return t=new Zb(t,n,a,p,C,B,Y,J,E),n=1,f===!0&&(n|=24),f=ni(3,null,null,n),t.current=f,f.stateNode=t,n=pf(),n.refCount++,t.pooledCache=n,n.refCount++,f.memoizedState={element:o,isDehydrated:a,cache:n},Ef(f),t}function Y_(t){return t?(t=fo,t):fo}function K_(t,n,a,o,h,f){h=Y_(h),o.context===null?o.context=h:o.pendingContext=h,o=vs(n),o.payload={element:a},f=f===void 0?null:f,f!==null&&(o.callback=f),a=Es(t,o,n),a!==null&&(Gn(a,t,n),Al(a,t,n))}function X_(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<n?a:n}}function Pd(t,n){X_(t,n),(t=t.alternate)&&X_(t,n)}function $_(t){if(t.tag===13||t.tag===31){var n=Ra(t,67108864);n!==null&&Gn(n,t,67108864),Pd(t,67108864)}}function J_(t){if(t.tag===13||t.tag===31){var n=oi();n=ci(n);var a=Ra(t,n);a!==null&&Gn(a,t,n),Pd(t,n)}}var kc=!0;function Wb(t,n,a,o){var h=Q.T;Q.T=null;var f=oe.p;try{oe.p=2,zd(t,n,a,o)}finally{oe.p=f,Q.T=h}}function eS(t,n,a,o){var h=Q.T;Q.T=null;var f=oe.p;try{oe.p=8,zd(t,n,a,o)}finally{oe.p=f,Q.T=h}}function zd(t,n,a,o){if(kc){var h=jd(o);if(h===null)wd(t,n,o,Uc,a),W_(t,o);else if(nS(h,t,n,a,o))o.stopPropagation();else if(W_(t,o),n&4&&-1<tS.indexOf(t)){for(;h!==null;){var f=Rt(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var p=Ni(f.pendingLanes);if(p!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;p;){var C=1<<31-ot(p);E.entanglements[1]|=C,p&=~C}ar(f),(nt&6)===0&&(_c=sn()+500,jl(0))}}break;case 31:case 13:E=Ra(f,2),E!==null&&Gn(E,f,2),Ec(),Pd(f,2)}if(f=jd(o),f===null&&wd(t,n,o,Uc,a),f===h)break;h=f}h!==null&&o.stopPropagation()}else wd(t,n,o,null,a)}}function jd(t){return t=Dn(t),Bd(t)}var Uc=null;function Bd(t){if(Uc=null,t=ln(t),t!==null){var n=c(t);if(n===null)t=null;else{var a=n.tag;if(a===13){if(t=d(n),t!==null)return t;t=null}else if(a===31){if(t=g(n),t!==null)return t;t=null}else if(a===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return Uc=t,null}function Z_(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(_r()){case vr:return 2;case Er:return 8;case xi:case Wa:return 32;case eo:return 268435456;default:return 32}default:return 32}}var qd=!1,Ds=null,Ms=null,Os=null,Yl=new Map,Kl=new Map,Vs=[],tS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function W_(t,n){switch(t){case"focusin":case"focusout":Ds=null;break;case"dragenter":case"dragleave":Ms=null;break;case"mouseover":case"mouseout":Os=null;break;case"pointerover":case"pointerout":Yl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Kl.delete(n.pointerId)}}function Xl(t,n,a,o,h,f){return t===null||t.nativeEvent!==f?(t={blockedOn:n,domEventName:a,eventSystemFlags:o,nativeEvent:f,targetContainers:[h]},n!==null&&(n=Rt(n),n!==null&&$_(n)),t):(t.eventSystemFlags|=o,n=t.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),t)}function nS(t,n,a,o,h){switch(n){case"focusin":return Ds=Xl(Ds,t,n,a,o,h),!0;case"dragenter":return Ms=Xl(Ms,t,n,a,o,h),!0;case"mouseover":return Os=Xl(Os,t,n,a,o,h),!0;case"pointerover":var f=h.pointerId;return Yl.set(f,Xl(Yl.get(f)||null,t,n,a,o,h)),!0;case"gotpointercapture":return f=h.pointerId,Kl.set(f,Xl(Kl.get(f)||null,t,n,a,o,h)),!0}return!1}function e0(t){var n=ln(t.target);if(n!==null){var a=c(n);if(a!==null){if(n=a.tag,n===13){if(n=d(a),n!==null){t.blockedOn=n,hi(t.priority,function(){J_(a)});return}}else if(n===31){if(n=g(a),n!==null){t.blockedOn=n,hi(t.priority,function(){J_(a)});return}}else if(n===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Lc(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var a=jd(t.nativeEvent);if(a===null){a=t.nativeEvent;var o=new a.constructor(a.type,a);Ta=o,a.target.dispatchEvent(o),Ta=null}else return n=Rt(a),n!==null&&$_(n),t.blockedOn=a,!1;n.shift()}return!0}function t0(t,n,a){Lc(t)&&a.delete(n)}function iS(){qd=!1,Ds!==null&&Lc(Ds)&&(Ds=null),Ms!==null&&Lc(Ms)&&(Ms=null),Os!==null&&Lc(Os)&&(Os=null),Yl.forEach(t0),Kl.forEach(t0)}function Pc(t,n){t.blockedOn===n&&(t.blockedOn=null,qd||(qd=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,iS)))}var zc=null;function n0(t){zc!==t&&(zc=t,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){zc===t&&(zc=null);for(var n=0;n<t.length;n+=3){var a=t[n],o=t[n+1],h=t[n+2];if(typeof o!="function"){if(Bd(o||a)===null)continue;break}var f=Rt(a);f!==null&&(t.splice(n,3),n-=3,jf(f,{pending:!0,data:h,method:a.method,action:o},o,h))}}))}function Lo(t){function n(C){return Pc(C,t)}Ds!==null&&Pc(Ds,t),Ms!==null&&Pc(Ms,t),Os!==null&&Pc(Os,t),Yl.forEach(n),Kl.forEach(n);for(var a=0;a<Vs.length;a++){var o=Vs[a];o.blockedOn===t&&(o.blockedOn=null)}for(;0<Vs.length&&(a=Vs[0],a.blockedOn===null);)e0(a),a.blockedOn===null&&Vs.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(o=0;o<a.length;o+=3){var h=a[o],f=a[o+1],p=h[kt]||null;if(typeof f=="function")p||n0(a);else if(p){var E=null;if(f&&f.hasAttribute("formAction")){if(h=f,p=f[kt]||null)E=p.formAction;else if(Bd(h)!==null)continue}else E=p.action;typeof E=="function"?a[o+1]=E:(a.splice(o,3),o-=3),n0(a)}}}function i0(){function t(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(p){return h=p})},focusReset:"manual",scroll:"manual"})}function n(){h!==null&&(h(),h=null),o||setTimeout(a,20)}function a(){if(!o&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,h=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(a,100),function(){o=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),h!==null&&(h(),h=null)}}}function Hd(t){this._internalRoot=t}jc.prototype.render=Hd.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(s(409));var a=n.current,o=oi();K_(a,o,t,n,null,null)},jc.prototype.unmount=Hd.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;K_(t.current,2,null,t,null,null),Ec(),n[yn]=null}};function jc(t){this._internalRoot=t}jc.prototype.unstable_scheduleHydration=function(t){if(t){var n=os();t={blockedOn:null,target:t,priority:n};for(var a=0;a<Vs.length&&n!==0&&n<Vs[a].priority;a++);Vs.splice(a,0,t),a===0&&e0(t)}};var r0=e.version;if(r0!=="19.2.0")throw Error(s(527,r0,"19.2.0"));oe.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=_(n),t=t!==null?b(t):null,t=t===null?null:t.stateNode,t};var rS={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:Q,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Bc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Bc.isDisabled&&Bc.supportsFiber)try{Vt=Bc.inject(rS),Ft=Bc}catch{}}return Jl.createRoot=function(t,n){if(!l(t))throw Error(s(299));var a=!1,o="",h=hy,f=fy,p=dy;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(p=n.onRecoverableError)),n=Q_(t,1,!1,null,null,a,o,null,h,f,p,i0),t[yn]=n.current,Ad(t),new Hd(n)},Jl.hydrateRoot=function(t,n,a){if(!l(t))throw Error(s(299));var o=!1,h="",f=hy,p=fy,E=dy,C=null;return a!=null&&(a.unstable_strictMode===!0&&(o=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(f=a.onUncaughtError),a.onCaughtError!==void 0&&(p=a.onCaughtError),a.onRecoverableError!==void 0&&(E=a.onRecoverableError),a.formState!==void 0&&(C=a.formState)),n=Q_(t,1,!0,n,a??null,o,h,C,f,p,E,i0),n.context=Y_(null),a=n.current,o=oi(),o=ci(o),h=vs(o),h.callback=null,Es(a,h,o),a=o,n.current.lanes=a,Yi(n,a),ar(n),t[yn]=n.current,Ad(t),new jc(n)},Jl.version="19.2.0",Jl}var m0;function gS(){if(m0)return Qd.exports;m0=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Qd.exports=mS(),Qd.exports}var pS=gS();const yS=r1(pS),_S=()=>{};var g0={};const s1=function(r){const e=[];let i=0;for(let s=0;s<r.length;s++){let l=r.charCodeAt(s);l<128?e[i++]=l:l<2048?(e[i++]=l>>6|192,e[i++]=l&63|128):(l&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(l=65536+((l&1023)<<10)+(r.charCodeAt(++s)&1023),e[i++]=l>>18|240,e[i++]=l>>12&63|128,e[i++]=l>>6&63|128,e[i++]=l&63|128):(e[i++]=l>>12|224,e[i++]=l>>6&63|128,e[i++]=l&63|128)}return e},vS=function(r){const e=[];let i=0,s=0;for(;i<r.length;){const l=r[i++];if(l<128)e[s++]=String.fromCharCode(l);else if(l>191&&l<224){const c=r[i++];e[s++]=String.fromCharCode((l&31)<<6|c&63)}else if(l>239&&l<365){const c=r[i++],d=r[i++],g=r[i++],y=((l&7)<<18|(c&63)<<12|(d&63)<<6|g&63)-65536;e[s++]=String.fromCharCode(55296+(y>>10)),e[s++]=String.fromCharCode(56320+(y&1023))}else{const c=r[i++],d=r[i++];e[s++]=String.fromCharCode((l&15)<<12|(c&63)<<6|d&63)}}return e.join("")},a1={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let l=0;l<r.length;l+=3){const c=r[l],d=l+1<r.length,g=d?r[l+1]:0,y=l+2<r.length,_=y?r[l+2]:0,b=c>>2,A=(c&3)<<4|g>>4;let V=(g&15)<<2|_>>6,K=_&63;y||(K=64,d||(V=64)),s.push(i[b],i[A],i[V],i[K])}return s.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(s1(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):vS(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let l=0;l<r.length;){const c=i[r.charAt(l++)],g=l<r.length?i[r.charAt(l)]:0;++l;const _=l<r.length?i[r.charAt(l)]:64;++l;const A=l<r.length?i[r.charAt(l)]:64;if(++l,c==null||g==null||_==null||A==null)throw new ES;const V=c<<2|g>>4;if(s.push(V),_!==64){const K=g<<4&240|_>>2;if(s.push(K),A!==64){const re=_<<6&192|A;s.push(re)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class ES extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const TS=function(r){const e=s1(r);return a1.encodeByteArray(e,!0)},lh=function(r){return TS(r).replace(/\./g,"")},o1=function(r){try{return a1.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function bS(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const SS=()=>bS().__FIREBASE_DEFAULTS__,AS=()=>{if(typeof process>"u"||typeof g0>"u")return;const r=g0.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},wS=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&o1(r[1]);return e&&JSON.parse(e)},xh=()=>{try{return _S()||SS()||AS()||wS()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},l1=r=>xh()?.emulatorHosts?.[r],RS=r=>{const e=l1(r);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),s]:[e.substring(0,i),s]},u1=()=>xh()?.config,c1=r=>xh()?.[`_${r}`];class IS{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,s)=>{i?this.reject(i):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,s))}}}function sl(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function h1(r){return(await fetch(r,{credentials:"include"})).ok}function CS(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},s=e||"demo-project",l=r.iat||0,c=r.sub||r.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${s}`,aud:s,iat:l,exp:l+3600,auth_time:l,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...r};return[lh(JSON.stringify(i)),lh(JSON.stringify(d)),""].join(".")}const ru={};function xS(){const r={prod:[],emulator:[]};for(const e of Object.keys(ru))ru[e]?r.emulator.push(e):r.prod.push(e);return r}function NS(r){let e=document.getElementById(r),i=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),i=!0),{created:i,element:e}}let p0=!1;function f1(r,e){if(typeof window>"u"||typeof document>"u"||!sl(window.location.host)||ru[r]===e||ru[r]||p0)return;ru[r]=e;function i(V){return`__firebase__banner__${V}`}const s="__firebase__banner",c=xS().prod.length>0;function d(){const V=document.getElementById(s);V&&V.remove()}function g(V){V.style.display="flex",V.style.background="#7faaf0",V.style.position="fixed",V.style.bottom="5px",V.style.left="5px",V.style.padding=".5em",V.style.borderRadius="5px",V.style.alignItems="center"}function y(V,K){V.setAttribute("width","24"),V.setAttribute("id",K),V.setAttribute("height","24"),V.setAttribute("viewBox","0 0 24 24"),V.setAttribute("fill","none"),V.style.marginLeft="-6px"}function _(){const V=document.createElement("span");return V.style.cursor="pointer",V.style.marginLeft="16px",V.style.fontSize="24px",V.innerHTML=" &times;",V.onclick=()=>{p0=!0,d()},V}function b(V,K){V.setAttribute("id",K),V.innerText="Learn more",V.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",V.setAttribute("target","__blank"),V.style.paddingLeft="5px",V.style.textDecoration="underline"}function A(){const V=NS(s),K=i("text"),re=document.getElementById(K)||document.createElement("span"),se=i("learnmore"),te=document.getElementById(se)||document.createElement("a"),de=i("preprendIcon"),Se=document.getElementById(de)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(V.created){const ve=V.element;g(ve),b(te,se);const Ye=_();y(Se,de),ve.append(Se,re,te,Ye),document.body.appendChild(ve)}c?(re.innerText="Preview backend disconnected.",Se.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(Se.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,re.innerText="Preview backend running in this workspace."),re.setAttribute("id",K)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",A):A()}function In(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function DS(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(In())}function MS(){const r=xh()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function OS(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function VS(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function kS(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function US(){const r=In();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function LS(){return!MS()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function PS(){try{return typeof indexedDB=="object"}catch{return!1}}function zS(){return new Promise((r,e)=>{try{let i=!0;const s="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(s);l.onsuccess=()=>{l.result.close(),i||self.indexedDB.deleteDatabase(s),r(!0)},l.onupgradeneeded=()=>{i=!1},l.onerror=()=>{e(l.error?.message||"")}}catch(i){e(i)}})}const jS="FirebaseError";class rs extends Error{constructor(e,i,s){super(i),this.code=e,this.customData=s,this.name=jS,Object.setPrototypeOf(this,rs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,_u.prototype.create)}}class _u{constructor(e,i,s){this.service=e,this.serviceName=i,this.errors=s}create(e,...i){const s=i[0]||{},l=`${this.service}/${e}`,c=this.errors[e],d=c?BS(c,s):"Error",g=`${this.serviceName}: ${d} (${l}).`;return new rs(l,g,s)}}function BS(r,e){return r.replace(qS,(i,s)=>{const l=e[s];return l!=null?String(l):`<${s}?>`})}const qS=/\{\$([^}]+)}/g;function HS(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function Jr(r,e){if(r===e)return!0;const i=Object.keys(r),s=Object.keys(e);for(const l of i){if(!s.includes(l))return!1;const c=r[l],d=e[l];if(y0(c)&&y0(d)){if(!Jr(c,d))return!1}else if(c!==d)return!1}for(const l of s)if(!i.includes(l))return!1;return!0}function y0(r){return r!==null&&typeof r=="object"}function vu(r){const e=[];for(const[i,s]of Object.entries(r))Array.isArray(s)?s.forEach(l=>{e.push(encodeURIComponent(i)+"="+encodeURIComponent(l))}):e.push(encodeURIComponent(i)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function FS(r,e){const i=new GS(r,e);return i.subscribe.bind(i)}class GS{constructor(e,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(i=>{i.next(e)})}error(e){this.forEachObserver(i=>{i.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,i,s){let l;if(e===void 0&&i===void 0&&s===void 0)throw new Error("Missing Observer.");QS(e,["next","error","complete"])?l=e:l={next:e,error:i,complete:s},l.next===void 0&&(l.next=$d),l.error===void 0&&(l.error=$d),l.complete===void 0&&(l.complete=$d);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),c}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,e)}sendOne(e,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{i(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function QS(r,e){if(typeof r!="object"||r===null)return!1;for(const i of e)if(i in r&&typeof r[i]=="function")return!0;return!1}function $d(){}function gn(r){return r&&r._delegate?r._delegate:r}class Ga{constructor(e,i,s){this.name=e,this.instanceFactory=i,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const za="[DEFAULT]";class YS{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const s=new IS;if(this.instancesDeferred.set(i,s),this.isInitialized(i)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:i});l&&s.resolve(l)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){const i=this.normalizeInstanceIdentifier(e?.identifier),s=e?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(l){if(s)return null;throw l}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(XS(e))try{this.getOrInitializeService({instanceIdentifier:za})}catch{}for(const[i,s]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:l});s.resolve(c)}catch{}}}}clearInstance(e=za){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=za){return this.instances.has(e)}getOptions(e=za){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:s,options:i});for(const[c,d]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(c);s===g&&d.resolve(l)}return l}onInit(e,i){const s=this.normalizeInstanceIdentifier(i),l=this.onInitCallbacks.get(s)??new Set;l.add(e),this.onInitCallbacks.set(s,l);const c=this.instances.get(s);return c&&e(c,s),()=>{l.delete(e)}}invokeOnInitCallbacks(e,i){const s=this.onInitCallbacks.get(i);if(s)for(const l of s)try{l(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:KS(e),options:i}),this.instances.set(e,s),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=za){return this.component?this.component.multipleInstances?e:za:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function KS(r){return r===za?void 0:r}function XS(r){return r.instantiationMode==="EAGER"}class $S{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new YS(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}var ze;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(ze||(ze={}));const JS={debug:ze.DEBUG,verbose:ze.VERBOSE,info:ze.INFO,warn:ze.WARN,error:ze.ERROR,silent:ze.SILENT},ZS=ze.INFO,WS={[ze.DEBUG]:"log",[ze.VERBOSE]:"log",[ze.INFO]:"info",[ze.WARN]:"warn",[ze.ERROR]:"error"},eA=(r,e,...i)=>{if(e<r.logLevel)return;const s=new Date().toISOString(),l=WS[e];if(l)console[l](`[${s}]  ${r.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Ym{constructor(e){this.name=e,this._logLevel=ZS,this._logHandler=eA,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ze))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?JS[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ze.DEBUG,...e),this._logHandler(this,ze.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ze.VERBOSE,...e),this._logHandler(this,ze.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ze.INFO,...e),this._logHandler(this,ze.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ze.WARN,...e),this._logHandler(this,ze.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ze.ERROR,...e),this._logHandler(this,ze.ERROR,...e)}}const tA=(r,e)=>e.some(i=>r instanceof i);let _0,v0;function nA(){return _0||(_0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function iA(){return v0||(v0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const d1=new WeakMap,pm=new WeakMap,m1=new WeakMap,Jd=new WeakMap,Km=new WeakMap;function rA(r){const e=new Promise((i,s)=>{const l=()=>{r.removeEventListener("success",c),r.removeEventListener("error",d)},c=()=>{i(qs(r.result)),l()},d=()=>{s(r.error),l()};r.addEventListener("success",c),r.addEventListener("error",d)});return e.then(i=>{i instanceof IDBCursor&&d1.set(i,r)}).catch(()=>{}),Km.set(e,r),e}function sA(r){if(pm.has(r))return;const e=new Promise((i,s)=>{const l=()=>{r.removeEventListener("complete",c),r.removeEventListener("error",d),r.removeEventListener("abort",d)},c=()=>{i(),l()},d=()=>{s(r.error||new DOMException("AbortError","AbortError")),l()};r.addEventListener("complete",c),r.addEventListener("error",d),r.addEventListener("abort",d)});pm.set(r,e)}let ym={get(r,e,i){if(r instanceof IDBTransaction){if(e==="done")return pm.get(r);if(e==="objectStoreNames")return r.objectStoreNames||m1.get(r);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return qs(r[e])},set(r,e,i){return r[e]=i,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function aA(r){ym=r(ym)}function oA(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const s=r.call(Zd(this),e,...i);return m1.set(s,e.sort?e.sort():[e]),qs(s)}:iA().includes(r)?function(...e){return r.apply(Zd(this),e),qs(d1.get(this))}:function(...e){return qs(r.apply(Zd(this),e))}}function lA(r){return typeof r=="function"?oA(r):(r instanceof IDBTransaction&&sA(r),tA(r,nA())?new Proxy(r,ym):r)}function qs(r){if(r instanceof IDBRequest)return rA(r);if(Jd.has(r))return Jd.get(r);const e=lA(r);return e!==r&&(Jd.set(r,e),Km.set(e,r)),e}const Zd=r=>Km.get(r);function uA(r,e,{blocked:i,upgrade:s,blocking:l,terminated:c}={}){const d=indexedDB.open(r,e),g=qs(d);return s&&d.addEventListener("upgradeneeded",y=>{s(qs(d.result),y.oldVersion,y.newVersion,qs(d.transaction),y)}),i&&d.addEventListener("blocked",y=>i(y.oldVersion,y.newVersion,y)),g.then(y=>{c&&y.addEventListener("close",()=>c()),l&&y.addEventListener("versionchange",_=>l(_.oldVersion,_.newVersion,_))}).catch(()=>{}),g}const cA=["get","getKey","getAll","getAllKeys","count"],hA=["put","add","delete","clear"],Wd=new Map;function E0(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(Wd.get(e))return Wd.get(e);const i=e.replace(/FromIndex$/,""),s=e!==i,l=hA.includes(i);if(!(i in(s?IDBIndex:IDBObjectStore).prototype)||!(l||cA.includes(i)))return;const c=async function(d,...g){const y=this.transaction(d,l?"readwrite":"readonly");let _=y.store;return s&&(_=_.index(g.shift())),(await Promise.all([_[i](...g),l&&y.done]))[0]};return Wd.set(e,c),c}aA(r=>({...r,get:(e,i,s)=>E0(e,i)||r.get(e,i,s),has:(e,i)=>!!E0(e,i)||r.has(e,i)}));class fA{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(dA(i)){const s=i.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(i=>i).join(" ")}}function dA(r){return r.getComponent()?.type==="VERSION"}const _m="@firebase/app",T0="0.14.6";const Zr=new Ym("@firebase/app"),mA="@firebase/app-compat",gA="@firebase/analytics-compat",pA="@firebase/analytics",yA="@firebase/app-check-compat",_A="@firebase/app-check",vA="@firebase/auth",EA="@firebase/auth-compat",TA="@firebase/database",bA="@firebase/data-connect",SA="@firebase/database-compat",AA="@firebase/functions",wA="@firebase/functions-compat",RA="@firebase/installations",IA="@firebase/installations-compat",CA="@firebase/messaging",xA="@firebase/messaging-compat",NA="@firebase/performance",DA="@firebase/performance-compat",MA="@firebase/remote-config",OA="@firebase/remote-config-compat",VA="@firebase/storage",kA="@firebase/storage-compat",UA="@firebase/firestore",LA="@firebase/ai",PA="@firebase/firestore-compat",zA="firebase",jA="12.6.0";const vm="[DEFAULT]",BA={[_m]:"fire-core",[mA]:"fire-core-compat",[pA]:"fire-analytics",[gA]:"fire-analytics-compat",[_A]:"fire-app-check",[yA]:"fire-app-check-compat",[vA]:"fire-auth",[EA]:"fire-auth-compat",[TA]:"fire-rtdb",[bA]:"fire-data-connect",[SA]:"fire-rtdb-compat",[AA]:"fire-fn",[wA]:"fire-fn-compat",[RA]:"fire-iid",[IA]:"fire-iid-compat",[CA]:"fire-fcm",[xA]:"fire-fcm-compat",[NA]:"fire-perf",[DA]:"fire-perf-compat",[MA]:"fire-rc",[OA]:"fire-rc-compat",[VA]:"fire-gcs",[kA]:"fire-gcs-compat",[UA]:"fire-fst",[PA]:"fire-fst-compat",[LA]:"fire-vertex","fire-js":"fire-js",[zA]:"fire-js-all"};const uh=new Map,qA=new Map,Em=new Map;function b0(r,e){try{r.container.addComponent(e)}catch(i){Zr.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,i)}}function $o(r){const e=r.name;if(Em.has(e))return Zr.debug(`There were multiple attempts to register component ${e}.`),!1;Em.set(e,r);for(const i of uh.values())b0(i,r);for(const i of qA.values())b0(i,r);return!0}function Xm(r,e){const i=r.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),r.container.getProvider(e)}function wi(r){return r==null?!1:r.settings!==void 0}const HA={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Hs=new _u("app","Firebase",HA);class FA{constructor(e,i,s){this._isDeleted=!1,this._options={...e},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Ga("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Hs.create("app-deleted",{appName:this._name})}}const al=jA;function g1(r,e={}){let i=r;typeof e!="object"&&(e={name:e});const s={name:vm,automaticDataCollectionEnabled:!0,...e},l=s.name;if(typeof l!="string"||!l)throw Hs.create("bad-app-name",{appName:String(l)});if(i||(i=u1()),!i)throw Hs.create("no-options");const c=uh.get(l);if(c){if(Jr(i,c.options)&&Jr(s,c.config))return c;throw Hs.create("duplicate-app",{appName:l})}const d=new $S(l);for(const y of Em.values())d.addComponent(y);const g=new FA(i,s,d);return uh.set(l,g),g}function p1(r=vm){const e=uh.get(r);if(!e&&r===vm&&u1())return g1();if(!e)throw Hs.create("no-app",{appName:r});return e}function Fs(r,e,i){let s=BA[r]??r;i&&(s+=`-${i}`);const l=s.match(/\s|\//),c=e.match(/\s|\//);if(l||c){const d=[`Unable to register library "${s}" with version "${e}":`];l&&d.push(`library name "${s}" contains illegal characters (whitespace or "/")`),l&&c&&d.push("and"),c&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Zr.warn(d.join(" "));return}$o(new Ga(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}const GA="firebase-heartbeat-database",QA=1,cu="firebase-heartbeat-store";let em=null;function y1(){return em||(em=uA(GA,QA,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(cu)}catch(i){console.warn(i)}}}}).catch(r=>{throw Hs.create("idb-open",{originalErrorMessage:r.message})})),em}async function YA(r){try{const i=(await y1()).transaction(cu),s=await i.objectStore(cu).get(_1(r));return await i.done,s}catch(e){if(e instanceof rs)Zr.warn(e.message);else{const i=Hs.create("idb-get",{originalErrorMessage:e?.message});Zr.warn(i.message)}}}async function S0(r,e){try{const s=(await y1()).transaction(cu,"readwrite");await s.objectStore(cu).put(e,_1(r)),await s.done}catch(i){if(i instanceof rs)Zr.warn(i.message);else{const s=Hs.create("idb-set",{originalErrorMessage:i?.message});Zr.warn(s.message)}}}function _1(r){return`${r.name}!${r.options.appId}`}const KA=1024,XA=30;class $A{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new ZA(i),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=A0();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(l=>l.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats.length>XA){const l=WA(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Zr.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=A0(),{heartbeatsToSend:i,unsentEntries:s}=JA(this._heartbeatsCache.heartbeats),l=lh(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(e){return Zr.warn(e),""}}}function A0(){return new Date().toISOString().substring(0,10)}function JA(r,e=KA){const i=[];let s=r.slice();for(const l of r){const c=i.find(d=>d.agent===l.agent);if(c){if(c.dates.push(l.date),w0(i)>e){c.dates.pop();break}}else if(i.push({agent:l.agent,dates:[l.date]}),w0(i)>e){i.pop();break}s=s.slice(1)}return{heartbeatsToSend:i,unsentEntries:s}}class ZA{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return PS()?zS().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await YA(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return S0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return S0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function w0(r){return lh(JSON.stringify({version:2,heartbeats:r})).length}function WA(r){if(r.length===0)return-1;let e=0,i=r[0].date;for(let s=1;s<r.length;s++)r[s].date<i&&(i=r[s].date,e=s);return e}function e2(r){$o(new Ga("platform-logger",e=>new fA(e),"PRIVATE")),$o(new Ga("heartbeat",e=>new $A(e),"PRIVATE")),Fs(_m,T0,r),Fs(_m,T0,"esm2020"),Fs("fire-js","")}e2("");var t2="firebase",n2="12.6.0";Fs(t2,n2,"app");function v1(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const i2=v1,E1=new _u("auth","Firebase",v1());const ch=new Ym("@firebase/auth");function r2(r,...e){ch.logLevel<=ze.WARN&&ch.warn(`Auth (${al}): ${r}`,...e)}function Jc(r,...e){ch.logLevel<=ze.ERROR&&ch.error(`Auth (${al}): ${r}`,...e)}function Wr(r,...e){throw $m(r,...e)}function cr(r,...e){return $m(r,...e)}function T1(r,e,i){const s={...i2(),[e]:i};return new _u("auth","Firebase",s).create(e,{appName:r.name})}function $r(r){return T1(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function $m(r,...e){if(typeof r!="string"){const i=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=r.name),r._errorFactory.create(i,...s)}return E1.create(r,...e)}function Ae(r,e,...i){if(!r)throw $m(e,...i)}function Kr(r){const e="INTERNAL ASSERTION FAILED: "+r;throw Jc(e),new Error(e)}function es(r,e){r||Kr(e)}function Tm(){return typeof self<"u"&&self.location?.href||""}function s2(){return R0()==="http:"||R0()==="https:"}function R0(){return typeof self<"u"&&self.location?.protocol||null}function a2(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(s2()||VS()||"connection"in navigator)?navigator.onLine:!0}function o2(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}class Eu{constructor(e,i){this.shortDelay=e,this.longDelay=i,es(i>e,"Short delay should be less than long delay!"),this.isMobile=DS()||kS()}get(){return a2()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Jm(r,e){es(r.emulator,"Emulator should always be set here");const{url:i}=r.emulator;return e?`${i}${e.startsWith("/")?e.slice(1):e}`:i}class b1{static initialize(e,i,s){this.fetchImpl=e,i&&(this.headersImpl=i),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Kr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Kr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Kr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const l2={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const u2=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],c2=new Eu(3e4,6e4);function Tu(r,e){return r.tenantId&&!e.tenantId?{...e,tenantId:r.tenantId}:e}async function ol(r,e,i,s,l={}){return S1(r,l,async()=>{let c={},d={};s&&(e==="GET"?d=s:c={body:JSON.stringify(s)});const g=vu({key:r.config.apiKey,...d}).slice(1),y=await r._getAdditionalHeaders();y["Content-Type"]="application/json",r.languageCode&&(y["X-Firebase-Locale"]=r.languageCode);const _={method:e,headers:y,...c};return OS()||(_.referrerPolicy="no-referrer"),r.emulatorConfig&&sl(r.emulatorConfig.host)&&(_.credentials="include"),b1.fetch()(await A1(r,r.config.apiHost,i,g),_)})}async function S1(r,e,i){r._canInitEmulator=!1;const s={...l2,...e};try{const l=new h2(r),c=await Promise.race([i(),l.promise]);l.clearNetworkTimeout();const d=await c.json();if("needConfirmation"in d)throw qc(r,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const g=c.ok?d.errorMessage:d.error.message,[y,_]=g.split(" : ");if(y==="FEDERATED_USER_ID_ALREADY_LINKED")throw qc(r,"credential-already-in-use",d);if(y==="EMAIL_EXISTS")throw qc(r,"email-already-in-use",d);if(y==="USER_DISABLED")throw qc(r,"user-disabled",d);const b=s[y]||y.toLowerCase().replace(/[_\s]+/g,"-");if(_)throw T1(r,b,_);Wr(r,b)}}catch(l){if(l instanceof rs)throw l;Wr(r,"network-request-failed",{message:String(l)})}}async function Zm(r,e,i,s,l={}){const c=await ol(r,e,i,s,l);return"mfaPendingCredential"in c&&Wr(r,"multi-factor-auth-required",{_serverResponse:c}),c}async function A1(r,e,i,s){const l=`${e}${i}?${s}`,c=r,d=c.config.emulator?Jm(r.config,l):`${r.config.apiScheme}://${l}`;return u2.includes(i)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(d).toString():d}class h2{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((i,s)=>{this.timer=setTimeout(()=>s(cr(this.auth,"network-request-failed")),c2.get())})}}function qc(r,e,i){const s={appName:r.name};i.email&&(s.email=i.email),i.phoneNumber&&(s.phoneNumber=i.phoneNumber);const l=cr(r,e,s);return l.customData._tokenResponse=i,l}async function f2(r,e){return ol(r,"POST","/v1/accounts:delete",e)}async function hh(r,e){return ol(r,"POST","/v1/accounts:lookup",e)}function su(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function d2(r,e=!1){const i=gn(r),s=await i.getIdToken(e),l=Wm(s);Ae(l&&l.exp&&l.auth_time&&l.iat,i.auth,"internal-error");const c=typeof l.firebase=="object"?l.firebase:void 0,d=c?.sign_in_provider;return{claims:l,token:s,authTime:su(tm(l.auth_time)),issuedAtTime:su(tm(l.iat)),expirationTime:su(tm(l.exp)),signInProvider:d||null,signInSecondFactor:c?.sign_in_second_factor||null}}function tm(r){return Number(r)*1e3}function Wm(r){const[e,i,s]=r.split(".");if(e===void 0||i===void 0||s===void 0)return Jc("JWT malformed, contained fewer than 3 sections"),null;try{const l=o1(i);return l?JSON.parse(l):(Jc("Failed to decode base64 JWT payload"),null)}catch(l){return Jc("Caught error parsing JWT payload as JSON",l?.toString()),null}}function I0(r){const e=Wm(r);return Ae(e,"internal-error"),Ae(typeof e.exp<"u","internal-error"),Ae(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function hu(r,e,i=!1){if(i)return e;try{return await e}catch(s){throw s instanceof rs&&m2(s)&&r.auth.currentUser===r&&await r.auth.signOut(),s}}function m2({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}class g2{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const i=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class bm{constructor(e,i){this.createdAt=e,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=su(this.lastLoginAt),this.creationTime=su(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function fh(r){const e=r.auth,i=await r.getIdToken(),s=await hu(r,hh(e,{idToken:i}));Ae(s?.users.length,e,"internal-error");const l=s.users[0];r._notifyReloadListener(l);const c=l.providerUserInfo?.length?w1(l.providerUserInfo):[],d=y2(r.providerData,c),g=r.isAnonymous,y=!(r.email&&l.passwordHash)&&!d?.length,_=g?y:!1,b={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:d,metadata:new bm(l.createdAt,l.lastLoginAt),isAnonymous:_};Object.assign(r,b)}async function p2(r){const e=gn(r);await fh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function y2(r,e){return[...r.filter(s=>!e.some(l=>l.providerId===s.providerId)),...e]}function w1(r){return r.map(({providerId:e,...i})=>({providerId:e,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}async function _2(r,e){const i=await S1(r,{},async()=>{const s=vu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:l,apiKey:c}=r.config,d=await A1(r,l,"/v1/token",`key=${c}`),g=await r._getAdditionalHeaders();g["Content-Type"]="application/x-www-form-urlencoded";const y={method:"POST",headers:g,body:s};return r.emulatorConfig&&sl(r.emulatorConfig.host)&&(y.credentials="include"),b1.fetch()(d,y)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function v2(r,e){return ol(r,"POST","/v2/accounts:revokeToken",Tu(r,e))}class Fo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ae(e.idToken,"internal-error"),Ae(typeof e.idToken<"u","internal-error"),Ae(typeof e.refreshToken<"u","internal-error");const i="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):I0(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,i)}updateFromIdToken(e){Ae(e.length!==0,"internal-error");const i=I0(e);this.updateTokensAndExpiration(e,null,i)}async getToken(e,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(Ae(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,i){const{accessToken:s,refreshToken:l,expiresIn:c}=await _2(e,i);this.updateTokensAndExpiration(s,l,Number(c))}updateTokensAndExpiration(e,i,s){this.refreshToken=i||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,i){const{refreshToken:s,accessToken:l,expirationTime:c}=i,d=new Fo;return s&&(Ae(typeof s=="string","internal-error",{appName:e}),d.refreshToken=s),l&&(Ae(typeof l=="string","internal-error",{appName:e}),d.accessToken=l),c&&(Ae(typeof c=="number","internal-error",{appName:e}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Fo,this.toJSON())}_performRefresh(){return Kr("not implemented")}}function Us(r,e){Ae(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class Gi{constructor({uid:e,auth:i,stsTokenManager:s,...l}){this.providerId="firebase",this.proactiveRefresh=new g2(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=i,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new bm(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(e){const i=await hu(this,this.stsTokenManager.getToken(this.auth,e));return Ae(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(e){return d2(this,e)}reload(){return p2(this)}_assign(e){this!==e&&(Ae(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(i=>({...i})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const i=new Gi({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(e){Ae(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,i=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),i&&await fh(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(wi(this.auth.app))return Promise.reject($r(this.auth));const e=await this.getIdToken();return await hu(this,f2(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,i){const s=i.displayName??void 0,l=i.email??void 0,c=i.phoneNumber??void 0,d=i.photoURL??void 0,g=i.tenantId??void 0,y=i._redirectEventId??void 0,_=i.createdAt??void 0,b=i.lastLoginAt??void 0,{uid:A,emailVerified:V,isAnonymous:K,providerData:re,stsTokenManager:se}=i;Ae(A&&se,e,"internal-error");const te=Fo.fromJSON(this.name,se);Ae(typeof A=="string",e,"internal-error"),Us(s,e.name),Us(l,e.name),Ae(typeof V=="boolean",e,"internal-error"),Ae(typeof K=="boolean",e,"internal-error"),Us(c,e.name),Us(d,e.name),Us(g,e.name),Us(y,e.name),Us(_,e.name),Us(b,e.name);const de=new Gi({uid:A,auth:e,email:l,emailVerified:V,displayName:s,isAnonymous:K,photoURL:d,phoneNumber:c,tenantId:g,stsTokenManager:te,createdAt:_,lastLoginAt:b});return re&&Array.isArray(re)&&(de.providerData=re.map(Se=>({...Se}))),y&&(de._redirectEventId=y),de}static async _fromIdTokenResponse(e,i,s=!1){const l=new Fo;l.updateFromServerResponse(i);const c=new Gi({uid:i.localId,auth:e,stsTokenManager:l,isAnonymous:s});return await fh(c),c}static async _fromGetAccountInfoResponse(e,i,s){const l=i.users[0];Ae(l.localId!==void 0,"internal-error");const c=l.providerUserInfo!==void 0?w1(l.providerUserInfo):[],d=!(l.email&&l.passwordHash)&&!c?.length,g=new Fo;g.updateFromIdToken(s);const y=new Gi({uid:l.localId,auth:e,stsTokenManager:g,isAnonymous:d}),_={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:c,metadata:new bm(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!c?.length};return Object.assign(y,_),y}}const C0=new Map;function Xr(r){es(r instanceof Function,"Expected a class definition");let e=C0.get(r);return e?(es(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,C0.set(r,e),e)}class R1{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,i){this.storage[e]=i}async _get(e){const i=this.storage[e];return i===void 0?null:i}async _remove(e){delete this.storage[e]}_addListener(e,i){}_removeListener(e,i){}}R1.type="NONE";const x0=R1;function Zc(r,e,i){return`firebase:${r}:${e}:${i}`}class Go{constructor(e,i,s){this.persistence=e,this.auth=i,this.userKey=s;const{config:l,name:c}=this.auth;this.fullUserKey=Zc(this.userKey,l.apiKey,c),this.fullPersistenceKey=Zc("persistence",l.apiKey,c),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const i=await hh(this.auth,{idToken:e}).catch(()=>{});return i?Gi._fromGetAccountInfoResponse(this.auth,i,e):null}return Gi._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,i,s="authUser"){if(!i.length)return new Go(Xr(x0),e,s);const l=(await Promise.all(i.map(async _=>{if(await _._isAvailable())return _}))).filter(_=>_);let c=l[0]||Xr(x0);const d=Zc(s,e.config.apiKey,e.name);let g=null;for(const _ of i)try{const b=await _._get(d);if(b){let A;if(typeof b=="string"){const V=await hh(e,{idToken:b}).catch(()=>{});if(!V)break;A=await Gi._fromGetAccountInfoResponse(e,V,b)}else A=Gi._fromJSON(e,b);_!==c&&(g=A),c=_;break}}catch{}const y=l.filter(_=>_._shouldAllowMigration);return!c._shouldAllowMigration||!y.length?new Go(c,e,s):(c=y[0],g&&await c._set(d,g.toJSON()),await Promise.all(i.map(async _=>{if(_!==c)try{await _._remove(d)}catch{}})),new Go(c,e,s))}}function N0(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(N1(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(I1(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(M1(e))return"Blackberry";if(O1(e))return"Webos";if(C1(e))return"Safari";if((e.includes("chrome/")||x1(e))&&!e.includes("edge/"))return"Chrome";if(D1(e))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=r.match(i);if(s?.length===2)return s[1]}return"Other"}function I1(r=In()){return/firefox\//i.test(r)}function C1(r=In()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function x1(r=In()){return/crios\//i.test(r)}function N1(r=In()){return/iemobile/i.test(r)}function D1(r=In()){return/android/i.test(r)}function M1(r=In()){return/blackberry/i.test(r)}function O1(r=In()){return/webos/i.test(r)}function eg(r=In()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function E2(r=In()){return eg(r)&&!!window.navigator?.standalone}function T2(){return US()&&document.documentMode===10}function V1(r=In()){return eg(r)||D1(r)||O1(r)||M1(r)||/windows phone/i.test(r)||N1(r)}function k1(r,e=[]){let i;switch(r){case"Browser":i=N0(In());break;case"Worker":i=`${N0(In())}-${r}`;break;default:i=r}const s=e.length?e.join(","):"FirebaseCore-web";return`${i}/JsCore/${al}/${s}`}class b2{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,i){const s=c=>new Promise((d,g)=>{try{const y=e(c);d(y)}catch(y){g(y)}});s.onAbort=i,this.queue.push(s);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const i=[];try{for(const s of this.queue)await s(e),s.onAbort&&i.push(s.onAbort)}catch(s){i.reverse();for(const l of i)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}async function S2(r,e={}){return ol(r,"GET","/v2/passwordPolicy",Tu(r,e))}const A2=6;class w2{constructor(e){const i=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??A2,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,i),this.validatePasswordCharacterOptions(e,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(e,i){const s=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;s&&(i.meetsMinPasswordLength=e.length>=s),l&&(i.meetsMaxPasswordLength=e.length<=l)}validatePasswordCharacterOptions(e,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let s;for(let l=0;l<e.length;l++)s=e.charAt(l),this.updatePasswordCharacterOptionsStatuses(i,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,i,s,l,c){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=c))}}class R2{constructor(e,i,s,l){this.app=e,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=s,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new D0(this),this.idTokenSubscription=new D0(this),this.beforeStateQueue=new b2(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=E1,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(e,i){return i&&(this._popupRedirectResolver=Xr(i)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Go.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const i=await hh(this,{idToken:e}),s=await Gi._fromGetAccountInfoResponse(this,i,e);await this.directlySetCurrentUser(s)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(wi(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let s=i,l=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,d=s?._redirectEventId,g=await this.tryRedirectSignIn(e);(!c||c===d)&&g?.user&&(s=g.user,l=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(s)}catch(c){s=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Ae(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(e){try{await fh(e)}catch(i){if(i?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=o2()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(wi(this.app))return Promise.reject($r(this));const i=e?gn(e):null;return i&&Ae(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(e,i=!1){if(!this._deleted)return e&&Ae(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return wi(this.app)?Promise.reject($r(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return wi(this.app)?Promise.reject($r(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Xr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await S2(this),i=new w2(e);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new _u("auth","Firebase",e())}onAuthStateChanged(e,i,s){return this.registerStateListener(this.authStateSubscription,e,i,s)}beforeAuthStateChanged(e,i){return this.beforeStateQueue.pushCallback(e,i)}onIdTokenChanged(e,i,s){return this.registerStateListener(this.idTokenSubscription,e,i,s)}authStateReady(){return new Promise((e,i)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},i)}})}async revokeAccessToken(e){if(this.currentUser){const i=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:i};this.tenantId!=null&&(s.tenantId=this.tenantId),await v2(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,i){const s=await this.getOrInitRedirectPersistenceManager(i);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const i=e&&Xr(e)||this._popupRedirectResolver;Ae(i,this,"argument-error"),this.redirectPersistenceManager=await Go.create(this,[Xr(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,i,s,l){if(this._deleted)return()=>{};const c=typeof i=="function"?i:i.next.bind(i);let d=!1;const g=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ae(g,this,"internal-error"),g.then(()=>{d||c(this.currentUser)}),typeof i=="function"){const y=e.addObserver(i,s,l);return()=>{d=!0,y()}}else{const y=e.addObserver(i);return()=>{d=!0,y()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ae(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=k1(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const i=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();i&&(e["X-Firebase-Client"]=i);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){if(wi(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&r2(`Error while retrieving App Check token: ${e.error}`),e?.token}}function bu(r){return gn(r)}class D0{constructor(e){this.auth=e,this.observer=null,this.addObserver=FS(i=>this.observer=i)}get next(){return Ae(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let tg={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function I2(r){tg=r}function C2(r){return tg.loadJS(r)}function x2(){return tg.gapiScript}function N2(r){return`__${r}${Math.floor(Math.random()*1e6)}`}function D2(r,e){const i=Xm(r,"auth");if(i.isInitialized()){const l=i.getImmediate(),c=i.getOptions();if(Jr(c,e??{}))return l;Wr(l,"already-initialized")}return i.initialize({options:e})}function M2(r,e){const i=e?.persistence||[],s=(Array.isArray(i)?i:[i]).map(Xr);e?.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(s,e?.popupRedirectResolver)}function O2(r,e,i){const s=bu(r);Ae(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const l=!1,c=U1(e),{host:d,port:g}=V2(e),y=g===null?"":`:${g}`,_={url:`${c}//${d}${y}/`},b=Object.freeze({host:d,port:g,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!s._canInitEmulator){Ae(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),Ae(Jr(_,s.config.emulator)&&Jr(b,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=_,s.emulatorConfig=b,s.settings.appVerificationDisabledForTesting=!0,sl(d)?(h1(`${c}//${d}${y}`),f1("Auth",!0)):k2()}function U1(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function V2(r){const e=U1(r),i=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!i)return{host:"",port:null};const s=i[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(s);if(l){const c=l[1];return{host:c,port:M0(s.substr(c.length+1))}}else{const[c,d]=s.split(":");return{host:c,port:M0(d)}}}function M0(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function k2(){function r(){const e=document.createElement("p"),i=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}class L1{constructor(e,i){this.providerId=e,this.signInMethod=i}toJSON(){return Kr("not implemented")}_getIdTokenResponse(e){return Kr("not implemented")}_linkToIdToken(e,i){return Kr("not implemented")}_getReauthenticationResolver(e){return Kr("not implemented")}}async function Qo(r,e){return Zm(r,"POST","/v1/accounts:signInWithIdp",Tu(r,e))}const U2="http://localhost";class Qa extends L1{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const i=new Qa(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(i.idToken=e.idToken),e.accessToken&&(i.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(i.nonce=e.nonce),e.pendingToken&&(i.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(i.accessToken=e.oauthToken,i.secret=e.oauthTokenSecret):Wr("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const i=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:l,...c}=i;if(!s||!l)return null;const d=new Qa(s,l);return d.idToken=c.idToken||void 0,d.accessToken=c.accessToken||void 0,d.secret=c.secret,d.nonce=c.nonce,d.pendingToken=c.pendingToken||null,d}_getIdTokenResponse(e){const i=this.buildRequest();return Qo(e,i)}_linkToIdToken(e,i){const s=this.buildRequest();return s.idToken=i,Qo(e,s)}_getReauthenticationResolver(e){const i=this.buildRequest();return i.autoCreate=!1,Qo(e,i)}buildRequest(){const e={requestUri:U2,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),e.postBody=vu(i)}return e}}class P1{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Su extends P1{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Ls extends Su{constructor(){super("facebook.com")}static credential(e){return Qa._fromParams({providerId:Ls.PROVIDER_ID,signInMethod:Ls.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ls.credentialFromTaggedObject(e)}static credentialFromError(e){return Ls.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ls.credential(e.oauthAccessToken)}catch{return null}}}Ls.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ls.PROVIDER_ID="facebook.com";class Ps extends Su{constructor(){super("google.com"),this.addScope("profile")}static credential(e,i){return Qa._fromParams({providerId:Ps.PROVIDER_ID,signInMethod:Ps.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:i})}static credentialFromResult(e){return Ps.credentialFromTaggedObject(e)}static credentialFromError(e){return Ps.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:i,oauthAccessToken:s}=e;if(!i&&!s)return null;try{return Ps.credential(i,s)}catch{return null}}}Ps.GOOGLE_SIGN_IN_METHOD="google.com";Ps.PROVIDER_ID="google.com";class zs extends Su{constructor(){super("github.com")}static credential(e){return Qa._fromParams({providerId:zs.PROVIDER_ID,signInMethod:zs.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return zs.credentialFromTaggedObject(e)}static credentialFromError(e){return zs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return zs.credential(e.oauthAccessToken)}catch{return null}}}zs.GITHUB_SIGN_IN_METHOD="github.com";zs.PROVIDER_ID="github.com";class js extends Su{constructor(){super("twitter.com")}static credential(e,i){return Qa._fromParams({providerId:js.PROVIDER_ID,signInMethod:js.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:i})}static credentialFromResult(e){return js.credentialFromTaggedObject(e)}static credentialFromError(e){return js.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:i,oauthTokenSecret:s}=e;if(!i||!s)return null;try{return js.credential(i,s)}catch{return null}}}js.TWITTER_SIGN_IN_METHOD="twitter.com";js.PROVIDER_ID="twitter.com";async function L2(r,e){return Zm(r,"POST","/v1/accounts:signUp",Tu(r,e))}class ts{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,i,s,l=!1){const c=await Gi._fromIdTokenResponse(e,s,l),d=O0(s);return new ts({user:c,providerId:d,_tokenResponse:s,operationType:i})}static async _forOperation(e,i,s){await e._updateTokensIfNecessary(s,!0);const l=O0(s);return new ts({user:e,providerId:l,_tokenResponse:s,operationType:i})}}function O0(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}async function V0(r){if(wi(r.app))return Promise.reject($r(r));const e=bu(r);if(await e._initializationPromise,e.currentUser?.isAnonymous)return new ts({user:e.currentUser,providerId:null,operationType:"signIn"});const i=await L2(e,{returnSecureToken:!0}),s=await ts._fromIdTokenResponse(e,"signIn",i,!0);return await e._updateCurrentUser(s.user),s}class dh extends rs{constructor(e,i,s,l){super(i.code,i.message),this.operationType=s,this.user=l,Object.setPrototypeOf(this,dh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,i,s,l){return new dh(e,i,s,l)}}function z1(r,e,i,s){return(e==="reauthenticate"?i._getReauthenticationResolver(r):i._getIdTokenResponse(r)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?dh._fromErrorAndOperation(r,c,e,s):c})}async function P2(r,e,i=!1){const s=await hu(r,e._linkToIdToken(r.auth,await r.getIdToken()),i);return ts._forOperation(r,"link",s)}async function z2(r,e,i=!1){const{auth:s}=r;if(wi(s.app))return Promise.reject($r(s));const l="reauthenticate";try{const c=await hu(r,z1(s,l,e,r),i);Ae(c.idToken,s,"internal-error");const d=Wm(c.idToken);Ae(d,s,"internal-error");const{sub:g}=d;return Ae(r.uid===g,s,"user-mismatch"),ts._forOperation(r,l,c)}catch(c){throw c?.code==="auth/user-not-found"&&Wr(s,"user-mismatch"),c}}async function j2(r,e,i=!1){if(wi(r.app))return Promise.reject($r(r));const s="signIn",l=await z1(r,s,e),c=await ts._fromIdTokenResponse(r,s,l);return i||await r._updateCurrentUser(c.user),c}async function B2(r,e){return Zm(r,"POST","/v1/accounts:signInWithCustomToken",Tu(r,e))}async function q2(r,e){if(wi(r.app))return Promise.reject($r(r));const i=bu(r),s=await B2(i,{token:e,returnSecureToken:!0}),l=await ts._fromIdTokenResponse(i,"signIn",s);return await i._updateCurrentUser(l.user),l}function H2(r,e,i,s){return gn(r).onIdTokenChanged(e,i,s)}function F2(r,e,i){return gn(r).beforeAuthStateChanged(e,i)}function G2(r,e,i,s){return gn(r).onAuthStateChanged(e,i,s)}const mh="__sak";class j1{constructor(e,i){this.storageRetriever=e,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(mh,"1"),this.storage.removeItem(mh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,i){return this.storage.setItem(e,JSON.stringify(i)),Promise.resolve()}_get(e){const i=this.storage.getItem(e);return Promise.resolve(i?JSON.parse(i):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const Q2=1e3,Y2=10;class B1 extends j1{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,i)=>this.onStorageEvent(e,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=V1(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const i of Object.keys(this.listeners)){const s=this.storage.getItem(i),l=this.localCache[i];s!==l&&e(i,l,s)}}onStorageEvent(e,i=!1){if(!e.key){this.forAllChangedKeys((d,g,y)=>{this.notifyListeners(d,y)});return}const s=e.key;i?this.detachListener():this.stopPolling();const l=()=>{const d=this.storage.getItem(s);!i&&this.localCache[s]===d||this.notifyListeners(s,d)},c=this.storage.getItem(s);T2()&&c!==e.newValue&&e.newValue!==e.oldValue?setTimeout(l,Y2):l()}notifyListeners(e,i){this.localCache[e]=i;const s=this.listeners[e];if(s)for(const l of Array.from(s))l(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,i,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:i,newValue:s}),!0)})},Q2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,i){await super._set(e,i),this.localCache[e]=JSON.stringify(i)}async _get(e){const i=await super._get(e);return this.localCache[e]=JSON.stringify(i),i}async _remove(e){await super._remove(e),delete this.localCache[e]}}B1.type="LOCAL";const K2=B1;class q1 extends j1{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,i){}_removeListener(e,i){}}q1.type="SESSION";const H1=q1;function X2(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(i){return{fulfilled:!1,reason:i}}}))}class Nh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const i=this.receivers.find(l=>l.isListeningto(e));if(i)return i;const s=new Nh(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const i=e,{eventId:s,eventType:l,data:c}=i.data,d=this.handlersMap[l];if(!d?.size)return;i.ports[0].postMessage({status:"ack",eventId:s,eventType:l});const g=Array.from(d).map(async _=>_(i.origin,c)),y=await X2(g);i.ports[0].postMessage({status:"done",eventId:s,eventType:l,response:y})}_subscribe(e,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(i)}_unsubscribe(e,i){this.handlersMap[e]&&i&&this.handlersMap[e].delete(i),(!i||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Nh.receivers=[];function ng(r="",e=10){let i="";for(let s=0;s<e;s++)i+=Math.floor(Math.random()*10);return r+i}class $2{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,i,s=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let c,d;return new Promise((g,y)=>{const _=ng("",20);l.port1.start();const b=setTimeout(()=>{y(new Error("unsupported_event"))},s);d={messageChannel:l,onMessage(A){const V=A;if(V.data.eventId===_)switch(V.data.status){case"ack":clearTimeout(b),c=setTimeout(()=>{y(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),g(V.data.response);break;default:clearTimeout(b),clearTimeout(c),y(new Error("invalid_response"));break}}},this.handlers.add(d),l.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:e,eventId:_,data:i},[l.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}function hr(){return window}function J2(r){hr().location.href=r}function F1(){return typeof hr().WorkerGlobalScope<"u"&&typeof hr().importScripts=="function"}async function Z2(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function W2(){return navigator?.serviceWorker?.controller||null}function ew(){return F1()?self:null}const G1="firebaseLocalStorageDb",tw=1,gh="firebaseLocalStorage",Q1="fbase_key";class Au{constructor(e){this.request=e}toPromise(){return new Promise((e,i)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function Dh(r,e){return r.transaction([gh],e?"readwrite":"readonly").objectStore(gh)}function nw(){const r=indexedDB.deleteDatabase(G1);return new Au(r).toPromise()}function Sm(){const r=indexedDB.open(G1,tw);return new Promise((e,i)=>{r.addEventListener("error",()=>{i(r.error)}),r.addEventListener("upgradeneeded",()=>{const s=r.result;try{s.createObjectStore(gh,{keyPath:Q1})}catch(l){i(l)}}),r.addEventListener("success",async()=>{const s=r.result;s.objectStoreNames.contains(gh)?e(s):(s.close(),await nw(),e(await Sm()))})})}async function k0(r,e,i){const s=Dh(r,!0).put({[Q1]:e,value:i});return new Au(s).toPromise()}async function iw(r,e){const i=Dh(r,!1).get(e),s=await new Au(i).toPromise();return s===void 0?null:s.value}function U0(r,e){const i=Dh(r,!0).delete(e);return new Au(i).toPromise()}const rw=800,sw=3;class Y1{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Sm(),this.db)}async _withRetries(e){let i=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(i++>sw)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return F1()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Nh._getInstance(ew()),this.receiver._subscribe("keyChanged",async(e,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(e,i)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await Z2(),!this.activeServiceWorker)return;this.sender=new $2(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||W2()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Sm();return await k0(e,mh,"1"),await U0(e,mh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,i){return this._withPendingWrite(async()=>(await this._withRetries(s=>k0(s,e,i)),this.localCache[e]=i,this.notifyServiceWorker(e)))}async _get(e){const i=await this._withRetries(s=>iw(s,e));return this.localCache[e]=i,i}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(i=>U0(i,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(l=>{const c=Dh(l,!1).getAll();return new Au(c).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const i=[],s=new Set;if(e.length!==0)for(const{fbase_key:l,value:c}of e)s.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(c)&&(this.notifyListeners(l,c),i.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!s.has(l)&&(this.notifyListeners(l,null),i.push(l));return i}notifyListeners(e,i){this.localCache[e]=i;const s=this.listeners[e];if(s)for(const l of Array.from(s))l(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),rw)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Y1.type="LOCAL";const aw=Y1;new Eu(3e4,6e4);function ow(r,e){return e?Xr(e):(Ae(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}class ig extends L1{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Qo(e,this._buildIdpRequest())}_linkToIdToken(e,i){return Qo(e,this._buildIdpRequest(i))}_getReauthenticationResolver(e){return Qo(e,this._buildIdpRequest())}_buildIdpRequest(e){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(i.idToken=e),i}}function lw(r){return j2(r.auth,new ig(r),r.bypassAuthState)}function uw(r){const{auth:e,user:i}=r;return Ae(i,e,"internal-error"),z2(i,new ig(r),r.bypassAuthState)}async function cw(r){const{auth:e,user:i}=r;return Ae(i,e,"internal-error"),P2(i,new ig(r),r.bypassAuthState)}class K1{constructor(e,i,s,l,c=!1){this.auth=e,this.resolver=s,this.user=l,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(e,i)=>{this.pendingPromise={resolve:e,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:i,sessionId:s,postBody:l,tenantId:c,error:d,type:g}=e;if(d){this.reject(d);return}const y={auth:this.auth,requestUri:i,sessionId:s,tenantId:c||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(g)(y))}catch(_){this.reject(_)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return lw;case"linkViaPopup":case"linkViaRedirect":return cw;case"reauthViaPopup":case"reauthViaRedirect":return uw;default:Wr(this.auth,"internal-error")}}resolve(e){es(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){es(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const hw=new Eu(2e3,1e4);class Ho extends K1{constructor(e,i,s,l,c){super(e,i,l,c),this.provider=s,this.authWindow=null,this.pollId=null,Ho.currentPopupAction&&Ho.currentPopupAction.cancel(),Ho.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ae(e,this.auth,"internal-error"),e}async onExecution(){es(this.filter.length===1,"Popup operations only handle one event");const e=ng();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(cr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(cr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ho.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(cr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,hw.get())};e()}}Ho.currentPopupAction=null;const fw="pendingRedirect",Wc=new Map;class dw extends K1{constructor(e,i,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,s),this.eventId=null}async execute(){let e=Wc.get(this.auth._key());if(!e){try{const s=await mw(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(i){e=()=>Promise.reject(i)}Wc.set(this.auth._key(),e)}return this.bypassAuthState||Wc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const i=await this.auth._redirectUserForId(e.eventId);if(i)return this.user=i,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function mw(r,e){const i=yw(e),s=pw(r);if(!await s._isAvailable())return!1;const l=await s._get(i)==="true";return await s._remove(i),l}function gw(r,e){Wc.set(r._key(),e)}function pw(r){return Xr(r._redirectPersistence)}function yw(r){return Zc(fw,r.config.apiKey,r.name)}async function _w(r,e,i=!1){if(wi(r.app))return Promise.reject($r(r));const s=bu(r),l=ow(s,e),d=await new dw(s,l,i).execute();return d&&!i&&(delete d.user._redirectEventId,await s._persistUserIfCurrent(d.user),await s._setRedirectUser(null,e)),d}const vw=600*1e3;class Ew{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let i=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(i=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!Tw(e)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=e,i=!0)),i}sendToConsumer(e,i){if(e.error&&!X1(e)){const s=e.error.code?.split("auth/")[1]||"internal-error";i.onError(cr(this.auth,s))}else i.onAuthEvent(e)}isEventForConsumer(e,i){const s=i.eventId===null||!!e.eventId&&e.eventId===i.eventId;return i.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=vw&&this.cachedEventUids.clear(),this.cachedEventUids.has(L0(e))}saveEventToCache(e){this.cachedEventUids.add(L0(e)),this.lastProcessedEventTime=Date.now()}}function L0(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function X1({type:r,error:e}){return r==="unknown"&&e?.code==="auth/no-auth-event"}function Tw(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return X1(r);default:return!1}}async function bw(r,e={}){return ol(r,"GET","/v1/projects",e)}const Sw=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Aw=/^https?/;async function ww(r){if(r.config.emulator)return;const{authorizedDomains:e}=await bw(r);for(const i of e)try{if(Rw(i))return}catch{}Wr(r,"unauthorized-domain")}function Rw(r){const e=Tm(),{protocol:i,hostname:s}=new URL(e);if(r.startsWith("chrome-extension://")){const d=new URL(r);return d.hostname===""&&s===""?i==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):i==="chrome-extension:"&&d.hostname===s}if(!Aw.test(i))return!1;if(Sw.test(r))return s===r;const l=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(s)}const Iw=new Eu(3e4,6e4);function P0(){const r=hr().___jsl;if(r?.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let i=0;i<r.CP.length;i++)r.CP[i]=null}}function Cw(r){return new Promise((e,i)=>{function s(){P0(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{P0(),i(cr(r,"network-request-failed"))},timeout:Iw.get()})}if(hr().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(hr().gapi?.load)s();else{const l=N2("iframefcb");return hr()[l]=()=>{gapi.load?s():i(cr(r,"network-request-failed"))},C2(`${x2()}?onload=${l}`).catch(c=>i(c))}}).catch(e=>{throw eh=null,e})}let eh=null;function xw(r){return eh=eh||Cw(r),eh}const Nw=new Eu(5e3,15e3),Dw="__/auth/iframe",Mw="emulator/auth/iframe",Ow={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Vw=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function kw(r){const e=r.config;Ae(e.authDomain,r,"auth-domain-config-required");const i=e.emulator?Jm(e,Mw):`https://${r.config.authDomain}/${Dw}`,s={apiKey:e.apiKey,appName:r.name,v:al},l=Vw.get(r.config.apiHost);l&&(s.eid=l);const c=r._getFrameworks();return c.length&&(s.fw=c.join(",")),`${i}?${vu(s).slice(1)}`}async function Uw(r){const e=await xw(r),i=hr().gapi;return Ae(i,r,"internal-error"),e.open({where:document.body,url:kw(r),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Ow,dontclear:!0},s=>new Promise(async(l,c)=>{await s.restyle({setHideOnLeave:!1});const d=cr(r,"network-request-failed"),g=hr().setTimeout(()=>{c(d)},Nw.get());function y(){hr().clearTimeout(g),l(s)}s.ping(y).then(y,()=>{c(d)})}))}const Lw={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Pw=500,zw=600,jw="_blank",Bw="http://localhost";class z0{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function qw(r,e,i,s=Pw,l=zw){const c=Math.max((window.screen.availHeight-l)/2,0).toString(),d=Math.max((window.screen.availWidth-s)/2,0).toString();let g="";const y={...Lw,width:s.toString(),height:l.toString(),top:c,left:d},_=In().toLowerCase();i&&(g=x1(_)?jw:i),I1(_)&&(e=e||Bw,y.scrollbars="yes");const b=Object.entries(y).reduce((V,[K,re])=>`${V}${K}=${re},`,"");if(E2(_)&&g!=="_self")return Hw(e||"",g),new z0(null);const A=window.open(e||"",g,b);Ae(A,r,"popup-blocked");try{A.focus()}catch{}return new z0(A)}function Hw(r,e){const i=document.createElement("a");i.href=r,i.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(s)}const Fw="__/auth/handler",Gw="emulator/auth/handler",Qw=encodeURIComponent("fac");async function j0(r,e,i,s,l,c){Ae(r.config.authDomain,r,"auth-domain-config-required"),Ae(r.config.apiKey,r,"invalid-api-key");const d={apiKey:r.config.apiKey,appName:r.name,authType:i,redirectUrl:s,v:al,eventId:l};if(e instanceof P1){e.setDefaultLanguage(r.languageCode),d.providerId=e.providerId||"",HS(e.getCustomParameters())||(d.customParameters=JSON.stringify(e.getCustomParameters()));for(const[b,A]of Object.entries({}))d[b]=A}if(e instanceof Su){const b=e.getScopes().filter(A=>A!=="");b.length>0&&(d.scopes=b.join(","))}r.tenantId&&(d.tid=r.tenantId);const g=d;for(const b of Object.keys(g))g[b]===void 0&&delete g[b];const y=await r._getAppCheckToken(),_=y?`#${Qw}=${encodeURIComponent(y)}`:"";return`${Yw(r)}?${vu(g).slice(1)}${_}`}function Yw({config:r}){return r.emulator?Jm(r,Gw):`https://${r.authDomain}/${Fw}`}const nm="webStorageSupport";class Kw{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=H1,this._completeRedirectFn=_w,this._overrideRedirectResult=gw}async _openPopup(e,i,s,l){es(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const c=await j0(e,i,s,Tm(),l);return qw(e,c,ng())}async _openRedirect(e,i,s,l){await this._originValidation(e);const c=await j0(e,i,s,Tm(),l);return J2(c),new Promise(()=>{})}_initialize(e){const i=e._key();if(this.eventManagers[i]){const{manager:l,promise:c}=this.eventManagers[i];return l?Promise.resolve(l):(es(c,"If manager is not set, promise should be"),c)}const s=this.initAndGetManager(e);return this.eventManagers[i]={promise:s},s.catch(()=>{delete this.eventManagers[i]}),s}async initAndGetManager(e){const i=await Uw(e),s=new Ew(e);return i.register("authEvent",l=>(Ae(l?.authEvent,e,"invalid-auth-event"),{status:s.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=i,s}_isIframeWebStorageSupported(e,i){this.iframes[e._key()].send(nm,{type:nm},l=>{const c=l?.[0]?.[nm];c!==void 0&&i(!!c),Wr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const i=e._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=ww(e)),this.originValidationPromises[i]}get _shouldInitProactively(){return V1()||C1()||eg()}}const Xw=Kw;var B0="@firebase/auth",q0="1.11.1";class $w{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const i=this.auth.onIdTokenChanged(s=>{e(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,i),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const i=this.internalListeners.get(e);i&&(this.internalListeners.delete(e),i(),this.updateProactiveRefresh())}assertAuthConfigured(){Ae(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function Jw(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Zw(r){$o(new Ga("auth",(e,{options:i})=>{const s=e.getProvider("app").getImmediate(),l=e.getProvider("heartbeat"),c=e.getProvider("app-check-internal"),{apiKey:d,authDomain:g}=s.options;Ae(d&&!d.includes(":"),"invalid-api-key",{appName:s.name});const y={apiKey:d,authDomain:g,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:k1(r)},_=new R2(s,l,c,y);return M2(_,i),_},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,i,s)=>{e.getProvider("auth-internal").initialize()})),$o(new Ga("auth-internal",e=>{const i=bu(e.getProvider("auth").getImmediate());return(s=>new $w(s))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),Fs(B0,q0,Jw(r)),Fs(B0,q0,"esm2020")}const Ww=300,eR=c1("authIdTokenMaxAge")||Ww;let H0=null;const tR=r=>async e=>{const i=e&&await e.getIdTokenResult(),s=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(s&&s>eR)return;const l=i?.token;H0!==l&&(H0=l,await fetch(r,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function nR(r=p1()){const e=Xm(r,"auth");if(e.isInitialized())return e.getImmediate();const i=D2(r,{popupRedirectResolver:Xw,persistence:[aw,K2,H1]}),s=c1("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(s,location.origin);if(location.origin===c.origin){const d=tR(c.toString());F2(i,d,()=>d(i.currentUser)),H2(i,g=>d(g))}}const l=l1("auth");return l&&O2(i,`http://${l}`),i}function iR(){return document.getElementsByTagName("head")?.[0]??document}I2({loadJS(r){return new Promise((e,i)=>{const s=document.createElement("script");s.setAttribute("src",r),s.onload=e,s.onerror=l=>{const c=cr("internal-error");c.customData=l,i(c)},s.type="text/javascript",s.charset="UTF-8",iR().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Zw("Browser");var F0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Gs,$1;(function(){var r;function e(N,w){function x(){}x.prototype=w.prototype,N.F=w.prototype,N.prototype=new x,N.prototype.constructor=N,N.D=function(k,O,P){for(var I=Array(arguments.length-2),yt=2;yt<arguments.length;yt++)I[yt-2]=arguments[yt];return w.prototype[O].apply(k,I)}}function i(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(s,i),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(N,w,x){x||(x=0);const k=Array(16);if(typeof w=="string")for(var O=0;O<16;++O)k[O]=w.charCodeAt(x++)|w.charCodeAt(x++)<<8|w.charCodeAt(x++)<<16|w.charCodeAt(x++)<<24;else for(O=0;O<16;++O)k[O]=w[x++]|w[x++]<<8|w[x++]<<16|w[x++]<<24;w=N.g[0],x=N.g[1],O=N.g[2];let P=N.g[3],I;I=w+(P^x&(O^P))+k[0]+3614090360&4294967295,w=x+(I<<7&4294967295|I>>>25),I=P+(O^w&(x^O))+k[1]+3905402710&4294967295,P=w+(I<<12&4294967295|I>>>20),I=O+(x^P&(w^x))+k[2]+606105819&4294967295,O=P+(I<<17&4294967295|I>>>15),I=x+(w^O&(P^w))+k[3]+3250441966&4294967295,x=O+(I<<22&4294967295|I>>>10),I=w+(P^x&(O^P))+k[4]+4118548399&4294967295,w=x+(I<<7&4294967295|I>>>25),I=P+(O^w&(x^O))+k[5]+1200080426&4294967295,P=w+(I<<12&4294967295|I>>>20),I=O+(x^P&(w^x))+k[6]+2821735955&4294967295,O=P+(I<<17&4294967295|I>>>15),I=x+(w^O&(P^w))+k[7]+4249261313&4294967295,x=O+(I<<22&4294967295|I>>>10),I=w+(P^x&(O^P))+k[8]+1770035416&4294967295,w=x+(I<<7&4294967295|I>>>25),I=P+(O^w&(x^O))+k[9]+2336552879&4294967295,P=w+(I<<12&4294967295|I>>>20),I=O+(x^P&(w^x))+k[10]+4294925233&4294967295,O=P+(I<<17&4294967295|I>>>15),I=x+(w^O&(P^w))+k[11]+2304563134&4294967295,x=O+(I<<22&4294967295|I>>>10),I=w+(P^x&(O^P))+k[12]+1804603682&4294967295,w=x+(I<<7&4294967295|I>>>25),I=P+(O^w&(x^O))+k[13]+4254626195&4294967295,P=w+(I<<12&4294967295|I>>>20),I=O+(x^P&(w^x))+k[14]+2792965006&4294967295,O=P+(I<<17&4294967295|I>>>15),I=x+(w^O&(P^w))+k[15]+1236535329&4294967295,x=O+(I<<22&4294967295|I>>>10),I=w+(O^P&(x^O))+k[1]+4129170786&4294967295,w=x+(I<<5&4294967295|I>>>27),I=P+(x^O&(w^x))+k[6]+3225465664&4294967295,P=w+(I<<9&4294967295|I>>>23),I=O+(w^x&(P^w))+k[11]+643717713&4294967295,O=P+(I<<14&4294967295|I>>>18),I=x+(P^w&(O^P))+k[0]+3921069994&4294967295,x=O+(I<<20&4294967295|I>>>12),I=w+(O^P&(x^O))+k[5]+3593408605&4294967295,w=x+(I<<5&4294967295|I>>>27),I=P+(x^O&(w^x))+k[10]+38016083&4294967295,P=w+(I<<9&4294967295|I>>>23),I=O+(w^x&(P^w))+k[15]+3634488961&4294967295,O=P+(I<<14&4294967295|I>>>18),I=x+(P^w&(O^P))+k[4]+3889429448&4294967295,x=O+(I<<20&4294967295|I>>>12),I=w+(O^P&(x^O))+k[9]+568446438&4294967295,w=x+(I<<5&4294967295|I>>>27),I=P+(x^O&(w^x))+k[14]+3275163606&4294967295,P=w+(I<<9&4294967295|I>>>23),I=O+(w^x&(P^w))+k[3]+4107603335&4294967295,O=P+(I<<14&4294967295|I>>>18),I=x+(P^w&(O^P))+k[8]+1163531501&4294967295,x=O+(I<<20&4294967295|I>>>12),I=w+(O^P&(x^O))+k[13]+2850285829&4294967295,w=x+(I<<5&4294967295|I>>>27),I=P+(x^O&(w^x))+k[2]+4243563512&4294967295,P=w+(I<<9&4294967295|I>>>23),I=O+(w^x&(P^w))+k[7]+1735328473&4294967295,O=P+(I<<14&4294967295|I>>>18),I=x+(P^w&(O^P))+k[12]+2368359562&4294967295,x=O+(I<<20&4294967295|I>>>12),I=w+(x^O^P)+k[5]+4294588738&4294967295,w=x+(I<<4&4294967295|I>>>28),I=P+(w^x^O)+k[8]+2272392833&4294967295,P=w+(I<<11&4294967295|I>>>21),I=O+(P^w^x)+k[11]+1839030562&4294967295,O=P+(I<<16&4294967295|I>>>16),I=x+(O^P^w)+k[14]+4259657740&4294967295,x=O+(I<<23&4294967295|I>>>9),I=w+(x^O^P)+k[1]+2763975236&4294967295,w=x+(I<<4&4294967295|I>>>28),I=P+(w^x^O)+k[4]+1272893353&4294967295,P=w+(I<<11&4294967295|I>>>21),I=O+(P^w^x)+k[7]+4139469664&4294967295,O=P+(I<<16&4294967295|I>>>16),I=x+(O^P^w)+k[10]+3200236656&4294967295,x=O+(I<<23&4294967295|I>>>9),I=w+(x^O^P)+k[13]+681279174&4294967295,w=x+(I<<4&4294967295|I>>>28),I=P+(w^x^O)+k[0]+3936430074&4294967295,P=w+(I<<11&4294967295|I>>>21),I=O+(P^w^x)+k[3]+3572445317&4294967295,O=P+(I<<16&4294967295|I>>>16),I=x+(O^P^w)+k[6]+76029189&4294967295,x=O+(I<<23&4294967295|I>>>9),I=w+(x^O^P)+k[9]+3654602809&4294967295,w=x+(I<<4&4294967295|I>>>28),I=P+(w^x^O)+k[12]+3873151461&4294967295,P=w+(I<<11&4294967295|I>>>21),I=O+(P^w^x)+k[15]+530742520&4294967295,O=P+(I<<16&4294967295|I>>>16),I=x+(O^P^w)+k[2]+3299628645&4294967295,x=O+(I<<23&4294967295|I>>>9),I=w+(O^(x|~P))+k[0]+4096336452&4294967295,w=x+(I<<6&4294967295|I>>>26),I=P+(x^(w|~O))+k[7]+1126891415&4294967295,P=w+(I<<10&4294967295|I>>>22),I=O+(w^(P|~x))+k[14]+2878612391&4294967295,O=P+(I<<15&4294967295|I>>>17),I=x+(P^(O|~w))+k[5]+4237533241&4294967295,x=O+(I<<21&4294967295|I>>>11),I=w+(O^(x|~P))+k[12]+1700485571&4294967295,w=x+(I<<6&4294967295|I>>>26),I=P+(x^(w|~O))+k[3]+2399980690&4294967295,P=w+(I<<10&4294967295|I>>>22),I=O+(w^(P|~x))+k[10]+4293915773&4294967295,O=P+(I<<15&4294967295|I>>>17),I=x+(P^(O|~w))+k[1]+2240044497&4294967295,x=O+(I<<21&4294967295|I>>>11),I=w+(O^(x|~P))+k[8]+1873313359&4294967295,w=x+(I<<6&4294967295|I>>>26),I=P+(x^(w|~O))+k[15]+4264355552&4294967295,P=w+(I<<10&4294967295|I>>>22),I=O+(w^(P|~x))+k[6]+2734768916&4294967295,O=P+(I<<15&4294967295|I>>>17),I=x+(P^(O|~w))+k[13]+1309151649&4294967295,x=O+(I<<21&4294967295|I>>>11),I=w+(O^(x|~P))+k[4]+4149444226&4294967295,w=x+(I<<6&4294967295|I>>>26),I=P+(x^(w|~O))+k[11]+3174756917&4294967295,P=w+(I<<10&4294967295|I>>>22),I=O+(w^(P|~x))+k[2]+718787259&4294967295,O=P+(I<<15&4294967295|I>>>17),I=x+(P^(O|~w))+k[9]+3951481745&4294967295,N.g[0]=N.g[0]+w&4294967295,N.g[1]=N.g[1]+(O+(I<<21&4294967295|I>>>11))&4294967295,N.g[2]=N.g[2]+O&4294967295,N.g[3]=N.g[3]+P&4294967295}s.prototype.v=function(N,w){w===void 0&&(w=N.length);const x=w-this.blockSize,k=this.C;let O=this.h,P=0;for(;P<w;){if(O==0)for(;P<=x;)l(this,N,P),P+=this.blockSize;if(typeof N=="string"){for(;P<w;)if(k[O++]=N.charCodeAt(P++),O==this.blockSize){l(this,k),O=0;break}}else for(;P<w;)if(k[O++]=N[P++],O==this.blockSize){l(this,k),O=0;break}}this.h=O,this.o+=w},s.prototype.A=function(){var N=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);N[0]=128;for(var w=1;w<N.length-8;++w)N[w]=0;w=this.o*8;for(var x=N.length-8;x<N.length;++x)N[x]=w&255,w/=256;for(this.v(N),N=Array(16),w=0,x=0;x<4;++x)for(let k=0;k<32;k+=8)N[w++]=this.g[x]>>>k&255;return N};function c(N,w){var x=g;return Object.prototype.hasOwnProperty.call(x,N)?x[N]:x[N]=w(N)}function d(N,w){this.h=w;const x=[];let k=!0;for(let O=N.length-1;O>=0;O--){const P=N[O]|0;k&&P==w||(x[O]=P,k=!1)}this.g=x}var g={};function y(N){return-128<=N&&N<128?c(N,function(w){return new d([w|0],w<0?-1:0)}):new d([N|0],N<0?-1:0)}function _(N){if(isNaN(N)||!isFinite(N))return A;if(N<0)return te(_(-N));const w=[];let x=1;for(let k=0;N>=x;k++)w[k]=N/x|0,x*=4294967296;return new d(w,0)}function b(N,w){if(N.length==0)throw Error("number format error: empty string");if(w=w||10,w<2||36<w)throw Error("radix out of range: "+w);if(N.charAt(0)=="-")return te(b(N.substring(1),w));if(N.indexOf("-")>=0)throw Error('number format error: interior "-" character');const x=_(Math.pow(w,8));let k=A;for(let P=0;P<N.length;P+=8){var O=Math.min(8,N.length-P);const I=parseInt(N.substring(P,P+O),w);O<8?(O=_(Math.pow(w,O)),k=k.j(O).add(_(I))):(k=k.j(x),k=k.add(_(I)))}return k}var A=y(0),V=y(1),K=y(16777216);r=d.prototype,r.m=function(){if(se(this))return-te(this).m();let N=0,w=1;for(let x=0;x<this.g.length;x++){const k=this.i(x);N+=(k>=0?k:4294967296+k)*w,w*=4294967296}return N},r.toString=function(N){if(N=N||10,N<2||36<N)throw Error("radix out of range: "+N);if(re(this))return"0";if(se(this))return"-"+te(this).toString(N);const w=_(Math.pow(N,6));var x=this;let k="";for(;;){const O=Ye(x,w).g;x=de(x,O.j(w));let P=((x.g.length>0?x.g[0]:x.h)>>>0).toString(N);if(x=O,re(x))return P+k;for(;P.length<6;)P="0"+P;k=P+k}},r.i=function(N){return N<0?0:N<this.g.length?this.g[N]:this.h};function re(N){if(N.h!=0)return!1;for(let w=0;w<N.g.length;w++)if(N.g[w]!=0)return!1;return!0}function se(N){return N.h==-1}r.l=function(N){return N=de(this,N),se(N)?-1:re(N)?0:1};function te(N){const w=N.g.length,x=[];for(let k=0;k<w;k++)x[k]=~N.g[k];return new d(x,~N.h).add(V)}r.abs=function(){return se(this)?te(this):this},r.add=function(N){const w=Math.max(this.g.length,N.g.length),x=[];let k=0;for(let O=0;O<=w;O++){let P=k+(this.i(O)&65535)+(N.i(O)&65535),I=(P>>>16)+(this.i(O)>>>16)+(N.i(O)>>>16);k=I>>>16,P&=65535,I&=65535,x[O]=I<<16|P}return new d(x,x[x.length-1]&-2147483648?-1:0)};function de(N,w){return N.add(te(w))}r.j=function(N){if(re(this)||re(N))return A;if(se(this))return se(N)?te(this).j(te(N)):te(te(this).j(N));if(se(N))return te(this.j(te(N)));if(this.l(K)<0&&N.l(K)<0)return _(this.m()*N.m());const w=this.g.length+N.g.length,x=[];for(var k=0;k<2*w;k++)x[k]=0;for(k=0;k<this.g.length;k++)for(let O=0;O<N.g.length;O++){const P=this.i(k)>>>16,I=this.i(k)&65535,yt=N.i(O)>>>16,wt=N.i(O)&65535;x[2*k+2*O]+=I*wt,Se(x,2*k+2*O),x[2*k+2*O+1]+=P*wt,Se(x,2*k+2*O+1),x[2*k+2*O+1]+=I*yt,Se(x,2*k+2*O+1),x[2*k+2*O+2]+=P*yt,Se(x,2*k+2*O+2)}for(N=0;N<w;N++)x[N]=x[2*N+1]<<16|x[2*N];for(N=w;N<2*w;N++)x[N]=0;return new d(x,0)};function Se(N,w){for(;(N[w]&65535)!=N[w];)N[w+1]+=N[w]>>>16,N[w]&=65535,w++}function ve(N,w){this.g=N,this.h=w}function Ye(N,w){if(re(w))throw Error("division by zero");if(re(N))return new ve(A,A);if(se(N))return w=Ye(te(N),w),new ve(te(w.g),te(w.h));if(se(w))return w=Ye(N,te(w)),new ve(te(w.g),w.h);if(N.g.length>30){if(se(N)||se(w))throw Error("slowDivide_ only works with positive integers.");for(var x=V,k=w;k.l(N)<=0;)x=Fe(x),k=Fe(k);var O=Me(x,1),P=Me(k,1);for(k=Me(k,2),x=Me(x,2);!re(k);){var I=P.add(k);I.l(N)<=0&&(O=O.add(x),P=I),k=Me(k,1),x=Me(x,1)}return w=de(N,O.j(w)),new ve(O,w)}for(O=A;N.l(w)>=0;){for(x=Math.max(1,Math.floor(N.m()/w.m())),k=Math.ceil(Math.log(x)/Math.LN2),k=k<=48?1:Math.pow(2,k-48),P=_(x),I=P.j(w);se(I)||I.l(N)>0;)x-=k,P=_(x),I=P.j(w);re(P)&&(P=V),O=O.add(P),N=de(N,I)}return new ve(O,N)}r.B=function(N){return Ye(this,N).h},r.and=function(N){const w=Math.max(this.g.length,N.g.length),x=[];for(let k=0;k<w;k++)x[k]=this.i(k)&N.i(k);return new d(x,this.h&N.h)},r.or=function(N){const w=Math.max(this.g.length,N.g.length),x=[];for(let k=0;k<w;k++)x[k]=this.i(k)|N.i(k);return new d(x,this.h|N.h)},r.xor=function(N){const w=Math.max(this.g.length,N.g.length),x=[];for(let k=0;k<w;k++)x[k]=this.i(k)^N.i(k);return new d(x,this.h^N.h)};function Fe(N){const w=N.g.length+1,x=[];for(let k=0;k<w;k++)x[k]=N.i(k)<<1|N.i(k-1)>>>31;return new d(x,N.h)}function Me(N,w){const x=w>>5;w%=32;const k=N.g.length-x,O=[];for(let P=0;P<k;P++)O[P]=w>0?N.i(P+x)>>>w|N.i(P+x+1)<<32-w:N.i(P+x);return new d(O,N.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,$1=s,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=_,d.fromString=b,Gs=d}).apply(typeof F0<"u"?F0:typeof self<"u"?self:typeof window<"u"?window:{});var Hc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var J1,eu,Z1,th,Am,W1,eE,tE;(function(){var r,e=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Hc=="object"&&Hc];for(var m=0;m<u.length;++m){var v=u[m];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var s=i(this);function l(u,m){if(m)e:{var v=s;u=u.split(".");for(var T=0;T<u.length-1;T++){var z=u[T];if(!(z in v))break e;v=v[z]}u=u[u.length-1],T=v[u],m=m(T),m!=T&&m!=null&&e(v,u,{configurable:!0,writable:!0,value:m})}}l("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),l("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),l("Object.entries",function(u){return u||function(m){var v=[],T;for(T in m)Object.prototype.hasOwnProperty.call(m,T)&&v.push([T,m[T]]);return v}});var c=c||{},d=this||self;function g(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function y(u,m,v){return u.call.apply(u.bind,arguments)}function _(u,m,v){return _=y,_.apply(null,arguments)}function b(u,m){var v=Array.prototype.slice.call(arguments,1);return function(){var T=v.slice();return T.push.apply(T,arguments),u.apply(this,T)}}function A(u,m){function v(){}v.prototype=m.prototype,u.Z=m.prototype,u.prototype=new v,u.prototype.constructor=u,u.Ob=function(T,z,H){for(var ae=Array(arguments.length-2),xe=2;xe<arguments.length;xe++)ae[xe-2]=arguments[xe];return m.prototype[z].apply(T,ae)}}var V=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function K(u){const m=u.length;if(m>0){const v=Array(m);for(let T=0;T<m;T++)v[T]=u[T];return v}return[]}function re(u,m){for(let T=1;T<arguments.length;T++){const z=arguments[T];var v=typeof z;if(v=v!="object"?v:z?Array.isArray(z)?"array":v:"null",v=="array"||v=="object"&&typeof z.length=="number"){v=u.length||0;const H=z.length||0;u.length=v+H;for(let ae=0;ae<H;ae++)u[v+ae]=z[ae]}else u.push(z)}}class se{constructor(m,v){this.i=m,this.j=v,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function te(u){d.setTimeout(()=>{throw u},0)}function de(){var u=N;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class Se{constructor(){this.h=this.g=null}add(m,v){const T=ve.get();T.set(m,v),this.h?this.h.next=T:this.g=T,this.h=T}}var ve=new se(()=>new Ye,u=>u.reset());class Ye{constructor(){this.next=this.g=this.h=null}set(m,v){this.h=m,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let Fe,Me=!1,N=new Se,w=()=>{const u=Promise.resolve(void 0);Fe=()=>{u.then(x)}};function x(){for(var u;u=de();){try{u.h.call(u.g)}catch(v){te(v)}var m=ve;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}Me=!1}function k(){this.u=this.u,this.C=this.C}k.prototype.u=!1,k.prototype.dispose=function(){this.u||(this.u=!0,this.N())},k.prototype[Symbol.dispose]=function(){this.dispose()},k.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function O(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}O.prototype.h=function(){this.defaultPrevented=!0};var P=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const v=()=>{};d.addEventListener("test",v,m),d.removeEventListener("test",v,m)}catch{}return u})();function I(u){return/^[\s\xa0]*$/.test(u)}function yt(u,m){O.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}A(yt,O),yt.prototype.init=function(u,m){const v=this.type=u.type,T=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(v=="mouseover"?m=u.fromElement:v=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&yt.Z.h.call(this)},yt.prototype.h=function(){yt.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var wt="closure_listenable_"+(Math.random()*1e6|0),Q=0;function oe(u,m,v,T,z){this.listener=u,this.proxy=null,this.src=m,this.type=v,this.capture=!!T,this.ha=z,this.key=++Q,this.da=this.fa=!1}function ge(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Oe(u,m,v){for(const T in u)m.call(v,u[T],T,u)}function Ke(u,m){for(const v in u)m.call(void 0,u[v],v,u)}function D(u){const m={};for(const v in u)m[v]=u[v];return m}const $="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function le(u,m){let v,T;for(let z=1;z<arguments.length;z++){T=arguments[z];for(v in T)u[v]=T[v];for(let H=0;H<$.length;H++)v=$[H],Object.prototype.hasOwnProperty.call(T,v)&&(u[v]=T[v])}}function ue(u){this.src=u,this.g={},this.h=0}ue.prototype.add=function(u,m,v,T,z){const H=u.toString();u=this.g[H],u||(u=this.g[H]=[],this.h++);const ae=Ce(u,m,T,z);return ae>-1?(m=u[ae],v||(m.fa=!1)):(m=new oe(m,this.src,H,!!T,z),m.fa=v,u.push(m)),m};function Ee(u,m){const v=m.type;if(v in u.g){var T=u.g[v],z=Array.prototype.indexOf.call(T,m,void 0),H;(H=z>=0)&&Array.prototype.splice.call(T,z,1),H&&(ge(m),u.g[v].length==0&&(delete u.g[v],u.h--))}}function Ce(u,m,v,T){for(let z=0;z<u.length;++z){const H=u[z];if(!H.da&&H.listener==m&&H.capture==!!v&&H.ha==T)return z}return-1}var qe="closure_lm_"+(Math.random()*1e6|0),Ht={};function vt(u,m,v,T,z){if(Array.isArray(m)){for(let H=0;H<m.length;H++)vt(u,m[H],v,T,z);return null}return v=kn(v),u&&u[wt]?u.J(m,v,g(T)?!!T.capture:!1,z):ss(u,m,v,!1,T,z)}function ss(u,m,v,T,z,H){if(!m)throw Error("Invalid event type");const ae=g(z)?!!z.capture:!!z;let xe=Xn(u);if(xe||(u[qe]=xe=new ue(u)),v=xe.add(m,v,T,ae,H),v.proxy)return v;if(T=ta(),v.proxy=T,T.src=u,T.listener=v,u.addEventListener)P||(z=ae),z===void 0&&(z=!1),u.addEventListener(m.toString(),T,z);else if(u.attachEvent)u.attachEvent(Ci(m.toString()),T);else if(u.addListener&&u.removeListener)u.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return v}function ta(){function u(v){return m.call(u.src,u.listener,v)}const m=ra;return u}function na(u,m,v,T,z){if(Array.isArray(m))for(var H=0;H<m.length;H++)na(u,m[H],v,T,z);else T=g(T)?!!T.capture:!!T,v=kn(v),u&&u[wt]?(u=u.i,H=String(m).toString(),H in u.g&&(m=u.g[H],v=Ce(m,v,T,z),v>-1&&(ge(m[v]),Array.prototype.splice.call(m,v,1),m.length==0&&(delete u.g[H],u.h--)))):u&&(u=Xn(u))&&(m=u.g[m.toString()],u=-1,m&&(u=Ce(m,v,T,z)),(v=u>-1?m[u]:null)&&ia(v))}function ia(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[wt])Ee(m.i,u);else{var v=u.type,T=u.proxy;m.removeEventListener?m.removeEventListener(v,T,u.capture):m.detachEvent?m.detachEvent(Ci(v),T):m.addListener&&m.removeListener&&m.removeListener(T),(v=Xn(m))?(Ee(v,u),v.h==0&&(v.src=null,m[qe]=null)):ge(u)}}}function Ci(u){return u in Ht?Ht[u]:Ht[u]="on"+u}function ra(u,m){if(u.da)u=!0;else{m=new yt(m,this);const v=u.listener,T=u.ha||u.src;u.fa&&ia(u),u=v.call(T,m)}return u}function Xn(u){return u=u[qe],u instanceof ue?u:null}var as="__closure_events_fn_"+(Math.random()*1e9>>>0);function kn(u){return typeof u=="function"?u:(u[as]||(u[as]=function(m){return u.handleEvent(m)}),u[as])}function it(){k.call(this),this.i=new ue(this),this.M=this,this.G=null}A(it,k),it.prototype[wt]=!0,it.prototype.removeEventListener=function(u,m,v,T){na(this,u,m,v,T)};function ft(u,m){var v,T=u.G;if(T)for(v=[];T;T=T.G)v.push(T);if(u=u.M,T=m.type||m,typeof m=="string")m=new O(m,u);else if(m instanceof O)m.target=m.target||u;else{var z=m;m=new O(T,u),le(m,z)}z=!0;let H,ae;if(v)for(ae=v.length-1;ae>=0;ae--)H=m.g=v[ae],z=xt(H,T,!0,m)&&z;if(H=m.g=u,z=xt(H,T,!0,m)&&z,z=xt(H,T,!1,m)&&z,v)for(ae=0;ae<v.length;ae++)H=m.g=v[ae],z=xt(H,T,!1,m)&&z}it.prototype.N=function(){if(it.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const v=u.g[m];for(let T=0;T<v.length;T++)ge(v[T]);delete u.g[m],u.h--}}this.G=null},it.prototype.J=function(u,m,v,T){return this.i.add(String(u),m,!1,v,T)},it.prototype.K=function(u,m,v,T){return this.i.add(String(u),m,!0,v,T)};function xt(u,m,v,T){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let z=!0;for(let H=0;H<m.length;++H){const ae=m[H];if(ae&&!ae.da&&ae.capture==v){const xe=ae.listener,Pt=ae.ha||ae.src;ae.fa&&Ee(u.i,ae),z=xe.call(Pt,T)!==!1&&z}}return z&&!T.defaultPrevented}function sa(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=_(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(u,m||0)}function aa(u){u.g=sa(()=>{u.g=null,u.i&&(u.i=!1,aa(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class sn extends k{constructor(m,v){super(),this.m=m,this.l=v,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:aa(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function _r(u){k.call(this),this.h=u,this.g={}}A(_r,k);var vr=[];function Er(u){Oe(u.g,function(m,v){this.g.hasOwnProperty(v)&&ia(m)},u),u.g={}}_r.prototype.N=function(){_r.Z.N.call(this),Er(this)},_r.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var xi=d.JSON.stringify,Wa=d.JSON.parse,eo=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function to(){}function oa(){}var Vt={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Ft(){O.call(this,"d")}A(Ft,O);function Zt(){O.call(this,"c")}A(Zt,O);var ot={},Tr=null;function Cn(){return Tr=Tr||new it}ot.Ia="serverreachability";function la(u){O.call(this,ot.Ia,u)}A(la,O);function an(u){const m=Cn();ft(m,new la(m))}ot.STAT_EVENT="statevent";function br(u,m){O.call(this,ot.STAT_EVENT,u),this.stat=m}A(br,O);function dt(u){const m=Cn();ft(m,new br(m,u))}ot.Ja="timingevent";function Ni(u,m){O.call(this,ot.Ja,u),this.size=m}A(Ni,O);function Un(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function lt(){this.g=!0}lt.prototype.ua=function(){this.g=!1};function ui(u,m,v,T,z,H){u.info(function(){if(u.g)if(H){var ae="",xe=H.split("&");for(let tt=0;tt<xe.length;tt++){var Pt=xe[tt].split("=");if(Pt.length>1){const St=Pt[0];Pt=Pt[1];const pi=St.split("_");ae=pi.length>=2&&pi[1]=="type"?ae+(St+"="+Pt+"&"):ae+(St+"=redacted&")}}}else ae=null;else ae=H;return"XMLHTTP REQ ("+T+") [attempt "+z+"]: "+m+`
`+v+`
`+ae})}function ua(u,m,v,T,z,H,ae){u.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+z+"]: "+m+`
`+v+`
`+H+" "+ae})}function $n(u,m,v,T){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+no(u,v)+(T?" "+T:"")})}function Yi(u,m){u.info(function(){return"TIMEOUT: "+m})}lt.prototype.info=function(){};function no(u,m){if(!u.g)return m;if(!m)return null;try{const H=JSON.parse(m);if(H){for(u=0;u<H.length;u++)if(Array.isArray(H[u])){var v=H[u];if(!(v.length<2)){var T=v[1];if(Array.isArray(T)&&!(T.length<1)){var z=T[0];if(z!="noop"&&z!="stop"&&z!="close")for(let ae=1;ae<T.length;ae++)T[ae]=""}}}}return xi(H)}catch{return m}}var Di={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Sr={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},ca;function ci(){}A(ci,to),ci.prototype.g=function(){return new XMLHttpRequest},ca=new ci;function mt(u){return encodeURIComponent(String(u))}function os(u){var m=1;u=u.split(":");const v=[];for(;m>0&&u.length;)v.push(u.shift()),m--;return u.length&&v.push(u.join(":")),v}function hi(u,m,v,T){this.j=u,this.i=m,this.l=v,this.S=T||1,this.V=new _r(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new xn}function xn(){this.i=null,this.g="",this.h=!1}var Je={},kt={};function yn(u,m,v){u.M=1,u.A=Rr(Nt(m)),u.u=v,u.R=!0,Ar(u,null)}function Ar(u,m){u.F=Date.now(),on(u),u.B=Nt(u.A);var v=u.B,T=u.S;Array.isArray(T)||(T=[String(T)]),cs(v.i,"t",T),u.C=0,v=u.j.L,u.h=new xn,u.g=ku(u.j,v?m:null,!u.u),u.P>0&&(u.O=new sn(_(u.Y,u,u.g),u.P)),m=u.V,v=u.g,T=u.ba;var z="readystatechange";Array.isArray(z)||(z&&(vr[0]=z.toString()),z=vr);for(let H=0;H<z.length;H++){const ae=vt(v,z[H],T||m.handleEvent,!1,m.h||m);if(!ae)break;m.g[ae.key]=ae}m=u.J?D(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),an(),ui(u.i,u.v,u.B,u.l,u.S,u.u)}hi.prototype.ba=function(u){u=u.target;const m=this.O;m&&ei(u)==3?m.j():this.Y(u)},hi.prototype.Y=function(u){try{if(u==this.g)e:{const xe=ei(this.g),Pt=this.g.ya(),tt=this.g.ca();if(!(xe<3)&&(xe!=3||this.g&&(this.h.h||this.g.la()||Wt(this.g)))){this.K||xe!=4||Pt==7||(Pt==8||tt<=0?an(3):an(2)),ln(this);var m=this.g.ca();this.X=m;var v=Ze(this);if(this.o=m==200,ua(this.i,this.v,this.B,this.l,this.S,xe,m),this.o){if(this.U&&!this.L){t:{if(this.g){var T,z=this.g;if((T=z.g?z.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!I(T)){var H=T;break t}}H=null}if(u=H)$n(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,fi(this,u);else{this.o=!1,this.m=3,dt(12),_n(this),Rt(this);break e}}if(this.R){u=!0;let St;for(;!this.K&&this.C<v.length;)if(St=ha(this,v),St==kt){xe==4&&(this.m=4,dt(14),u=!1),$n(this.i,this.l,null,"[Incomplete Response]");break}else if(St==Je){this.m=4,dt(15),$n(this.i,this.l,v,"[Invalid Chunk]"),u=!1;break}else $n(this.i,this.l,St,null),fi(this,St);if(Mi(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),xe!=4||v.length!=0||this.h.h||(this.m=1,dt(16),u=!1),this.o=this.o&&u,!u)$n(this.i,this.l,v,"[Invalid Chunked Response]"),_n(this),Rt(this);else if(v.length>0&&!this.W){this.W=!0;var ae=this.j;ae.g==this&&ae.aa&&!ae.P&&(ae.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),ba(ae),ae.P=!0,dt(11))}}else $n(this.i,this.l,v,null),fi(this,v);xe==4&&_n(this),this.o&&!this.K&&(xe==4?Du(this.j,this):(this.o=!1,on(this)))}else Ui(this.g),m==400&&v.indexOf("Unknown SID")>0?(this.m=3,dt(12)):(this.m=0,dt(13)),_n(this),Rt(this)}}}catch{}finally{}};function Ze(u){if(!Mi(u))return u.g.la();const m=Wt(u.g);if(m==="")return"";let v="";const T=m.length,z=ei(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return _n(u),Rt(u),"";u.h.i=new d.TextDecoder}for(let H=0;H<T;H++)u.h.h=!0,v+=u.h.i.decode(m[H],{stream:!(z&&H==T-1)});return m.length=0,u.h.g+=v,u.C=0,u.h.g}function Mi(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function ha(u,m){var v=u.C,T=m.indexOf(`
`,v);return T==-1?kt:(v=Number(m.substring(v,T)),isNaN(v)?Je:(T+=1,T+v>m.length?kt:(m=m.slice(T,T+v),u.C=T+v,m)))}hi.prototype.cancel=function(){this.K=!0,_n(this)};function on(u){u.T=Date.now()+u.H,Ln(u,u.H)}function Ln(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=Un(_(u.aa,u),m)}function ln(u){u.D&&(d.clearTimeout(u.D),u.D=null)}hi.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(Yi(this.i,this.B),this.M!=2&&(an(),dt(17)),_n(this),this.m=2,Rt(this)):Ln(this,this.T-u)};function Rt(u){u.j.I==0||u.K||Du(u.j,u)}function _n(u){ln(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,Er(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function fi(u,m){try{var v=u.j;if(v.I!=0&&(v.g==u||Zn(v.h,u))){if(!u.L&&Zn(v.h,u)&&v.I==3){try{var T=v.Ba.g.parse(m)}catch{T=null}if(Array.isArray(T)&&T.length==3){var z=T;if(z[0]==0){e:if(!v.v){if(v.g)if(v.g.F+3e3<u.F)ao(v),L(v);else break e;Li(v),dt(18)}}else v.xa=z[1],0<v.xa-v.K&&z[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=Un(_(v.Va,v),6e3));Jn(v.h)<=1&&v.ta&&(v.ta=void 0)}else tr(v,11)}else if((u.L||v.g==u)&&ao(v),!I(m))for(z=v.Ba.g.parse(m),m=0;m<z.length;m++){let tt=z[m];const St=tt[0];if(!(St<=v.K))if(v.K=St,tt=tt[1],v.I==2)if(tt[0]=="c"){v.M=tt[1],v.ba=tt[2];const pi=tt[3];pi!=null&&(v.ka=pi,v.j.info("VER="+v.ka));const nr=tt[4];nr!=null&&(v.za=nr,v.j.info("SVER="+v.za));const Pi=tt[5];Pi!=null&&typeof Pi=="number"&&Pi>0&&(T=1.5*Pi,v.O=T,v.j.info("backChannelRequestTimeoutMs_="+T)),T=v;const zi=u.g;if(zi){const Sa=zi.g?zi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Sa){var H=T.h;H.g||Sa.indexOf("spdy")==-1&&Sa.indexOf("quic")==-1&&Sa.indexOf("h2")==-1||(H.j=H.l,H.g=new Set,H.h&&(da(H,H.h),H.h=null))}if(T.G){const oo=zi.g?zi.g.getResponseHeader("X-HTTP-Session-Id"):null;oo&&(T.wa=oo,Qe(T.J,T.G,oo))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-u.F,v.j.info("Handshake RTT: "+v.T+"ms")),T=v;var ae=u;if(T.na=Vu(T,T.L?T.ba:null,T.W),ae.L){ls(T.h,ae);var xe=ae,Pt=T.O;Pt&&(xe.H=Pt),xe.D&&(ln(xe),on(xe)),T.g=ae}else bn(T);v.i.length>0&&ee(v)}else tt[0]!="stop"&&tt[0]!="close"||tr(v,7);else v.I==3&&(tt[0]=="stop"||tt[0]=="close"?tt[0]=="stop"?tr(v,7):S(v):tt[0]!="noop"&&v.l&&v.l.qa(tt),v.A=0)}}an(4)}catch{}}var It=class{constructor(u,m){this.g=u,this.map=m}};function fa(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Nn(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Jn(u){return u.h?1:u.g?u.g.size:0}function Zn(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function da(u,m){u.g?u.g.add(m):u.h=m}function ls(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}fa.prototype.cancel=function(){if(this.i=us(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function us(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const v of u.g.values())m=m.concat(v.G);return m}return K(u.i)}var ma=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function wr(u,m){if(u){u=u.split("&");for(let v=0;v<u.length;v++){const T=u[v].indexOf("=");let z,H=null;T>=0?(z=u[v].substring(0,T),H=u[v].substring(T+1)):z=u[v],m(z,H?decodeURIComponent(H.replace(/\+/g," ")):"")}}}function vn(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof vn?(this.l=u.l,Ut(this,u.j),this.o=u.o,this.g=u.g,Ki(this,u.u),this.h=u.h,ga(this,ro(u.i)),this.m=u.m):u&&(m=String(u).match(ma))?(this.l=!1,Ut(this,m[1]||"",!0),this.o=di(m[2]||""),this.g=di(m[3]||"",!0),Ki(this,m[4]),this.h=di(m[5]||"",!0),ga(this,m[6]||"",!0),this.m=di(m[7]||"")):(this.l=!1,this.i=new $i(null,this.l))}vn.prototype.toString=function(){const u=[];var m=this.j;m&&u.push(Ir(m,Cr,!0),":");var v=this.g;return(v||m=="file")&&(u.push("//"),(m=this.o)&&u.push(Ir(m,Cr,!0),"@"),u.push(mt(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&u.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&u.push("/"),u.push(Ir(v,v.charAt(0)=="/"?ya:pa,!0))),(v=this.i.toString())&&u.push("?",v),(v=this.m)&&u.push("#",Ir(v,_a)),u.join("")},vn.prototype.resolve=function(u){const m=Nt(this);let v=!!u.j;v?Ut(m,u.j):v=!!u.o,v?m.o=u.o:v=!!u.g,v?m.g=u.g:v=u.u!=null;var T=u.h;if(v)Ki(m,u.u);else if(v=!!u.h){if(T.charAt(0)!="/")if(this.g&&!this.h)T="/"+T;else{var z=m.h.lastIndexOf("/");z!=-1&&(T=m.h.slice(0,z+1)+T)}if(z=T,z==".."||z==".")T="";else if(z.indexOf("./")!=-1||z.indexOf("/.")!=-1){T=z.lastIndexOf("/",0)==0,z=z.split("/");const H=[];for(let ae=0;ae<z.length;){const xe=z[ae++];xe=="."?T&&ae==z.length&&H.push(""):xe==".."?((H.length>1||H.length==1&&H[0]!="")&&H.pop(),T&&ae==z.length&&H.push("")):(H.push(xe),T=!0)}T=H.join("/")}else T=z}return v?m.h=T:v=u.i.toString()!=="",v?ga(m,ro(u.i)):v=!!u.m,v&&(m.m=u.m),m};function Nt(u){return new vn(u)}function Ut(u,m,v){u.j=v?di(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function Ki(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function ga(u,m,v){m instanceof $i?(u.i=m,hs(u.i,u.l)):(v||(m=Ir(m,Xi)),u.i=new $i(m,u.l))}function Qe(u,m,v){u.i.set(m,v)}function Rr(u){return Qe(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function di(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Ir(u,m,v){return typeof u=="string"?(u=encodeURI(u).replace(m,En),v&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function En(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var Cr=/[#\/\?@]/g,pa=/[#\?:]/g,ya=/[#\?]/g,Xi=/[#\?@]/g,_a=/#/g;function $i(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function Tn(u){u.g||(u.g=new Map,u.h=0,u.i&&wr(u.i,function(m,v){u.add(decodeURIComponent(m.replace(/\+/g," ")),v)}))}r=$i.prototype,r.add=function(u,m){Tn(this),this.i=null,u=Ji(this,u);let v=this.g.get(u);return v||this.g.set(u,v=[]),v.push(m),this.h+=1,this};function io(u,m){Tn(u),m=Ji(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function va(u,m){return Tn(u),m=Ji(u,m),u.g.has(m)}r.forEach=function(u,m){Tn(this),this.g.forEach(function(v,T){v.forEach(function(z){u.call(m,z,T,this)},this)},this)};function Ea(u,m){Tn(u);let v=[];if(typeof m=="string")va(u,m)&&(v=v.concat(u.g.get(Ji(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)v=v.concat(u[m]);return v}r.set=function(u,m){return Tn(this),this.i=null,u=Ji(this,u),va(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},r.get=function(u,m){return u?(u=Ea(this,u),u.length>0?String(u[0]):m):m};function cs(u,m,v){io(u,m),v.length>0&&(u.i=null,u.g.set(Ji(u,m),K(v)),u.h+=v.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let T=0;T<m.length;T++){var v=m[T];const z=mt(v);v=Ea(this,v);for(let H=0;H<v.length;H++){let ae=z;v[H]!==""&&(ae+="="+mt(v[H])),u.push(ae)}}return this.i=u.join("&")};function ro(u){const m=new $i;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function Ji(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function hs(u,m){m&&!u.j&&(Tn(u),u.i=null,u.g.forEach(function(v,T){const z=T.toLowerCase();T!=z&&(io(this,T),cs(this,z,v))},u)),u.j=m}function Wn(u,m){const v=new lt;if(d.Image){const T=new Image;T.onload=b(Dn,v,"TestLoadImage: loaded",!0,m,T),T.onerror=b(Dn,v,"TestLoadImage: error",!1,m,T),T.onabort=b(Dn,v,"TestLoadImage: abort",!1,m,T),T.ontimeout=b(Dn,v,"TestLoadImage: timeout",!1,m,T),d.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=u}else m(!1)}function Ta(u,m){const v=new lt,T=new AbortController,z=setTimeout(()=>{T.abort(),Dn(v,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:T.signal}).then(H=>{clearTimeout(z),H.ok?Dn(v,"TestPingServer: ok",!0,m):Dn(v,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(z),Dn(v,"TestPingServer: error",!1,m)})}function Dn(u,m,v,T,z){try{z&&(z.onload=null,z.onerror=null,z.onabort=null,z.ontimeout=null),T(v)}catch{}}function Pn(){this.g=new eo}function Dt(u){this.i=u.Sb||null,this.h=u.ab||!1}A(Dt,to),Dt.prototype.g=function(){return new Oi(this.i,this.h)};function Oi(u,m){it.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}A(Oi,it),r=Oi.prototype,r.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,Lt(this)},r.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Zi(this)),this.readyState=0},r.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Lt(this)),this.g&&(this.readyState=3,Lt(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;xr(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function xr(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}r.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?Zi(this):Lt(this),this.readyState==3&&xr(this)}},r.Oa=function(u){this.g&&(this.response=this.responseText=u,Zi(this))},r.Na=function(u){this.g&&(this.response=u,Zi(this))},r.ga=function(){this.g&&Zi(this)};function Zi(u){u.readyState=4,u.l=null,u.j=null,u.B=null,Lt(u)}r.setRequestHeader=function(u,m){this.A.append(u,m)},r.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var v=m.next();!v.done;)v=v.value,u.push(v[0]+": "+v[1]),v=m.next();return u.join(`\r
`)};function Lt(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Oi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Mn(u){let m="";return Oe(u,function(v,T){m+=T,m+=":",m+=v,m+=`\r
`}),m}function Wi(u,m,v){e:{for(T in v){var T=!1;break e}T=!0}T||(v=Mn(v),typeof u=="string"?v!=null&&mt(v):Qe(u,m,v))}function We(u){it.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}A(We,it);var mi=/^https?$/i,fs=["POST","PUT"];r=We.prototype,r.Fa=function(u){this.H=u},r.ea=function(u,m,v,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():ca.g(),this.g.onreadystatechange=V(_(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(H){zn(this,H);return}if(u=v||"",v=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var z in T)v.set(z,T[z]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const H of T.keys())v.set(H,T.get(H));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(v.keys()).find(H=>H.toLowerCase()=="content-type"),z=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call(fs,m,void 0)>=0)||T||z||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[H,ae]of v)this.g.setRequestHeader(H,ae);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(H){zn(this,H)}};function zn(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,Vi(u),ki(u)}function Vi(u){u.A||(u.A=!0,ft(u,"complete"),ft(u,"error"))}r.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,ft(this,"complete"),ft(this,"abort"),ki(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ki(this,!0)),We.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?Nr(this):this.Xa())},r.Xa=function(){Nr(this)};function Nr(u){if(u.h&&typeof c<"u"){if(u.v&&ei(u)==4)setTimeout(u.Ca.bind(u),0);else if(ft(u,"readystatechange"),ei(u)==4){u.h=!1;try{const H=u.ca();e:switch(H){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var v;if(!(v=m)){var T;if(T=H===0){let ae=String(u.D).match(ma)[1]||null;!ae&&d.self&&d.self.location&&(ae=d.self.location.protocol.slice(0,-1)),T=!mi.test(ae?ae.toLowerCase():"")}v=T}if(v)ft(u,"complete"),ft(u,"success");else{u.o=6;try{var z=ei(u)>2?u.g.statusText:""}catch{z=""}u.l=z+" ["+u.ca()+"]",Vi(u)}}finally{ki(u)}}}}function ki(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const v=u.g;u.g=null,m||ft(u,"ready");try{v.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function ei(u){return u.g?u.g.readyState:0}r.ca=function(){try{return ei(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),Wa(m)}};function Wt(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Ui(u){const m={};u=(u.g&&ei(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<u.length;T++){if(I(u[T]))continue;var v=os(u[T]);const z=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const H=m[z]||[];m[z]=H,H.push(v)}Ke(m,function(T){return T.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function gi(u,m,v){return v&&v.internalChannelParams&&v.internalChannelParams[u]||m}function er(u){this.za=0,this.i=[],this.j=new lt,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=gi("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=gi("baseRetryDelayMs",5e3,u),this.Za=gi("retryDelaySeedMs",1e4,u),this.Ta=gi("forwardChannelMaxRetries",2,u),this.va=gi("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new fa(u&&u.concurrentRequestLimit),this.Ba=new Pn,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=er.prototype,r.ka=8,r.I=1,r.connect=function(u,m,v,T){dt(0),this.W=u,this.H=m||{},v&&T!==void 0&&(this.H.OSID=v,this.H.OAID=T),this.F=this.X,this.J=Vu(this,null,this.W),ee(this)};function S(u){if(G(u),u.I==3){var m=u.V++,v=Nt(u.J);if(Qe(v,"SID",u.M),Qe(v,"RID",m),Qe(v,"TYPE","terminate"),et(u,v),m=new hi(u,u.j,m),m.M=2,m.A=Rr(Nt(v)),v=!1,d.navigator&&d.navigator.sendBeacon)try{v=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!v&&d.Image&&(new Image().src=m.A,v=!0),v||(m.g=ku(m.j,null),m.g.ea(m.A)),m.F=Date.now(),on(m)}Ou(u)}function L(u){u.g&&(ba(u),u.g.cancel(),u.g=null)}function G(u){L(u),u.v&&(d.clearTimeout(u.v),u.v=null),ao(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function ee(u){if(!Nn(u.h)&&!u.m){u.m=!0;var m=u.Ea;Fe||w(),Me||(Fe(),Me=!0),N.add(m,u),u.D=0}}function ie(u,m){return Jn(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=Un(_(u.Ea,u,m),Mu(u,u.D)),u.D++,!0)}r.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const z=new hi(this,this.j,u);let H=this.o;if(this.U&&(H?(H=D(H),le(H,this.U)):H=this.U),this.u!==null||this.R||(z.J=H,H=null),this.S)e:{for(var m=0,v=0;v<this.i.length;v++){t:{var T=this.i[v];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break t}T=void 0}if(T===void 0)break;if(m+=T,m>4096){m=v;break e}if(m===4096||v===this.i.length-1){m=v+1;break e}}m=1e3}else m=1e3;m=jn(this,z,m),v=Nt(this.J),Qe(v,"RID",u),Qe(v,"CVER",22),this.G&&Qe(v,"X-HTTP-Session-Id",this.G),et(this,v),H&&(this.R?m="headers="+mt(Mn(H))+"&"+m:this.u&&Wi(v,this.u,H)),da(this.h,z),this.Ra&&Qe(v,"TYPE","init"),this.S?(Qe(v,"$req",m),Qe(v,"SID","null"),z.U=!0,yn(z,v,null)):yn(z,v,m),this.I=2}}else this.I==3&&(u?Te(this,u):this.i.length==0||Nn(this.h)||Te(this))};function Te(u,m){var v;m?v=m.l:v=u.V++;const T=Nt(u.J);Qe(T,"SID",u.M),Qe(T,"RID",v),Qe(T,"AID",u.K),et(u,T),u.u&&u.o&&Wi(T,u.u,u.o),v=new hi(u,u.j,v,u.D+1),u.u===null&&(v.J=u.o),m&&(u.i=m.G.concat(u.i)),m=jn(u,v,1e3),v.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),da(u.h,v),yn(v,T,m)}function et(u,m){u.H&&Oe(u.H,function(v,T){Qe(m,T,v)}),u.l&&Oe({},function(v,T){Qe(m,T,v)})}function jn(u,m,v){v=Math.min(u.i.length,v);const T=u.l?_(u.l.Ka,u.l,u):null;e:{var z=u.i;let xe=-1;for(;;){const Pt=["count="+v];xe==-1?v>0?(xe=z[0].g,Pt.push("ofs="+xe)):xe=0:Pt.push("ofs="+xe);let tt=!0;for(let St=0;St<v;St++){var H=z[St].g;const pi=z[St].map;if(H-=xe,H<0)xe=Math.max(0,z[St].g-100),tt=!1;else try{H="req"+H+"_"||"";try{var ae=pi instanceof Map?pi:Object.entries(pi);for(const[nr,Pi]of ae){let zi=Pi;g(Pi)&&(zi=xi(Pi)),Pt.push(H+nr+"="+encodeURIComponent(zi))}}catch(nr){throw Pt.push(H+"type="+encodeURIComponent("_badmap")),nr}}catch{T&&T(pi)}}if(tt){ae=Pt.join("&");break e}}ae=void 0}return u=u.i.splice(0,v),m.G=u,ae}function bn(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;Fe||w(),Me||(Fe(),Me=!0),N.add(m,u),u.A=0}}function Li(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=Un(_(u.Da,u),Mu(u,u.A)),u.A++,!0)}r.Da=function(){if(this.v=null,so(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=Un(_(this.Wa,this),u)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,dt(10),L(this),so(this))};function ba(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function so(u){u.g=new hi(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=Nt(u.na);Qe(m,"RID","rpc"),Qe(m,"SID",u.M),Qe(m,"AID",u.K),Qe(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&Qe(m,"TO",u.ia),Qe(m,"TYPE","xmlhttp"),et(u,m),u.u&&u.o&&Wi(m,u.u,u.o),u.O&&(u.g.H=u.O);var v=u.g;u=u.ba,v.M=1,v.A=Rr(Nt(m)),v.u=null,v.R=!0,Ar(v,u)}r.Va=function(){this.C!=null&&(this.C=null,L(this),Li(this),dt(19))};function ao(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function Du(u,m){var v=null;if(u.g==m){ao(u),ba(u),u.g=null;var T=2}else if(Zn(u.h,m))v=m.G,ls(u.h,m),T=1;else return;if(u.I!=0){if(m.o)if(T==1){v=m.u?m.u.length:0,m=Date.now()-m.F;var z=u.D;T=Cn(),ft(T,new Ni(T,v)),ee(u)}else bn(u);else if(z=m.m,z==3||z==0&&m.X>0||!(T==1&&ie(u,m)||T==2&&Li(u)))switch(v&&v.length>0&&(m=u.h,m.i=m.i.concat(v)),z){case 1:tr(u,5);break;case 4:tr(u,10);break;case 3:tr(u,6);break;default:tr(u,2)}}}function Mu(u,m){let v=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(v*=2),v*m}function tr(u,m){if(u.j.info("Error code "+m),m==2){var v=_(u.bb,u),T=u.Ua;const z=!T;T=new vn(T||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Ut(T,"https"),Rr(T),z?Wn(T.toString(),v):Ta(T.toString(),v)}else dt(2);u.I=0,u.l&&u.l.pa(m),Ou(u),G(u)}r.bb=function(u){u?(this.j.info("Successfully pinged google.com"),dt(2)):(this.j.info("Failed to ping google.com"),dt(1))};function Ou(u){if(u.I=0,u.ja=[],u.l){const m=us(u.h);(m.length!=0||u.i.length!=0)&&(re(u.ja,m),re(u.ja,u.i),u.h.i.length=0,K(u.i),u.i.length=0),u.l.oa()}}function Vu(u,m,v){var T=v instanceof vn?Nt(v):new vn(v);if(T.g!="")m&&(T.g=m+"."+T.g),Ki(T,T.u);else{var z=d.location;T=z.protocol,m=m?m+"."+z.hostname:z.hostname,z=+z.port;const H=new vn(null);T&&Ut(H,T),m&&(H.g=m),z&&Ki(H,z),v&&(H.h=v),T=H}return v=u.G,m=u.wa,v&&m&&Qe(T,v,m),Qe(T,"VER",u.ka),et(u,T),T}function ku(u,m,v){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new We(new Dt({ab:v})):new We(u.ma),m.Fa(u.L),m}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Uu(){}r=Uu.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function ds(){}ds.prototype.g=function(u,m){return new On(u,m)};function On(u,m){it.call(this),this.g=new er(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!I(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!I(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Dr(this)}A(On,it),On.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},On.prototype.close=function(){S(this.g)},On.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var v={};v.__data__=u,u=v}else this.v&&(v={},v.__data__=xi(u),u=v);m.i.push(new It(m.Ya++,u)),m.I==3&&ee(m)},On.prototype.N=function(){this.g.l=null,delete this.j,S(this.g),delete this.g,On.Z.N.call(this)};function Lu(u){Ft.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){e:{for(const v in m){u=v;break e}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}A(Lu,Ft);function Pu(){Zt.call(this),this.status=1}A(Pu,Zt);function Dr(u){this.g=u}A(Dr,Uu),Dr.prototype.ra=function(){ft(this.g,"a")},Dr.prototype.qa=function(u){ft(this.g,new Lu(u))},Dr.prototype.pa=function(u){ft(this.g,new Pu)},Dr.prototype.oa=function(){ft(this.g,"b")},ds.prototype.createWebChannel=ds.prototype.g,On.prototype.send=On.prototype.o,On.prototype.open=On.prototype.m,On.prototype.close=On.prototype.close,tE=function(){return new ds},eE=function(){return Cn()},W1=ot,Am={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Di.NO_ERROR=0,Di.TIMEOUT=8,Di.HTTP_ERROR=6,th=Di,Sr.COMPLETE="complete",Z1=Sr,oa.EventType=Vt,Vt.OPEN="a",Vt.CLOSE="b",Vt.ERROR="c",Vt.MESSAGE="d",it.prototype.listen=it.prototype.J,eu=oa,We.prototype.listenOnce=We.prototype.K,We.prototype.getLastError=We.prototype.Ha,We.prototype.getLastErrorCode=We.prototype.ya,We.prototype.getStatus=We.prototype.ca,We.prototype.getResponseJson=We.prototype.La,We.prototype.getResponseText=We.prototype.la,We.prototype.send=We.prototype.ea,We.prototype.setWithCredentials=We.prototype.Fa,J1=We}).apply(typeof Hc<"u"?Hc:typeof self<"u"?self:typeof window<"u"?window:{});const G0="@firebase/firestore",Q0="4.9.2";let wn=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};wn.UNAUTHENTICATED=new wn(null),wn.GOOGLE_CREDENTIALS=new wn("google-credentials-uid"),wn.FIRST_PARTY=new wn("first-party-uid"),wn.MOCK_USER=new wn("mock-user");let ll="12.3.0";const Ya=new Ym("@firebase/firestore");function zo(){return Ya.logLevel}function ce(r,...e){if(Ya.logLevel<=ze.DEBUG){const i=e.map(rg);Ya.debug(`Firestore (${ll}): ${r}`,...i)}}function ns(r,...e){if(Ya.logLevel<=ze.ERROR){const i=e.map(rg);Ya.error(`Firestore (${ll}): ${r}`,...i)}}function Jo(r,...e){if(Ya.logLevel<=ze.WARN){const i=e.map(rg);Ya.warn(`Firestore (${ll}): ${r}`,...i)}}function rg(r){if(typeof r=="string")return r;try{return(function(i){return JSON.stringify(i)})(r)}catch{return r}}function be(r,e,i){let s="Unexpected state";typeof e=="string"?s=e:i=e,nE(r,s,i)}function nE(r,e,i){let s=`FIRESTORE (${ll}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(i!==void 0)try{s+=" CONTEXT: "+JSON.stringify(i)}catch{s+=" CONTEXT: "+i}throw ns(s),new Error(s)}function rt(r,e,i,s){let l="Unexpected state";typeof i=="string"?l=i:s=i,r||nE(e,l,s)}function Ie(r,e){return r}const Z={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class he extends rs{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class qa{constructor(){this.promise=new Promise(((e,i)=>{this.resolve=e,this.reject=i}))}}class iE{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class rR{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable((()=>i(wn.UNAUTHENTICATED)))}shutdown(){}}class sR{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class aR{constructor(e){this.t=e,this.currentUser=wn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){rt(this.o===void 0,42304);let s=this.i;const l=y=>this.i!==s?(s=this.i,i(y)):Promise.resolve();let c=new qa;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new qa,e.enqueueRetryable((()=>l(this.currentUser)))};const d=()=>{const y=c;e.enqueueRetryable((async()=>{await y.promise,await l(this.currentUser)}))},g=y=>{ce("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=y,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((y=>g(y))),setTimeout((()=>{if(!this.auth){const y=this.t.getImmediate({optional:!0});y?g(y):(ce("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new qa)}}),0),d()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((s=>this.i!==e?(ce("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(rt(typeof s.accessToken=="string",31837,{l:s}),new iE(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return rt(e===null||typeof e=="string",2055,{h:e}),new wn(e)}}class oR{constructor(e,i,s){this.P=e,this.T=i,this.I=s,this.type="FirstParty",this.user=wn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class lR{constructor(e,i,s){this.P=e,this.T=i,this.I=s}getToken(){return Promise.resolve(new oR(this.P,this.T,this.I))}start(e,i){e.enqueueRetryable((()=>i(wn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Y0{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class uR{constructor(e,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,wi(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,i){rt(this.o===void 0,3512);const s=c=>{c.error!=null&&ce("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.m;return this.m=c.token,ce("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable((()=>s(c)))};const l=c=>{ce("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>l(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?l(c):ce("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Y0(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((i=>i?(rt(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new Y0(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function cR(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(i);else for(let s=0;s<r;s++)i[s]=Math.floor(256*Math.random());return i}class sg{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const l=cR(40);for(let c=0;c<l.length;++c)s.length<20&&l[c]<i&&(s+=e.charAt(l[c]%62))}return s}}function je(r,e){return r<e?-1:r>e?1:0}function wm(r,e){const i=Math.min(r.length,e.length);for(let s=0;s<i;s++){const l=r.charAt(s),c=e.charAt(s);if(l!==c)return im(l)===im(c)?je(l,c):im(l)?1:-1}return je(r.length,e.length)}const hR=55296,fR=57343;function im(r){const e=r.charCodeAt(0);return e>=hR&&e<=fR}function Zo(r,e,i){return r.length===e.length&&r.every(((s,l)=>i(s,e[l])))}const K0="__name__";class ur{constructor(e,i,s){i===void 0?i=0:i>e.length&&be(637,{offset:i,range:e.length}),s===void 0?s=e.length-i:s>e.length-i&&be(1746,{length:s,range:e.length-i}),this.segments=e,this.offset=i,this.len=s}get length(){return this.len}isEqual(e){return ur.comparator(this,e)===0}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof ur?e.forEach((s=>{i.push(s)})):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,s=this.limit();i<s;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const s=Math.min(e.length,i.length);for(let l=0;l<s;l++){const c=ur.compareSegments(e.get(l),i.get(l));if(c!==0)return c}return je(e.length,i.length)}static compareSegments(e,i){const s=ur.isNumericId(e),l=ur.isNumericId(i);return s&&!l?-1:!s&&l?1:s&&l?ur.extractNumericId(e).compare(ur.extractNumericId(i)):wm(e,i)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Gs.fromString(e.substring(4,e.length-2))}}class _t extends ur{construct(e,i,s){return new _t(e,i,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const i=[];for(const s of e){if(s.indexOf("//")>=0)throw new he(Z.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);i.push(...s.split("/").filter((l=>l.length>0)))}return new _t(i)}static emptyPath(){return new _t([])}}const dR=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class mn extends ur{construct(e,i,s){return new mn(e,i,s)}static isValidIdentifier(e){return dR.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),mn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===K0}static keyField(){return new mn([K0])}static fromServerFormat(e){const i=[];let s="",l=0;const c=()=>{if(s.length===0)throw new he(Z.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(s),s=""};let d=!1;for(;l<e.length;){const g=e[l];if(g==="\\"){if(l+1===e.length)throw new he(Z.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const y=e[l+1];if(y!=="\\"&&y!=="."&&y!=="`")throw new he(Z.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=y,l+=2}else g==="`"?(d=!d,l++):g!=="."||d?(s+=g,l++):(c(),l++)}if(c(),d)throw new he(Z.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new mn(i)}static emptyPath(){return new mn([])}}class ye{constructor(e){this.path=e}static fromPath(e){return new ye(_t.fromString(e))}static fromName(e){return new ye(_t.fromString(e).popFirst(5))}static empty(){return new ye(_t.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&_t.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,i){return _t.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ye(new _t(e.slice()))}}function rE(r,e,i){if(!i)throw new he(Z.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function mR(r,e,i,s){if(e===!0&&s===!0)throw new he(Z.INVALID_ARGUMENT,`${r} and ${i} cannot be used together.`)}function X0(r){if(!ye.isDocumentKey(r))throw new he(Z.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function $0(r){if(ye.isDocumentKey(r))throw new he(Z.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function sE(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function Mh(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":be(12329,{type:typeof r})}function fr(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new he(Z.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=Mh(r);throw new he(Z.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return r}function Jt(r,e){const i={typeString:r};return e&&(i.value=e),i}function wu(r,e){if(!sE(r))throw new he(Z.INVALID_ARGUMENT,"JSON must be an object");let i;for(const s in e)if(e[s]){const l=e[s].typeString,c="value"in e[s]?{value:e[s].value}:void 0;if(!(s in r)){i=`JSON missing required field: '${s}'`;break}const d=r[s];if(l&&typeof d!==l){i=`JSON field '${s}' must be a ${l}.`;break}if(c!==void 0&&d!==c.value){i=`Expected '${s}' field to equal '${c.value}'`;break}}if(i)throw new he(Z.INVALID_ARGUMENT,i);return!0}const J0=-62135596800,Z0=1e6;class bt{static now(){return bt.fromMillis(Date.now())}static fromDate(e){return bt.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),s=Math.floor((e-1e3*i)*Z0);return new bt(i,s)}constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new he(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new he(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<J0)throw new he(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new he(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Z0}_compareTo(e){return this.seconds===e.seconds?je(this.nanoseconds,e.nanoseconds):je(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:bt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(wu(e,bt._jsonSchema))return new bt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-J0;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}bt._jsonSchemaVersion="firestore/timestamp/1.0",bt._jsonSchema={type:Jt("string",bt._jsonSchemaVersion),seconds:Jt("number"),nanoseconds:Jt("number")};class we{static fromTimestamp(e){return new we(e)}static min(){return new we(new bt(0,0))}static max(){return new we(new bt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const fu=-1;function gR(r,e){const i=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,l=we.fromTimestamp(s===1e9?new bt(i+1,0):new bt(i,s));return new Ys(l,ye.empty(),e)}function pR(r){return new Ys(r.readTime,r.key,fu)}class Ys{constructor(e,i,s){this.readTime=e,this.documentKey=i,this.largestBatchId=s}static min(){return new Ys(we.min(),ye.empty(),fu)}static max(){return new Ys(we.max(),ye.empty(),fu)}}function yR(r,e){let i=r.readTime.compareTo(e.readTime);return i!==0?i:(i=ye.comparator(r.documentKey,e.documentKey),i!==0?i:je(r.largestBatchId,e.largestBatchId))}const _R="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class vR{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function ul(r){if(r.code!==Z.FAILED_PRECONDITION||r.message!==_R)throw r;ce("LocalStore","Unexpectedly lost primary lease")}class W{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&be(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new W(((s,l)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(s,l)},this.catchCallback=c=>{this.wrapFailure(i,c).next(s,l)}}))}toPromise(){return new Promise(((e,i)=>{this.next(e,i)}))}wrapUserFunction(e){try{const i=e();return i instanceof W?i:W.resolve(i)}catch(i){return W.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction((()=>e(i))):W.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction((()=>e(i))):W.reject(i)}static resolve(e){return new W(((i,s)=>{i(e)}))}static reject(e){return new W(((i,s)=>{s(e)}))}static waitFor(e){return new W(((i,s)=>{let l=0,c=0,d=!1;e.forEach((g=>{++l,g.next((()=>{++c,d&&c===l&&i()}),(y=>s(y)))})),d=!0,c===l&&i()}))}static or(e){let i=W.resolve(!1);for(const s of e)i=i.next((l=>l?W.resolve(l):s()));return i}static forEach(e,i){const s=[];return e.forEach(((l,c)=>{s.push(i.call(this,l,c))})),this.waitFor(s)}static mapArray(e,i){return new W(((s,l)=>{const c=e.length,d=new Array(c);let g=0;for(let y=0;y<c;y++){const _=y;i(e[_]).next((b=>{d[_]=b,++g,g===c&&s(d)}),(b=>l(b)))}}))}static doWhile(e,i){return new W(((s,l)=>{const c=()=>{e()===!0?i().next((()=>{c()}),l):s()};c()}))}}function ER(r){const e=r.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function cl(r){return r.name==="IndexedDbTransactionError"}class Oh{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>i.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Oh.ce=-1;const ag=-1;function Vh(r){return r==null}function ph(r){return r===0&&1/r==-1/0}function TR(r){return typeof r=="number"&&Number.isInteger(r)&&!ph(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}const aE="";function bR(r){let e="";for(let i=0;i<r.length;i++)e.length>0&&(e=W0(e)),e=SR(r.get(i),e);return W0(e)}function SR(r,e){let i=e;const s=r.length;for(let l=0;l<s;l++){const c=r.charAt(l);switch(c){case"\0":i+="";break;case aE:i+="";break;default:i+=c}}return i}function W0(r){return r+aE+""}function ev(r){let e=0;for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&e++;return e}function Ws(r,e){for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&e(i,r[i])}function oE(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}class Ct{constructor(e,i){this.comparator=e,this.root=i||dn.EMPTY}insert(e,i){return new Ct(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,dn.BLACK,null,null))}remove(e){return new Ct(this.comparator,this.root.remove(e,this.comparator).copy(null,null,dn.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){const s=this.comparator(e,i.key);if(s===0)return i.value;s<0?i=i.left:s>0&&(i=i.right)}return null}indexOf(e){let i=0,s=this.root;for(;!s.isEmpty();){const l=this.comparator(e,s.key);if(l===0)return i+s.left.size;l<0?s=s.left:(i+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((i,s)=>(e(i,s),!1)))}toString(){const e=[];return this.inorderTraversal(((i,s)=>(e.push(`${i}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Fc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Fc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Fc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Fc(this.root,e,this.comparator,!0)}}class Fc{constructor(e,i,s,l){this.isReverse=l,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=i?s(e.key,i):1,i&&l&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(c===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class dn{constructor(e,i,s,l,c){this.key=e,this.value=i,this.color=s??dn.RED,this.left=l??dn.EMPTY,this.right=c??dn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,s,l,c){return new dn(e??this.key,i??this.value,s??this.color,l??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,s){let l=this;const c=s(e,l.key);return l=c<0?l.copy(null,null,null,l.left.insert(e,i,s),null):c===0?l.copy(null,i,null,null,null):l.copy(null,null,null,null,l.right.insert(e,i,s)),l.fixUp()}removeMin(){if(this.left.isEmpty())return dn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let s,l=this;if(i(e,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(e,i),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),i(e,l.key)===0){if(l.right.isEmpty())return dn.EMPTY;s=l.right.min(),l=l.copy(s.key,s.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(e,i))}return l.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,dn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,dn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw be(43730,{key:this.key,value:this.value});if(this.right.isRed())throw be(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw be(27949);return e+(this.isRed()?0:1)}}dn.EMPTY=null,dn.RED=!0,dn.BLACK=!1;dn.EMPTY=new class{constructor(){this.size=0}get key(){throw be(57766)}get value(){throw be(16141)}get color(){throw be(16727)}get left(){throw be(29726)}get right(){throw be(36894)}copy(e,i,s,l,c){return this}insert(e,i,s){return new dn(e,i)}remove(e,i){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class tn{constructor(e){this.comparator=e,this.data=new Ct(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((i,s)=>(e(i),!1)))}forEachInRange(e,i){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const l=s.getNext();if(this.comparator(l.key,e[1])>=0)return;i(l.key)}}forEachWhile(e,i){let s;for(s=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new tv(this.data.getIterator())}getIteratorFrom(e){return new tv(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach((s=>{i=i.add(s)})),i}isEqual(e){if(!(e instanceof tn)||this.size!==e.size)return!1;const i=this.data.getIterator(),s=e.data.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=s.getNext().key;if(this.comparator(l,c)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((i=>{e.push(i)})),e}toString(){const e=[];return this.forEach((i=>e.push(i))),"SortedSet("+e.toString()+")"}copy(e){const i=new tn(this.comparator);return i.data=e,i}}class tv{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class li{constructor(e){this.fields=e,e.sort(mn.comparator)}static empty(){return new li([])}unionWith(e){let i=new tn(mn.comparator);for(const s of this.fields)i=i.add(s);for(const s of e)i=i.add(s);return new li(i.toArray())}covers(e){for(const i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return Zo(this.fields,e.fields,((i,s)=>i.isEqual(s)))}}class lE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class pn{constructor(e){this.binaryString=e}static fromBase64String(e){const i=(function(l){try{return atob(l)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new lE("Invalid base64 string: "+c):c}})(e);return new pn(i)}static fromUint8Array(e){const i=(function(l){let c="";for(let d=0;d<l.length;++d)c+=String.fromCharCode(l[d]);return c})(e);return new pn(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const s=new Uint8Array(i.length);for(let l=0;l<i.length;l++)s[l]=i.charCodeAt(l);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return je(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}pn.EMPTY_BYTE_STRING=new pn("");const AR=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ks(r){if(rt(!!r,39018),typeof r=="string"){let e=0;const i=AR.exec(r);if(rt(!!i,46558,{timestamp:r}),i[1]){let l=i[1];l=(l+"000000000").substr(0,9),e=Number(l)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:Bt(r.seconds),nanos:Bt(r.nanos)}}function Bt(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function Xs(r){return typeof r=="string"?pn.fromBase64String(r):pn.fromUint8Array(r)}const uE="server_timestamp",cE="__type__",hE="__previous_value__",fE="__local_write_time__";function og(r){return(r?.mapValue?.fields||{})[cE]?.stringValue===uE}function kh(r){const e=r.mapValue.fields[hE];return og(e)?kh(e):e}function du(r){const e=Ks(r.mapValue.fields[fE].timestampValue);return new bt(e.seconds,e.nanos)}class wR{constructor(e,i,s,l,c,d,g,y,_,b){this.databaseId=e,this.appId=i,this.persistenceKey=s,this.host=l,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=g,this.longPollingOptions=y,this.useFetchStreams=_,this.isUsingEmulator=b}}const yh="(default)";class mu{constructor(e,i){this.projectId=e,this.database=i||yh}static empty(){return new mu("","")}get isDefaultDatabase(){return this.database===yh}isEqual(e){return e instanceof mu&&e.projectId===this.projectId&&e.database===this.database}}const dE="__type__",RR="__max__",Gc={mapValue:{}},mE="__vector__",_h="value";function $s(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?og(r)?4:CR(r)?9007199254740991:IR(r)?10:11:be(28295,{value:r})}function yr(r,e){if(r===e)return!0;const i=$s(r);if(i!==$s(e))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return du(r).isEqual(du(e));case 3:return(function(l,c){if(typeof l.timestampValue=="string"&&typeof c.timestampValue=="string"&&l.timestampValue.length===c.timestampValue.length)return l.timestampValue===c.timestampValue;const d=Ks(l.timestampValue),g=Ks(c.timestampValue);return d.seconds===g.seconds&&d.nanos===g.nanos})(r,e);case 5:return r.stringValue===e.stringValue;case 6:return(function(l,c){return Xs(l.bytesValue).isEqual(Xs(c.bytesValue))})(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return(function(l,c){return Bt(l.geoPointValue.latitude)===Bt(c.geoPointValue.latitude)&&Bt(l.geoPointValue.longitude)===Bt(c.geoPointValue.longitude)})(r,e);case 2:return(function(l,c){if("integerValue"in l&&"integerValue"in c)return Bt(l.integerValue)===Bt(c.integerValue);if("doubleValue"in l&&"doubleValue"in c){const d=Bt(l.doubleValue),g=Bt(c.doubleValue);return d===g?ph(d)===ph(g):isNaN(d)&&isNaN(g)}return!1})(r,e);case 9:return Zo(r.arrayValue.values||[],e.arrayValue.values||[],yr);case 10:case 11:return(function(l,c){const d=l.mapValue.fields||{},g=c.mapValue.fields||{};if(ev(d)!==ev(g))return!1;for(const y in d)if(d.hasOwnProperty(y)&&(g[y]===void 0||!yr(d[y],g[y])))return!1;return!0})(r,e);default:return be(52216,{left:r})}}function gu(r,e){return(r.values||[]).find((i=>yr(i,e)))!==void 0}function Wo(r,e){if(r===e)return 0;const i=$s(r),s=$s(e);if(i!==s)return je(i,s);switch(i){case 0:case 9007199254740991:return 0;case 1:return je(r.booleanValue,e.booleanValue);case 2:return(function(c,d){const g=Bt(c.integerValue||c.doubleValue),y=Bt(d.integerValue||d.doubleValue);return g<y?-1:g>y?1:g===y?0:isNaN(g)?isNaN(y)?0:-1:1})(r,e);case 3:return nv(r.timestampValue,e.timestampValue);case 4:return nv(du(r),du(e));case 5:return wm(r.stringValue,e.stringValue);case 6:return(function(c,d){const g=Xs(c),y=Xs(d);return g.compareTo(y)})(r.bytesValue,e.bytesValue);case 7:return(function(c,d){const g=c.split("/"),y=d.split("/");for(let _=0;_<g.length&&_<y.length;_++){const b=je(g[_],y[_]);if(b!==0)return b}return je(g.length,y.length)})(r.referenceValue,e.referenceValue);case 8:return(function(c,d){const g=je(Bt(c.latitude),Bt(d.latitude));return g!==0?g:je(Bt(c.longitude),Bt(d.longitude))})(r.geoPointValue,e.geoPointValue);case 9:return iv(r.arrayValue,e.arrayValue);case 10:return(function(c,d){const g=c.fields||{},y=d.fields||{},_=g[_h]?.arrayValue,b=y[_h]?.arrayValue,A=je(_?.values?.length||0,b?.values?.length||0);return A!==0?A:iv(_,b)})(r.mapValue,e.mapValue);case 11:return(function(c,d){if(c===Gc.mapValue&&d===Gc.mapValue)return 0;if(c===Gc.mapValue)return 1;if(d===Gc.mapValue)return-1;const g=c.fields||{},y=Object.keys(g),_=d.fields||{},b=Object.keys(_);y.sort(),b.sort();for(let A=0;A<y.length&&A<b.length;++A){const V=wm(y[A],b[A]);if(V!==0)return V;const K=Wo(g[y[A]],_[b[A]]);if(K!==0)return K}return je(y.length,b.length)})(r.mapValue,e.mapValue);default:throw be(23264,{he:i})}}function nv(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return je(r,e);const i=Ks(r),s=Ks(e),l=je(i.seconds,s.seconds);return l!==0?l:je(i.nanos,s.nanos)}function iv(r,e){const i=r.values||[],s=e.values||[];for(let l=0;l<i.length&&l<s.length;++l){const c=Wo(i[l],s[l]);if(c)return c}return je(i.length,s.length)}function el(r){return Rm(r)}function Rm(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(i){const s=Ks(i);return`time(${s.seconds},${s.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(i){return Xs(i).toBase64()})(r.bytesValue):"referenceValue"in r?(function(i){return ye.fromName(i).toString()})(r.referenceValue):"geoPointValue"in r?(function(i){return`geo(${i.latitude},${i.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(i){let s="[",l=!0;for(const c of i.values||[])l?l=!1:s+=",",s+=Rm(c);return s+"]"})(r.arrayValue):"mapValue"in r?(function(i){const s=Object.keys(i.fields||{}).sort();let l="{",c=!0;for(const d of s)c?c=!1:l+=",",l+=`${d}:${Rm(i.fields[d])}`;return l+"}"})(r.mapValue):be(61005,{value:r})}function nh(r){switch($s(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=kh(r);return e?16+nh(e):16;case 5:return 2*r.stringValue.length;case 6:return Xs(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((l,c)=>l+nh(c)),0)})(r.arrayValue);case 10:case 11:return(function(s){let l=0;return Ws(s.fields,((c,d)=>{l+=c.length+nh(d)})),l})(r.mapValue);default:throw be(13486,{value:r})}}function rv(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function Im(r){return!!r&&"integerValue"in r}function lg(r){return!!r&&"arrayValue"in r}function sv(r){return!!r&&"nullValue"in r}function av(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function ih(r){return!!r&&"mapValue"in r}function IR(r){return(r?.mapValue?.fields||{})[dE]?.stringValue===mE}function au(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const e={mapValue:{fields:{}}};return Ws(r.mapValue.fields,((i,s)=>e.mapValue.fields[i]=au(s))),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(r.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=au(r.arrayValue.values[i]);return e}return{...r}}function CR(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===RR}class Kn{constructor(e){this.value=e}static empty(){return new Kn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let s=0;s<e.length-1;++s)if(i=(i.mapValue.fields||{})[e.get(s)],!ih(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=au(i)}setAll(e){let i=mn.emptyPath(),s={},l=[];e.forEach(((d,g)=>{if(!i.isImmediateParentOf(g)){const y=this.getFieldsMap(i);this.applyChanges(y,s,l),s={},l=[],i=g.popLast()}d?s[g.lastSegment()]=au(d):l.push(g.lastSegment())}));const c=this.getFieldsMap(i);this.applyChanges(c,s,l)}delete(e){const i=this.field(e.popLast());ih(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return yr(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let s=0;s<e.length;++s){let l=i.mapValue.fields[e.get(s)];ih(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},i.mapValue.fields[e.get(s)]=l),i=l}return i.mapValue.fields}applyChanges(e,i,s){Ws(i,((l,c)=>e[l]=c));for(const l of s)delete e[l]}clone(){return new Kn(au(this.value))}}function gE(r){const e=[];return Ws(r.fields,((i,s)=>{const l=new mn([i]);if(ih(s)){const c=gE(s.mapValue).fields;if(c.length===0)e.push(l);else for(const d of c)e.push(l.child(d))}else e.push(l)})),new li(e)}class Rn{constructor(e,i,s,l,c,d,g){this.key=e,this.documentType=i,this.version=s,this.readTime=l,this.createTime=c,this.data=d,this.documentState=g}static newInvalidDocument(e){return new Rn(e,0,we.min(),we.min(),we.min(),Kn.empty(),0)}static newFoundDocument(e,i,s,l){return new Rn(e,1,i,we.min(),s,l,0)}static newNoDocument(e,i){return new Rn(e,2,i,we.min(),we.min(),Kn.empty(),0)}static newUnknownDocument(e,i){return new Rn(e,3,i,we.min(),we.min(),Kn.empty(),2)}convertToFoundDocument(e,i){return!this.createTime.isEqual(we.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Kn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Kn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=we.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Rn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Rn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class vh{constructor(e,i){this.position=e,this.inclusive=i}}function ov(r,e,i){let s=0;for(let l=0;l<r.position.length;l++){const c=e[l],d=r.position[l];if(c.field.isKeyField()?s=ye.comparator(ye.fromName(d.referenceValue),i.key):s=Wo(d,i.data.field(c.field)),c.dir==="desc"&&(s*=-1),s!==0)break}return s}function lv(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let i=0;i<r.position.length;i++)if(!yr(r.position[i],e.position[i]))return!1;return!0}class Eh{constructor(e,i="asc"){this.field=e,this.dir=i}}function xR(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}class pE{}class $t extends pE{constructor(e,i,s){super(),this.field=e,this.op=i,this.value=s}static create(e,i,s){return e.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(e,i,s):new DR(e,i,s):i==="array-contains"?new VR(e,s):i==="in"?new kR(e,s):i==="not-in"?new UR(e,s):i==="array-contains-any"?new LR(e,s):new $t(e,i,s)}static createKeyFieldInFilter(e,i,s){return i==="in"?new MR(e,s):new OR(e,s)}matches(e){const i=e.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(Wo(i,this.value)):i!==null&&$s(this.value)===$s(i)&&this.matchesComparison(Wo(i,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return be(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Qi extends pE{constructor(e,i){super(),this.filters=e,this.op=i,this.Pe=null}static create(e,i){return new Qi(e,i)}matches(e){return yE(this)?this.filters.find((i=>!i.matches(e)))===void 0:this.filters.find((i=>i.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,i)=>e.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function yE(r){return r.op==="and"}function _E(r){return NR(r)&&yE(r)}function NR(r){for(const e of r.filters)if(e instanceof Qi)return!1;return!0}function Cm(r){if(r instanceof $t)return r.field.canonicalString()+r.op.toString()+el(r.value);if(_E(r))return r.filters.map((e=>Cm(e))).join(",");{const e=r.filters.map((i=>Cm(i))).join(",");return`${r.op}(${e})`}}function vE(r,e){return r instanceof $t?(function(s,l){return l instanceof $t&&s.op===l.op&&s.field.isEqual(l.field)&&yr(s.value,l.value)})(r,e):r instanceof Qi?(function(s,l){return l instanceof Qi&&s.op===l.op&&s.filters.length===l.filters.length?s.filters.reduce(((c,d,g)=>c&&vE(d,l.filters[g])),!0):!1})(r,e):void be(19439)}function EE(r){return r instanceof $t?(function(i){return`${i.field.canonicalString()} ${i.op} ${el(i.value)}`})(r):r instanceof Qi?(function(i){return i.op.toString()+" {"+i.getFilters().map(EE).join(" ,")+"}"})(r):"Filter"}class DR extends $t{constructor(e,i,s){super(e,i,s),this.key=ye.fromName(s.referenceValue)}matches(e){const i=ye.comparator(e.key,this.key);return this.matchesComparison(i)}}class MR extends $t{constructor(e,i){super(e,"in",i),this.keys=TE("in",i)}matches(e){return this.keys.some((i=>i.isEqual(e.key)))}}class OR extends $t{constructor(e,i){super(e,"not-in",i),this.keys=TE("not-in",i)}matches(e){return!this.keys.some((i=>i.isEqual(e.key)))}}function TE(r,e){return(e.arrayValue?.values||[]).map((i=>ye.fromName(i.referenceValue)))}class VR extends $t{constructor(e,i){super(e,"array-contains",i)}matches(e){const i=e.data.field(this.field);return lg(i)&&gu(i.arrayValue,this.value)}}class kR extends $t{constructor(e,i){super(e,"in",i)}matches(e){const i=e.data.field(this.field);return i!==null&&gu(this.value.arrayValue,i)}}class UR extends $t{constructor(e,i){super(e,"not-in",i)}matches(e){if(gu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=e.data.field(this.field);return i!==null&&i.nullValue===void 0&&!gu(this.value.arrayValue,i)}}class LR extends $t{constructor(e,i){super(e,"array-contains-any",i)}matches(e){const i=e.data.field(this.field);return!(!lg(i)||!i.arrayValue.values)&&i.arrayValue.values.some((s=>gu(this.value.arrayValue,s)))}}class PR{constructor(e,i=null,s=[],l=[],c=null,d=null,g=null){this.path=e,this.collectionGroup=i,this.orderBy=s,this.filters=l,this.limit=c,this.startAt=d,this.endAt=g,this.Te=null}}function uv(r,e=null,i=[],s=[],l=null,c=null,d=null){return new PR(r,e,i,s,l,c,d)}function ug(r){const e=Ie(r);if(e.Te===null){let i=e.path.canonicalString();e.collectionGroup!==null&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map((s=>Cm(s))).join(","),i+="|ob:",i+=e.orderBy.map((s=>(function(c){return c.field.canonicalString()+c.dir})(s))).join(","),Vh(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map((s=>el(s))).join(",")),e.endAt&&(i+="|ub:",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map((s=>el(s))).join(",")),e.Te=i}return e.Te}function cg(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<r.orderBy.length;i++)if(!xR(r.orderBy[i],e.orderBy[i]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let i=0;i<r.filters.length;i++)if(!vE(r.filters[i],e.filters[i]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!lv(r.startAt,e.startAt)&&lv(r.endAt,e.endAt)}function xm(r){return ye.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}class Ru{constructor(e,i=null,s=[],l=[],c=null,d="F",g=null,y=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=s,this.filters=l,this.limit=c,this.limitType=d,this.startAt=g,this.endAt=y,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function zR(r,e,i,s,l,c,d,g){return new Ru(r,e,i,s,l,c,d,g)}function hg(r){return new Ru(r)}function cv(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function bE(r){return r.collectionGroup!==null}function ou(r){const e=Ie(r);if(e.Ie===null){e.Ie=[];const i=new Set;for(const c of e.explicitOrderBy)e.Ie.push(c),i.add(c.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let g=new tn(mn.comparator);return d.filters.forEach((y=>{y.getFlattenedFilters().forEach((_=>{_.isInequality()&&(g=g.add(_.field))}))})),g})(e).forEach((c=>{i.has(c.canonicalString())||c.isKeyField()||e.Ie.push(new Eh(c,s))})),i.has(mn.keyField().canonicalString())||e.Ie.push(new Eh(mn.keyField(),s))}return e.Ie}function dr(r){const e=Ie(r);return e.Ee||(e.Ee=jR(e,ou(r))),e.Ee}function jR(r,e){if(r.limitType==="F")return uv(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map((l=>{const c=l.dir==="desc"?"asc":"desc";return new Eh(l.field,c)}));const i=r.endAt?new vh(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new vh(r.startAt.position,r.startAt.inclusive):null;return uv(r.path,r.collectionGroup,e,r.filters,r.limit,i,s)}}function Nm(r,e){const i=r.filters.concat([e]);return new Ru(r.path,r.collectionGroup,r.explicitOrderBy.slice(),i,r.limit,r.limitType,r.startAt,r.endAt)}function Dm(r,e,i){return new Ru(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,i,r.startAt,r.endAt)}function Uh(r,e){return cg(dr(r),dr(e))&&r.limitType===e.limitType}function SE(r){return`${ug(dr(r))}|lt:${r.limitType}`}function jo(r){return`Query(target=${(function(i){let s=i.path.canonicalString();return i.collectionGroup!==null&&(s+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(s+=`, filters: [${i.filters.map((l=>EE(l))).join(", ")}]`),Vh(i.limit)||(s+=", limit: "+i.limit),i.orderBy.length>0&&(s+=`, orderBy: [${i.orderBy.map((l=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(l))).join(", ")}]`),i.startAt&&(s+=", startAt: ",s+=i.startAt.inclusive?"b:":"a:",s+=i.startAt.position.map((l=>el(l))).join(",")),i.endAt&&(s+=", endAt: ",s+=i.endAt.inclusive?"a:":"b:",s+=i.endAt.position.map((l=>el(l))).join(",")),`Target(${s})`})(dr(r))}; limitType=${r.limitType})`}function Lh(r,e){return e.isFoundDocument()&&(function(s,l){const c=l.key.path;return s.collectionGroup!==null?l.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(c):ye.isDocumentKey(s.path)?s.path.isEqual(c):s.path.isImmediateParentOf(c)})(r,e)&&(function(s,l){for(const c of ou(s))if(!c.field.isKeyField()&&l.data.field(c.field)===null)return!1;return!0})(r,e)&&(function(s,l){for(const c of s.filters)if(!c.matches(l))return!1;return!0})(r,e)&&(function(s,l){return!(s.startAt&&!(function(d,g,y){const _=ov(d,g,y);return d.inclusive?_<=0:_<0})(s.startAt,ou(s),l)||s.endAt&&!(function(d,g,y){const _=ov(d,g,y);return d.inclusive?_>=0:_>0})(s.endAt,ou(s),l))})(r,e)}function BR(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function AE(r){return(e,i)=>{let s=!1;for(const l of ou(r)){const c=qR(l,e,i);if(c!==0)return c;s=s||l.field.isKeyField()}return 0}}function qR(r,e,i){const s=r.field.isKeyField()?ye.comparator(e.key,i.key):(function(c,d,g){const y=d.data.field(c),_=g.data.field(c);return y!==null&&_!==null?Wo(y,_):be(42886)})(r.field,e,i);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return be(19790,{direction:r.dir})}}class $a{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={},this.innerSize=0}get(e){const i=this.mapKeyFn(e),s=this.inner[i];if(s!==void 0){for(const[l,c]of s)if(this.equalsFn(l,e))return c}}has(e){return this.get(e)!==void 0}set(e,i){const s=this.mapKeyFn(e),l=this.inner[s];if(l===void 0)return this.inner[s]=[[e,i]],void this.innerSize++;for(let c=0;c<l.length;c++)if(this.equalsFn(l[c][0],e))return void(l[c]=[e,i]);l.push([e,i]),this.innerSize++}delete(e){const i=this.mapKeyFn(e),s=this.inner[i];if(s===void 0)return!1;for(let l=0;l<s.length;l++)if(this.equalsFn(s[l][0],e))return s.length===1?delete this.inner[i]:s.splice(l,1),this.innerSize--,!0;return!1}forEach(e){Ws(this.inner,((i,s)=>{for(const[l,c]of s)e(l,c)}))}isEmpty(){return oE(this.inner)}size(){return this.innerSize}}const HR=new Ct(ye.comparator);function is(){return HR}const wE=new Ct(ye.comparator);function tu(...r){let e=wE;for(const i of r)e=e.insert(i.key,i);return e}function RE(r){let e=wE;return r.forEach(((i,s)=>e=e.insert(i,s.overlayedDocument))),e}function Ba(){return lu()}function IE(){return lu()}function lu(){return new $a((r=>r.toString()),((r,e)=>r.isEqual(e)))}const FR=new Ct(ye.comparator),GR=new tn(ye.comparator);function Be(...r){let e=GR;for(const i of r)e=e.add(i);return e}const QR=new tn(je);function YR(){return QR}function fg(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ph(e)?"-0":e}}function CE(r){return{integerValue:""+r}}function KR(r,e){return TR(e)?CE(e):fg(r,e)}class Ph{constructor(){this._=void 0}}function XR(r,e,i){return r instanceof pu?(function(l,c){const d={fields:{[cE]:{stringValue:uE},[fE]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return c&&og(c)&&(c=kh(c)),c&&(d.fields[hE]=c),{mapValue:d}})(i,e):r instanceof tl?NE(r,e):r instanceof nl?DE(r,e):(function(l,c){const d=xE(l,c),g=hv(d)+hv(l.Ae);return Im(d)&&Im(l.Ae)?CE(g):fg(l.serializer,g)})(r,e)}function $R(r,e,i){return r instanceof tl?NE(r,e):r instanceof nl?DE(r,e):i}function xE(r,e){return r instanceof Th?(function(s){return Im(s)||(function(c){return!!c&&"doubleValue"in c})(s)})(e)?e:{integerValue:0}:null}class pu extends Ph{}class tl extends Ph{constructor(e){super(),this.elements=e}}function NE(r,e){const i=ME(e);for(const s of r.elements)i.some((l=>yr(l,s)))||i.push(s);return{arrayValue:{values:i}}}class nl extends Ph{constructor(e){super(),this.elements=e}}function DE(r,e){let i=ME(e);for(const s of r.elements)i=i.filter((l=>!yr(l,s)));return{arrayValue:{values:i}}}class Th extends Ph{constructor(e,i){super(),this.serializer=e,this.Ae=i}}function hv(r){return Bt(r.integerValue||r.doubleValue)}function ME(r){return lg(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}class dg{constructor(e,i){this.field=e,this.transform=i}}function JR(r,e){return r.field.isEqual(e.field)&&(function(s,l){return s instanceof tl&&l instanceof tl||s instanceof nl&&l instanceof nl?Zo(s.elements,l.elements,yr):s instanceof Th&&l instanceof Th?yr(s.Ae,l.Ae):s instanceof pu&&l instanceof pu})(r.transform,e.transform)}class ZR{constructor(e,i){this.version=e,this.transformResults=i}}class Ii{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new Ii}static exists(e){return new Ii(void 0,e)}static updateTime(e){return new Ii(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function rh(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class zh{}function OE(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new mg(r.key,Ii.none()):new Iu(r.key,r.data,Ii.none());{const i=r.data,s=Kn.empty();let l=new tn(mn.comparator);for(let c of e.fields)if(!l.has(c)){let d=i.field(c);d===null&&c.length>1&&(c=c.popLast(),d=i.field(c)),d===null?s.delete(c):s.set(c,d),l=l.add(c)}return new ea(r.key,s,new li(l.toArray()),Ii.none())}}function WR(r,e,i){r instanceof Iu?(function(l,c,d){const g=l.value.clone(),y=dv(l.fieldTransforms,c,d.transformResults);g.setAll(y),c.convertToFoundDocument(d.version,g).setHasCommittedMutations()})(r,e,i):r instanceof ea?(function(l,c,d){if(!rh(l.precondition,c))return void c.convertToUnknownDocument(d.version);const g=dv(l.fieldTransforms,c,d.transformResults),y=c.data;y.setAll(VE(l)),y.setAll(g),c.convertToFoundDocument(d.version,y).setHasCommittedMutations()})(r,e,i):(function(l,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()})(0,e,i)}function uu(r,e,i,s){return r instanceof Iu?(function(c,d,g,y){if(!rh(c.precondition,d))return g;const _=c.value.clone(),b=mv(c.fieldTransforms,y,d);return _.setAll(b),d.convertToFoundDocument(d.version,_).setHasLocalMutations(),null})(r,e,i,s):r instanceof ea?(function(c,d,g,y){if(!rh(c.precondition,d))return g;const _=mv(c.fieldTransforms,y,d),b=d.data;return b.setAll(VE(c)),b.setAll(_),d.convertToFoundDocument(d.version,b).setHasLocalMutations(),g===null?null:g.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((A=>A.field)))})(r,e,i,s):(function(c,d,g){return rh(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):g})(r,e,i)}function eI(r,e){let i=null;for(const s of r.fieldTransforms){const l=e.data.field(s.field),c=xE(s.transform,l||null);c!=null&&(i===null&&(i=Kn.empty()),i.set(s.field,c))}return i||null}function fv(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!(function(s,l){return s===void 0&&l===void 0||!(!s||!l)&&Zo(s,l,((c,d)=>JR(c,d)))})(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class Iu extends zh{constructor(e,i,s,l=[]){super(),this.key=e,this.value=i,this.precondition=s,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class ea extends zh{constructor(e,i,s,l,c=[]){super(),this.key=e,this.data=i,this.fieldMask=s,this.precondition=l,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function VE(r){const e=new Map;return r.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const s=r.data.field(i);e.set(i,s)}})),e}function dv(r,e,i){const s=new Map;rt(r.length===i.length,32656,{Re:i.length,Ve:r.length});for(let l=0;l<i.length;l++){const c=r[l],d=c.transform,g=e.data.field(c.field);s.set(c.field,$R(d,g,i[l]))}return s}function mv(r,e,i){const s=new Map;for(const l of r){const c=l.transform,d=i.data.field(l.field);s.set(l.field,XR(c,d,e))}return s}class mg extends zh{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class tI extends zh{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class nI{constructor(e,i,s,l){this.batchId=e,this.localWriteTime=i,this.baseMutations=s,this.mutations=l}applyToRemoteDocument(e,i){const s=i.mutationResults;for(let l=0;l<this.mutations.length;l++){const c=this.mutations[l];c.key.isEqual(e.key)&&WR(c,e,s[l])}}applyToLocalView(e,i){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(i=uu(s,e,i,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(i=uu(s,e,i,this.localWriteTime));return i}applyToLocalDocumentSet(e,i){const s=IE();return this.mutations.forEach((l=>{const c=e.get(l.key),d=c.overlayedDocument;let g=this.applyToLocalView(d,c.mutatedFields);g=i.has(l.key)?null:g;const y=OE(d,g);y!==null&&s.set(l.key,y),d.isValidDocument()||d.convertToNoDocument(we.min())})),s}keys(){return this.mutations.reduce(((e,i)=>e.add(i.key)),Be())}isEqual(e){return this.batchId===e.batchId&&Zo(this.mutations,e.mutations,((i,s)=>fv(i,s)))&&Zo(this.baseMutations,e.baseMutations,((i,s)=>fv(i,s)))}}class gg{constructor(e,i,s,l){this.batch=e,this.commitVersion=i,this.mutationResults=s,this.docVersions=l}static from(e,i,s){rt(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let l=(function(){return FR})();const c=e.mutations;for(let d=0;d<c.length;d++)l=l.insert(c[d].key,s[d].version);return new gg(e,i,s,l)}}class iI{constructor(e,i){this.largestBatchId=e,this.mutation=i}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class rI{constructor(e,i){this.count=e,this.unchangedNames=i}}var Xt,Ge;function sI(r){switch(r){case Z.OK:return be(64938);case Z.CANCELLED:case Z.UNKNOWN:case Z.DEADLINE_EXCEEDED:case Z.RESOURCE_EXHAUSTED:case Z.INTERNAL:case Z.UNAVAILABLE:case Z.UNAUTHENTICATED:return!1;case Z.INVALID_ARGUMENT:case Z.NOT_FOUND:case Z.ALREADY_EXISTS:case Z.PERMISSION_DENIED:case Z.FAILED_PRECONDITION:case Z.ABORTED:case Z.OUT_OF_RANGE:case Z.UNIMPLEMENTED:case Z.DATA_LOSS:return!0;default:return be(15467,{code:r})}}function kE(r){if(r===void 0)return ns("GRPC error has no .code"),Z.UNKNOWN;switch(r){case Xt.OK:return Z.OK;case Xt.CANCELLED:return Z.CANCELLED;case Xt.UNKNOWN:return Z.UNKNOWN;case Xt.DEADLINE_EXCEEDED:return Z.DEADLINE_EXCEEDED;case Xt.RESOURCE_EXHAUSTED:return Z.RESOURCE_EXHAUSTED;case Xt.INTERNAL:return Z.INTERNAL;case Xt.UNAVAILABLE:return Z.UNAVAILABLE;case Xt.UNAUTHENTICATED:return Z.UNAUTHENTICATED;case Xt.INVALID_ARGUMENT:return Z.INVALID_ARGUMENT;case Xt.NOT_FOUND:return Z.NOT_FOUND;case Xt.ALREADY_EXISTS:return Z.ALREADY_EXISTS;case Xt.PERMISSION_DENIED:return Z.PERMISSION_DENIED;case Xt.FAILED_PRECONDITION:return Z.FAILED_PRECONDITION;case Xt.ABORTED:return Z.ABORTED;case Xt.OUT_OF_RANGE:return Z.OUT_OF_RANGE;case Xt.UNIMPLEMENTED:return Z.UNIMPLEMENTED;case Xt.DATA_LOSS:return Z.DATA_LOSS;default:return be(39323,{code:r})}}(Ge=Xt||(Xt={}))[Ge.OK=0]="OK",Ge[Ge.CANCELLED=1]="CANCELLED",Ge[Ge.UNKNOWN=2]="UNKNOWN",Ge[Ge.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ge[Ge.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ge[Ge.NOT_FOUND=5]="NOT_FOUND",Ge[Ge.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ge[Ge.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ge[Ge.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ge[Ge.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ge[Ge.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ge[Ge.ABORTED=10]="ABORTED",Ge[Ge.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ge[Ge.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ge[Ge.INTERNAL=13]="INTERNAL",Ge[Ge.UNAVAILABLE=14]="UNAVAILABLE",Ge[Ge.DATA_LOSS=15]="DATA_LOSS";function aI(){return new TextEncoder}const oI=new Gs([4294967295,4294967295],0);function gv(r){const e=aI().encode(r),i=new $1;return i.update(e),new Uint8Array(i.digest())}function pv(r){const e=new DataView(r.buffer),i=e.getUint32(0,!0),s=e.getUint32(4,!0),l=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new Gs([i,s],0),new Gs([l,c],0)]}class pg{constructor(e,i,s){if(this.bitmap=e,this.padding=i,this.hashCount=s,i<0||i>=8)throw new nu(`Invalid padding: ${i}`);if(s<0)throw new nu(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new nu(`Invalid hash count: ${s}`);if(e.length===0&&i!==0)throw new nu(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*e.length-i,this.pe=Gs.fromNumber(this.ge)}ye(e,i,s){let l=e.add(i.multiply(Gs.fromNumber(s)));return l.compare(oI)===1&&(l=new Gs([l.getBits(0),l.getBits(1)],0)),l.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const i=gv(e),[s,l]=pv(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(s,l,c);if(!this.we(d))return!1}return!0}static create(e,i,s){const l=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),d=new pg(c,l,i);return s.forEach((g=>d.insert(g))),d}insert(e){if(this.ge===0)return;const i=gv(e),[s,l]=pv(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(s,l,c);this.Se(d)}}Se(e){const i=Math.floor(e/8),s=e%8;this.bitmap[i]|=1<<s}}class nu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class jh{constructor(e,i,s,l,c){this.snapshotVersion=e,this.targetChanges=i,this.targetMismatches=s,this.documentUpdates=l,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,i,s){const l=new Map;return l.set(e,Cu.createSynthesizedTargetChangeForCurrentChange(e,i,s)),new jh(we.min(),l,new Ct(je),is(),Be())}}class Cu{constructor(e,i,s,l,c){this.resumeToken=e,this.current=i,this.addedDocuments=s,this.modifiedDocuments=l,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,i,s){return new Cu(s,i,Be(),Be(),Be())}}class sh{constructor(e,i,s,l){this.be=e,this.removedTargetIds=i,this.key=s,this.De=l}}class UE{constructor(e,i){this.targetId=e,this.Ce=i}}class LE{constructor(e,i,s=pn.EMPTY_BYTE_STRING,l=null){this.state=e,this.targetIds=i,this.resumeToken=s,this.cause=l}}class yv{constructor(){this.ve=0,this.Fe=_v(),this.Me=pn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Be(),i=Be(),s=Be();return this.Fe.forEach(((l,c)=>{switch(c){case 0:e=e.add(l);break;case 2:i=i.add(l);break;case 1:s=s.add(l);break;default:be(38017,{changeType:c})}})),new Cu(this.Me,this.xe,e,i,s)}qe(){this.Oe=!1,this.Fe=_v()}Qe(e,i){this.Oe=!0,this.Fe=this.Fe.insert(e,i)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,rt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class lI{constructor(e){this.Ge=e,this.ze=new Map,this.je=is(),this.Je=Qc(),this.He=Qc(),this.Ye=new Ct(je)}Ze(e){for(const i of e.be)e.De&&e.De.isFoundDocument()?this.Xe(i,e.De):this.et(i,e.key,e.De);for(const i of e.removedTargetIds)this.et(i,e.key,e.De)}tt(e){this.forEachTarget(e,(i=>{const s=this.nt(i);switch(e.state){case 0:this.rt(i)&&s.Le(e.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(e.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(s.We(),s.Le(e.resumeToken));break;case 4:this.rt(i)&&(this.it(i),s.Le(e.resumeToken));break;default:be(56790,{state:e.state})}}))}forEachTarget(e,i){e.targetIds.length>0?e.targetIds.forEach(i):this.ze.forEach(((s,l)=>{this.rt(l)&&i(l)}))}st(e){const i=e.targetId,s=e.Ce.count,l=this.ot(i);if(l){const c=l.target;if(xm(c))if(s===0){const d=new ye(c.path);this.et(i,d,Rn.newNoDocument(d,we.min()))}else rt(s===1,20013,{expectedCount:s});else{const d=this._t(i);if(d!==s){const g=this.ut(e),y=g?this.ct(g,e,d):1;if(y!==0){this.it(i);const _=y===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(i,_)}}}}}ut(e){const i=e.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:s="",padding:l=0},hashCount:c=0}=i;let d,g;try{d=Xs(s).toUint8Array()}catch(y){if(y instanceof lE)return Jo("Decoding the base64 bloom filter in existence filter failed ("+y.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw y}try{g=new pg(d,l,c)}catch(y){return Jo(y instanceof nu?"BloomFilter error: ":"Applying bloom filter failed: ",y),null}return g.ge===0?null:g}ct(e,i,s){return i.Ce.count===s-this.Pt(e,i.targetId)?0:2}Pt(e,i){const s=this.Ge.getRemoteKeysForTarget(i);let l=0;return s.forEach((c=>{const d=this.Ge.ht(),g=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;e.mightContain(g)||(this.et(i,c,null),l++)})),l}Tt(e){const i=new Map;this.ze.forEach(((c,d)=>{const g=this.ot(d);if(g){if(c.current&&xm(g.target)){const y=new ye(g.target.path);this.It(y).has(d)||this.Et(d,y)||this.et(d,y,Rn.newNoDocument(y,e))}c.Be&&(i.set(d,c.ke()),c.qe())}}));let s=Be();this.He.forEach(((c,d)=>{let g=!0;d.forEachWhile((y=>{const _=this.ot(y);return!_||_.purpose==="TargetPurposeLimboResolution"||(g=!1,!1)})),g&&(s=s.add(c))})),this.je.forEach(((c,d)=>d.setReadTime(e)));const l=new jh(e,i,this.Ye,this.je,s);return this.je=is(),this.Je=Qc(),this.He=Qc(),this.Ye=new Ct(je),l}Xe(e,i){if(!this.rt(e))return;const s=this.Et(e,i.key)?2:0;this.nt(e).Qe(i.key,s),this.je=this.je.insert(i.key,i),this.Je=this.Je.insert(i.key,this.It(i.key).add(e)),this.He=this.He.insert(i.key,this.dt(i.key).add(e))}et(e,i,s){if(!this.rt(e))return;const l=this.nt(e);this.Et(e,i)?l.Qe(i,1):l.$e(i),this.He=this.He.insert(i,this.dt(i).delete(e)),this.He=this.He.insert(i,this.dt(i).add(e)),s&&(this.je=this.je.insert(i,s))}removeTarget(e){this.ze.delete(e)}_t(e){const i=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+i.addedDocuments.size-i.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let i=this.ze.get(e);return i||(i=new yv,this.ze.set(e,i)),i}dt(e){let i=this.He.get(e);return i||(i=new tn(je),this.He=this.He.insert(e,i)),i}It(e){let i=this.Je.get(e);return i||(i=new tn(je),this.Je=this.Je.insert(e,i)),i}rt(e){const i=this.ot(e)!==null;return i||ce("WatchChangeAggregator","Detected inactive target",e),i}ot(e){const i=this.ze.get(e);return i&&i.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new yv),this.Ge.getRemoteKeysForTarget(e).forEach((i=>{this.et(e,i,null)}))}Et(e,i){return this.Ge.getRemoteKeysForTarget(e).has(i)}}function Qc(){return new Ct(ye.comparator)}function _v(){return new Ct(ye.comparator)}const uI={asc:"ASCENDING",desc:"DESCENDING"},cI={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},hI={and:"AND",or:"OR"};class fI{constructor(e,i){this.databaseId=e,this.useProto3Json=i}}function Mm(r,e){return r.useProto3Json||Vh(e)?e:{value:e}}function bh(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function PE(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function dI(r,e){return bh(r,e.toTimestamp())}function mr(r){return rt(!!r,49232),we.fromTimestamp((function(i){const s=Ks(i);return new bt(s.seconds,s.nanos)})(r))}function yg(r,e){return Om(r,e).canonicalString()}function Om(r,e){const i=(function(l){return new _t(["projects",l.projectId,"databases",l.database])})(r).child("documents");return e===void 0?i:i.child(e)}function zE(r){const e=_t.fromString(r);return rt(FE(e),10190,{key:e.toString()}),e}function Vm(r,e){return yg(r.databaseId,e.path)}function rm(r,e){const i=zE(e);if(i.get(1)!==r.databaseId.projectId)throw new he(Z.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+r.databaseId.projectId);if(i.get(3)!==r.databaseId.database)throw new he(Z.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+r.databaseId.database);return new ye(BE(i))}function jE(r,e){return yg(r.databaseId,e)}function mI(r){const e=zE(r);return e.length===4?_t.emptyPath():BE(e)}function km(r){return new _t(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function BE(r){return rt(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function vv(r,e,i){return{name:Vm(r,e),fields:i.value.mapValue.fields}}function gI(r,e){let i;if("targetChange"in e){e.targetChange;const s=(function(_){return _==="NO_CHANGE"?0:_==="ADD"?1:_==="REMOVE"?2:_==="CURRENT"?3:_==="RESET"?4:be(39313,{state:_})})(e.targetChange.targetChangeType||"NO_CHANGE"),l=e.targetChange.targetIds||[],c=(function(_,b){return _.useProto3Json?(rt(b===void 0||typeof b=="string",58123),pn.fromBase64String(b||"")):(rt(b===void 0||b instanceof Buffer||b instanceof Uint8Array,16193),pn.fromUint8Array(b||new Uint8Array))})(r,e.targetChange.resumeToken),d=e.targetChange.cause,g=d&&(function(_){const b=_.code===void 0?Z.UNKNOWN:kE(_.code);return new he(b,_.message||"")})(d);i=new LE(s,l,c,g||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const l=rm(r,s.document.name),c=mr(s.document.updateTime),d=s.document.createTime?mr(s.document.createTime):we.min(),g=new Kn({mapValue:{fields:s.document.fields}}),y=Rn.newFoundDocument(l,c,d,g),_=s.targetIds||[],b=s.removedTargetIds||[];i=new sh(_,b,y.key,y)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const l=rm(r,s.document),c=s.readTime?mr(s.readTime):we.min(),d=Rn.newNoDocument(l,c),g=s.removedTargetIds||[];i=new sh([],g,d.key,d)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const l=rm(r,s.document),c=s.removedTargetIds||[];i=new sh([],c,l,null)}else{if(!("filter"in e))return be(11601,{Rt:e});{e.filter;const s=e.filter;s.targetId;const{count:l=0,unchangedNames:c}=s,d=new rI(l,c),g=s.targetId;i=new UE(g,d)}}return i}function pI(r,e){let i;if(e instanceof Iu)i={update:vv(r,e.key,e.value)};else if(e instanceof mg)i={delete:Vm(r,e.key)};else if(e instanceof ea)i={update:vv(r,e.key,e.data),updateMask:wI(e.fieldMask)};else{if(!(e instanceof tI))return be(16599,{Vt:e.type});i={verify:Vm(r,e.key)}}return e.fieldTransforms.length>0&&(i.updateTransforms=e.fieldTransforms.map((s=>(function(c,d){const g=d.transform;if(g instanceof pu)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof tl)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof nl)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof Th)return{fieldPath:d.field.canonicalString(),increment:g.Ae};throw be(20930,{transform:d.transform})})(0,s)))),e.precondition.isNone||(i.currentDocument=(function(l,c){return c.updateTime!==void 0?{updateTime:dI(l,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:be(27497)})(r,e.precondition)),i}function yI(r,e){return r&&r.length>0?(rt(e!==void 0,14353),r.map((i=>(function(l,c){let d=l.updateTime?mr(l.updateTime):mr(c);return d.isEqual(we.min())&&(d=mr(c)),new ZR(d,l.transformResults||[])})(i,e)))):[]}function _I(r,e){return{documents:[jE(r,e.path)]}}function vI(r,e){const i={structuredQuery:{}},s=e.path;let l;e.collectionGroup!==null?(l=s,i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(l=s.popLast(),i.structuredQuery.from=[{collectionId:s.lastSegment()}]),i.parent=jE(r,l);const c=(function(_){if(_.length!==0)return HE(Qi.create(_,"and"))})(e.filters);c&&(i.structuredQuery.where=c);const d=(function(_){if(_.length!==0)return _.map((b=>(function(V){return{field:Bo(V.field),direction:bI(V.dir)}})(b)))})(e.orderBy);d&&(i.structuredQuery.orderBy=d);const g=Mm(r,e.limit);return g!==null&&(i.structuredQuery.limit=g),e.startAt&&(i.structuredQuery.startAt=(function(_){return{before:_.inclusive,values:_.position}})(e.startAt)),e.endAt&&(i.structuredQuery.endAt=(function(_){return{before:!_.inclusive,values:_.position}})(e.endAt)),{ft:i,parent:l}}function EI(r){let e=mI(r.parent);const i=r.structuredQuery,s=i.from?i.from.length:0;let l=null;if(s>0){rt(s===1,65062);const b=i.from[0];b.allDescendants?l=b.collectionId:e=e.child(b.collectionId)}let c=[];i.where&&(c=(function(A){const V=qE(A);return V instanceof Qi&&_E(V)?V.getFilters():[V]})(i.where));let d=[];i.orderBy&&(d=(function(A){return A.map((V=>(function(re){return new Eh(qo(re.field),(function(te){switch(te){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(re.direction))})(V)))})(i.orderBy));let g=null;i.limit&&(g=(function(A){let V;return V=typeof A=="object"?A.value:A,Vh(V)?null:V})(i.limit));let y=null;i.startAt&&(y=(function(A){const V=!!A.before,K=A.values||[];return new vh(K,V)})(i.startAt));let _=null;return i.endAt&&(_=(function(A){const V=!A.before,K=A.values||[];return new vh(K,V)})(i.endAt)),zR(e,l,d,c,g,"F",y,_)}function TI(r,e){const i=(function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return be(28987,{purpose:l})}})(e.purpose);return i==null?null:{"goog-listen-tags":i}}function qE(r){return r.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const s=qo(i.unaryFilter.field);return $t.create(s,"==",{doubleValue:NaN});case"IS_NULL":const l=qo(i.unaryFilter.field);return $t.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=qo(i.unaryFilter.field);return $t.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=qo(i.unaryFilter.field);return $t.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return be(61313);default:return be(60726)}})(r):r.fieldFilter!==void 0?(function(i){return $t.create(qo(i.fieldFilter.field),(function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return be(58110);default:return be(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(i){return Qi.create(i.compositeFilter.filters.map((s=>qE(s))),(function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return be(1026)}})(i.compositeFilter.op))})(r):be(30097,{filter:r})}function bI(r){return uI[r]}function SI(r){return cI[r]}function AI(r){return hI[r]}function Bo(r){return{fieldPath:r.canonicalString()}}function qo(r){return mn.fromServerFormat(r.fieldPath)}function HE(r){return r instanceof $t?(function(i){if(i.op==="=="){if(av(i.value))return{unaryFilter:{field:Bo(i.field),op:"IS_NAN"}};if(sv(i.value))return{unaryFilter:{field:Bo(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(av(i.value))return{unaryFilter:{field:Bo(i.field),op:"IS_NOT_NAN"}};if(sv(i.value))return{unaryFilter:{field:Bo(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Bo(i.field),op:SI(i.op),value:i.value}}})(r):r instanceof Qi?(function(i){const s=i.getFilters().map((l=>HE(l)));return s.length===1?s[0]:{compositeFilter:{op:AI(i.op),filters:s}}})(r):be(54877,{filter:r})}function wI(r){const e=[];return r.fields.forEach((i=>e.push(i.canonicalString()))),{fieldPaths:e}}function FE(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}class Bs{constructor(e,i,s,l,c=we.min(),d=we.min(),g=pn.EMPTY_BYTE_STRING,y=null){this.target=e,this.targetId=i,this.purpose=s,this.sequenceNumber=l,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=g,this.expectedCount=y}withSequenceNumber(e){return new Bs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,i){return new Bs(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Bs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Bs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class RI{constructor(e){this.yt=e}}function II(r){const e=EI({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?Dm(e,e.limit,"L"):e}class CI{constructor(){this.Cn=new xI}addToCollectionParentIndex(e,i){return this.Cn.add(i),W.resolve()}getCollectionParents(e,i){return W.resolve(this.Cn.getEntries(i))}addFieldIndex(e,i){return W.resolve()}deleteFieldIndex(e,i){return W.resolve()}deleteAllFieldIndexes(e){return W.resolve()}createTargetIndexes(e,i){return W.resolve()}getDocumentsMatchingTarget(e,i){return W.resolve(null)}getIndexType(e,i){return W.resolve(0)}getFieldIndexes(e,i){return W.resolve([])}getNextCollectionGroupToUpdate(e){return W.resolve(null)}getMinOffset(e,i){return W.resolve(Ys.min())}getMinOffsetFromCollectionGroup(e,i){return W.resolve(Ys.min())}updateCollectionGroup(e,i,s){return W.resolve()}updateIndexEntries(e,i){return W.resolve()}}class xI{constructor(){this.index={}}add(e){const i=e.lastSegment(),s=e.popLast(),l=this.index[i]||new tn(_t.comparator),c=!l.has(s);return this.index[i]=l.add(s),c}has(e){const i=e.lastSegment(),s=e.popLast(),l=this.index[i];return l&&l.has(s)}getEntries(e){return(this.index[e]||new tn(_t.comparator)).toArray()}}const Ev={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},GE=41943040;class Yn{static withCacheSize(e){return new Yn(e,Yn.DEFAULT_COLLECTION_PERCENTILE,Yn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,i,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=s}}Yn.DEFAULT_COLLECTION_PERCENTILE=10,Yn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Yn.DEFAULT=new Yn(GE,Yn.DEFAULT_COLLECTION_PERCENTILE,Yn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Yn.DISABLED=new Yn(-1,0,0);class il{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new il(0)}static cr(){return new il(-1)}}const Tv="LruGarbageCollector",NI=1048576;function bv([r,e],[i,s]){const l=je(r,i);return l===0?je(e,s):l}class DI{constructor(e){this.Ir=e,this.buffer=new tn(bv),this.Er=0}dr(){return++this.Er}Ar(e){const i=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(i);else{const s=this.buffer.last();bv(i,s)<0&&(this.buffer=this.buffer.delete(s).add(i))}}get maxValue(){return this.buffer.last()[0]}}class MI{constructor(e,i,s){this.garbageCollector=e,this.asyncQueue=i,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){ce(Tv,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){cl(i)?ce(Tv,"Ignoring IndexedDB error during garbage collection: ",i):await ul(i)}await this.Vr(3e5)}))}}class OI{constructor(e,i){this.mr=e,this.params=i}calculateTargetCount(e,i){return this.mr.gr(e).next((s=>Math.floor(i/100*s)))}nthSequenceNumber(e,i){if(i===0)return W.resolve(Oh.ce);const s=new DI(i);return this.mr.forEachTarget(e,(l=>s.Ar(l.sequenceNumber))).next((()=>this.mr.pr(e,(l=>s.Ar(l))))).next((()=>s.maxValue))}removeTargets(e,i,s){return this.mr.removeTargets(e,i,s)}removeOrphanedDocuments(e,i){return this.mr.removeOrphanedDocuments(e,i)}collect(e,i){return this.params.cacheSizeCollectionThreshold===-1?(ce("LruGarbageCollector","Garbage collection skipped; disabled"),W.resolve(Ev)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(ce("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Ev):this.yr(e,i)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,i){let s,l,c,d,g,y,_;const b=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((A=>(A>this.params.maximumSequenceNumbersToCollect?(ce("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${A}`),l=this.params.maximumSequenceNumbersToCollect):l=A,d=Date.now(),this.nthSequenceNumber(e,l)))).next((A=>(s=A,g=Date.now(),this.removeTargets(e,s,i)))).next((A=>(c=A,y=Date.now(),this.removeOrphanedDocuments(e,s)))).next((A=>(_=Date.now(),zo()<=ze.DEBUG&&ce("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-b}ms
	Determined least recently used ${l} in `+(g-d)+`ms
	Removed ${c} targets in `+(y-g)+`ms
	Removed ${A} documents in `+(_-y)+`ms
Total Duration: ${_-b}ms`),W.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:c,documentsRemoved:A}))))}}function VI(r,e){return new OI(r,e)}class kI{constructor(){this.changes=new $a((e=>e.toString()),((e,i)=>e.isEqual(i))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,i){this.assertNotApplied(),this.changes.set(e,Rn.newInvalidDocument(e).setReadTime(i))}getEntry(e,i){this.assertNotApplied();const s=this.changes.get(i);return s!==void 0?W.resolve(s):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class UI{constructor(e,i){this.overlayedDocument=e,this.mutatedFields=i}}class LI{constructor(e,i,s,l){this.remoteDocumentCache=e,this.mutationQueue=i,this.documentOverlayCache=s,this.indexManager=l}getDocument(e,i){let s=null;return this.documentOverlayCache.getOverlay(e,i).next((l=>(s=l,this.remoteDocumentCache.getEntry(e,i)))).next((l=>(s!==null&&uu(s.mutation,l,li.empty(),bt.now()),l)))}getDocuments(e,i){return this.remoteDocumentCache.getEntries(e,i).next((s=>this.getLocalViewOfDocuments(e,s,Be()).next((()=>s))))}getLocalViewOfDocuments(e,i,s=Be()){const l=Ba();return this.populateOverlays(e,l,i).next((()=>this.computeViews(e,i,l,s).next((c=>{let d=tu();return c.forEach(((g,y)=>{d=d.insert(g,y.overlayedDocument)})),d}))))}getOverlayedDocuments(e,i){const s=Ba();return this.populateOverlays(e,s,i).next((()=>this.computeViews(e,i,s,Be())))}populateOverlays(e,i,s){const l=[];return s.forEach((c=>{i.has(c)||l.push(c)})),this.documentOverlayCache.getOverlays(e,l).next((c=>{c.forEach(((d,g)=>{i.set(d,g)}))}))}computeViews(e,i,s,l){let c=is();const d=lu(),g=(function(){return lu()})();return i.forEach(((y,_)=>{const b=s.get(_.key);l.has(_.key)&&(b===void 0||b.mutation instanceof ea)?c=c.insert(_.key,_):b!==void 0?(d.set(_.key,b.mutation.getFieldMask()),uu(b.mutation,_,b.mutation.getFieldMask(),bt.now())):d.set(_.key,li.empty())})),this.recalculateAndSaveOverlays(e,c).next((y=>(y.forEach(((_,b)=>d.set(_,b))),i.forEach(((_,b)=>g.set(_,new UI(b,d.get(_)??null)))),g)))}recalculateAndSaveOverlays(e,i){const s=lu();let l=new Ct(((d,g)=>d-g)),c=Be();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,i).next((d=>{for(const g of d)g.keys().forEach((y=>{const _=i.get(y);if(_===null)return;let b=s.get(y)||li.empty();b=g.applyToLocalView(_,b),s.set(y,b);const A=(l.get(g.batchId)||Be()).add(y);l=l.insert(g.batchId,A)}))})).next((()=>{const d=[],g=l.getReverseIterator();for(;g.hasNext();){const y=g.getNext(),_=y.key,b=y.value,A=IE();b.forEach((V=>{if(!c.has(V)){const K=OE(i.get(V),s.get(V));K!==null&&A.set(V,K),c=c.add(V)}})),d.push(this.documentOverlayCache.saveOverlays(e,_,A))}return W.waitFor(d)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,i){return this.remoteDocumentCache.getEntries(e,i).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,i,s,l){return(function(d){return ye.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0})(i)?this.getDocumentsMatchingDocumentQuery(e,i.path):bE(i)?this.getDocumentsMatchingCollectionGroupQuery(e,i,s,l):this.getDocumentsMatchingCollectionQuery(e,i,s,l)}getNextDocuments(e,i,s,l){return this.remoteDocumentCache.getAllFromCollectionGroup(e,i,s,l).next((c=>{const d=l-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,i,s.largestBatchId,l-c.size):W.resolve(Ba());let g=fu,y=c;return d.next((_=>W.forEach(_,((b,A)=>(g<A.largestBatchId&&(g=A.largestBatchId),c.get(b)?W.resolve():this.remoteDocumentCache.getEntry(e,b).next((V=>{y=y.insert(b,V)}))))).next((()=>this.populateOverlays(e,_,c))).next((()=>this.computeViews(e,y,_,Be()))).next((b=>({batchId:g,changes:RE(b)})))))}))}getDocumentsMatchingDocumentQuery(e,i){return this.getDocument(e,new ye(i)).next((s=>{let l=tu();return s.isFoundDocument()&&(l=l.insert(s.key,s)),l}))}getDocumentsMatchingCollectionGroupQuery(e,i,s,l){const c=i.collectionGroup;let d=tu();return this.indexManager.getCollectionParents(e,c).next((g=>W.forEach(g,(y=>{const _=(function(A,V){return new Ru(V,null,A.explicitOrderBy.slice(),A.filters.slice(),A.limit,A.limitType,A.startAt,A.endAt)})(i,y.child(c));return this.getDocumentsMatchingCollectionQuery(e,_,s,l).next((b=>{b.forEach(((A,V)=>{d=d.insert(A,V)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(e,i,s,l){let c;return this.documentOverlayCache.getOverlaysForCollection(e,i.path,s.largestBatchId).next((d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,i,s,c,l)))).next((d=>{c.forEach(((y,_)=>{const b=_.getKey();d.get(b)===null&&(d=d.insert(b,Rn.newInvalidDocument(b)))}));let g=tu();return d.forEach(((y,_)=>{const b=c.get(y);b!==void 0&&uu(b.mutation,_,li.empty(),bt.now()),Lh(i,_)&&(g=g.insert(y,_))})),g}))}}class PI{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,i){return W.resolve(this.Lr.get(i))}saveBundleMetadata(e,i){return this.Lr.set(i.id,(function(l){return{id:l.id,version:l.version,createTime:mr(l.createTime)}})(i)),W.resolve()}getNamedQuery(e,i){return W.resolve(this.kr.get(i))}saveNamedQuery(e,i){return this.kr.set(i.name,(function(l){return{name:l.name,query:II(l.bundledQuery),readTime:mr(l.readTime)}})(i)),W.resolve()}}class zI{constructor(){this.overlays=new Ct(ye.comparator),this.qr=new Map}getOverlay(e,i){return W.resolve(this.overlays.get(i))}getOverlays(e,i){const s=Ba();return W.forEach(i,(l=>this.getOverlay(e,l).next((c=>{c!==null&&s.set(l,c)})))).next((()=>s))}saveOverlays(e,i,s){return s.forEach(((l,c)=>{this.St(e,i,c)})),W.resolve()}removeOverlaysForBatchId(e,i,s){const l=this.qr.get(s);return l!==void 0&&(l.forEach((c=>this.overlays=this.overlays.remove(c))),this.qr.delete(s)),W.resolve()}getOverlaysForCollection(e,i,s){const l=Ba(),c=i.length+1,d=new ye(i.child("")),g=this.overlays.getIteratorFrom(d);for(;g.hasNext();){const y=g.getNext().value,_=y.getKey();if(!i.isPrefixOf(_.path))break;_.path.length===c&&y.largestBatchId>s&&l.set(y.getKey(),y)}return W.resolve(l)}getOverlaysForCollectionGroup(e,i,s,l){let c=new Ct(((_,b)=>_-b));const d=this.overlays.getIterator();for(;d.hasNext();){const _=d.getNext().value;if(_.getKey().getCollectionGroup()===i&&_.largestBatchId>s){let b=c.get(_.largestBatchId);b===null&&(b=Ba(),c=c.insert(_.largestBatchId,b)),b.set(_.getKey(),_)}}const g=Ba(),y=c.getIterator();for(;y.hasNext()&&(y.getNext().value.forEach(((_,b)=>g.set(_,b))),!(g.size()>=l)););return W.resolve(g)}St(e,i,s){const l=this.overlays.get(s.key);if(l!==null){const d=this.qr.get(l.largestBatchId).delete(s.key);this.qr.set(l.largestBatchId,d)}this.overlays=this.overlays.insert(s.key,new iI(i,s));let c=this.qr.get(i);c===void 0&&(c=Be(),this.qr.set(i,c)),this.qr.set(i,c.add(s.key))}}class jI{constructor(){this.sessionToken=pn.EMPTY_BYTE_STRING}getSessionToken(e){return W.resolve(this.sessionToken)}setSessionToken(e,i){return this.sessionToken=i,W.resolve()}}class _g{constructor(){this.Qr=new tn(rn.$r),this.Ur=new tn(rn.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,i){const s=new rn(e,i);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(e,i){e.forEach((s=>this.addReference(s,i)))}removeReference(e,i){this.Gr(new rn(e,i))}zr(e,i){e.forEach((s=>this.removeReference(s,i)))}jr(e){const i=new ye(new _t([])),s=new rn(i,e),l=new rn(i,e+1),c=[];return this.Ur.forEachInRange([s,l],(d=>{this.Gr(d),c.push(d.key)})),c}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const i=new ye(new _t([])),s=new rn(i,e),l=new rn(i,e+1);let c=Be();return this.Ur.forEachInRange([s,l],(d=>{c=c.add(d.key)})),c}containsKey(e){const i=new rn(e,0),s=this.Qr.firstAfterOrEqual(i);return s!==null&&e.isEqual(s.key)}}class rn{constructor(e,i){this.key=e,this.Yr=i}static $r(e,i){return ye.comparator(e.key,i.key)||je(e.Yr,i.Yr)}static Kr(e,i){return je(e.Yr,i.Yr)||ye.comparator(e.key,i.key)}}class BI{constructor(e,i){this.indexManager=e,this.referenceDelegate=i,this.mutationQueue=[],this.tr=1,this.Zr=new tn(rn.$r)}checkEmpty(e){return W.resolve(this.mutationQueue.length===0)}addMutationBatch(e,i,s,l){const c=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new nI(c,i,s,l);this.mutationQueue.push(d);for(const g of l)this.Zr=this.Zr.add(new rn(g.key,c)),this.indexManager.addToCollectionParentIndex(e,g.key.path.popLast());return W.resolve(d)}lookupMutationBatch(e,i){return W.resolve(this.Xr(i))}getNextMutationBatchAfterBatchId(e,i){const s=i+1,l=this.ei(s),c=l<0?0:l;return W.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return W.resolve(this.mutationQueue.length===0?ag:this.tr-1)}getAllMutationBatches(e){return W.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){const s=new rn(i,0),l=new rn(i,Number.POSITIVE_INFINITY),c=[];return this.Zr.forEachInRange([s,l],(d=>{const g=this.Xr(d.Yr);c.push(g)})),W.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,i){let s=new tn(je);return i.forEach((l=>{const c=new rn(l,0),d=new rn(l,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([c,d],(g=>{s=s.add(g.Yr)}))})),W.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(e,i){const s=i.path,l=s.length+1;let c=s;ye.isDocumentKey(c)||(c=c.child(""));const d=new rn(new ye(c),0);let g=new tn(je);return this.Zr.forEachWhile((y=>{const _=y.key.path;return!!s.isPrefixOf(_)&&(_.length===l&&(g=g.add(y.Yr)),!0)}),d),W.resolve(this.ti(g))}ti(e){const i=[];return e.forEach((s=>{const l=this.Xr(s);l!==null&&i.push(l)})),i}removeMutationBatch(e,i){rt(this.ni(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return W.forEach(i.mutations,(l=>{const c=new rn(l.key,i.batchId);return s=s.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,l.key)})).next((()=>{this.Zr=s}))}ir(e){}containsKey(e,i){const s=new rn(i,0),l=this.Zr.firstAfterOrEqual(s);return W.resolve(i.isEqual(l&&l.key))}performConsistencyCheck(e){return this.mutationQueue.length,W.resolve()}ni(e,i){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const i=this.ei(e);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class qI{constructor(e){this.ri=e,this.docs=(function(){return new Ct(ye.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,i){const s=i.key,l=this.docs.get(s),c=l?l.size:0,d=this.ri(i);return this.docs=this.docs.insert(s,{document:i.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){const s=this.docs.get(i);return W.resolve(s?s.document.mutableCopy():Rn.newInvalidDocument(i))}getEntries(e,i){let s=is();return i.forEach((l=>{const c=this.docs.get(l);s=s.insert(l,c?c.document.mutableCopy():Rn.newInvalidDocument(l))})),W.resolve(s)}getDocumentsMatchingQuery(e,i,s,l){let c=is();const d=i.path,g=new ye(d.child("__id-9223372036854775808__")),y=this.docs.getIteratorFrom(g);for(;y.hasNext();){const{key:_,value:{document:b}}=y.getNext();if(!d.isPrefixOf(_.path))break;_.path.length>d.length+1||yR(pR(b),s)<=0||(l.has(b.key)||Lh(i,b))&&(c=c.insert(b.key,b.mutableCopy()))}return W.resolve(c)}getAllFromCollectionGroup(e,i,s,l){be(9500)}ii(e,i){return W.forEach(this.docs,(s=>i(s)))}newChangeBuffer(e){return new HI(this)}getSize(e){return W.resolve(this.size)}}class HI extends kI{constructor(e){super(),this.Nr=e}applyChanges(e){const i=[];return this.changes.forEach(((s,l)=>{l.isValidDocument()?i.push(this.Nr.addEntry(e,l)):this.Nr.removeEntry(s)})),W.waitFor(i)}getFromCache(e,i){return this.Nr.getEntry(e,i)}getAllFromCache(e,i){return this.Nr.getEntries(e,i)}}class FI{constructor(e){this.persistence=e,this.si=new $a((i=>ug(i)),cg),this.lastRemoteSnapshotVersion=we.min(),this.highestTargetId=0,this.oi=0,this._i=new _g,this.targetCount=0,this.ai=il.ur()}forEachTarget(e,i){return this.si.forEach(((s,l)=>i(l))),W.resolve()}getLastRemoteSnapshotVersion(e){return W.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return W.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),W.resolve(this.highestTargetId)}setTargetsMetadata(e,i,s){return s&&(this.lastRemoteSnapshotVersion=s),i>this.oi&&(this.oi=i),W.resolve()}Pr(e){this.si.set(e.target,e);const i=e.targetId;i>this.highestTargetId&&(this.ai=new il(i),this.highestTargetId=i),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,i){return this.Pr(i),this.targetCount+=1,W.resolve()}updateTargetData(e,i){return this.Pr(i),W.resolve()}removeTargetData(e,i){return this.si.delete(i.target),this._i.jr(i.targetId),this.targetCount-=1,W.resolve()}removeTargets(e,i,s){let l=0;const c=[];return this.si.forEach(((d,g)=>{g.sequenceNumber<=i&&s.get(g.targetId)===null&&(this.si.delete(d),c.push(this.removeMatchingKeysForTargetId(e,g.targetId)),l++)})),W.waitFor(c).next((()=>l))}getTargetCount(e){return W.resolve(this.targetCount)}getTargetData(e,i){const s=this.si.get(i)||null;return W.resolve(s)}addMatchingKeys(e,i,s){return this._i.Wr(i,s),W.resolve()}removeMatchingKeys(e,i,s){this._i.zr(i,s);const l=this.persistence.referenceDelegate,c=[];return l&&i.forEach((d=>{c.push(l.markPotentiallyOrphaned(e,d))})),W.waitFor(c)}removeMatchingKeysForTargetId(e,i){return this._i.jr(i),W.resolve()}getMatchingKeysForTargetId(e,i){const s=this._i.Hr(i);return W.resolve(s)}containsKey(e,i){return W.resolve(this._i.containsKey(i))}}class QE{constructor(e,i){this.ui={},this.overlays={},this.ci=new Oh(0),this.li=!1,this.li=!0,this.hi=new jI,this.referenceDelegate=e(this),this.Pi=new FI(this),this.indexManager=new CI,this.remoteDocumentCache=(function(l){return new qI(l)})((s=>this.referenceDelegate.Ti(s))),this.serializer=new RI(i),this.Ii=new PI(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let i=this.overlays[e.toKey()];return i||(i=new zI,this.overlays[e.toKey()]=i),i}getMutationQueue(e,i){let s=this.ui[e.toKey()];return s||(s=new BI(i,this.referenceDelegate),this.ui[e.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,i,s){ce("MemoryPersistence","Starting transaction:",e);const l=new GI(this.ci.next());return this.referenceDelegate.Ei(),s(l).next((c=>this.referenceDelegate.di(l).next((()=>c)))).toPromise().then((c=>(l.raiseOnCommittedEvent(),c)))}Ai(e,i){return W.or(Object.values(this.ui).map((s=>()=>s.containsKey(e,i))))}}class GI extends vR{constructor(e){super(),this.currentSequenceNumber=e}}class vg{constructor(e){this.persistence=e,this.Ri=new _g,this.Vi=null}static mi(e){return new vg(e)}get fi(){if(this.Vi)return this.Vi;throw be(60996)}addReference(e,i,s){return this.Ri.addReference(s,i),this.fi.delete(s.toString()),W.resolve()}removeReference(e,i,s){return this.Ri.removeReference(s,i),this.fi.add(s.toString()),W.resolve()}markPotentiallyOrphaned(e,i){return this.fi.add(i.toString()),W.resolve()}removeTarget(e,i){this.Ri.jr(i.targetId).forEach((l=>this.fi.add(l.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,i.targetId).next((l=>{l.forEach((c=>this.fi.add(c.toString())))})).next((()=>s.removeTargetData(e,i)))}Ei(){this.Vi=new Set}di(e){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return W.forEach(this.fi,(s=>{const l=ye.fromPath(s);return this.gi(e,l).next((c=>{c||i.removeEntry(l,we.min())}))})).next((()=>(this.Vi=null,i.apply(e))))}updateLimboDocument(e,i){return this.gi(e,i).next((s=>{s?this.fi.delete(i.toString()):this.fi.add(i.toString())}))}Ti(e){return 0}gi(e,i){return W.or([()=>W.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.Ai(e,i)])}}class Sh{constructor(e,i){this.persistence=e,this.pi=new $a((s=>bR(s.path)),((s,l)=>s.isEqual(l))),this.garbageCollector=VI(this,i)}static mi(e,i){return new Sh(e,i)}Ei(){}di(e){return W.resolve()}forEachTarget(e,i){return this.persistence.getTargetCache().forEachTarget(e,i)}gr(e){const i=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>i.next((l=>s+l))))}wr(e){let i=0;return this.pr(e,(s=>{i++})).next((()=>i))}pr(e,i){return W.forEach(this.pi,((s,l)=>this.br(e,s,l).next((c=>c?W.resolve():i(l)))))}removeTargets(e,i,s){return this.persistence.getTargetCache().removeTargets(e,i,s)}removeOrphanedDocuments(e,i){let s=0;const l=this.persistence.getRemoteDocumentCache(),c=l.newChangeBuffer();return l.ii(e,(d=>this.br(e,d,i).next((g=>{g||(s++,c.removeEntry(d,we.min()))})))).next((()=>c.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,i){return this.pi.set(i,e.currentSequenceNumber),W.resolve()}removeTarget(e,i){const s=i.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,i,s){return this.pi.set(s,e.currentSequenceNumber),W.resolve()}removeReference(e,i,s){return this.pi.set(s,e.currentSequenceNumber),W.resolve()}updateLimboDocument(e,i){return this.pi.set(i,e.currentSequenceNumber),W.resolve()}Ti(e){let i=e.key.toString().length;return e.isFoundDocument()&&(i+=nh(e.data.value)),i}br(e,i,s){return W.or([()=>this.persistence.Ai(e,i),()=>this.persistence.getTargetCache().containsKey(e,i),()=>{const l=this.pi.get(i);return W.resolve(l!==void 0&&l>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class Eg{constructor(e,i,s,l){this.targetId=e,this.fromCache=i,this.Es=s,this.ds=l}static As(e,i){let s=Be(),l=Be();for(const c of i.docChanges)switch(c.type){case 0:s=s.add(c.doc.key);break;case 1:l=l.add(c.doc.key)}return new Eg(e,i.fromCache,s,l)}}class QI{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class YI{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return LS()?8:ER(In())>0?6:4})()}initialize(e,i){this.ps=e,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(e,i,s,l){const c={result:null};return this.ys(e,i).next((d=>{c.result=d})).next((()=>{if(!c.result)return this.ws(e,i,l,s).next((d=>{c.result=d}))})).next((()=>{if(c.result)return;const d=new QI;return this.Ss(e,i,d).next((g=>{if(c.result=g,this.Vs)return this.bs(e,i,d,g.size)}))})).next((()=>c.result))}bs(e,i,s,l){return s.documentReadCount<this.fs?(zo()<=ze.DEBUG&&ce("QueryEngine","SDK will not create cache indexes for query:",jo(i),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),W.resolve()):(zo()<=ze.DEBUG&&ce("QueryEngine","Query:",jo(i),"scans",s.documentReadCount,"local documents and returns",l,"documents as results."),s.documentReadCount>this.gs*l?(zo()<=ze.DEBUG&&ce("QueryEngine","The SDK decides to create cache indexes for query:",jo(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,dr(i))):W.resolve())}ys(e,i){if(cv(i))return W.resolve(null);let s=dr(i);return this.indexManager.getIndexType(e,s).next((l=>l===0?null:(i.limit!==null&&l===1&&(i=Dm(i,null,"F"),s=dr(i)),this.indexManager.getDocumentsMatchingTarget(e,s).next((c=>{const d=Be(...c);return this.ps.getDocuments(e,d).next((g=>this.indexManager.getMinOffset(e,s).next((y=>{const _=this.Ds(i,g);return this.Cs(i,_,d,y.readTime)?this.ys(e,Dm(i,null,"F")):this.vs(e,_,i,y)}))))})))))}ws(e,i,s,l){return cv(i)||l.isEqual(we.min())?W.resolve(null):this.ps.getDocuments(e,s).next((c=>{const d=this.Ds(i,c);return this.Cs(i,d,s,l)?W.resolve(null):(zo()<=ze.DEBUG&&ce("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),jo(i)),this.vs(e,d,i,gR(l,fu)).next((g=>g)))}))}Ds(e,i){let s=new tn(AE(e));return i.forEach(((l,c)=>{Lh(e,c)&&(s=s.add(c))})),s}Cs(e,i,s,l){if(e.limit===null)return!1;if(s.size!==i.size)return!0;const c=e.limitType==="F"?i.last():i.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(l)>0)}Ss(e,i,s){return zo()<=ze.DEBUG&&ce("QueryEngine","Using full collection scan to execute query:",jo(i)),this.ps.getDocumentsMatchingQuery(e,i,Ys.min(),s)}vs(e,i,s,l){return this.ps.getDocumentsMatchingQuery(e,s,l).next((c=>(i.forEach((d=>{c=c.insert(d.key,d)})),c)))}}const Tg="LocalStore",KI=3e8;class XI{constructor(e,i,s,l){this.persistence=e,this.Fs=i,this.serializer=l,this.Ms=new Ct(je),this.xs=new $a((c=>ug(c)),cg),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(s)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new LI(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>e.collect(i,this.Ms)))}}function $I(r,e,i,s){return new XI(r,e,i,s)}async function YE(r,e){const i=Ie(r);return await i.persistence.runTransaction("Handle user change","readonly",(s=>{let l;return i.mutationQueue.getAllMutationBatches(s).next((c=>(l=c,i.Bs(e),i.mutationQueue.getAllMutationBatches(s)))).next((c=>{const d=[],g=[];let y=Be();for(const _ of l){d.push(_.batchId);for(const b of _.mutations)y=y.add(b.key)}for(const _ of c){g.push(_.batchId);for(const b of _.mutations)y=y.add(b.key)}return i.localDocuments.getDocuments(s,y).next((_=>({Ls:_,removedBatchIds:d,addedBatchIds:g})))}))}))}function JI(r,e){const i=Ie(r);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const l=e.batch.keys(),c=i.Ns.newChangeBuffer({trackRemovals:!0});return(function(g,y,_,b){const A=_.batch,V=A.keys();let K=W.resolve();return V.forEach((re=>{K=K.next((()=>b.getEntry(y,re))).next((se=>{const te=_.docVersions.get(re);rt(te!==null,48541),se.version.compareTo(te)<0&&(A.applyToRemoteDocument(se,_),se.isValidDocument()&&(se.setReadTime(_.commitVersion),b.addEntry(se)))}))})),K.next((()=>g.mutationQueue.removeMutationBatch(y,A)))})(i,s,e,c).next((()=>c.apply(s))).next((()=>i.mutationQueue.performConsistencyCheck(s))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(s,l,e.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(g){let y=Be();for(let _=0;_<g.mutationResults.length;++_)g.mutationResults[_].transformResults.length>0&&(y=y.add(g.batch.mutations[_].key));return y})(e)))).next((()=>i.localDocuments.getDocuments(s,l)))}))}function KE(r){const e=Ie(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>e.Pi.getLastRemoteSnapshotVersion(i)))}function ZI(r,e){const i=Ie(r),s=e.snapshotVersion;let l=i.Ms;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const d=i.Ns.newChangeBuffer({trackRemovals:!0});l=i.Ms;const g=[];e.targetChanges.forEach(((b,A)=>{const V=l.get(A);if(!V)return;g.push(i.Pi.removeMatchingKeys(c,b.removedDocuments,A).next((()=>i.Pi.addMatchingKeys(c,b.addedDocuments,A))));let K=V.withSequenceNumber(c.currentSequenceNumber);e.targetMismatches.get(A)!==null?K=K.withResumeToken(pn.EMPTY_BYTE_STRING,we.min()).withLastLimboFreeSnapshotVersion(we.min()):b.resumeToken.approximateByteSize()>0&&(K=K.withResumeToken(b.resumeToken,s)),l=l.insert(A,K),(function(se,te,de){return se.resumeToken.approximateByteSize()===0||te.snapshotVersion.toMicroseconds()-se.snapshotVersion.toMicroseconds()>=KI?!0:de.addedDocuments.size+de.modifiedDocuments.size+de.removedDocuments.size>0})(V,K,b)&&g.push(i.Pi.updateTargetData(c,K))}));let y=is(),_=Be();if(e.documentUpdates.forEach((b=>{e.resolvedLimboDocuments.has(b)&&g.push(i.persistence.referenceDelegate.updateLimboDocument(c,b))})),g.push(WI(c,d,e.documentUpdates).next((b=>{y=b.ks,_=b.qs}))),!s.isEqual(we.min())){const b=i.Pi.getLastRemoteSnapshotVersion(c).next((A=>i.Pi.setTargetsMetadata(c,c.currentSequenceNumber,s)));g.push(b)}return W.waitFor(g).next((()=>d.apply(c))).next((()=>i.localDocuments.getLocalViewOfDocuments(c,y,_))).next((()=>y))})).then((c=>(i.Ms=l,c)))}function WI(r,e,i){let s=Be(),l=Be();return i.forEach((c=>s=s.add(c))),e.getEntries(r,s).next((c=>{let d=is();return i.forEach(((g,y)=>{const _=c.get(g);y.isFoundDocument()!==_.isFoundDocument()&&(l=l.add(g)),y.isNoDocument()&&y.version.isEqual(we.min())?(e.removeEntry(g,y.readTime),d=d.insert(g,y)):!_.isValidDocument()||y.version.compareTo(_.version)>0||y.version.compareTo(_.version)===0&&_.hasPendingWrites?(e.addEntry(y),d=d.insert(g,y)):ce(Tg,"Ignoring outdated watch update for ",g,". Current version:",_.version," Watch version:",y.version)})),{ks:d,qs:l}}))}function eC(r,e){const i=Ie(r);return i.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=ag),i.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function tC(r,e){const i=Ie(r);return i.persistence.runTransaction("Allocate target","readwrite",(s=>{let l;return i.Pi.getTargetData(s,e).next((c=>c?(l=c,W.resolve(l)):i.Pi.allocateTargetId(s).next((d=>(l=new Bs(e,d,"TargetPurposeListen",s.currentSequenceNumber),i.Pi.addTargetData(s,l).next((()=>l)))))))})).then((s=>{const l=i.Ms.get(s.targetId);return(l===null||s.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(i.Ms=i.Ms.insert(s.targetId,s),i.xs.set(e,s.targetId)),s}))}async function Um(r,e,i){const s=Ie(r),l=s.Ms.get(e),c=i?"readwrite":"readwrite-primary";try{i||await s.persistence.runTransaction("Release target",c,(d=>s.persistence.referenceDelegate.removeTarget(d,l)))}catch(d){if(!cl(d))throw d;ce(Tg,`Failed to update sequence numbers for target ${e}: ${d}`)}s.Ms=s.Ms.remove(e),s.xs.delete(l.target)}function Sv(r,e,i){const s=Ie(r);let l=we.min(),c=Be();return s.persistence.runTransaction("Execute query","readwrite",(d=>(function(y,_,b){const A=Ie(y),V=A.xs.get(b);return V!==void 0?W.resolve(A.Ms.get(V)):A.Pi.getTargetData(_,b)})(s,d,dr(e)).next((g=>{if(g)return l=g.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(d,g.targetId).next((y=>{c=y}))})).next((()=>s.Fs.getDocumentsMatchingQuery(d,e,i?l:we.min(),i?c:Be()))).next((g=>(nC(s,BR(e),g),{documents:g,Qs:c})))))}function nC(r,e,i){let s=r.Os.get(e)||we.min();i.forEach(((l,c)=>{c.readTime.compareTo(s)>0&&(s=c.readTime)})),r.Os.set(e,s)}class Av{constructor(){this.activeTargetIds=YR()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class iC{constructor(){this.Mo=new Av,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,s){}addLocalQueryTarget(e,i=!0){return i&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,i,s){this.xo[e]=i}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new Av,Promise.resolve()}handleUserChange(e,i,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class rC{Oo(e){}shutdown(){}}const wv="ConnectivityMonitor";class Rv{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ce(wv,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){ce(wv,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Yc=null;function Lm(){return Yc===null?Yc=(function(){return 268435456+Math.round(2147483648*Math.random())})():Yc++,"0x"+Yc.toString(16)}const sm="RestConnection",sC={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class aC{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.Uo=i+"://"+e.host,this.Ko=`projects/${s}/databases/${l}`,this.Wo=this.databaseId.database===yh?`project_id=${s}`:`project_id=${s}&database_id=${l}`}Go(e,i,s,l,c){const d=Lm(),g=this.zo(e,i.toUriEncodedString());ce(sm,`Sending RPC '${e}' ${d}:`,g,s);const y={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(y,l,c);const{host:_}=new URL(g),b=sl(_);return this.Jo(e,g,y,s,b).then((A=>(ce(sm,`Received RPC '${e}' ${d}: `,A),A)),(A=>{throw Jo(sm,`RPC '${e}' ${d} failed with error: `,A,"url: ",g,"request:",s),A}))}Ho(e,i,s,l,c,d){return this.Go(e,i,s,l,c)}jo(e,i,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+ll})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((l,c)=>e[c]=l)),s&&s.headers.forEach(((l,c)=>e[c]=l))}zo(e,i){const s=sC[e];return`${this.Uo}/v1/${i}:${s}`}terminate(){}}class oC{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const An="WebChannelConnection";class lC extends aC{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,i,s,l,c){const d=Lm();return new Promise(((g,y)=>{const _=new J1;_.setWithCredentials(!0),_.listenOnce(Z1.COMPLETE,(()=>{try{switch(_.getLastErrorCode()){case th.NO_ERROR:const A=_.getResponseJson();ce(An,`XHR for RPC '${e}' ${d} received:`,JSON.stringify(A)),g(A);break;case th.TIMEOUT:ce(An,`RPC '${e}' ${d} timed out`),y(new he(Z.DEADLINE_EXCEEDED,"Request time out"));break;case th.HTTP_ERROR:const V=_.getStatus();if(ce(An,`RPC '${e}' ${d} failed with status:`,V,"response text:",_.getResponseText()),V>0){let K=_.getResponseJson();Array.isArray(K)&&(K=K[0]);const re=K?.error;if(re&&re.status&&re.message){const se=(function(de){const Se=de.toLowerCase().replace(/_/g,"-");return Object.values(Z).indexOf(Se)>=0?Se:Z.UNKNOWN})(re.status);y(new he(se,re.message))}else y(new he(Z.UNKNOWN,"Server responded with status "+_.getStatus()))}else y(new he(Z.UNAVAILABLE,"Connection failed."));break;default:be(9055,{l_:e,streamId:d,h_:_.getLastErrorCode(),P_:_.getLastError()})}}finally{ce(An,`RPC '${e}' ${d} completed.`)}}));const b=JSON.stringify(l);ce(An,`RPC '${e}' ${d} sending request:`,l),_.send(i,"POST",b,s,15)}))}T_(e,i,s){const l=Lm(),c=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=tE(),g=eE(),y={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},_=this.longPollingOptions.timeoutSeconds;_!==void 0&&(y.longPollingTimeout=Math.round(1e3*_)),this.useFetchStreams&&(y.useFetchStreams=!0),this.jo(y.initMessageHeaders,i,s),y.encodeInitMessageHeaders=!0;const b=c.join("");ce(An,`Creating RPC '${e}' stream ${l}: ${b}`,y);const A=d.createWebChannel(b,y);this.I_(A);let V=!1,K=!1;const re=new oC({Yo:te=>{K?ce(An,`Not sending because RPC '${e}' stream ${l} is closed:`,te):(V||(ce(An,`Opening RPC '${e}' stream ${l} transport.`),A.open(),V=!0),ce(An,`RPC '${e}' stream ${l} sending:`,te),A.send(te))},Zo:()=>A.close()}),se=(te,de,Se)=>{te.listen(de,(ve=>{try{Se(ve)}catch(Ye){setTimeout((()=>{throw Ye}),0)}}))};return se(A,eu.EventType.OPEN,(()=>{K||(ce(An,`RPC '${e}' stream ${l} transport opened.`),re.o_())})),se(A,eu.EventType.CLOSE,(()=>{K||(K=!0,ce(An,`RPC '${e}' stream ${l} transport closed`),re.a_(),this.E_(A))})),se(A,eu.EventType.ERROR,(te=>{K||(K=!0,Jo(An,`RPC '${e}' stream ${l} transport errored. Name:`,te.name,"Message:",te.message),re.a_(new he(Z.UNAVAILABLE,"The operation could not be completed")))})),se(A,eu.EventType.MESSAGE,(te=>{if(!K){const de=te.data[0];rt(!!de,16349);const Se=de,ve=Se?.error||Se[0]?.error;if(ve){ce(An,`RPC '${e}' stream ${l} received error:`,ve);const Ye=ve.status;let Fe=(function(w){const x=Xt[w];if(x!==void 0)return kE(x)})(Ye),Me=ve.message;Fe===void 0&&(Fe=Z.INTERNAL,Me="Unknown error status: "+Ye+" with message "+ve.message),K=!0,re.a_(new he(Fe,Me)),A.close()}else ce(An,`RPC '${e}' stream ${l} received:`,de),re.u_(de)}})),se(g,W1.STAT_EVENT,(te=>{te.stat===Am.PROXY?ce(An,`RPC '${e}' stream ${l} detected buffering proxy`):te.stat===Am.NOPROXY&&ce(An,`RPC '${e}' stream ${l} detected no buffering proxy`)})),setTimeout((()=>{re.__()}),0),re}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((i=>i===e))}}function am(){return typeof document<"u"?document:null}function Bh(r){return new fI(r,!0)}class XE{constructor(e,i,s=1e3,l=1.5,c=6e4){this.Mi=e,this.timerId=i,this.d_=s,this.A_=l,this.R_=c,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const i=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),l=Math.max(0,i-s);l>0&&ce("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.V_} ms, delay with jitter: ${i} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,l,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const Iv="PersistentStream";class $E{constructor(e,i,s,l,c,d,g,y){this.Mi=e,this.S_=s,this.b_=l,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=g,this.listener=y,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new XE(e,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,i){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():i&&i.code===Z.RESOURCE_EXHAUSTED?(ns(i.toString()),ns("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===Z.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(i)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,l])=>{this.D_===i&&this.G_(s,l)}),(s=>{e((()=>{const l=new he(Z.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(l)}))}))}G_(e,i){const s=this.W_(this.D_);this.stream=this.j_(e,i),this.stream.Xo((()=>{s((()=>this.listener.Xo()))})),this.stream.t_((()=>{s((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((l=>{s((()=>this.z_(l)))})),this.stream.onMessage((l=>{s((()=>++this.F_==1?this.J_(l):this.onNext(l)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return ce(Iv,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return i=>{this.Mi.enqueueAndForget((()=>this.D_===e?i():(ce(Iv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class uC extends $E{constructor(e,i,s,l,c,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,s,l,d),this.serializer=c}j_(e,i){return this.connection.T_("Listen",e,i)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const i=gI(this.serializer,e),s=(function(c){if(!("targetChange"in c))return we.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?we.min():d.readTime?mr(d.readTime):we.min()})(e);return this.listener.H_(i,s)}Y_(e){const i={};i.database=km(this.serializer),i.addTarget=(function(c,d){let g;const y=d.target;if(g=xm(y)?{documents:_I(c,y)}:{query:vI(c,y).ft},g.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){g.resumeToken=PE(c,d.resumeToken);const _=Mm(c,d.expectedCount);_!==null&&(g.expectedCount=_)}else if(d.snapshotVersion.compareTo(we.min())>0){g.readTime=bh(c,d.snapshotVersion.toTimestamp());const _=Mm(c,d.expectedCount);_!==null&&(g.expectedCount=_)}return g})(this.serializer,e);const s=TI(this.serializer,e);s&&(i.labels=s),this.q_(i)}Z_(e){const i={};i.database=km(this.serializer),i.removeTarget=e,this.q_(i)}}class cC extends $E{constructor(e,i,s,l,c,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,s,l,d),this.serializer=c}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,i){return this.connection.T_("Write",e,i)}J_(e){return rt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,rt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){rt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const i=yI(e.writeResults,e.commitTime),s=mr(e.commitTime);return this.listener.na(s,i)}ra(){const e={};e.database=km(this.serializer),this.q_(e)}ea(e){const i={streamToken:this.lastStreamToken,writes:e.map((s=>pI(this.serializer,s)))};this.q_(i)}}class hC{}class fC extends hC{constructor(e,i,s,l){super(),this.authCredentials=e,this.appCheckCredentials=i,this.connection=s,this.serializer=l,this.ia=!1}sa(){if(this.ia)throw new he(Z.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,i,s,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Go(e,Om(i,s),l,c,d))).catch((c=>{throw c.name==="FirebaseError"?(c.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new he(Z.UNKNOWN,c.toString())}))}Ho(e,i,s,l,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,g])=>this.connection.Ho(e,Om(i,s),l,d,g,c))).catch((d=>{throw d.name==="FirebaseError"?(d.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new he(Z.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class dC{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const i=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(ns(i),this.aa=!1):ce("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Ka="RemoteStore";class mC{constructor(e,i,s,l,c){this.localStore=e,this.datastore=i,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=c,this.Aa.Oo((d=>{s.enqueueAndForget((async()=>{Ja(this)&&(ce(Ka,"Restarting streams for network reachability change."),await(async function(y){const _=Ie(y);_.Ea.add(4),await xu(_),_.Ra.set("Unknown"),_.Ea.delete(4),await qh(_)})(this))}))})),this.Ra=new dC(s,l)}}async function qh(r){if(Ja(r))for(const e of r.da)await e(!0)}async function xu(r){for(const e of r.da)await e(!1)}function JE(r,e){const i=Ie(r);i.Ia.has(e.targetId)||(i.Ia.set(e.targetId,e),wg(i)?Ag(i):hl(i).O_()&&Sg(i,e))}function bg(r,e){const i=Ie(r),s=hl(i);i.Ia.delete(e),s.O_()&&ZE(i,e),i.Ia.size===0&&(s.O_()?s.L_():Ja(i)&&i.Ra.set("Unknown"))}function Sg(r,e){if(r.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(we.min())>0){const i=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(i)}hl(r).Y_(e)}function ZE(r,e){r.Va.Ue(e),hl(r).Z_(e)}function Ag(r){r.Va=new lI({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),At:e=>r.Ia.get(e)||null,ht:()=>r.datastore.serializer.databaseId}),hl(r).start(),r.Ra.ua()}function wg(r){return Ja(r)&&!hl(r).x_()&&r.Ia.size>0}function Ja(r){return Ie(r).Ea.size===0}function WE(r){r.Va=void 0}async function gC(r){r.Ra.set("Online")}async function pC(r){r.Ia.forEach(((e,i)=>{Sg(r,e)}))}async function yC(r,e){WE(r),wg(r)?(r.Ra.ha(e),Ag(r)):r.Ra.set("Unknown")}async function _C(r,e,i){if(r.Ra.set("Online"),e instanceof LE&&e.state===2&&e.cause)try{await(async function(l,c){const d=c.cause;for(const g of c.targetIds)l.Ia.has(g)&&(await l.remoteSyncer.rejectListen(g,d),l.Ia.delete(g),l.Va.removeTarget(g))})(r,e)}catch(s){ce(Ka,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await Ah(r,s)}else if(e instanceof sh?r.Va.Ze(e):e instanceof UE?r.Va.st(e):r.Va.tt(e),!i.isEqual(we.min()))try{const s=await KE(r.localStore);i.compareTo(s)>=0&&await(function(c,d){const g=c.Va.Tt(d);return g.targetChanges.forEach(((y,_)=>{if(y.resumeToken.approximateByteSize()>0){const b=c.Ia.get(_);b&&c.Ia.set(_,b.withResumeToken(y.resumeToken,d))}})),g.targetMismatches.forEach(((y,_)=>{const b=c.Ia.get(y);if(!b)return;c.Ia.set(y,b.withResumeToken(pn.EMPTY_BYTE_STRING,b.snapshotVersion)),ZE(c,y);const A=new Bs(b.target,y,_,b.sequenceNumber);Sg(c,A)})),c.remoteSyncer.applyRemoteEvent(g)})(r,i)}catch(s){ce(Ka,"Failed to raise snapshot:",s),await Ah(r,s)}}async function Ah(r,e,i){if(!cl(e))throw e;r.Ea.add(1),await xu(r),r.Ra.set("Offline"),i||(i=()=>KE(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{ce(Ka,"Retrying IndexedDB access"),await i(),r.Ea.delete(1),await qh(r)}))}function eT(r,e){return e().catch((i=>Ah(r,i,e)))}async function Hh(r){const e=Ie(r),i=Js(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:ag;for(;vC(e);)try{const l=await eC(e.localStore,s);if(l===null){e.Ta.length===0&&i.L_();break}s=l.batchId,EC(e,l)}catch(l){await Ah(e,l)}tT(e)&&nT(e)}function vC(r){return Ja(r)&&r.Ta.length<10}function EC(r,e){r.Ta.push(e);const i=Js(r);i.O_()&&i.X_&&i.ea(e.mutations)}function tT(r){return Ja(r)&&!Js(r).x_()&&r.Ta.length>0}function nT(r){Js(r).start()}async function TC(r){Js(r).ra()}async function bC(r){const e=Js(r);for(const i of r.Ta)e.ea(i.mutations)}async function SC(r,e,i){const s=r.Ta.shift(),l=gg.from(s,e,i);await eT(r,(()=>r.remoteSyncer.applySuccessfulWrite(l))),await Hh(r)}async function AC(r,e){e&&Js(r).X_&&await(async function(s,l){if((function(d){return sI(d)&&d!==Z.ABORTED})(l.code)){const c=s.Ta.shift();Js(s).B_(),await eT(s,(()=>s.remoteSyncer.rejectFailedWrite(c.batchId,l))),await Hh(s)}})(r,e),tT(r)&&nT(r)}async function Cv(r,e){const i=Ie(r);i.asyncQueue.verifyOperationInProgress(),ce(Ka,"RemoteStore received new credentials");const s=Ja(i);i.Ea.add(3),await xu(i),s&&i.Ra.set("Unknown"),await i.remoteSyncer.handleCredentialChange(e),i.Ea.delete(3),await qh(i)}async function wC(r,e){const i=Ie(r);e?(i.Ea.delete(2),await qh(i)):e||(i.Ea.add(2),await xu(i),i.Ra.set("Unknown"))}function hl(r){return r.ma||(r.ma=(function(i,s,l){const c=Ie(i);return c.sa(),new uC(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(r.datastore,r.asyncQueue,{Xo:gC.bind(null,r),t_:pC.bind(null,r),r_:yC.bind(null,r),H_:_C.bind(null,r)}),r.da.push((async e=>{e?(r.ma.B_(),wg(r)?Ag(r):r.Ra.set("Unknown")):(await r.ma.stop(),WE(r))}))),r.ma}function Js(r){return r.fa||(r.fa=(function(i,s,l){const c=Ie(i);return c.sa(),new cC(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(r.datastore,r.asyncQueue,{Xo:()=>Promise.resolve(),t_:TC.bind(null,r),r_:AC.bind(null,r),ta:bC.bind(null,r),na:SC.bind(null,r)}),r.da.push((async e=>{e?(r.fa.B_(),await Hh(r)):(await r.fa.stop(),r.Ta.length>0&&(ce(Ka,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}class Rg{constructor(e,i,s,l,c){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=s,this.op=l,this.removalCallback=c,this.deferred=new qa,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,i,s,l,c){const d=Date.now()+s,g=new Rg(e,i,d,l,c);return g.start(s),g}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new he(Z.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Ig(r,e){if(ns("AsyncQueue",`${e}: ${r}`),cl(r))return new he(Z.UNAVAILABLE,`${e}: ${r}`);throw r}class Yo{static emptySet(e){return new Yo(e.comparator)}constructor(e){this.comparator=e?(i,s)=>e(i,s)||ye.comparator(i.key,s.key):(i,s)=>ye.comparator(i.key,s.key),this.keyedMap=tu(),this.sortedSet=new Ct(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const i=this.keyedMap.get(e);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((i,s)=>(e(i),!1)))}add(e){const i=this.delete(e.key);return i.copy(i.keyedMap.insert(e.key,e),i.sortedSet.insert(e,null))}delete(e){const i=this.get(e);return i?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(i)):this}isEqual(e){if(!(e instanceof Yo)||this.size!==e.size)return!1;const i=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=s.getNext().key;if(!l.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach((i=>{e.push(i.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,i){const s=new Yo;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=i,s}}class xv{constructor(){this.ga=new Ct(ye.comparator)}track(e){const i=e.doc.key,s=this.ga.get(i);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(i,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(i,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(i,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(i):e.type===1&&s.type===2?this.ga=this.ga.insert(i,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):be(63341,{Rt:e,pa:s}):this.ga=this.ga.insert(i,e)}ya(){const e=[];return this.ga.inorderTraversal(((i,s)=>{e.push(s)})),e}}class rl{constructor(e,i,s,l,c,d,g,y,_){this.query=e,this.docs=i,this.oldDocs=s,this.docChanges=l,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=g,this.excludesMetadataChanges=y,this.hasCachedResults=_}static fromInitialDocuments(e,i,s,l,c){const d=[];return i.forEach((g=>{d.push({type:0,doc:g})})),new rl(e,i,Yo.emptySet(i),d,s,l,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Uh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const i=this.docChanges,s=e.docChanges;if(i.length!==s.length)return!1;for(let l=0;l<i.length;l++)if(i[l].type!==s[l].type||!i[l].doc.isEqual(s[l].doc))return!1;return!0}}class RC{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class IC{constructor(){this.queries=Nv(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,s){const l=Ie(i),c=l.queries;l.queries=Nv(),c.forEach(((d,g)=>{for(const y of g.Sa)y.onError(s)}))})(this,new he(Z.ABORTED,"Firestore shutting down"))}}function Nv(){return new $a((r=>SE(r)),Uh)}async function CC(r,e){const i=Ie(r);let s=3;const l=e.query;let c=i.queries.get(l);c?!c.ba()&&e.Da()&&(s=2):(c=new RC,s=e.Da()?0:1);try{switch(s){case 0:c.wa=await i.onListen(l,!0);break;case 1:c.wa=await i.onListen(l,!1);break;case 2:await i.onFirstRemoteStoreListen(l)}}catch(d){const g=Ig(d,`Initialization of query '${jo(e.query)}' failed`);return void e.onError(g)}i.queries.set(l,c),c.Sa.push(e),e.va(i.onlineState),c.wa&&e.Fa(c.wa)&&Cg(i)}async function xC(r,e){const i=Ie(r),s=e.query;let l=3;const c=i.queries.get(s);if(c){const d=c.Sa.indexOf(e);d>=0&&(c.Sa.splice(d,1),c.Sa.length===0?l=e.Da()?0:1:!c.ba()&&e.Da()&&(l=2))}switch(l){case 0:return i.queries.delete(s),i.onUnlisten(s,!0);case 1:return i.queries.delete(s),i.onUnlisten(s,!1);case 2:return i.onLastRemoteStoreUnlisten(s);default:return}}function NC(r,e){const i=Ie(r);let s=!1;for(const l of e){const c=l.query,d=i.queries.get(c);if(d){for(const g of d.Sa)g.Fa(l)&&(s=!0);d.wa=l}}s&&Cg(i)}function DC(r,e,i){const s=Ie(r),l=s.queries.get(e);if(l)for(const c of l.Sa)c.onError(i);s.queries.delete(e)}function Cg(r){r.Ca.forEach((e=>{e.next()}))}var Pm,Dv;(Dv=Pm||(Pm={})).Ma="default",Dv.Cache="cache";class MC{constructor(e,i,s){this.query=e,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const l of e.docChanges)l.type!==3&&s.push(l);e=new rl(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let i=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),i=!0):this.La(e,this.onlineState)&&(this.ka(e),i=!0),this.Na=e,i}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),i=!0),i}La(e,i){if(!e.fromCache||!this.Da())return!0;const s=i!=="Offline";return(!this.options.qa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||i==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(e){e=rl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Pm.Cache}}class iT{constructor(e){this.key=e}}class rT{constructor(e){this.key=e}}class OC{constructor(e,i){this.query=e,this.Ya=i,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Be(),this.mutatedKeys=Be(),this.eu=AE(e),this.tu=new Yo(this.eu)}get nu(){return this.Ya}ru(e,i){const s=i?i.iu:new xv,l=i?i.tu:this.tu;let c=i?i.mutatedKeys:this.mutatedKeys,d=l,g=!1;const y=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,_=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(e.inorderTraversal(((b,A)=>{const V=l.get(b),K=Lh(this.query,A)?A:null,re=!!V&&this.mutatedKeys.has(V.key),se=!!K&&(K.hasLocalMutations||this.mutatedKeys.has(K.key)&&K.hasCommittedMutations);let te=!1;V&&K?V.data.isEqual(K.data)?re!==se&&(s.track({type:3,doc:K}),te=!0):this.su(V,K)||(s.track({type:2,doc:K}),te=!0,(y&&this.eu(K,y)>0||_&&this.eu(K,_)<0)&&(g=!0)):!V&&K?(s.track({type:0,doc:K}),te=!0):V&&!K&&(s.track({type:1,doc:V}),te=!0,(y||_)&&(g=!0)),te&&(K?(d=d.add(K),c=se?c.add(b):c.delete(b)):(d=d.delete(b),c=c.delete(b)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const b=this.query.limitType==="F"?d.last():d.first();d=d.delete(b.key),c=c.delete(b.key),s.track({type:1,doc:b})}return{tu:d,iu:s,Cs:g,mutatedKeys:c}}su(e,i){return e.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(e,i,s,l){const c=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const d=e.iu.ya();d.sort(((b,A)=>(function(K,re){const se=te=>{switch(te){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return be(20277,{Rt:te})}};return se(K)-se(re)})(b.type,A.type)||this.eu(b.doc,A.doc))),this.ou(s),l=l??!1;const g=i&&!l?this._u():[],y=this.Xa.size===0&&this.current&&!l?1:0,_=y!==this.Za;return this.Za=y,d.length!==0||_?{snapshot:new rl(this.query,e.tu,c,d,e.mutatedKeys,y===0,_,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:g}:{au:g}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new xv,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((i=>this.Ya=this.Ya.add(i))),e.modifiedDocuments.forEach((i=>{})),e.removedDocuments.forEach((i=>this.Ya=this.Ya.delete(i))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Be(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))}));const i=[];return e.forEach((s=>{this.Xa.has(s)||i.push(new rT(s))})),this.Xa.forEach((s=>{e.has(s)||i.push(new iT(s))})),i}cu(e){this.Ya=e.Qs,this.Xa=Be();const i=this.ru(e.documents);return this.applyChanges(i,!0)}lu(){return rl.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const xg="SyncEngine";class VC{constructor(e,i,s){this.query=e,this.targetId=i,this.view=s}}class kC{constructor(e){this.key=e,this.hu=!1}}class UC{constructor(e,i,s,l,c,d){this.localStore=e,this.remoteStore=i,this.eventManager=s,this.sharedClientState=l,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new $a((g=>SE(g)),Uh),this.Iu=new Map,this.Eu=new Set,this.du=new Ct(ye.comparator),this.Au=new Map,this.Ru=new _g,this.Vu={},this.mu=new Map,this.fu=il.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function LC(r,e,i=!0){const s=cT(r);let l;const c=s.Tu.get(e);return c?(s.sharedClientState.addLocalQueryTarget(c.targetId),l=c.view.lu()):l=await sT(s,e,i,!0),l}async function PC(r,e){const i=cT(r);await sT(i,e,!0,!1)}async function sT(r,e,i,s){const l=await tC(r.localStore,dr(e)),c=l.targetId,d=r.sharedClientState.addLocalQueryTarget(c,i);let g;return s&&(g=await zC(r,e,c,d==="current",l.resumeToken)),r.isPrimaryClient&&i&&JE(r.remoteStore,l),g}async function zC(r,e,i,s,l){r.pu=(A,V,K)=>(async function(se,te,de,Se){let ve=te.view.ru(de);ve.Cs&&(ve=await Sv(se.localStore,te.query,!1).then((({documents:N})=>te.view.ru(N,ve))));const Ye=Se&&Se.targetChanges.get(te.targetId),Fe=Se&&Se.targetMismatches.get(te.targetId)!=null,Me=te.view.applyChanges(ve,se.isPrimaryClient,Ye,Fe);return Ov(se,te.targetId,Me.au),Me.snapshot})(r,A,V,K);const c=await Sv(r.localStore,e,!0),d=new OC(e,c.Qs),g=d.ru(c.documents),y=Cu.createSynthesizedTargetChangeForCurrentChange(i,s&&r.onlineState!=="Offline",l),_=d.applyChanges(g,r.isPrimaryClient,y);Ov(r,i,_.au);const b=new VC(e,i,d);return r.Tu.set(e,b),r.Iu.has(i)?r.Iu.get(i).push(e):r.Iu.set(i,[e]),_.snapshot}async function jC(r,e,i){const s=Ie(r),l=s.Tu.get(e),c=s.Iu.get(l.targetId);if(c.length>1)return s.Iu.set(l.targetId,c.filter((d=>!Uh(d,e)))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(l.targetId),s.sharedClientState.isActiveQueryTarget(l.targetId)||await Um(s.localStore,l.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(l.targetId),i&&bg(s.remoteStore,l.targetId),zm(s,l.targetId)})).catch(ul)):(zm(s,l.targetId),await Um(s.localStore,l.targetId,!0))}async function BC(r,e){const i=Ie(r),s=i.Tu.get(e),l=i.Iu.get(s.targetId);i.isPrimaryClient&&l.length===1&&(i.sharedClientState.removeLocalQueryTarget(s.targetId),bg(i.remoteStore,s.targetId))}async function qC(r,e,i){const s=XC(r);try{const l=await(function(d,g){const y=Ie(d),_=bt.now(),b=g.reduce(((K,re)=>K.add(re.key)),Be());let A,V;return y.persistence.runTransaction("Locally write mutations","readwrite",(K=>{let re=is(),se=Be();return y.Ns.getEntries(K,b).next((te=>{re=te,re.forEach(((de,Se)=>{Se.isValidDocument()||(se=se.add(de))}))})).next((()=>y.localDocuments.getOverlayedDocuments(K,re))).next((te=>{A=te;const de=[];for(const Se of g){const ve=eI(Se,A.get(Se.key).overlayedDocument);ve!=null&&de.push(new ea(Se.key,ve,gE(ve.value.mapValue),Ii.exists(!0)))}return y.mutationQueue.addMutationBatch(K,_,de,g)})).next((te=>{V=te;const de=te.applyToLocalDocumentSet(A,se);return y.documentOverlayCache.saveOverlays(K,te.batchId,de)}))})).then((()=>({batchId:V.batchId,changes:RE(A)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(l.batchId),(function(d,g,y){let _=d.Vu[d.currentUser.toKey()];_||(_=new Ct(je)),_=_.insert(g,y),d.Vu[d.currentUser.toKey()]=_})(s,l.batchId,i),await Nu(s,l.changes),await Hh(s.remoteStore)}catch(l){const c=Ig(l,"Failed to persist write");i.reject(c)}}async function aT(r,e){const i=Ie(r);try{const s=await ZI(i.localStore,e);e.targetChanges.forEach(((l,c)=>{const d=i.Au.get(c);d&&(rt(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?d.hu=!0:l.modifiedDocuments.size>0?rt(d.hu,14607):l.removedDocuments.size>0&&(rt(d.hu,42227),d.hu=!1))})),await Nu(i,s,e)}catch(s){await ul(s)}}function Mv(r,e,i){const s=Ie(r);if(s.isPrimaryClient&&i===0||!s.isPrimaryClient&&i===1){const l=[];s.Tu.forEach(((c,d)=>{const g=d.view.va(e);g.snapshot&&l.push(g.snapshot)})),(function(d,g){const y=Ie(d);y.onlineState=g;let _=!1;y.queries.forEach(((b,A)=>{for(const V of A.Sa)V.va(g)&&(_=!0)})),_&&Cg(y)})(s.eventManager,e),l.length&&s.Pu.H_(l),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function HC(r,e,i){const s=Ie(r);s.sharedClientState.updateQueryState(e,"rejected",i);const l=s.Au.get(e),c=l&&l.key;if(c){let d=new Ct(ye.comparator);d=d.insert(c,Rn.newNoDocument(c,we.min()));const g=Be().add(c),y=new jh(we.min(),new Map,new Ct(je),d,g);await aT(s,y),s.du=s.du.remove(c),s.Au.delete(e),Ng(s)}else await Um(s.localStore,e,!1).then((()=>zm(s,e,i))).catch(ul)}async function FC(r,e){const i=Ie(r),s=e.batch.batchId;try{const l=await JI(i.localStore,e);lT(i,s,null),oT(i,s),i.sharedClientState.updateMutationState(s,"acknowledged"),await Nu(i,l)}catch(l){await ul(l)}}async function GC(r,e,i){const s=Ie(r);try{const l=await(function(d,g){const y=Ie(d);return y.persistence.runTransaction("Reject batch","readwrite-primary",(_=>{let b;return y.mutationQueue.lookupMutationBatch(_,g).next((A=>(rt(A!==null,37113),b=A.keys(),y.mutationQueue.removeMutationBatch(_,A)))).next((()=>y.mutationQueue.performConsistencyCheck(_))).next((()=>y.documentOverlayCache.removeOverlaysForBatchId(_,b,g))).next((()=>y.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,b))).next((()=>y.localDocuments.getDocuments(_,b)))}))})(s.localStore,e);lT(s,e,i),oT(s,e),s.sharedClientState.updateMutationState(e,"rejected",i),await Nu(s,l)}catch(l){await ul(l)}}function oT(r,e){(r.mu.get(e)||[]).forEach((i=>{i.resolve()})),r.mu.delete(e)}function lT(r,e,i){const s=Ie(r);let l=s.Vu[s.currentUser.toKey()];if(l){const c=l.get(e);c&&(i?c.reject(i):c.resolve(),l=l.remove(e)),s.Vu[s.currentUser.toKey()]=l}}function zm(r,e,i=null){r.sharedClientState.removeLocalQueryTarget(e);for(const s of r.Iu.get(e))r.Tu.delete(s),i&&r.Pu.yu(s,i);r.Iu.delete(e),r.isPrimaryClient&&r.Ru.jr(e).forEach((s=>{r.Ru.containsKey(s)||uT(r,s)}))}function uT(r,e){r.Eu.delete(e.path.canonicalString());const i=r.du.get(e);i!==null&&(bg(r.remoteStore,i),r.du=r.du.remove(e),r.Au.delete(i),Ng(r))}function Ov(r,e,i){for(const s of i)s instanceof iT?(r.Ru.addReference(s.key,e),QC(r,s)):s instanceof rT?(ce(xg,"Document no longer in limbo: "+s.key),r.Ru.removeReference(s.key,e),r.Ru.containsKey(s.key)||uT(r,s.key)):be(19791,{wu:s})}function QC(r,e){const i=e.key,s=i.path.canonicalString();r.du.get(i)||r.Eu.has(s)||(ce(xg,"New document in limbo: "+i),r.Eu.add(s),Ng(r))}function Ng(r){for(;r.Eu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const e=r.Eu.values().next().value;r.Eu.delete(e);const i=new ye(_t.fromString(e)),s=r.fu.next();r.Au.set(s,new kC(i)),r.du=r.du.insert(i,s),JE(r.remoteStore,new Bs(dr(hg(i.path)),s,"TargetPurposeLimboResolution",Oh.ce))}}async function Nu(r,e,i){const s=Ie(r),l=[],c=[],d=[];s.Tu.isEmpty()||(s.Tu.forEach(((g,y)=>{d.push(s.pu(y,e,i).then((_=>{if((_||i)&&s.isPrimaryClient){const b=_?!_.fromCache:i?.targetChanges.get(y.targetId)?.current;s.sharedClientState.updateQueryState(y.targetId,b?"current":"not-current")}if(_){l.push(_);const b=Eg.As(y.targetId,_);c.push(b)}})))})),await Promise.all(d),s.Pu.H_(l),await(async function(y,_){const b=Ie(y);try{await b.persistence.runTransaction("notifyLocalViewChanges","readwrite",(A=>W.forEach(_,(V=>W.forEach(V.Es,(K=>b.persistence.referenceDelegate.addReference(A,V.targetId,K))).next((()=>W.forEach(V.ds,(K=>b.persistence.referenceDelegate.removeReference(A,V.targetId,K)))))))))}catch(A){if(!cl(A))throw A;ce(Tg,"Failed to update sequence numbers: "+A)}for(const A of _){const V=A.targetId;if(!A.fromCache){const K=b.Ms.get(V),re=K.snapshotVersion,se=K.withLastLimboFreeSnapshotVersion(re);b.Ms=b.Ms.insert(V,se)}}})(s.localStore,c))}async function YC(r,e){const i=Ie(r);if(!i.currentUser.isEqual(e)){ce(xg,"User change. New user:",e.toKey());const s=await YE(i.localStore,e);i.currentUser=e,(function(c,d){c.mu.forEach((g=>{g.forEach((y=>{y.reject(new he(Z.CANCELLED,d))}))})),c.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await Nu(i,s.Ls)}}function KC(r,e){const i=Ie(r),s=i.Au.get(e);if(s&&s.hu)return Be().add(s.key);{let l=Be();const c=i.Iu.get(e);if(!c)return l;for(const d of c){const g=i.Tu.get(d);l=l.unionWith(g.view.nu)}return l}}function cT(r){const e=Ie(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=aT.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=KC.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=HC.bind(null,e),e.Pu.H_=NC.bind(null,e.eventManager),e.Pu.yu=DC.bind(null,e.eventManager),e}function XC(r){const e=Ie(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=FC.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=GC.bind(null,e),e}class wh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Bh(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,i){return null}Mu(e,i){return null}vu(e){return $I(this.persistence,new YI,e.initialUser,this.serializer)}Cu(e){return new QE(vg.mi,this.serializer)}Du(e){return new iC}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}wh.provider={build:()=>new wh};class $C extends wh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,i){rt(this.persistence.referenceDelegate instanceof Sh,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new MI(s,e.asyncQueue,i)}Cu(e){const i=this.cacheSizeBytes!==void 0?Yn.withCacheSize(this.cacheSizeBytes):Yn.DEFAULT;return new QE((s=>Sh.mi(s,i)),this.serializer)}}class jm{async initialize(e,i){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>Mv(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=YC.bind(null,this.syncEngine),await wC(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new IC})()}createDatastore(e){const i=Bh(e.databaseInfo.databaseId),s=(function(c){return new lC(c)})(e.databaseInfo);return(function(c,d,g,y){return new fC(c,d,g,y)})(e.authCredentials,e.appCheckCredentials,s,i)}createRemoteStore(e){return(function(s,l,c,d,g){return new mC(s,l,c,d,g)})(this.localStore,this.datastore,e.asyncQueue,(i=>Mv(this.syncEngine,i,0)),(function(){return Rv.v()?new Rv:new rC})())}createSyncEngine(e,i){return(function(l,c,d,g,y,_,b){const A=new UC(l,c,d,g,y,_);return b&&(A.gu=!0),A})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const s=Ie(i);ce(Ka,"RemoteStore shutting down."),s.Ea.add(5),await xu(s),s.Aa.shutdown(),s.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}jm.provider={build:()=>new jm};class JC{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):ns("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,i){setTimeout((()=>{this.muted||e(i)}),0)}}const Zs="FirestoreClient";class ZC{constructor(e,i,s,l,c){this.authCredentials=e,this.appCheckCredentials=i,this.asyncQueue=s,this.databaseInfo=l,this.user=wn.UNAUTHENTICATED,this.clientId=sg.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(s,(async d=>{ce(Zs,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(s,(d=>(ce(Zs,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new qa;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(i){const s=Ig(i,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function om(r,e){r.asyncQueue.verifyOperationInProgress(),ce(Zs,"Initializing OfflineComponentProvider");const i=r.configuration;await e.initialize(i);let s=i.initialUser;r.setCredentialChangeListener((async l=>{s.isEqual(l)||(await YE(e.localStore,l),s=l)})),e.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=e}async function Vv(r,e){r.asyncQueue.verifyOperationInProgress();const i=await WC(r);ce(Zs,"Initializing OnlineComponentProvider"),await e.initialize(i,r.configuration),r.setCredentialChangeListener((s=>Cv(e.remoteStore,s))),r.setAppCheckTokenChangeListener(((s,l)=>Cv(e.remoteStore,l))),r._onlineComponents=e}async function WC(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){ce(Zs,"Using user provided OfflineComponentProvider");try{await om(r,r._uninitializedComponentsProvider._offline)}catch(e){const i=e;if(!(function(l){return l.name==="FirebaseError"?l.code===Z.FAILED_PRECONDITION||l.code===Z.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11})(i))throw i;Jo("Error using user provided cache. Falling back to memory cache: "+i),await om(r,new wh)}}else ce(Zs,"Using default OfflineComponentProvider"),await om(r,new $C(void 0));return r._offlineComponents}async function hT(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(ce(Zs,"Using user provided OnlineComponentProvider"),await Vv(r,r._uninitializedComponentsProvider._online)):(ce(Zs,"Using default OnlineComponentProvider"),await Vv(r,new jm))),r._onlineComponents}function ex(r){return hT(r).then((e=>e.syncEngine))}async function kv(r){const e=await hT(r),i=e.eventManager;return i.onListen=LC.bind(null,e.syncEngine),i.onUnlisten=jC.bind(null,e.syncEngine),i.onFirstRemoteStoreListen=PC.bind(null,e.syncEngine),i.onLastRemoteStoreUnlisten=BC.bind(null,e.syncEngine),i}function fT(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}const Uv=new Map;const dT="firestore.googleapis.com",Lv=!0;class Pv{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new he(Z.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=dT,this.ssl=Lv}else this.host=e.host,this.ssl=e.ssl??Lv;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=GE;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<NI)throw new he(Z.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}mR("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=fT(e.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new he(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new he(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new he(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,l){return s.timeoutSeconds===l.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Fh{constructor(e,i,s,l){this._authCredentials=e,this._appCheckCredentials=i,this._databaseId=s,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Pv({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new he(Z.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new he(Z.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Pv(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new rR;switch(s.type){case"firstParty":return new lR(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new he(Z.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const s=Uv.get(i);s&&(ce("ComponentProvider","Removing Datastore"),Uv.delete(i),s.terminate())})(this),Promise.resolve()}}function tx(r,e,i,s={}){r=fr(r,Fh);const l=sl(e),c=r._getSettings(),d={...c,emulatorOptions:r._getEmulatorOptions()},g=`${e}:${i}`;l&&(h1(`https://${g}`),f1("Firestore",!0)),c.host!==dT&&c.host!==g&&Jo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const y={...c,host:g,ssl:l,emulatorOptions:s};if(!Jr(y,d)&&(r._setSettings(y),s.mockUserToken)){let _,b;if(typeof s.mockUserToken=="string")_=s.mockUserToken,b=wn.MOCK_USER;else{_=CS(s.mockUserToken,r._app?.options.projectId);const A=s.mockUserToken.sub||s.mockUserToken.user_id;if(!A)throw new he(Z.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");b=new wn(A)}r._authCredentials=new sR(new iE(_,b))}}class fl{constructor(e,i,s){this.converter=i,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new fl(this.firestore,e,this._query)}}class qt{constructor(e,i,s){this.converter=i,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Qs(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new qt(this.firestore,e,this._key)}toJSON(){return{type:qt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,i,s){if(wu(i,qt._jsonSchema))return new qt(e,s||null,new ye(_t.fromString(i.referencePath)))}}qt._jsonSchemaVersion="firestore/documentReference/1.0",qt._jsonSchema={type:Jt("string",qt._jsonSchemaVersion),referencePath:Jt("string")};class Qs extends fl{constructor(e,i,s){super(e,i,hg(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new qt(this.firestore,null,new ye(e))}withConverter(e){return new Qs(this.firestore,e,this._path)}}function Kc(r,e,...i){if(r=gn(r),rE("collection","path",e),r instanceof Fh){const s=_t.fromString(e,...i);return $0(s),new Qs(r,null,s)}{if(!(r instanceof qt||r instanceof Qs))throw new he(Z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(_t.fromString(e,...i));return $0(s),new Qs(r.firestore,null,s)}}function Fi(r,e,...i){if(r=gn(r),arguments.length===1&&(e=sg.newId()),rE("doc","path",e),r instanceof Fh){const s=_t.fromString(e,...i);return X0(s),new qt(r,null,new ye(s))}{if(!(r instanceof qt||r instanceof Qs))throw new he(Z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(_t.fromString(e,...i));return X0(s),new qt(r.firestore,r instanceof Qs?r.converter:null,new ye(s))}}const zv="AsyncQueue";class jv{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new XE(this,"async_queue_retry"),this._c=()=>{const s=am();s&&ce(zv,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const i=am();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const i=am();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new qa;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!cl(e))throw e;ce(zv,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const i=this.ac.then((()=>(this.rc=!0,e().catch((s=>{throw this.nc=s,this.rc=!1,ns("INTERNAL UNHANDLED ERROR: ",Bv(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=i,i}enqueueAfterDelay(e,i,s){this.uc(),this.oc.indexOf(e)>-1&&(i=0);const l=Rg.createAndSchedule(this,e,i,s,(c=>this.hc(c)));return this.tc.push(l),l}uc(){this.nc&&be(47125,{Pc:Bv(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const i of this.tc)if(i.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((i,s)=>i.targetTimeMs-s.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),e!=="all"&&i.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const i=this.tc.indexOf(e);this.tc.splice(i,1)}}function Bv(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}function qv(r){return(function(i,s){if(typeof i!="object"||i===null)return!1;const l=i;for(const c of s)if(c in l&&typeof l[c]=="function")return!0;return!1})(r,["next","error","complete"])}class Xa extends Fh{constructor(e,i,s,l){super(e,i,s,l),this.type="firestore",this._queue=new jv,this._persistenceKey=l?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new jv(e),this._firestoreClient=void 0,await e}}}function nx(r,e){const i=typeof r=="object"?r:p1(),s=typeof r=="string"?r:yh,l=Xm(i,"firestore").getImmediate({identifier:s});if(!l._initialized){const c=RS("firestore");c&&tx(l,...c)}return l}function mT(r){if(r._terminated)throw new he(Z.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||ix(r),r._firestoreClient}function ix(r){const e=r._freezeSettings(),i=(function(l,c,d,g){return new wR(l,c,d,g.host,g.ssl,g.experimentalForceLongPolling,g.experimentalAutoDetectLongPolling,fT(g.experimentalLongPollingOptions),g.useFetchStreams,g.isUsingEmulator)})(r._databaseId,r._app?.options.appId||"",r._persistenceKey,e);r._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),r._firestoreClient=new ZC(r._authCredentials,r._appCheckCredentials,r._queue,i,r._componentsProvider&&(function(l){const c=l?._online.build();return{_offline:l?._offline.build(c),_online:c}})(r._componentsProvider))}class Ri{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ri(pn.fromBase64String(e))}catch(i){throw new he(Z.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new Ri(pn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Ri._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(wu(e,Ri._jsonSchema))return Ri.fromBase64String(e.bytes)}}Ri._jsonSchemaVersion="firestore/bytes/1.0",Ri._jsonSchema={type:Jt("string",Ri._jsonSchemaVersion),bytes:Jt("string")};class Gh{constructor(...e){for(let i=0;i<e.length;++i)if(e[i].length===0)throw new he(Z.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new mn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class dl{constructor(e){this._methodName=e}}class gr{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new he(Z.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new he(Z.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return je(this._lat,e._lat)||je(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:gr._jsonSchemaVersion}}static fromJSON(e){if(wu(e,gr._jsonSchema))return new gr(e.latitude,e.longitude)}}gr._jsonSchemaVersion="firestore/geoPoint/1.0",gr._jsonSchema={type:Jt("string",gr._jsonSchemaVersion),latitude:Jt("number"),longitude:Jt("number")};class pr{constructor(e){this._values=(e||[]).map((i=>i))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,l){if(s.length!==l.length)return!1;for(let c=0;c<s.length;++c)if(s[c]!==l[c])return!1;return!0})(this._values,e._values)}toJSON(){return{type:pr._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(wu(e,pr._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((i=>typeof i=="number")))return new pr(e.vectorValues);throw new he(Z.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}pr._jsonSchemaVersion="firestore/vectorValue/1.0",pr._jsonSchema={type:Jt("string",pr._jsonSchemaVersion),vectorValues:Jt("object")};const rx=/^__.*__$/;class sx{constructor(e,i,s){this.data=e,this.fieldMask=i,this.fieldTransforms=s}toMutation(e,i){return this.fieldMask!==null?new ea(e,this.data,this.fieldMask,i,this.fieldTransforms):new Iu(e,this.data,i,this.fieldTransforms)}}class gT{constructor(e,i,s){this.data=e,this.fieldMask=i,this.fieldTransforms=s}toMutation(e,i){return new ea(e,this.data,this.fieldMask,i,this.fieldTransforms)}}function pT(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw be(40011,{Ac:r})}}class Qh{constructor(e,i,s,l,c,d){this.settings=e,this.databaseId=i,this.serializer=s,this.ignoreUndefinedProperties=l,c===void 0&&this.Rc(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Qh({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const i=this.path?.child(e),s=this.Vc({path:i,fc:!1});return s.gc(e),s}yc(e){const i=this.path?.child(e),s=this.Vc({path:i,fc:!1});return s.Rc(),s}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Rh(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((i=>e.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>e.isPrefixOf(i.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(pT(this.Ac)&&rx.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class ax{constructor(e,i,s){this.databaseId=e,this.ignoreUndefinedProperties=i,this.serializer=s||Bh(e)}Cc(e,i,s,l=!1){return new Qh({Ac:e,methodName:i,Dc:s,path:mn.emptyPath(),fc:!1,bc:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Yh(r){const e=r._freezeSettings(),i=Bh(r._databaseId);return new ax(r._databaseId,!!e.ignoreUndefinedProperties,i)}function yT(r,e,i,s,l,c={}){const d=r.Cc(c.merge||c.mergeFields?2:0,e,i,l);Vg("Data must be an object, but it was:",d,s);const g=vT(s,d);let y,_;if(c.merge)y=new li(d.fieldMask),_=d.fieldTransforms;else if(c.mergeFields){const b=[];for(const A of c.mergeFields){const V=Bm(e,A,i);if(!d.contains(V))throw new he(Z.INVALID_ARGUMENT,`Field '${V}' is specified in your field mask but missing from your input data.`);TT(b,V)||b.push(V)}y=new li(b),_=d.fieldTransforms.filter((A=>y.covers(A.field)))}else y=null,_=d.fieldTransforms;return new sx(new Kn(g),y,_)}class Kh extends dl{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Kh}}function _T(r,e,i){return new Qh({Ac:3,Dc:e.settings.Dc,methodName:r._methodName,fc:i},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class Dg extends dl{_toFieldTransform(e){return new dg(e.path,new pu)}isEqual(e){return e instanceof Dg}}class Mg extends dl{constructor(e,i){super(e),this.vc=i}_toFieldTransform(e){const i=_T(this,e,!0),s=this.vc.map((c=>Za(c,i))),l=new tl(s);return new dg(e.path,l)}isEqual(e){return e instanceof Mg&&Jr(this.vc,e.vc)}}class Og extends dl{constructor(e,i){super(e),this.vc=i}_toFieldTransform(e){const i=_T(this,e,!0),s=this.vc.map((c=>Za(c,i))),l=new nl(s);return new dg(e.path,l)}isEqual(e){return e instanceof Og&&Jr(this.vc,e.vc)}}function ox(r,e,i,s){const l=r.Cc(1,e,i);Vg("Data must be an object, but it was:",l,s);const c=[],d=Kn.empty();Ws(s,((y,_)=>{const b=kg(e,y,i);_=gn(_);const A=l.yc(b);if(_ instanceof Kh)c.push(b);else{const V=Za(_,A);V!=null&&(c.push(b),d.set(b,V))}}));const g=new li(c);return new gT(d,g,l.fieldTransforms)}function lx(r,e,i,s,l,c){const d=r.Cc(1,e,i),g=[Bm(e,s,i)],y=[l];if(c.length%2!=0)throw new he(Z.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let V=0;V<c.length;V+=2)g.push(Bm(e,c[V])),y.push(c[V+1]);const _=[],b=Kn.empty();for(let V=g.length-1;V>=0;--V)if(!TT(_,g[V])){const K=g[V];let re=y[V];re=gn(re);const se=d.yc(K);if(re instanceof Kh)_.push(K);else{const te=Za(re,se);te!=null&&(_.push(K),b.set(K,te))}}const A=new li(_);return new gT(b,A,d.fieldTransforms)}function ux(r,e,i,s=!1){return Za(i,r.Cc(s?4:3,e))}function Za(r,e){if(ET(r=gn(r)))return Vg("Unsupported field value:",e,r),vT(r,e);if(r instanceof dl)return(function(s,l){if(!pT(l.Ac))throw l.Sc(`${s._methodName}() can only be used with update() and set()`);if(!l.path)throw l.Sc(`${s._methodName}() is not currently supported inside arrays`);const c=s._toFieldTransform(l);c&&l.fieldTransforms.push(c)})(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(s,l){const c=[];let d=0;for(const g of s){let y=Za(g,l.wc(d));y==null&&(y={nullValue:"NULL_VALUE"}),c.push(y),d++}return{arrayValue:{values:c}}})(r,e)}return(function(s,l){if((s=gn(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return KR(l.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const c=bt.fromDate(s);return{timestampValue:bh(l.serializer,c)}}if(s instanceof bt){const c=new bt(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:bh(l.serializer,c)}}if(s instanceof gr)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Ri)return{bytesValue:PE(l.serializer,s._byteString)};if(s instanceof qt){const c=l.databaseId,d=s.firestore._databaseId;if(!d.isEqual(c))throw l.Sc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:yg(s.firestore._databaseId||l.databaseId,s._key.path)}}if(s instanceof pr)return(function(d,g){return{mapValue:{fields:{[dE]:{stringValue:mE},[_h]:{arrayValue:{values:d.toArray().map((_=>{if(typeof _!="number")throw g.Sc("VectorValues must only contain numeric values.");return fg(g.serializer,_)}))}}}}}})(s,l);throw l.Sc(`Unsupported field value: ${Mh(s)}`)})(r,e)}function vT(r,e){const i={};return oE(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ws(r,((s,l)=>{const c=Za(l,e.mc(s));c!=null&&(i[s]=c)})),{mapValue:{fields:i}}}function ET(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof bt||r instanceof gr||r instanceof Ri||r instanceof qt||r instanceof dl||r instanceof pr)}function Vg(r,e,i){if(!ET(i)||!sE(i)){const s=Mh(i);throw s==="an object"?e.Sc(r+" a custom object"):e.Sc(r+" "+s)}}function Bm(r,e,i){if((e=gn(e))instanceof Gh)return e._internalPath;if(typeof e=="string")return kg(r,e);throw Rh("Field path arguments must be of type string or ",r,!1,void 0,i)}const cx=new RegExp("[~\\*/\\[\\]]");function kg(r,e,i){if(e.search(cx)>=0)throw Rh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,i);try{return new Gh(...e.split("."))._internalPath}catch{throw Rh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,i)}}function Rh(r,e,i,s,l){const c=s&&!s.isEmpty(),d=l!==void 0;let g=`Function ${e}() called with invalid data`;i&&(g+=" (via `toFirestore()`)"),g+=". ";let y="";return(c||d)&&(y+=" (found",c&&(y+=` in field ${s}`),d&&(y+=` in document ${l}`),y+=")"),new he(Z.INVALID_ARGUMENT,g+r+y)}function TT(r,e){return r.some((i=>i.isEqual(e)))}class bT{constructor(e,i,s,l,c){this._firestore=e,this._userDataWriter=i,this._key=s,this._document=l,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new qt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new hx(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const i=this._document.data.field(ST("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i)}}}class hx extends bT{data(){return super.data()}}function ST(r,e){return typeof e=="string"?kg(r,e):e instanceof Gh?e._internalPath:e._delegate._internalPath}function fx(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new he(Z.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Ug{}class dx extends Ug{}function Hv(r,e,...i){let s=[];e instanceof Ug&&s.push(e),s=s.concat(i),(function(c){const d=c.filter((y=>y instanceof Pg)).length,g=c.filter((y=>y instanceof Lg)).length;if(d>1||d>0&&g>0)throw new he(Z.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const l of s)r=l._apply(r);return r}class Lg extends dx{constructor(e,i,s){super(),this._field=e,this._op=i,this._value=s,this.type="where"}static _create(e,i,s){return new Lg(e,i,s)}_apply(e){const i=this._parse(e);return AT(e._query,i),new fl(e.firestore,e.converter,Nm(e._query,i))}_parse(e){const i=Yh(e.firestore);return(function(c,d,g,y,_,b,A){let V;if(_.isKeyField()){if(b==="array-contains"||b==="array-contains-any")throw new he(Z.INVALID_ARGUMENT,`Invalid Query. You can't perform '${b}' queries on documentId().`);if(b==="in"||b==="not-in"){Gv(A,b);const re=[];for(const se of A)re.push(Fv(y,c,se));V={arrayValue:{values:re}}}else V=Fv(y,c,A)}else b!=="in"&&b!=="not-in"&&b!=="array-contains-any"||Gv(A,b),V=ux(g,d,A,b==="in"||b==="not-in");return $t.create(_,b,V)})(e._query,"where",i,e.firestore._databaseId,this._field,this._op,this._value)}}class Pg extends Ug{constructor(e,i){super(),this.type=e,this._queryConstraints=i}static _create(e,i){return new Pg(e,i)}_parse(e){const i=this._queryConstraints.map((s=>s._parse(e))).filter((s=>s.getFilters().length>0));return i.length===1?i[0]:Qi.create(i,this._getOperator())}_apply(e){const i=this._parse(e);return i.getFilters().length===0?e:((function(l,c){let d=l;const g=c.getFlattenedFilters();for(const y of g)AT(d,y),d=Nm(d,y)})(e._query,i),new fl(e.firestore,e.converter,Nm(e._query,i)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function Fv(r,e,i){if(typeof(i=gn(i))=="string"){if(i==="")throw new he(Z.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!bE(e)&&i.indexOf("/")!==-1)throw new he(Z.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${i}' contains a '/' character.`);const s=e.path.child(_t.fromString(i));if(!ye.isDocumentKey(s))throw new he(Z.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return rv(r,new ye(s))}if(i instanceof qt)return rv(r,i._key);throw new he(Z.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Mh(i)}.`)}function Gv(r,e){if(!Array.isArray(r)||r.length===0)throw new he(Z.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function AT(r,e){const i=(function(l,c){for(const d of l)for(const g of d.getFlattenedFilters())if(c.indexOf(g.op)>=0)return g.op;return null})(r.filters,(function(l){switch(l){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(i!==null)throw i===e.op?new he(Z.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new he(Z.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${i.toString()}' filters.`)}class mx{convertValue(e,i="none"){switch($s(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Bt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,i);case 5:return e.stringValue;case 6:return this.convertBytes(Xs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,i);case 11:return this.convertObject(e.mapValue,i);case 10:return this.convertVectorValue(e.mapValue);default:throw be(62114,{value:e})}}convertObject(e,i){return this.convertObjectMap(e.fields,i)}convertObjectMap(e,i="none"){const s={};return Ws(e,((l,c)=>{s[l]=this.convertValue(c,i)})),s}convertVectorValue(e){const i=e.fields?.[_h].arrayValue?.values?.map((s=>Bt(s.doubleValue)));return new pr(i)}convertGeoPoint(e){return new gr(Bt(e.latitude),Bt(e.longitude))}convertArray(e,i){return(e.values||[]).map((s=>this.convertValue(s,i)))}convertServerTimestamp(e,i){switch(i){case"previous":const s=kh(e);return s==null?null:this.convertValue(s,i);case"estimate":return this.convertTimestamp(du(e));default:return null}}convertTimestamp(e){const i=Ks(e);return new bt(i.seconds,i.nanos)}convertDocumentKey(e,i){const s=_t.fromString(e);rt(FE(s),9688,{name:e});const l=new mu(s.get(1),s.get(3)),c=new ye(s.popFirst(5));return l.isEqual(i)||ns(`Document ${c} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),c}}function wT(r,e,i){let s;return s=r?r.toFirestore(e):e,s}class iu{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ha extends bT{constructor(e,i,s,l,c,d){super(e,i,s,l,d),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const i=new ah(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){const s=this._document.data.field(ST("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new he(Z.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,i={};return i.type=Ha._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}Ha._jsonSchemaVersion="firestore/documentSnapshot/1.0",Ha._jsonSchema={type:Jt("string",Ha._jsonSchemaVersion),bundleSource:Jt("string","DocumentSnapshot"),bundleName:Jt("string"),bundle:Jt("string")};class ah extends Ha{data(e={}){return super.data(e)}}class Ko{constructor(e,i,s,l){this._firestore=e,this._userDataWriter=i,this._snapshot=l,this.metadata=new iu(l.hasPendingWrites,l.fromCache),this.query=s}get docs(){const e=[];return this.forEach((i=>e.push(i))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,i){this._snapshot.docs.forEach((s=>{e.call(i,new ah(this._firestore,this._userDataWriter,s.key,s,new iu(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new he(Z.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(l,c){if(l._snapshot.oldDocs.isEmpty()){let d=0;return l._snapshot.docChanges.map((g=>{const y=new ah(l._firestore,l._userDataWriter,g.doc.key,g.doc,new iu(l._snapshot.mutatedKeys.has(g.doc.key),l._snapshot.fromCache),l.query.converter);return g.doc,{type:"added",doc:y,oldIndex:-1,newIndex:d++}}))}{let d=l._snapshot.oldDocs;return l._snapshot.docChanges.filter((g=>c||g.type!==3)).map((g=>{const y=new ah(l._firestore,l._userDataWriter,g.doc.key,g.doc,new iu(l._snapshot.mutatedKeys.has(g.doc.key),l._snapshot.fromCache),l.query.converter);let _=-1,b=-1;return g.type!==0&&(_=d.indexOf(g.doc.key),d=d.delete(g.doc.key)),g.type!==1&&(d=d.add(g.doc),b=d.indexOf(g.doc.key)),{type:gx(g.type),doc:y,oldIndex:_,newIndex:b}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new he(Z.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Ko._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=sg.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],s=[],l=[];return this.docs.forEach((c=>{c._document!==null&&(i.push(c._document),s.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),l.push(c.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function gx(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return be(61501,{type:r})}}Ko._jsonSchemaVersion="firestore/querySnapshot/1.0",Ko._jsonSchema={type:Jt("string",Ko._jsonSchemaVersion),bundleSource:Jt("string","QuerySnapshot"),bundleName:Jt("string"),bundle:Jt("string")};class RT extends mx{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ri(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new qt(this.firestore,null,i)}}function Qv(r,e,i){r=fr(r,qt);const s=fr(r.firestore,Xa),l=wT(r.converter,e);return Xh(s,[yT(Yh(s),"setDoc",r._key,l,r.converter!==null,i).toMutation(r._key,Ii.none())])}function or(r,e,i,...s){r=fr(r,qt);const l=fr(r.firestore,Xa),c=Yh(l);let d;return d=typeof(e=gn(e))=="string"||e instanceof Gh?lx(c,"updateDoc",r._key,e,i,s):ox(c,"updateDoc",r._key,e),Xh(l,[d.toMutation(r._key,Ii.exists(!0))])}function Yv(r){return Xh(fr(r.firestore,Xa),[new mg(r._key,Ii.none())])}function Kv(r,e){const i=fr(r.firestore,Xa),s=Fi(r),l=wT(r.converter,e);return Xh(i,[yT(Yh(r.firestore),"addDoc",s._key,l,r.converter!==null,{}).toMutation(s._key,Ii.exists(!1))]).then((()=>s))}function lm(r,...e){r=gn(r);let i={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||qv(e[s])||(i=e[s++]);const l={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(qv(e[s])){const y=e[s];e[s]=y.next?.bind(y),e[s+1]=y.error?.bind(y),e[s+2]=y.complete?.bind(y)}let c,d,g;if(r instanceof qt)d=fr(r.firestore,Xa),g=hg(r._key.path),c={next:y=>{e[s]&&e[s](px(d,r,y))},error:e[s+1],complete:e[s+2]};else{const y=fr(r,fl);d=fr(y.firestore,Xa),g=y._query;const _=new RT(d);c={next:b=>{e[s]&&e[s](new Ko(d,_,y,b))},error:e[s+1],complete:e[s+2]},fx(r._query)}return(function(_,b,A,V){const K=new JC(V),re=new MC(b,K,A);return _.asyncQueue.enqueueAndForget((async()=>CC(await kv(_),re))),()=>{K.Nu(),_.asyncQueue.enqueueAndForget((async()=>xC(await kv(_),re)))}})(mT(d),g,l,c)}function Xh(r,e){return(function(s,l){const c=new qa;return s.asyncQueue.enqueueAndForget((async()=>qC(await ex(s),l,c))),c.promise})(mT(r),e)}function px(r,e,i){const s=i.docs.get(e._key),l=new RT(r);return new Ha(r,l,e._key,s,new iu(i.hasPendingWrites,i.fromCache),e.converter)}function um(){return new Dg("serverTimestamp")}function cm(...r){return new Mg("arrayUnion",r)}function Xv(...r){return new Og("arrayRemove",r)}(function(e,i=!0){(function(l){ll=l})(al),$o(new Ga("firestore",((s,{instanceIdentifier:l,options:c})=>{const d=s.getProvider("app").getImmediate(),g=new Xa(new aR(s.getProvider("auth-internal")),new uR(d,s.getProvider("app-check-internal")),(function(_,b){if(!Object.prototype.hasOwnProperty.apply(_.options,["projectId"]))throw new he(Z.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new mu(_.options.projectId,b)})(d,l),d);return c={useFetchStreams:i,...c},g._setSettings(c),g}),"PUBLIC").setMultipleInstances(!0)),Fs(G0,Q0,e),Fs(G0,Q0,"esm2020")})();const yx=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),_x=r=>r.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,i,s)=>s?s.toUpperCase():i.toLowerCase()),$v=r=>{const e=_x(r);return e.charAt(0).toUpperCase()+e.slice(1)},IT=(...r)=>r.filter((e,i,s)=>!!e&&e.trim()!==""&&s.indexOf(e)===i).join(" ").trim(),vx=r=>{for(const e in r)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var Ex={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const Tx=ne.forwardRef(({color:r="currentColor",size:e=24,strokeWidth:i=2,absoluteStrokeWidth:s,className:l="",children:c,iconNode:d,...g},y)=>ne.createElement("svg",{ref:y,...Ex,width:e,height:e,stroke:r,strokeWidth:s?Number(i)*24/Number(e):i,className:IT("lucide",l),...!c&&!vx(g)&&{"aria-hidden":"true"},...g},[...d.map(([_,b])=>ne.createElement(_,b)),...Array.isArray(c)?c:[c]]));const Ue=(r,e)=>{const i=ne.forwardRef(({className:s,...l},c)=>ne.createElement(Tx,{ref:c,iconNode:e,className:IT(`lucide-${yx($v(r))}`,`lucide-${r}`,s),...l}));return i.displayName=$v(r),i};const bx=[["path",{d:"M12 6v16",key:"nqf5sj"}],["path",{d:"m19 13 2-1a9 9 0 0 1-18 0l2 1",key:"y7qv08"}],["path",{d:"M9 11h6",key:"1fldmi"}],["circle",{cx:"12",cy:"4",r:"2",key:"muu5ef"}]],Sx=Ue("anchor",bx);const Ax=[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]],hm=Ue("bot",Ax);const wx=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],fm=Ue("briefcase",wx);const Rx=[["path",{d:"M12 20v-9",key:"1qisl0"}],["path",{d:"M14 7a4 4 0 0 1 4 4v3a6 6 0 0 1-12 0v-3a4 4 0 0 1 4-4z",key:"uouzyp"}],["path",{d:"M14.12 3.88 16 2",key:"qol33r"}],["path",{d:"M21 21a4 4 0 0 0-3.81-4",key:"1b0z45"}],["path",{d:"M21 5a4 4 0 0 1-3.55 3.97",key:"5cxbf6"}],["path",{d:"M22 13h-4",key:"1jl80f"}],["path",{d:"M3 21a4 4 0 0 1 3.81-4",key:"1fjd4g"}],["path",{d:"M3 5a4 4 0 0 0 3.55 3.97",key:"1d7oge"}],["path",{d:"M6 13H2",key:"82j7cp"}],["path",{d:"m8 2 1.88 1.88",key:"fmnt4t"}],["path",{d:"M9 7.13V6a3 3 0 1 1 6 0v1.13",key:"1vgav8"}]],Ix=Ue("bug",Rx);const Cx=[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],qm=Ue("camera",Cx);const xx=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],Nx=Ue("chevron-down",xx);const Dx=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],Mx=Ue("chevron-right",Dx);const Ox=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}]],oh=Ue("circle-dot",Ox);const Vx=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],Jv=Ue("crown",Vx);const kx=[["path",{d:"M11 20H2",key:"nlcfvz"}],["path",{d:"M11 4.562v16.157a1 1 0 0 0 1.242.97L19 20V5.562a2 2 0 0 0-1.515-1.94l-4-1A2 2 0 0 0 11 4.561z",key:"au4z13"}],["path",{d:"M11 4H8a2 2 0 0 0-2 2v14",key:"74r1mk"}],["path",{d:"M14 12h.01",key:"1jfl7z"}],["path",{d:"M22 20h-3",key:"vhrsz"}]],Ux=Ue("door-open",kx);const Lx=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],Px=Ue("eye-off",Lx);const zx=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],jx=Ue("eye",zx);const Bx=[["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}],["path",{d:"M12 16.5A4.5 4.5 0 1 1 7.5 12 4.5 4.5 0 1 1 12 7.5a4.5 4.5 0 1 1 4.5 4.5 4.5 4.5 0 1 1-4.5 4.5",key:"14wa3c"}],["path",{d:"M12 7.5V9",key:"1oy5b0"}],["path",{d:"M7.5 12H9",key:"eltsq1"}],["path",{d:"M16.5 12H15",key:"vk5kw4"}],["path",{d:"M12 16.5V15",key:"k7eayi"}],["path",{d:"m8 8 1.88 1.88",key:"nxy4qf"}],["path",{d:"M14.12 9.88 16 8",key:"1lst6k"}],["path",{d:"m8 16 1.88-1.88",key:"h2eex1"}],["path",{d:"M14.12 14.12 16 16",key:"uqkrx3"}]],Xc=Ue("flower",Bx);const qx=[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]],Hx=Ue("heart",qx);const Fx=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],CT=Ue("image",Fx);const Gx=[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]],Zv=Ue("key",Gx);const Qx=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],Yx=Ue("layers",Qx);const Kx=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],Xo=Ue("map-pin",Kx);const Xx=[["path",{d:"M12 2v20",key:"t6zp3m"}],["path",{d:"m15 19-3 3-3-3",key:"11eu04"}],["path",{d:"m19 9 3 3-3 3",key:"1mg7y2"}],["path",{d:"M2 12h20",key:"9i4pu4"}],["path",{d:"m5 9-3 3 3 3",key:"j64kie"}],["path",{d:"m9 5 3-3 3 3",key:"l8vdw6"}]],$x=Ue("move",Xx);const Jx=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],Zl=Ue("package",Jx);const Zx=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Wx=Ue("plus",Zx);const eN=[["path",{d:"M16.247 7.761a6 6 0 0 1 0 8.478",key:"1fwjs5"}],["path",{d:"M19.075 4.933a10 10 0 0 1 0 14.134",key:"ehdyv1"}],["path",{d:"M4.925 19.067a10 10 0 0 1 0-14.134",key:"1q22gi"}],["path",{d:"M7.753 16.239a6 6 0 0 1 0-8.478",key:"r2q7qm"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],Wv=Ue("radio",eN);const tN=[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]],nN=Ue("rocket",tN);const iN=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M14 15H9v-5",key:"pi4jk9"}],["path",{d:"M16 3h5v5",key:"1806ms"}],["path",{d:"M21 3 9 15",key:"15kdhq"}]],rN=Ue("scaling",iN);const sN=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],aN=Ue("search",sN);const oN=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],lN=Ue("settings",oN);const uN=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]],Hm=Ue("shield-alert",uN);const cN=[["path",{d:"m12.5 17-.5-1-.5 1h1z",key:"3me087"}],["path",{d:"M15 22a1 1 0 0 0 1-1v-1a2 2 0 0 0 1.56-3.25 8 8 0 1 0-11.12 0A2 2 0 0 0 8 20v1a1 1 0 0 0 1 1z",key:"1o5pge"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}]],hN=Ue("skull",cN);const fN=[["path",{d:"M14 9.536V7a4 4 0 0 1 4-4h1.5a.5.5 0 0 1 .5.5V5a4 4 0 0 1-4 4 4 4 0 0 0-4 4c0 2 1 3 1 5a5 5 0 0 1-1 3",key:"139s4v"}],["path",{d:"M4 9a5 5 0 0 1 8 4 5 5 0 0 1-8-4",key:"1dlkgp"}],["path",{d:"M5 21h14",key:"11awu3"}]],e1=Ue("sprout",fN);const dN=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]],mN=Ue("square-plus",dN);const gN=[["path",{d:"M3.5 21 14 3",key:"1szst5"}],["path",{d:"M20.5 21 10 3",key:"1310c3"}],["path",{d:"M15.5 21 12 15l-3.5 6",key:"1ddtfw"}],["path",{d:"M2 21h20",key:"1nyx9w"}]],pN=Ue("tent",gN);const yN=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],_N=Ue("trash-2",yN);const vN=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],Ih=Ue("upload",vN);const EN=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],xT=Ue("user",EN);const TN=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],t1=Ue("users",TN);const bN=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Fm=Ue("x",bN);const SN=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],n1=Ue("zap",SN),dm=typeof globalThis<"u"&&typeof globalThis.__firebase_config<"u"?globalThis.__firebase_config:"{}";let yu={};try{yu=typeof dm=="string"?JSON.parse(dm):dm||{}}catch(r){console.warn("Failed to parse __firebase_config, falling back to empty config.",r),yu={}}const AN=!!(yu&&yu.apiKey),wN=typeof globalThis<"u"&&typeof globalThis.__disable_firebase<"u"?!!globalThis.__disable_firebase:!1;let $c=null,Yr=null,pt=null,Gm=!1;if(AN&&!wN)try{$c=g1(yu),Yr=nR($c),pt=nx($c),Gm=!!($c&&Yr&&pt)}catch(r){console.warn("Firebase init failed, running in local mode instead.",r),Gm=!1}const Hi=Gm,Qn=typeof globalThis<"u"&&typeof globalThis.__app_id<"u"?globalThis.__app_id:"default-app",Po=r=>`./maps/${r}`,lr={dam:{id:"dam",name:"",width:2e3,height:2e3,defaultUrl:Po("dam.jpg"),bgColor:"#1a1d21",gridColor:"#2a2e33"},spaceport:{id:"spaceport",name:"",width:2400,height:1600,defaultUrl:Po("spaceport.jpg"),bgColor:"#161b22",gridColor:"#1f2937"},buried:{id:"buried",name:"",width:2e3,height:2e3,defaultUrl:Po("buried.jpg"),bgColor:"#1f1a16",gridColor:"#332b25"},bluegate:{id:"bluegate",name:"",width:2400,height:1600,defaultUrl:Po("bluegate.jpg"),bgColor:"#1e293b",gridColor:"#334155"},stella:{id:"stella",name:"",width:2400,height:1600,bgColor:"#0f172a",gridColor:"#1e293b",layers:[{id:"upper",name:" ()",defaultUrl:Po("stella_upper.jpg")},{id:"lower",name:" ()",defaultUrl:Po("stella_lower.jpg")}]}},ja={containers:{label:"",color:"#f59e0b"},arc:{label:"",color:"#ef4444"},nature:{label:"",color:"#10b981"},events:{label:"",color:"#a855f7"},others:{label:"",color:"#3b82f6"}},RN={weapon_case:{id:"weapon_case",cat:"containers",label:"",icon:fm},med_bag:{id:"med_bag",cat:"containers",label:"",icon:mN},grenade_tube:{id:"grenade_tube",cat:"containers",label:"",icon:oh},ammo_crate:{id:"ammo_crate",cat:"containers",label:"",icon:Zl},backpack:{id:"backpack",cat:"containers",label:"",icon:fm},security_lockbox:{id:"security_lockbox",cat:"containers",label:"",icon:Zv},baron_husk:{id:"baron_husk",cat:"containers",label:"",icon:hN},rocketeer_husk:{id:"rocketeer_husk",cat:"containers",label:"",icon:nN},wasp_husk:{id:"wasp_husk",cat:"containers",label:"",icon:oh},arc_courier:{id:"arc_courier",cat:"containers",label:"ARC",icon:Zl},crashed_probe:{id:"crashed_probe",cat:"containers",label:"",icon:Wv},tick:{id:"tick",cat:"arc",label:"",icon:Ix},pop:{id:"pop",cat:"arc",label:"",icon:oh},fireball:{id:"fireball",cat:"arc",label:"",icon:n1},surveyor:{id:"surveyor",cat:"arc",label:"arc",icon:jx},sentinel:{id:"sentinel",cat:"arc",label:"",icon:Hm},rocketeer_arc:{id:"rocketeer_arc",cat:"arc",label:"",icon:hm},leaper:{id:"leaper",cat:"arc",label:"Leaper",icon:hm},bombardier:{id:"bombardier",cat:"arc",label:"",icon:hm},bastion:{id:"bastion",cat:"arc",label:"",icon:Hm},queen:{id:"queen",cat:"arc",label:"",icon:Jv},matriarch:{id:"matriarch",cat:"arc",label:"",icon:Jv},mushrooms:{id:"mushrooms",cat:"nature",label:"",icon:e1},great_mullein:{id:"great_mullein",cat:"nature",label:"",icon:Xc},agave:{id:"agave",cat:"nature",label:"",icon:Xc},apricot_tree:{id:"apricot_tree",cat:"nature",label:"",icon:Xc},prickly_pear:{id:"prickly_pear",cat:"nature",label:"",icon:Xc},moss:{id:"moss",cat:"nature",label:"",icon:e1},harvester:{id:"harvester",cat:"events",label:"",icon:n1},raider_cache:{id:"raider_cache",cat:"events",label:"",icon:Zl},wicker_basket:{id:"wicker_basket",cat:"events",label:"",icon:Zl},elevator:{id:"elevator",cat:"others",label:"",icon:Sx},hatch:{id:"hatch",cat:"others",label:"",icon:Ux},supply_call:{id:"supply_call",cat:"others",label:"",icon:Wv},raider_camp:{id:"raider_camp",cat:"others",label:"",icon:pN},field_depot:{id:"field_depot",cat:"others",label:"",icon:fm},player_spawn:{id:"player_spawn",cat:"others",label:"",icon:xT},quest:{id:"quest",cat:"others",label:"",icon:Xo},locked_room:{id:"locked_room",cat:"others",label:"",icon:Zv},field_crate:{id:"field_crate",cat:"others",label:"",icon:Zl},custom_pin:{id:"custom_pin",cat:"others",label:"",icon:Xo}},i1={id:"unknown",cat:"others",label:"",icon:oh},Fa={weapon_case:"/icon/weapon_case.svg",med_bag:"/icon/med_bag.svg",grenade_tube:"/icon/grenade_tube.svg",ammo_crate:"/icon/ammo_crate.svg",backpack:"/icon/backpack.svg",security_lockbox:"/icon/security_locker.svg",baron_husk:"/icon/baron_husk.svg",rocketeer_husk:"/icon/rocketeer_husk.svg",wasp_husk:"/icon/wasp_husk.svg",arc_courier:"/icon/arc_courier.svg",crashed_probe:"/icon/crashed_probe.svg",tick:"/icon/tick.svg",pop:"/icon/pop.svg",fireball:"/icon/fireball.svg",surveyor:"/icon/surveyor.svg",sentinel:"/icon/sentinel.svg",rocketeer_arc:"/icon/rocketeer.svg",leaper:"/icon/leaper.svg",bombardier:"/icon/bombardier.svg",bastion:"/icon/bastion.svg",queen:"/icon/queen.svg",matriarch:"/icon/apricot_tree.svg",mushrooms:"/icon/mushrooms.svg",great_mullein:"/icon/great_mullein.svg",agave:"/icon/agave.svg",apricot_tree:"/icon/apricot_tree.svg",prickly_pear:"/icon/prickly_pear.svg",moss:"/icon/moss.svg",harvester:"/icon/harvester.svg",raider_cache:"/icon/raider_cache.svg",wicker_basket:"/icon/wicker_basket.svg",elevator:"/icon/elevator.svg",hatch:"/icon/hatch.svg",supply_call:"/icon/supply_call_station.svg",raider_camp:"/icon/raider_camp.svg",field_depot:"/icon/field_depot.svg",player_spawn:"/icon/player_spawn.svg",quest:"/icon/quest.svg",locked_room:"/icon/locked_room.svg",field_crate:"/icon/field_crate.svg",custom_pin:"/icon/field_crate.svg"},IN="./";Object.keys(Fa).forEach(r=>{const e=Fa[r];if(typeof e=="string"&&e.startsWith("/")){const i=e.replace(/^\//,"");Fa[r]=`${IN}${i}`}});const CN=new Set(Object.values(Fa)),Wl=(r,e="")=>`data:image/svg+xml;utf8,${encodeURIComponent(`<svg xmlns="http://www.w3.org/2000/svg" width="64" height="64" viewBox="0 0 64 64"><rect width="64" height="64" rx="12" fill="${r}"/><text x="50%" y="54%" text-anchor="middle" font-size="28" fill="#0f172a" font-family="Arial, sans-serif" font-weight="700">${e}</text></svg>`)}`,xN=[{id:"preset-orange",label:"",dataUrl:Wl("#fb923c","P")},{id:"preset-blue",label:"",dataUrl:Wl("#60a5fa","P")},{id:"preset-green",label:"",dataUrl:Wl("#34d399","P")},{id:"preset-purple",label:"",dataUrl:Wl("#c084fc","P")},{id:"preset-gray",label:"",dataUrl:Wl("#9ca3af","P")}],mm=()=>Math.random().toString(36).substring(2,8).toUpperCase(),Ch=(r,e=600)=>new Promise((i,s)=>{const l=new FileReader;l.readAsDataURL(r),l.onload=c=>{const d=new Image;d.src=c.target.result,d.onload=()=>{const g=document.createElement("canvas"),y=e/d.width;g.width=e,g.height=d.height*y,g.getContext("2d").drawImage(d,0,0,g.width,g.height),i(g.toDataURL("image/jpeg",.7))},d.onerror=s},l.onerror=s}),NN=({config:r,onUpload:e})=>R.jsx("div",{className:"w-full h-full absolute top-0 left-0 flex flex-col items-center justify-center",style:{backgroundColor:r.bgColor,backgroundImage:`
        linear-gradient(${r.gridColor} 1px, transparent 1px),
        linear-gradient(90deg, ${r.gridColor} 1px, transparent 1px)
      `,backgroundSize:"100px 100px"},children:R.jsxs("div",{className:"text-center p-6 bg-black/50 backdrop-blur rounded-xl border border-gray-700",children:[R.jsx(CT,{size:48,className:"mx-auto text-gray-500 mb-4"}),R.jsx("p",{className:"text-gray-300 font-bold mb-2",children:"NO MAP IMAGE"}),R.jsx("p",{className:"text-gray-500 text-sm mb-4 max-w-xs",children:""}),R.jsxs("button",{onClick:e,className:"bg-orange-600 hover:bg-orange-500 text-white px-4 py-2 rounded flex items-center gap-2 mx-auto transition-colors",children:[R.jsx(Ih,{size:16}),""]})]})}),DN=({pin:r,markerDef:e,onClose:i,onUpdateImage:s,onUpdateIcon:l,onUpdateNote:c,onDelete:d,onMark:g})=>{const y=ne.useRef(null),_=ne.useRef(null),b=ja[e.cat]||ja.others,[A,V]=ne.useState(r.note||""),K=async se=>{const te=se.target.files[0];if(te)try{const de=await Ch(te);s(r.id,de)}catch(de){console.error("Image upload failed",de),alert("")}},re=async se=>{const te=se.target.files[0];if(!(!te||!l))try{const de=await Ch(te,128);l(r.id,de)}catch(de){console.error("Icon upload failed",de),alert("")}};return R.jsxs("div",{className:"absolute z-[100] bg-gray-900 text-white rounded-lg shadow-2xl border border-gray-700 w-72 overflow-hidden",style:{top:"50%",left:"50%",transform:"translate(-50%, -50%)"},onClick:se=>se.stopPropagation(),children:[R.jsxs("div",{className:"relative h-40 bg-gray-800 flex items-center justify-center overflow-hidden group",children:[r.imageUrl?R.jsx("img",{src:r.imageUrl,alt:"Pin Attachment",className:"w-full h-full object-cover"}):R.jsxs("div",{className:"flex flex-col items-center text-gray-500",children:[R.jsx(qm,{size:32,className:"mb-2 opacity-50"}),R.jsx("span",{className:"text-xs",children:"No Image"})]}),R.jsx("div",{className:"absolute inset-0 bg-black/60 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center cursor-pointer",onClick:()=>y.current?.click(),children:R.jsxs("div",{className:"text-center",children:[R.jsx(Ih,{className:"mx-auto mb-1 text-white",size:24}),R.jsx("span",{className:"text-xs font-bold text-white",children:"/"})]})}),R.jsx("input",{type:"file",ref:y,className:"hidden",accept:"image/*",onChange:K}),R.jsx("input",{type:"file",ref:_,className:"hidden",accept:"image/*",onChange:re})]}),R.jsxs("div",{className:"p-4",children:[R.jsxs("div",{className:"flex justify-between items-start mb-2",children:[R.jsxs("div",{children:[R.jsxs("div",{className:"flex items-center gap-2 text-orange-400 text-xs font-bold uppercase mb-0.5",children:[R.jsx(e.icon,{size:12,color:b.color}),b.label]}),R.jsx("h3",{className:"text-lg font-bold leading-tight",children:e.label})]}),R.jsx("button",{onClick:i,className:"text-gray-400 hover:text-white",children:R.jsx(Fm,{size:20})})]}),R.jsxs("div",{className:"text-xs text-gray-500 mb-4",children:[": ",R.jsx("span",{className:"text-gray-300 font-semibold",children:r.createdByName||""})," ",R.jsxs("span",{className:"ml-2 text-gray-600",children:["ID: ",r.id.slice(0,6),""]})]}),R.jsxs("div",{className:"flex flex-col gap-2 mb-3",children:[R.jsx("label",{className:"text-[10px] text-gray-400",children:""}),R.jsx("textarea",{value:A,onChange:se=>V(se.target.value),className:"w-full h-20 bg-gray-800 border border-gray-700 rounded px-2 py-1 text-xs text-gray-200",placeholder:""}),R.jsx("div",{className:"flex justify-end",children:R.jsx("button",{onClick:()=>c?.(r.id,A),className:"text-xs px-2 py-1 rounded bg-gray-800 border border-gray-700 hover:bg-gray-700 text-gray-200",children:""})})]}),R.jsxs("div",{className:"flex gap-2 mb-2",children:[R.jsxs("button",{onClick:()=>_.current?.click(),className:"flex-1 bg-gray-700 hover:bg-gray-600 text-white text-xs font-bold py-2 rounded transition-colors flex items-center justify-center gap-2",children:[R.jsx(qm,{size:14}),""]}),R.jsxs("button",{onClick:()=>y.current?.click(),className:"flex-1 bg-gray-700 hover:bg-gray-600 text-white text-xs font-bold py-2 rounded transition-colors flex items-center justify-center gap-2",children:[R.jsx(Ih,{size:14}),""]})]}),R.jsxs("div",{className:"flex gap-2",children:[R.jsxs("button",{onClick:()=>g?.(r.id),className:"flex-1 bg-gray-700 hover:bg-gray-600 text-white text-xs font-bold py-2 rounded transition-colors flex items-center justify-center gap-2",children:[R.jsx(Xo,{size:14}),""]}),R.jsx("button",{onClick:()=>d(r.id),className:"bg-red-900/50 hover:bg-red-900 text-red-200 p-2 rounded transition-colors",title:"",children:R.jsx(_N,{size:16})})]})]})]})},gm="tactical_last_shared_room";function MN(){const[r,e]=ne.useState(null),i=(()=>{try{return localStorage.getItem(gm)||""}catch{return""}})(),[s,l]=ne.useState(null),[c,d]=ne.useState("dam"),[g,y]=ne.useState(null),[_,b]=ne.useState({}),[A,V]=ne.useState([]),[K,re]=ne.useState([]),[se,te]=ne.useState(null),[de,Se]=ne.useState([]),[ve,Ye]=ne.useState({}),[Fe,Me]=ne.useState({}),[N,w]=ne.useState([]),[x,k]=ne.useState(null),[O,P]=ne.useState(!1),[I,yt]=ne.useState(null),[wt,Q]=ne.useState(""),[oe,ge]=ne.useState(null),[Oe,Ke]=ne.useState([]),[D,$]=ne.useState(""),[le,ue]=ne.useState(!1),[Ee,Ce]=ne.useState([]),[qe,Ht]=ne.useState(""),[vt,ss]=ne.useState(""),[ta,na]=ne.useState("#7dd3fc"),[ia,Ci]=ne.useState(""),[ra,Xn]=ne.useState(""),[as,kn]=ne.useState(""),[it,ft]=ne.useState("move"),[xt,sa]=ne.useState({x:0,y:0,scale:.4}),[aa,sn]=ne.useState(1),[_r,vr]=ne.useState(!1),[Er,xi]=ne.useState(!1),[Wa,eo]=ne.useState({x:0,y:0}),[to,oa]=ne.useState(!1),[Vt,Ft]=ne.useState(""),[Zt,ot]=ne.useState("local"),[Tr,Cn]=ne.useState(i||""),[la,an]=ne.useState(!1),[br,dt]=ne.useState(!1),[Ni,Un]=ne.useState(!1),[lt,ui]=ne.useState("default"),[ua,$n]=ne.useState(""),[Yi,no]=ne.useState(""),[Di,Sr]=ne.useState({}),[ca,ci]=ne.useState({}),[mt,os]=ne.useState(null),[hi,xn]=ne.useState(!1),Je=ne.useMemo(()=>pt&&s?Fi(pt,"artifacts",Qn,"public","data","rooms",s):null,[pt,s]),kt=mt?.pending||[],yn=ne.useMemo(()=>kt.map(S=>typeof S=="string"?{uid:S,name:S}:{uid:S?.uid,name:S?.name||S?.uid||"guest"}),[kt]),Ar=ne.useMemo(()=>!!(r&&yn.find(S=>S.uid===r.uid)),[r,yn]),Ze=Zt==="shared"&&s?"shared":"local",Mi=ne.useMemo(()=>!!(r&&mt&&mt.ownerUid===r.uid),[r,mt]),ha=mt?.allowedUsers||[],on=ne.useMemo(()=>Ze!=="shared"?!0:s?!mt||!r||mt.ownerUid===r.uid?!0:ha.includes(r.uid):!1,[Ze,s,r,mt,ha]),Ln=Ze==="shared"?A:K,ln=(S,L=Ze)=>{L==="shared"?V(G=>typeof S=="function"?S(G):S):re(G=>typeof S=="function"?S(G):S)},Rt=ne.useMemo(()=>Hi&&!!s&&on,[s,on]),[_n,fi]=ne.useState({containers:!0,arc:!0,others:!0,nature:!0,events:!0}),[It,fa]=ne.useState("");Fe.custom_pin,ne.useMemo(()=>{const S={...ja};return Ee.forEach(L=>{S[L.id]={label:L.label,color:L.color||"#6b7280"}}),S},[Ee]);const Nn=ne.useMemo(()=>{const S={...RN};return N.forEach(L=>{S[L.id]={...L,icon:Xo}}),S},[N]);ne.useEffect(()=>{if(Ze!=="shared"){Xn("");return}if(Mi){Xn("");return}Xn(!on&&Ar?"":on?"":"")},[Ze,Mi,on,Ar]);const Jn=[...Oe,...xN],Zn=S=>ve[S]!==!1,da=ne.useMemo(()=>{const S={};return Ln.forEach(L=>{L.mapId!==c||lr[c].layers&&L.layerId!==g||(S[L.type]=(S[L.type]||0)+1)}),S},[Ln,c,g]),ls=ne.useRef(null),us=ne.useRef(null),ma=ne.useRef(null),wr=ne.useRef(null),vn=ne.useRef(null);ne.useEffect(()=>{const S=localStorage.getItem("tactical_display_name");S&&Ft(S)},[]),ne.useEffect(()=>{!D&&Object.keys(Nn).length>0&&$(Object.keys(Nn)[0])},[Nn,D]),ne.useEffect(()=>{Vt&&localStorage.setItem("tactical_display_name",Vt)},[Vt]),ne.useEffect(()=>{const S=localStorage.getItem("tactical_custom_markers");if(S)try{const L=JSON.parse(S);Array.isArray(L)&&w(L)}catch(L){console.warn("Failed to parse stored custom markers",L)}},[]),ne.useEffect(()=>{localStorage.setItem("tactical_custom_markers",JSON.stringify(N||[]))},[N]),ne.useEffect(()=>{if(!de.length)return;const S=new Set(Ln.map(L=>L.id));Se(L=>L.filter(G=>S.has(G)))},[Ln,de]),ne.useEffect(()=>{const S=localStorage.getItem("tactical_user_icon_library");if(S)try{const L=JSON.parse(S);Array.isArray(L)&&Ke(L)}catch(L){console.warn("Failed to parse stored icon library",L)}},[]),ne.useEffect(()=>{localStorage.setItem("tactical_user_icon_library",JSON.stringify(Oe||[]))},[Oe]),ne.useEffect(()=>{const S=localStorage.getItem("tactical_marker_icons");if(S)try{const L=JSON.parse(S);if(L&&typeof L=="object"){const G={...Fa};Object.entries(L).forEach(([ee,ie])=>{if(!ie)return;const Te=typeof ie=="string"&&ie.startsWith("data:"),et=typeof ie=="string"&&ie.startsWith("http"),jn=typeof ie=="string"&&CN.has(ie);ie.startsWith("/icon/")&&!jn||(Te||et||jn)&&(G[ee]=ie)}),Me(G);return}}catch(L){console.warn("Failed to parse stored marker icons",L)}Me(Fa)},[]),ne.useEffect(()=>{localStorage.setItem("tactical_marker_icons",JSON.stringify(Fe||{}))},[Fe]),ne.useEffect(()=>{if((async()=>{if(!Hi){e({uid:"local-demo"});return}try{typeof __initial_auth_token<"u"&&__initial_auth_token?await q2(Yr,__initial_auth_token):await V0(Yr)}catch(G){console.error("Auth error:",G)}})(),!Hi)return;const L=G2(Yr,e);return()=>L()},[]),ne.useEffect(()=>{const S=new URLSearchParams(window.location.search),L=S.get("room"),G=S.get("map"),ee=S.get("profile");if(L){l(L),ot("shared"),Un(!1),Cn(L),an(!0);try{localStorage.setItem(gm,L)}catch{}}G&&lr[G]&&d(G),ee&&ui(ee);const ie=localStorage.getItem("tactical_local_pins");if(ie)try{const et=JSON.parse(ie);Array.isArray(et)&&re(et)}catch(et){console.warn("Failed to parse local pins",et)}const Te=localStorage.getItem("tactical_local_map_meta");if(Te)try{const et=JSON.parse(Te);et&&typeof et=="object"&&Sr(et)}catch(et){console.warn("Failed to parse local map meta",et)}},[]),ne.useEffect(()=>{if(!Hi||!s||!pt){os(null);return}if(xn(!0),!Je)return;const S=lm(Je,L=>{os(L.exists()?L.data():null),xn(!1)},L=>{console.error("Room info subscribe error",L),xn(!1)});return()=>S()},[s,Hi,pt,Je]),ne.useEffect(()=>{(async()=>{if(!(!Hi||!s||!pt||!r))try{if(!mt){await Qv(Je,{ownerUid:r.uid,allowedUsers:[r.uid],pending:[],createdAt:um()});return}mt.ownerUid===r.uid&&(mt.allowedUsers?.includes(r.uid)||await or(Je,{allowedUsers:cm(r.uid)}))}catch(L){console.error("Ensure room failed",L)}})()},[s,pt,r,mt,Hi]),ne.useEffect(()=>{(async()=>{if(!Hi||!s||!pt||!r||!mt||mt.ownerUid===r.uid)return;const L=mt.allowedUsers?.includes(r.uid),ee=(mt.pending||[]).some(ie=>typeof ie=="string"?ie===r.uid:ie?.uid===r.uid);if(!L&&!ee)try{await or(Je,{pending:cm({uid:r.uid,name:Vt||"guest"})})}catch(ie){console.error("Add pending failed",ie)}})()},[s,pt,r,mt,Hi,Vt]),ne.useEffect(()=>{const S=lr[c];S.layers&&S.layers.length>0?y(S.layers[0].id):y(null),ro();const L=new URLSearchParams(window.location.search);L.set("map",c),L.set("profile",lt),s?L.set("room",s):L.delete("room");const G=`${window.location.pathname}?${L.toString()}`;window.history.replaceState({},"",G)},[c,lt,s]),ne.useEffect(()=>{const S=new URLSearchParams(window.location.search);S.set("map",c),S.set("profile",lt),s&&S.set("room",s);const L=`${window.location.pathname}?${S.toString()}`;window.history.replaceState({},"",L)},[lt]),ne.useEffect(()=>{localStorage.setItem("tactical_local_pins",JSON.stringify(K||[]))},[K]),ne.useEffect(()=>{localStorage.setItem("tactical_local_map_meta",JSON.stringify(Di||{}))},[Di]),ne.useEffect(()=>{if(!Rt||Ze!=="shared"||!Yr||!pt||!r)return;const S=`${s}_pins`,L=Hv(Kc(pt,"artifacts",Qn,"public","data",S)),G=lm(L,ee=>{const ie=ee.docs.map(Te=>({id:Te.id,...Te.data()}));V(ie)},ee=>console.error(ee));return()=>G()},[r,s]),ne.useEffect(()=>{if(!Rt||Ze!=="shared"||!Yr||!pt||!r)return;const S=`${s}_mapmeta`,L=Hv(Kc(pt,"artifacts",Qn,"public","data",S)),G=lm(L,ee=>{const ie={};ee.docs.forEach(Te=>{ie[Te.id]=Te.data()}),ci(ie)},ee=>console.error(ee));return()=>G()},[r,s,Ze,Rt]);const Nt=S=>{const L=S.target.files[0];if(!L)return;const G=URL.createObjectURL(L),ee=g?`${c}_${g}`:c;b(ie=>({...ie,[ee]:G}))},Ut=()=>ma.current?.click(),Ki=async S=>{const L=S.target.files?.[0];if(!(!L||!x))try{const G=await Ch(L,128);Me(ee=>({...ee,[x]:G})),Qe(G)}catch(G){console.error("Icon upload failed",G),alert("Icon image could not be loaded.")}finally{S.target.value="",k(null)}},ga=(S="custom_pin")=>{k(S),wr.current?.click()},Qe=S=>{S&&Ke(L=>{if(L.some(ee=>ee.dataUrl===S))return L;const G=`user_${L.length+1}_${Date.now().toString(36)}`;return[...L,{id:G,label:"My Icon",dataUrl:S}]})},Rr=async S=>{const L=Fa[S];if(L){if(ue(!0),Me(G=>({...G,[S]:L})),ln(G=>G.map(ee=>ee.type===S?{...ee,iconUrl:L}:ee)),Rt&&s){const G=`${s}_pins`,ee=Ln.filter(ie=>ie.type===S);await Promise.allSettled(ee.map(ie=>or(Fi(pt,"artifacts",Qn,"public","data",G,ie.id),{iconUrl:L})))}ue(!1)}},di=S=>{yt(S),Q(""),ge(Fe.custom_pin||Jn[0]?.dataUrl||null),P(!0)},Ir=async S=>{const L=S.target.files?.[0];if(L)try{const G=await Ch(L,128);ge(G),Qe(G)}catch(G){console.error("Marker icon upload failed",G),alert("")}finally{S.target.value=""}},En=()=>{if(!wt.trim()||!I){alert("");return}const S=`custom_${Date.now().toString(36)}`,L={id:S,label:wt.trim(),cat:I};w(G=>[...G,L]),oe&&Me(G=>({...G,[S]:oe})),ft(S),P(!1)},Cr=(S,L)=>{const G=Math.min(Math.max(.2,S),5),ee=L?.x??window.innerWidth/2,ie=L?.y??window.innerHeight/2,Te=(ee-xt.x)/xt.scale,et=(ie-xt.y)/xt.scale,jn=ee-Te*G,bn=ie-et*G;sa({x:jn,y:bn,scale:G})},pa=S=>{S.preventDefault(),S.stopPropagation(),(S.ctrlKey||S.metaKey)&&S.preventDefault();const G=xt.scale-S.deltaY*.001;Cr(G,{x:S.clientX,y:S.clientY})};ne.useEffect(()=>{const S=us.current;if(S)return S.addEventListener("wheel",pa,{passive:!1}),()=>S.removeEventListener("wheel",pa)});const ya=S=>{(S.button===1||it==="move")&&(xi(!0),eo({x:S.clientX-xt.x,y:S.clientY-xt.y}))},Xi=S=>{Er&&sa(L=>({...L,x:S.clientX-Wa.x,y:S.clientY-Wa.y}))},_a=()=>xi(!1),$i=async S=>{if(Er)return;if(Ze==="shared"&&(!r||!s)){if(Hi&&Yr)try{await V0(Yr)}catch(Te){console.error("Auth retry failed",Te)}alert("Room");return}if(se){te(null);return}if(it==="move")return;const L=ls.current.getBoundingClientRect(),G=(S.clientX-L.left)/xt.scale,ee=(S.clientY-L.top)/xt.scale,ie=lr[c];if(!(G<0||ee<0||G>ie.width||ee>ie.height)){if(!Rt||Ze==="local"){const Te=`local-${Date.now()}-${Math.random().toString(36).slice(2,8)}`;ln(et=>[...et,{id:Te,mapId:c,layerId:g,x:G,y:ee,type:it,iconUrl:Fe[it]||void 0,profileId:lt,note:"",createdAt:new Date,createdBy:r?.uid||"local",createdByName:Vt||""}]),te(Te),ft("move");return}if(s)try{const Te=`${s}_pins`,et=await Kv(Kc(pt,"artifacts",Qn,"public","data",Te),{mapId:c,layerId:g,x:G,y:ee,type:it,iconUrl:Fe[it]||void 0,profileId:lt,note:"",createdAt:um(),createdBy:r.uid,createdByName:Vt||""});te(et.id),ft("move")}catch(Te){console.error("Error adding pin:",Te)}}},Tn=(S,L)=>{S.stopPropagation(),te(G=>G===L?null:L)},io=async S=>{if(!r&&Ze==="shared")return;if(!Rt||Ze==="local"){ln(G=>G.filter(ee=>ee.id!==S)),se===S&&te(null),Se(G=>G.filter(ee=>ee!==S));return}const L=`${s}_pins`;try{await Yv(Fi(pt,"artifacts",Qn,"public","data",L,S)),se===S&&te(null),Se(G=>G.filter(ee=>ee!==S))}catch(G){console.error(G)}},va=async(S,L)=>{if(!r&&Ze==="shared")return;if(!Rt||Ze==="local"){ln(ee=>ee.map(ie=>ie.id===S?{...ie,imageUrl:L}:ie));return}if(!s)return;const G=`${s}_pins`;try{await or(Fi(pt,"artifacts",Qn,"public","data",G,S),{imageUrl:L})}catch(ee){console.error(ee)}},Ea=async(S,L)=>{if(!r&&Ze==="shared")return;if(Qe(L),!Rt||Ze==="local"){ln(ee=>ee.map(ie=>ie.id===S?{...ie,iconUrl:L}:ie));return}if(!s)return;const G=`${s}_pins`;try{await or(Fi(pt,"artifacts",Qn,"public","data",G,S),{iconUrl:L})}catch(ee){console.error(ee)}},cs=async(S,L)=>{if(!r&&Ze==="shared")return;if(!Rt||Ze==="local"){ln(ee=>ee.map(ie=>ie.id===S?{...ie,note:L}:ie));return}if(!s)return;const G=`${s}_pins`;try{await or(Fi(pt,"artifacts",Qn,"public","data",G,S),{note:L})}catch(ee){console.error(ee)}},ro=()=>{const S=window.innerWidth,L=window.innerHeight,G=lr[c];sa({x:S/2-G.width*.4/2,y:L/2-G.height*.4/2,scale:.4})},Ji=Ln.filter(S=>!(S.mapId!==c||(S.profileId||"default")!==lt||lr[c].layers&&S.layerId!==g||!Zn(S.type))),hs=S=>{fi(L=>({...L,[S]:!L[S]}))},Wn=()=>{const S={};Object.keys(Nn).forEach(L=>{S[L]=!0}),Ye(S)},Ta=()=>{const S={};Object.keys(Nn).forEach(L=>{S[L]=!1}),Ye(S)},Dn=Ze==="shared"?ca:Di,Pn=Dn[c]||{title:"",note:"",profiles:["default"]},Dt=Pn.profiles&&Pn.profiles.length>0?Pn.profiles:["default"],Oi=(S,L)=>{Ze==="shared"?ci(G=>typeof L=="function"?L(G):L):Sr(G=>typeof L=="function"?L(G):L)};ne.useEffect(()=>{Dt.includes(lt)||ui(Dt[0]||"default")},[c,Dt]);const xr=S=>{const L=(S||"").trim();if(!L)return;const G=Array.from(new Set([...Dt,L]));Oi(c,ee=>{const ie=ee[c]||{};return{...ee,[c]:{...ie,profiles:G}}}),Vi(c,{profiles:G}),ui(L)},Zi=async S=>{const L=(S||"").trim();if(!L||L===lt)return;if(Dt.includes(L)){ui(L);return}const G=Dt.map(ee=>ee===lt?L:ee);if(Oi(c,ee=>{const ie=ee[c]||{};return{...ee,[c]:{...ie,profiles:G}}}),Vi(c,{profiles:G}),Ze==="local")re(ee=>ee.map(ie=>ie.mapId===c&&(ie.profileId||"default")===lt?{...ie,profileId:L}:ie));else{const ee=A.filter(Te=>Te.mapId===c&&(Te.profileId||"default")===lt),ie=`${s}_pins`;await Promise.allSettled(ee.map(Te=>or(Fi(pt,"artifacts",Qn,"public","data",ie,Te.id),{profileId:L})))}ui(L)},Lt=lr[c];let Mn=Lt.defaultUrl,Wi=c;if(Lt.layers&&g){const S=Lt.layers.find(L=>L.id===g);S&&(Mn=S.defaultUrl),Wi=`${c}_${g}`}const We=_[Wi]||Mn,[mi,fs]=ne.useState(!1);ne.useEffect(()=>fs(!1),[c,g,_]);const zn=(S,L={})=>{const{creator:G=!1}=L;l(S),ot(S?"shared":"local"),Un(!!S&&G),Cn(S||"");try{S&&localStorage.setItem(gm,S)}catch{}te(null),S||(V([]),ci({}),os(null));const ee=new URLSearchParams(window.location.search);S?ee.set("room",S):ee.delete("room"),ee.set("map",c),ee.set("profile",lt);const ie=`${window.location.pathname}${ee.toString()?`?${ee.toString()}`:""}`;window.history.replaceState({},"",ie)},Vi=async(S,L)=>{const ee={...Dn[S]||{},...L,updatedAt:Date.now(),updatedBy:r?.uid||"local",updatedByName:Vt||""};if(Ze==="shared"){if(!Rt||!s||!r||!pt)return;const ie=`${s}_mapmeta`;try{await or(Fi(pt,"artifacts",Qn,"public","data",ie,S),ee).catch(async Te=>{if(Te.code==="not-found"||String(Te).includes("No document"))await Qv(Fi(pt,"artifacts",Qn,"public","data",ie,S),ee);else throw Te}),ci(Te=>({...Te,[S]:ee}))}catch(Te){console.error("Map meta update failed",Te)}}else Sr(ie=>({...ie,[S]:ee}))},Nr=()=>{const S=s||mm();s||zn(S);const L=`${window.location.origin}${window.location.pathname}?room=${S}`;navigator.clipboard.writeText(L).then(()=>{oa(!0),setTimeout(()=>oa(!1),2e3)}).catch(()=>alert("Room ID: "+S))},ki=async S=>{if(!(!Mi||!Je))try{kn("..."),await or(Je,{allowedUsers:cm(S.uid),pending:Xv(S)}),kn(`: ${S.name||S.uid}`)}catch(L){console.error("Approve failed",L),kn("")}finally{setTimeout(()=>kn(""),2e3)}},ei=async S=>{if(!(!Mi||!Je))try{kn("..."),await or(Je,{pending:Xv(S)}),kn(`: ${S.name||S.uid}`)}catch(L){console.error("Reject failed",L),kn("")}finally{setTimeout(()=>kn(""),2e3)}},Wt=()=>{dt(!1),zn(null),an(!0)},Ui=()=>{ot("shared"),!Tr&&i&&Cn(i),dt(!0)},gi=()=>{const S=Tr.trim()||mm();zn(S,{creator:!0}),Un(!0),an(!0),dt(!1)},er=()=>{dt(!1),ot("local")};return la?R.jsxs("div",{className:"flex flex-col h-screen bg-black text-gray-200 overflow-hidden font-sans relative",children:[as&&R.jsx("div",{className:"absolute top-2 left-2 z-50 bg-blue-900/80 text-xs px-3 py-2 rounded shadow",children:as}),Mi&&yn.length>0&&R.jsxs("div",{className:"absolute top-2 right-2 z-50 bg-slate-800/90 border border-slate-600 rounded-lg shadow-lg p-3 w-72",children:[R.jsxs("div",{className:"text-sm font-bold mb-2",children:[" (",yn.length,")"]}),R.jsx("div",{className:"space-y-2 max-h-60 overflow-auto",children:yn.map(S=>R.jsxs("div",{className:"flex items-center justify-between bg-slate-900/80 px-2 py-1 rounded",children:[R.jsxs("div",{className:"text-xs",children:[R.jsx("div",{className:"font-semibold text-gray-100",children:S.name||S.uid}),R.jsx("div",{className:"text-[10px] text-gray-400 break-all",children:S.uid})]}),R.jsxs("div",{className:"flex gap-1",children:[R.jsx("button",{onClick:()=>ki(S),className:"text-[10px] bg-green-700 hover:bg-green-600 text-white px-2 py-1 rounded",children:""}),R.jsx("button",{onClick:()=>ei(S),className:"text-[10px] bg-red-800 hover:bg-red-700 text-white px-2 py-1 rounded",children:""})]})]},S.uid))})]}),Ze==="shared"&&!Mi&&!on&&R.jsxs("div",{className:"absolute inset-0 z-40 bg-black/70 flex flex-col items-center justify-center text-center px-6",children:[R.jsx("div",{className:"text-xl font-bold mb-2",children:""}),R.jsx("div",{className:"text-sm text-gray-300 mb-4",children:ra||""}),R.jsx("button",{onClick:()=>zn(null),className:"bg-slate-800 hover:bg-slate-700 text-white text-sm px-4 py-2 rounded shadow",children:""})]}),!Hi&&R.jsx("div",{className:"absolute top-2 right-2 z-50 bg-orange-500 text-black text-xs font-bold px-3 py-1 rounded shadow",children:"Firebase disabled (local demo mode)"}),R.jsx("input",{type:"file",ref:ma,className:"hidden",accept:"image/*",onChange:Nt}),R.jsx("input",{type:"file",ref:wr,className:"hidden",accept:"image/*",onChange:Ki}),R.jsx("input",{type:"file",ref:vn,className:"hidden",accept:"image/*",onChange:Ir}),R.jsxs("header",{className:"h-12 bg-gray-900 border-b border-gray-800 flex items-center justify-between px-4 z-30 shadow-lg shrink-0 gap-4",children:[R.jsxs("div",{className:"flex items-center gap-2 min-w-fit",children:[R.jsx(Hm,{className:"text-orange-500 w-5 h-5"}),R.jsx("h1",{className:"font-bold text-base tracking-wider text-gray-100",children:"TACTICAL"})]}),R.jsxs("div",{className:"flex items-center gap-3 flex-1 justify-center min-w-0",children:[R.jsx("div",{className:"flex items-center bg-gray-800 rounded p-0.5 gap-1 overflow-x-auto scrollbar-hide",children:Object.values(lr).map(S=>R.jsx("button",{onClick:()=>d(S.id),className:`px-3 py-1 text-xs font-bold rounded transition-colors uppercase whitespace-nowrap ${c===S.id?"bg-orange-600 text-white":"text-gray-400 hover:text-white hover:bg-gray-700"}`,children:S.name},S.id))}),R.jsx("select",{value:c,onChange:S=>d(S.target.value),className:"bg-gray-800 border border-gray-700 text-gray-200 text-xs rounded px-2 py-1",children:Object.values(lr).map(S=>R.jsx("option",{value:S.id,children:S.name},S.id))}),R.jsx("select",{value:lt,onChange:S=>ui(S.target.value),className:"bg-gray-800 border border-gray-700 text-gray-200 text-xs rounded px-2 py-1",children:Dt.map(S=>R.jsx("option",{value:S,children:S},S))}),R.jsx("input",{value:ua,onChange:S=>$n(S.target.value),placeholder:"",className:"w-32 bg-gray-800 border border-gray-700 text-gray-200 text-xs rounded px-2 py-1"}),R.jsx("button",{onClick:()=>{xr(ua||`${Dt.length+1}`),$n("")},className:"px-2 py-1 text-xs rounded bg-gray-800 border border-gray-700 text-gray-200 hover:bg-gray-700 whitespace-nowrap",children:""}),R.jsx("input",{value:Yi,onChange:S=>no(S.target.value),placeholder:"",className:"w-32 bg-gray-800 border border-gray-700 text-gray-200 text-xs rounded px-2 py-1"}),R.jsx("button",{onClick:()=>{Zi(Yi),no("")},className:"px-2 py-1 text-xs rounded bg-gray-800 border border-gray-700 text-gray-200 hover:bg-gray-700 whitespace-nowrap",children:""}),R.jsx("button",{onClick:()=>{const S=lt||"default";let L=1,G=`${S}_copy`;for(;Dt.includes(G);)L+=1,G=`${S}_copy${L}`;const ee=(Ze==="shared"?A:K).filter(ie=>(ie.profileId||"default")===S&&ie.mapId===c);if(xr(G),Ze==="local"){const ie=ee.map(Te=>({...Te,id:`local-${Date.now()}-${Math.random().toString(36).slice(2,8)}`,profileId:G,createdAt:new Date}));re(Te=>[...Te,...ie])}else ee.forEach(ie=>{Kv(Kc(pt,"artifacts",Qn,"public","data",`${s}_pins`),{...ie,id:void 0,createdAt:um(),profileId:G,note:ie.note||""})});ui(G)},className:"px-2 py-1 text-xs rounded bg-gray-800 border border-gray-700 text-gray-200 hover:bg-gray-700 whitespace-nowrap",children:""}),R.jsx("button",{onClick:async()=>{if(Dt.length<=1)return;const S=lt,L=Dt.filter(G=>G!==S);if(Oi(c,G=>{const ee=G[c]||{};return{...G,[c]:{...ee,profiles:L}}}),Vi(c,{profiles:L}),ui(L[0]||"default"),Ze==="local")re(G=>G.filter(ee=>!(ee.mapId===c&&(ee.profileId||"default")===S)));else{const G=A.filter(ie=>ie.mapId===c&&(ie.profileId||"default")===S),ee=`${s}_pins`;await Promise.allSettled(G.map(ie=>Yv(Fi(pt,"artifacts",Qn,"public","data",ee,ie.id))))}},className:"px-2 py-1 text-xs rounded bg-gray-800 border border-gray-700 text-gray-200 hover:bg-gray-700 whitespace-nowrap",children:""}),R.jsxs("button",{onClick:()=>ft("custom_pin"),className:`flex items-center gap-1 px-3 py-1 text-xs font-bold rounded border transition-all whitespace-nowrap ${it==="custom_pin"?"bg-orange-600 text-white border-orange-400":"bg-gray-800 text-gray-300 border-gray-700 hover:bg-gray-700"}`,children:[R.jsx(Xo,{size:14}),"Drop Pin"]})]}),R.jsxs("div",{className:"flex items-center gap-3 min-w-fit",children:[R.jsxs("div",{className:"flex items-center gap-2 bg-gray-800 rounded px-2 py-1 border border-gray-700",children:[R.jsx("span",{className:"text-xs text-gray-400",children:""}),R.jsx("input",{type:"text",value:Vt,onChange:S=>Ft(S.target.value.slice(0,24)),placeholder:"",className:"bg-transparent text-sm text-white outline-none w-28"})]}),R.jsx("button",{onClick:Nr,className:"bg-blue-600 hover:bg-blue-500 text-white px-3 py-1 rounded text-xs font-medium transition-all",children:""})]})]}),Lt.layers&&R.jsx("div",{className:"absolute top-14 left-1/2 -translate-x-1/2 z-30 flex gap-2 bg-black/80 backdrop-blur p-1 rounded-lg border border-gray-700",children:Lt.layers.map(S=>R.jsxs("button",{onClick:()=>y(S.id),className:`flex items-center gap-2 px-3 py-1 text-xs font-bold rounded transition-all ${g===S.id?"bg-orange-500 text-white":"text-gray-400 hover:bg-gray-700"}`,children:[R.jsx(Yx,{size:14}),S.name]},S.id))}),R.jsxs("div",{className:"flex-1 relative flex overflow-hidden",children:[R.jsxs("div",{className:"w-64 bg-gray-900/95 backdrop-blur border-r border-gray-800 flex flex-col z-20 shadow-xl shrink-0 overflow-hidden",children:[R.jsxs("div",{className:"p-3 border-b border-gray-800 space-y-3",children:[R.jsxs("div",{className:"relative",children:[R.jsx(aN,{className:"absolute left-2 top-1.5 text-gray-500 w-4 h-4"}),R.jsx("input",{type:"text",placeholder:"...",value:It,onChange:S=>fa(S.target.value),className:"w-full bg-black/40 border border-gray-700 rounded pl-8 pr-2 py-1 text-sm text-gray-300 focus:outline-none focus:border-orange-500"})]}),R.jsx("div",{className:"flex gap-2",children:R.jsxs("div",{className:"flex-1 flex items-center gap-2",children:[R.jsxs("select",{value:Zt,onChange:S=>{const L=S.target.value;ot(L),L==="local"?(zn(null),an(!0)):L==="shared"&&dt(!0)},className:"w-24 bg-gray-800 border border-gray-700 text-gray-200 text-xs rounded px-2 py-1",children:[R.jsx("option",{value:"local",children:""}),R.jsx("option",{value:"shared",children:""})]}),R.jsx("input",{value:Tr,onChange:S=>Cn(S.target.value.toUpperCase()),placeholder:"ROOM ID",disabled:Zt==="local"||Zt==="shared"&&la,className:"flex-1 bg-gray-900 border border-gray-700 rounded px-2 py-1 text-xs text-gray-200 disabled:opacity-50"}),R.jsx("button",{onClick:()=>{if(Zt==="local"){zn(null),an(!0);return}dt(!0)},className:"px-2 py-1 text-xs bg-gray-800 border border-gray-700 text-gray-200 rounded hover:bg-gray-700 disabled:opacity-50",disabled:Zt==="local",children:"/"}),R.jsx("button",{onClick:()=>{an(!1),ot("local"),l(null),Cn(i||"")},className:"px-2 py-1 text-xs bg-slate-800 border border-slate-700 text-gray-200 rounded hover:bg-slate-700",children:""})]})}),R.jsxs("div",{className:"flex gap-2 mt-2",children:[R.jsxs("div",{className:"flex flex-col gap-1 flex-1",children:[R.jsx("label",{className:"text-[10px] text-gray-400",children:""}),R.jsx("input",{value:Pn.title||lr[c]?.name||"",onChange:S=>Vi(c,{title:S.target.value}),className:"w-full bg-gray-800 border border-gray-700 rounded px-2 py-1 text-xs text-gray-200",placeholder:""})]}),R.jsxs("div",{className:"flex flex-col gap-1 flex-1",children:[R.jsx("label",{className:"text-[10px] text-gray-400",children:""}),R.jsx("input",{value:Pn.note||"",onChange:S=>Vi(c,{note:S.target.value}),className:"w-full bg-gray-800 border border-gray-700 rounded px-2 py-1 text-xs text-gray-200",placeholder:""})]})]}),R.jsxs("div",{className:"flex gap-2",children:[R.jsxs("button",{onClick:()=>ft("move"),className:`flex-1 py-1.5 rounded flex items-center justify-center gap-2 text-xs font-bold transition-colors border ${it==="move"?"bg-gray-700 text-white border-gray-500":"bg-gray-800 text-gray-400 border-gray-700 hover:bg-gray-700"}`,children:[R.jsx($x,{size:14}),""]}),R.jsx("button",{onClick:Ut,className:"px-3 py-1.5 rounded bg-gray-800 text-gray-400 border border-gray-700 hover:text-white hover:border-gray-500",children:R.jsx(CT,{size:14})})]}),R.jsxs("div",{className:"flex gap-2",children:[R.jsx("button",{onClick:Wn,className:"flex-1 py-1.5 rounded bg-gray-800 text-gray-300 border border-gray-700 hover:bg-gray-700 text-xs font-bold",children:""}),R.jsx("button",{onClick:Ta,className:"flex-1 py-1.5 rounded bg-gray-800 text-gray-300 border border-gray-700 hover:bg-gray-700 text-xs font-bold",children:""})]})]}),R.jsx("div",{className:"flex-1 overflow-y-auto p-2 space-y-1 scrollbar-thin scrollbar-thumb-gray-700",children:Object.entries(ja).map(([S,L])=>R.jsxs("div",{className:"rounded overflow-hidden",children:[R.jsxs("div",{className:"w-full flex items-center justify-between px-2 py-1.5 bg-gray-800/50 text-xs font-bold text-gray-300",children:[R.jsxs("button",{onClick:()=>hs(S),className:"flex items-center gap-2 flex-1 text-left hover:text-white",children:[R.jsx("span",{children:L.label}),_n[S]?R.jsx(Nx,{size:14}):R.jsx(Mx,{size:14})]}),R.jsx("button",{onClick:()=>di(S),className:"p-1 rounded hover:bg-gray-700 text-gray-300 hover:text-white",title:"",children:R.jsx(Wx,{size:14})})]}),_n[S]&&R.jsx("div",{className:"bg-black/20 p-1 space-y-0.5",children:Object.values(Nn).filter(G=>G.cat===S).filter(G=>G.label.includes(It)).map(G=>{const ee=G.icon,ie=it===G.id,Te=Fe[G.id],et=da[G.id]||0,jn=Zn(G.id);return R.jsxs("div",{role:"button",tabIndex:0,onClick:()=>ft(G.id),onKeyDown:bn=>{(bn.key==="Enter"||bn.key===" ")&&(bn.preventDefault(),ft(G.id))},className:`w-full flex items-center gap-3 px-2 py-1.5 rounded text-xs transition-all cursor-pointer ${ie?"bg-gray-700 text-white ring-1 ring-inset ring-gray-500":"text-gray-400 hover:bg-gray-800 hover:text-gray-200"}`,children:[Te?R.jsx("img",{src:Te,alt:`${G.label} icon`,className:"w-5 h-5 rounded-full object-cover border border-gray-600/60"}):R.jsx(ee,{size:16,color:L.color}),R.jsx("span",{className:"flex-1 text-left truncate",children:G.label}),R.jsx("span",{className:"text-[11px] text-gray-400",children:et}),R.jsxs("div",{className:"flex items-center gap-1 ml-1",children:[R.jsx("button",{onClick:bn=>{bn.stopPropagation(),ga(G.id)},className:"p-1 rounded bg-gray-800 hover:bg-gray-700 text-gray-300 border border-gray-700",title:"",children:R.jsx(qm,{size:12})}),R.jsx("button",{onClick:bn=>{bn.stopPropagation(),Ye(Li=>({...Li,[G.id]:!jn}))},className:`p-1 rounded border ${jn?"bg-gray-800 text-gray-300 border-gray-700 hover:bg-gray-700":"bg-gray-900 text-gray-500 border-gray-800 hover:text-gray-300"}`,title:jn?"":"",children:R.jsx(Px,{size:12})})]})]},G.id)})})]},S))}),R.jsxs("div",{className:"p-2 border-t border-gray-800 text-[10px] text-gray-600 text-center",children:["Room: ",s||""]})]}),R.jsxs("div",{ref:us,className:"flex-1 relative overflow-hidden bg-black cursor-crosshair",onMouseDown:ya,onMouseMove:Xi,onMouseUp:_a,onMouseLeave:_a,children:[R.jsxs("div",{ref:ls,className:"absolute origin-top-left will-change-transform",style:{transform:`translate(${xt.x}px, ${xt.y}px) scale(${xt.scale})`,width:Lt.width,height:Lt.height,transition:Er?"none":"transform 0.1s ease-out"},onClick:$i,children:[!mi&&We?R.jsx("img",{src:We,alt:Lt.name,className:"w-full h-full object-fill pointer-events-none select-none",draggable:!1,onError:()=>fs(!0)}):R.jsx(NN,{config:Lt,onUpload:Ut}),Ji.map(S=>{const L=Nn[S.type]||i1,G=ja[L.cat]||ja.others,ee=L.icon,ie=S.id===se,Te=de.includes(S.id),et=S.iconUrl||Fe[S.type],bn=Math.max(.3,aa),Li=se&&!ie?.4:1,ba=ie?50:10;return R.jsx("div",{className:"absolute -translate-x-1/2 -translate-y-1/2 cursor-pointer transition-all duration-200",style:{left:S.x,top:S.y,transform:`scale(${bn})`,opacity:Li,zIndex:ba},onClick:so=>Tn(so,S.id),children:R.jsxs("div",{className:"relative flex flex-col items-center group",children:[R.jsxs("div",{className:`drop-shadow-md filter transition-all ${ie?"drop-shadow-[0_0_10px_rgba(255,255,255,0.8)]":""}`,children:[R.jsx("div",{className:"absolute inset-[-6px] rounded-full border-2 border-orange-500 opacity-80 pointer-events-none"}),Te&&R.jsx(Hx,{size:16,color:"#f87171",fill:"#f87171",className:"absolute -top-2 -right-2 drop-shadow-md pointer-events-none"}),et?R.jsx("img",{src:et,alt:"Custom pin",className:"w-8 h-8 rounded-full border border-black/40 object-cover"}):R.jsx(ee,{size:24,fill:G.color,color:"#000000",strokeWidth:1.5,className:ie?"text-white":""})]}),!ie&&R.jsx("div",{className:"absolute top-full mt-1 opacity-0 group-hover:opacity-100 bg-black/80 text-white text-[10px] px-2 py-1 rounded whitespace-nowrap pointer-events-none border border-white/20 z-50",children:L.label})]})},S.id)})]}),se&&(()=>{const S=Ln.find(G=>G.id===se);if(!S)return null;const L=Nn[S.type]||i1;return R.jsx(DN,{pin:S,markerDef:L,onClose:()=>te(null),onUpdateImage:va,onUpdateIcon:Ea,onUpdateNote:cs,onMark:G=>{Se(ee=>ee.includes(G)?ee.filter(ie=>ie!==G):[...ee,G]),te(G)},onDelete:io})})(),!1]})]}),R.jsxs("div",{className:"absolute bottom-4 right-4 flex items-end gap-3 z-10 pointer-events-none",children:[R.jsxs("div",{className:"flex items-center gap-3 bg-black/30 backdrop-blur-sm rounded-full px-4 py-2 border border-gray-700/50 shadow pointer-events-auto",children:[R.jsx(rN,{size:16,className:"text-gray-400"}),R.jsx("input",{type:"range",min:"0.5",max:"3",step:"0.1",value:aa,onChange:S=>sn(parseFloat(S.target.value)),className:"w-28 h-1 bg-gray-600 rounded-lg appearance-none cursor-pointer accent-blue-500"})]}),R.jsxs("div",{className:"flex flex-col items-center gap-3 pointer-events-auto",children:[R.jsx("div",{className:"relative h-40 w-12 flex items-center justify-center bg-black/30 backdrop-blur-sm rounded-full border border-gray-700/50 shadow",children:R.jsx("div",{className:"-rotate-90 w-28",children:R.jsx("input",{type:"range",min:"0.2",max:"5",step:"0.1",value:xt.scale,onChange:S=>Cr(parseFloat(S.target.value)),className:"w-full h-1 bg-gray-600 rounded-lg appearance-none cursor-pointer accent-orange-500"})})}),R.jsx("button",{onClick:()=>vr(!0),className:"bg-gray-800 hover:bg-gray-700 text-gray-200 p-2 rounded-full shadow-lg border border-gray-700",title:"",children:R.jsx(lN,{size:18})})]})]}),to&&R.jsx("div",{className:"absolute top-20 left-1/2 -translate-x-1/2 bg-green-600 text-white px-4 py-2 rounded shadow-xl z-50 animate-bounce pointer-events-none",children:""}),_r&&R.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/70 backdrop-blur-sm p-4",children:R.jsxs("div",{className:"bg-gray-900 rounded-xl border border-gray-700 w-full max-w-md p-5 space-y-4 shadow-2xl",children:[R.jsxs("div",{className:"flex items-center justify-between",children:[R.jsx("h3",{className:"text-lg font-bold text-white",children:""}),R.jsx("button",{onClick:()=>vr(!1),className:"text-gray-400 hover:text-white",children:R.jsx(Fm,{size:18})})]}),R.jsxs("div",{className:"flex justify-end gap-2",children:[R.jsxs("div",{className:"flex-1 space-y-2 text-sm text-gray-300",children:[R.jsx("div",{className:"text-xs text-gray-400",children:""}),R.jsx("select",{value:D,onChange:S=>$(S.target.value),className:"w-full bg-gray-800 border border-gray-700 rounded px-2 py-1 text-sm text-white",children:Object.values(Nn).map(S=>R.jsx("option",{value:S.id,children:S.label},S.id))})]}),R.jsxs("div",{className:"flex items-end gap-2",children:[R.jsx("button",{onClick:()=>Rr(D),disabled:!D||le,className:"px-3 py-2 text-xs font-semibold rounded bg-gray-800 text-gray-200 border border-gray-700 hover:bg-gray-700 shadow disabled:opacity-50 disabled:cursor-not-allowed",children:""}),R.jsx("button",{onClick:()=>vr(!1),className:"px-3 py-2 text-xs font-semibold rounded bg-orange-600 hover:bg-orange-500 text-white",children:""})]})]})]})}),O&&R.jsx("div",{className:"absolute inset-0 bg-black/60 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:R.jsxs("div",{className:"bg-gray-900 rounded-xl border border-gray-700 w-full max-w-md p-4 space-y-4 shadow-2xl",children:[R.jsxs("div",{className:"flex items-center justify-between",children:[R.jsx("h3",{className:"text-lg font-bold text-white",children:""}),R.jsx("button",{onClick:()=>P(!1),className:"text-gray-400 hover:text-white",children:R.jsx(Fm,{size:18})})]}),R.jsxs("div",{className:"text-xs text-gray-400",children:[": ",I&&ja[I]?.label]}),R.jsx("input",{value:wt,onChange:S=>Q(S.target.value),placeholder:"",className:"w-full bg-gray-800 border border-gray-700 rounded px-3 py-2 text-sm text-white focus:border-orange-500 outline-none"}),R.jsxs("div",{children:[R.jsx("div",{className:"text-xs text-gray-400 mb-2",children:""}),R.jsx("div",{className:"grid grid-cols-5 gap-2 mb-3",children:Jn.map(S=>R.jsx("button",{onClick:()=>ge(S.dataUrl),className:`h-12 rounded-lg border ${oe===S.dataUrl?"border-orange-500 ring-1 ring-orange-400":"border-gray-700"} bg-gray-800 flex items-center justify-center hover:border-gray-500`,children:R.jsx("img",{src:S.dataUrl,alt:S.label,className:"w-8 h-8 rounded"})},S.id))}),R.jsxs("div",{className:"flex items-center gap-3",children:[R.jsx("div",{className:"w-12 h-12 rounded-full border border-gray-700 bg-gray-800 flex items-center justify-center overflow-hidden",children:oe?R.jsx("img",{src:oe,alt:"",className:"w-full h-full object-cover"}):R.jsx(Xo,{size:20,className:"text-gray-500"})}),R.jsxs("button",{onClick:()=>vn.current?.click(),className:"px-3 py-2 text-xs font-semibold rounded border border-gray-700 bg-gray-800 text-gray-200 hover:bg-gray-700 flex items-center gap-2",children:[R.jsx(Ih,{size:14}),""]})]})]}),R.jsxs("div",{className:"flex justify-end gap-2 pt-2",children:[R.jsx("button",{onClick:()=>P(!1),className:"px-3 py-2 text-xs rounded border border-gray-700 text-gray-300 hover:bg-gray-800",children:""}),R.jsx("button",{onClick:En,className:"px-3 py-2 text-xs rounded bg-orange-600 hover:bg-orange-500 text-white font-bold",children:""})]})]})})]}):R.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-slate-900 via-slate-950 to-slate-900 text-gray-100 flex items-center justify-center p-6 relative",children:[R.jsxs("div",{className:"max-w-5xl w-full space-y-8 text-center",children:[R.jsxs("div",{children:[R.jsx("div",{className:"text-3xl font-extrabold text-indigo-300 mb-2",children:""}),R.jsx("div",{className:"text-sm text-gray-400",children:""})]}),R.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[R.jsxs("button",{onClick:Wt,className:"p-6 rounded-2xl bg-slate-900 border border-slate-700 hover:border-indigo-500 transition shadow-lg flex flex-col items-center gap-3",children:[R.jsx("div",{className:"p-4 rounded-full bg-indigo-600/20 text-indigo-300",children:R.jsx(xT,{size:32})}),R.jsx("div",{className:"text-xl font-bold",children:""}),R.jsx("div",{className:"text-sm text-gray-400 leading-relaxed",children:""}),R.jsxs("div",{className:"text-xs text-gray-500 flex items-center gap-2 mt-2",children:[R.jsx("span",{className:"h-2 w-2 rounded-full bg-green-400"})," "]})]}),R.jsxs("button",{onClick:Ui,className:"p-6 rounded-2xl bg-slate-900 border border-slate-700 hover:border-purple-500 transition shadow-lg flex flex-col items-center gap-3",children:[R.jsx("div",{className:"p-4 rounded-full bg-purple-600/20 text-purple-300",children:R.jsx(t1,{size:32})}),R.jsx("div",{className:"text-xl font-bold",children:""}),R.jsx("div",{className:"text-sm text-gray-400 leading-relaxed",children:""}),R.jsxs("div",{className:"text-xs text-gray-500 flex items-center gap-2 mt-2",children:[R.jsx("span",{className:"h-2 w-2 rounded-full bg-blue-400"})," "]})]})]})]}),br&&R.jsx("div",{className:"absolute inset-0 bg-black/70 flex items-center justify-center p-4",children:R.jsxs("div",{className:"bg-slate-900 border border-slate-700 rounded-xl shadow-2xl max-w-md w-full p-5 space-y-3",children:[R.jsxs("div",{className:"text-lg font-bold text-purple-200 flex items-center gap-2",children:[R.jsx(t1,{size:18}),"  / "]}),R.jsx("div",{className:"text-sm text-gray-400",children:"IDID"}),R.jsx("input",{value:Tr,onChange:S=>Cn(S.target.value),className:"w-full bg-slate-800 border border-slate-700 rounded px-3 py-2 text-sm",placeholder:"ID"}),R.jsxs("div",{className:"flex gap-2",children:[R.jsx("button",{onClick:()=>Cn(mm()),className:"flex-1 bg-slate-800 hover:bg-slate-700 text-sm text-white py-2 rounded",children:"ID"}),R.jsx("button",{onClick:()=>{i&&Cn(i)},className:"flex-1 bg-slate-800 hover:bg-slate-700 text-sm text-white py-2 rounded disabled:opacity-40",disabled:!i,children:"ID"})]}),R.jsxs("div",{className:"flex gap-2 justify-end",children:[R.jsx("button",{onClick:er,className:"px-4 py-2 text-sm bg-slate-800 hover:bg-slate-700 rounded text-gray-200",children:""}),R.jsx("button",{onClick:gi,className:"px-4 py-2 text-sm bg-purple-600 hover:bg-purple-500 rounded text-white font-semibold",children:""})]})]})})]})}yS.createRoot(document.getElementById("root")).render(R.jsx(uS.StrictMode,{children:R.jsx(MN,{})}));
//# sourceMappingURL=index-Pw4IrsS_.js.map
