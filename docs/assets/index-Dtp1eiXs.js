(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))a(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function i(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function a(l){if(l.ep)return;l.ep=!0;const c=i(l);fetch(l.href,c)}})();function Fv(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var zd={exports:{}},Ll={};var $_;function qb(){if($_)return Ll;$_=1;var s=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function i(a,l,c){var d=null;if(c!==void 0&&(d=""+c),l.key!==void 0&&(d=""+l.key),"key"in l){c={};for(var p in l)p!=="key"&&(c[p]=l[p])}else c=l;return l=c.ref,{$$typeof:s,type:a,key:d,ref:l!==void 0?l:null,props:c}}return Ll.Fragment=t,Ll.jsx=i,Ll.jsxs=i,Ll}var J_;function Hb(){return J_||(J_=1,zd.exports=qb()),zd.exports}var L=Hb(),jd={exports:{}},wt={};var Z_;function Fb(){if(Z_)return wt;Z_=1;var s=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),A=Symbol.for("react.activity"),O=Symbol.iterator;function Q(M){return M===null||typeof M!="object"?null:(M=O&&M[O]||M["@@iterator"],typeof M=="function"?M:null)}var tt={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},nt=Object.assign,et={};function yt(M,X,st){this.props=M,this.context=X,this.refs=et,this.updater=st||tt}yt.prototype.isReactComponent={},yt.prototype.setState=function(M,X){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,X,"setState")},yt.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function St(){}St.prototype=yt.prototype;function _t(M,X,st){this.props=M,this.context=X,this.refs=et,this.updater=st||tt}var Mt=_t.prototype=new St;Mt.constructor=_t,nt(Mt,yt.prototype),Mt.isPureReactComponent=!0;var Kt=Array.isArray;function xt(){}var C={H:null,A:null,T:null,S:null},S=Object.prototype.hasOwnProperty;function I(M,X,st){var lt=st.ref;return{$$typeof:s,type:M,key:X,ref:lt!==void 0?lt:null,props:st}}function V(M,X){return I(M.type,X,M.props)}function D(M){return typeof M=="object"&&M!==null&&M.$$typeof===s}function U(M){var X={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function(st){return X[st]})}var w=/\/+/g;function ne(M,X){return typeof M=="object"&&M!==null&&M.key!=null?U(""+M.key):X.toString(36)}function Ee(M){switch(M.status){case"fulfilled":return M.value;case"rejected":throw M.reason;default:switch(typeof M.status=="string"?M.then(xt,xt):(M.status="pending",M.then(function(X){M.status==="pending"&&(M.status="fulfilled",M.value=X)},function(X){M.status==="pending"&&(M.status="rejected",M.reason=X)})),M.status){case"fulfilled":return M.value;case"rejected":throw M.reason}}throw M}function G(M,X,st,lt,Tt){var It=typeof M;(It==="undefined"||It==="boolean")&&(M=null);var Ht=!1;if(M===null)Ht=!0;else switch(It){case"bigint":case"string":case"number":Ht=!0;break;case"object":switch(M.$$typeof){case s:case t:Ht=!0;break;case b:return Ht=M._init,G(Ht(M._payload),X,st,lt,Tt)}}if(Ht)return Tt=Tt(M),Ht=lt===""?"."+ne(M,0):lt,Kt(Tt)?(st="",Ht!=null&&(st=Ht.replace(w,"$&/")+"/"),G(Tt,X,st,"",function(Sr){return Sr})):Tt!=null&&(D(Tt)&&(Tt=V(Tt,st+(Tt.key==null||M&&M.key===Tt.key?"":(""+Tt.key).replace(w,"$&/")+"/")+Ht)),X.push(Tt)),1;Ht=0;var Oe=lt===""?".":lt+":";if(Kt(M))for(var fe=0;fe<M.length;fe++)lt=M[fe],It=Oe+ne(lt,fe),Ht+=G(lt,X,st,It,Tt);else if(fe=Q(M),typeof fe=="function")for(M=fe.call(M),fe=0;!(lt=M.next()).done;)lt=lt.value,It=Oe+ne(lt,fe++),Ht+=G(lt,X,st,It,Tt);else if(It==="object"){if(typeof M.then=="function")return G(Ee(M),X,st,lt,Tt);throw X=String(M),Error("Objects are not valid as a React child (found: "+(X==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":X)+"). If you meant to render a collection of children, use an array instead.")}return Ht}function rt(M,X,st){if(M==null)return M;var lt=[],Tt=0;return G(M,lt,"","",function(It){return X.call(st,It,Tt++)}),lt}function mt(M){if(M._status===-1){var X=M._result;X=X(),X.then(function(st){(M._status===0||M._status===-1)&&(M._status=1,M._result=st)},function(st){(M._status===0||M._status===-1)&&(M._status=2,M._result=st)}),M._status===-1&&(M._status=0,M._result=X)}if(M._status===1)return M._result.default;throw M._result}var kt=typeof reportError=="function"?reportError:function(M){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var X=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof M=="object"&&M!==null&&typeof M.message=="string"?String(M.message):String(M),error:M});if(!window.dispatchEvent(X))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",M);return}console.error(M)},qt={map:rt,forEach:function(M,X,st){rt(M,function(){X.apply(this,arguments)},st)},count:function(M){var X=0;return rt(M,function(){X++}),X},toArray:function(M){return rt(M,function(X){return X})||[]},only:function(M){if(!D(M))throw Error("React.Children.only expected to receive a single React element child.");return M}};return wt.Activity=A,wt.Children=qt,wt.Component=yt,wt.Fragment=i,wt.Profiler=l,wt.PureComponent=_t,wt.StrictMode=a,wt.Suspense=y,wt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=C,wt.__COMPILER_RUNTIME={__proto__:null,c:function(M){return C.H.useMemoCache(M)}},wt.cache=function(M){return function(){return M.apply(null,arguments)}},wt.cacheSignal=function(){return null},wt.cloneElement=function(M,X,st){if(M==null)throw Error("The argument must be a React element, but you passed "+M+".");var lt=nt({},M.props),Tt=M.key;if(X!=null)for(It in X.key!==void 0&&(Tt=""+X.key),X)!S.call(X,It)||It==="key"||It==="__self"||It==="__source"||It==="ref"&&X.ref===void 0||(lt[It]=X[It]);var It=arguments.length-2;if(It===1)lt.children=st;else if(1<It){for(var Ht=Array(It),Oe=0;Oe<It;Oe++)Ht[Oe]=arguments[Oe+2];lt.children=Ht}return I(M.type,Tt,lt)},wt.createContext=function(M){return M={$$typeof:d,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null},M.Provider=M,M.Consumer={$$typeof:c,_context:M},M},wt.createElement=function(M,X,st){var lt,Tt={},It=null;if(X!=null)for(lt in X.key!==void 0&&(It=""+X.key),X)S.call(X,lt)&&lt!=="key"&&lt!=="__self"&&lt!=="__source"&&(Tt[lt]=X[lt]);var Ht=arguments.length-2;if(Ht===1)Tt.children=st;else if(1<Ht){for(var Oe=Array(Ht),fe=0;fe<Ht;fe++)Oe[fe]=arguments[fe+2];Tt.children=Oe}if(M&&M.defaultProps)for(lt in Ht=M.defaultProps,Ht)Tt[lt]===void 0&&(Tt[lt]=Ht[lt]);return I(M,It,Tt)},wt.createRef=function(){return{current:null}},wt.forwardRef=function(M){return{$$typeof:p,render:M}},wt.isValidElement=D,wt.lazy=function(M){return{$$typeof:b,_payload:{_status:-1,_result:M},_init:mt}},wt.memo=function(M,X){return{$$typeof:_,type:M,compare:X===void 0?null:X}},wt.startTransition=function(M){var X=C.T,st={};C.T=st;try{var lt=M(),Tt=C.S;Tt!==null&&Tt(st,lt),typeof lt=="object"&&lt!==null&&typeof lt.then=="function"&&lt.then(xt,kt)}catch(It){kt(It)}finally{X!==null&&st.types!==null&&(X.types=st.types),C.T=X}},wt.unstable_useCacheRefresh=function(){return C.H.useCacheRefresh()},wt.use=function(M){return C.H.use(M)},wt.useActionState=function(M,X,st){return C.H.useActionState(M,X,st)},wt.useCallback=function(M,X){return C.H.useCallback(M,X)},wt.useContext=function(M){return C.H.useContext(M)},wt.useDebugValue=function(){},wt.useDeferredValue=function(M,X){return C.H.useDeferredValue(M,X)},wt.useEffect=function(M,X){return C.H.useEffect(M,X)},wt.useEffectEvent=function(M){return C.H.useEffectEvent(M)},wt.useId=function(){return C.H.useId()},wt.useImperativeHandle=function(M,X,st){return C.H.useImperativeHandle(M,X,st)},wt.useInsertionEffect=function(M,X){return C.H.useInsertionEffect(M,X)},wt.useLayoutEffect=function(M,X){return C.H.useLayoutEffect(M,X)},wt.useMemo=function(M,X){return C.H.useMemo(M,X)},wt.useOptimistic=function(M,X){return C.H.useOptimistic(M,X)},wt.useReducer=function(M,X,st){return C.H.useReducer(M,X,st)},wt.useRef=function(M){return C.H.useRef(M)},wt.useState=function(M){return C.H.useState(M)},wt.useSyncExternalStore=function(M,X,st){return C.H.useSyncExternalStore(M,X,st)},wt.useTransition=function(){return C.H.useTransition()},wt.version="19.2.0",wt}var W_;function Lm(){return W_||(W_=1,jd.exports=Fb()),jd.exports}var at=Lm();const Gb=Fv(at);var Bd={exports:{}},Pl={},qd={exports:{}},Hd={};var t0;function Qb(){return t0||(t0=1,(function(s){function t(G,rt){var mt=G.length;G.push(rt);t:for(;0<mt;){var kt=mt-1>>>1,qt=G[kt];if(0<l(qt,rt))G[kt]=rt,G[mt]=qt,mt=kt;else break t}}function i(G){return G.length===0?null:G[0]}function a(G){if(G.length===0)return null;var rt=G[0],mt=G.pop();if(mt!==rt){G[0]=mt;t:for(var kt=0,qt=G.length,M=qt>>>1;kt<M;){var X=2*(kt+1)-1,st=G[X],lt=X+1,Tt=G[lt];if(0>l(st,mt))lt<qt&&0>l(Tt,st)?(G[kt]=Tt,G[lt]=mt,kt=lt):(G[kt]=st,G[X]=mt,kt=X);else if(lt<qt&&0>l(Tt,mt))G[kt]=Tt,G[lt]=mt,kt=lt;else break t}}return rt}function l(G,rt){var mt=G.sortIndex-rt.sortIndex;return mt!==0?mt:G.id-rt.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;s.unstable_now=function(){return c.now()}}else{var d=Date,p=d.now();s.unstable_now=function(){return d.now()-p}}var y=[],_=[],b=1,A=null,O=3,Q=!1,tt=!1,nt=!1,et=!1,yt=typeof setTimeout=="function"?setTimeout:null,St=typeof clearTimeout=="function"?clearTimeout:null,_t=typeof setImmediate<"u"?setImmediate:null;function Mt(G){for(var rt=i(_);rt!==null;){if(rt.callback===null)a(_);else if(rt.startTime<=G)a(_),rt.sortIndex=rt.expirationTime,t(y,rt);else break;rt=i(_)}}function Kt(G){if(nt=!1,Mt(G),!tt)if(i(y)!==null)tt=!0,xt||(xt=!0,U());else{var rt=i(_);rt!==null&&Ee(Kt,rt.startTime-G)}}var xt=!1,C=-1,S=5,I=-1;function V(){return et?!0:!(s.unstable_now()-I<S)}function D(){if(et=!1,xt){var G=s.unstable_now();I=G;var rt=!0;try{t:{tt=!1,nt&&(nt=!1,St(C),C=-1),Q=!0;var mt=O;try{e:{for(Mt(G),A=i(y);A!==null&&!(A.expirationTime>G&&V());){var kt=A.callback;if(typeof kt=="function"){A.callback=null,O=A.priorityLevel;var qt=kt(A.expirationTime<=G);if(G=s.unstable_now(),typeof qt=="function"){A.callback=qt,Mt(G),rt=!0;break e}A===i(y)&&a(y),Mt(G)}else a(y);A=i(y)}if(A!==null)rt=!0;else{var M=i(_);M!==null&&Ee(Kt,M.startTime-G),rt=!1}}break t}finally{A=null,O=mt,Q=!1}rt=void 0}}finally{rt?U():xt=!1}}}var U;if(typeof _t=="function")U=function(){_t(D)};else if(typeof MessageChannel<"u"){var w=new MessageChannel,ne=w.port2;w.port1.onmessage=D,U=function(){ne.postMessage(null)}}else U=function(){yt(D,0)};function Ee(G,rt){C=yt(function(){G(s.unstable_now())},rt)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(G){G.callback=null},s.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<G?Math.floor(1e3/G):5},s.unstable_getCurrentPriorityLevel=function(){return O},s.unstable_next=function(G){switch(O){case 1:case 2:case 3:var rt=3;break;default:rt=O}var mt=O;O=rt;try{return G()}finally{O=mt}},s.unstable_requestPaint=function(){et=!0},s.unstable_runWithPriority=function(G,rt){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var mt=O;O=G;try{return rt()}finally{O=mt}},s.unstable_scheduleCallback=function(G,rt,mt){var kt=s.unstable_now();switch(typeof mt=="object"&&mt!==null?(mt=mt.delay,mt=typeof mt=="number"&&0<mt?kt+mt:kt):mt=kt,G){case 1:var qt=-1;break;case 2:qt=250;break;case 5:qt=1073741823;break;case 4:qt=1e4;break;default:qt=5e3}return qt=mt+qt,G={id:b++,callback:rt,priorityLevel:G,startTime:mt,expirationTime:qt,sortIndex:-1},mt>kt?(G.sortIndex=mt,t(_,G),i(y)===null&&G===i(_)&&(nt?(St(C),C=-1):nt=!0,Ee(Kt,mt-kt))):(G.sortIndex=qt,t(y,G),tt||Q||(tt=!0,xt||(xt=!0,U()))),G},s.unstable_shouldYield=V,s.unstable_wrapCallback=function(G){var rt=O;return function(){var mt=O;O=rt;try{return G.apply(this,arguments)}finally{O=mt}}}})(Hd)),Hd}var e0;function Yb(){return e0||(e0=1,qd.exports=Qb()),qd.exports}var Fd={exports:{}},on={};var n0;function Kb(){if(n0)return on;n0=1;var s=Lm();function t(y){var _="https://react.dev/errors/"+y;if(1<arguments.length){_+="?args[]="+encodeURIComponent(arguments[1]);for(var b=2;b<arguments.length;b++)_+="&args[]="+encodeURIComponent(arguments[b])}return"Minified React error #"+y+"; visit "+_+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var a={d:{f:i,r:function(){throw Error(t(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},l=Symbol.for("react.portal");function c(y,_,b){var A=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:A==null?null:""+A,children:y,containerInfo:_,implementation:b}}var d=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(y,_){if(y==="font")return"";if(typeof _=="string")return _==="use-credentials"?_:""}return on.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,on.createPortal=function(y,_){var b=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_||_.nodeType!==1&&_.nodeType!==9&&_.nodeType!==11)throw Error(t(299));return c(y,_,null,b)},on.flushSync=function(y){var _=d.T,b=a.p;try{if(d.T=null,a.p=2,y)return y()}finally{d.T=_,a.p=b,a.d.f()}},on.preconnect=function(y,_){typeof y=="string"&&(_?(_=_.crossOrigin,_=typeof _=="string"?_==="use-credentials"?_:"":void 0):_=null,a.d.C(y,_))},on.prefetchDNS=function(y){typeof y=="string"&&a.d.D(y)},on.preinit=function(y,_){if(typeof y=="string"&&_&&typeof _.as=="string"){var b=_.as,A=p(b,_.crossOrigin),O=typeof _.integrity=="string"?_.integrity:void 0,Q=typeof _.fetchPriority=="string"?_.fetchPriority:void 0;b==="style"?a.d.S(y,typeof _.precedence=="string"?_.precedence:void 0,{crossOrigin:A,integrity:O,fetchPriority:Q}):b==="script"&&a.d.X(y,{crossOrigin:A,integrity:O,fetchPriority:Q,nonce:typeof _.nonce=="string"?_.nonce:void 0})}},on.preinitModule=function(y,_){if(typeof y=="string")if(typeof _=="object"&&_!==null){if(_.as==null||_.as==="script"){var b=p(_.as,_.crossOrigin);a.d.M(y,{crossOrigin:b,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0})}}else _==null&&a.d.M(y)},on.preload=function(y,_){if(typeof y=="string"&&typeof _=="object"&&_!==null&&typeof _.as=="string"){var b=_.as,A=p(b,_.crossOrigin);a.d.L(y,b,{crossOrigin:A,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0,type:typeof _.type=="string"?_.type:void 0,fetchPriority:typeof _.fetchPriority=="string"?_.fetchPriority:void 0,referrerPolicy:typeof _.referrerPolicy=="string"?_.referrerPolicy:void 0,imageSrcSet:typeof _.imageSrcSet=="string"?_.imageSrcSet:void 0,imageSizes:typeof _.imageSizes=="string"?_.imageSizes:void 0,media:typeof _.media=="string"?_.media:void 0})}},on.preloadModule=function(y,_){if(typeof y=="string")if(_){var b=p(_.as,_.crossOrigin);a.d.m(y,{as:typeof _.as=="string"&&_.as!=="script"?_.as:void 0,crossOrigin:b,integrity:typeof _.integrity=="string"?_.integrity:void 0})}else a.d.m(y)},on.requestFormReset=function(y){a.d.r(y)},on.unstable_batchedUpdates=function(y,_){return y(_)},on.useFormState=function(y,_,b){return d.H.useFormState(y,_,b)},on.useFormStatus=function(){return d.H.useHostTransitionStatus()},on.version="19.2.0",on}var i0;function Xb(){if(i0)return Fd.exports;i0=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(t){console.error(t)}}return s(),Fd.exports=Kb(),Fd.exports}var r0;function $b(){if(r0)return Pl;r0=1;var s=Yb(),t=Lm(),i=Xb();function a(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)n+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function c(e){var n=e,r=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(r=n.return),e=n.return;while(e)}return n.tag===3?r:null}function d(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function p(e){if(e.tag===31){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function y(e){if(c(e)!==e)throw Error(a(188))}function _(e){var n=e.alternate;if(!n){if(n=c(e),n===null)throw Error(a(188));return n!==e?null:e}for(var r=e,o=n;;){var h=r.return;if(h===null)break;var f=h.alternate;if(f===null){if(o=h.return,o!==null){r=o;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===r)return y(h),e;if(f===o)return y(h),n;f=f.sibling}throw Error(a(188))}if(r.return!==o.return)r=h,o=f;else{for(var g=!1,E=h.child;E;){if(E===r){g=!0,r=h,o=f;break}if(E===o){g=!0,o=h,r=f;break}E=E.sibling}if(!g){for(E=f.child;E;){if(E===r){g=!0,r=f,o=h;break}if(E===o){g=!0,o=f,r=h;break}E=E.sibling}if(!g)throw Error(a(189))}}if(r.alternate!==o)throw Error(a(190))}if(r.tag!==3)throw Error(a(188));return r.stateNode.current===r?e:n}function b(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=b(e),n!==null)return n;e=e.sibling}return null}var A=Object.assign,O=Symbol.for("react.element"),Q=Symbol.for("react.transitional.element"),tt=Symbol.for("react.portal"),nt=Symbol.for("react.fragment"),et=Symbol.for("react.strict_mode"),yt=Symbol.for("react.profiler"),St=Symbol.for("react.consumer"),_t=Symbol.for("react.context"),Mt=Symbol.for("react.forward_ref"),Kt=Symbol.for("react.suspense"),xt=Symbol.for("react.suspense_list"),C=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),D=Symbol.iterator;function U(e){return e===null||typeof e!="object"?null:(e=D&&e[D]||e["@@iterator"],typeof e=="function"?e:null)}var w=Symbol.for("react.client.reference");function ne(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===w?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case nt:return"Fragment";case yt:return"Profiler";case et:return"StrictMode";case Kt:return"Suspense";case xt:return"SuspenseList";case I:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case tt:return"Portal";case _t:return e.displayName||"Context";case St:return(e._context.displayName||"Context")+".Consumer";case Mt:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case C:return n=e.displayName||null,n!==null?n:ne(e.type)||"Memo";case S:n=e._payload,e=e._init;try{return ne(e(n))}catch{}}return null}var Ee=Array.isArray,G=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,rt=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,mt={pending:!1,data:null,method:null,action:null},kt=[],qt=-1;function M(e){return{current:e}}function X(e){0>qt||(e.current=kt[qt],kt[qt]=null,qt--)}function st(e,n){qt++,kt[qt]=e.current,e.current=n}var lt=M(null),Tt=M(null),It=M(null),Ht=M(null);function Oe(e,n){switch(st(It,n),st(Tt,e),st(lt,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?v_(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=v_(n),e=E_(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}X(lt),st(lt,e)}function fe(){X(lt),X(Tt),X(It)}function Sr(e){e.memoizedState!==null&&st(Ht,e);var n=lt.current,r=E_(n,e.type);n!==r&&(st(Tt,e),st(lt,r))}function Ns(e){Tt.current===e&&(X(lt),X(Tt)),Ht.current===e&&(X(Ht),Ol._currentValue=mt)}var Ds,xs;function Ve(e){if(Ds===void 0)try{throw Error()}catch(r){var n=r.stack.trim().match(/\n( *(at )?)/);Ds=n&&n[1]||"",xs=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ds+e+xs}var In=!1;function Re(e,n){if(!e||In)return"";In=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(n){var $=function(){throw Error()};if(Object.defineProperty($.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct($,[])}catch(H){var B=H}Reflect.construct(e,[],$)}else{try{$.call()}catch(H){B=H}e.call($.prototype)}}else{try{throw Error()}catch(H){B=H}($=e())&&typeof $.catch=="function"&&$.catch(function(){})}}catch(H){if(H&&B&&typeof H.stack=="string")return[H.stack,B.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=o.DetermineComponentFrameRoot(),g=f[0],E=f[1];if(g&&E){var R=g.split(`
`),j=E.split(`
`);for(h=o=0;o<R.length&&!R[o].includes("DetermineComponentFrameRoot");)o++;for(;h<j.length&&!j[h].includes("DetermineComponentFrameRoot");)h++;if(o===R.length||h===j.length)for(o=R.length-1,h=j.length-1;1<=o&&0<=h&&R[o]!==j[h];)h--;for(;1<=o&&0<=h;o--,h--)if(R[o]!==j[h]){if(o!==1||h!==1)do if(o--,h--,0>h||R[o]!==j[h]){var Y=`
`+R[o].replace(" at new "," at ");return e.displayName&&Y.includes("<anonymous>")&&(Y=Y.replace("<anonymous>",e.displayName)),Y}while(1<=o&&0<=h);break}}}finally{In=!1,Error.prepareStackTrace=r}return(r=e?e.displayName||e.name:"")?Ve(r):""}function Hi(e,n){switch(e.tag){case 26:case 27:case 5:return Ve(e.type);case 16:return Ve("Lazy");case 13:return e.child!==n&&n!==null?Ve("Suspense Fallback"):Ve("Suspense");case 19:return Ve("SuspenseList");case 0:case 15:return Re(e.type,!1);case 11:return Re(e.type.render,!1);case 1:return Re(e.type,!0);case 31:return Ve("Activity");default:return""}}function wr(e){try{var n="",r=null;do n+=Hi(e,r),r=e,e=e.return;while(e);return n}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var Te=Object.prototype.hasOwnProperty,Ie=s.unstable_scheduleCallback,Qn=s.unstable_cancelCallback,Ms=s.unstable_shouldYield,Os=s.unstable_requestPaint,Ye=s.unstable_now,Fi=s.unstable_getCurrentPriorityLevel,Vs=s.unstable_ImmediatePriority,Rr=s.unstable_UserBlockingPriority,fn=s.unstable_NormalPriority,Ra=s.unstable_LowPriority,bi=s.unstable_IdlePriority,Ir=s.log,ks=s.unstable_setDisableYieldValue,dn=null,Wt=null;function ke(e){if(typeof Ir=="function"&&ks(e),Wt&&typeof Wt.setStrictMode=="function")try{Wt.setStrictMode(dn,e)}catch{}}var oe=Math.clz32?Math.clz32:Ia,ui=Math.log,Gi=Math.LN2;function Ia(e){return e>>>=0,e===0?32:31-(ui(e)/Gi|0)|0}var Cn=256,Qi=262144,Jt=4194304;function Nn(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Dn(e,n,r){var o=e.pendingLanes;if(o===0)return 0;var h=0,f=e.suspendedLanes,g=e.pingedLanes;e=e.warmLanes;var E=o&134217727;return E!==0?(o=E&~f,o!==0?h=Nn(o):(g&=E,g!==0?h=Nn(g):r||(r=E&~e,r!==0&&(h=Nn(r))))):(E=o&~f,E!==0?h=Nn(E):g!==0?h=Nn(g):r||(r=o&~e,r!==0&&(h=Nn(r)))),h===0?0:n!==0&&n!==h&&(n&f)===0&&(f=h&-h,r=n&-n,f>=r||f===32&&(r&4194048)!==0)?n:h}function xn(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function Ca(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Us(){var e=Jt;return Jt<<=1,(Jt&62914560)===0&&(Jt=4194304),e}function Mn(e){for(var n=[],r=0;31>r;r++)n.push(e);return n}function Ai(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Na(e,n,r,o,h,f){var g=e.pendingLanes;e.pendingLanes=r,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=r,e.entangledLanes&=r,e.errorRecoveryDisabledLanes&=r,e.shellSuspendCounter=0;var E=e.entanglements,R=e.expirationTimes,j=e.hiddenUpdates;for(r=g&~r;0<r;){var Y=31-oe(r),$=1<<Y;E[Y]=0,R[Y]=-1;var B=j[Y];if(B!==null)for(j[Y]=null,Y=0;Y<B.length;Y++){var H=B[Y];H!==null&&(H.lane&=-536870913)}r&=~$}o!==0&&Yi(e,o,0),f!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=f&~(g&~n))}function Yi(e,n,r){e.pendingLanes|=n,e.suspendedLanes&=~n;var o=31-oe(n);e.entangledLanes|=n,e.entanglements[o]=e.entanglements[o]|1073741824|r&261930}function Cr(e,n){var r=e.entangledLanes|=n;for(e=e.entanglements;r;){var o=31-oe(r),h=1<<o;h&n|e[o]&n&&(e[o]|=n),r&=~h}}function Ls(e,n){var r=n&-n;return r=(r&42)!==0?1:Ki(r),(r&(e.suspendedLanes|n))!==0?0:r}function Ki(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function On(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Da(){var e=rt.p;return e!==0?e:(e=window.event,e===void 0?32:H_(e.type))}function Vn(e,n){var r=rt.p;try{return rt.p=e,n()}finally{rt.p=r}}var kn=Math.random().toString(36).slice(2),be="__reactFiber$"+kn,Ce="__reactProps$"+kn,Un="__reactContainer$"+kn,Nr="__reactEvents$"+kn,Qo="__reactListeners$"+kn,Ps="__reactHandles$"+kn,xa="__reactResources$"+kn,Yn="__reactMarker$"+kn;function Dr(e){delete e[be],delete e[Ce],delete e[Nr],delete e[Qo],delete e[Ps]}function Kn(e){var n=e[be];if(n)return n;for(var r=e.parentNode;r;){if(n=r[Un]||r[be]){if(r=n.alternate,n.child!==null||r!==null&&r.child!==null)for(e=I_(e);e!==null;){if(r=e[be])return r;e=I_(e)}return n}e=r,r=e.parentNode}return null}function _n(e){if(e=e[be]||e[Un]){var n=e.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return e}return null}function mn(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(a(33))}function Xn(e){var n=e[xa];return n||(n=e[xa]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Ae(e){e[Yn]=!0}var zs=new Set,js={};function Ue(e,n){Ln(e,n),Ln(e+"Capture",n)}function Ln(e,n){for(js[e]=n,e=0;e<n.length;e++)zs.add(n[e])}var xr=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Mr={},Bs={};function qs(e){return Te.call(Bs,e)?!0:Te.call(Mr,e)?!1:xr.test(e)?Bs[e]=!0:(Mr[e]=!0,!1)}function ci(e,n,r){if(qs(n))if(r===null)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var o=n.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+r)}}function gn(e,n,r){if(r===null)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+r)}}function N(e,n,r,o){if(o===null)e.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(r);return}e.setAttributeNS(n,r,""+o)}}function F(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function W(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function dt(e,n,r){var o=Object.getOwnPropertyDescriptor(e.constructor.prototype,n);if(!e.hasOwnProperty(n)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var h=o.get,f=o.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return h.call(this)},set:function(g){r=""+g,f.call(this,g)}}),Object.defineProperty(e,n,{enumerable:o.enumerable}),{getValue:function(){return r},setValue:function(g){r=""+g},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function ot(e){if(!e._valueTracker){var n=W(e)?"checked":"value";e._valueTracker=dt(e,n,""+e[n])}}function ue(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var r=n.getValue(),o="";return e&&(o=W(e)?e.checked?"true":"false":e.value),e=o,e!==r?(n.setValue(e),!0):!1}function _e(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var $e=/[\n"\\]/g;function ce(e){return e.replace($e,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function Si(e,n,r,o,h,f,g,E){e.name="",g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"?e.type=g:e.removeAttribute("type"),n!=null?g==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+F(n)):e.value!==""+F(n)&&(e.value=""+F(n)):g!=="submit"&&g!=="reset"||e.removeAttribute("value"),n!=null?Hs(e,g,F(n)):r!=null?Hs(e,g,F(r)):o!=null&&e.removeAttribute("value"),h==null&&f!=null&&(e.defaultChecked=!!f),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?e.name=""+F(E):e.removeAttribute("name")}function Ma(e,n,r,o,h,f,g,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.type=f),n!=null||r!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){ot(e);return}r=r!=null?""+F(r):"",n=n!=null?""+F(n):r,E||n===e.value||(e.value=n),e.defaultValue=n}o=o??h,o=typeof o!="function"&&typeof o!="symbol"&&!!o,e.checked=E?e.checked:!!o,e.defaultChecked=!!o,g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(e.name=g),ot(e)}function Hs(e,n,r){n==="number"&&_e(e.ownerDocument)===e||e.defaultValue===""+r||(e.defaultValue=""+r)}function Or(e,n,r,o){if(e=e.options,n){n={};for(var h=0;h<r.length;h++)n["$"+r[h]]=!0;for(r=0;r<e.length;r++)h=n.hasOwnProperty("$"+e[r].value),e[r].selected!==h&&(e[r].selected=h),h&&o&&(e[r].defaultSelected=!0)}else{for(r=""+F(r),n=null,h=0;h<e.length;h++){if(e[h].value===r){e[h].selected=!0,o&&(e[h].defaultSelected=!0);return}n!==null||e[h].disabled||(n=e[h])}n!==null&&(n.selected=!0)}}function bu(e,n,r){if(n!=null&&(n=""+F(n),n!==e.value&&(e.value=n),r==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=r!=null?""+F(r):""}function Vr(e,n,r,o){if(n==null){if(o!=null){if(r!=null)throw Error(a(92));if(Ee(o)){if(1<o.length)throw Error(a(93));o=o[0]}r=o}r==null&&(r=""),n=r}r=F(n),e.defaultValue=r,o=e.textContent,o===r&&o!==""&&o!==null&&(e.value=o),ot(e)}function vn(e,n){if(n){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=n;return}}e.textContent=n}var Au=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Yo(e,n,r){var o=n.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?o?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":o?e.setProperty(n,r):typeof r!="number"||r===0||Au.has(n)?n==="float"?e.cssFloat=r:e[n]=(""+r).trim():e[n]=r+"px"}function Ko(e,n,r){if(n!=null&&typeof n!="object")throw Error(a(62));if(e=e.style,r!=null){for(var o in r)!r.hasOwnProperty(o)||n!=null&&n.hasOwnProperty(o)||(o.indexOf("--")===0?e.setProperty(o,""):o==="float"?e.cssFloat="":e[o]="");for(var h in n)o=n[h],n.hasOwnProperty(h)&&r[h]!==o&&Yo(e,h,o)}else for(var f in n)n.hasOwnProperty(f)&&Yo(e,f,n[f])}function Oa(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Su=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),kr=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Va(e){return kr.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function hi(){}var Xo=null;function $n(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ur=null,wi=null;function Fs(e){var n=_n(e);if(n&&(e=n.stateNode)){var r=e[Ce]||null;t:switch(e=n.stateNode,n.type){case"input":if(Si(e,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),n=r.name,r.type==="radio"&&n!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+ce(""+n)+'"][type="radio"]'),n=0;n<r.length;n++){var o=r[n];if(o!==e&&o.form===e.form){var h=o[Ce]||null;if(!h)throw Error(a(90));Si(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<r.length;n++)o=r[n],o.form===e.form&&ue(o)}break t;case"textarea":bu(e,r.value,r.defaultValue);break t;case"select":n=r.value,n!=null&&Or(e,!!r.multiple,n,!1)}}}var ka=!1;function Lr(e,n,r){if(ka)return e(n,r);ka=!0;try{var o=e(n);return o}finally{if(ka=!1,(Ur!==null||wi!==null)&&(yc(),Ur&&(n=Ur,e=wi,wi=Ur=null,Fs(n),e)))for(n=0;n<e.length;n++)Fs(e[n])}}function fi(e,n){var r=e.stateNode;if(r===null)return null;var o=r[Ce]||null;if(o===null)return null;r=o[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break t;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(a(231,n,typeof r));return r}var Jn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Gs=!1;if(Jn)try{var ie={};Object.defineProperty(ie,"passive",{get:function(){Gs=!0}}),window.addEventListener("test",ie,ie),window.removeEventListener("test",ie,ie)}catch{Gs=!1}var Ri=null,$o=null,Qs=null;function Jo(){if(Qs)return Qs;var e,n=$o,r=n.length,o,h="value"in Ri?Ri.value:Ri.textContent,f=h.length;for(e=0;e<r&&n[e]===h[e];e++);var g=r-e;for(o=1;o<=g&&n[r-o]===h[f-o];o++);return Qs=h.slice(e,1<o?1-o:void 0)}function Ys(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function Xi(){return!0}function di(){return!1}function Je(e){function n(r,o,h,f,g){this._reactName=r,this._targetInst=h,this.type=o,this.nativeEvent=f,this.target=g,this.currentTarget=null;for(var E in e)e.hasOwnProperty(E)&&(r=e[E],this[E]=r?r(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Xi:di,this.isPropagationStopped=di,this}return A(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Xi)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Xi)},persist:function(){},isPersistent:Xi}),n}var $i={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ii=Je($i),Pr=A({},$i,{view:0,detail:0}),Zo=Je(Pr),zr,Ua,Ci,La=A({},Pr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:jr,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ci&&(Ci&&e.type==="mousemove"?(zr=e.screenX-Ci.screenX,Ua=e.screenY-Ci.screenY):Ua=zr=0,Ci=e),zr)},movementY:function(e){return"movementY"in e?e.movementY:Ua}}),Wo=Je(La),Ks=A({},La,{dataTransfer:0}),wu=Je(Ks),Ru=A({},Pr,{relatedTarget:0}),Xs=Je(Ru),tl=A({},$i,{animationName:0,elapsedTime:0,pseudoElement:0}),Iu=Je(tl),Pa=A({},$i,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Cu=Je(Pa),Nu=A({},$i,{data:0}),Ni=Je(Nu),Du={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},xu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Mu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ou(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=Mu[e])?!!n[e]:!1}function jr(){return Ou}var pn=A({},Pr,{key:function(e){if(e.key){var n=Du[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=Ys(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?xu[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:jr,charCode:function(e){return e.type==="keypress"?Ys(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ys(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Vu=Je(pn),ku=A({},La,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ji=Je(ku),u=A({},Pr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:jr}),m=Je(u),v=A({},$i,{propertyName:0,elapsedTime:0,pseudoElement:0}),T=Je(v),P=A({},La,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),q=Je(P),it=A({},$i,{newState:0,oldState:0}),Ct=Je(it),Ne=[9,13,27,32],Xt=Jn&&"CompositionEvent"in window,pe=null;Jn&&"documentMode"in document&&(pe=document.documentMode);var Zn=Jn&&"TextEvent"in window&&!pe,Di=Jn&&(!Xt||pe&&8<pe&&11>=pe),mi=" ",gi=!1;function $s(e,n){switch(e){case"keyup":return Ne.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function za(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ja=!1;function fT(e,n){switch(e){case"compositionend":return za(n);case"keypress":return n.which!==32?null:(gi=!0,mi);case"textInput":return e=n.data,e===mi&&gi?null:e;default:return null}}function dT(e,n){if(ja)return e==="compositionend"||!Xt&&$s(e,n)?(e=Jo(),Qs=$o=Ri=null,ja=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return Di&&n.locale!=="ko"?null:n.data;default:return null}}var mT={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Dg(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!mT[e.type]:n==="textarea"}function xg(e,n,r,o){Ur?wi?wi.push(o):wi=[o]:Ur=o,n=Sc(n,"onChange"),0<n.length&&(r=new Ii("onChange","change",null,r,o),e.push({event:r,listeners:n}))}var el=null,nl=null;function gT(e){d_(e,0)}function Uu(e){var n=mn(e);if(ue(n))return e}function Mg(e,n){if(e==="change")return n}var Og=!1;if(Jn){var Gh;if(Jn){var Qh="oninput"in document;if(!Qh){var Vg=document.createElement("div");Vg.setAttribute("oninput","return;"),Qh=typeof Vg.oninput=="function"}Gh=Qh}else Gh=!1;Og=Gh&&(!document.documentMode||9<document.documentMode)}function kg(){el&&(el.detachEvent("onpropertychange",Ug),nl=el=null)}function Ug(e){if(e.propertyName==="value"&&Uu(nl)){var n=[];xg(n,nl,e,$n(e)),Lr(gT,n)}}function pT(e,n,r){e==="focusin"?(kg(),el=n,nl=r,el.attachEvent("onpropertychange",Ug)):e==="focusout"&&kg()}function yT(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Uu(nl)}function _T(e,n){if(e==="click")return Uu(n)}function vT(e,n){if(e==="input"||e==="change")return Uu(n)}function ET(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var Pn=typeof Object.is=="function"?Object.is:ET;function il(e,n){if(Pn(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var r=Object.keys(e),o=Object.keys(n);if(r.length!==o.length)return!1;for(o=0;o<r.length;o++){var h=r[o];if(!Te.call(n,h)||!Pn(e[h],n[h]))return!1}return!0}function Lg(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Pg(e,n){var r=Lg(e);e=0;for(var o;r;){if(r.nodeType===3){if(o=e+r.textContent.length,e<=n&&o>=n)return{node:r,offset:n-e};e=o}t:{for(;r;){if(r.nextSibling){r=r.nextSibling;break t}r=r.parentNode}r=void 0}r=Lg(r)}}function zg(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?zg(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function jg(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=_e(e.document);n instanceof e.HTMLIFrameElement;){try{var r=typeof n.contentWindow.location.href=="string"}catch{r=!1}if(r)e=n.contentWindow;else break;n=_e(e.document)}return n}function Yh(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var TT=Jn&&"documentMode"in document&&11>=document.documentMode,Ba=null,Kh=null,rl=null,Xh=!1;function Bg(e,n,r){var o=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Xh||Ba==null||Ba!==_e(o)||(o=Ba,"selectionStart"in o&&Yh(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),rl&&il(rl,o)||(rl=o,o=Sc(Kh,"onSelect"),0<o.length&&(n=new Ii("onSelect","select",null,n,r),e.push({event:n,listeners:o}),n.target=Ba)))}function Js(e,n){var r={};return r[e.toLowerCase()]=n.toLowerCase(),r["Webkit"+e]="webkit"+n,r["Moz"+e]="moz"+n,r}var qa={animationend:Js("Animation","AnimationEnd"),animationiteration:Js("Animation","AnimationIteration"),animationstart:Js("Animation","AnimationStart"),transitionrun:Js("Transition","TransitionRun"),transitionstart:Js("Transition","TransitionStart"),transitioncancel:Js("Transition","TransitionCancel"),transitionend:Js("Transition","TransitionEnd")},$h={},qg={};Jn&&(qg=document.createElement("div").style,"AnimationEvent"in window||(delete qa.animationend.animation,delete qa.animationiteration.animation,delete qa.animationstart.animation),"TransitionEvent"in window||delete qa.transitionend.transition);function Zs(e){if($h[e])return $h[e];if(!qa[e])return e;var n=qa[e],r;for(r in n)if(n.hasOwnProperty(r)&&r in qg)return $h[e]=n[r];return e}var Hg=Zs("animationend"),Fg=Zs("animationiteration"),Gg=Zs("animationstart"),bT=Zs("transitionrun"),AT=Zs("transitionstart"),ST=Zs("transitioncancel"),Qg=Zs("transitionend"),Yg=new Map,Jh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Jh.push("scrollEnd");function pi(e,n){Yg.set(e,n),Ue(n,[e])}var Lu=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Wn=[],Ha=0,Zh=0;function Pu(){for(var e=Ha,n=Zh=Ha=0;n<e;){var r=Wn[n];Wn[n++]=null;var o=Wn[n];Wn[n++]=null;var h=Wn[n];Wn[n++]=null;var f=Wn[n];if(Wn[n++]=null,o!==null&&h!==null){var g=o.pending;g===null?h.next=h:(h.next=g.next,g.next=h),o.pending=h}f!==0&&Kg(r,h,f)}}function zu(e,n,r,o){Wn[Ha++]=e,Wn[Ha++]=n,Wn[Ha++]=r,Wn[Ha++]=o,Zh|=o,e.lanes|=o,e=e.alternate,e!==null&&(e.lanes|=o)}function Wh(e,n,r,o){return zu(e,n,r,o),ju(e)}function Ws(e,n){return zu(e,null,null,n),ju(e)}function Kg(e,n,r){e.lanes|=r;var o=e.alternate;o!==null&&(o.lanes|=r);for(var h=!1,f=e.return;f!==null;)f.childLanes|=r,o=f.alternate,o!==null&&(o.childLanes|=r),f.tag===22&&(e=f.stateNode,e===null||e._visibility&1||(h=!0)),e=f,f=f.return;return e.tag===3?(f=e.stateNode,h&&n!==null&&(h=31-oe(r),e=f.hiddenUpdates,o=e[h],o===null?e[h]=[n]:o.push(n),n.lane=r|536870912),f):null}function ju(e){if(50<Rl)throw Rl=0,ud=null,Error(a(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var Fa={};function wT(e,n,r,o){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function zn(e,n,r,o){return new wT(e,n,r,o)}function tf(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Zi(e,n){var r=e.alternate;return r===null?(r=zn(e.tag,n,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=n,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&65011712,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,n=e.dependencies,r.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r.refCleanup=e.refCleanup,r}function Xg(e,n){e.flags&=65011714;var r=e.alternate;return r===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=r.childLanes,e.lanes=r.lanes,e.child=r.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=r.memoizedProps,e.memoizedState=r.memoizedState,e.updateQueue=r.updateQueue,e.type=r.type,n=r.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function Bu(e,n,r,o,h,f){var g=0;if(o=e,typeof e=="function")tf(e)&&(g=1);else if(typeof e=="string")g=Db(e,r,lt.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case I:return e=zn(31,r,n,h),e.elementType=I,e.lanes=f,e;case nt:return ta(r.children,h,f,n);case et:g=8,h|=24;break;case yt:return e=zn(12,r,n,h|2),e.elementType=yt,e.lanes=f,e;case Kt:return e=zn(13,r,n,h),e.elementType=Kt,e.lanes=f,e;case xt:return e=zn(19,r,n,h),e.elementType=xt,e.lanes=f,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case _t:g=10;break t;case St:g=9;break t;case Mt:g=11;break t;case C:g=14;break t;case S:g=16,o=null;break t}g=29,r=Error(a(130,e===null?"null":typeof e,"")),o=null}return n=zn(g,r,n,h),n.elementType=e,n.type=o,n.lanes=f,n}function ta(e,n,r,o){return e=zn(7,e,o,n),e.lanes=r,e}function ef(e,n,r){return e=zn(6,e,null,n),e.lanes=r,e}function $g(e){var n=zn(18,null,null,0);return n.stateNode=e,n}function nf(e,n,r){return n=zn(4,e.children!==null?e.children:[],e.key,n),n.lanes=r,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var Jg=new WeakMap;function ti(e,n){if(typeof e=="object"&&e!==null){var r=Jg.get(e);return r!==void 0?r:(n={value:e,source:n,stack:wr(n)},Jg.set(e,n),n)}return{value:e,source:n,stack:wr(n)}}var Ga=[],Qa=0,qu=null,sl=0,ei=[],ni=0,Br=null,xi=1,Mi="";function Wi(e,n){Ga[Qa++]=sl,Ga[Qa++]=qu,qu=e,sl=n}function Zg(e,n,r){ei[ni++]=xi,ei[ni++]=Mi,ei[ni++]=Br,Br=e;var o=xi;e=Mi;var h=32-oe(o)-1;o&=~(1<<h),r+=1;var f=32-oe(n)+h;if(30<f){var g=h-h%5;f=(o&(1<<g)-1).toString(32),o>>=g,h-=g,xi=1<<32-oe(n)+h|r<<h|o,Mi=f+e}else xi=1<<f|r<<h|o,Mi=e}function rf(e){e.return!==null&&(Wi(e,1),Zg(e,1,0))}function sf(e){for(;e===qu;)qu=Ga[--Qa],Ga[Qa]=null,sl=Ga[--Qa],Ga[Qa]=null;for(;e===Br;)Br=ei[--ni],ei[ni]=null,Mi=ei[--ni],ei[ni]=null,xi=ei[--ni],ei[ni]=null}function Wg(e,n){ei[ni++]=xi,ei[ni++]=Mi,ei[ni++]=Br,xi=n.id,Mi=n.overflow,Br=e}var Ze=null,de=null,Ft=!1,qr=null,ii=!1,af=Error(a(519));function Hr(e){var n=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw al(ti(n,e)),af}function tp(e){var n=e.stateNode,r=e.type,o=e.memoizedProps;switch(n[be]=e,n[Ce]=o,r){case"dialog":Vt("cancel",n),Vt("close",n);break;case"iframe":case"object":case"embed":Vt("load",n);break;case"video":case"audio":for(r=0;r<Cl.length;r++)Vt(Cl[r],n);break;case"source":Vt("error",n);break;case"img":case"image":case"link":Vt("error",n),Vt("load",n);break;case"details":Vt("toggle",n);break;case"input":Vt("invalid",n),Ma(n,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":Vt("invalid",n);break;case"textarea":Vt("invalid",n),Vr(n,o.value,o.defaultValue,o.children)}r=o.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||n.textContent===""+r||o.suppressHydrationWarning===!0||y_(n.textContent,r)?(o.popover!=null&&(Vt("beforetoggle",n),Vt("toggle",n)),o.onScroll!=null&&Vt("scroll",n),o.onScrollEnd!=null&&Vt("scrollend",n),o.onClick!=null&&(n.onclick=hi),n=!0):n=!1,n||Hr(e,!0)}function ep(e){for(Ze=e.return;Ze;)switch(Ze.tag){case 5:case 31:case 13:ii=!1;return;case 27:case 3:ii=!0;return;default:Ze=Ze.return}}function Ya(e){if(e!==Ze)return!1;if(!Ft)return ep(e),Ft=!0,!1;var n=e.tag,r;if((r=n!==3&&n!==27)&&((r=n===5)&&(r=e.type,r=!(r!=="form"&&r!=="button")||Sd(e.type,e.memoizedProps)),r=!r),r&&de&&Hr(e),ep(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));de=R_(e)}else if(n===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));de=R_(e)}else n===27?(n=de,is(e.type)?(e=Nd,Nd=null,de=e):de=n):de=Ze?si(e.stateNode.nextSibling):null;return!0}function ea(){de=Ze=null,Ft=!1}function of(){var e=qr;return e!==null&&(An===null?An=e:An.push.apply(An,e),qr=null),e}function al(e){qr===null?qr=[e]:qr.push(e)}var lf=M(null),na=null,tr=null;function Fr(e,n,r){st(lf,n._currentValue),n._currentValue=r}function er(e){e._currentValue=lf.current,X(lf)}function uf(e,n,r){for(;e!==null;){var o=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,o!==null&&(o.childLanes|=n)):o!==null&&(o.childLanes&n)!==n&&(o.childLanes|=n),e===r)break;e=e.return}}function cf(e,n,r,o){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var f=h.dependencies;if(f!==null){var g=h.child;f=f.firstContext;t:for(;f!==null;){var E=f;f=h;for(var R=0;R<n.length;R++)if(E.context===n[R]){f.lanes|=r,E=f.alternate,E!==null&&(E.lanes|=r),uf(f.return,r,e),o||(g=null);break t}f=E.next}}else if(h.tag===18){if(g=h.return,g===null)throw Error(a(341));g.lanes|=r,f=g.alternate,f!==null&&(f.lanes|=r),uf(g,r,e),g=null}else g=h.child;if(g!==null)g.return=h;else for(g=h;g!==null;){if(g===e){g=null;break}if(h=g.sibling,h!==null){h.return=g.return,g=h;break}g=g.return}h=g}}function Ka(e,n,r,o){e=null;for(var h=n,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var g=h.alternate;if(g===null)throw Error(a(387));if(g=g.memoizedProps,g!==null){var E=h.type;Pn(h.pendingProps.value,g.value)||(e!==null?e.push(E):e=[E])}}else if(h===Ht.current){if(g=h.alternate,g===null)throw Error(a(387));g.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(Ol):e=[Ol])}h=h.return}e!==null&&cf(n,e,r,o),n.flags|=262144}function Hu(e){for(e=e.firstContext;e!==null;){if(!Pn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function ia(e){na=e,tr=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function We(e){return np(na,e)}function Fu(e,n){return na===null&&ia(e),np(e,n)}function np(e,n){var r=n._currentValue;if(n={context:n,memoizedValue:r,next:null},tr===null){if(e===null)throw Error(a(308));tr=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else tr=tr.next=n;return r}var RT=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(r,o){e.push(o)}};this.abort=function(){n.aborted=!0,e.forEach(function(r){return r()})}},IT=s.unstable_scheduleCallback,CT=s.unstable_NormalPriority,Le={$$typeof:_t,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function hf(){return{controller:new RT,data:new Map,refCount:0}}function ol(e){e.refCount--,e.refCount===0&&IT(CT,function(){e.controller.abort()})}var ll=null,ff=0,Xa=0,$a=null;function NT(e,n){if(ll===null){var r=ll=[];ff=0,Xa=gd(),$a={status:"pending",value:void 0,then:function(o){r.push(o)}}}return ff++,n.then(ip,ip),n}function ip(){if(--ff===0&&ll!==null){$a!==null&&($a.status="fulfilled");var e=ll;ll=null,Xa=0,$a=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function DT(e,n){var r=[],o={status:"pending",value:null,reason:null,then:function(h){r.push(h)}};return e.then(function(){o.status="fulfilled",o.value=n;for(var h=0;h<r.length;h++)(0,r[h])(n)},function(h){for(o.status="rejected",o.reason=h,h=0;h<r.length;h++)(0,r[h])(void 0)}),o}var rp=G.S;G.S=function(e,n){By=Ye(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&NT(e,n),rp!==null&&rp(e,n)};var ra=M(null);function df(){var e=ra.current;return e!==null?e:le.pooledCache}function Gu(e,n){n===null?st(ra,ra.current):st(ra,n.pool)}function sp(){var e=df();return e===null?null:{parent:Le._currentValue,pool:e}}var Ja=Error(a(460)),mf=Error(a(474)),Qu=Error(a(542)),Yu={then:function(){}};function ap(e){return e=e.status,e==="fulfilled"||e==="rejected"}function op(e,n,r){switch(r=e[r],r===void 0?e.push(n):r!==n&&(n.then(hi,hi),n=r),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,up(e),e;default:if(typeof n.status=="string")n.then(hi,hi);else{if(e=le,e!==null&&100<e.shellSuspendCounter)throw Error(a(482));e=n,e.status="pending",e.then(function(o){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=o}},function(o){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=o}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,up(e),e}throw aa=n,Ja}}function sa(e){try{var n=e._init;return n(e._payload)}catch(r){throw r!==null&&typeof r=="object"&&typeof r.then=="function"?(aa=r,Ja):r}}var aa=null;function lp(){if(aa===null)throw Error(a(459));var e=aa;return aa=null,e}function up(e){if(e===Ja||e===Qu)throw Error(a(483))}var Za=null,ul=0;function Ku(e){var n=ul;return ul+=1,Za===null&&(Za=[]),op(Za,e,n)}function cl(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function Xu(e,n){throw n.$$typeof===O?Error(a(525)):(e=Object.prototype.toString.call(n),Error(a(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function cp(e){function n(k,x){if(e){var z=k.deletions;z===null?(k.deletions=[x],k.flags|=16):z.push(x)}}function r(k,x){if(!e)return null;for(;x!==null;)n(k,x),x=x.sibling;return null}function o(k){for(var x=new Map;k!==null;)k.key!==null?x.set(k.key,k):x.set(k.index,k),k=k.sibling;return x}function h(k,x){return k=Zi(k,x),k.index=0,k.sibling=null,k}function f(k,x,z){return k.index=z,e?(z=k.alternate,z!==null?(z=z.index,z<x?(k.flags|=67108866,x):z):(k.flags|=67108866,x)):(k.flags|=1048576,x)}function g(k){return e&&k.alternate===null&&(k.flags|=67108866),k}function E(k,x,z,K){return x===null||x.tag!==6?(x=ef(z,k.mode,K),x.return=k,x):(x=h(x,z),x.return=k,x)}function R(k,x,z,K){var gt=z.type;return gt===nt?Y(k,x,z.props.children,K,z.key):x!==null&&(x.elementType===gt||typeof gt=="object"&&gt!==null&&gt.$$typeof===S&&sa(gt)===x.type)?(x=h(x,z.props),cl(x,z),x.return=k,x):(x=Bu(z.type,z.key,z.props,null,k.mode,K),cl(x,z),x.return=k,x)}function j(k,x,z,K){return x===null||x.tag!==4||x.stateNode.containerInfo!==z.containerInfo||x.stateNode.implementation!==z.implementation?(x=nf(z,k.mode,K),x.return=k,x):(x=h(x,z.children||[]),x.return=k,x)}function Y(k,x,z,K,gt){return x===null||x.tag!==7?(x=ta(z,k.mode,K,gt),x.return=k,x):(x=h(x,z),x.return=k,x)}function $(k,x,z){if(typeof x=="string"&&x!==""||typeof x=="number"||typeof x=="bigint")return x=ef(""+x,k.mode,z),x.return=k,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Q:return z=Bu(x.type,x.key,x.props,null,k.mode,z),cl(z,x),z.return=k,z;case tt:return x=nf(x,k.mode,z),x.return=k,x;case S:return x=sa(x),$(k,x,z)}if(Ee(x)||U(x))return x=ta(x,k.mode,z,null),x.return=k,x;if(typeof x.then=="function")return $(k,Ku(x),z);if(x.$$typeof===_t)return $(k,Fu(k,x),z);Xu(k,x)}return null}function B(k,x,z,K){var gt=x!==null?x.key:null;if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return gt!==null?null:E(k,x,""+z,K);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case Q:return z.key===gt?R(k,x,z,K):null;case tt:return z.key===gt?j(k,x,z,K):null;case S:return z=sa(z),B(k,x,z,K)}if(Ee(z)||U(z))return gt!==null?null:Y(k,x,z,K,null);if(typeof z.then=="function")return B(k,x,Ku(z),K);if(z.$$typeof===_t)return B(k,x,Fu(k,z),K);Xu(k,z)}return null}function H(k,x,z,K,gt){if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return k=k.get(z)||null,E(x,k,""+K,gt);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case Q:return k=k.get(K.key===null?z:K.key)||null,R(x,k,K,gt);case tt:return k=k.get(K.key===null?z:K.key)||null,j(x,k,K,gt);case S:return K=sa(K),H(k,x,z,K,gt)}if(Ee(K)||U(K))return k=k.get(z)||null,Y(x,k,K,gt,null);if(typeof K.then=="function")return H(k,x,z,Ku(K),gt);if(K.$$typeof===_t)return H(k,x,z,Fu(x,K),gt);Xu(x,K)}return null}function ht(k,x,z,K){for(var gt=null,Qt=null,ft=x,Dt=x=0,Lt=null;ft!==null&&Dt<z.length;Dt++){ft.index>Dt?(Lt=ft,ft=null):Lt=ft.sibling;var Yt=B(k,ft,z[Dt],K);if(Yt===null){ft===null&&(ft=Lt);break}e&&ft&&Yt.alternate===null&&n(k,ft),x=f(Yt,x,Dt),Qt===null?gt=Yt:Qt.sibling=Yt,Qt=Yt,ft=Lt}if(Dt===z.length)return r(k,ft),Ft&&Wi(k,Dt),gt;if(ft===null){for(;Dt<z.length;Dt++)ft=$(k,z[Dt],K),ft!==null&&(x=f(ft,x,Dt),Qt===null?gt=ft:Qt.sibling=ft,Qt=ft);return Ft&&Wi(k,Dt),gt}for(ft=o(ft);Dt<z.length;Dt++)Lt=H(ft,k,Dt,z[Dt],K),Lt!==null&&(e&&Lt.alternate!==null&&ft.delete(Lt.key===null?Dt:Lt.key),x=f(Lt,x,Dt),Qt===null?gt=Lt:Qt.sibling=Lt,Qt=Lt);return e&&ft.forEach(function(ls){return n(k,ls)}),Ft&&Wi(k,Dt),gt}function vt(k,x,z,K){if(z==null)throw Error(a(151));for(var gt=null,Qt=null,ft=x,Dt=x=0,Lt=null,Yt=z.next();ft!==null&&!Yt.done;Dt++,Yt=z.next()){ft.index>Dt?(Lt=ft,ft=null):Lt=ft.sibling;var ls=B(k,ft,Yt.value,K);if(ls===null){ft===null&&(ft=Lt);break}e&&ft&&ls.alternate===null&&n(k,ft),x=f(ls,x,Dt),Qt===null?gt=ls:Qt.sibling=ls,Qt=ls,ft=Lt}if(Yt.done)return r(k,ft),Ft&&Wi(k,Dt),gt;if(ft===null){for(;!Yt.done;Dt++,Yt=z.next())Yt=$(k,Yt.value,K),Yt!==null&&(x=f(Yt,x,Dt),Qt===null?gt=Yt:Qt.sibling=Yt,Qt=Yt);return Ft&&Wi(k,Dt),gt}for(ft=o(ft);!Yt.done;Dt++,Yt=z.next())Yt=H(ft,k,Dt,Yt.value,K),Yt!==null&&(e&&Yt.alternate!==null&&ft.delete(Yt.key===null?Dt:Yt.key),x=f(Yt,x,Dt),Qt===null?gt=Yt:Qt.sibling=Yt,Qt=Yt);return e&&ft.forEach(function(Bb){return n(k,Bb)}),Ft&&Wi(k,Dt),gt}function ae(k,x,z,K){if(typeof z=="object"&&z!==null&&z.type===nt&&z.key===null&&(z=z.props.children),typeof z=="object"&&z!==null){switch(z.$$typeof){case Q:t:{for(var gt=z.key;x!==null;){if(x.key===gt){if(gt=z.type,gt===nt){if(x.tag===7){r(k,x.sibling),K=h(x,z.props.children),K.return=k,k=K;break t}}else if(x.elementType===gt||typeof gt=="object"&&gt!==null&&gt.$$typeof===S&&sa(gt)===x.type){r(k,x.sibling),K=h(x,z.props),cl(K,z),K.return=k,k=K;break t}r(k,x);break}else n(k,x);x=x.sibling}z.type===nt?(K=ta(z.props.children,k.mode,K,z.key),K.return=k,k=K):(K=Bu(z.type,z.key,z.props,null,k.mode,K),cl(K,z),K.return=k,k=K)}return g(k);case tt:t:{for(gt=z.key;x!==null;){if(x.key===gt)if(x.tag===4&&x.stateNode.containerInfo===z.containerInfo&&x.stateNode.implementation===z.implementation){r(k,x.sibling),K=h(x,z.children||[]),K.return=k,k=K;break t}else{r(k,x);break}else n(k,x);x=x.sibling}K=nf(z,k.mode,K),K.return=k,k=K}return g(k);case S:return z=sa(z),ae(k,x,z,K)}if(Ee(z))return ht(k,x,z,K);if(U(z)){if(gt=U(z),typeof gt!="function")throw Error(a(150));return z=gt.call(z),vt(k,x,z,K)}if(typeof z.then=="function")return ae(k,x,Ku(z),K);if(z.$$typeof===_t)return ae(k,x,Fu(k,z),K);Xu(k,z)}return typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint"?(z=""+z,x!==null&&x.tag===6?(r(k,x.sibling),K=h(x,z),K.return=k,k=K):(r(k,x),K=ef(z,k.mode,K),K.return=k,k=K),g(k)):r(k,x)}return function(k,x,z,K){try{ul=0;var gt=ae(k,x,z,K);return Za=null,gt}catch(ft){if(ft===Ja||ft===Qu)throw ft;var Qt=zn(29,ft,null,k.mode);return Qt.lanes=K,Qt.return=k,Qt}finally{}}}var oa=cp(!0),hp=cp(!1),Gr=!1;function gf(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function pf(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Qr(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Yr(e,n,r){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,($t&2)!==0){var h=o.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),o.pending=n,n=ju(e),Kg(e,null,r),n}return zu(e,o,n,r),ju(e)}function hl(e,n,r){if(n=n.updateQueue,n!==null&&(n=n.shared,(r&4194048)!==0)){var o=n.lanes;o&=e.pendingLanes,r|=o,n.lanes=r,Cr(e,r)}}function yf(e,n){var r=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,r===o)){var h=null,f=null;if(r=r.firstBaseUpdate,r!==null){do{var g={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};f===null?h=f=g:f=f.next=g,r=r.next}while(r!==null);f===null?h=f=n:f=f.next=n}else h=f=n;r={baseState:o.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:o.shared,callbacks:o.callbacks},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=n:e.next=n,r.lastBaseUpdate=n}var _f=!1;function fl(){if(_f){var e=$a;if(e!==null)throw e}}function dl(e,n,r,o){_f=!1;var h=e.updateQueue;Gr=!1;var f=h.firstBaseUpdate,g=h.lastBaseUpdate,E=h.shared.pending;if(E!==null){h.shared.pending=null;var R=E,j=R.next;R.next=null,g===null?f=j:g.next=j,g=R;var Y=e.alternate;Y!==null&&(Y=Y.updateQueue,E=Y.lastBaseUpdate,E!==g&&(E===null?Y.firstBaseUpdate=j:E.next=j,Y.lastBaseUpdate=R))}if(f!==null){var $=h.baseState;g=0,Y=j=R=null,E=f;do{var B=E.lane&-536870913,H=B!==E.lane;if(H?(Ut&B)===B:(o&B)===B){B!==0&&B===Xa&&(_f=!0),Y!==null&&(Y=Y.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var ht=e,vt=E;B=n;var ae=r;switch(vt.tag){case 1:if(ht=vt.payload,typeof ht=="function"){$=ht.call(ae,$,B);break t}$=ht;break t;case 3:ht.flags=ht.flags&-65537|128;case 0:if(ht=vt.payload,B=typeof ht=="function"?ht.call(ae,$,B):ht,B==null)break t;$=A({},$,B);break t;case 2:Gr=!0}}B=E.callback,B!==null&&(e.flags|=64,H&&(e.flags|=8192),H=h.callbacks,H===null?h.callbacks=[B]:H.push(B))}else H={lane:B,tag:E.tag,payload:E.payload,callback:E.callback,next:null},Y===null?(j=Y=H,R=$):Y=Y.next=H,g|=B;if(E=E.next,E===null){if(E=h.shared.pending,E===null)break;H=E,E=H.next,H.next=null,h.lastBaseUpdate=H,h.shared.pending=null}}while(!0);Y===null&&(R=$),h.baseState=R,h.firstBaseUpdate=j,h.lastBaseUpdate=Y,f===null&&(h.shared.lanes=0),Zr|=g,e.lanes=g,e.memoizedState=$}}function fp(e,n){if(typeof e!="function")throw Error(a(191,e));e.call(n)}function dp(e,n){var r=e.callbacks;if(r!==null)for(e.callbacks=null,e=0;e<r.length;e++)fp(r[e],n)}var Wa=M(null),$u=M(0);function mp(e,n){e=cr,st($u,e),st(Wa,n),cr=e|n.baseLanes}function vf(){st($u,cr),st(Wa,Wa.current)}function Ef(){cr=$u.current,X(Wa),X($u)}var jn=M(null),ri=null;function Kr(e){var n=e.alternate;st(De,De.current&1),st(jn,e),ri===null&&(n===null||Wa.current!==null||n.memoizedState!==null)&&(ri=e)}function Tf(e){st(De,De.current),st(jn,e),ri===null&&(ri=e)}function gp(e){e.tag===22?(st(De,De.current),st(jn,e),ri===null&&(ri=e)):Xr()}function Xr(){st(De,De.current),st(jn,jn.current)}function Bn(e){X(jn),ri===e&&(ri=null),X(De)}var De=M(0);function Ju(e){for(var n=e;n!==null;){if(n.tag===13){var r=n.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||Id(r)||Cd(r)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var nr=0,Nt=null,re=null,Pe=null,Zu=!1,to=!1,la=!1,Wu=0,ml=0,eo=null,xT=0;function Se(){throw Error(a(321))}function bf(e,n){if(n===null)return!1;for(var r=0;r<n.length&&r<e.length;r++)if(!Pn(e[r],n[r]))return!1;return!0}function Af(e,n,r,o,h,f){return nr=f,Nt=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,G.H=e===null||e.memoizedState===null?Zp:Pf,la=!1,f=r(o,h),la=!1,to&&(f=yp(n,r,o,h)),pp(e),f}function pp(e){G.H=yl;var n=re!==null&&re.next!==null;if(nr=0,Pe=re=Nt=null,Zu=!1,ml=0,eo=null,n)throw Error(a(300));e===null||ze||(e=e.dependencies,e!==null&&Hu(e)&&(ze=!0))}function yp(e,n,r,o){Nt=e;var h=0;do{if(to&&(eo=null),ml=0,to=!1,25<=h)throw Error(a(301));if(h+=1,Pe=re=null,e.updateQueue!=null){var f=e.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}G.H=Wp,f=n(r,o)}while(to);return f}function MT(){var e=G.H,n=e.useState()[0];return n=typeof n.then=="function"?gl(n):n,e=e.useState()[0],(re!==null?re.memoizedState:null)!==e&&(Nt.flags|=1024),n}function Sf(){var e=Wu!==0;return Wu=0,e}function wf(e,n,r){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~r}function Rf(e){if(Zu){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}Zu=!1}nr=0,Pe=re=Nt=null,to=!1,ml=Wu=0,eo=null}function yn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Pe===null?Nt.memoizedState=Pe=e:Pe=Pe.next=e,Pe}function xe(){if(re===null){var e=Nt.alternate;e=e!==null?e.memoizedState:null}else e=re.next;var n=Pe===null?Nt.memoizedState:Pe.next;if(n!==null)Pe=n,re=e;else{if(e===null)throw Nt.alternate===null?Error(a(467)):Error(a(310));re=e,e={memoizedState:re.memoizedState,baseState:re.baseState,baseQueue:re.baseQueue,queue:re.queue,next:null},Pe===null?Nt.memoizedState=Pe=e:Pe=Pe.next=e}return Pe}function tc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function gl(e){var n=ml;return ml+=1,eo===null&&(eo=[]),e=op(eo,e,n),n=Nt,(Pe===null?n.memoizedState:Pe.next)===null&&(n=n.alternate,G.H=n===null||n.memoizedState===null?Zp:Pf),e}function ec(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return gl(e);if(e.$$typeof===_t)return We(e)}throw Error(a(438,String(e)))}function If(e){var n=null,r=Nt.updateQueue;if(r!==null&&(n=r.memoCache),n==null){var o=Nt.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(n={data:o.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),r===null&&(r=tc(),Nt.updateQueue=r),r.memoCache=n,r=n.data[n.index],r===void 0)for(r=n.data[n.index]=Array(e),o=0;o<e;o++)r[o]=V;return n.index++,r}function ir(e,n){return typeof n=="function"?n(e):n}function nc(e){var n=xe();return Cf(n,re,e)}function Cf(e,n,r){var o=e.queue;if(o===null)throw Error(a(311));o.lastRenderedReducer=r;var h=e.baseQueue,f=o.pending;if(f!==null){if(h!==null){var g=h.next;h.next=f.next,f.next=g}n.baseQueue=h=f,o.pending=null}if(f=e.baseState,h===null)e.memoizedState=f;else{n=h.next;var E=g=null,R=null,j=n,Y=!1;do{var $=j.lane&-536870913;if($!==j.lane?(Ut&$)===$:(nr&$)===$){var B=j.revertLane;if(B===0)R!==null&&(R=R.next={lane:0,revertLane:0,gesture:null,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null}),$===Xa&&(Y=!0);else if((nr&B)===B){j=j.next,B===Xa&&(Y=!0);continue}else $={lane:0,revertLane:j.revertLane,gesture:null,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null},R===null?(E=R=$,g=f):R=R.next=$,Nt.lanes|=B,Zr|=B;$=j.action,la&&r(f,$),f=j.hasEagerState?j.eagerState:r(f,$)}else B={lane:$,revertLane:j.revertLane,gesture:j.gesture,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null},R===null?(E=R=B,g=f):R=R.next=B,Nt.lanes|=$,Zr|=$;j=j.next}while(j!==null&&j!==n);if(R===null?g=f:R.next=E,!Pn(f,e.memoizedState)&&(ze=!0,Y&&(r=$a,r!==null)))throw r;e.memoizedState=f,e.baseState=g,e.baseQueue=R,o.lastRenderedState=f}return h===null&&(o.lanes=0),[e.memoizedState,o.dispatch]}function Nf(e){var n=xe(),r=n.queue;if(r===null)throw Error(a(311));r.lastRenderedReducer=e;var o=r.dispatch,h=r.pending,f=n.memoizedState;if(h!==null){r.pending=null;var g=h=h.next;do f=e(f,g.action),g=g.next;while(g!==h);Pn(f,n.memoizedState)||(ze=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),r.lastRenderedState=f}return[f,o]}function _p(e,n,r){var o=Nt,h=xe(),f=Ft;if(f){if(r===void 0)throw Error(a(407));r=r()}else r=n();var g=!Pn((re||h).memoizedState,r);if(g&&(h.memoizedState=r,ze=!0),h=h.queue,Mf(Tp.bind(null,o,h,e),[e]),h.getSnapshot!==n||g||Pe!==null&&Pe.memoizedState.tag&1){if(o.flags|=2048,no(9,{destroy:void 0},Ep.bind(null,o,h,r,n),null),le===null)throw Error(a(349));f||(nr&127)!==0||vp(o,n,r)}return r}function vp(e,n,r){e.flags|=16384,e={getSnapshot:n,value:r},n=Nt.updateQueue,n===null?(n=tc(),Nt.updateQueue=n,n.stores=[e]):(r=n.stores,r===null?n.stores=[e]:r.push(e))}function Ep(e,n,r,o){n.value=r,n.getSnapshot=o,bp(n)&&Ap(e)}function Tp(e,n,r){return r(function(){bp(n)&&Ap(e)})}function bp(e){var n=e.getSnapshot;e=e.value;try{var r=n();return!Pn(e,r)}catch{return!0}}function Ap(e){var n=Ws(e,2);n!==null&&Sn(n,e,2)}function Df(e){var n=yn();if(typeof e=="function"){var r=e;if(e=r(),la){ke(!0);try{r()}finally{ke(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ir,lastRenderedState:e},n}function Sp(e,n,r,o){return e.baseState=r,Cf(e,re,typeof o=="function"?o:ir)}function OT(e,n,r,o,h){if(sc(e))throw Error(a(485));if(e=n.action,e!==null){var f={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(g){f.listeners.push(g)}};G.T!==null?r(!0):f.isTransition=!1,o(f),r=n.pending,r===null?(f.next=n.pending=f,wp(n,f)):(f.next=r.next,n.pending=r.next=f)}}function wp(e,n){var r=n.action,o=n.payload,h=e.state;if(n.isTransition){var f=G.T,g={};G.T=g;try{var E=r(h,o),R=G.S;R!==null&&R(g,E),Rp(e,n,E)}catch(j){xf(e,n,j)}finally{f!==null&&g.types!==null&&(f.types=g.types),G.T=f}}else try{f=r(h,o),Rp(e,n,f)}catch(j){xf(e,n,j)}}function Rp(e,n,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(o){Ip(e,n,o)},function(o){return xf(e,n,o)}):Ip(e,n,r)}function Ip(e,n,r){n.status="fulfilled",n.value=r,Cp(n),e.state=r,n=e.pending,n!==null&&(r=n.next,r===n?e.pending=null:(r=r.next,n.next=r,wp(e,r)))}function xf(e,n,r){var o=e.pending;if(e.pending=null,o!==null){o=o.next;do n.status="rejected",n.reason=r,Cp(n),n=n.next;while(n!==o)}e.action=null}function Cp(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function Np(e,n){return n}function Dp(e,n){if(Ft){var r=le.formState;if(r!==null){t:{var o=Nt;if(Ft){if(de){e:{for(var h=de,f=ii;h.nodeType!==8;){if(!f){h=null;break e}if(h=si(h.nextSibling),h===null){h=null;break e}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){de=si(h.nextSibling),o=h.data==="F!";break t}}Hr(o)}o=!1}o&&(n=r[0])}}return r=yn(),r.memoizedState=r.baseState=n,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Np,lastRenderedState:n},r.queue=o,r=Xp.bind(null,Nt,o),o.dispatch=r,o=Df(!1),f=Lf.bind(null,Nt,!1,o.queue),o=yn(),h={state:n,dispatch:null,action:e,pending:null},o.queue=h,r=OT.bind(null,Nt,h,f,r),h.dispatch=r,o.memoizedState=e,[n,r,!1]}function xp(e){var n=xe();return Mp(n,re,e)}function Mp(e,n,r){if(n=Cf(e,n,Np)[0],e=nc(ir)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var o=gl(n)}catch(g){throw g===Ja?Qu:g}else o=n;n=xe();var h=n.queue,f=h.dispatch;return r!==n.memoizedState&&(Nt.flags|=2048,no(9,{destroy:void 0},VT.bind(null,h,r),null)),[o,f,e]}function VT(e,n){e.action=n}function Op(e){var n=xe(),r=re;if(r!==null)return Mp(n,r,e);xe(),n=n.memoizedState,r=xe();var o=r.queue.dispatch;return r.memoizedState=e,[n,o,!1]}function no(e,n,r,o){return e={tag:e,create:r,deps:o,inst:n,next:null},n=Nt.updateQueue,n===null&&(n=tc(),Nt.updateQueue=n),r=n.lastEffect,r===null?n.lastEffect=e.next=e:(o=r.next,r.next=e,e.next=o,n.lastEffect=e),e}function Vp(){return xe().memoizedState}function ic(e,n,r,o){var h=yn();Nt.flags|=e,h.memoizedState=no(1|n,{destroy:void 0},r,o===void 0?null:o)}function rc(e,n,r,o){var h=xe();o=o===void 0?null:o;var f=h.memoizedState.inst;re!==null&&o!==null&&bf(o,re.memoizedState.deps)?h.memoizedState=no(n,f,r,o):(Nt.flags|=e,h.memoizedState=no(1|n,f,r,o))}function kp(e,n){ic(8390656,8,e,n)}function Mf(e,n){rc(2048,8,e,n)}function kT(e){Nt.flags|=4;var n=Nt.updateQueue;if(n===null)n=tc(),Nt.updateQueue=n,n.events=[e];else{var r=n.events;r===null?n.events=[e]:r.push(e)}}function Up(e){var n=xe().memoizedState;return kT({ref:n,nextImpl:e}),function(){if(($t&2)!==0)throw Error(a(440));return n.impl.apply(void 0,arguments)}}function Lp(e,n){return rc(4,2,e,n)}function Pp(e,n){return rc(4,4,e,n)}function zp(e,n){if(typeof n=="function"){e=e();var r=n(e);return function(){typeof r=="function"?r():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function jp(e,n,r){r=r!=null?r.concat([e]):null,rc(4,4,zp.bind(null,n,e),r)}function Of(){}function Bp(e,n){var r=xe();n=n===void 0?null:n;var o=r.memoizedState;return n!==null&&bf(n,o[1])?o[0]:(r.memoizedState=[e,n],e)}function qp(e,n){var r=xe();n=n===void 0?null:n;var o=r.memoizedState;if(n!==null&&bf(n,o[1]))return o[0];if(o=e(),la){ke(!0);try{e()}finally{ke(!1)}}return r.memoizedState=[o,n],o}function Vf(e,n,r){return r===void 0||(nr&1073741824)!==0&&(Ut&261930)===0?e.memoizedState=n:(e.memoizedState=r,e=Hy(),Nt.lanes|=e,Zr|=e,r)}function Hp(e,n,r,o){return Pn(r,n)?r:Wa.current!==null?(e=Vf(e,r,o),Pn(e,n)||(ze=!0),e):(nr&42)===0||(nr&1073741824)!==0&&(Ut&261930)===0?(ze=!0,e.memoizedState=r):(e=Hy(),Nt.lanes|=e,Zr|=e,n)}function Fp(e,n,r,o,h){var f=rt.p;rt.p=f!==0&&8>f?f:8;var g=G.T,E={};G.T=E,Lf(e,!1,n,r);try{var R=h(),j=G.S;if(j!==null&&j(E,R),R!==null&&typeof R=="object"&&typeof R.then=="function"){var Y=DT(R,o);pl(e,n,Y,Fn(e))}else pl(e,n,o,Fn(e))}catch($){pl(e,n,{then:function(){},status:"rejected",reason:$},Fn())}finally{rt.p=f,g!==null&&E.types!==null&&(g.types=E.types),G.T=g}}function UT(){}function kf(e,n,r,o){if(e.tag!==5)throw Error(a(476));var h=Gp(e).queue;Fp(e,h,n,mt,r===null?UT:function(){return Qp(e),r(o)})}function Gp(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:mt,baseState:mt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ir,lastRenderedState:mt},next:null};var r={};return n.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ir,lastRenderedState:r},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function Qp(e){var n=Gp(e);n.next===null&&(n=e.alternate.memoizedState),pl(e,n.next.queue,{},Fn())}function Uf(){return We(Ol)}function Yp(){return xe().memoizedState}function Kp(){return xe().memoizedState}function LT(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var r=Fn();e=Qr(r);var o=Yr(n,e,r);o!==null&&(Sn(o,n,r),hl(o,n,r)),n={cache:hf()},e.payload=n;return}n=n.return}}function PT(e,n,r){var o=Fn();r={lane:o,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},sc(e)?$p(n,r):(r=Wh(e,n,r,o),r!==null&&(Sn(r,e,o),Jp(r,n,o)))}function Xp(e,n,r){var o=Fn();pl(e,n,r,o)}function pl(e,n,r,o){var h={lane:o,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null};if(sc(e))$p(n,h);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var g=n.lastRenderedState,E=f(g,r);if(h.hasEagerState=!0,h.eagerState=E,Pn(E,g))return zu(e,n,h,0),le===null&&Pu(),!1}catch{}finally{}if(r=Wh(e,n,h,o),r!==null)return Sn(r,e,o),Jp(r,n,o),!0}return!1}function Lf(e,n,r,o){if(o={lane:2,revertLane:gd(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},sc(e)){if(n)throw Error(a(479))}else n=Wh(e,r,o,2),n!==null&&Sn(n,e,2)}function sc(e){var n=e.alternate;return e===Nt||n!==null&&n===Nt}function $p(e,n){to=Zu=!0;var r=e.pending;r===null?n.next=n:(n.next=r.next,r.next=n),e.pending=n}function Jp(e,n,r){if((r&4194048)!==0){var o=n.lanes;o&=e.pendingLanes,r|=o,n.lanes=r,Cr(e,r)}}var yl={readContext:We,use:ec,useCallback:Se,useContext:Se,useEffect:Se,useImperativeHandle:Se,useLayoutEffect:Se,useInsertionEffect:Se,useMemo:Se,useReducer:Se,useRef:Se,useState:Se,useDebugValue:Se,useDeferredValue:Se,useTransition:Se,useSyncExternalStore:Se,useId:Se,useHostTransitionStatus:Se,useFormState:Se,useActionState:Se,useOptimistic:Se,useMemoCache:Se,useCacheRefresh:Se};yl.useEffectEvent=Se;var Zp={readContext:We,use:ec,useCallback:function(e,n){return yn().memoizedState=[e,n===void 0?null:n],e},useContext:We,useEffect:kp,useImperativeHandle:function(e,n,r){r=r!=null?r.concat([e]):null,ic(4194308,4,zp.bind(null,n,e),r)},useLayoutEffect:function(e,n){return ic(4194308,4,e,n)},useInsertionEffect:function(e,n){ic(4,2,e,n)},useMemo:function(e,n){var r=yn();n=n===void 0?null:n;var o=e();if(la){ke(!0);try{e()}finally{ke(!1)}}return r.memoizedState=[o,n],o},useReducer:function(e,n,r){var o=yn();if(r!==void 0){var h=r(n);if(la){ke(!0);try{r(n)}finally{ke(!1)}}}else h=n;return o.memoizedState=o.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},o.queue=e,e=e.dispatch=PT.bind(null,Nt,e),[o.memoizedState,e]},useRef:function(e){var n=yn();return e={current:e},n.memoizedState=e},useState:function(e){e=Df(e);var n=e.queue,r=Xp.bind(null,Nt,n);return n.dispatch=r,[e.memoizedState,r]},useDebugValue:Of,useDeferredValue:function(e,n){var r=yn();return Vf(r,e,n)},useTransition:function(){var e=Df(!1);return e=Fp.bind(null,Nt,e.queue,!0,!1),yn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,r){var o=Nt,h=yn();if(Ft){if(r===void 0)throw Error(a(407));r=r()}else{if(r=n(),le===null)throw Error(a(349));(Ut&127)!==0||vp(o,n,r)}h.memoizedState=r;var f={value:r,getSnapshot:n};return h.queue=f,kp(Tp.bind(null,o,f,e),[e]),o.flags|=2048,no(9,{destroy:void 0},Ep.bind(null,o,f,r,n),null),r},useId:function(){var e=yn(),n=le.identifierPrefix;if(Ft){var r=Mi,o=xi;r=(o&~(1<<32-oe(o)-1)).toString(32)+r,n="_"+n+"R_"+r,r=Wu++,0<r&&(n+="H"+r.toString(32)),n+="_"}else r=xT++,n="_"+n+"r_"+r.toString(32)+"_";return e.memoizedState=n},useHostTransitionStatus:Uf,useFormState:Dp,useActionState:Dp,useOptimistic:function(e){var n=yn();n.memoizedState=n.baseState=e;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=r,n=Lf.bind(null,Nt,!0,r),r.dispatch=n,[e,n]},useMemoCache:If,useCacheRefresh:function(){return yn().memoizedState=LT.bind(null,Nt)},useEffectEvent:function(e){var n=yn(),r={impl:e};return n.memoizedState=r,function(){if(($t&2)!==0)throw Error(a(440));return r.impl.apply(void 0,arguments)}}},Pf={readContext:We,use:ec,useCallback:Bp,useContext:We,useEffect:Mf,useImperativeHandle:jp,useInsertionEffect:Lp,useLayoutEffect:Pp,useMemo:qp,useReducer:nc,useRef:Vp,useState:function(){return nc(ir)},useDebugValue:Of,useDeferredValue:function(e,n){var r=xe();return Hp(r,re.memoizedState,e,n)},useTransition:function(){var e=nc(ir)[0],n=xe().memoizedState;return[typeof e=="boolean"?e:gl(e),n]},useSyncExternalStore:_p,useId:Yp,useHostTransitionStatus:Uf,useFormState:xp,useActionState:xp,useOptimistic:function(e,n){var r=xe();return Sp(r,re,e,n)},useMemoCache:If,useCacheRefresh:Kp};Pf.useEffectEvent=Up;var Wp={readContext:We,use:ec,useCallback:Bp,useContext:We,useEffect:Mf,useImperativeHandle:jp,useInsertionEffect:Lp,useLayoutEffect:Pp,useMemo:qp,useReducer:Nf,useRef:Vp,useState:function(){return Nf(ir)},useDebugValue:Of,useDeferredValue:function(e,n){var r=xe();return re===null?Vf(r,e,n):Hp(r,re.memoizedState,e,n)},useTransition:function(){var e=Nf(ir)[0],n=xe().memoizedState;return[typeof e=="boolean"?e:gl(e),n]},useSyncExternalStore:_p,useId:Yp,useHostTransitionStatus:Uf,useFormState:Op,useActionState:Op,useOptimistic:function(e,n){var r=xe();return re!==null?Sp(r,re,e,n):(r.baseState=e,[e,r.queue.dispatch])},useMemoCache:If,useCacheRefresh:Kp};Wp.useEffectEvent=Up;function zf(e,n,r,o){n=e.memoizedState,r=r(o,n),r=r==null?n:A({},n,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var jf={enqueueSetState:function(e,n,r){e=e._reactInternals;var o=Fn(),h=Qr(o);h.payload=n,r!=null&&(h.callback=r),n=Yr(e,h,o),n!==null&&(Sn(n,e,o),hl(n,e,o))},enqueueReplaceState:function(e,n,r){e=e._reactInternals;var o=Fn(),h=Qr(o);h.tag=1,h.payload=n,r!=null&&(h.callback=r),n=Yr(e,h,o),n!==null&&(Sn(n,e,o),hl(n,e,o))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var r=Fn(),o=Qr(r);o.tag=2,n!=null&&(o.callback=n),n=Yr(e,o,r),n!==null&&(Sn(n,e,r),hl(n,e,r))}};function ty(e,n,r,o,h,f,g){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,f,g):n.prototype&&n.prototype.isPureReactComponent?!il(r,o)||!il(h,f):!0}function ey(e,n,r,o){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(r,o),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(r,o),n.state!==e&&jf.enqueueReplaceState(n,n.state,null)}function ua(e,n){var r=n;if("ref"in n){r={};for(var o in n)o!=="ref"&&(r[o]=n[o])}if(e=e.defaultProps){r===n&&(r=A({},r));for(var h in e)r[h]===void 0&&(r[h]=e[h])}return r}function ny(e){Lu(e)}function iy(e){console.error(e)}function ry(e){Lu(e)}function ac(e,n){try{var r=e.onUncaughtError;r(n.value,{componentStack:n.stack})}catch(o){setTimeout(function(){throw o})}}function sy(e,n,r){try{var o=e.onCaughtError;o(r.value,{componentStack:r.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Bf(e,n,r){return r=Qr(r),r.tag=3,r.payload={element:null},r.callback=function(){ac(e,n)},r}function ay(e){return e=Qr(e),e.tag=3,e}function oy(e,n,r,o){var h=r.type.getDerivedStateFromError;if(typeof h=="function"){var f=o.value;e.payload=function(){return h(f)},e.callback=function(){sy(n,r,o)}}var g=r.stateNode;g!==null&&typeof g.componentDidCatch=="function"&&(e.callback=function(){sy(n,r,o),typeof h!="function"&&(Wr===null?Wr=new Set([this]):Wr.add(this));var E=o.stack;this.componentDidCatch(o.value,{componentStack:E!==null?E:""})})}function zT(e,n,r,o,h){if(r.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(n=r.alternate,n!==null&&Ka(n,r,h,!0),r=jn.current,r!==null){switch(r.tag){case 31:case 13:return ri===null?_c():r.alternate===null&&we===0&&(we=3),r.flags&=-257,r.flags|=65536,r.lanes=h,o===Yu?r.flags|=16384:(n=r.updateQueue,n===null?r.updateQueue=new Set([o]):n.add(o),fd(e,o,h)),!1;case 22:return r.flags|=65536,o===Yu?r.flags|=16384:(n=r.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([o])},r.updateQueue=n):(r=n.retryQueue,r===null?n.retryQueue=new Set([o]):r.add(o)),fd(e,o,h)),!1}throw Error(a(435,r.tag))}return fd(e,o,h),_c(),!1}if(Ft)return n=jn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,o!==af&&(e=Error(a(422),{cause:o}),al(ti(e,r)))):(o!==af&&(n=Error(a(423),{cause:o}),al(ti(n,r))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,o=ti(o,r),h=Bf(e.stateNode,o,h),yf(e,h),we!==4&&(we=2)),!1;var f=Error(a(520),{cause:o});if(f=ti(f,r),wl===null?wl=[f]:wl.push(f),we!==4&&(we=2),n===null)return!0;o=ti(o,r),r=n;do{switch(r.tag){case 3:return r.flags|=65536,e=h&-h,r.lanes|=e,e=Bf(r.stateNode,o,e),yf(r,e),!1;case 1:if(n=r.type,f=r.stateNode,(r.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Wr===null||!Wr.has(f))))return r.flags|=65536,h&=-h,r.lanes|=h,h=ay(h),oy(h,e,r,o),yf(r,h),!1}r=r.return}while(r!==null);return!1}var qf=Error(a(461)),ze=!1;function tn(e,n,r,o){n.child=e===null?hp(n,null,r,o):oa(n,e.child,r,o)}function ly(e,n,r,o,h){r=r.render;var f=n.ref;if("ref"in o){var g={};for(var E in o)E!=="ref"&&(g[E]=o[E])}else g=o;return ia(n),o=Af(e,n,r,g,f,h),E=Sf(),e!==null&&!ze?(wf(e,n,h),rr(e,n,h)):(Ft&&E&&rf(n),n.flags|=1,tn(e,n,o,h),n.child)}function uy(e,n,r,o,h){if(e===null){var f=r.type;return typeof f=="function"&&!tf(f)&&f.defaultProps===void 0&&r.compare===null?(n.tag=15,n.type=f,cy(e,n,f,o,h)):(e=Bu(r.type,null,o,n,n.mode,h),e.ref=n.ref,e.return=n,n.child=e)}if(f=e.child,!$f(e,h)){var g=f.memoizedProps;if(r=r.compare,r=r!==null?r:il,r(g,o)&&e.ref===n.ref)return rr(e,n,h)}return n.flags|=1,e=Zi(f,o),e.ref=n.ref,e.return=n,n.child=e}function cy(e,n,r,o,h){if(e!==null){var f=e.memoizedProps;if(il(f,o)&&e.ref===n.ref)if(ze=!1,n.pendingProps=o=f,$f(e,h))(e.flags&131072)!==0&&(ze=!0);else return n.lanes=e.lanes,rr(e,n,h)}return Hf(e,n,r,o,h)}function hy(e,n,r,o){var h=o.children,f=e!==null?e.memoizedState:null;if(e===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|r:r,e!==null){for(o=n.child=e.child,h=0;o!==null;)h=h|o.lanes|o.childLanes,o=o.sibling;o=h&~f}else o=0,n.child=null;return fy(e,n,f,r,o)}if((r&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&Gu(n,f!==null?f.cachePool:null),f!==null?mp(n,f):vf(),gp(n);else return o=n.lanes=536870912,fy(e,n,f!==null?f.baseLanes|r:r,r,o)}else f!==null?(Gu(n,f.cachePool),mp(n,f),Xr(),n.memoizedState=null):(e!==null&&Gu(n,null),vf(),Xr());return tn(e,n,h,r),n.child}function _l(e,n){return e!==null&&e.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function fy(e,n,r,o,h){var f=df();return f=f===null?null:{parent:Le._currentValue,pool:f},n.memoizedState={baseLanes:r,cachePool:f},e!==null&&Gu(n,null),vf(),gp(n),e!==null&&Ka(e,n,o,!0),n.childLanes=h,null}function oc(e,n){return n=uc({mode:n.mode,children:n.children},e.mode),n.ref=e.ref,e.child=n,n.return=e,n}function dy(e,n,r){return oa(n,e.child,null,r),e=oc(n,n.pendingProps),e.flags|=2,Bn(n),n.memoizedState=null,e}function jT(e,n,r){var o=n.pendingProps,h=(n.flags&128)!==0;if(n.flags&=-129,e===null){if(Ft){if(o.mode==="hidden")return e=oc(n,o),n.lanes=536870912,_l(null,e);if(Tf(n),(e=de)?(e=w_(e,ii),e=e!==null&&e.data==="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:Br!==null?{id:xi,overflow:Mi}:null,retryLane:536870912,hydrationErrors:null},r=$g(e),r.return=n,n.child=r,Ze=n,de=null)):e=null,e===null)throw Hr(n);return n.lanes=536870912,null}return oc(n,o)}var f=e.memoizedState;if(f!==null){var g=f.dehydrated;if(Tf(n),h)if(n.flags&256)n.flags&=-257,n=dy(e,n,r);else if(n.memoizedState!==null)n.child=e.child,n.flags|=128,n=null;else throw Error(a(558));else if(ze||Ka(e,n,r,!1),h=(r&e.childLanes)!==0,ze||h){if(o=le,o!==null&&(g=Ls(o,r),g!==0&&g!==f.retryLane))throw f.retryLane=g,Ws(e,g),Sn(o,e,g),qf;_c(),n=dy(e,n,r)}else e=f.treeContext,de=si(g.nextSibling),Ze=n,Ft=!0,qr=null,ii=!1,e!==null&&Wg(n,e),n=oc(n,o),n.flags|=4096;return n}return e=Zi(e.child,{mode:o.mode,children:o.children}),e.ref=n.ref,n.child=e,e.return=n,e}function lc(e,n){var r=n.ref;if(r===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof r!="function"&&typeof r!="object")throw Error(a(284));(e===null||e.ref!==r)&&(n.flags|=4194816)}}function Hf(e,n,r,o,h){return ia(n),r=Af(e,n,r,o,void 0,h),o=Sf(),e!==null&&!ze?(wf(e,n,h),rr(e,n,h)):(Ft&&o&&rf(n),n.flags|=1,tn(e,n,r,h),n.child)}function my(e,n,r,o,h,f){return ia(n),n.updateQueue=null,r=yp(n,o,r,h),pp(e),o=Sf(),e!==null&&!ze?(wf(e,n,f),rr(e,n,f)):(Ft&&o&&rf(n),n.flags|=1,tn(e,n,r,f),n.child)}function gy(e,n,r,o,h){if(ia(n),n.stateNode===null){var f=Fa,g=r.contextType;typeof g=="object"&&g!==null&&(f=We(g)),f=new r(o,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=jf,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=o,f.state=n.memoizedState,f.refs={},gf(n),g=r.contextType,f.context=typeof g=="object"&&g!==null?We(g):Fa,f.state=n.memoizedState,g=r.getDerivedStateFromProps,typeof g=="function"&&(zf(n,r,g,o),f.state=n.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(g=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),g!==f.state&&jf.enqueueReplaceState(f,f.state,null),dl(n,o,f,h),fl(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!0}else if(e===null){f=n.stateNode;var E=n.memoizedProps,R=ua(r,E);f.props=R;var j=f.context,Y=r.contextType;g=Fa,typeof Y=="object"&&Y!==null&&(g=We(Y));var $=r.getDerivedStateFromProps;Y=typeof $=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,Y||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||j!==g)&&ey(n,f,o,g),Gr=!1;var B=n.memoizedState;f.state=B,dl(n,o,f,h),fl(),j=n.memoizedState,E||B!==j||Gr?(typeof $=="function"&&(zf(n,r,$,o),j=n.memoizedState),(R=Gr||ty(n,r,R,o,B,j,g))?(Y||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=o,n.memoizedState=j),f.props=o,f.state=j,f.context=g,o=R):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!1)}else{f=n.stateNode,pf(e,n),g=n.memoizedProps,Y=ua(r,g),f.props=Y,$=n.pendingProps,B=f.context,j=r.contextType,R=Fa,typeof j=="object"&&j!==null&&(R=We(j)),E=r.getDerivedStateFromProps,(j=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(g!==$||B!==R)&&ey(n,f,o,R),Gr=!1,B=n.memoizedState,f.state=B,dl(n,o,f,h),fl();var H=n.memoizedState;g!==$||B!==H||Gr||e!==null&&e.dependencies!==null&&Hu(e.dependencies)?(typeof E=="function"&&(zf(n,r,E,o),H=n.memoizedState),(Y=Gr||ty(n,r,Y,o,B,H,R)||e!==null&&e.dependencies!==null&&Hu(e.dependencies))?(j||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(o,H,R),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(o,H,R)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||g===e.memoizedProps&&B===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&B===e.memoizedState||(n.flags|=1024),n.memoizedProps=o,n.memoizedState=H),f.props=o,f.state=H,f.context=R,o=Y):(typeof f.componentDidUpdate!="function"||g===e.memoizedProps&&B===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&B===e.memoizedState||(n.flags|=1024),o=!1)}return f=o,lc(e,n),o=(n.flags&128)!==0,f||o?(f=n.stateNode,r=o&&typeof r.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,e!==null&&o?(n.child=oa(n,e.child,null,h),n.child=oa(n,null,r,h)):tn(e,n,r,h),n.memoizedState=f.state,e=n.child):e=rr(e,n,h),e}function py(e,n,r,o){return ea(),n.flags|=256,tn(e,n,r,o),n.child}var Ff={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Gf(e){return{baseLanes:e,cachePool:sp()}}function Qf(e,n,r){return e=e!==null?e.childLanes&~r:0,n&&(e|=Hn),e}function yy(e,n,r){var o=n.pendingProps,h=!1,f=(n.flags&128)!==0,g;if((g=f)||(g=e!==null&&e.memoizedState===null?!1:(De.current&2)!==0),g&&(h=!0,n.flags&=-129),g=(n.flags&32)!==0,n.flags&=-33,e===null){if(Ft){if(h?Kr(n):Xr(),(e=de)?(e=w_(e,ii),e=e!==null&&e.data!=="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:Br!==null?{id:xi,overflow:Mi}:null,retryLane:536870912,hydrationErrors:null},r=$g(e),r.return=n,n.child=r,Ze=n,de=null)):e=null,e===null)throw Hr(n);return Cd(e)?n.lanes=32:n.lanes=536870912,null}var E=o.children;return o=o.fallback,h?(Xr(),h=n.mode,E=uc({mode:"hidden",children:E},h),o=ta(o,h,r,null),E.return=n,o.return=n,E.sibling=o,n.child=E,o=n.child,o.memoizedState=Gf(r),o.childLanes=Qf(e,g,r),n.memoizedState=Ff,_l(null,o)):(Kr(n),Yf(n,E))}var R=e.memoizedState;if(R!==null&&(E=R.dehydrated,E!==null)){if(f)n.flags&256?(Kr(n),n.flags&=-257,n=Kf(e,n,r)):n.memoizedState!==null?(Xr(),n.child=e.child,n.flags|=128,n=null):(Xr(),E=o.fallback,h=n.mode,o=uc({mode:"visible",children:o.children},h),E=ta(E,h,r,null),E.flags|=2,o.return=n,E.return=n,o.sibling=E,n.child=o,oa(n,e.child,null,r),o=n.child,o.memoizedState=Gf(r),o.childLanes=Qf(e,g,r),n.memoizedState=Ff,n=_l(null,o));else if(Kr(n),Cd(E)){if(g=E.nextSibling&&E.nextSibling.dataset,g)var j=g.dgst;g=j,o=Error(a(419)),o.stack="",o.digest=g,al({value:o,source:null,stack:null}),n=Kf(e,n,r)}else if(ze||Ka(e,n,r,!1),g=(r&e.childLanes)!==0,ze||g){if(g=le,g!==null&&(o=Ls(g,r),o!==0&&o!==R.retryLane))throw R.retryLane=o,Ws(e,o),Sn(g,e,o),qf;Id(E)||_c(),n=Kf(e,n,r)}else Id(E)?(n.flags|=192,n.child=e.child,n=null):(e=R.treeContext,de=si(E.nextSibling),Ze=n,Ft=!0,qr=null,ii=!1,e!==null&&Wg(n,e),n=Yf(n,o.children),n.flags|=4096);return n}return h?(Xr(),E=o.fallback,h=n.mode,R=e.child,j=R.sibling,o=Zi(R,{mode:"hidden",children:o.children}),o.subtreeFlags=R.subtreeFlags&65011712,j!==null?E=Zi(j,E):(E=ta(E,h,r,null),E.flags|=2),E.return=n,o.return=n,o.sibling=E,n.child=o,_l(null,o),o=n.child,E=e.child.memoizedState,E===null?E=Gf(r):(h=E.cachePool,h!==null?(R=Le._currentValue,h=h.parent!==R?{parent:R,pool:R}:h):h=sp(),E={baseLanes:E.baseLanes|r,cachePool:h}),o.memoizedState=E,o.childLanes=Qf(e,g,r),n.memoizedState=Ff,_l(e.child,o)):(Kr(n),r=e.child,e=r.sibling,r=Zi(r,{mode:"visible",children:o.children}),r.return=n,r.sibling=null,e!==null&&(g=n.deletions,g===null?(n.deletions=[e],n.flags|=16):g.push(e)),n.child=r,n.memoizedState=null,r)}function Yf(e,n){return n=uc({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function uc(e,n){return e=zn(22,e,null,n),e.lanes=0,e}function Kf(e,n,r){return oa(n,e.child,null,r),e=Yf(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function _y(e,n,r){e.lanes|=n;var o=e.alternate;o!==null&&(o.lanes|=n),uf(e.return,n,r)}function Xf(e,n,r,o,h,f){var g=e.memoizedState;g===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:o,tail:r,tailMode:h,treeForkCount:f}:(g.isBackwards=n,g.rendering=null,g.renderingStartTime=0,g.last=o,g.tail=r,g.tailMode=h,g.treeForkCount=f)}function vy(e,n,r){var o=n.pendingProps,h=o.revealOrder,f=o.tail;o=o.children;var g=De.current,E=(g&2)!==0;if(E?(g=g&1|2,n.flags|=128):g&=1,st(De,g),tn(e,n,o,r),o=Ft?sl:0,!E&&e!==null&&(e.flags&128)!==0)t:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&_y(e,r,n);else if(e.tag===19)_y(e,r,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break t;for(;e.sibling===null;){if(e.return===null||e.return===n)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(h){case"forwards":for(r=n.child,h=null;r!==null;)e=r.alternate,e!==null&&Ju(e)===null&&(h=r),r=r.sibling;r=h,r===null?(h=n.child,n.child=null):(h=r.sibling,r.sibling=null),Xf(n,!1,h,r,f,o);break;case"backwards":case"unstable_legacy-backwards":for(r=null,h=n.child,n.child=null;h!==null;){if(e=h.alternate,e!==null&&Ju(e)===null){n.child=h;break}e=h.sibling,h.sibling=r,r=h,h=e}Xf(n,!0,r,null,f,o);break;case"together":Xf(n,!1,null,null,void 0,o);break;default:n.memoizedState=null}return n.child}function rr(e,n,r){if(e!==null&&(n.dependencies=e.dependencies),Zr|=n.lanes,(r&n.childLanes)===0)if(e!==null){if(Ka(e,n,r,!1),(r&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(a(153));if(n.child!==null){for(e=n.child,r=Zi(e,e.pendingProps),n.child=r,r.return=n;e.sibling!==null;)e=e.sibling,r=r.sibling=Zi(e,e.pendingProps),r.return=n;r.sibling=null}return n.child}function $f(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&Hu(e)))}function BT(e,n,r){switch(n.tag){case 3:Oe(n,n.stateNode.containerInfo),Fr(n,Le,e.memoizedState.cache),ea();break;case 27:case 5:Sr(n);break;case 4:Oe(n,n.stateNode.containerInfo);break;case 10:Fr(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,Tf(n),null;break;case 13:var o=n.memoizedState;if(o!==null)return o.dehydrated!==null?(Kr(n),n.flags|=128,null):(r&n.child.childLanes)!==0?yy(e,n,r):(Kr(n),e=rr(e,n,r),e!==null?e.sibling:null);Kr(n);break;case 19:var h=(e.flags&128)!==0;if(o=(r&n.childLanes)!==0,o||(Ka(e,n,r,!1),o=(r&n.childLanes)!==0),h){if(o)return vy(e,n,r);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),st(De,De.current),o)break;return null;case 22:return n.lanes=0,hy(e,n,r,n.pendingProps);case 24:Fr(n,Le,e.memoizedState.cache)}return rr(e,n,r)}function Ey(e,n,r){if(e!==null)if(e.memoizedProps!==n.pendingProps)ze=!0;else{if(!$f(e,r)&&(n.flags&128)===0)return ze=!1,BT(e,n,r);ze=(e.flags&131072)!==0}else ze=!1,Ft&&(n.flags&1048576)!==0&&Zg(n,sl,n.index);switch(n.lanes=0,n.tag){case 16:t:{var o=n.pendingProps;if(e=sa(n.elementType),n.type=e,typeof e=="function")tf(e)?(o=ua(e,o),n.tag=1,n=gy(null,n,e,o,r)):(n.tag=0,n=Hf(null,n,e,o,r));else{if(e!=null){var h=e.$$typeof;if(h===Mt){n.tag=11,n=ly(null,n,e,o,r);break t}else if(h===C){n.tag=14,n=uy(null,n,e,o,r);break t}}throw n=ne(e)||e,Error(a(306,n,""))}}return n;case 0:return Hf(e,n,n.type,n.pendingProps,r);case 1:return o=n.type,h=ua(o,n.pendingProps),gy(e,n,o,h,r);case 3:t:{if(Oe(n,n.stateNode.containerInfo),e===null)throw Error(a(387));o=n.pendingProps;var f=n.memoizedState;h=f.element,pf(e,n),dl(n,o,null,r);var g=n.memoizedState;if(o=g.cache,Fr(n,Le,o),o!==f.cache&&cf(n,[Le],r,!0),fl(),o=g.element,f.isDehydrated)if(f={element:o,isDehydrated:!1,cache:g.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=py(e,n,o,r);break t}else if(o!==h){h=ti(Error(a(424)),n),al(h),n=py(e,n,o,r);break t}else{switch(e=n.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(de=si(e.firstChild),Ze=n,Ft=!0,qr=null,ii=!0,r=hp(n,null,o,r),n.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling}else{if(ea(),o===h){n=rr(e,n,r);break t}tn(e,n,o,r)}n=n.child}return n;case 26:return lc(e,n),e===null?(r=x_(n.type,null,n.pendingProps,null))?n.memoizedState=r:Ft||(r=n.type,e=n.pendingProps,o=wc(It.current).createElement(r),o[be]=n,o[Ce]=e,en(o,r,e),Ae(o),n.stateNode=o):n.memoizedState=x_(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return Sr(n),e===null&&Ft&&(o=n.stateNode=C_(n.type,n.pendingProps,It.current),Ze=n,ii=!0,h=de,is(n.type)?(Nd=h,de=si(o.firstChild)):de=h),tn(e,n,n.pendingProps.children,r),lc(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&Ft&&((h=o=de)&&(o=yb(o,n.type,n.pendingProps,ii),o!==null?(n.stateNode=o,Ze=n,de=si(o.firstChild),ii=!1,h=!0):h=!1),h||Hr(n)),Sr(n),h=n.type,f=n.pendingProps,g=e!==null?e.memoizedProps:null,o=f.children,Sd(h,f)?o=null:g!==null&&Sd(h,g)&&(n.flags|=32),n.memoizedState!==null&&(h=Af(e,n,MT,null,null,r),Ol._currentValue=h),lc(e,n),tn(e,n,o,r),n.child;case 6:return e===null&&Ft&&((e=r=de)&&(r=_b(r,n.pendingProps,ii),r!==null?(n.stateNode=r,Ze=n,de=null,e=!0):e=!1),e||Hr(n)),null;case 13:return yy(e,n,r);case 4:return Oe(n,n.stateNode.containerInfo),o=n.pendingProps,e===null?n.child=oa(n,null,o,r):tn(e,n,o,r),n.child;case 11:return ly(e,n,n.type,n.pendingProps,r);case 7:return tn(e,n,n.pendingProps,r),n.child;case 8:return tn(e,n,n.pendingProps.children,r),n.child;case 12:return tn(e,n,n.pendingProps.children,r),n.child;case 10:return o=n.pendingProps,Fr(n,n.type,o.value),tn(e,n,o.children,r),n.child;case 9:return h=n.type._context,o=n.pendingProps.children,ia(n),h=We(h),o=o(h),n.flags|=1,tn(e,n,o,r),n.child;case 14:return uy(e,n,n.type,n.pendingProps,r);case 15:return cy(e,n,n.type,n.pendingProps,r);case 19:return vy(e,n,r);case 31:return jT(e,n,r);case 22:return hy(e,n,r,n.pendingProps);case 24:return ia(n),o=We(Le),e===null?(h=df(),h===null&&(h=le,f=hf(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=r),h=f),n.memoizedState={parent:o,cache:h},gf(n),Fr(n,Le,h)):((e.lanes&r)!==0&&(pf(e,n),dl(n,null,null,r),fl()),h=e.memoizedState,f=n.memoizedState,h.parent!==o?(h={parent:o,cache:o},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),Fr(n,Le,o)):(o=f.cache,Fr(n,Le,o),o!==h.cache&&cf(n,[Le],r,!0))),tn(e,n,n.pendingProps.children,r),n.child;case 29:throw n.pendingProps}throw Error(a(156,n.tag))}function sr(e){e.flags|=4}function Jf(e,n,r,o,h){if((n=(e.mode&32)!==0)&&(n=!1),n){if(e.flags|=16777216,(h&335544128)===h)if(e.stateNode.complete)e.flags|=8192;else if(Yy())e.flags|=8192;else throw aa=Yu,mf}else e.flags&=-16777217}function Ty(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!U_(n))if(Yy())e.flags|=8192;else throw aa=Yu,mf}function cc(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?Us():536870912,e.lanes|=n,ao|=n)}function vl(e,n){if(!Ft)switch(e.tailMode){case"hidden":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var o=null;r!==null;)r.alternate!==null&&(o=r),r=r.sibling;o===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function me(e){var n=e.alternate!==null&&e.alternate.child===e.child,r=0,o=0;if(n)for(var h=e.child;h!==null;)r|=h.lanes|h.childLanes,o|=h.subtreeFlags&65011712,o|=h.flags&65011712,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)r|=h.lanes|h.childLanes,o|=h.subtreeFlags,o|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=o,e.childLanes=r,n}function qT(e,n,r){var o=n.pendingProps;switch(sf(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return me(n),null;case 1:return me(n),null;case 3:return r=n.stateNode,o=null,e!==null&&(o=e.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),er(Le),fe(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Ya(n)?sr(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,of())),me(n),null;case 26:var h=n.type,f=n.memoizedState;return e===null?(sr(n),f!==null?(me(n),Ty(n,f)):(me(n),Jf(n,h,null,o,r))):f?f!==e.memoizedState?(sr(n),me(n),Ty(n,f)):(me(n),n.flags&=-16777217):(e=e.memoizedProps,e!==o&&sr(n),me(n),Jf(n,h,e,o,r)),null;case 27:if(Ns(n),r=It.current,h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&sr(n);else{if(!o){if(n.stateNode===null)throw Error(a(166));return me(n),null}e=lt.current,Ya(n)?tp(n):(e=C_(h,o,r),n.stateNode=e,sr(n))}return me(n),null;case 5:if(Ns(n),h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&sr(n);else{if(!o){if(n.stateNode===null)throw Error(a(166));return me(n),null}if(f=lt.current,Ya(n))tp(n);else{var g=wc(It.current);switch(f){case 1:f=g.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:f=g.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":f=g.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":f=g.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":f=g.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof o.is=="string"?g.createElement("select",{is:o.is}):g.createElement("select"),o.multiple?f.multiple=!0:o.size&&(f.size=o.size);break;default:f=typeof o.is=="string"?g.createElement(h,{is:o.is}):g.createElement(h)}}f[be]=n,f[Ce]=o;t:for(g=n.child;g!==null;){if(g.tag===5||g.tag===6)f.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===n)break t;for(;g.sibling===null;){if(g.return===null||g.return===n)break t;g=g.return}g.sibling.return=g.return,g=g.sibling}n.stateNode=f;t:switch(en(f,h,o),h){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break t;case"img":o=!0;break t;default:o=!1}o&&sr(n)}}return me(n),Jf(n,n.type,e===null?null:e.memoizedProps,n.pendingProps,r),null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==o&&sr(n);else{if(typeof o!="string"&&n.stateNode===null)throw Error(a(166));if(e=It.current,Ya(n)){if(e=n.stateNode,r=n.memoizedProps,o=null,h=Ze,h!==null)switch(h.tag){case 27:case 5:o=h.memoizedProps}e[be]=n,e=!!(e.nodeValue===r||o!==null&&o.suppressHydrationWarning===!0||y_(e.nodeValue,r)),e||Hr(n,!0)}else e=wc(e).createTextNode(o),e[be]=n,n.stateNode=e}return me(n),null;case 31:if(r=n.memoizedState,e===null||e.memoizedState!==null){if(o=Ya(n),r!==null){if(e===null){if(!o)throw Error(a(318));if(e=n.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(557));e[be]=n}else ea(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;me(n),e=!1}else r=of(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=r),e=!0;if(!e)return n.flags&256?(Bn(n),n):(Bn(n),null);if((n.flags&128)!==0)throw Error(a(558))}return me(n),null;case 13:if(o=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=Ya(n),o!==null&&o.dehydrated!==null){if(e===null){if(!h)throw Error(a(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(a(317));h[be]=n}else ea(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;me(n),h=!1}else h=of(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(Bn(n),n):(Bn(n),null)}return Bn(n),(n.flags&128)!==0?(n.lanes=r,n):(r=o!==null,e=e!==null&&e.memoizedState!==null,r&&(o=n.child,h=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(h=o.alternate.memoizedState.cachePool.pool),f=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),f!==h&&(o.flags|=2048)),r!==e&&r&&(n.child.flags|=8192),cc(n,n.updateQueue),me(n),null);case 4:return fe(),e===null&&vd(n.stateNode.containerInfo),me(n),null;case 10:return er(n.type),me(n),null;case 19:if(X(De),o=n.memoizedState,o===null)return me(n),null;if(h=(n.flags&128)!==0,f=o.rendering,f===null)if(h)vl(o,!1);else{if(we!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(f=Ju(e),f!==null){for(n.flags|=128,vl(o,!1),e=f.updateQueue,n.updateQueue=e,cc(n,e),n.subtreeFlags=0,e=r,r=n.child;r!==null;)Xg(r,e),r=r.sibling;return st(De,De.current&1|2),Ft&&Wi(n,o.treeForkCount),n.child}e=e.sibling}o.tail!==null&&Ye()>gc&&(n.flags|=128,h=!0,vl(o,!1),n.lanes=4194304)}else{if(!h)if(e=Ju(f),e!==null){if(n.flags|=128,h=!0,e=e.updateQueue,n.updateQueue=e,cc(n,e),vl(o,!0),o.tail===null&&o.tailMode==="hidden"&&!f.alternate&&!Ft)return me(n),null}else 2*Ye()-o.renderingStartTime>gc&&r!==536870912&&(n.flags|=128,h=!0,vl(o,!1),n.lanes=4194304);o.isBackwards?(f.sibling=n.child,n.child=f):(e=o.last,e!==null?e.sibling=f:n.child=f,o.last=f)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=Ye(),e.sibling=null,r=De.current,st(De,h?r&1|2:r&1),Ft&&Wi(n,o.treeForkCount),e):(me(n),null);case 22:case 23:return Bn(n),Ef(),o=n.memoizedState!==null,e!==null?e.memoizedState!==null!==o&&(n.flags|=8192):o&&(n.flags|=8192),o?(r&536870912)!==0&&(n.flags&128)===0&&(me(n),n.subtreeFlags&6&&(n.flags|=8192)):me(n),r=n.updateQueue,r!==null&&cc(n,r.retryQueue),r=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(r=e.memoizedState.cachePool.pool),o=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),o!==r&&(n.flags|=2048),e!==null&&X(ra),null;case 24:return r=null,e!==null&&(r=e.memoizedState.cache),n.memoizedState.cache!==r&&(n.flags|=2048),er(Le),me(n),null;case 25:return null;case 30:return null}throw Error(a(156,n.tag))}function HT(e,n){switch(sf(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return er(Le),fe(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return Ns(n),null;case 31:if(n.memoizedState!==null){if(Bn(n),n.alternate===null)throw Error(a(340));ea()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 13:if(Bn(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(a(340));ea()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return X(De),null;case 4:return fe(),null;case 10:return er(n.type),null;case 22:case 23:return Bn(n),Ef(),e!==null&&X(ra),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return er(Le),null;case 25:return null;default:return null}}function by(e,n){switch(sf(n),n.tag){case 3:er(Le),fe();break;case 26:case 27:case 5:Ns(n);break;case 4:fe();break;case 31:n.memoizedState!==null&&Bn(n);break;case 13:Bn(n);break;case 19:X(De);break;case 10:er(n.type);break;case 22:case 23:Bn(n),Ef(),e!==null&&X(ra);break;case 24:er(Le)}}function El(e,n){try{var r=n.updateQueue,o=r!==null?r.lastEffect:null;if(o!==null){var h=o.next;r=h;do{if((r.tag&e)===e){o=void 0;var f=r.create,g=r.inst;o=f(),g.destroy=o}r=r.next}while(r!==h)}}catch(E){ee(n,n.return,E)}}function $r(e,n,r){try{var o=n.updateQueue,h=o!==null?o.lastEffect:null;if(h!==null){var f=h.next;o=f;do{if((o.tag&e)===e){var g=o.inst,E=g.destroy;if(E!==void 0){g.destroy=void 0,h=n;var R=r,j=E;try{j()}catch(Y){ee(h,R,Y)}}}o=o.next}while(o!==f)}}catch(Y){ee(n,n.return,Y)}}function Ay(e){var n=e.updateQueue;if(n!==null){var r=e.stateNode;try{dp(n,r)}catch(o){ee(e,e.return,o)}}}function Sy(e,n,r){r.props=ua(e.type,e.memoizedProps),r.state=e.memoizedState;try{r.componentWillUnmount()}catch(o){ee(e,n,o)}}function Tl(e,n){try{var r=e.ref;if(r!==null){switch(e.tag){case 26:case 27:case 5:var o=e.stateNode;break;case 30:o=e.stateNode;break;default:o=e.stateNode}typeof r=="function"?e.refCleanup=r(o):r.current=o}}catch(h){ee(e,n,h)}}function Oi(e,n){var r=e.ref,o=e.refCleanup;if(r!==null)if(typeof o=="function")try{o()}catch(h){ee(e,n,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(h){ee(e,n,h)}else r.current=null}function wy(e){var n=e.type,r=e.memoizedProps,o=e.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":r.autoFocus&&o.focus();break t;case"img":r.src?o.src=r.src:r.srcSet&&(o.srcset=r.srcSet)}}catch(h){ee(e,e.return,h)}}function Zf(e,n,r){try{var o=e.stateNode;hb(o,e.type,r,n),o[Ce]=n}catch(h){ee(e,e.return,h)}}function Ry(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&is(e.type)||e.tag===4}function Wf(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||Ry(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&is(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function td(e,n,r){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r).insertBefore(e,n):(n=r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,n.appendChild(e),r=r._reactRootContainer,r!=null||n.onclick!==null||(n.onclick=hi));else if(o!==4&&(o===27&&is(e.type)&&(r=e.stateNode,n=null),e=e.child,e!==null))for(td(e,n,r),e=e.sibling;e!==null;)td(e,n,r),e=e.sibling}function hc(e,n,r){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?r.insertBefore(e,n):r.appendChild(e);else if(o!==4&&(o===27&&is(e.type)&&(r=e.stateNode),e=e.child,e!==null))for(hc(e,n,r),e=e.sibling;e!==null;)hc(e,n,r),e=e.sibling}function Iy(e){var n=e.stateNode,r=e.memoizedProps;try{for(var o=e.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);en(n,o,r),n[be]=e,n[Ce]=r}catch(f){ee(e,e.return,f)}}var ar=!1,je=!1,ed=!1,Cy=typeof WeakSet=="function"?WeakSet:Set,Ke=null;function FT(e,n){if(e=e.containerInfo,bd=Mc,e=jg(e),Yh(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else t:{r=(r=e.ownerDocument)&&r.defaultView||window;var o=r.getSelection&&r.getSelection();if(o&&o.rangeCount!==0){r=o.anchorNode;var h=o.anchorOffset,f=o.focusNode;o=o.focusOffset;try{r.nodeType,f.nodeType}catch{r=null;break t}var g=0,E=-1,R=-1,j=0,Y=0,$=e,B=null;e:for(;;){for(var H;$!==r||h!==0&&$.nodeType!==3||(E=g+h),$!==f||o!==0&&$.nodeType!==3||(R=g+o),$.nodeType===3&&(g+=$.nodeValue.length),(H=$.firstChild)!==null;)B=$,$=H;for(;;){if($===e)break e;if(B===r&&++j===h&&(E=g),B===f&&++Y===o&&(R=g),(H=$.nextSibling)!==null)break;$=B,B=$.parentNode}$=H}r=E===-1||R===-1?null:{start:E,end:R}}else r=null}r=r||{start:0,end:0}}else r=null;for(Ad={focusedElem:e,selectionRange:r},Mc=!1,Ke=n;Ke!==null;)if(n=Ke,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,Ke=e;else for(;Ke!==null;){switch(n=Ke,f=n.alternate,e=n.flags,n.tag){case 0:if((e&4)!==0&&(e=n.updateQueue,e=e!==null?e.events:null,e!==null))for(r=0;r<e.length;r++)h=e[r],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&f!==null){e=void 0,r=n,h=f.memoizedProps,f=f.memoizedState,o=r.stateNode;try{var ht=ua(r.type,h);e=o.getSnapshotBeforeUpdate(ht,f),o.__reactInternalSnapshotBeforeUpdate=e}catch(vt){ee(r,r.return,vt)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,r=e.nodeType,r===9)Rd(e);else if(r===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Rd(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(a(163))}if(e=n.sibling,e!==null){e.return=n.return,Ke=e;break}Ke=n.return}}function Ny(e,n,r){var o=r.flags;switch(r.tag){case 0:case 11:case 15:lr(e,r),o&4&&El(5,r);break;case 1:if(lr(e,r),o&4)if(e=r.stateNode,n===null)try{e.componentDidMount()}catch(g){ee(r,r.return,g)}else{var h=ua(r.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(h,n,e.__reactInternalSnapshotBeforeUpdate)}catch(g){ee(r,r.return,g)}}o&64&&Ay(r),o&512&&Tl(r,r.return);break;case 3:if(lr(e,r),o&64&&(e=r.updateQueue,e!==null)){if(n=null,r.child!==null)switch(r.child.tag){case 27:case 5:n=r.child.stateNode;break;case 1:n=r.child.stateNode}try{dp(e,n)}catch(g){ee(r,r.return,g)}}break;case 27:n===null&&o&4&&Iy(r);case 26:case 5:lr(e,r),n===null&&o&4&&wy(r),o&512&&Tl(r,r.return);break;case 12:lr(e,r);break;case 31:lr(e,r),o&4&&My(e,r);break;case 13:lr(e,r),o&4&&Oy(e,r),o&64&&(e=r.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(r=WT.bind(null,r),vb(e,r))));break;case 22:if(o=r.memoizedState!==null||ar,!o){n=n!==null&&n.memoizedState!==null||je,h=ar;var f=je;ar=o,(je=n)&&!f?ur(e,r,(r.subtreeFlags&8772)!==0):lr(e,r),ar=h,je=f}break;case 30:break;default:lr(e,r)}}function Dy(e){var n=e.alternate;n!==null&&(e.alternate=null,Dy(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&Dr(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var ye=null,En=!1;function or(e,n,r){for(r=r.child;r!==null;)xy(e,n,r),r=r.sibling}function xy(e,n,r){if(Wt&&typeof Wt.onCommitFiberUnmount=="function")try{Wt.onCommitFiberUnmount(dn,r)}catch{}switch(r.tag){case 26:je||Oi(r,n),or(e,n,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:je||Oi(r,n);var o=ye,h=En;is(r.type)&&(ye=r.stateNode,En=!1),or(e,n,r),Dl(r.stateNode),ye=o,En=h;break;case 5:je||Oi(r,n);case 6:if(o=ye,h=En,ye=null,or(e,n,r),ye=o,En=h,ye!==null)if(En)try{(ye.nodeType===9?ye.body:ye.nodeName==="HTML"?ye.ownerDocument.body:ye).removeChild(r.stateNode)}catch(f){ee(r,n,f)}else try{ye.removeChild(r.stateNode)}catch(f){ee(r,n,f)}break;case 18:ye!==null&&(En?(e=ye,A_(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,r.stateNode),go(e)):A_(ye,r.stateNode));break;case 4:o=ye,h=En,ye=r.stateNode.containerInfo,En=!0,or(e,n,r),ye=o,En=h;break;case 0:case 11:case 14:case 15:$r(2,r,n),je||$r(4,r,n),or(e,n,r);break;case 1:je||(Oi(r,n),o=r.stateNode,typeof o.componentWillUnmount=="function"&&Sy(r,n,o)),or(e,n,r);break;case 21:or(e,n,r);break;case 22:je=(o=je)||r.memoizedState!==null,or(e,n,r),je=o;break;default:or(e,n,r)}}function My(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{go(e)}catch(r){ee(n,n.return,r)}}}function Oy(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{go(e)}catch(r){ee(n,n.return,r)}}function GT(e){switch(e.tag){case 31:case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new Cy),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new Cy),n;default:throw Error(a(435,e.tag))}}function fc(e,n){var r=GT(e);n.forEach(function(o){if(!r.has(o)){r.add(o);var h=tb.bind(null,e,o);o.then(h,h)}})}function Tn(e,n){var r=n.deletions;if(r!==null)for(var o=0;o<r.length;o++){var h=r[o],f=e,g=n,E=g;t:for(;E!==null;){switch(E.tag){case 27:if(is(E.type)){ye=E.stateNode,En=!1;break t}break;case 5:ye=E.stateNode,En=!1;break t;case 3:case 4:ye=E.stateNode.containerInfo,En=!0;break t}E=E.return}if(ye===null)throw Error(a(160));xy(f,g,h),ye=null,En=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)Vy(n,e),n=n.sibling}var yi=null;function Vy(e,n){var r=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Tn(n,e),bn(e),o&4&&($r(3,e,e.return),El(3,e),$r(5,e,e.return));break;case 1:Tn(n,e),bn(e),o&512&&(je||r===null||Oi(r,r.return)),o&64&&ar&&(e=e.updateQueue,e!==null&&(o=e.callbacks,o!==null&&(r=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=r===null?o:r.concat(o))));break;case 26:var h=yi;if(Tn(n,e),bn(e),o&512&&(je||r===null||Oi(r,r.return)),o&4){var f=r!==null?r.memoizedState:null;if(o=e.memoizedState,r===null)if(o===null)if(e.stateNode===null){t:{o=e.type,r=e.memoizedProps,h=h.ownerDocument||h;e:switch(o){case"title":f=h.getElementsByTagName("title")[0],(!f||f[Yn]||f[be]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(o),h.head.insertBefore(f,h.querySelector("head > title"))),en(f,o,r),f[be]=e,Ae(f),o=f;break t;case"link":var g=V_("link","href",h).get(o+(r.href||""));if(g){for(var E=0;E<g.length;E++)if(f=g[E],f.getAttribute("href")===(r.href==null||r.href===""?null:r.href)&&f.getAttribute("rel")===(r.rel==null?null:r.rel)&&f.getAttribute("title")===(r.title==null?null:r.title)&&f.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){g.splice(E,1);break e}}f=h.createElement(o),en(f,o,r),h.head.appendChild(f);break;case"meta":if(g=V_("meta","content",h).get(o+(r.content||""))){for(E=0;E<g.length;E++)if(f=g[E],f.getAttribute("content")===(r.content==null?null:""+r.content)&&f.getAttribute("name")===(r.name==null?null:r.name)&&f.getAttribute("property")===(r.property==null?null:r.property)&&f.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&f.getAttribute("charset")===(r.charSet==null?null:r.charSet)){g.splice(E,1);break e}}f=h.createElement(o),en(f,o,r),h.head.appendChild(f);break;default:throw Error(a(468,o))}f[be]=e,Ae(f),o=f}e.stateNode=o}else k_(h,e.type,e.stateNode);else e.stateNode=O_(h,o,e.memoizedProps);else f!==o?(f===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):f.count--,o===null?k_(h,e.type,e.stateNode):O_(h,o,e.memoizedProps)):o===null&&e.stateNode!==null&&Zf(e,e.memoizedProps,r.memoizedProps)}break;case 27:Tn(n,e),bn(e),o&512&&(je||r===null||Oi(r,r.return)),r!==null&&o&4&&Zf(e,e.memoizedProps,r.memoizedProps);break;case 5:if(Tn(n,e),bn(e),o&512&&(je||r===null||Oi(r,r.return)),e.flags&32){h=e.stateNode;try{vn(h,"")}catch(ht){ee(e,e.return,ht)}}o&4&&e.stateNode!=null&&(h=e.memoizedProps,Zf(e,h,r!==null?r.memoizedProps:h)),o&1024&&(ed=!0);break;case 6:if(Tn(n,e),bn(e),o&4){if(e.stateNode===null)throw Error(a(162));o=e.memoizedProps,r=e.stateNode;try{r.nodeValue=o}catch(ht){ee(e,e.return,ht)}}break;case 3:if(Cc=null,h=yi,yi=Rc(n.containerInfo),Tn(n,e),yi=h,bn(e),o&4&&r!==null&&r.memoizedState.isDehydrated)try{go(n.containerInfo)}catch(ht){ee(e,e.return,ht)}ed&&(ed=!1,ky(e));break;case 4:o=yi,yi=Rc(e.stateNode.containerInfo),Tn(n,e),bn(e),yi=o;break;case 12:Tn(n,e),bn(e);break;case 31:Tn(n,e),bn(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,fc(e,o)));break;case 13:Tn(n,e),bn(e),e.child.flags&8192&&e.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(mc=Ye()),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,fc(e,o)));break;case 22:h=e.memoizedState!==null;var R=r!==null&&r.memoizedState!==null,j=ar,Y=je;if(ar=j||h,je=Y||R,Tn(n,e),je=Y,ar=j,bn(e),o&8192)t:for(n=e.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(r===null||R||ar||je||ca(e)),r=null,n=e;;){if(n.tag===5||n.tag===26){if(r===null){R=r=n;try{if(f=R.stateNode,h)g=f.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none";else{E=R.stateNode;var $=R.memoizedProps.style,B=$!=null&&$.hasOwnProperty("display")?$.display:null;E.style.display=B==null||typeof B=="boolean"?"":(""+B).trim()}}catch(ht){ee(R,R.return,ht)}}}else if(n.tag===6){if(r===null){R=n;try{R.stateNode.nodeValue=h?"":R.memoizedProps}catch(ht){ee(R,R.return,ht)}}}else if(n.tag===18){if(r===null){R=n;try{var H=R.stateNode;h?S_(H,!0):S_(R.stateNode,!1)}catch(ht){ee(R,R.return,ht)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break t;for(;n.sibling===null;){if(n.return===null||n.return===e)break t;r===n&&(r=null),n=n.return}r===n&&(r=null),n.sibling.return=n.return,n=n.sibling}o&4&&(o=e.updateQueue,o!==null&&(r=o.retryQueue,r!==null&&(o.retryQueue=null,fc(e,r))));break;case 19:Tn(n,e),bn(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,fc(e,o)));break;case 30:break;case 21:break;default:Tn(n,e),bn(e)}}function bn(e){var n=e.flags;if(n&2){try{for(var r,o=e.return;o!==null;){if(Ry(o)){r=o;break}o=o.return}if(r==null)throw Error(a(160));switch(r.tag){case 27:var h=r.stateNode,f=Wf(e);hc(e,f,h);break;case 5:var g=r.stateNode;r.flags&32&&(vn(g,""),r.flags&=-33);var E=Wf(e);hc(e,E,g);break;case 3:case 4:var R=r.stateNode.containerInfo,j=Wf(e);td(e,j,R);break;default:throw Error(a(161))}}catch(Y){ee(e,e.return,Y)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function ky(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;ky(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function lr(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Ny(e,n.alternate,n),n=n.sibling}function ca(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:$r(4,n,n.return),ca(n);break;case 1:Oi(n,n.return);var r=n.stateNode;typeof r.componentWillUnmount=="function"&&Sy(n,n.return,r),ca(n);break;case 27:Dl(n.stateNode);case 26:case 5:Oi(n,n.return),ca(n);break;case 22:n.memoizedState===null&&ca(n);break;case 30:ca(n);break;default:ca(n)}e=e.sibling}}function ur(e,n,r){for(r=r&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var o=n.alternate,h=e,f=n,g=f.flags;switch(f.tag){case 0:case 11:case 15:ur(h,f,r),El(4,f);break;case 1:if(ur(h,f,r),o=f,h=o.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(j){ee(o,o.return,j)}if(o=f,h=o.updateQueue,h!==null){var E=o.stateNode;try{var R=h.shared.hiddenCallbacks;if(R!==null)for(h.shared.hiddenCallbacks=null,h=0;h<R.length;h++)fp(R[h],E)}catch(j){ee(o,o.return,j)}}r&&g&64&&Ay(f),Tl(f,f.return);break;case 27:Iy(f);case 26:case 5:ur(h,f,r),r&&o===null&&g&4&&wy(f),Tl(f,f.return);break;case 12:ur(h,f,r);break;case 31:ur(h,f,r),r&&g&4&&My(h,f);break;case 13:ur(h,f,r),r&&g&4&&Oy(h,f);break;case 22:f.memoizedState===null&&ur(h,f,r),Tl(f,f.return);break;case 30:break;default:ur(h,f,r)}n=n.sibling}}function nd(e,n){var r=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(r=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==r&&(e!=null&&e.refCount++,r!=null&&ol(r))}function id(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&ol(e))}function _i(e,n,r,o){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Uy(e,n,r,o),n=n.sibling}function Uy(e,n,r,o){var h=n.flags;switch(n.tag){case 0:case 11:case 15:_i(e,n,r,o),h&2048&&El(9,n);break;case 1:_i(e,n,r,o);break;case 3:_i(e,n,r,o),h&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&ol(e)));break;case 12:if(h&2048){_i(e,n,r,o),e=n.stateNode;try{var f=n.memoizedProps,g=f.id,E=f.onPostCommit;typeof E=="function"&&E(g,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(R){ee(n,n.return,R)}}else _i(e,n,r,o);break;case 31:_i(e,n,r,o);break;case 13:_i(e,n,r,o);break;case 23:break;case 22:f=n.stateNode,g=n.alternate,n.memoizedState!==null?f._visibility&2?_i(e,n,r,o):bl(e,n):f._visibility&2?_i(e,n,r,o):(f._visibility|=2,io(e,n,r,o,(n.subtreeFlags&10256)!==0||!1)),h&2048&&nd(g,n);break;case 24:_i(e,n,r,o),h&2048&&id(n.alternate,n);break;default:_i(e,n,r,o)}}function io(e,n,r,o,h){for(h=h&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=e,g=n,E=r,R=o,j=g.flags;switch(g.tag){case 0:case 11:case 15:io(f,g,E,R,h),El(8,g);break;case 23:break;case 22:var Y=g.stateNode;g.memoizedState!==null?Y._visibility&2?io(f,g,E,R,h):bl(f,g):(Y._visibility|=2,io(f,g,E,R,h)),h&&j&2048&&nd(g.alternate,g);break;case 24:io(f,g,E,R,h),h&&j&2048&&id(g.alternate,g);break;default:io(f,g,E,R,h)}n=n.sibling}}function bl(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var r=e,o=n,h=o.flags;switch(o.tag){case 22:bl(r,o),h&2048&&nd(o.alternate,o);break;case 24:bl(r,o),h&2048&&id(o.alternate,o);break;default:bl(r,o)}n=n.sibling}}var Al=8192;function ro(e,n,r){if(e.subtreeFlags&Al)for(e=e.child;e!==null;)Ly(e,n,r),e=e.sibling}function Ly(e,n,r){switch(e.tag){case 26:ro(e,n,r),e.flags&Al&&e.memoizedState!==null&&xb(r,yi,e.memoizedState,e.memoizedProps);break;case 5:ro(e,n,r);break;case 3:case 4:var o=yi;yi=Rc(e.stateNode.containerInfo),ro(e,n,r),yi=o;break;case 22:e.memoizedState===null&&(o=e.alternate,o!==null&&o.memoizedState!==null?(o=Al,Al=16777216,ro(e,n,r),Al=o):ro(e,n,r));break;default:ro(e,n,r)}}function Py(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function Sl(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var o=n[r];Ke=o,jy(o,e)}Py(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)zy(e),e=e.sibling}function zy(e){switch(e.tag){case 0:case 11:case 15:Sl(e),e.flags&2048&&$r(9,e,e.return);break;case 3:Sl(e);break;case 12:Sl(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,dc(e)):Sl(e);break;default:Sl(e)}}function dc(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var o=n[r];Ke=o,jy(o,e)}Py(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:$r(8,n,n.return),dc(n);break;case 22:r=n.stateNode,r._visibility&2&&(r._visibility&=-3,dc(n));break;default:dc(n)}e=e.sibling}}function jy(e,n){for(;Ke!==null;){var r=Ke;switch(r.tag){case 0:case 11:case 15:$r(8,r,n);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var o=r.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:ol(r.memoizedState.cache)}if(o=r.child,o!==null)o.return=r,Ke=o;else t:for(r=e;Ke!==null;){o=Ke;var h=o.sibling,f=o.return;if(Dy(o),o===r){Ke=null;break t}if(h!==null){h.return=f,Ke=h;break t}Ke=f}}}var QT={getCacheForType:function(e){var n=We(Le),r=n.data.get(e);return r===void 0&&(r=e(),n.data.set(e,r)),r},cacheSignal:function(){return We(Le).controller.signal}},YT=typeof WeakMap=="function"?WeakMap:Map,$t=0,le=null,Ot=null,Ut=0,te=0,qn=null,Jr=!1,so=!1,rd=!1,cr=0,we=0,Zr=0,ha=0,sd=0,Hn=0,ao=0,wl=null,An=null,ad=!1,mc=0,By=0,gc=1/0,pc=null,Wr=null,Ge=0,ts=null,oo=null,hr=0,od=0,ld=null,qy=null,Rl=0,ud=null;function Fn(){return($t&2)!==0&&Ut!==0?Ut&-Ut:G.T!==null?gd():Da()}function Hy(){if(Hn===0)if((Ut&536870912)===0||Ft){var e=Qi;Qi<<=1,(Qi&3932160)===0&&(Qi=262144),Hn=e}else Hn=536870912;return e=jn.current,e!==null&&(e.flags|=32),Hn}function Sn(e,n,r){(e===le&&(te===2||te===9)||e.cancelPendingCommit!==null)&&(lo(e,0),es(e,Ut,Hn,!1)),Ai(e,r),(($t&2)===0||e!==le)&&(e===le&&(($t&2)===0&&(ha|=r),we===4&&es(e,Ut,Hn,!1)),Vi(e))}function Fy(e,n,r){if(($t&6)!==0)throw Error(a(327));var o=!r&&(n&127)===0&&(n&e.expiredLanes)===0||xn(e,n),h=o?$T(e,n):hd(e,n,!0),f=o;do{if(h===0){so&&!o&&es(e,n,0,!1);break}else{if(r=e.current.alternate,f&&!KT(r)){h=hd(e,n,!1),f=!1;continue}if(h===2){if(f=n,e.errorRecoveryDisabledLanes&f)var g=0;else g=e.pendingLanes&-536870913,g=g!==0?g:g&536870912?536870912:0;if(g!==0){n=g;t:{var E=e;h=wl;var R=E.current.memoizedState.isDehydrated;if(R&&(lo(E,g).flags|=256),g=hd(E,g,!1),g!==2){if(rd&&!R){E.errorRecoveryDisabledLanes|=f,ha|=f,h=4;break t}f=An,An=h,f!==null&&(An===null?An=f:An.push.apply(An,f))}h=g}if(f=!1,h!==2)continue}}if(h===1){lo(e,0),es(e,n,0,!0);break}t:{switch(o=e,f=h,f){case 0:case 1:throw Error(a(345));case 4:if((n&4194048)!==n)break;case 6:es(o,n,Hn,!Jr);break t;case 2:An=null;break;case 3:case 5:break;default:throw Error(a(329))}if((n&62914560)===n&&(h=mc+300-Ye(),10<h)){if(es(o,n,Hn,!Jr),Dn(o,0,!0)!==0)break t;hr=n,o.timeoutHandle=T_(Gy.bind(null,o,r,An,pc,ad,n,Hn,ha,ao,Jr,f,"Throttled",-0,0),h);break t}Gy(o,r,An,pc,ad,n,Hn,ha,ao,Jr,f,null,-0,0)}}break}while(!0);Vi(e)}function Gy(e,n,r,o,h,f,g,E,R,j,Y,$,B,H){if(e.timeoutHandle=-1,$=n.subtreeFlags,$&8192||($&16785408)===16785408){$={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:hi},Ly(n,f,$);var ht=(f&62914560)===f?mc-Ye():(f&4194048)===f?By-Ye():0;if(ht=Mb($,ht),ht!==null){hr=f,e.cancelPendingCommit=ht(Wy.bind(null,e,n,f,r,o,h,g,E,R,Y,$,null,B,H)),es(e,f,g,!j);return}}Wy(e,n,f,r,o,h,g,E,R)}function KT(e){for(var n=e;;){var r=n.tag;if((r===0||r===11||r===15)&&n.flags&16384&&(r=n.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var o=0;o<r.length;o++){var h=r[o],f=h.getSnapshot;h=h.value;try{if(!Pn(f(),h))return!1}catch{return!1}}if(r=n.child,n.subtreeFlags&16384&&r!==null)r.return=n,n=r;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function es(e,n,r,o){n&=~sd,n&=~ha,e.suspendedLanes|=n,e.pingedLanes&=~n,o&&(e.warmLanes|=n),o=e.expirationTimes;for(var h=n;0<h;){var f=31-oe(h),g=1<<f;o[f]=-1,h&=~g}r!==0&&Yi(e,r,n)}function yc(){return($t&6)===0?(Il(0),!1):!0}function cd(){if(Ot!==null){if(te===0)var e=Ot.return;else e=Ot,tr=na=null,Rf(e),Za=null,ul=0,e=Ot;for(;e!==null;)by(e.alternate,e),e=e.return;Ot=null}}function lo(e,n){var r=e.timeoutHandle;r!==-1&&(e.timeoutHandle=-1,mb(r)),r=e.cancelPendingCommit,r!==null&&(e.cancelPendingCommit=null,r()),hr=0,cd(),le=e,Ot=r=Zi(e.current,null),Ut=n,te=0,qn=null,Jr=!1,so=xn(e,n),rd=!1,ao=Hn=sd=ha=Zr=we=0,An=wl=null,ad=!1,(n&8)!==0&&(n|=n&32);var o=e.entangledLanes;if(o!==0)for(e=e.entanglements,o&=n;0<o;){var h=31-oe(o),f=1<<h;n|=e[h],o&=~f}return cr=n,Pu(),r}function Qy(e,n){Nt=null,G.H=yl,n===Ja||n===Qu?(n=lp(),te=3):n===mf?(n=lp(),te=4):te=n===qf?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,qn=n,Ot===null&&(we=1,ac(e,ti(n,e.current)))}function Yy(){var e=jn.current;return e===null?!0:(Ut&4194048)===Ut?ri===null:(Ut&62914560)===Ut||(Ut&536870912)!==0?e===ri:!1}function Ky(){var e=G.H;return G.H=yl,e===null?yl:e}function Xy(){var e=G.A;return G.A=QT,e}function _c(){we=4,Jr||(Ut&4194048)!==Ut&&jn.current!==null||(so=!0),(Zr&134217727)===0&&(ha&134217727)===0||le===null||es(le,Ut,Hn,!1)}function hd(e,n,r){var o=$t;$t|=2;var h=Ky(),f=Xy();(le!==e||Ut!==n)&&(pc=null,lo(e,n)),n=!1;var g=we;t:do try{if(te!==0&&Ot!==null){var E=Ot,R=qn;switch(te){case 8:cd(),g=6;break t;case 3:case 2:case 9:case 6:jn.current===null&&(n=!0);var j=te;if(te=0,qn=null,uo(e,E,R,j),r&&so){g=0;break t}break;default:j=te,te=0,qn=null,uo(e,E,R,j)}}XT(),g=we;break}catch(Y){Qy(e,Y)}while(!0);return n&&e.shellSuspendCounter++,tr=na=null,$t=o,G.H=h,G.A=f,Ot===null&&(le=null,Ut=0,Pu()),g}function XT(){for(;Ot!==null;)$y(Ot)}function $T(e,n){var r=$t;$t|=2;var o=Ky(),h=Xy();le!==e||Ut!==n?(pc=null,gc=Ye()+500,lo(e,n)):so=xn(e,n);t:do try{if(te!==0&&Ot!==null){n=Ot;var f=qn;e:switch(te){case 1:te=0,qn=null,uo(e,n,f,1);break;case 2:case 9:if(ap(f)){te=0,qn=null,Jy(n);break}n=function(){te!==2&&te!==9||le!==e||(te=7),Vi(e)},f.then(n,n);break t;case 3:te=7;break t;case 4:te=5;break t;case 7:ap(f)?(te=0,qn=null,Jy(n)):(te=0,qn=null,uo(e,n,f,7));break;case 5:var g=null;switch(Ot.tag){case 26:g=Ot.memoizedState;case 5:case 27:var E=Ot;if(g?U_(g):E.stateNode.complete){te=0,qn=null;var R=E.sibling;if(R!==null)Ot=R;else{var j=E.return;j!==null?(Ot=j,vc(j)):Ot=null}break e}}te=0,qn=null,uo(e,n,f,5);break;case 6:te=0,qn=null,uo(e,n,f,6);break;case 8:cd(),we=6;break t;default:throw Error(a(462))}}JT();break}catch(Y){Qy(e,Y)}while(!0);return tr=na=null,G.H=o,G.A=h,$t=r,Ot!==null?0:(le=null,Ut=0,Pu(),we)}function JT(){for(;Ot!==null&&!Ms();)$y(Ot)}function $y(e){var n=Ey(e.alternate,e,cr);e.memoizedProps=e.pendingProps,n===null?vc(e):Ot=n}function Jy(e){var n=e,r=n.alternate;switch(n.tag){case 15:case 0:n=my(r,n,n.pendingProps,n.type,void 0,Ut);break;case 11:n=my(r,n,n.pendingProps,n.type.render,n.ref,Ut);break;case 5:Rf(n);default:by(r,n),n=Ot=Xg(n,cr),n=Ey(r,n,cr)}e.memoizedProps=e.pendingProps,n===null?vc(e):Ot=n}function uo(e,n,r,o){tr=na=null,Rf(n),Za=null,ul=0;var h=n.return;try{if(zT(e,h,n,r,Ut)){we=1,ac(e,ti(r,e.current)),Ot=null;return}}catch(f){if(h!==null)throw Ot=h,f;we=1,ac(e,ti(r,e.current)),Ot=null;return}n.flags&32768?(Ft||o===1?e=!0:so||(Ut&536870912)!==0?e=!1:(Jr=e=!0,(o===2||o===9||o===3||o===6)&&(o=jn.current,o!==null&&o.tag===13&&(o.flags|=16384))),Zy(n,e)):vc(n)}function vc(e){var n=e;do{if((n.flags&32768)!==0){Zy(n,Jr);return}e=n.return;var r=qT(n.alternate,n,cr);if(r!==null){Ot=r;return}if(n=n.sibling,n!==null){Ot=n;return}Ot=n=e}while(n!==null);we===0&&(we=5)}function Zy(e,n){do{var r=HT(e.alternate,e);if(r!==null){r.flags&=32767,Ot=r;return}if(r=e.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!n&&(e=e.sibling,e!==null)){Ot=e;return}Ot=e=r}while(e!==null);we=6,Ot=null}function Wy(e,n,r,o,h,f,g,E,R){e.cancelPendingCommit=null;do Ec();while(Ge!==0);if(($t&6)!==0)throw Error(a(327));if(n!==null){if(n===e.current)throw Error(a(177));if(f=n.lanes|n.childLanes,f|=Zh,Na(e,r,f,g,E,R),e===le&&(Ot=le=null,Ut=0),oo=n,ts=e,hr=r,od=f,ld=h,qy=o,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,eb(fn,function(){return r_(),null})):(e.callbackNode=null,e.callbackPriority=0),o=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||o){o=G.T,G.T=null,h=rt.p,rt.p=2,g=$t,$t|=4;try{FT(e,n,r)}finally{$t=g,rt.p=h,G.T=o}}Ge=1,t_(),e_(),n_()}}function t_(){if(Ge===1){Ge=0;var e=ts,n=oo,r=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||r){r=G.T,G.T=null;var o=rt.p;rt.p=2;var h=$t;$t|=4;try{Vy(n,e);var f=Ad,g=jg(e.containerInfo),E=f.focusedElem,R=f.selectionRange;if(g!==E&&E&&E.ownerDocument&&zg(E.ownerDocument.documentElement,E)){if(R!==null&&Yh(E)){var j=R.start,Y=R.end;if(Y===void 0&&(Y=j),"selectionStart"in E)E.selectionStart=j,E.selectionEnd=Math.min(Y,E.value.length);else{var $=E.ownerDocument||document,B=$&&$.defaultView||window;if(B.getSelection){var H=B.getSelection(),ht=E.textContent.length,vt=Math.min(R.start,ht),ae=R.end===void 0?vt:Math.min(R.end,ht);!H.extend&&vt>ae&&(g=ae,ae=vt,vt=g);var k=Pg(E,vt),x=Pg(E,ae);if(k&&x&&(H.rangeCount!==1||H.anchorNode!==k.node||H.anchorOffset!==k.offset||H.focusNode!==x.node||H.focusOffset!==x.offset)){var z=$.createRange();z.setStart(k.node,k.offset),H.removeAllRanges(),vt>ae?(H.addRange(z),H.extend(x.node,x.offset)):(z.setEnd(x.node,x.offset),H.addRange(z))}}}}for($=[],H=E;H=H.parentNode;)H.nodeType===1&&$.push({element:H,left:H.scrollLeft,top:H.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<$.length;E++){var K=$[E];K.element.scrollLeft=K.left,K.element.scrollTop=K.top}}Mc=!!bd,Ad=bd=null}finally{$t=h,rt.p=o,G.T=r}}e.current=n,Ge=2}}function e_(){if(Ge===2){Ge=0;var e=ts,n=oo,r=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||r){r=G.T,G.T=null;var o=rt.p;rt.p=2;var h=$t;$t|=4;try{Ny(e,n.alternate,n)}finally{$t=h,rt.p=o,G.T=r}}Ge=3}}function n_(){if(Ge===4||Ge===3){Ge=0,Os();var e=ts,n=oo,r=hr,o=qy;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Ge=5:(Ge=0,oo=ts=null,i_(e,e.pendingLanes));var h=e.pendingLanes;if(h===0&&(Wr=null),On(r),n=n.stateNode,Wt&&typeof Wt.onCommitFiberRoot=="function")try{Wt.onCommitFiberRoot(dn,n,void 0,(n.current.flags&128)===128)}catch{}if(o!==null){n=G.T,h=rt.p,rt.p=2,G.T=null;try{for(var f=e.onRecoverableError,g=0;g<o.length;g++){var E=o[g];f(E.value,{componentStack:E.stack})}}finally{G.T=n,rt.p=h}}(hr&3)!==0&&Ec(),Vi(e),h=e.pendingLanes,(r&261930)!==0&&(h&42)!==0?e===ud?Rl++:(Rl=0,ud=e):Rl=0,Il(0)}}function i_(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,ol(n)))}function Ec(){return t_(),e_(),n_(),r_()}function r_(){if(Ge!==5)return!1;var e=ts,n=od;od=0;var r=On(hr),o=G.T,h=rt.p;try{rt.p=32>r?32:r,G.T=null,r=ld,ld=null;var f=ts,g=hr;if(Ge=0,oo=ts=null,hr=0,($t&6)!==0)throw Error(a(331));var E=$t;if($t|=4,zy(f.current),Uy(f,f.current,g,r),$t=E,Il(0,!1),Wt&&typeof Wt.onPostCommitFiberRoot=="function")try{Wt.onPostCommitFiberRoot(dn,f)}catch{}return!0}finally{rt.p=h,G.T=o,i_(e,n)}}function s_(e,n,r){n=ti(r,n),n=Bf(e.stateNode,n,2),e=Yr(e,n,2),e!==null&&(Ai(e,2),Vi(e))}function ee(e,n,r){if(e.tag===3)s_(e,e,r);else for(;n!==null;){if(n.tag===3){s_(n,e,r);break}else if(n.tag===1){var o=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Wr===null||!Wr.has(o))){e=ti(r,e),r=ay(2),o=Yr(n,r,2),o!==null&&(oy(r,o,n,e),Ai(o,2),Vi(o));break}}n=n.return}}function fd(e,n,r){var o=e.pingCache;if(o===null){o=e.pingCache=new YT;var h=new Set;o.set(n,h)}else h=o.get(n),h===void 0&&(h=new Set,o.set(n,h));h.has(r)||(rd=!0,h.add(r),e=ZT.bind(null,e,n,r),n.then(e,e))}function ZT(e,n,r){var o=e.pingCache;o!==null&&o.delete(n),e.pingedLanes|=e.suspendedLanes&r,e.warmLanes&=~r,le===e&&(Ut&r)===r&&(we===4||we===3&&(Ut&62914560)===Ut&&300>Ye()-mc?($t&2)===0&&lo(e,0):sd|=r,ao===Ut&&(ao=0)),Vi(e)}function a_(e,n){n===0&&(n=Us()),e=Ws(e,n),e!==null&&(Ai(e,n),Vi(e))}function WT(e){var n=e.memoizedState,r=0;n!==null&&(r=n.retryLane),a_(e,r)}function tb(e,n){var r=0;switch(e.tag){case 31:case 13:var o=e.stateNode,h=e.memoizedState;h!==null&&(r=h.retryLane);break;case 19:o=e.stateNode;break;case 22:o=e.stateNode._retryCache;break;default:throw Error(a(314))}o!==null&&o.delete(n),a_(e,r)}function eb(e,n){return Ie(e,n)}var Tc=null,co=null,dd=!1,bc=!1,md=!1,ns=0;function Vi(e){e!==co&&e.next===null&&(co===null?Tc=co=e:co=co.next=e),bc=!0,dd||(dd=!0,ib())}function Il(e,n){if(!md&&bc){md=!0;do for(var r=!1,o=Tc;o!==null;){if(e!==0){var h=o.pendingLanes;if(h===0)var f=0;else{var g=o.suspendedLanes,E=o.pingedLanes;f=(1<<31-oe(42|e)+1)-1,f&=h&~(g&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(r=!0,c_(o,f))}else f=Ut,f=Dn(o,o===le?f:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(f&3)===0||xn(o,f)||(r=!0,c_(o,f));o=o.next}while(r);md=!1}}function nb(){o_()}function o_(){bc=dd=!1;var e=0;ns!==0&&db()&&(e=ns);for(var n=Ye(),r=null,o=Tc;o!==null;){var h=o.next,f=l_(o,n);f===0?(o.next=null,r===null?Tc=h:r.next=h,h===null&&(co=r)):(r=o,(e!==0||(f&3)!==0)&&(bc=!0)),o=h}Ge!==0&&Ge!==5||Il(e),ns!==0&&(ns=0)}function l_(e,n){for(var r=e.suspendedLanes,o=e.pingedLanes,h=e.expirationTimes,f=e.pendingLanes&-62914561;0<f;){var g=31-oe(f),E=1<<g,R=h[g];R===-1?((E&r)===0||(E&o)!==0)&&(h[g]=Ca(E,n)):R<=n&&(e.expiredLanes|=E),f&=~E}if(n=le,r=Ut,r=Dn(e,e===n?r:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o=e.callbackNode,r===0||e===n&&(te===2||te===9)||e.cancelPendingCommit!==null)return o!==null&&o!==null&&Qn(o),e.callbackNode=null,e.callbackPriority=0;if((r&3)===0||xn(e,r)){if(n=r&-r,n===e.callbackPriority)return n;switch(o!==null&&Qn(o),On(r)){case 2:case 8:r=Rr;break;case 32:r=fn;break;case 268435456:r=bi;break;default:r=fn}return o=u_.bind(null,e),r=Ie(r,o),e.callbackPriority=n,e.callbackNode=r,n}return o!==null&&o!==null&&Qn(o),e.callbackPriority=2,e.callbackNode=null,2}function u_(e,n){if(Ge!==0&&Ge!==5)return e.callbackNode=null,e.callbackPriority=0,null;var r=e.callbackNode;if(Ec()&&e.callbackNode!==r)return null;var o=Ut;return o=Dn(e,e===le?o:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o===0?null:(Fy(e,o,n),l_(e,Ye()),e.callbackNode!=null&&e.callbackNode===r?u_.bind(null,e):null)}function c_(e,n){if(Ec())return null;Fy(e,n,!0)}function ib(){gb(function(){($t&6)!==0?Ie(Vs,nb):o_()})}function gd(){if(ns===0){var e=Xa;e===0&&(e=Cn,Cn<<=1,(Cn&261888)===0&&(Cn=256)),ns=e}return ns}function h_(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Va(""+e)}function f_(e,n){var r=n.ownerDocument.createElement("input");return r.name=n.name,r.value=n.value,e.id&&r.setAttribute("form",e.id),n.parentNode.insertBefore(r,n),e=new FormData(e),r.parentNode.removeChild(r),e}function rb(e,n,r,o,h){if(n==="submit"&&r&&r.stateNode===h){var f=h_((h[Ce]||null).action),g=o.submitter;g&&(n=(n=g[Ce]||null)?h_(n.formAction):g.getAttribute("formAction"),n!==null&&(f=n,g=null));var E=new Ii("action","action",null,o,h);e.push({event:E,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(ns!==0){var R=g?f_(h,g):new FormData(h);kf(r,{pending:!0,data:R,method:h.method,action:f},null,R)}}else typeof f=="function"&&(E.preventDefault(),R=g?f_(h,g):new FormData(h),kf(r,{pending:!0,data:R,method:h.method,action:f},f,R))},currentTarget:h}]})}}for(var pd=0;pd<Jh.length;pd++){var yd=Jh[pd],sb=yd.toLowerCase(),ab=yd[0].toUpperCase()+yd.slice(1);pi(sb,"on"+ab)}pi(Hg,"onAnimationEnd"),pi(Fg,"onAnimationIteration"),pi(Gg,"onAnimationStart"),pi("dblclick","onDoubleClick"),pi("focusin","onFocus"),pi("focusout","onBlur"),pi(bT,"onTransitionRun"),pi(AT,"onTransitionStart"),pi(ST,"onTransitionCancel"),pi(Qg,"onTransitionEnd"),Ln("onMouseEnter",["mouseout","mouseover"]),Ln("onMouseLeave",["mouseout","mouseover"]),Ln("onPointerEnter",["pointerout","pointerover"]),Ln("onPointerLeave",["pointerout","pointerover"]),Ue("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ue("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ue("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ue("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ue("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ue("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Cl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ob=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Cl));function d_(e,n){n=(n&4)!==0;for(var r=0;r<e.length;r++){var o=e[r],h=o.event;o=o.listeners;t:{var f=void 0;if(n)for(var g=o.length-1;0<=g;g--){var E=o[g],R=E.instance,j=E.currentTarget;if(E=E.listener,R!==f&&h.isPropagationStopped())break t;f=E,h.currentTarget=j;try{f(h)}catch(Y){Lu(Y)}h.currentTarget=null,f=R}else for(g=0;g<o.length;g++){if(E=o[g],R=E.instance,j=E.currentTarget,E=E.listener,R!==f&&h.isPropagationStopped())break t;f=E,h.currentTarget=j;try{f(h)}catch(Y){Lu(Y)}h.currentTarget=null,f=R}}}}function Vt(e,n){var r=n[Nr];r===void 0&&(r=n[Nr]=new Set);var o=e+"__bubble";r.has(o)||(m_(n,e,2,!1),r.add(o))}function _d(e,n,r){var o=0;n&&(o|=4),m_(r,e,o,n)}var Ac="_reactListening"+Math.random().toString(36).slice(2);function vd(e){if(!e[Ac]){e[Ac]=!0,zs.forEach(function(r){r!=="selectionchange"&&(ob.has(r)||_d(r,!1,e),_d(r,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[Ac]||(n[Ac]=!0,_d("selectionchange",!1,n))}}function m_(e,n,r,o){switch(H_(n)){case 2:var h=kb;break;case 8:h=Ub;break;default:h=Vd}r=h.bind(null,n,r,e),h=void 0,!Gs||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),o?h!==void 0?e.addEventListener(n,r,{capture:!0,passive:h}):e.addEventListener(n,r,!0):h!==void 0?e.addEventListener(n,r,{passive:h}):e.addEventListener(n,r,!1)}function Ed(e,n,r,o,h){var f=o;if((n&1)===0&&(n&2)===0&&o!==null)t:for(;;){if(o===null)return;var g=o.tag;if(g===3||g===4){var E=o.stateNode.containerInfo;if(E===h)break;if(g===4)for(g=o.return;g!==null;){var R=g.tag;if((R===3||R===4)&&g.stateNode.containerInfo===h)return;g=g.return}for(;E!==null;){if(g=Kn(E),g===null)return;if(R=g.tag,R===5||R===6||R===26||R===27){o=f=g;continue t}E=E.parentNode}}o=o.return}Lr(function(){var j=f,Y=$n(r),$=[];t:{var B=Yg.get(e);if(B!==void 0){var H=Ii,ht=e;switch(e){case"keypress":if(Ys(r)===0)break t;case"keydown":case"keyup":H=Vu;break;case"focusin":ht="focus",H=Xs;break;case"focusout":ht="blur",H=Xs;break;case"beforeblur":case"afterblur":H=Xs;break;case"click":if(r.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":H=Wo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":H=wu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":H=m;break;case Hg:case Fg:case Gg:H=Iu;break;case Qg:H=T;break;case"scroll":case"scrollend":H=Zo;break;case"wheel":H=q;break;case"copy":case"cut":case"paste":H=Cu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":H=Ji;break;case"toggle":case"beforetoggle":H=Ct}var vt=(n&4)!==0,ae=!vt&&(e==="scroll"||e==="scrollend"),k=vt?B!==null?B+"Capture":null:B;vt=[];for(var x=j,z;x!==null;){var K=x;if(z=K.stateNode,K=K.tag,K!==5&&K!==26&&K!==27||z===null||k===null||(K=fi(x,k),K!=null&&vt.push(Nl(x,K,z))),ae)break;x=x.return}0<vt.length&&(B=new H(B,ht,null,r,Y),$.push({event:B,listeners:vt}))}}if((n&7)===0){t:{if(B=e==="mouseover"||e==="pointerover",H=e==="mouseout"||e==="pointerout",B&&r!==Xo&&(ht=r.relatedTarget||r.fromElement)&&(Kn(ht)||ht[Un]))break t;if((H||B)&&(B=Y.window===Y?Y:(B=Y.ownerDocument)?B.defaultView||B.parentWindow:window,H?(ht=r.relatedTarget||r.toElement,H=j,ht=ht?Kn(ht):null,ht!==null&&(ae=c(ht),vt=ht.tag,ht!==ae||vt!==5&&vt!==27&&vt!==6)&&(ht=null)):(H=null,ht=j),H!==ht)){if(vt=Wo,K="onMouseLeave",k="onMouseEnter",x="mouse",(e==="pointerout"||e==="pointerover")&&(vt=Ji,K="onPointerLeave",k="onPointerEnter",x="pointer"),ae=H==null?B:mn(H),z=ht==null?B:mn(ht),B=new vt(K,x+"leave",H,r,Y),B.target=ae,B.relatedTarget=z,K=null,Kn(Y)===j&&(vt=new vt(k,x+"enter",ht,r,Y),vt.target=z,vt.relatedTarget=ae,K=vt),ae=K,H&&ht)e:{for(vt=lb,k=H,x=ht,z=0,K=k;K;K=vt(K))z++;K=0;for(var gt=x;gt;gt=vt(gt))K++;for(;0<z-K;)k=vt(k),z--;for(;0<K-z;)x=vt(x),K--;for(;z--;){if(k===x||x!==null&&k===x.alternate){vt=k;break e}k=vt(k),x=vt(x)}vt=null}else vt=null;H!==null&&g_($,B,H,vt,!1),ht!==null&&ae!==null&&g_($,ae,ht,vt,!0)}}t:{if(B=j?mn(j):window,H=B.nodeName&&B.nodeName.toLowerCase(),H==="select"||H==="input"&&B.type==="file")var Qt=Mg;else if(Dg(B))if(Og)Qt=vT;else{Qt=yT;var ft=pT}else H=B.nodeName,!H||H.toLowerCase()!=="input"||B.type!=="checkbox"&&B.type!=="radio"?j&&Oa(j.elementType)&&(Qt=Mg):Qt=_T;if(Qt&&(Qt=Qt(e,j))){xg($,Qt,r,Y);break t}ft&&ft(e,B,j),e==="focusout"&&j&&B.type==="number"&&j.memoizedProps.value!=null&&Hs(B,"number",B.value)}switch(ft=j?mn(j):window,e){case"focusin":(Dg(ft)||ft.contentEditable==="true")&&(Ba=ft,Kh=j,rl=null);break;case"focusout":rl=Kh=Ba=null;break;case"mousedown":Xh=!0;break;case"contextmenu":case"mouseup":case"dragend":Xh=!1,Bg($,r,Y);break;case"selectionchange":if(TT)break;case"keydown":case"keyup":Bg($,r,Y)}var Dt;if(Xt)t:{switch(e){case"compositionstart":var Lt="onCompositionStart";break t;case"compositionend":Lt="onCompositionEnd";break t;case"compositionupdate":Lt="onCompositionUpdate";break t}Lt=void 0}else ja?$s(e,r)&&(Lt="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(Lt="onCompositionStart");Lt&&(Di&&r.locale!=="ko"&&(ja||Lt!=="onCompositionStart"?Lt==="onCompositionEnd"&&ja&&(Dt=Jo()):(Ri=Y,$o="value"in Ri?Ri.value:Ri.textContent,ja=!0)),ft=Sc(j,Lt),0<ft.length&&(Lt=new Ni(Lt,e,null,r,Y),$.push({event:Lt,listeners:ft}),Dt?Lt.data=Dt:(Dt=za(r),Dt!==null&&(Lt.data=Dt)))),(Dt=Zn?fT(e,r):dT(e,r))&&(Lt=Sc(j,"onBeforeInput"),0<Lt.length&&(ft=new Ni("onBeforeInput","beforeinput",null,r,Y),$.push({event:ft,listeners:Lt}),ft.data=Dt)),rb($,e,j,r,Y)}d_($,n)})}function Nl(e,n,r){return{instance:e,listener:n,currentTarget:r}}function Sc(e,n){for(var r=n+"Capture",o=[];e!==null;){var h=e,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=fi(e,r),h!=null&&o.unshift(Nl(e,h,f)),h=fi(e,n),h!=null&&o.push(Nl(e,h,f))),e.tag===3)return o;e=e.return}return[]}function lb(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function g_(e,n,r,o,h){for(var f=n._reactName,g=[];r!==null&&r!==o;){var E=r,R=E.alternate,j=E.stateNode;if(E=E.tag,R!==null&&R===o)break;E!==5&&E!==26&&E!==27||j===null||(R=j,h?(j=fi(r,f),j!=null&&g.unshift(Nl(r,j,R))):h||(j=fi(r,f),j!=null&&g.push(Nl(r,j,R)))),r=r.return}g.length!==0&&e.push({event:n,listeners:g})}var ub=/\r\n?/g,cb=/\u0000|\uFFFD/g;function p_(e){return(typeof e=="string"?e:""+e).replace(ub,`
`).replace(cb,"")}function y_(e,n){return n=p_(n),p_(e)===n}function se(e,n,r,o,h,f){switch(r){case"children":typeof o=="string"?n==="body"||n==="textarea"&&o===""||vn(e,o):(typeof o=="number"||typeof o=="bigint")&&n!=="body"&&vn(e,""+o);break;case"className":gn(e,"class",o);break;case"tabIndex":gn(e,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":gn(e,r,o);break;case"style":Ko(e,o,f);break;case"data":if(n!=="object"){gn(e,"data",o);break}case"src":case"href":if(o===""&&(n!=="a"||r!=="href")){e.removeAttribute(r);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(r);break}o=Va(""+o),e.setAttribute(r,o);break;case"action":case"formAction":if(typeof o=="function"){e.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(r==="formAction"?(n!=="input"&&se(e,n,"name",h.name,h,null),se(e,n,"formEncType",h.formEncType,h,null),se(e,n,"formMethod",h.formMethod,h,null),se(e,n,"formTarget",h.formTarget,h,null)):(se(e,n,"encType",h.encType,h,null),se(e,n,"method",h.method,h,null),se(e,n,"target",h.target,h,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(r);break}o=Va(""+o),e.setAttribute(r,o);break;case"onClick":o!=null&&(e.onclick=hi);break;case"onScroll":o!=null&&Vt("scroll",e);break;case"onScrollEnd":o!=null&&Vt("scrollend",e);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(a(61));if(r=o.__html,r!=null){if(h.children!=null)throw Error(a(60));e.innerHTML=r}}break;case"multiple":e.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":e.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){e.removeAttribute("xlink:href");break}r=Va(""+o),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(r,""+o):e.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(r,""):e.removeAttribute(r);break;case"capture":case"download":o===!0?e.setAttribute(r,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(r,o):e.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?e.setAttribute(r,o):e.removeAttribute(r);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?e.removeAttribute(r):e.setAttribute(r,o);break;case"popover":Vt("beforetoggle",e),Vt("toggle",e),ci(e,"popover",o);break;case"xlinkActuate":N(e,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":N(e,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":N(e,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":N(e,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":N(e,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":N(e,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":N(e,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":N(e,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":N(e,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":ci(e,"is",o);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=Su.get(r)||r,ci(e,r,o))}}function Td(e,n,r,o,h,f){switch(r){case"style":Ko(e,o,f);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(a(61));if(r=o.__html,r!=null){if(h.children!=null)throw Error(a(60));e.innerHTML=r}}break;case"children":typeof o=="string"?vn(e,o):(typeof o=="number"||typeof o=="bigint")&&vn(e,""+o);break;case"onScroll":o!=null&&Vt("scroll",e);break;case"onScrollEnd":o!=null&&Vt("scrollend",e);break;case"onClick":o!=null&&(e.onclick=hi);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!js.hasOwnProperty(r))t:{if(r[0]==="o"&&r[1]==="n"&&(h=r.endsWith("Capture"),n=r.slice(2,h?r.length-7:void 0),f=e[Ce]||null,f=f!=null?f[r]:null,typeof f=="function"&&e.removeEventListener(n,f,h),typeof o=="function")){typeof f!="function"&&f!==null&&(r in e?e[r]=null:e.hasAttribute(r)&&e.removeAttribute(r)),e.addEventListener(n,o,h);break t}r in e?e[r]=o:o===!0?e.setAttribute(r,""):ci(e,r,o)}}}function en(e,n,r){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Vt("error",e),Vt("load",e);var o=!1,h=!1,f;for(f in r)if(r.hasOwnProperty(f)){var g=r[f];if(g!=null)switch(f){case"src":o=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:se(e,n,f,g,r,null)}}h&&se(e,n,"srcSet",r.srcSet,r,null),o&&se(e,n,"src",r.src,r,null);return;case"input":Vt("invalid",e);var E=f=g=h=null,R=null,j=null;for(o in r)if(r.hasOwnProperty(o)){var Y=r[o];if(Y!=null)switch(o){case"name":h=Y;break;case"type":g=Y;break;case"checked":R=Y;break;case"defaultChecked":j=Y;break;case"value":f=Y;break;case"defaultValue":E=Y;break;case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(a(137,n));break;default:se(e,n,o,Y,r,null)}}Ma(e,f,E,R,j,g,h,!1);return;case"select":Vt("invalid",e),o=g=f=null;for(h in r)if(r.hasOwnProperty(h)&&(E=r[h],E!=null))switch(h){case"value":f=E;break;case"defaultValue":g=E;break;case"multiple":o=E;default:se(e,n,h,E,r,null)}n=f,r=g,e.multiple=!!o,n!=null?Or(e,!!o,n,!1):r!=null&&Or(e,!!o,r,!0);return;case"textarea":Vt("invalid",e),f=h=o=null;for(g in r)if(r.hasOwnProperty(g)&&(E=r[g],E!=null))switch(g){case"value":o=E;break;case"defaultValue":h=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(a(91));break;default:se(e,n,g,E,r,null)}Vr(e,o,h,f);return;case"option":for(R in r)if(r.hasOwnProperty(R)&&(o=r[R],o!=null))switch(R){case"selected":e.selected=o&&typeof o!="function"&&typeof o!="symbol";break;default:se(e,n,R,o,r,null)}return;case"dialog":Vt("beforetoggle",e),Vt("toggle",e),Vt("cancel",e),Vt("close",e);break;case"iframe":case"object":Vt("load",e);break;case"video":case"audio":for(o=0;o<Cl.length;o++)Vt(Cl[o],e);break;case"image":Vt("error",e),Vt("load",e);break;case"details":Vt("toggle",e);break;case"embed":case"source":case"link":Vt("error",e),Vt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(j in r)if(r.hasOwnProperty(j)&&(o=r[j],o!=null))switch(j){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:se(e,n,j,o,r,null)}return;default:if(Oa(n)){for(Y in r)r.hasOwnProperty(Y)&&(o=r[Y],o!==void 0&&Td(e,n,Y,o,r,void 0));return}}for(E in r)r.hasOwnProperty(E)&&(o=r[E],o!=null&&se(e,n,E,o,r,null))}function hb(e,n,r,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,g=null,E=null,R=null,j=null,Y=null;for(H in r){var $=r[H];if(r.hasOwnProperty(H)&&$!=null)switch(H){case"checked":break;case"value":break;case"defaultValue":R=$;default:o.hasOwnProperty(H)||se(e,n,H,null,o,$)}}for(var B in o){var H=o[B];if($=r[B],o.hasOwnProperty(B)&&(H!=null||$!=null))switch(B){case"type":f=H;break;case"name":h=H;break;case"checked":j=H;break;case"defaultChecked":Y=H;break;case"value":g=H;break;case"defaultValue":E=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(a(137,n));break;default:H!==$&&se(e,n,B,H,o,$)}}Si(e,g,E,R,j,Y,f,h);return;case"select":H=g=E=B=null;for(f in r)if(R=r[f],r.hasOwnProperty(f)&&R!=null)switch(f){case"value":break;case"multiple":H=R;default:o.hasOwnProperty(f)||se(e,n,f,null,o,R)}for(h in o)if(f=o[h],R=r[h],o.hasOwnProperty(h)&&(f!=null||R!=null))switch(h){case"value":B=f;break;case"defaultValue":E=f;break;case"multiple":g=f;default:f!==R&&se(e,n,h,f,o,R)}n=E,r=g,o=H,B!=null?Or(e,!!r,B,!1):!!o!=!!r&&(n!=null?Or(e,!!r,n,!0):Or(e,!!r,r?[]:"",!1));return;case"textarea":H=B=null;for(E in r)if(h=r[E],r.hasOwnProperty(E)&&h!=null&&!o.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:se(e,n,E,null,o,h)}for(g in o)if(h=o[g],f=r[g],o.hasOwnProperty(g)&&(h!=null||f!=null))switch(g){case"value":B=h;break;case"defaultValue":H=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(a(91));break;default:h!==f&&se(e,n,g,h,o,f)}bu(e,B,H);return;case"option":for(var ht in r)if(B=r[ht],r.hasOwnProperty(ht)&&B!=null&&!o.hasOwnProperty(ht))switch(ht){case"selected":e.selected=!1;break;default:se(e,n,ht,null,o,B)}for(R in o)if(B=o[R],H=r[R],o.hasOwnProperty(R)&&B!==H&&(B!=null||H!=null))switch(R){case"selected":e.selected=B&&typeof B!="function"&&typeof B!="symbol";break;default:se(e,n,R,B,o,H)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var vt in r)B=r[vt],r.hasOwnProperty(vt)&&B!=null&&!o.hasOwnProperty(vt)&&se(e,n,vt,null,o,B);for(j in o)if(B=o[j],H=r[j],o.hasOwnProperty(j)&&B!==H&&(B!=null||H!=null))switch(j){case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(a(137,n));break;default:se(e,n,j,B,o,H)}return;default:if(Oa(n)){for(var ae in r)B=r[ae],r.hasOwnProperty(ae)&&B!==void 0&&!o.hasOwnProperty(ae)&&Td(e,n,ae,void 0,o,B);for(Y in o)B=o[Y],H=r[Y],!o.hasOwnProperty(Y)||B===H||B===void 0&&H===void 0||Td(e,n,Y,B,o,H);return}}for(var k in r)B=r[k],r.hasOwnProperty(k)&&B!=null&&!o.hasOwnProperty(k)&&se(e,n,k,null,o,B);for($ in o)B=o[$],H=r[$],!o.hasOwnProperty($)||B===H||B==null&&H==null||se(e,n,$,B,o,H)}function __(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function fb(){if(typeof performance.getEntriesByType=="function"){for(var e=0,n=0,r=performance.getEntriesByType("resource"),o=0;o<r.length;o++){var h=r[o],f=h.transferSize,g=h.initiatorType,E=h.duration;if(f&&E&&__(g)){for(g=0,E=h.responseEnd,o+=1;o<r.length;o++){var R=r[o],j=R.startTime;if(j>E)break;var Y=R.transferSize,$=R.initiatorType;Y&&__($)&&(R=R.responseEnd,g+=Y*(R<E?1:(E-j)/(R-j)))}if(--o,n+=8*(f+g)/(h.duration/1e3),e++,10<e)break}}if(0<e)return n/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var bd=null,Ad=null;function wc(e){return e.nodeType===9?e:e.ownerDocument}function v_(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function E_(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function Sd(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var wd=null;function db(){var e=window.event;return e&&e.type==="popstate"?e===wd?!1:(wd=e,!0):(wd=null,!1)}var T_=typeof setTimeout=="function"?setTimeout:void 0,mb=typeof clearTimeout=="function"?clearTimeout:void 0,b_=typeof Promise=="function"?Promise:void 0,gb=typeof queueMicrotask=="function"?queueMicrotask:typeof b_<"u"?function(e){return b_.resolve(null).then(e).catch(pb)}:T_;function pb(e){setTimeout(function(){throw e})}function is(e){return e==="head"}function A_(e,n){var r=n,o=0;do{var h=r.nextSibling;if(e.removeChild(r),h&&h.nodeType===8)if(r=h.data,r==="/$"||r==="/&"){if(o===0){e.removeChild(h),go(n);return}o--}else if(r==="$"||r==="$?"||r==="$~"||r==="$!"||r==="&")o++;else if(r==="html")Dl(e.ownerDocument.documentElement);else if(r==="head"){r=e.ownerDocument.head,Dl(r);for(var f=r.firstChild;f;){var g=f.nextSibling,E=f.nodeName;f[Yn]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&f.rel.toLowerCase()==="stylesheet"||r.removeChild(f),f=g}}else r==="body"&&Dl(e.ownerDocument.body);r=h}while(r);go(n)}function S_(e,n){var r=e;e=0;do{var o=r.nextSibling;if(r.nodeType===1?n?(r._stashedDisplay=r.style.display,r.style.display="none"):(r.style.display=r._stashedDisplay||"",r.getAttribute("style")===""&&r.removeAttribute("style")):r.nodeType===3&&(n?(r._stashedText=r.nodeValue,r.nodeValue=""):r.nodeValue=r._stashedText||""),o&&o.nodeType===8)if(r=o.data,r==="/$"){if(e===0)break;e--}else r!=="$"&&r!=="$?"&&r!=="$~"&&r!=="$!"||e++;r=o}while(r)}function Rd(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var r=n;switch(n=n.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":Rd(r),Dr(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}e.removeChild(r)}}function yb(e,n,r,o){for(;e.nodeType===1;){var h=r;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!o&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(o){if(!e[Yn])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(f=e.getAttribute("rel"),f==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(f!==h.rel||e.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(f=e.getAttribute("src"),(f!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===f)return e}else return e;if(e=si(e.nextSibling),e===null)break}return null}function _b(e,n,r){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!r||(e=si(e.nextSibling),e===null))return null;return e}function w_(e,n){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=si(e.nextSibling),e===null))return null;return e}function Id(e){return e.data==="$?"||e.data==="$~"}function Cd(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function vb(e,n){var r=e.ownerDocument;if(e.data==="$~")e._reactRetry=n;else if(e.data!=="$?"||r.readyState!=="loading")n();else{var o=function(){n(),r.removeEventListener("DOMContentLoaded",o)};r.addEventListener("DOMContentLoaded",o),e._reactRetry=o}}function si(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return e}var Nd=null;function R_(e){e=e.nextSibling;for(var n=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"||r==="/&"){if(n===0)return si(e.nextSibling);n--}else r!=="$"&&r!=="$!"&&r!=="$?"&&r!=="$~"&&r!=="&"||n++}e=e.nextSibling}return null}function I_(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"){if(n===0)return e;n--}else r!=="/$"&&r!=="/&"||n++}e=e.previousSibling}return null}function C_(e,n,r){switch(n=wc(r),e){case"html":if(e=n.documentElement,!e)throw Error(a(452));return e;case"head":if(e=n.head,!e)throw Error(a(453));return e;case"body":if(e=n.body,!e)throw Error(a(454));return e;default:throw Error(a(451))}}function Dl(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);Dr(e)}var ai=new Map,N_=new Set;function Rc(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var fr=rt.d;rt.d={f:Eb,r:Tb,D:bb,C:Ab,L:Sb,m:wb,X:Ib,S:Rb,M:Cb};function Eb(){var e=fr.f(),n=yc();return e||n}function Tb(e){var n=_n(e);n!==null&&n.tag===5&&n.type==="form"?Qp(n):fr.r(e)}var ho=typeof document>"u"?null:document;function D_(e,n,r){var o=ho;if(o&&typeof n=="string"&&n){var h=ce(n);h='link[rel="'+e+'"][href="'+h+'"]',typeof r=="string"&&(h+='[crossorigin="'+r+'"]'),N_.has(h)||(N_.add(h),e={rel:e,crossOrigin:r,href:n},o.querySelector(h)===null&&(n=o.createElement("link"),en(n,"link",e),Ae(n),o.head.appendChild(n)))}}function bb(e){fr.D(e),D_("dns-prefetch",e,null)}function Ab(e,n){fr.C(e,n),D_("preconnect",e,n)}function Sb(e,n,r){fr.L(e,n,r);var o=ho;if(o&&e&&n){var h='link[rel="preload"][as="'+ce(n)+'"]';n==="image"&&r&&r.imageSrcSet?(h+='[imagesrcset="'+ce(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(h+='[imagesizes="'+ce(r.imageSizes)+'"]')):h+='[href="'+ce(e)+'"]';var f=h;switch(n){case"style":f=fo(e);break;case"script":f=mo(e)}ai.has(f)||(e=A({rel:"preload",href:n==="image"&&r&&r.imageSrcSet?void 0:e,as:n},r),ai.set(f,e),o.querySelector(h)!==null||n==="style"&&o.querySelector(xl(f))||n==="script"&&o.querySelector(Ml(f))||(n=o.createElement("link"),en(n,"link",e),Ae(n),o.head.appendChild(n)))}}function wb(e,n){fr.m(e,n);var r=ho;if(r&&e){var o=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+ce(o)+'"][href="'+ce(e)+'"]',f=h;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=mo(e)}if(!ai.has(f)&&(e=A({rel:"modulepreload",href:e},n),ai.set(f,e),r.querySelector(h)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(Ml(f)))return}o=r.createElement("link"),en(o,"link",e),Ae(o),r.head.appendChild(o)}}}function Rb(e,n,r){fr.S(e,n,r);var o=ho;if(o&&e){var h=Xn(o).hoistableStyles,f=fo(e);n=n||"default";var g=h.get(f);if(!g){var E={loading:0,preload:null};if(g=o.querySelector(xl(f)))E.loading=5;else{e=A({rel:"stylesheet",href:e,"data-precedence":n},r),(r=ai.get(f))&&Dd(e,r);var R=g=o.createElement("link");Ae(R),en(R,"link",e),R._p=new Promise(function(j,Y){R.onload=j,R.onerror=Y}),R.addEventListener("load",function(){E.loading|=1}),R.addEventListener("error",function(){E.loading|=2}),E.loading|=4,Ic(g,n,o)}g={type:"stylesheet",instance:g,count:1,state:E},h.set(f,g)}}}function Ib(e,n){fr.X(e,n);var r=ho;if(r&&e){var o=Xn(r).hoistableScripts,h=mo(e),f=o.get(h);f||(f=r.querySelector(Ml(h)),f||(e=A({src:e,async:!0},n),(n=ai.get(h))&&xd(e,n),f=r.createElement("script"),Ae(f),en(f,"link",e),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function Cb(e,n){fr.M(e,n);var r=ho;if(r&&e){var o=Xn(r).hoistableScripts,h=mo(e),f=o.get(h);f||(f=r.querySelector(Ml(h)),f||(e=A({src:e,async:!0,type:"module"},n),(n=ai.get(h))&&xd(e,n),f=r.createElement("script"),Ae(f),en(f,"link",e),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function x_(e,n,r,o){var h=(h=It.current)?Rc(h):null;if(!h)throw Error(a(446));switch(e){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(n=fo(r.href),r=Xn(h).hoistableStyles,o=r.get(n),o||(o={type:"style",instance:null,count:0,state:null},r.set(n,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){e=fo(r.href);var f=Xn(h).hoistableStyles,g=f.get(e);if(g||(h=h.ownerDocument||h,g={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(e,g),(f=h.querySelector(xl(e)))&&!f._p&&(g.instance=f,g.state.loading=5),ai.has(e)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},ai.set(e,r),f||Nb(h,e,r,g.state))),n&&o===null)throw Error(a(528,""));return g}if(n&&o!==null)throw Error(a(529,""));return null;case"script":return n=r.async,r=r.src,typeof r=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=mo(r),r=Xn(h).hoistableScripts,o=r.get(n),o||(o={type:"script",instance:null,count:0,state:null},r.set(n,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,e))}}function fo(e){return'href="'+ce(e)+'"'}function xl(e){return'link[rel="stylesheet"]['+e+"]"}function M_(e){return A({},e,{"data-precedence":e.precedence,precedence:null})}function Nb(e,n,r,o){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?o.loading=1:(n=e.createElement("link"),o.preload=n,n.addEventListener("load",function(){return o.loading|=1}),n.addEventListener("error",function(){return o.loading|=2}),en(n,"link",r),Ae(n),e.head.appendChild(n))}function mo(e){return'[src="'+ce(e)+'"]'}function Ml(e){return"script[async]"+e}function O_(e,n,r){if(n.count++,n.instance===null)switch(n.type){case"style":var o=e.querySelector('style[data-href~="'+ce(r.href)+'"]');if(o)return n.instance=o,Ae(o),o;var h=A({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return o=(e.ownerDocument||e).createElement("style"),Ae(o),en(o,"style",h),Ic(o,r.precedence,e),n.instance=o;case"stylesheet":h=fo(r.href);var f=e.querySelector(xl(h));if(f)return n.state.loading|=4,n.instance=f,Ae(f),f;o=M_(r),(h=ai.get(h))&&Dd(o,h),f=(e.ownerDocument||e).createElement("link"),Ae(f);var g=f;return g._p=new Promise(function(E,R){g.onload=E,g.onerror=R}),en(f,"link",o),n.state.loading|=4,Ic(f,r.precedence,e),n.instance=f;case"script":return f=mo(r.src),(h=e.querySelector(Ml(f)))?(n.instance=h,Ae(h),h):(o=r,(h=ai.get(f))&&(o=A({},r),xd(o,h)),e=e.ownerDocument||e,h=e.createElement("script"),Ae(h),en(h,"link",o),e.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(a(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(o=n.instance,n.state.loading|=4,Ic(o,r.precedence,e));return n.instance}function Ic(e,n,r){for(var o=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=o.length?o[o.length-1]:null,f=h,g=0;g<o.length;g++){var E=o[g];if(E.dataset.precedence===n)f=E;else if(f!==h)break}f?f.parentNode.insertBefore(e,f.nextSibling):(n=r.nodeType===9?r.head:r,n.insertBefore(e,n.firstChild))}function Dd(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function xd(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var Cc=null;function V_(e,n,r){if(Cc===null){var o=new Map,h=Cc=new Map;h.set(r,o)}else h=Cc,o=h.get(r),o||(o=new Map,h.set(r,o));if(o.has(e))return o;for(o.set(e,null),r=r.getElementsByTagName(e),h=0;h<r.length;h++){var f=r[h];if(!(f[Yn]||f[be]||e==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var g=f.getAttribute(n)||"";g=e+g;var E=o.get(g);E?E.push(f):o.set(g,[f])}}return o}function k_(e,n,r){e=e.ownerDocument||e,e.head.insertBefore(r,n==="title"?e.querySelector("head > title"):null)}function Db(e,n,r){if(r===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return e=n.disabled,typeof n.precedence=="string"&&e==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function U_(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function xb(e,n,r,o){if(r.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var h=fo(o.href),f=n.querySelector(xl(h));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(e.count++,e=Nc.bind(e),n.then(e,e)),r.state.loading|=4,r.instance=f,Ae(f);return}f=n.ownerDocument||n,o=M_(o),(h=ai.get(h))&&Dd(o,h),f=f.createElement("link"),Ae(f);var g=f;g._p=new Promise(function(E,R){g.onload=E,g.onerror=R}),en(f,"link",o),r.instance=f}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(r,n),(n=r.state.preload)&&(r.state.loading&3)===0&&(e.count++,r=Nc.bind(e),n.addEventListener("load",r),n.addEventListener("error",r))}}var Md=0;function Mb(e,n){return e.stylesheets&&e.count===0&&xc(e,e.stylesheets),0<e.count||0<e.imgCount?function(r){var o=setTimeout(function(){if(e.stylesheets&&xc(e,e.stylesheets),e.unsuspend){var f=e.unsuspend;e.unsuspend=null,f()}},6e4+n);0<e.imgBytes&&Md===0&&(Md=62500*fb());var h=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&xc(e,e.stylesheets),e.unsuspend)){var f=e.unsuspend;e.unsuspend=null,f()}},(e.imgBytes>Md?50:800)+n);return e.unsuspend=r,function(){e.unsuspend=null,clearTimeout(o),clearTimeout(h)}}:null}function Nc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)xc(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Dc=null;function xc(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Dc=new Map,n.forEach(Ob,e),Dc=null,Nc.call(e))}function Ob(e,n){if(!(n.state.loading&4)){var r=Dc.get(e);if(r)var o=r.get(null);else{r=new Map,Dc.set(e,r);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var g=h[f];(g.nodeName==="LINK"||g.getAttribute("media")!=="not all")&&(r.set(g.dataset.precedence,g),o=g)}o&&r.set(null,o)}h=n.instance,g=h.getAttribute("data-precedence"),f=r.get(g)||o,f===o&&r.set(null,h),r.set(g,h),this.count++,o=Nc.bind(this),h.addEventListener("load",o),h.addEventListener("error",o),f?f.parentNode.insertBefore(h,f.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),n.state.loading|=4}}var Ol={$$typeof:_t,Provider:null,Consumer:null,_currentValue:mt,_currentValue2:mt,_threadCount:0};function Vb(e,n,r,o,h,f,g,E,R){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Mn(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Mn(0),this.hiddenUpdates=Mn(null),this.identifierPrefix=o,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=g,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=R,this.incompleteTransitions=new Map}function L_(e,n,r,o,h,f,g,E,R,j,Y,$){return e=new Vb(e,n,r,g,R,j,Y,$,E),n=1,f===!0&&(n|=24),f=zn(3,null,null,n),e.current=f,f.stateNode=e,n=hf(),n.refCount++,e.pooledCache=n,n.refCount++,f.memoizedState={element:o,isDehydrated:r,cache:n},gf(f),e}function P_(e){return e?(e=Fa,e):Fa}function z_(e,n,r,o,h,f){h=P_(h),o.context===null?o.context=h:o.pendingContext=h,o=Qr(n),o.payload={element:r},f=f===void 0?null:f,f!==null&&(o.callback=f),r=Yr(e,o,n),r!==null&&(Sn(r,e,n),hl(r,e,n))}function j_(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<n?r:n}}function Od(e,n){j_(e,n),(e=e.alternate)&&j_(e,n)}function B_(e){if(e.tag===13||e.tag===31){var n=Ws(e,67108864);n!==null&&Sn(n,e,67108864),Od(e,67108864)}}function q_(e){if(e.tag===13||e.tag===31){var n=Fn();n=Ki(n);var r=Ws(e,n);r!==null&&Sn(r,e,n),Od(e,n)}}var Mc=!0;function kb(e,n,r,o){var h=G.T;G.T=null;var f=rt.p;try{rt.p=2,Vd(e,n,r,o)}finally{rt.p=f,G.T=h}}function Ub(e,n,r,o){var h=G.T;G.T=null;var f=rt.p;try{rt.p=8,Vd(e,n,r,o)}finally{rt.p=f,G.T=h}}function Vd(e,n,r,o){if(Mc){var h=kd(o);if(h===null)Ed(e,n,o,Oc,r),F_(e,o);else if(Pb(h,e,n,r,o))o.stopPropagation();else if(F_(e,o),n&4&&-1<Lb.indexOf(e)){for(;h!==null;){var f=_n(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var g=Nn(f.pendingLanes);if(g!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;g;){var R=1<<31-oe(g);E.entanglements[1]|=R,g&=~R}Vi(f),($t&6)===0&&(gc=Ye()+500,Il(0))}}break;case 31:case 13:E=Ws(f,2),E!==null&&Sn(E,f,2),yc(),Od(f,2)}if(f=kd(o),f===null&&Ed(e,n,o,Oc,r),f===h)break;h=f}h!==null&&o.stopPropagation()}else Ed(e,n,o,null,r)}}function kd(e){return e=$n(e),Ud(e)}var Oc=null;function Ud(e){if(Oc=null,e=Kn(e),e!==null){var n=c(e);if(n===null)e=null;else{var r=n.tag;if(r===13){if(e=d(n),e!==null)return e;e=null}else if(r===31){if(e=p(n),e!==null)return e;e=null}else if(r===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return Oc=e,null}function H_(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Fi()){case Vs:return 2;case Rr:return 8;case fn:case Ra:return 32;case bi:return 268435456;default:return 32}default:return 32}}var Ld=!1,rs=null,ss=null,as=null,Vl=new Map,kl=new Map,os=[],Lb="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function F_(e,n){switch(e){case"focusin":case"focusout":rs=null;break;case"dragenter":case"dragleave":ss=null;break;case"mouseover":case"mouseout":as=null;break;case"pointerover":case"pointerout":Vl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":kl.delete(n.pointerId)}}function Ul(e,n,r,o,h,f){return e===null||e.nativeEvent!==f?(e={blockedOn:n,domEventName:r,eventSystemFlags:o,nativeEvent:f,targetContainers:[h]},n!==null&&(n=_n(n),n!==null&&B_(n)),e):(e.eventSystemFlags|=o,n=e.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),e)}function Pb(e,n,r,o,h){switch(n){case"focusin":return rs=Ul(rs,e,n,r,o,h),!0;case"dragenter":return ss=Ul(ss,e,n,r,o,h),!0;case"mouseover":return as=Ul(as,e,n,r,o,h),!0;case"pointerover":var f=h.pointerId;return Vl.set(f,Ul(Vl.get(f)||null,e,n,r,o,h)),!0;case"gotpointercapture":return f=h.pointerId,kl.set(f,Ul(kl.get(f)||null,e,n,r,o,h)),!0}return!1}function G_(e){var n=Kn(e.target);if(n!==null){var r=c(n);if(r!==null){if(n=r.tag,n===13){if(n=d(r),n!==null){e.blockedOn=n,Vn(e.priority,function(){q_(r)});return}}else if(n===31){if(n=p(r),n!==null){e.blockedOn=n,Vn(e.priority,function(){q_(r)});return}}else if(n===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Vc(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var r=kd(e.nativeEvent);if(r===null){r=e.nativeEvent;var o=new r.constructor(r.type,r);Xo=o,r.target.dispatchEvent(o),Xo=null}else return n=_n(r),n!==null&&B_(n),e.blockedOn=r,!1;n.shift()}return!0}function Q_(e,n,r){Vc(e)&&r.delete(n)}function zb(){Ld=!1,rs!==null&&Vc(rs)&&(rs=null),ss!==null&&Vc(ss)&&(ss=null),as!==null&&Vc(as)&&(as=null),Vl.forEach(Q_),kl.forEach(Q_)}function kc(e,n){e.blockedOn===n&&(e.blockedOn=null,Ld||(Ld=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,zb)))}var Uc=null;function Y_(e){Uc!==e&&(Uc=e,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){Uc===e&&(Uc=null);for(var n=0;n<e.length;n+=3){var r=e[n],o=e[n+1],h=e[n+2];if(typeof o!="function"){if(Ud(o||r)===null)continue;break}var f=_n(r);f!==null&&(e.splice(n,3),n-=3,kf(f,{pending:!0,data:h,method:r.method,action:o},o,h))}}))}function go(e){function n(R){return kc(R,e)}rs!==null&&kc(rs,e),ss!==null&&kc(ss,e),as!==null&&kc(as,e),Vl.forEach(n),kl.forEach(n);for(var r=0;r<os.length;r++){var o=os[r];o.blockedOn===e&&(o.blockedOn=null)}for(;0<os.length&&(r=os[0],r.blockedOn===null);)G_(r),r.blockedOn===null&&os.shift();if(r=(e.ownerDocument||e).$$reactFormReplay,r!=null)for(o=0;o<r.length;o+=3){var h=r[o],f=r[o+1],g=h[Ce]||null;if(typeof f=="function")g||Y_(r);else if(g){var E=null;if(f&&f.hasAttribute("formAction")){if(h=f,g=f[Ce]||null)E=g.formAction;else if(Ud(h)!==null)continue}else E=g.action;typeof E=="function"?r[o+1]=E:(r.splice(o,3),o-=3),Y_(r)}}}function K_(){function e(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(g){return h=g})},focusReset:"manual",scroll:"manual"})}function n(){h!==null&&(h(),h=null),o||setTimeout(r,20)}function r(){if(!o&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,h=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(r,100),function(){o=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),h!==null&&(h(),h=null)}}}function Pd(e){this._internalRoot=e}Lc.prototype.render=Pd.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(a(409));var r=n.current,o=Fn();z_(r,o,e,n,null,null)},Lc.prototype.unmount=Pd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;z_(e.current,2,null,e,null,null),yc(),n[Un]=null}};function Lc(e){this._internalRoot=e}Lc.prototype.unstable_scheduleHydration=function(e){if(e){var n=Da();e={blockedOn:null,target:e,priority:n};for(var r=0;r<os.length&&n!==0&&n<os[r].priority;r++);os.splice(r,0,e),r===0&&G_(e)}};var X_=t.version;if(X_!=="19.2.0")throw Error(a(527,X_,"19.2.0"));rt.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(a(188)):(e=Object.keys(e).join(","),Error(a(268,e)));return e=_(n),e=e!==null?b(e):null,e=e===null?null:e.stateNode,e};var jb={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:G,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Pc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Pc.isDisabled&&Pc.supportsFiber)try{dn=Pc.inject(jb),Wt=Pc}catch{}}return Pl.createRoot=function(e,n){if(!l(e))throw Error(a(299));var r=!1,o="",h=ny,f=iy,g=ry;return n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(g=n.onRecoverableError)),n=L_(e,1,!1,null,null,r,o,null,h,f,g,K_),e[Un]=n.current,vd(e),new Pd(n)},Pl.hydrateRoot=function(e,n,r){if(!l(e))throw Error(a(299));var o=!1,h="",f=ny,g=iy,E=ry,R=null;return r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(h=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(g=r.onCaughtError),r.onRecoverableError!==void 0&&(E=r.onRecoverableError),r.formState!==void 0&&(R=r.formState)),n=L_(e,1,!0,n,r??null,o,h,R,f,g,E,K_),n.context=P_(null),r=n.current,o=Fn(),o=Ki(o),h=Qr(o),h.callback=null,Yr(r,h,o),r=o,n.current.lanes=r,Ai(n,r),Vi(n),e[Un]=n.current,vd(e),new Lc(n)},Pl.version="19.2.0",Pl}var s0;function Jb(){if(s0)return Bd.exports;s0=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(t){console.error(t)}}return s(),Bd.exports=$b(),Bd.exports}var Zb=Jb();const Wb=Fv(Zb),tA=()=>{};var a0={};const Gv=function(s){const t=[];let i=0;for(let a=0;a<s.length;a++){let l=s.charCodeAt(a);l<128?t[i++]=l:l<2048?(t[i++]=l>>6|192,t[i++]=l&63|128):(l&64512)===55296&&a+1<s.length&&(s.charCodeAt(a+1)&64512)===56320?(l=65536+((l&1023)<<10)+(s.charCodeAt(++a)&1023),t[i++]=l>>18|240,t[i++]=l>>12&63|128,t[i++]=l>>6&63|128,t[i++]=l&63|128):(t[i++]=l>>12|224,t[i++]=l>>6&63|128,t[i++]=l&63|128)}return t},eA=function(s){const t=[];let i=0,a=0;for(;i<s.length;){const l=s[i++];if(l<128)t[a++]=String.fromCharCode(l);else if(l>191&&l<224){const c=s[i++];t[a++]=String.fromCharCode((l&31)<<6|c&63)}else if(l>239&&l<365){const c=s[i++],d=s[i++],p=s[i++],y=((l&7)<<18|(c&63)<<12|(d&63)<<6|p&63)-65536;t[a++]=String.fromCharCode(55296+(y>>10)),t[a++]=String.fromCharCode(56320+(y&1023))}else{const c=s[i++],d=s[i++];t[a++]=String.fromCharCode((l&15)<<12|(c&63)<<6|d&63)}}return t.join("")},Qv={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,t){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let l=0;l<s.length;l+=3){const c=s[l],d=l+1<s.length,p=d?s[l+1]:0,y=l+2<s.length,_=y?s[l+2]:0,b=c>>2,A=(c&3)<<4|p>>4;let O=(p&15)<<2|_>>6,Q=_&63;y||(Q=64,d||(O=64)),a.push(i[b],i[A],i[O],i[Q])}return a.join("")},encodeString(s,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(s):this.encodeByteArray(Gv(s),t)},decodeString(s,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(s):eA(this.decodeStringToByteArray(s,t))},decodeStringToByteArray(s,t){this.init_();const i=t?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let l=0;l<s.length;){const c=i[s.charAt(l++)],p=l<s.length?i[s.charAt(l)]:0;++l;const _=l<s.length?i[s.charAt(l)]:64;++l;const A=l<s.length?i[s.charAt(l)]:64;if(++l,c==null||p==null||_==null||A==null)throw new nA;const O=c<<2|p>>4;if(a.push(O),_!==64){const Q=p<<4&240|_>>2;if(a.push(Q),A!==64){const tt=_<<6&192|A;a.push(tt)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class nA extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const iA=function(s){const t=Gv(s);return Qv.encodeByteArray(t,!0)},sh=function(s){return iA(s).replace(/\./g,"")},Yv=function(s){try{return Qv.decodeString(s,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function rA(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const sA=()=>rA().__FIREBASE_DEFAULTS__,aA=()=>{if(typeof process>"u"||typeof a0>"u")return;const s=a0.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},oA=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=s&&Yv(s[1]);return t&&JSON.parse(t)},Rh=()=>{try{return tA()||sA()||aA()||oA()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},Kv=s=>Rh()?.emulatorHosts?.[s],lA=s=>{const t=Kv(s);if(!t)return;const i=t.lastIndexOf(":");if(i<=0||i+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const a=parseInt(t.substring(i+1),10);return t[0]==="["?[t.substring(1,i-1),a]:[t.substring(0,i),a]},Xv=()=>Rh()?.config,$v=s=>Rh()?.[`_${s}`];class uA{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}wrapCallback(t){return(i,a)=>{i?this.reject(i):this.resolve(a),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(i):t(i,a))}}}function Po(s){try{return(s.startsWith("http://")||s.startsWith("https://")?new URL(s).hostname:s).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Jv(s){return(await fetch(s,{credentials:"include"})).ok}function cA(s,t){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},a=t||"demo-project",l=s.iat||0,c=s.sub||s.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${a}`,aud:a,iat:l,exp:l+3600,auth_time:l,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...s};return[sh(JSON.stringify(i)),sh(JSON.stringify(d)),""].join(".")}const Ql={};function hA(){const s={prod:[],emulator:[]};for(const t of Object.keys(Ql))Ql[t]?s.emulator.push(t):s.prod.push(t);return s}function fA(s){let t=document.getElementById(s),i=!1;return t||(t=document.createElement("div"),t.setAttribute("id",s),i=!0),{created:i,element:t}}let o0=!1;function Zv(s,t){if(typeof window>"u"||typeof document>"u"||!Po(window.location.host)||Ql[s]===t||Ql[s]||o0)return;Ql[s]=t;function i(O){return`__firebase__banner__${O}`}const a="__firebase__banner",c=hA().prod.length>0;function d(){const O=document.getElementById(a);O&&O.remove()}function p(O){O.style.display="flex",O.style.background="#7faaf0",O.style.position="fixed",O.style.bottom="5px",O.style.left="5px",O.style.padding=".5em",O.style.borderRadius="5px",O.style.alignItems="center"}function y(O,Q){O.setAttribute("width","24"),O.setAttribute("id",Q),O.setAttribute("height","24"),O.setAttribute("viewBox","0 0 24 24"),O.setAttribute("fill","none"),O.style.marginLeft="-6px"}function _(){const O=document.createElement("span");return O.style.cursor="pointer",O.style.marginLeft="16px",O.style.fontSize="24px",O.innerHTML=" &times;",O.onclick=()=>{o0=!0,d()},O}function b(O,Q){O.setAttribute("id",Q),O.innerText="Learn more",O.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",O.setAttribute("target","__blank"),O.style.paddingLeft="5px",O.style.textDecoration="underline"}function A(){const O=fA(a),Q=i("text"),tt=document.getElementById(Q)||document.createElement("span"),nt=i("learnmore"),et=document.getElementById(nt)||document.createElement("a"),yt=i("preprendIcon"),St=document.getElementById(yt)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(O.created){const _t=O.element;p(_t),b(et,nt);const Mt=_();y(St,yt),_t.append(St,tt,et,Mt),document.body.appendChild(_t)}c?(tt.innerText="Preview backend disconnected.",St.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(St.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,tt.innerText="Preview backend running in this workspace."),tt.setAttribute("id",Q)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",A):A()}function hn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function dA(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(hn())}function mA(){const s=Rh()?.forceEnvironment;if(s==="node")return!0;if(s==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function gA(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function pA(){const s=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof s=="object"&&s.id!==void 0}function yA(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function _A(){const s=hn();return s.indexOf("MSIE ")>=0||s.indexOf("Trident/")>=0}function vA(){return!mA()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function EA(){try{return typeof indexedDB=="object"}catch{return!1}}function TA(){return new Promise((s,t)=>{try{let i=!0;const a="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(a);l.onsuccess=()=>{l.result.close(),i||self.indexedDB.deleteDatabase(a),s(!0)},l.onupgradeneeded=()=>{i=!1},l.onerror=()=>{t(l.error?.message||"")}}catch(i){t(i)}})}const bA="FirebaseError";class Ar extends Error{constructor(t,i,a){super(i),this.code=t,this.customData=a,this.name=bA,Object.setPrototypeOf(this,Ar.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,lu.prototype.create)}}class lu{constructor(t,i,a){this.service=t,this.serviceName=i,this.errors=a}create(t,...i){const a=i[0]||{},l=`${this.service}/${t}`,c=this.errors[t],d=c?AA(c,a):"Error",p=`${this.serviceName}: ${d} (${l}).`;return new Ar(l,p,a)}}function AA(s,t){return s.replace(SA,(i,a)=>{const l=t[a];return l!=null?String(l):`<${a}?>`})}const SA=/\{\$([^}]+)}/g;function wA(s){for(const t in s)if(Object.prototype.hasOwnProperty.call(s,t))return!1;return!0}function va(s,t){if(s===t)return!0;const i=Object.keys(s),a=Object.keys(t);for(const l of i){if(!a.includes(l))return!1;const c=s[l],d=t[l];if(l0(c)&&l0(d)){if(!va(c,d))return!1}else if(c!==d)return!1}for(const l of a)if(!i.includes(l))return!1;return!0}function l0(s){return s!==null&&typeof s=="object"}function uu(s){const t=[];for(const[i,a]of Object.entries(s))Array.isArray(a)?a.forEach(l=>{t.push(encodeURIComponent(i)+"="+encodeURIComponent(l))}):t.push(encodeURIComponent(i)+"="+encodeURIComponent(a));return t.length?"&"+t.join("&"):""}function RA(s,t){const i=new IA(s,t);return i.subscribe.bind(i)}class IA{constructor(t,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{t(this)}).catch(a=>{this.error(a)})}next(t){this.forEachObserver(i=>{i.next(t)})}error(t){this.forEachObserver(i=>{i.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,i,a){let l;if(t===void 0&&i===void 0&&a===void 0)throw new Error("Missing Observer.");CA(t,["next","error","complete"])?l=t:l={next:t,error:i,complete:a},l.next===void 0&&(l.next=Gd),l.error===void 0&&(l.error=Gd),l.complete===void 0&&(l.complete=Gd);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),c}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,t)}sendOne(t,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{i(this.observers[t])}catch(a){typeof console<"u"&&console.error&&console.error(a)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function CA(s,t){if(typeof s!="object"||s===null)return!1;for(const i of t)if(i in s&&typeof s[i]=="function")return!0;return!1}function Gd(){}function sn(s){return s&&s._delegate?s._delegate:s}class Ea{constructor(t,i,a){this.name=t,this.instanceFactory=i,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const da="[DEFAULT]";class NA{constructor(t,i){this.name=t,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const i=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(i)){const a=new uA;if(this.instancesDeferred.set(i,a),this.isInitialized(i)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:i});l&&a.resolve(l)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(t){const i=this.normalizeInstanceIdentifier(t?.identifier),a=t?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(l){if(a)return null;throw l}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(xA(t))try{this.getOrInitializeService({instanceIdentifier:da})}catch{}for(const[i,a]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:l});a.resolve(c)}catch{}}}}clearInstance(t=da){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...t.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=da){return this.instances.has(t)}getOptions(t=da){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:i={}}=t,a=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:a,options:i});for(const[c,d]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(c);a===p&&d.resolve(l)}return l}onInit(t,i){const a=this.normalizeInstanceIdentifier(i),l=this.onInitCallbacks.get(a)??new Set;l.add(t),this.onInitCallbacks.set(a,l);const c=this.instances.get(a);return c&&t(c,a),()=>{l.delete(t)}}invokeOnInitCallbacks(t,i){const a=this.onInitCallbacks.get(i);if(a)for(const l of a)try{l(t,i)}catch{}}getOrInitializeService({instanceIdentifier:t,options:i={}}){let a=this.instances.get(t);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:DA(t),options:i}),this.instances.set(t,a),this.instancesOptions.set(t,i),this.invokeOnInitCallbacks(a,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,a)}catch{}return a||null}normalizeInstanceIdentifier(t=da){return this.component?this.component.multipleInstances?t:da:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function DA(s){return s===da?void 0:s}function xA(s){return s.instantiationMode==="EAGER"}class MA{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const i=this.getProvider(t.name);if(i.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);i.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const i=new NA(t,this);return this.providers.set(t,i),i}getProviders(){return Array.from(this.providers.values())}}var Pt;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(Pt||(Pt={}));const OA={debug:Pt.DEBUG,verbose:Pt.VERBOSE,info:Pt.INFO,warn:Pt.WARN,error:Pt.ERROR,silent:Pt.SILENT},VA=Pt.INFO,kA={[Pt.DEBUG]:"log",[Pt.VERBOSE]:"log",[Pt.INFO]:"info",[Pt.WARN]:"warn",[Pt.ERROR]:"error"},UA=(s,t,...i)=>{if(t<s.logLevel)return;const a=new Date().toISOString(),l=kA[t];if(l)console[l](`[${a}]  ${s.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Pm{constructor(t){this.name=t,this._logLevel=VA,this._logHandler=UA,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Pt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?OA[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Pt.DEBUG,...t),this._logHandler(this,Pt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Pt.VERBOSE,...t),this._logHandler(this,Pt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Pt.INFO,...t),this._logHandler(this,Pt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Pt.WARN,...t),this._logHandler(this,Pt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Pt.ERROR,...t),this._logHandler(this,Pt.ERROR,...t)}}const LA=(s,t)=>t.some(i=>s instanceof i);let u0,c0;function PA(){return u0||(u0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function zA(){return c0||(c0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Wv=new WeakMap,om=new WeakMap,t1=new WeakMap,Qd=new WeakMap,zm=new WeakMap;function jA(s){const t=new Promise((i,a)=>{const l=()=>{s.removeEventListener("success",c),s.removeEventListener("error",d)},c=()=>{i(gs(s.result)),l()},d=()=>{a(s.error),l()};s.addEventListener("success",c),s.addEventListener("error",d)});return t.then(i=>{i instanceof IDBCursor&&Wv.set(i,s)}).catch(()=>{}),zm.set(t,s),t}function BA(s){if(om.has(s))return;const t=new Promise((i,a)=>{const l=()=>{s.removeEventListener("complete",c),s.removeEventListener("error",d),s.removeEventListener("abort",d)},c=()=>{i(),l()},d=()=>{a(s.error||new DOMException("AbortError","AbortError")),l()};s.addEventListener("complete",c),s.addEventListener("error",d),s.addEventListener("abort",d)});om.set(s,t)}let lm={get(s,t,i){if(s instanceof IDBTransaction){if(t==="done")return om.get(s);if(t==="objectStoreNames")return s.objectStoreNames||t1.get(s);if(t==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return gs(s[t])},set(s,t,i){return s[t]=i,!0},has(s,t){return s instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in s}};function qA(s){lm=s(lm)}function HA(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...i){const a=s.call(Yd(this),t,...i);return t1.set(a,t.sort?t.sort():[t]),gs(a)}:zA().includes(s)?function(...t){return s.apply(Yd(this),t),gs(Wv.get(this))}:function(...t){return gs(s.apply(Yd(this),t))}}function FA(s){return typeof s=="function"?HA(s):(s instanceof IDBTransaction&&BA(s),LA(s,PA())?new Proxy(s,lm):s)}function gs(s){if(s instanceof IDBRequest)return jA(s);if(Qd.has(s))return Qd.get(s);const t=FA(s);return t!==s&&(Qd.set(s,t),zm.set(t,s)),t}const Yd=s=>zm.get(s);function GA(s,t,{blocked:i,upgrade:a,blocking:l,terminated:c}={}){const d=indexedDB.open(s,t),p=gs(d);return a&&d.addEventListener("upgradeneeded",y=>{a(gs(d.result),y.oldVersion,y.newVersion,gs(d.transaction),y)}),i&&d.addEventListener("blocked",y=>i(y.oldVersion,y.newVersion,y)),p.then(y=>{c&&y.addEventListener("close",()=>c()),l&&y.addEventListener("versionchange",_=>l(_.oldVersion,_.newVersion,_))}).catch(()=>{}),p}const QA=["get","getKey","getAll","getAllKeys","count"],YA=["put","add","delete","clear"],Kd=new Map;function h0(s,t){if(!(s instanceof IDBDatabase&&!(t in s)&&typeof t=="string"))return;if(Kd.get(t))return Kd.get(t);const i=t.replace(/FromIndex$/,""),a=t!==i,l=YA.includes(i);if(!(i in(a?IDBIndex:IDBObjectStore).prototype)||!(l||QA.includes(i)))return;const c=async function(d,...p){const y=this.transaction(d,l?"readwrite":"readonly");let _=y.store;return a&&(_=_.index(p.shift())),(await Promise.all([_[i](...p),l&&y.done]))[0]};return Kd.set(t,c),c}qA(s=>({...s,get:(t,i,a)=>h0(t,i)||s.get(t,i,a),has:(t,i)=>!!h0(t,i)||s.has(t,i)}));class KA{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(XA(i)){const a=i.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(i=>i).join(" ")}}function XA(s){return s.getComponent()?.type==="VERSION"}const um="@firebase/app",f0="0.14.6";const yr=new Pm("@firebase/app"),$A="@firebase/app-compat",JA="@firebase/analytics-compat",ZA="@firebase/analytics",WA="@firebase/app-check-compat",tS="@firebase/app-check",eS="@firebase/auth",nS="@firebase/auth-compat",iS="@firebase/database",rS="@firebase/data-connect",sS="@firebase/database-compat",aS="@firebase/functions",oS="@firebase/functions-compat",lS="@firebase/installations",uS="@firebase/installations-compat",cS="@firebase/messaging",hS="@firebase/messaging-compat",fS="@firebase/performance",dS="@firebase/performance-compat",mS="@firebase/remote-config",gS="@firebase/remote-config-compat",pS="@firebase/storage",yS="@firebase/storage-compat",_S="@firebase/firestore",vS="@firebase/ai",ES="@firebase/firestore-compat",TS="firebase",bS="12.6.0";const cm="[DEFAULT]",AS={[um]:"fire-core",[$A]:"fire-core-compat",[ZA]:"fire-analytics",[JA]:"fire-analytics-compat",[tS]:"fire-app-check",[WA]:"fire-app-check-compat",[eS]:"fire-auth",[nS]:"fire-auth-compat",[iS]:"fire-rtdb",[rS]:"fire-data-connect",[sS]:"fire-rtdb-compat",[aS]:"fire-fn",[oS]:"fire-fn-compat",[lS]:"fire-iid",[uS]:"fire-iid-compat",[cS]:"fire-fcm",[hS]:"fire-fcm-compat",[fS]:"fire-perf",[dS]:"fire-perf-compat",[mS]:"fire-rc",[gS]:"fire-rc-compat",[pS]:"fire-gcs",[yS]:"fire-gcs-compat",[_S]:"fire-fst",[ES]:"fire-fst-compat",[vS]:"fire-vertex","fire-js":"fire-js",[TS]:"fire-js-all"};const ah=new Map,SS=new Map,hm=new Map;function d0(s,t){try{s.container.addComponent(t)}catch(i){yr.debug(`Component ${t.name} failed to register with FirebaseApp ${s.name}`,i)}}function Do(s){const t=s.name;if(hm.has(t))return yr.debug(`There were multiple attempts to register component ${t}.`),!1;hm.set(t,s);for(const i of ah.values())d0(i,s);for(const i of SS.values())d0(i,s);return!0}function jm(s,t){const i=s.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),s.container.getProvider(t)}function oi(s){return s==null?!1:s.settings!==void 0}const wS={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ps=new lu("app","Firebase",wS);class RS{constructor(t,i,a){this._isDeleted=!1,this._options={...t},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new Ea("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw ps.create("app-deleted",{appName:this._name})}}const zo=bS;function e1(s,t={}){let i=s;typeof t!="object"&&(t={name:t});const a={name:cm,automaticDataCollectionEnabled:!0,...t},l=a.name;if(typeof l!="string"||!l)throw ps.create("bad-app-name",{appName:String(l)});if(i||(i=Xv()),!i)throw ps.create("no-options");const c=ah.get(l);if(c){if(va(i,c.options)&&va(a,c.config))return c;throw ps.create("duplicate-app",{appName:l})}const d=new MA(l);for(const y of hm.values())d.addComponent(y);const p=new RS(i,a,d);return ah.set(l,p),p}function n1(s=cm){const t=ah.get(s);if(!t&&s===cm&&Xv())return e1();if(!t)throw ps.create("no-app",{appName:s});return t}function ys(s,t,i){let a=AS[s]??s;i&&(a+=`-${i}`);const l=a.match(/\s|\//),c=t.match(/\s|\//);if(l||c){const d=[`Unable to register library "${a}" with version "${t}":`];l&&d.push(`library name "${a}" contains illegal characters (whitespace or "/")`),l&&c&&d.push("and"),c&&d.push(`version name "${t}" contains illegal characters (whitespace or "/")`),yr.warn(d.join(" "));return}Do(new Ea(`${a}-version`,()=>({library:a,version:t}),"VERSION"))}const IS="firebase-heartbeat-database",CS=1,Zl="firebase-heartbeat-store";let Xd=null;function i1(){return Xd||(Xd=GA(IS,CS,{upgrade:(s,t)=>{switch(t){case 0:try{s.createObjectStore(Zl)}catch(i){console.warn(i)}}}}).catch(s=>{throw ps.create("idb-open",{originalErrorMessage:s.message})})),Xd}async function NS(s){try{const i=(await i1()).transaction(Zl),a=await i.objectStore(Zl).get(r1(s));return await i.done,a}catch(t){if(t instanceof Ar)yr.warn(t.message);else{const i=ps.create("idb-get",{originalErrorMessage:t?.message});yr.warn(i.message)}}}async function m0(s,t){try{const a=(await i1()).transaction(Zl,"readwrite");await a.objectStore(Zl).put(t,r1(s)),await a.done}catch(i){if(i instanceof Ar)yr.warn(i.message);else{const a=ps.create("idb-set",{originalErrorMessage:i?.message});yr.warn(a.message)}}}function r1(s){return`${s.name}!${s.options.appId}`}const DS=1024,xS=30;class MS{constructor(t){this.container=t,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new VS(i),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=g0();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(l=>l.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>xS){const l=kS(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){yr.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=g0(),{heartbeatsToSend:i,unsentEntries:a}=OS(this._heartbeatsCache.heartbeats),l=sh(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return yr.warn(t),""}}}function g0(){return new Date().toISOString().substring(0,10)}function OS(s,t=DS){const i=[];let a=s.slice();for(const l of s){const c=i.find(d=>d.agent===l.agent);if(c){if(c.dates.push(l.date),p0(i)>t){c.dates.pop();break}}else if(i.push({agent:l.agent,dates:[l.date]}),p0(i)>t){i.pop();break}a=a.slice(1)}return{heartbeatsToSend:i,unsentEntries:a}}class VS{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return EA()?TA().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await NS(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const a=await this.read();return m0(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const a=await this.read();return m0(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...t.heartbeats]})}else return}}function p0(s){return sh(JSON.stringify({version:2,heartbeats:s})).length}function kS(s){if(s.length===0)return-1;let t=0,i=s[0].date;for(let a=1;a<s.length;a++)s[a].date<i&&(i=s[a].date,t=a);return t}function US(s){Do(new Ea("platform-logger",t=>new KA(t),"PRIVATE")),Do(new Ea("heartbeat",t=>new MS(t),"PRIVATE")),ys(um,f0,s),ys(um,f0,"esm2020"),ys("fire-js","")}US("");var LS="firebase",PS="12.6.0";ys(LS,PS,"app");function s1(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const zS=s1,a1=new lu("auth","Firebase",s1());const oh=new Pm("@firebase/auth");function jS(s,...t){oh.logLevel<=Pt.WARN&&oh.warn(`Auth (${zo}): ${s}`,...t)}function Kc(s,...t){oh.logLevel<=Pt.ERROR&&oh.error(`Auth (${zo}): ${s}`,...t)}function _r(s,...t){throw Bm(s,...t)}function Ui(s,...t){return Bm(s,...t)}function o1(s,t,i){const a={...zS(),[t]:i};return new lu("auth","Firebase",a).create(t,{appName:s.name})}function pr(s){return o1(s,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Bm(s,...t){if(typeof s!="string"){const i=t[0],a=[...t.slice(1)];return a[0]&&(a[0].appName=s.name),s._errorFactory.create(i,...a)}return a1.create(s,...t)}function bt(s,t,...i){if(!s)throw Bm(t,...i)}function mr(s){const t="INTERNAL ASSERTION FAILED: "+s;throw Kc(t),new Error(t)}function vr(s,t){s||mr(t)}function fm(){return typeof self<"u"&&self.location?.href||""}function BS(){return y0()==="http:"||y0()==="https:"}function y0(){return typeof self<"u"&&self.location?.protocol||null}function qS(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(BS()||pA()||"connection"in navigator)?navigator.onLine:!0}function HS(){if(typeof navigator>"u")return null;const s=navigator;return s.languages&&s.languages[0]||s.language||null}class cu{constructor(t,i){this.shortDelay=t,this.longDelay=i,vr(i>t,"Short delay should be less than long delay!"),this.isMobile=dA()||yA()}get(){return qS()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function qm(s,t){vr(s.emulator,"Emulator should always be set here");const{url:i}=s.emulator;return t?`${i}${t.startsWith("/")?t.slice(1):t}`:i}class l1{static initialize(t,i,a){this.fetchImpl=t,i&&(this.headersImpl=i),a&&(this.responseImpl=a)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;mr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;mr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;mr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const FS={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const GS=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],QS=new cu(3e4,6e4);function hu(s,t){return s.tenantId&&!t.tenantId?{...t,tenantId:s.tenantId}:t}async function jo(s,t,i,a,l={}){return u1(s,l,async()=>{let c={},d={};a&&(t==="GET"?d=a:c={body:JSON.stringify(a)});const p=uu({key:s.config.apiKey,...d}).slice(1),y=await s._getAdditionalHeaders();y["Content-Type"]="application/json",s.languageCode&&(y["X-Firebase-Locale"]=s.languageCode);const _={method:t,headers:y,...c};return gA()||(_.referrerPolicy="no-referrer"),s.emulatorConfig&&Po(s.emulatorConfig.host)&&(_.credentials="include"),l1.fetch()(await c1(s,s.config.apiHost,i,p),_)})}async function u1(s,t,i){s._canInitEmulator=!1;const a={...FS,...t};try{const l=new YS(s),c=await Promise.race([i(),l.promise]);l.clearNetworkTimeout();const d=await c.json();if("needConfirmation"in d)throw zc(s,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const p=c.ok?d.errorMessage:d.error.message,[y,_]=p.split(" : ");if(y==="FEDERATED_USER_ID_ALREADY_LINKED")throw zc(s,"credential-already-in-use",d);if(y==="EMAIL_EXISTS")throw zc(s,"email-already-in-use",d);if(y==="USER_DISABLED")throw zc(s,"user-disabled",d);const b=a[y]||y.toLowerCase().replace(/[_\s]+/g,"-");if(_)throw o1(s,b,_);_r(s,b)}}catch(l){if(l instanceof Ar)throw l;_r(s,"network-request-failed",{message:String(l)})}}async function Hm(s,t,i,a,l={}){const c=await jo(s,t,i,a,l);return"mfaPendingCredential"in c&&_r(s,"multi-factor-auth-required",{_serverResponse:c}),c}async function c1(s,t,i,a){const l=`${t}${i}?${a}`,c=s,d=c.config.emulator?qm(s.config,l):`${s.config.apiScheme}://${l}`;return GS.includes(i)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(d).toString():d}class YS{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((i,a)=>{this.timer=setTimeout(()=>a(Ui(this.auth,"network-request-failed")),QS.get())})}}function zc(s,t,i){const a={appName:s.name};i.email&&(a.email=i.email),i.phoneNumber&&(a.phoneNumber=i.phoneNumber);const l=Ui(s,t,a);return l.customData._tokenResponse=i,l}async function KS(s,t){return jo(s,"POST","/v1/accounts:delete",t)}async function lh(s,t){return jo(s,"POST","/v1/accounts:lookup",t)}function Yl(s){if(s)try{const t=new Date(Number(s));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function XS(s,t=!1){const i=sn(s),a=await i.getIdToken(t),l=Fm(a);bt(l&&l.exp&&l.auth_time&&l.iat,i.auth,"internal-error");const c=typeof l.firebase=="object"?l.firebase:void 0,d=c?.sign_in_provider;return{claims:l,token:a,authTime:Yl($d(l.auth_time)),issuedAtTime:Yl($d(l.iat)),expirationTime:Yl($d(l.exp)),signInProvider:d||null,signInSecondFactor:c?.sign_in_second_factor||null}}function $d(s){return Number(s)*1e3}function Fm(s){const[t,i,a]=s.split(".");if(t===void 0||i===void 0||a===void 0)return Kc("JWT malformed, contained fewer than 3 sections"),null;try{const l=Yv(i);return l?JSON.parse(l):(Kc("Failed to decode base64 JWT payload"),null)}catch(l){return Kc("Caught error parsing JWT payload as JSON",l?.toString()),null}}function _0(s){const t=Fm(s);return bt(t,"internal-error"),bt(typeof t.exp<"u","internal-error"),bt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}async function Wl(s,t,i=!1){if(i)return t;try{return await t}catch(a){throw a instanceof Ar&&$S(a)&&s.auth.currentUser===s&&await s.auth.signOut(),a}}function $S({code:s}){return s==="auth/user-disabled"||s==="auth/user-token-expired"}class JS{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const a=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,a)}}schedule(t=!1){if(!this.isRunning)return;const i=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class dm{constructor(t,i){this.createdAt=t,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=Yl(this.lastLoginAt),this.creationTime=Yl(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function uh(s){const t=s.auth,i=await s.getIdToken(),a=await Wl(s,lh(t,{idToken:i}));bt(a?.users.length,t,"internal-error");const l=a.users[0];s._notifyReloadListener(l);const c=l.providerUserInfo?.length?h1(l.providerUserInfo):[],d=WS(s.providerData,c),p=s.isAnonymous,y=!(s.email&&l.passwordHash)&&!d?.length,_=p?y:!1,b={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:d,metadata:new dm(l.createdAt,l.lastLoginAt),isAnonymous:_};Object.assign(s,b)}async function ZS(s){const t=sn(s);await uh(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function WS(s,t){return[...s.filter(a=>!t.some(l=>l.providerId===a.providerId)),...t]}function h1(s){return s.map(({providerId:t,...i})=>({providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}async function t2(s,t){const i=await u1(s,{},async()=>{const a=uu({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:l,apiKey:c}=s.config,d=await c1(s,l,"/v1/token",`key=${c}`),p=await s._getAdditionalHeaders();p["Content-Type"]="application/x-www-form-urlencoded";const y={method:"POST",headers:p,body:a};return s.emulatorConfig&&Po(s.emulatorConfig.host)&&(y.credentials="include"),l1.fetch()(d,y)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function e2(s,t){return jo(s,"POST","/v2/accounts:revokeToken",hu(s,t))}class So{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){bt(t.idToken,"internal-error"),bt(typeof t.idToken<"u","internal-error"),bt(typeof t.refreshToken<"u","internal-error");const i="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):_0(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,i)}updateFromIdToken(t){bt(t.length!==0,"internal-error");const i=_0(t);this.updateTokensAndExpiration(t,null,i)}async getToken(t,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(bt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,i){const{accessToken:a,refreshToken:l,expiresIn:c}=await t2(t,i);this.updateTokensAndExpiration(a,l,Number(c))}updateTokensAndExpiration(t,i,a){this.refreshToken=i||null,this.accessToken=t||null,this.expirationTime=Date.now()+a*1e3}static fromJSON(t,i){const{refreshToken:a,accessToken:l,expirationTime:c}=i,d=new So;return a&&(bt(typeof a=="string","internal-error",{appName:t}),d.refreshToken=a),l&&(bt(typeof l=="string","internal-error",{appName:t}),d.accessToken=l),c&&(bt(typeof c=="number","internal-error",{appName:t}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new So,this.toJSON())}_performRefresh(){return mr("not implemented")}}function us(s,t){bt(typeof s=="string"||typeof s>"u","internal-error",{appName:t})}class vi{constructor({uid:t,auth:i,stsTokenManager:a,...l}){this.providerId="firebase",this.proactiveRefresh=new JS(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new dm(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(t){const i=await Wl(this,this.stsTokenManager.getToken(this.auth,t));return bt(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(t){return XS(this,t)}reload(){return ZS(this)}_assign(t){this!==t&&(bt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(i=>({...i})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const i=new vi({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(t){bt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,i=!1){let a=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),a=!0),i&&await uh(this),await this.auth._persistUserIfCurrent(this),a&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(oi(this.auth.app))return Promise.reject(pr(this.auth));const t=await this.getIdToken();return await Wl(this,KS(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,i){const a=i.displayName??void 0,l=i.email??void 0,c=i.phoneNumber??void 0,d=i.photoURL??void 0,p=i.tenantId??void 0,y=i._redirectEventId??void 0,_=i.createdAt??void 0,b=i.lastLoginAt??void 0,{uid:A,emailVerified:O,isAnonymous:Q,providerData:tt,stsTokenManager:nt}=i;bt(A&&nt,t,"internal-error");const et=So.fromJSON(this.name,nt);bt(typeof A=="string",t,"internal-error"),us(a,t.name),us(l,t.name),bt(typeof O=="boolean",t,"internal-error"),bt(typeof Q=="boolean",t,"internal-error"),us(c,t.name),us(d,t.name),us(p,t.name),us(y,t.name),us(_,t.name),us(b,t.name);const yt=new vi({uid:A,auth:t,email:l,emailVerified:O,displayName:a,isAnonymous:Q,photoURL:d,phoneNumber:c,tenantId:p,stsTokenManager:et,createdAt:_,lastLoginAt:b});return tt&&Array.isArray(tt)&&(yt.providerData=tt.map(St=>({...St}))),y&&(yt._redirectEventId=y),yt}static async _fromIdTokenResponse(t,i,a=!1){const l=new So;l.updateFromServerResponse(i);const c=new vi({uid:i.localId,auth:t,stsTokenManager:l,isAnonymous:a});return await uh(c),c}static async _fromGetAccountInfoResponse(t,i,a){const l=i.users[0];bt(l.localId!==void 0,"internal-error");const c=l.providerUserInfo!==void 0?h1(l.providerUserInfo):[],d=!(l.email&&l.passwordHash)&&!c?.length,p=new So;p.updateFromIdToken(a);const y=new vi({uid:l.localId,auth:t,stsTokenManager:p,isAnonymous:d}),_={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:c,metadata:new dm(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!c?.length};return Object.assign(y,_),y}}const v0=new Map;function gr(s){vr(s instanceof Function,"Expected a class definition");let t=v0.get(s);return t?(vr(t instanceof s,"Instance stored in cache mismatched with class"),t):(t=new s,v0.set(s,t),t)}class f1{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,i){this.storage[t]=i}async _get(t){const i=this.storage[t];return i===void 0?null:i}async _remove(t){delete this.storage[t]}_addListener(t,i){}_removeListener(t,i){}}f1.type="NONE";const E0=f1;function Xc(s,t,i){return`firebase:${s}:${t}:${i}`}class wo{constructor(t,i,a){this.persistence=t,this.auth=i,this.userKey=a;const{config:l,name:c}=this.auth;this.fullUserKey=Xc(this.userKey,l.apiKey,c),this.fullPersistenceKey=Xc("persistence",l.apiKey,c),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const i=await lh(this.auth,{idToken:t}).catch(()=>{});return i?vi._fromGetAccountInfoResponse(this.auth,i,t):null}return vi._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,i,a="authUser"){if(!i.length)return new wo(gr(E0),t,a);const l=(await Promise.all(i.map(async _=>{if(await _._isAvailable())return _}))).filter(_=>_);let c=l[0]||gr(E0);const d=Xc(a,t.config.apiKey,t.name);let p=null;for(const _ of i)try{const b=await _._get(d);if(b){let A;if(typeof b=="string"){const O=await lh(t,{idToken:b}).catch(()=>{});if(!O)break;A=await vi._fromGetAccountInfoResponse(t,O,b)}else A=vi._fromJSON(t,b);_!==c&&(p=A),c=_;break}}catch{}const y=l.filter(_=>_._shouldAllowMigration);return!c._shouldAllowMigration||!y.length?new wo(c,t,a):(c=y[0],p&&await c._set(d,p.toJSON()),await Promise.all(i.map(async _=>{if(_!==c)try{await _._remove(d)}catch{}})),new wo(c,t,a))}}function T0(s){const t=s.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(p1(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(d1(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(_1(t))return"Blackberry";if(v1(t))return"Webos";if(m1(t))return"Safari";if((t.includes("chrome/")||g1(t))&&!t.includes("edge/"))return"Chrome";if(y1(t))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,a=s.match(i);if(a?.length===2)return a[1]}return"Other"}function d1(s=hn()){return/firefox\//i.test(s)}function m1(s=hn()){const t=s.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function g1(s=hn()){return/crios\//i.test(s)}function p1(s=hn()){return/iemobile/i.test(s)}function y1(s=hn()){return/android/i.test(s)}function _1(s=hn()){return/blackberry/i.test(s)}function v1(s=hn()){return/webos/i.test(s)}function Gm(s=hn()){return/iphone|ipad|ipod/i.test(s)||/macintosh/i.test(s)&&/mobile/i.test(s)}function n2(s=hn()){return Gm(s)&&!!window.navigator?.standalone}function i2(){return _A()&&document.documentMode===10}function E1(s=hn()){return Gm(s)||y1(s)||v1(s)||_1(s)||/windows phone/i.test(s)||p1(s)}function T1(s,t=[]){let i;switch(s){case"Browser":i=T0(hn());break;case"Worker":i=`${T0(hn())}-${s}`;break;default:i=s}const a=t.length?t.join(","):"FirebaseCore-web";return`${i}/JsCore/${zo}/${a}`}class r2{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,i){const a=c=>new Promise((d,p)=>{try{const y=t(c);d(y)}catch(y){p(y)}});a.onAbort=i,this.queue.push(a);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const i=[];try{for(const a of this.queue)await a(t),a.onAbort&&i.push(a.onAbort)}catch(a){i.reverse();for(const l of i)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:a?.message})}}}async function s2(s,t={}){return jo(s,"GET","/v2/passwordPolicy",hu(s,t))}const a2=6;class o2{constructor(t){const i=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??a2,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,i),this.validatePasswordCharacterOptions(t,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(t,i){const a=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;a&&(i.meetsMinPasswordLength=t.length>=a),l&&(i.meetsMaxPasswordLength=t.length<=l)}validatePasswordCharacterOptions(t,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let a;for(let l=0;l<t.length;l++)a=t.charAt(l),this.updatePasswordCharacterOptionsStatuses(i,a>="a"&&a<="z",a>="A"&&a<="Z",a>="0"&&a<="9",this.allowedNonAlphanumericCharacters.includes(a))}updatePasswordCharacterOptionsStatuses(t,i,a,l,c){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=a)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=c))}}class l2{constructor(t,i,a,l){this.app=t,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=a,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new b0(this),this.idTokenSubscription=new b0(this),this.beforeStateQueue=new r2(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=a1,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(t,i){return i&&(this._popupRedirectResolver=gr(i)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await wo.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const i=await lh(this,{idToken:t}),a=await vi._fromGetAccountInfoResponse(this,i,t);await this.directlySetCurrentUser(a)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(oi(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let a=i,l=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,d=a?._redirectEventId,p=await this.tryRedirectSignIn(t);(!c||c===d)&&p?.user&&(a=p.user,l=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(a)}catch(c){a=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return bt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(t){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(t){try{await uh(t)}catch(i){if(i?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=HS()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(oi(this.app))return Promise.reject(pr(this));const i=t?sn(t):null;return i&&bt(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(t,i=!1){if(!this._deleted)return t&&bt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return oi(this.app)?Promise.reject(pr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return oi(this.app)?Promise.reject(pr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(gr(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await s2(this),i=new o2(t);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new lu("auth","Firebase",t())}onAuthStateChanged(t,i,a){return this.registerStateListener(this.authStateSubscription,t,i,a)}beforeAuthStateChanged(t,i){return this.beforeStateQueue.pushCallback(t,i)}onIdTokenChanged(t,i,a){return this.registerStateListener(this.idTokenSubscription,t,i,a)}authStateReady(){return new Promise((t,i)=>{if(this.currentUser)t();else{const a=this.onAuthStateChanged(()=>{a(),t()},i)}})}async revokeAccessToken(t){if(this.currentUser){const i=await this.currentUser.getIdToken(),a={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:i};this.tenantId!=null&&(a.tenantId=this.tenantId),await e2(this,a)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,i){const a=await this.getOrInitRedirectPersistenceManager(i);return t===null?a.removeCurrentUser():a.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const i=t&&gr(t)||this._popupRedirectResolver;bt(i,this,"argument-error"),this.redirectPersistenceManager=await wo.create(this,[gr(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,i,a,l){if(this._deleted)return()=>{};const c=typeof i=="function"?i:i.next.bind(i);let d=!1;const p=this._isInitialized?Promise.resolve():this._initializationPromise;if(bt(p,this,"internal-error"),p.then(()=>{d||c(this.currentUser)}),typeof i=="function"){const y=t.addObserver(i,a,l);return()=>{d=!0,y()}}else{const y=t.addObserver(i);return()=>{d=!0,y()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return bt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=T1(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();i&&(t["X-Firebase-Client"]=i);const a=await this._getAppCheckToken();return a&&(t["X-Firebase-AppCheck"]=a),t}async _getAppCheckToken(){if(oi(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&jS(`Error while retrieving App Check token: ${t.error}`),t?.token}}function fu(s){return sn(s)}class b0{constructor(t){this.auth=t,this.observer=null,this.addObserver=RA(i=>this.observer=i)}get next(){return bt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Qm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function u2(s){Qm=s}function c2(s){return Qm.loadJS(s)}function h2(){return Qm.gapiScript}function f2(s){return`__${s}${Math.floor(Math.random()*1e6)}`}function d2(s,t){const i=jm(s,"auth");if(i.isInitialized()){const l=i.getImmediate(),c=i.getOptions();if(va(c,t??{}))return l;_r(l,"already-initialized")}return i.initialize({options:t})}function m2(s,t){const i=t?.persistence||[],a=(Array.isArray(i)?i:[i]).map(gr);t?.errorMap&&s._updateErrorMap(t.errorMap),s._initializeWithPersistence(a,t?.popupRedirectResolver)}function g2(s,t,i){const a=fu(s);bt(/^https?:\/\//.test(t),a,"invalid-emulator-scheme");const l=!1,c=b1(t),{host:d,port:p}=p2(t),y=p===null?"":`:${p}`,_={url:`${c}//${d}${y}/`},b=Object.freeze({host:d,port:p,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!a._canInitEmulator){bt(a.config.emulator&&a.emulatorConfig,a,"emulator-config-failed"),bt(va(_,a.config.emulator)&&va(b,a.emulatorConfig),a,"emulator-config-failed");return}a.config.emulator=_,a.emulatorConfig=b,a.settings.appVerificationDisabledForTesting=!0,Po(d)?(Jv(`${c}//${d}${y}`),Zv("Auth",!0)):y2()}function b1(s){const t=s.indexOf(":");return t<0?"":s.substr(0,t+1)}function p2(s){const t=b1(s),i=/(\/\/)?([^?#/]+)/.exec(s.substr(t.length));if(!i)return{host:"",port:null};const a=i[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(a);if(l){const c=l[1];return{host:c,port:A0(a.substr(c.length+1))}}else{const[c,d]=a.split(":");return{host:c,port:A0(d)}}}function A0(s){if(!s)return null;const t=Number(s);return isNaN(t)?null:t}function y2(){function s(){const t=document.createElement("p"),i=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",s):s())}class A1{constructor(t,i){this.providerId=t,this.signInMethod=i}toJSON(){return mr("not implemented")}_getIdTokenResponse(t){return mr("not implemented")}_linkToIdToken(t,i){return mr("not implemented")}_getReauthenticationResolver(t){return mr("not implemented")}}async function Ro(s,t){return Hm(s,"POST","/v1/accounts:signInWithIdp",hu(s,t))}const _2="http://localhost";class Ta extends A1{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const i=new Ta(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(i.idToken=t.idToken),t.accessToken&&(i.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(i.nonce=t.nonce),t.pendingToken&&(i.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(i.accessToken=t.oauthToken,i.secret=t.oauthTokenSecret):_r("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const i=typeof t=="string"?JSON.parse(t):t,{providerId:a,signInMethod:l,...c}=i;if(!a||!l)return null;const d=new Ta(a,l);return d.idToken=c.idToken||void 0,d.accessToken=c.accessToken||void 0,d.secret=c.secret,d.nonce=c.nonce,d.pendingToken=c.pendingToken||null,d}_getIdTokenResponse(t){const i=this.buildRequest();return Ro(t,i)}_linkToIdToken(t,i){const a=this.buildRequest();return a.idToken=i,Ro(t,a)}_getReauthenticationResolver(t){const i=this.buildRequest();return i.autoCreate=!1,Ro(t,i)}buildRequest(){const t={requestUri:_2,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),t.postBody=uu(i)}return t}}class S1{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}class du extends S1{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}class cs extends du{constructor(){super("facebook.com")}static credential(t){return Ta._fromParams({providerId:cs.PROVIDER_ID,signInMethod:cs.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return cs.credentialFromTaggedObject(t)}static credentialFromError(t){return cs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return cs.credential(t.oauthAccessToken)}catch{return null}}}cs.FACEBOOK_SIGN_IN_METHOD="facebook.com";cs.PROVIDER_ID="facebook.com";class hs extends du{constructor(){super("google.com"),this.addScope("profile")}static credential(t,i){return Ta._fromParams({providerId:hs.PROVIDER_ID,signInMethod:hs.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:i})}static credentialFromResult(t){return hs.credentialFromTaggedObject(t)}static credentialFromError(t){return hs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:i,oauthAccessToken:a}=t;if(!i&&!a)return null;try{return hs.credential(i,a)}catch{return null}}}hs.GOOGLE_SIGN_IN_METHOD="google.com";hs.PROVIDER_ID="google.com";class fs extends du{constructor(){super("github.com")}static credential(t){return Ta._fromParams({providerId:fs.PROVIDER_ID,signInMethod:fs.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return fs.credentialFromTaggedObject(t)}static credentialFromError(t){return fs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return fs.credential(t.oauthAccessToken)}catch{return null}}}fs.GITHUB_SIGN_IN_METHOD="github.com";fs.PROVIDER_ID="github.com";class ds extends du{constructor(){super("twitter.com")}static credential(t,i){return Ta._fromParams({providerId:ds.PROVIDER_ID,signInMethod:ds.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:i})}static credentialFromResult(t){return ds.credentialFromTaggedObject(t)}static credentialFromError(t){return ds.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:i,oauthTokenSecret:a}=t;if(!i||!a)return null;try{return ds.credential(i,a)}catch{return null}}}ds.TWITTER_SIGN_IN_METHOD="twitter.com";ds.PROVIDER_ID="twitter.com";async function v2(s,t){return Hm(s,"POST","/v1/accounts:signUp",hu(s,t))}class Er{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,i,a,l=!1){const c=await vi._fromIdTokenResponse(t,a,l),d=S0(a);return new Er({user:c,providerId:d,_tokenResponse:a,operationType:i})}static async _forOperation(t,i,a){await t._updateTokensIfNecessary(a,!0);const l=S0(a);return new Er({user:t,providerId:l,_tokenResponse:a,operationType:i})}}function S0(s){return s.providerId?s.providerId:"phoneNumber"in s?"phone":null}async function E2(s){if(oi(s.app))return Promise.reject(pr(s));const t=fu(s);if(await t._initializationPromise,t.currentUser?.isAnonymous)return new Er({user:t.currentUser,providerId:null,operationType:"signIn"});const i=await v2(t,{returnSecureToken:!0}),a=await Er._fromIdTokenResponse(t,"signIn",i,!0);return await t._updateCurrentUser(a.user),a}class ch extends Ar{constructor(t,i,a,l){super(i.code,i.message),this.operationType=a,this.user=l,Object.setPrototypeOf(this,ch.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:a}}static _fromErrorAndOperation(t,i,a,l){return new ch(t,i,a,l)}}function w1(s,t,i,a){return(t==="reauthenticate"?i._getReauthenticationResolver(s):i._getIdTokenResponse(s)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?ch._fromErrorAndOperation(s,c,t,a):c})}async function T2(s,t,i=!1){const a=await Wl(s,t._linkToIdToken(s.auth,await s.getIdToken()),i);return Er._forOperation(s,"link",a)}async function b2(s,t,i=!1){const{auth:a}=s;if(oi(a.app))return Promise.reject(pr(a));const l="reauthenticate";try{const c=await Wl(s,w1(a,l,t,s),i);bt(c.idToken,a,"internal-error");const d=Fm(c.idToken);bt(d,a,"internal-error");const{sub:p}=d;return bt(s.uid===p,a,"user-mismatch"),Er._forOperation(s,l,c)}catch(c){throw c?.code==="auth/user-not-found"&&_r(a,"user-mismatch"),c}}async function A2(s,t,i=!1){if(oi(s.app))return Promise.reject(pr(s));const a="signIn",l=await w1(s,a,t),c=await Er._fromIdTokenResponse(s,a,l);return i||await s._updateCurrentUser(c.user),c}async function S2(s,t){return Hm(s,"POST","/v1/accounts:signInWithCustomToken",hu(s,t))}async function w2(s,t){if(oi(s.app))return Promise.reject(pr(s));const i=fu(s),a=await S2(i,{token:t,returnSecureToken:!0}),l=await Er._fromIdTokenResponse(i,"signIn",a);return await i._updateCurrentUser(l.user),l}function R2(s,t,i,a){return sn(s).onIdTokenChanged(t,i,a)}function I2(s,t,i){return sn(s).beforeAuthStateChanged(t,i)}function C2(s,t,i,a){return sn(s).onAuthStateChanged(t,i,a)}const hh="__sak";class R1{constructor(t,i){this.storageRetriever=t,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(hh,"1"),this.storage.removeItem(hh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,i){return this.storage.setItem(t,JSON.stringify(i)),Promise.resolve()}_get(t){const i=this.storage.getItem(t);return Promise.resolve(i?JSON.parse(i):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}const N2=1e3,D2=10;class I1 extends R1{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,i)=>this.onStorageEvent(t,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=E1(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const i of Object.keys(this.listeners)){const a=this.storage.getItem(i),l=this.localCache[i];a!==l&&t(i,l,a)}}onStorageEvent(t,i=!1){if(!t.key){this.forAllChangedKeys((d,p,y)=>{this.notifyListeners(d,y)});return}const a=t.key;i?this.detachListener():this.stopPolling();const l=()=>{const d=this.storage.getItem(a);!i&&this.localCache[a]===d||this.notifyListeners(a,d)},c=this.storage.getItem(a);i2()&&c!==t.newValue&&t.newValue!==t.oldValue?setTimeout(l,D2):l()}notifyListeners(t,i){this.localCache[t]=i;const a=this.listeners[t];if(a)for(const l of Array.from(a))l(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,i,a)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:i,newValue:a}),!0)})},N2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,i){await super._set(t,i),this.localCache[t]=JSON.stringify(i)}async _get(t){const i=await super._get(t);return this.localCache[t]=JSON.stringify(i),i}async _remove(t){await super._remove(t),delete this.localCache[t]}}I1.type="LOCAL";const x2=I1;class C1 extends R1{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,i){}_removeListener(t,i){}}C1.type="SESSION";const N1=C1;function M2(s){return Promise.all(s.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(i){return{fulfilled:!1,reason:i}}}))}class Ih{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const i=this.receivers.find(l=>l.isListeningto(t));if(i)return i;const a=new Ih(t);return this.receivers.push(a),a}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const i=t,{eventId:a,eventType:l,data:c}=i.data,d=this.handlersMap[l];if(!d?.size)return;i.ports[0].postMessage({status:"ack",eventId:a,eventType:l});const p=Array.from(d).map(async _=>_(i.origin,c)),y=await M2(p);i.ports[0].postMessage({status:"done",eventId:a,eventType:l,response:y})}_subscribe(t,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(i)}_unsubscribe(t,i){this.handlersMap[t]&&i&&this.handlersMap[t].delete(i),(!i||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Ih.receivers=[];function Ym(s="",t=10){let i="";for(let a=0;a<t;a++)i+=Math.floor(Math.random()*10);return s+i}class O2{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,i,a=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let c,d;return new Promise((p,y)=>{const _=Ym("",20);l.port1.start();const b=setTimeout(()=>{y(new Error("unsupported_event"))},a);d={messageChannel:l,onMessage(A){const O=A;if(O.data.eventId===_)switch(O.data.status){case"ack":clearTimeout(b),c=setTimeout(()=>{y(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),p(O.data.response);break;default:clearTimeout(b),clearTimeout(c),y(new Error("invalid_response"));break}}},this.handlers.add(d),l.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:t,eventId:_,data:i},[l.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}function Li(){return window}function V2(s){Li().location.href=s}function D1(){return typeof Li().WorkerGlobalScope<"u"&&typeof Li().importScripts=="function"}async function k2(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function U2(){return navigator?.serviceWorker?.controller||null}function L2(){return D1()?self:null}const x1="firebaseLocalStorageDb",P2=1,fh="firebaseLocalStorage",M1="fbase_key";class mu{constructor(t){this.request=t}toPromise(){return new Promise((t,i)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function Ch(s,t){return s.transaction([fh],t?"readwrite":"readonly").objectStore(fh)}function z2(){const s=indexedDB.deleteDatabase(x1);return new mu(s).toPromise()}function mm(){const s=indexedDB.open(x1,P2);return new Promise((t,i)=>{s.addEventListener("error",()=>{i(s.error)}),s.addEventListener("upgradeneeded",()=>{const a=s.result;try{a.createObjectStore(fh,{keyPath:M1})}catch(l){i(l)}}),s.addEventListener("success",async()=>{const a=s.result;a.objectStoreNames.contains(fh)?t(a):(a.close(),await z2(),t(await mm()))})})}async function w0(s,t,i){const a=Ch(s,!0).put({[M1]:t,value:i});return new mu(a).toPromise()}async function j2(s,t){const i=Ch(s,!1).get(t),a=await new mu(i).toPromise();return a===void 0?null:a.value}function R0(s,t){const i=Ch(s,!0).delete(t);return new mu(i).toPromise()}const B2=800,q2=3;class O1{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await mm(),this.db)}async _withRetries(t){let i=0;for(;;)try{const a=await this._openDb();return await t(a)}catch(a){if(i++>q2)throw a;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return D1()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Ih._getInstance(L2()),this.receiver._subscribe("keyChanged",async(t,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(t,i)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await k2(),!this.activeServiceWorker)return;this.sender=new O2(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||U2()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await mm();return await w0(t,hh,"1"),await R0(t,hh),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,i){return this._withPendingWrite(async()=>(await this._withRetries(a=>w0(a,t,i)),this.localCache[t]=i,this.notifyServiceWorker(t)))}async _get(t){const i=await this._withRetries(a=>j2(a,t));return this.localCache[t]=i,i}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(i=>R0(i,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(l=>{const c=Ch(l,!1).getAll();return new mu(c).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const i=[],a=new Set;if(t.length!==0)for(const{fbase_key:l,value:c}of t)a.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(c)&&(this.notifyListeners(l,c),i.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!a.has(l)&&(this.notifyListeners(l,null),i.push(l));return i}notifyListeners(t,i){this.localCache[t]=i;const a=this.listeners[t];if(a)for(const l of Array.from(a))l(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),B2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}O1.type="LOCAL";const H2=O1;new cu(3e4,6e4);function F2(s,t){return t?gr(t):(bt(s._popupRedirectResolver,s,"argument-error"),s._popupRedirectResolver)}class Km extends A1{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Ro(t,this._buildIdpRequest())}_linkToIdToken(t,i){return Ro(t,this._buildIdpRequest(i))}_getReauthenticationResolver(t){return Ro(t,this._buildIdpRequest())}_buildIdpRequest(t){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(i.idToken=t),i}}function G2(s){return A2(s.auth,new Km(s),s.bypassAuthState)}function Q2(s){const{auth:t,user:i}=s;return bt(i,t,"internal-error"),b2(i,new Km(s),s.bypassAuthState)}async function Y2(s){const{auth:t,user:i}=s;return bt(i,t,"internal-error"),T2(i,new Km(s),s.bypassAuthState)}class V1{constructor(t,i,a,l,c=!1){this.auth=t,this.resolver=a,this.user=l,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(t,i)=>{this.pendingPromise={resolve:t,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(a){this.reject(a)}})}async onAuthEvent(t){const{urlResponse:i,sessionId:a,postBody:l,tenantId:c,error:d,type:p}=t;if(d){this.reject(d);return}const y={auth:this.auth,requestUri:i,sessionId:a,tenantId:c||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(p)(y))}catch(_){this.reject(_)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return G2;case"linkViaPopup":case"linkViaRedirect":return Y2;case"reauthViaPopup":case"reauthViaRedirect":return Q2;default:_r(this.auth,"internal-error")}}resolve(t){vr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){vr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const K2=new cu(2e3,1e4);class bo extends V1{constructor(t,i,a,l,c){super(t,i,l,c),this.provider=a,this.authWindow=null,this.pollId=null,bo.currentPopupAction&&bo.currentPopupAction.cancel(),bo.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return bt(t,this.auth,"internal-error"),t}async onExecution(){vr(this.filter.length===1,"Popup operations only handle one event");const t=Ym();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(Ui(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Ui(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,bo.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ui(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,K2.get())};t()}}bo.currentPopupAction=null;const X2="pendingRedirect",$c=new Map;class $2 extends V1{constructor(t,i,a=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,a),this.eventId=null}async execute(){let t=$c.get(this.auth._key());if(!t){try{const a=await J2(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(a)}catch(i){t=()=>Promise.reject(i)}$c.set(this.auth._key(),t)}return this.bypassAuthState||$c.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const i=await this.auth._redirectUserForId(t.eventId);if(i)return this.user=i,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function J2(s,t){const i=tw(t),a=W2(s);if(!await a._isAvailable())return!1;const l=await a._get(i)==="true";return await a._remove(i),l}function Z2(s,t){$c.set(s._key(),t)}function W2(s){return gr(s._redirectPersistence)}function tw(s){return Xc(X2,s.config.apiKey,s.name)}async function ew(s,t,i=!1){if(oi(s.app))return Promise.reject(pr(s));const a=fu(s),l=F2(a,t),d=await new $2(a,l,i).execute();return d&&!i&&(delete d.user._redirectEventId,await a._persistUserIfCurrent(d.user),await a._setRedirectUser(null,t)),d}const nw=600*1e3;class iw{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let i=!1;return this.consumers.forEach(a=>{this.isEventForConsumer(t,a)&&(i=!0,this.sendToConsumer(t,a),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!rw(t)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=t,i=!0)),i}sendToConsumer(t,i){if(t.error&&!k1(t)){const a=t.error.code?.split("auth/")[1]||"internal-error";i.onError(Ui(this.auth,a))}else i.onAuthEvent(t)}isEventForConsumer(t,i){const a=i.eventId===null||!!t.eventId&&t.eventId===i.eventId;return i.filter.includes(t.type)&&a}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=nw&&this.cachedEventUids.clear(),this.cachedEventUids.has(I0(t))}saveEventToCache(t){this.cachedEventUids.add(I0(t)),this.lastProcessedEventTime=Date.now()}}function I0(s){return[s.type,s.eventId,s.sessionId,s.tenantId].filter(t=>t).join("-")}function k1({type:s,error:t}){return s==="unknown"&&t?.code==="auth/no-auth-event"}function rw(s){switch(s.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return k1(s);default:return!1}}async function sw(s,t={}){return jo(s,"GET","/v1/projects",t)}const aw=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,ow=/^https?/;async function lw(s){if(s.config.emulator)return;const{authorizedDomains:t}=await sw(s);for(const i of t)try{if(uw(i))return}catch{}_r(s,"unauthorized-domain")}function uw(s){const t=fm(),{protocol:i,hostname:a}=new URL(t);if(s.startsWith("chrome-extension://")){const d=new URL(s);return d.hostname===""&&a===""?i==="chrome-extension:"&&s.replace("chrome-extension://","")===t.replace("chrome-extension://",""):i==="chrome-extension:"&&d.hostname===a}if(!ow.test(i))return!1;if(aw.test(s))return a===s;const l=s.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(a)}const cw=new cu(3e4,6e4);function C0(){const s=Li().___jsl;if(s?.H){for(const t of Object.keys(s.H))if(s.H[t].r=s.H[t].r||[],s.H[t].L=s.H[t].L||[],s.H[t].r=[...s.H[t].L],s.CP)for(let i=0;i<s.CP.length;i++)s.CP[i]=null}}function hw(s){return new Promise((t,i)=>{function a(){C0(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{C0(),i(Ui(s,"network-request-failed"))},timeout:cw.get()})}if(Li().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(Li().gapi?.load)a();else{const l=f2("iframefcb");return Li()[l]=()=>{gapi.load?a():i(Ui(s,"network-request-failed"))},c2(`${h2()}?onload=${l}`).catch(c=>i(c))}}).catch(t=>{throw Jc=null,t})}let Jc=null;function fw(s){return Jc=Jc||hw(s),Jc}const dw=new cu(5e3,15e3),mw="__/auth/iframe",gw="emulator/auth/iframe",pw={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},yw=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function _w(s){const t=s.config;bt(t.authDomain,s,"auth-domain-config-required");const i=t.emulator?qm(t,gw):`https://${s.config.authDomain}/${mw}`,a={apiKey:t.apiKey,appName:s.name,v:zo},l=yw.get(s.config.apiHost);l&&(a.eid=l);const c=s._getFrameworks();return c.length&&(a.fw=c.join(",")),`${i}?${uu(a).slice(1)}`}async function vw(s){const t=await fw(s),i=Li().gapi;return bt(i,s,"internal-error"),t.open({where:document.body,url:_w(s),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:pw,dontclear:!0},a=>new Promise(async(l,c)=>{await a.restyle({setHideOnLeave:!1});const d=Ui(s,"network-request-failed"),p=Li().setTimeout(()=>{c(d)},dw.get());function y(){Li().clearTimeout(p),l(a)}a.ping(y).then(y,()=>{c(d)})}))}const Ew={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Tw=500,bw=600,Aw="_blank",Sw="http://localhost";class N0{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function ww(s,t,i,a=Tw,l=bw){const c=Math.max((window.screen.availHeight-l)/2,0).toString(),d=Math.max((window.screen.availWidth-a)/2,0).toString();let p="";const y={...Ew,width:a.toString(),height:l.toString(),top:c,left:d},_=hn().toLowerCase();i&&(p=g1(_)?Aw:i),d1(_)&&(t=t||Sw,y.scrollbars="yes");const b=Object.entries(y).reduce((O,[Q,tt])=>`${O}${Q}=${tt},`,"");if(n2(_)&&p!=="_self")return Rw(t||"",p),new N0(null);const A=window.open(t||"",p,b);bt(A,s,"popup-blocked");try{A.focus()}catch{}return new N0(A)}function Rw(s,t){const i=document.createElement("a");i.href=s,i.target=t;const a=document.createEvent("MouseEvent");a.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(a)}const Iw="__/auth/handler",Cw="emulator/auth/handler",Nw=encodeURIComponent("fac");async function D0(s,t,i,a,l,c){bt(s.config.authDomain,s,"auth-domain-config-required"),bt(s.config.apiKey,s,"invalid-api-key");const d={apiKey:s.config.apiKey,appName:s.name,authType:i,redirectUrl:a,v:zo,eventId:l};if(t instanceof S1){t.setDefaultLanguage(s.languageCode),d.providerId=t.providerId||"",wA(t.getCustomParameters())||(d.customParameters=JSON.stringify(t.getCustomParameters()));for(const[b,A]of Object.entries({}))d[b]=A}if(t instanceof du){const b=t.getScopes().filter(A=>A!=="");b.length>0&&(d.scopes=b.join(","))}s.tenantId&&(d.tid=s.tenantId);const p=d;for(const b of Object.keys(p))p[b]===void 0&&delete p[b];const y=await s._getAppCheckToken(),_=y?`#${Nw}=${encodeURIComponent(y)}`:"";return`${Dw(s)}?${uu(p).slice(1)}${_}`}function Dw({config:s}){return s.emulator?qm(s,Cw):`https://${s.authDomain}/${Iw}`}const Jd="webStorageSupport";class xw{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=N1,this._completeRedirectFn=ew,this._overrideRedirectResult=Z2}async _openPopup(t,i,a,l){vr(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const c=await D0(t,i,a,fm(),l);return ww(t,c,Ym())}async _openRedirect(t,i,a,l){await this._originValidation(t);const c=await D0(t,i,a,fm(),l);return V2(c),new Promise(()=>{})}_initialize(t){const i=t._key();if(this.eventManagers[i]){const{manager:l,promise:c}=this.eventManagers[i];return l?Promise.resolve(l):(vr(c,"If manager is not set, promise should be"),c)}const a=this.initAndGetManager(t);return this.eventManagers[i]={promise:a},a.catch(()=>{delete this.eventManagers[i]}),a}async initAndGetManager(t){const i=await vw(t),a=new iw(t);return i.register("authEvent",l=>(bt(l?.authEvent,t,"invalid-auth-event"),{status:a.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:a},this.iframes[t._key()]=i,a}_isIframeWebStorageSupported(t,i){this.iframes[t._key()].send(Jd,{type:Jd},l=>{const c=l?.[0]?.[Jd];c!==void 0&&i(!!c),_r(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const i=t._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=lw(t)),this.originValidationPromises[i]}get _shouldInitProactively(){return E1()||m1()||Gm()}}const Mw=xw;var x0="@firebase/auth",M0="1.11.1";class Ow{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const i=this.auth.onIdTokenChanged(a=>{t(a?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,i),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const i=this.internalListeners.get(t);i&&(this.internalListeners.delete(t),i(),this.updateProactiveRefresh())}assertAuthConfigured(){bt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function Vw(s){switch(s){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function kw(s){Do(new Ea("auth",(t,{options:i})=>{const a=t.getProvider("app").getImmediate(),l=t.getProvider("heartbeat"),c=t.getProvider("app-check-internal"),{apiKey:d,authDomain:p}=a.options;bt(d&&!d.includes(":"),"invalid-api-key",{appName:a.name});const y={apiKey:d,authDomain:p,clientPlatform:s,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:T1(s)},_=new l2(a,l,c,y);return m2(_,i),_},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,i,a)=>{t.getProvider("auth-internal").initialize()})),Do(new Ea("auth-internal",t=>{const i=fu(t.getProvider("auth").getImmediate());return(a=>new Ow(a))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),ys(x0,M0,Vw(s)),ys(x0,M0,"esm2020")}const Uw=300,Lw=$v("authIdTokenMaxAge")||Uw;let O0=null;const Pw=s=>async t=>{const i=t&&await t.getIdTokenResult(),a=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(a&&a>Lw)return;const l=i?.token;O0!==l&&(O0=l,await fetch(s,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function zw(s=n1()){const t=jm(s,"auth");if(t.isInitialized())return t.getImmediate();const i=d2(s,{popupRedirectResolver:Mw,persistence:[H2,x2,N1]}),a=$v("authTokenSyncURL");if(a&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(a,location.origin);if(location.origin===c.origin){const d=Pw(c.toString());I2(i,d,()=>d(i.currentUser)),R2(i,p=>d(p))}}const l=Kv("auth");return l&&g2(i,`http://${l}`),i}function jw(){return document.getElementsByTagName("head")?.[0]??document}u2({loadJS(s){return new Promise((t,i)=>{const a=document.createElement("script");a.setAttribute("src",s),a.onload=t,a.onerror=l=>{const c=Ui("internal-error");c.customData=l,i(c)},a.type="text/javascript",a.charset="UTF-8",jw().appendChild(a)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});kw("Browser");var V0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var _s,U1;(function(){var s;function t(C,S){function I(){}I.prototype=S.prototype,C.F=S.prototype,C.prototype=new I,C.prototype.constructor=C,C.D=function(V,D,U){for(var w=Array(arguments.length-2),ne=2;ne<arguments.length;ne++)w[ne-2]=arguments[ne];return S.prototype[D].apply(V,w)}}function i(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(a,i),a.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(C,S,I){I||(I=0);const V=Array(16);if(typeof S=="string")for(var D=0;D<16;++D)V[D]=S.charCodeAt(I++)|S.charCodeAt(I++)<<8|S.charCodeAt(I++)<<16|S.charCodeAt(I++)<<24;else for(D=0;D<16;++D)V[D]=S[I++]|S[I++]<<8|S[I++]<<16|S[I++]<<24;S=C.g[0],I=C.g[1],D=C.g[2];let U=C.g[3],w;w=S+(U^I&(D^U))+V[0]+3614090360&4294967295,S=I+(w<<7&4294967295|w>>>25),w=U+(D^S&(I^D))+V[1]+3905402710&4294967295,U=S+(w<<12&4294967295|w>>>20),w=D+(I^U&(S^I))+V[2]+606105819&4294967295,D=U+(w<<17&4294967295|w>>>15),w=I+(S^D&(U^S))+V[3]+3250441966&4294967295,I=D+(w<<22&4294967295|w>>>10),w=S+(U^I&(D^U))+V[4]+4118548399&4294967295,S=I+(w<<7&4294967295|w>>>25),w=U+(D^S&(I^D))+V[5]+1200080426&4294967295,U=S+(w<<12&4294967295|w>>>20),w=D+(I^U&(S^I))+V[6]+2821735955&4294967295,D=U+(w<<17&4294967295|w>>>15),w=I+(S^D&(U^S))+V[7]+4249261313&4294967295,I=D+(w<<22&4294967295|w>>>10),w=S+(U^I&(D^U))+V[8]+1770035416&4294967295,S=I+(w<<7&4294967295|w>>>25),w=U+(D^S&(I^D))+V[9]+2336552879&4294967295,U=S+(w<<12&4294967295|w>>>20),w=D+(I^U&(S^I))+V[10]+4294925233&4294967295,D=U+(w<<17&4294967295|w>>>15),w=I+(S^D&(U^S))+V[11]+2304563134&4294967295,I=D+(w<<22&4294967295|w>>>10),w=S+(U^I&(D^U))+V[12]+1804603682&4294967295,S=I+(w<<7&4294967295|w>>>25),w=U+(D^S&(I^D))+V[13]+4254626195&4294967295,U=S+(w<<12&4294967295|w>>>20),w=D+(I^U&(S^I))+V[14]+2792965006&4294967295,D=U+(w<<17&4294967295|w>>>15),w=I+(S^D&(U^S))+V[15]+1236535329&4294967295,I=D+(w<<22&4294967295|w>>>10),w=S+(D^U&(I^D))+V[1]+4129170786&4294967295,S=I+(w<<5&4294967295|w>>>27),w=U+(I^D&(S^I))+V[6]+3225465664&4294967295,U=S+(w<<9&4294967295|w>>>23),w=D+(S^I&(U^S))+V[11]+643717713&4294967295,D=U+(w<<14&4294967295|w>>>18),w=I+(U^S&(D^U))+V[0]+3921069994&4294967295,I=D+(w<<20&4294967295|w>>>12),w=S+(D^U&(I^D))+V[5]+3593408605&4294967295,S=I+(w<<5&4294967295|w>>>27),w=U+(I^D&(S^I))+V[10]+38016083&4294967295,U=S+(w<<9&4294967295|w>>>23),w=D+(S^I&(U^S))+V[15]+3634488961&4294967295,D=U+(w<<14&4294967295|w>>>18),w=I+(U^S&(D^U))+V[4]+3889429448&4294967295,I=D+(w<<20&4294967295|w>>>12),w=S+(D^U&(I^D))+V[9]+568446438&4294967295,S=I+(w<<5&4294967295|w>>>27),w=U+(I^D&(S^I))+V[14]+3275163606&4294967295,U=S+(w<<9&4294967295|w>>>23),w=D+(S^I&(U^S))+V[3]+4107603335&4294967295,D=U+(w<<14&4294967295|w>>>18),w=I+(U^S&(D^U))+V[8]+1163531501&4294967295,I=D+(w<<20&4294967295|w>>>12),w=S+(D^U&(I^D))+V[13]+2850285829&4294967295,S=I+(w<<5&4294967295|w>>>27),w=U+(I^D&(S^I))+V[2]+4243563512&4294967295,U=S+(w<<9&4294967295|w>>>23),w=D+(S^I&(U^S))+V[7]+1735328473&4294967295,D=U+(w<<14&4294967295|w>>>18),w=I+(U^S&(D^U))+V[12]+2368359562&4294967295,I=D+(w<<20&4294967295|w>>>12),w=S+(I^D^U)+V[5]+4294588738&4294967295,S=I+(w<<4&4294967295|w>>>28),w=U+(S^I^D)+V[8]+2272392833&4294967295,U=S+(w<<11&4294967295|w>>>21),w=D+(U^S^I)+V[11]+1839030562&4294967295,D=U+(w<<16&4294967295|w>>>16),w=I+(D^U^S)+V[14]+4259657740&4294967295,I=D+(w<<23&4294967295|w>>>9),w=S+(I^D^U)+V[1]+2763975236&4294967295,S=I+(w<<4&4294967295|w>>>28),w=U+(S^I^D)+V[4]+1272893353&4294967295,U=S+(w<<11&4294967295|w>>>21),w=D+(U^S^I)+V[7]+4139469664&4294967295,D=U+(w<<16&4294967295|w>>>16),w=I+(D^U^S)+V[10]+3200236656&4294967295,I=D+(w<<23&4294967295|w>>>9),w=S+(I^D^U)+V[13]+681279174&4294967295,S=I+(w<<4&4294967295|w>>>28),w=U+(S^I^D)+V[0]+3936430074&4294967295,U=S+(w<<11&4294967295|w>>>21),w=D+(U^S^I)+V[3]+3572445317&4294967295,D=U+(w<<16&4294967295|w>>>16),w=I+(D^U^S)+V[6]+76029189&4294967295,I=D+(w<<23&4294967295|w>>>9),w=S+(I^D^U)+V[9]+3654602809&4294967295,S=I+(w<<4&4294967295|w>>>28),w=U+(S^I^D)+V[12]+3873151461&4294967295,U=S+(w<<11&4294967295|w>>>21),w=D+(U^S^I)+V[15]+530742520&4294967295,D=U+(w<<16&4294967295|w>>>16),w=I+(D^U^S)+V[2]+3299628645&4294967295,I=D+(w<<23&4294967295|w>>>9),w=S+(D^(I|~U))+V[0]+4096336452&4294967295,S=I+(w<<6&4294967295|w>>>26),w=U+(I^(S|~D))+V[7]+1126891415&4294967295,U=S+(w<<10&4294967295|w>>>22),w=D+(S^(U|~I))+V[14]+2878612391&4294967295,D=U+(w<<15&4294967295|w>>>17),w=I+(U^(D|~S))+V[5]+4237533241&4294967295,I=D+(w<<21&4294967295|w>>>11),w=S+(D^(I|~U))+V[12]+1700485571&4294967295,S=I+(w<<6&4294967295|w>>>26),w=U+(I^(S|~D))+V[3]+2399980690&4294967295,U=S+(w<<10&4294967295|w>>>22),w=D+(S^(U|~I))+V[10]+4293915773&4294967295,D=U+(w<<15&4294967295|w>>>17),w=I+(U^(D|~S))+V[1]+2240044497&4294967295,I=D+(w<<21&4294967295|w>>>11),w=S+(D^(I|~U))+V[8]+1873313359&4294967295,S=I+(w<<6&4294967295|w>>>26),w=U+(I^(S|~D))+V[15]+4264355552&4294967295,U=S+(w<<10&4294967295|w>>>22),w=D+(S^(U|~I))+V[6]+2734768916&4294967295,D=U+(w<<15&4294967295|w>>>17),w=I+(U^(D|~S))+V[13]+1309151649&4294967295,I=D+(w<<21&4294967295|w>>>11),w=S+(D^(I|~U))+V[4]+4149444226&4294967295,S=I+(w<<6&4294967295|w>>>26),w=U+(I^(S|~D))+V[11]+3174756917&4294967295,U=S+(w<<10&4294967295|w>>>22),w=D+(S^(U|~I))+V[2]+718787259&4294967295,D=U+(w<<15&4294967295|w>>>17),w=I+(U^(D|~S))+V[9]+3951481745&4294967295,C.g[0]=C.g[0]+S&4294967295,C.g[1]=C.g[1]+(D+(w<<21&4294967295|w>>>11))&4294967295,C.g[2]=C.g[2]+D&4294967295,C.g[3]=C.g[3]+U&4294967295}a.prototype.v=function(C,S){S===void 0&&(S=C.length);const I=S-this.blockSize,V=this.C;let D=this.h,U=0;for(;U<S;){if(D==0)for(;U<=I;)l(this,C,U),U+=this.blockSize;if(typeof C=="string"){for(;U<S;)if(V[D++]=C.charCodeAt(U++),D==this.blockSize){l(this,V),D=0;break}}else for(;U<S;)if(V[D++]=C[U++],D==this.blockSize){l(this,V),D=0;break}}this.h=D,this.o+=S},a.prototype.A=function(){var C=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);C[0]=128;for(var S=1;S<C.length-8;++S)C[S]=0;S=this.o*8;for(var I=C.length-8;I<C.length;++I)C[I]=S&255,S/=256;for(this.v(C),C=Array(16),S=0,I=0;I<4;++I)for(let V=0;V<32;V+=8)C[S++]=this.g[I]>>>V&255;return C};function c(C,S){var I=p;return Object.prototype.hasOwnProperty.call(I,C)?I[C]:I[C]=S(C)}function d(C,S){this.h=S;const I=[];let V=!0;for(let D=C.length-1;D>=0;D--){const U=C[D]|0;V&&U==S||(I[D]=U,V=!1)}this.g=I}var p={};function y(C){return-128<=C&&C<128?c(C,function(S){return new d([S|0],S<0?-1:0)}):new d([C|0],C<0?-1:0)}function _(C){if(isNaN(C)||!isFinite(C))return A;if(C<0)return et(_(-C));const S=[];let I=1;for(let V=0;C>=I;V++)S[V]=C/I|0,I*=4294967296;return new d(S,0)}function b(C,S){if(C.length==0)throw Error("number format error: empty string");if(S=S||10,S<2||36<S)throw Error("radix out of range: "+S);if(C.charAt(0)=="-")return et(b(C.substring(1),S));if(C.indexOf("-")>=0)throw Error('number format error: interior "-" character');const I=_(Math.pow(S,8));let V=A;for(let U=0;U<C.length;U+=8){var D=Math.min(8,C.length-U);const w=parseInt(C.substring(U,U+D),S);D<8?(D=_(Math.pow(S,D)),V=V.j(D).add(_(w))):(V=V.j(I),V=V.add(_(w)))}return V}var A=y(0),O=y(1),Q=y(16777216);s=d.prototype,s.m=function(){if(nt(this))return-et(this).m();let C=0,S=1;for(let I=0;I<this.g.length;I++){const V=this.i(I);C+=(V>=0?V:4294967296+V)*S,S*=4294967296}return C},s.toString=function(C){if(C=C||10,C<2||36<C)throw Error("radix out of range: "+C);if(tt(this))return"0";if(nt(this))return"-"+et(this).toString(C);const S=_(Math.pow(C,6));var I=this;let V="";for(;;){const D=Mt(I,S).g;I=yt(I,D.j(S));let U=((I.g.length>0?I.g[0]:I.h)>>>0).toString(C);if(I=D,tt(I))return U+V;for(;U.length<6;)U="0"+U;V=U+V}},s.i=function(C){return C<0?0:C<this.g.length?this.g[C]:this.h};function tt(C){if(C.h!=0)return!1;for(let S=0;S<C.g.length;S++)if(C.g[S]!=0)return!1;return!0}function nt(C){return C.h==-1}s.l=function(C){return C=yt(this,C),nt(C)?-1:tt(C)?0:1};function et(C){const S=C.g.length,I=[];for(let V=0;V<S;V++)I[V]=~C.g[V];return new d(I,~C.h).add(O)}s.abs=function(){return nt(this)?et(this):this},s.add=function(C){const S=Math.max(this.g.length,C.g.length),I=[];let V=0;for(let D=0;D<=S;D++){let U=V+(this.i(D)&65535)+(C.i(D)&65535),w=(U>>>16)+(this.i(D)>>>16)+(C.i(D)>>>16);V=w>>>16,U&=65535,w&=65535,I[D]=w<<16|U}return new d(I,I[I.length-1]&-2147483648?-1:0)};function yt(C,S){return C.add(et(S))}s.j=function(C){if(tt(this)||tt(C))return A;if(nt(this))return nt(C)?et(this).j(et(C)):et(et(this).j(C));if(nt(C))return et(this.j(et(C)));if(this.l(Q)<0&&C.l(Q)<0)return _(this.m()*C.m());const S=this.g.length+C.g.length,I=[];for(var V=0;V<2*S;V++)I[V]=0;for(V=0;V<this.g.length;V++)for(let D=0;D<C.g.length;D++){const U=this.i(V)>>>16,w=this.i(V)&65535,ne=C.i(D)>>>16,Ee=C.i(D)&65535;I[2*V+2*D]+=w*Ee,St(I,2*V+2*D),I[2*V+2*D+1]+=U*Ee,St(I,2*V+2*D+1),I[2*V+2*D+1]+=w*ne,St(I,2*V+2*D+1),I[2*V+2*D+2]+=U*ne,St(I,2*V+2*D+2)}for(C=0;C<S;C++)I[C]=I[2*C+1]<<16|I[2*C];for(C=S;C<2*S;C++)I[C]=0;return new d(I,0)};function St(C,S){for(;(C[S]&65535)!=C[S];)C[S+1]+=C[S]>>>16,C[S]&=65535,S++}function _t(C,S){this.g=C,this.h=S}function Mt(C,S){if(tt(S))throw Error("division by zero");if(tt(C))return new _t(A,A);if(nt(C))return S=Mt(et(C),S),new _t(et(S.g),et(S.h));if(nt(S))return S=Mt(C,et(S)),new _t(et(S.g),S.h);if(C.g.length>30){if(nt(C)||nt(S))throw Error("slowDivide_ only works with positive integers.");for(var I=O,V=S;V.l(C)<=0;)I=Kt(I),V=Kt(V);var D=xt(I,1),U=xt(V,1);for(V=xt(V,2),I=xt(I,2);!tt(V);){var w=U.add(V);w.l(C)<=0&&(D=D.add(I),U=w),V=xt(V,1),I=xt(I,1)}return S=yt(C,D.j(S)),new _t(D,S)}for(D=A;C.l(S)>=0;){for(I=Math.max(1,Math.floor(C.m()/S.m())),V=Math.ceil(Math.log(I)/Math.LN2),V=V<=48?1:Math.pow(2,V-48),U=_(I),w=U.j(S);nt(w)||w.l(C)>0;)I-=V,U=_(I),w=U.j(S);tt(U)&&(U=O),D=D.add(U),C=yt(C,w)}return new _t(D,C)}s.B=function(C){return Mt(this,C).h},s.and=function(C){const S=Math.max(this.g.length,C.g.length),I=[];for(let V=0;V<S;V++)I[V]=this.i(V)&C.i(V);return new d(I,this.h&C.h)},s.or=function(C){const S=Math.max(this.g.length,C.g.length),I=[];for(let V=0;V<S;V++)I[V]=this.i(V)|C.i(V);return new d(I,this.h|C.h)},s.xor=function(C){const S=Math.max(this.g.length,C.g.length),I=[];for(let V=0;V<S;V++)I[V]=this.i(V)^C.i(V);return new d(I,this.h^C.h)};function Kt(C){const S=C.g.length+1,I=[];for(let V=0;V<S;V++)I[V]=C.i(V)<<1|C.i(V-1)>>>31;return new d(I,C.h)}function xt(C,S){const I=S>>5;S%=32;const V=C.g.length-I,D=[];for(let U=0;U<V;U++)D[U]=S>0?C.i(U+I)>>>S|C.i(U+I+1)<<32-S:C.i(U+I);return new d(D,C.h)}a.prototype.digest=a.prototype.A,a.prototype.reset=a.prototype.u,a.prototype.update=a.prototype.v,U1=a,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=_,d.fromString=b,_s=d}).apply(typeof V0<"u"?V0:typeof self<"u"?self:typeof window<"u"?window:{});var jc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var L1,Bl,P1,Zc,gm,z1,j1,B1;(function(){var s,t=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof jc=="object"&&jc];for(var m=0;m<u.length;++m){var v=u[m];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var a=i(this);function l(u,m){if(m)t:{var v=a;u=u.split(".");for(var T=0;T<u.length-1;T++){var P=u[T];if(!(P in v))break t;v=v[P]}u=u[u.length-1],T=v[u],m=m(T),m!=T&&m!=null&&t(v,u,{configurable:!0,writable:!0,value:m})}}l("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),l("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),l("Object.entries",function(u){return u||function(m){var v=[],T;for(T in m)Object.prototype.hasOwnProperty.call(m,T)&&v.push([T,m[T]]);return v}});var c=c||{},d=this||self;function p(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function y(u,m,v){return u.call.apply(u.bind,arguments)}function _(u,m,v){return _=y,_.apply(null,arguments)}function b(u,m){var v=Array.prototype.slice.call(arguments,1);return function(){var T=v.slice();return T.push.apply(T,arguments),u.apply(this,T)}}function A(u,m){function v(){}v.prototype=m.prototype,u.Z=m.prototype,u.prototype=new v,u.prototype.constructor=u,u.Ob=function(T,P,q){for(var it=Array(arguments.length-2),Ct=2;Ct<arguments.length;Ct++)it[Ct-2]=arguments[Ct];return m.prototype[P].apply(T,it)}}var O=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function Q(u){const m=u.length;if(m>0){const v=Array(m);for(let T=0;T<m;T++)v[T]=u[T];return v}return[]}function tt(u,m){for(let T=1;T<arguments.length;T++){const P=arguments[T];var v=typeof P;if(v=v!="object"?v:P?Array.isArray(P)?"array":v:"null",v=="array"||v=="object"&&typeof P.length=="number"){v=u.length||0;const q=P.length||0;u.length=v+q;for(let it=0;it<q;it++)u[v+it]=P[it]}else u.push(P)}}class nt{constructor(m,v){this.i=m,this.j=v,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function et(u){d.setTimeout(()=>{throw u},0)}function yt(){var u=C;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class St{constructor(){this.h=this.g=null}add(m,v){const T=_t.get();T.set(m,v),this.h?this.h.next=T:this.g=T,this.h=T}}var _t=new nt(()=>new Mt,u=>u.reset());class Mt{constructor(){this.next=this.g=this.h=null}set(m,v){this.h=m,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let Kt,xt=!1,C=new St,S=()=>{const u=Promise.resolve(void 0);Kt=()=>{u.then(I)}};function I(){for(var u;u=yt();){try{u.h.call(u.g)}catch(v){et(v)}var m=_t;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}xt=!1}function V(){this.u=this.u,this.C=this.C}V.prototype.u=!1,V.prototype.dispose=function(){this.u||(this.u=!0,this.N())},V.prototype[Symbol.dispose]=function(){this.dispose()},V.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function D(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}D.prototype.h=function(){this.defaultPrevented=!0};var U=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const v=()=>{};d.addEventListener("test",v,m),d.removeEventListener("test",v,m)}catch{}return u})();function w(u){return/^[\s\xa0]*$/.test(u)}function ne(u,m){D.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}A(ne,D),ne.prototype.init=function(u,m){const v=this.type=u.type,T=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(v=="mouseover"?m=u.fromElement:v=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&ne.Z.h.call(this)},ne.prototype.h=function(){ne.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Ee="closure_listenable_"+(Math.random()*1e6|0),G=0;function rt(u,m,v,T,P){this.listener=u,this.proxy=null,this.src=m,this.type=v,this.capture=!!T,this.ha=P,this.key=++G,this.da=this.fa=!1}function mt(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function kt(u,m,v){for(const T in u)m.call(v,u[T],T,u)}function qt(u,m){for(const v in u)m.call(void 0,u[v],v,u)}function M(u){const m={};for(const v in u)m[v]=u[v];return m}const X="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function st(u,m){let v,T;for(let P=1;P<arguments.length;P++){T=arguments[P];for(v in T)u[v]=T[v];for(let q=0;q<X.length;q++)v=X[q],Object.prototype.hasOwnProperty.call(T,v)&&(u[v]=T[v])}}function lt(u){this.src=u,this.g={},this.h=0}lt.prototype.add=function(u,m,v,T,P){const q=u.toString();u=this.g[q],u||(u=this.g[q]=[],this.h++);const it=It(u,m,T,P);return it>-1?(m=u[it],v||(m.fa=!1)):(m=new rt(m,this.src,q,!!T,P),m.fa=v,u.push(m)),m};function Tt(u,m){const v=m.type;if(v in u.g){var T=u.g[v],P=Array.prototype.indexOf.call(T,m,void 0),q;(q=P>=0)&&Array.prototype.splice.call(T,P,1),q&&(mt(m),u.g[v].length==0&&(delete u.g[v],u.h--))}}function It(u,m,v,T){for(let P=0;P<u.length;++P){const q=u[P];if(!q.da&&q.listener==m&&q.capture==!!v&&q.ha==T)return P}return-1}var Ht="closure_lm_"+(Math.random()*1e6|0),Oe={};function fe(u,m,v,T,P){if(Array.isArray(m)){for(let q=0;q<m.length;q++)fe(u,m[q],v,T,P);return null}return v=wr(v),u&&u[Ee]?u.J(m,v,p(T)?!!T.capture:!1,P):Sr(u,m,v,!1,T,P)}function Sr(u,m,v,T,P,q){if(!m)throw Error("Invalid event type");const it=p(P)?!!P.capture:!!P;let Ct=Re(u);if(Ct||(u[Ht]=Ct=new lt(u)),v=Ct.add(m,v,T,it,q),v.proxy)return v;if(T=Ns(),v.proxy=T,T.src=u,T.listener=v,u.addEventListener)U||(P=it),P===void 0&&(P=!1),u.addEventListener(m.toString(),T,P);else if(u.attachEvent)u.attachEvent(Ve(m.toString()),T);else if(u.addListener&&u.removeListener)u.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return v}function Ns(){function u(v){return m.call(u.src,u.listener,v)}const m=In;return u}function Ds(u,m,v,T,P){if(Array.isArray(m))for(var q=0;q<m.length;q++)Ds(u,m[q],v,T,P);else T=p(T)?!!T.capture:!!T,v=wr(v),u&&u[Ee]?(u=u.i,q=String(m).toString(),q in u.g&&(m=u.g[q],v=It(m,v,T,P),v>-1&&(mt(m[v]),Array.prototype.splice.call(m,v,1),m.length==0&&(delete u.g[q],u.h--)))):u&&(u=Re(u))&&(m=u.g[m.toString()],u=-1,m&&(u=It(m,v,T,P)),(v=u>-1?m[u]:null)&&xs(v))}function xs(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[Ee])Tt(m.i,u);else{var v=u.type,T=u.proxy;m.removeEventListener?m.removeEventListener(v,T,u.capture):m.detachEvent?m.detachEvent(Ve(v),T):m.addListener&&m.removeListener&&m.removeListener(T),(v=Re(m))?(Tt(v,u),v.h==0&&(v.src=null,m[Ht]=null)):mt(u)}}}function Ve(u){return u in Oe?Oe[u]:Oe[u]="on"+u}function In(u,m){if(u.da)u=!0;else{m=new ne(m,this);const v=u.listener,T=u.ha||u.src;u.fa&&xs(u),u=v.call(T,m)}return u}function Re(u){return u=u[Ht],u instanceof lt?u:null}var Hi="__closure_events_fn_"+(Math.random()*1e9>>>0);function wr(u){return typeof u=="function"?u:(u[Hi]||(u[Hi]=function(m){return u.handleEvent(m)}),u[Hi])}function Te(){V.call(this),this.i=new lt(this),this.M=this,this.G=null}A(Te,V),Te.prototype[Ee]=!0,Te.prototype.removeEventListener=function(u,m,v,T){Ds(this,u,m,v,T)};function Ie(u,m){var v,T=u.G;if(T)for(v=[];T;T=T.G)v.push(T);if(u=u.M,T=m.type||m,typeof m=="string")m=new D(m,u);else if(m instanceof D)m.target=m.target||u;else{var P=m;m=new D(T,u),st(m,P)}P=!0;let q,it;if(v)for(it=v.length-1;it>=0;it--)q=m.g=v[it],P=Qn(q,T,!0,m)&&P;if(q=m.g=u,P=Qn(q,T,!0,m)&&P,P=Qn(q,T,!1,m)&&P,v)for(it=0;it<v.length;it++)q=m.g=v[it],P=Qn(q,T,!1,m)&&P}Te.prototype.N=function(){if(Te.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const v=u.g[m];for(let T=0;T<v.length;T++)mt(v[T]);delete u.g[m],u.h--}}this.G=null},Te.prototype.J=function(u,m,v,T){return this.i.add(String(u),m,!1,v,T)},Te.prototype.K=function(u,m,v,T){return this.i.add(String(u),m,!0,v,T)};function Qn(u,m,v,T){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let P=!0;for(let q=0;q<m.length;++q){const it=m[q];if(it&&!it.da&&it.capture==v){const Ct=it.listener,Ne=it.ha||it.src;it.fa&&Tt(u.i,it),P=Ct.call(Ne,T)!==!1&&P}}return P&&!T.defaultPrevented}function Ms(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=_(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(u,m||0)}function Os(u){u.g=Ms(()=>{u.g=null,u.i&&(u.i=!1,Os(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class Ye extends V{constructor(m,v){super(),this.m=m,this.l=v,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:Os(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Fi(u){V.call(this),this.h=u,this.g={}}A(Fi,V);var Vs=[];function Rr(u){kt(u.g,function(m,v){this.g.hasOwnProperty(v)&&xs(m)},u),u.g={}}Fi.prototype.N=function(){Fi.Z.N.call(this),Rr(this)},Fi.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var fn=d.JSON.stringify,Ra=d.JSON.parse,bi=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function Ir(){}function ks(){}var dn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Wt(){D.call(this,"d")}A(Wt,D);function ke(){D.call(this,"c")}A(ke,D);var oe={},ui=null;function Gi(){return ui=ui||new Te}oe.Ia="serverreachability";function Ia(u){D.call(this,oe.Ia,u)}A(Ia,D);function Cn(u){const m=Gi();Ie(m,new Ia(m))}oe.STAT_EVENT="statevent";function Qi(u,m){D.call(this,oe.STAT_EVENT,u),this.stat=m}A(Qi,D);function Jt(u){const m=Gi();Ie(m,new Qi(m,u))}oe.Ja="timingevent";function Nn(u,m){D.call(this,oe.Ja,u),this.size=m}A(Nn,D);function Dn(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function xn(){this.g=!0}xn.prototype.ua=function(){this.g=!1};function Ca(u,m,v,T,P,q){u.info(function(){if(u.g)if(q){var it="",Ct=q.split("&");for(let Xt=0;Xt<Ct.length;Xt++){var Ne=Ct[Xt].split("=");if(Ne.length>1){const pe=Ne[0];Ne=Ne[1];const Zn=pe.split("_");it=Zn.length>=2&&Zn[1]=="type"?it+(pe+"="+Ne+"&"):it+(pe+"=redacted&")}}}else it=null;else it=q;return"XMLHTTP REQ ("+T+") [attempt "+P+"]: "+m+`
`+v+`
`+it})}function Us(u,m,v,T,P,q,it){u.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+P+"]: "+m+`
`+v+`
`+q+" "+it})}function Mn(u,m,v,T){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Na(u,v)+(T?" "+T:"")})}function Ai(u,m){u.info(function(){return"TIMEOUT: "+m})}xn.prototype.info=function(){};function Na(u,m){if(!u.g)return m;if(!m)return null;try{const q=JSON.parse(m);if(q){for(u=0;u<q.length;u++)if(Array.isArray(q[u])){var v=q[u];if(!(v.length<2)){var T=v[1];if(Array.isArray(T)&&!(T.length<1)){var P=T[0];if(P!="noop"&&P!="stop"&&P!="close")for(let it=1;it<T.length;it++)T[it]=""}}}}return fn(q)}catch{return m}}var Yi={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Cr={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Ls;function Ki(){}A(Ki,Ir),Ki.prototype.g=function(){return new XMLHttpRequest},Ls=new Ki;function On(u){return encodeURIComponent(String(u))}function Da(u){var m=1;u=u.split(":");const v=[];for(;m>0&&u.length;)v.push(u.shift()),m--;return u.length&&v.push(u.join(":")),v}function Vn(u,m,v,T){this.j=u,this.i=m,this.l=v,this.S=T||1,this.V=new Fi(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new kn}function kn(){this.i=null,this.g="",this.h=!1}var be={},Ce={};function Un(u,m,v){u.M=1,u.A=ue(N(m)),u.u=v,u.R=!0,Nr(u,null)}function Nr(u,m){u.F=Date.now(),Yn(u),u.B=N(u.A);var v=u.B,T=u.S;Array.isArray(T)||(T=[String(T)]),Oa(v.i,"t",T),u.C=0,v=u.j.L,u.h=new kn,u.g=Mu(u.j,v?m:null,!u.u),u.P>0&&(u.O=new Ye(_(u.Y,u,u.g),u.P)),m=u.V,v=u.g,T=u.ba;var P="readystatechange";Array.isArray(P)||(P&&(Vs[0]=P.toString()),P=Vs);for(let q=0;q<P.length;q++){const it=fe(v,P[q],T||m.handleEvent,!1,m.h||m);if(!it)break;m.g[it.key]=it}m=u.J?M(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),Cn(),Ca(u.i,u.v,u.B,u.l,u.S,u.u)}Vn.prototype.ba=function(u){u=u.target;const m=this.O;m&&di(u)==3?m.j():this.Y(u)},Vn.prototype.Y=function(u){try{if(u==this.g)t:{const Ct=di(this.g),Ne=this.g.ya(),Xt=this.g.ca();if(!(Ct<3)&&(Ct!=3||this.g&&(this.h.h||this.g.la()||Je(this.g)))){this.K||Ct!=4||Ne==7||(Ne==8||Xt<=0?Cn(3):Cn(2)),Kn(this);var m=this.g.ca();this.X=m;var v=Qo(this);if(this.o=m==200,Us(this.i,this.v,this.B,this.l,this.S,Ct,m),this.o){if(this.U&&!this.L){e:{if(this.g){var T,P=this.g;if((T=P.g?P.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!w(T)){var q=T;break e}}q=null}if(u=q)Mn(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Xn(this,u);else{this.o=!1,this.m=3,Jt(12),mn(this),_n(this);break t}}if(this.R){u=!0;let pe;for(;!this.K&&this.C<v.length;)if(pe=xa(this,v),pe==Ce){Ct==4&&(this.m=4,Jt(14),u=!1),Mn(this.i,this.l,null,"[Incomplete Response]");break}else if(pe==be){this.m=4,Jt(15),Mn(this.i,this.l,v,"[Invalid Chunk]"),u=!1;break}else Mn(this.i,this.l,pe,null),Xn(this,pe);if(Ps(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ct!=4||v.length!=0||this.h.h||(this.m=1,Jt(16),u=!1),this.o=this.o&&u,!u)Mn(this.i,this.l,v,"[Invalid Chunked Response]"),mn(this),_n(this);else if(v.length>0&&!this.W){this.W=!0;var it=this.j;it.g==this&&it.aa&&!it.P&&(it.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),tl(it),it.P=!0,Jt(11))}}else Mn(this.i,this.l,v,null),Xn(this,v);Ct==4&&mn(this),this.o&&!this.K&&(Ct==4?Cu(this.j,this):(this.o=!1,Yn(this)))}else $i(this.g),m==400&&v.indexOf("Unknown SID")>0?(this.m=3,Jt(12)):(this.m=0,Jt(13)),mn(this),_n(this)}}}catch{}finally{}};function Qo(u){if(!Ps(u))return u.g.la();const m=Je(u.g);if(m==="")return"";let v="";const T=m.length,P=di(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return mn(u),_n(u),"";u.h.i=new d.TextDecoder}for(let q=0;q<T;q++)u.h.h=!0,v+=u.h.i.decode(m[q],{stream:!(P&&q==T-1)});return m.length=0,u.h.g+=v,u.C=0,u.h.g}function Ps(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function xa(u,m){var v=u.C,T=m.indexOf(`
`,v);return T==-1?Ce:(v=Number(m.substring(v,T)),isNaN(v)?be:(T+=1,T+v>m.length?Ce:(m=m.slice(T,T+v),u.C=T+v,m)))}Vn.prototype.cancel=function(){this.K=!0,mn(this)};function Yn(u){u.T=Date.now()+u.H,Dr(u,u.H)}function Dr(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=Dn(_(u.aa,u),m)}function Kn(u){u.D&&(d.clearTimeout(u.D),u.D=null)}Vn.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(Ai(this.i,this.B),this.M!=2&&(Cn(),Jt(17)),mn(this),this.m=2,_n(this)):Dr(this,this.T-u)};function _n(u){u.j.I==0||u.K||Cu(u.j,u)}function mn(u){Kn(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,Rr(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function Xn(u,m){try{var v=u.j;if(v.I!=0&&(v.g==u||Ln(v.h,u))){if(!u.L&&Ln(v.h,u)&&v.I==3){try{var T=v.Ba.g.parse(m)}catch{T=null}if(Array.isArray(T)&&T.length==3){var P=T;if(P[0]==0){t:if(!v.v){if(v.g)if(v.g.F+3e3<u.F)Pa(v),zr(v);else break t;Xs(v),Jt(18)}}else v.xa=P[1],0<v.xa-v.K&&P[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=Dn(_(v.Va,v),6e3));Ue(v.h)<=1&&v.ta&&(v.ta=void 0)}else Ni(v,11)}else if((u.L||v.g==u)&&Pa(v),!w(m))for(P=v.Ba.g.parse(m),m=0;m<P.length;m++){let Xt=P[m];const pe=Xt[0];if(!(pe<=v.K))if(v.K=pe,Xt=Xt[1],v.I==2)if(Xt[0]=="c"){v.M=Xt[1],v.ba=Xt[2];const Zn=Xt[3];Zn!=null&&(v.ka=Zn,v.j.info("VER="+v.ka));const Di=Xt[4];Di!=null&&(v.za=Di,v.j.info("SVER="+v.za));const mi=Xt[5];mi!=null&&typeof mi=="number"&&mi>0&&(T=1.5*mi,v.O=T,v.j.info("backChannelRequestTimeoutMs_="+T)),T=v;const gi=u.g;if(gi){const $s=gi.g?gi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if($s){var q=T.h;q.g||$s.indexOf("spdy")==-1&&$s.indexOf("quic")==-1&&$s.indexOf("h2")==-1||(q.j=q.l,q.g=new Set,q.h&&(xr(q,q.h),q.h=null))}if(T.G){const za=gi.g?gi.g.getResponseHeader("X-HTTP-Session-Id"):null;za&&(T.wa=za,ot(T.J,T.G,za))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-u.F,v.j.info("Handshake RTT: "+v.T+"ms")),T=v;var it=u;if(T.na=xu(T,T.L?T.ba:null,T.W),it.L){Mr(T.h,it);var Ct=it,Ne=T.O;Ne&&(Ct.H=Ne),Ct.D&&(Kn(Ct),Yn(Ct)),T.g=it}else Ru(T);v.i.length>0&&Ci(v)}else Xt[0]!="stop"&&Xt[0]!="close"||Ni(v,7);else v.I==3&&(Xt[0]=="stop"||Xt[0]=="close"?Xt[0]=="stop"?Ni(v,7):Zo(v):Xt[0]!="noop"&&v.l&&v.l.qa(Xt),v.A=0)}}Cn(4)}catch{}}var Ae=class{constructor(u,m){this.g=u,this.map=m}};function zs(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function js(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Ue(u){return u.h?1:u.g?u.g.size:0}function Ln(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function xr(u,m){u.g?u.g.add(m):u.h=m}function Mr(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}zs.prototype.cancel=function(){if(this.i=Bs(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Bs(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const v of u.g.values())m=m.concat(v.G);return m}return Q(u.i)}var qs=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ci(u,m){if(u){u=u.split("&");for(let v=0;v<u.length;v++){const T=u[v].indexOf("=");let P,q=null;T>=0?(P=u[v].substring(0,T),q=u[v].substring(T+1)):P=u[v],m(P,q?decodeURIComponent(q.replace(/\+/g," ")):"")}}}function gn(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof gn?(this.l=u.l,F(this,u.j),this.o=u.o,this.g=u.g,W(this,u.u),this.h=u.h,dt(this,Su(u.i)),this.m=u.m):u&&(m=String(u).match(qs))?(this.l=!1,F(this,m[1]||"",!0),this.o=_e(m[2]||""),this.g=_e(m[3]||"",!0),W(this,m[4]),this.h=_e(m[5]||"",!0),dt(this,m[6]||"",!0),this.m=_e(m[7]||"")):(this.l=!1,this.i=new Vr(null,this.l))}gn.prototype.toString=function(){const u=[];var m=this.j;m&&u.push($e(m,Si,!0),":");var v=this.g;return(v||m=="file")&&(u.push("//"),(m=this.o)&&u.push($e(m,Si,!0),"@"),u.push(On(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&u.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&u.push("/"),u.push($e(v,v.charAt(0)=="/"?Hs:Ma,!0))),(v=this.i.toString())&&u.push("?",v),(v=this.m)&&u.push("#",$e(v,bu)),u.join("")},gn.prototype.resolve=function(u){const m=N(this);let v=!!u.j;v?F(m,u.j):v=!!u.o,v?m.o=u.o:v=!!u.g,v?m.g=u.g:v=u.u!=null;var T=u.h;if(v)W(m,u.u);else if(v=!!u.h){if(T.charAt(0)!="/")if(this.g&&!this.h)T="/"+T;else{var P=m.h.lastIndexOf("/");P!=-1&&(T=m.h.slice(0,P+1)+T)}if(P=T,P==".."||P==".")T="";else if(P.indexOf("./")!=-1||P.indexOf("/.")!=-1){T=P.lastIndexOf("/",0)==0,P=P.split("/");const q=[];for(let it=0;it<P.length;){const Ct=P[it++];Ct=="."?T&&it==P.length&&q.push(""):Ct==".."?((q.length>1||q.length==1&&q[0]!="")&&q.pop(),T&&it==P.length&&q.push("")):(q.push(Ct),T=!0)}T=q.join("/")}else T=P}return v?m.h=T:v=u.i.toString()!=="",v?dt(m,Su(u.i)):v=!!u.m,v&&(m.m=u.m),m};function N(u){return new gn(u)}function F(u,m,v){u.j=v?_e(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function W(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function dt(u,m,v){m instanceof Vr?(u.i=m,Va(u.i,u.l)):(v||(m=$e(m,Or)),u.i=new Vr(m,u.l))}function ot(u,m,v){u.i.set(m,v)}function ue(u){return ot(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function _e(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function $e(u,m,v){return typeof u=="string"?(u=encodeURI(u).replace(m,ce),v&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function ce(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var Si=/[#\/\?@]/g,Ma=/[#\?:]/g,Hs=/[#\?]/g,Or=/[#\?@]/g,bu=/#/g;function Vr(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function vn(u){u.g||(u.g=new Map,u.h=0,u.i&&ci(u.i,function(m,v){u.add(decodeURIComponent(m.replace(/\+/g," ")),v)}))}s=Vr.prototype,s.add=function(u,m){vn(this),this.i=null,u=kr(this,u);let v=this.g.get(u);return v||this.g.set(u,v=[]),v.push(m),this.h+=1,this};function Au(u,m){vn(u),m=kr(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function Yo(u,m){return vn(u),m=kr(u,m),u.g.has(m)}s.forEach=function(u,m){vn(this),this.g.forEach(function(v,T){v.forEach(function(P){u.call(m,P,T,this)},this)},this)};function Ko(u,m){vn(u);let v=[];if(typeof m=="string")Yo(u,m)&&(v=v.concat(u.g.get(kr(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)v=v.concat(u[m]);return v}s.set=function(u,m){return vn(this),this.i=null,u=kr(this,u),Yo(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},s.get=function(u,m){return u?(u=Ko(this,u),u.length>0?String(u[0]):m):m};function Oa(u,m,v){Au(u,m),v.length>0&&(u.i=null,u.g.set(kr(u,m),Q(v)),u.h+=v.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let T=0;T<m.length;T++){var v=m[T];const P=On(v);v=Ko(this,v);for(let q=0;q<v.length;q++){let it=P;v[q]!==""&&(it+="="+On(v[q])),u.push(it)}}return this.i=u.join("&")};function Su(u){const m=new Vr;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function kr(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function Va(u,m){m&&!u.j&&(vn(u),u.i=null,u.g.forEach(function(v,T){const P=T.toLowerCase();T!=P&&(Au(this,T),Oa(this,P,v))},u)),u.j=m}function hi(u,m){const v=new xn;if(d.Image){const T=new Image;T.onload=b($n,v,"TestLoadImage: loaded",!0,m,T),T.onerror=b($n,v,"TestLoadImage: error",!1,m,T),T.onabort=b($n,v,"TestLoadImage: abort",!1,m,T),T.ontimeout=b($n,v,"TestLoadImage: timeout",!1,m,T),d.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=u}else m(!1)}function Xo(u,m){const v=new xn,T=new AbortController,P=setTimeout(()=>{T.abort(),$n(v,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:T.signal}).then(q=>{clearTimeout(P),q.ok?$n(v,"TestPingServer: ok",!0,m):$n(v,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(P),$n(v,"TestPingServer: error",!1,m)})}function $n(u,m,v,T,P){try{P&&(P.onload=null,P.onerror=null,P.onabort=null,P.ontimeout=null),T(v)}catch{}}function Ur(){this.g=new bi}function wi(u){this.i=u.Sb||null,this.h=u.ab||!1}A(wi,Ir),wi.prototype.g=function(){return new Fs(this.i,this.h)};function Fs(u,m){Te.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}A(Fs,Te),s=Fs.prototype,s.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,fi(this)},s.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Lr(this)),this.readyState=0},s.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,fi(this)),this.g&&(this.readyState=3,fi(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;ka(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function ka(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}s.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?Lr(this):fi(this),this.readyState==3&&ka(this)}},s.Oa=function(u){this.g&&(this.response=this.responseText=u,Lr(this))},s.Na=function(u){this.g&&(this.response=u,Lr(this))},s.ga=function(){this.g&&Lr(this)};function Lr(u){u.readyState=4,u.l=null,u.j=null,u.B=null,fi(u)}s.setRequestHeader=function(u,m){this.A.append(u,m)},s.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var v=m.next();!v.done;)v=v.value,u.push(v[0]+": "+v[1]),v=m.next();return u.join(`\r
`)};function fi(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Fs.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Jn(u){let m="";return kt(u,function(v,T){m+=T,m+=":",m+=v,m+=`\r
`}),m}function Gs(u,m,v){t:{for(T in v){var T=!1;break t}T=!0}T||(v=Jn(v),typeof u=="string"?v!=null&&On(v):ot(u,m,v))}function ie(u){Te.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}A(ie,Te);var Ri=/^https?$/i,$o=["POST","PUT"];s=ie.prototype,s.Fa=function(u){this.H=u},s.ea=function(u,m,v,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Ls.g(),this.g.onreadystatechange=O(_(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(q){Qs(this,q);return}if(u=v||"",v=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var P in T)v.set(P,T[P]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const q of T.keys())v.set(q,T.get(q));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(v.keys()).find(q=>q.toLowerCase()=="content-type"),P=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call($o,m,void 0)>=0)||T||P||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[q,it]of v)this.g.setRequestHeader(q,it);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(q){Qs(this,q)}};function Qs(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,Jo(u),Xi(u)}function Jo(u){u.A||(u.A=!0,Ie(u,"complete"),Ie(u,"error"))}s.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,Ie(this,"complete"),Ie(this,"abort"),Xi(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Xi(this,!0)),ie.Z.N.call(this)},s.Ca=function(){this.u||(this.B||this.v||this.j?Ys(this):this.Xa())},s.Xa=function(){Ys(this)};function Ys(u){if(u.h&&typeof c<"u"){if(u.v&&di(u)==4)setTimeout(u.Ca.bind(u),0);else if(Ie(u,"readystatechange"),di(u)==4){u.h=!1;try{const q=u.ca();t:switch(q){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var v;if(!(v=m)){var T;if(T=q===0){let it=String(u.D).match(qs)[1]||null;!it&&d.self&&d.self.location&&(it=d.self.location.protocol.slice(0,-1)),T=!Ri.test(it?it.toLowerCase():"")}v=T}if(v)Ie(u,"complete"),Ie(u,"success");else{u.o=6;try{var P=di(u)>2?u.g.statusText:""}catch{P=""}u.l=P+" ["+u.ca()+"]",Jo(u)}}finally{Xi(u)}}}}function Xi(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const v=u.g;u.g=null,m||Ie(u,"ready");try{v.onreadystatechange=null}catch{}}}s.isActive=function(){return!!this.g};function di(u){return u.g?u.g.readyState:0}s.ca=function(){try{return di(this)>2?this.g.status:-1}catch{return-1}},s.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),Ra(m)}};function Je(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function $i(u){const m={};u=(u.g&&di(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<u.length;T++){if(w(u[T]))continue;var v=Da(u[T]);const P=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const q=m[P]||[];m[P]=q,q.push(v)}qt(m,function(T){return T.join(", ")})}s.ya=function(){return this.o},s.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ii(u,m,v){return v&&v.internalChannelParams&&v.internalChannelParams[u]||m}function Pr(u){this.za=0,this.i=[],this.j=new xn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Ii("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Ii("baseRetryDelayMs",5e3,u),this.Za=Ii("retryDelaySeedMs",1e4,u),this.Ta=Ii("forwardChannelMaxRetries",2,u),this.va=Ii("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new zs(u&&u.concurrentRequestLimit),this.Ba=new Ur,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}s=Pr.prototype,s.ka=8,s.I=1,s.connect=function(u,m,v,T){Jt(0),this.W=u,this.H=m||{},v&&T!==void 0&&(this.H.OSID=v,this.H.OAID=T),this.F=this.X,this.J=xu(this,null,this.W),Ci(this)};function Zo(u){if(Ua(u),u.I==3){var m=u.V++,v=N(u.J);if(ot(v,"SID",u.M),ot(v,"RID",m),ot(v,"TYPE","terminate"),Ks(u,v),m=new Vn(u,u.j,m),m.M=2,m.A=ue(N(v)),v=!1,d.navigator&&d.navigator.sendBeacon)try{v=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!v&&d.Image&&(new Image().src=m.A,v=!0),v||(m.g=Mu(m.j,null),m.g.ea(m.A)),m.F=Date.now(),Yn(m)}Du(u)}function zr(u){u.g&&(tl(u),u.g.cancel(),u.g=null)}function Ua(u){zr(u),u.v&&(d.clearTimeout(u.v),u.v=null),Pa(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function Ci(u){if(!js(u.h)&&!u.m){u.m=!0;var m=u.Ea;Kt||S(),xt||(Kt(),xt=!0),C.add(m,u),u.D=0}}function La(u,m){return Ue(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=Dn(_(u.Ea,u,m),Nu(u,u.D)),u.D++,!0)}s.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const P=new Vn(this,this.j,u);let q=this.o;if(this.U&&(q?(q=M(q),st(q,this.U)):q=this.U),this.u!==null||this.R||(P.J=q,q=null),this.S)t:{for(var m=0,v=0;v<this.i.length;v++){e:{var T=this.i[v];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break e}T=void 0}if(T===void 0)break;if(m+=T,m>4096){m=v;break t}if(m===4096||v===this.i.length-1){m=v+1;break t}}m=1e3}else m=1e3;m=wu(this,P,m),v=N(this.J),ot(v,"RID",u),ot(v,"CVER",22),this.G&&ot(v,"X-HTTP-Session-Id",this.G),Ks(this,v),q&&(this.R?m="headers="+On(Jn(q))+"&"+m:this.u&&Gs(v,this.u,q)),xr(this.h,P),this.Ra&&ot(v,"TYPE","init"),this.S?(ot(v,"$req",m),ot(v,"SID","null"),P.U=!0,Un(P,v,null)):Un(P,v,m),this.I=2}}else this.I==3&&(u?Wo(this,u):this.i.length==0||js(this.h)||Wo(this))};function Wo(u,m){var v;m?v=m.l:v=u.V++;const T=N(u.J);ot(T,"SID",u.M),ot(T,"RID",v),ot(T,"AID",u.K),Ks(u,T),u.u&&u.o&&Gs(T,u.u,u.o),v=new Vn(u,u.j,v,u.D+1),u.u===null&&(v.J=u.o),m&&(u.i=m.G.concat(u.i)),m=wu(u,v,1e3),v.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),xr(u.h,v),Un(v,T,m)}function Ks(u,m){u.H&&kt(u.H,function(v,T){ot(m,T,v)}),u.l&&kt({},function(v,T){ot(m,T,v)})}function wu(u,m,v){v=Math.min(u.i.length,v);const T=u.l?_(u.l.Ka,u.l,u):null;t:{var P=u.i;let Ct=-1;for(;;){const Ne=["count="+v];Ct==-1?v>0?(Ct=P[0].g,Ne.push("ofs="+Ct)):Ct=0:Ne.push("ofs="+Ct);let Xt=!0;for(let pe=0;pe<v;pe++){var q=P[pe].g;const Zn=P[pe].map;if(q-=Ct,q<0)Ct=Math.max(0,P[pe].g-100),Xt=!1;else try{q="req"+q+"_"||"";try{var it=Zn instanceof Map?Zn:Object.entries(Zn);for(const[Di,mi]of it){let gi=mi;p(mi)&&(gi=fn(mi)),Ne.push(q+Di+"="+encodeURIComponent(gi))}}catch(Di){throw Ne.push(q+"type="+encodeURIComponent("_badmap")),Di}}catch{T&&T(Zn)}}if(Xt){it=Ne.join("&");break t}}it=void 0}return u=u.i.splice(0,v),m.G=u,it}function Ru(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;Kt||S(),xt||(Kt(),xt=!0),C.add(m,u),u.A=0}}function Xs(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=Dn(_(u.Da,u),Nu(u,u.A)),u.A++,!0)}s.Da=function(){if(this.v=null,Iu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=Dn(_(this.Wa,this),u)}},s.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Jt(10),zr(this),Iu(this))};function tl(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function Iu(u){u.g=new Vn(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=N(u.na);ot(m,"RID","rpc"),ot(m,"SID",u.M),ot(m,"AID",u.K),ot(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&ot(m,"TO",u.ia),ot(m,"TYPE","xmlhttp"),Ks(u,m),u.u&&u.o&&Gs(m,u.u,u.o),u.O&&(u.g.H=u.O);var v=u.g;u=u.ba,v.M=1,v.A=ue(N(m)),v.u=null,v.R=!0,Nr(v,u)}s.Va=function(){this.C!=null&&(this.C=null,zr(this),Xs(this),Jt(19))};function Pa(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function Cu(u,m){var v=null;if(u.g==m){Pa(u),tl(u),u.g=null;var T=2}else if(Ln(u.h,m))v=m.G,Mr(u.h,m),T=1;else return;if(u.I!=0){if(m.o)if(T==1){v=m.u?m.u.length:0,m=Date.now()-m.F;var P=u.D;T=Gi(),Ie(T,new Nn(T,v)),Ci(u)}else Ru(u);else if(P=m.m,P==3||P==0&&m.X>0||!(T==1&&La(u,m)||T==2&&Xs(u)))switch(v&&v.length>0&&(m=u.h,m.i=m.i.concat(v)),P){case 1:Ni(u,5);break;case 4:Ni(u,10);break;case 3:Ni(u,6);break;default:Ni(u,2)}}}function Nu(u,m){let v=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(v*=2),v*m}function Ni(u,m){if(u.j.info("Error code "+m),m==2){var v=_(u.bb,u),T=u.Ua;const P=!T;T=new gn(T||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||F(T,"https"),ue(T),P?hi(T.toString(),v):Xo(T.toString(),v)}else Jt(2);u.I=0,u.l&&u.l.pa(m),Du(u),Ua(u)}s.bb=function(u){u?(this.j.info("Successfully pinged google.com"),Jt(2)):(this.j.info("Failed to ping google.com"),Jt(1))};function Du(u){if(u.I=0,u.ja=[],u.l){const m=Bs(u.h);(m.length!=0||u.i.length!=0)&&(tt(u.ja,m),tt(u.ja,u.i),u.h.i.length=0,Q(u.i),u.i.length=0),u.l.oa()}}function xu(u,m,v){var T=v instanceof gn?N(v):new gn(v);if(T.g!="")m&&(T.g=m+"."+T.g),W(T,T.u);else{var P=d.location;T=P.protocol,m=m?m+"."+P.hostname:P.hostname,P=+P.port;const q=new gn(null);T&&F(q,T),m&&(q.g=m),P&&W(q,P),v&&(q.h=v),T=q}return v=u.G,m=u.wa,v&&m&&ot(T,v,m),ot(T,"VER",u.ka),Ks(u,T),T}function Mu(u,m,v){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new ie(new wi({ab:v})):new ie(u.ma),m.Fa(u.L),m}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function Ou(){}s=Ou.prototype,s.ra=function(){},s.qa=function(){},s.pa=function(){},s.oa=function(){},s.isActive=function(){return!0},s.Ka=function(){};function jr(){}jr.prototype.g=function(u,m){return new pn(u,m)};function pn(u,m){Te.call(this),this.g=new Pr(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!w(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!w(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Ji(this)}A(pn,Te),pn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},pn.prototype.close=function(){Zo(this.g)},pn.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var v={};v.__data__=u,u=v}else this.v&&(v={},v.__data__=fn(u),u=v);m.i.push(new Ae(m.Ya++,u)),m.I==3&&Ci(m)},pn.prototype.N=function(){this.g.l=null,delete this.j,Zo(this.g),delete this.g,pn.Z.N.call(this)};function Vu(u){Wt.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){t:{for(const v in m){u=v;break t}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}A(Vu,Wt);function ku(){ke.call(this),this.status=1}A(ku,ke);function Ji(u){this.g=u}A(Ji,Ou),Ji.prototype.ra=function(){Ie(this.g,"a")},Ji.prototype.qa=function(u){Ie(this.g,new Vu(u))},Ji.prototype.pa=function(u){Ie(this.g,new ku)},Ji.prototype.oa=function(){Ie(this.g,"b")},jr.prototype.createWebChannel=jr.prototype.g,pn.prototype.send=pn.prototype.o,pn.prototype.open=pn.prototype.m,pn.prototype.close=pn.prototype.close,B1=function(){return new jr},j1=function(){return Gi()},z1=oe,gm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Yi.NO_ERROR=0,Yi.TIMEOUT=8,Yi.HTTP_ERROR=6,Zc=Yi,Cr.COMPLETE="complete",P1=Cr,ks.EventType=dn,dn.OPEN="a",dn.CLOSE="b",dn.ERROR="c",dn.MESSAGE="d",Te.prototype.listen=Te.prototype.J,Bl=ks,ie.prototype.listenOnce=ie.prototype.K,ie.prototype.getLastError=ie.prototype.Ha,ie.prototype.getLastErrorCode=ie.prototype.ya,ie.prototype.getStatus=ie.prototype.ca,ie.prototype.getResponseJson=ie.prototype.La,ie.prototype.getResponseText=ie.prototype.la,ie.prototype.send=ie.prototype.ea,ie.prototype.setWithCredentials=ie.prototype.Fa,L1=ie}).apply(typeof jc<"u"?jc:typeof self<"u"?self:typeof window<"u"?window:{});const k0="@firebase/firestore",U0="4.9.2";let un=class{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}};un.UNAUTHENTICATED=new un(null),un.GOOGLE_CREDENTIALS=new un("google-credentials-uid"),un.FIRST_PARTY=new un("first-party-uid"),un.MOCK_USER=new un("mock-user");let Bo="12.3.0";const ba=new Pm("@firebase/firestore");function _o(){return ba.logLevel}function ut(s,...t){if(ba.logLevel<=Pt.DEBUG){const i=t.map(Xm);ba.debug(`Firestore (${Bo}): ${s}`,...i)}}function Tr(s,...t){if(ba.logLevel<=Pt.ERROR){const i=t.map(Xm);ba.error(`Firestore (${Bo}): ${s}`,...i)}}function xo(s,...t){if(ba.logLevel<=Pt.WARN){const i=t.map(Xm);ba.warn(`Firestore (${Bo}): ${s}`,...i)}}function Xm(s){if(typeof s=="string")return s;try{return(function(i){return JSON.stringify(i)})(s)}catch{return s}}function Et(s,t,i){let a="Unexpected state";typeof t=="string"?a=t:i=t,q1(s,a,i)}function q1(s,t,i){let a=`FIRESTORE (${Bo}) INTERNAL ASSERTION FAILED: ${t} (ID: ${s.toString(16)})`;if(i!==void 0)try{a+=" CONTEXT: "+JSON.stringify(i)}catch{a+=" CONTEXT: "+i}throw Tr(a),new Error(a)}function Zt(s,t,i,a){let l="Unexpected state";typeof i=="string"?l=i:a=i,s||q1(t,l,a)}function Rt(s,t){return s}const J={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ct extends Ar{constructor(t,i){super(t,i),this.code=t,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class pa{constructor(){this.promise=new Promise(((t,i)=>{this.resolve=t,this.reject=i}))}}class H1{constructor(t,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class Bw{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,i){t.enqueueRetryable((()=>i(un.UNAUTHENTICATED)))}shutdown(){}}class qw{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,i){this.changeListener=i,t.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class Hw{constructor(t){this.t=t,this.currentUser=un.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,i){Zt(this.o===void 0,42304);let a=this.i;const l=y=>this.i!==a?(a=this.i,i(y)):Promise.resolve();let c=new pa;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new pa,t.enqueueRetryable((()=>l(this.currentUser)))};const d=()=>{const y=c;t.enqueueRetryable((async()=>{await y.promise,await l(this.currentUser)}))},p=y=>{ut("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=y,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((y=>p(y))),setTimeout((()=>{if(!this.auth){const y=this.t.getImmediate({optional:!0});y?p(y):(ut("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new pa)}}),0),d()}getToken(){const t=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((a=>this.i!==t?(ut("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(Zt(typeof a.accessToken=="string",31837,{l:a}),new H1(a.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Zt(t===null||typeof t=="string",2055,{h:t}),new un(t)}}class Fw{constructor(t,i,a){this.P=t,this.T=i,this.I=a,this.type="FirstParty",this.user=un.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class Gw{constructor(t,i,a){this.P=t,this.T=i,this.I=a}getToken(){return Promise.resolve(new Fw(this.P,this.T,this.I))}start(t,i){t.enqueueRetryable((()=>i(un.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class L0{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Qw{constructor(t,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,oi(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,i){Zt(this.o===void 0,3512);const a=c=>{c.error!=null&&ut("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.m;return this.m=c.token,ut("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(c.token):Promise.resolve()};this.o=c=>{t.enqueueRetryable((()=>a(c)))};const l=c=>{ut("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>l(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?l(c):ut("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new L0(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((i=>i?(Zt(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new L0(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function Yw(s){const t=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(s);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(i);else for(let a=0;a<s;a++)i[a]=Math.floor(256*Math.random());return i}class $m{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const l=Yw(40);for(let c=0;c<l.length;++c)a.length<20&&l[c]<i&&(a+=t.charAt(l[c]%62))}return a}}function zt(s,t){return s<t?-1:s>t?1:0}function pm(s,t){const i=Math.min(s.length,t.length);for(let a=0;a<i;a++){const l=s.charAt(a),c=t.charAt(a);if(l!==c)return Zd(l)===Zd(c)?zt(l,c):Zd(l)?1:-1}return zt(s.length,t.length)}const Kw=55296,Xw=57343;function Zd(s){const t=s.charCodeAt(0);return t>=Kw&&t<=Xw}function Mo(s,t,i){return s.length===t.length&&s.every(((a,l)=>i(a,t[l])))}const P0="__name__";class ki{constructor(t,i,a){i===void 0?i=0:i>t.length&&Et(637,{offset:i,range:t.length}),a===void 0?a=t.length-i:a>t.length-i&&Et(1746,{length:a,range:t.length-i}),this.segments=t,this.offset=i,this.len=a}get length(){return this.len}isEqual(t){return ki.comparator(this,t)===0}child(t){const i=this.segments.slice(this.offset,this.limit());return t instanceof ki?t.forEach((a=>{i.push(a)})):i.push(t),this.construct(i)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}forEach(t){for(let i=this.offset,a=this.limit();i<a;i++)t(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,i){const a=Math.min(t.length,i.length);for(let l=0;l<a;l++){const c=ki.compareSegments(t.get(l),i.get(l));if(c!==0)return c}return zt(t.length,i.length)}static compareSegments(t,i){const a=ki.isNumericId(t),l=ki.isNumericId(i);return a&&!l?-1:!a&&l?1:a&&l?ki.extractNumericId(t).compare(ki.extractNumericId(i)):pm(t,i)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return _s.fromString(t.substring(4,t.length-2))}}class he extends ki{construct(t,i,a){return new he(t,i,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const i=[];for(const a of t){if(a.indexOf("//")>=0)throw new ct(J.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);i.push(...a.split("/").filter((l=>l.length>0)))}return new he(i)}static emptyPath(){return new he([])}}const $w=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class rn extends ki{construct(t,i,a){return new rn(t,i,a)}static isValidIdentifier(t){return $w.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),rn.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===P0}static keyField(){return new rn([P0])}static fromServerFormat(t){const i=[];let a="",l=0;const c=()=>{if(a.length===0)throw new ct(J.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(a),a=""};let d=!1;for(;l<t.length;){const p=t[l];if(p==="\\"){if(l+1===t.length)throw new ct(J.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const y=t[l+1];if(y!=="\\"&&y!=="."&&y!=="`")throw new ct(J.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);a+=y,l+=2}else p==="`"?(d=!d,l++):p!=="."||d?(a+=p,l++):(c(),l++)}if(c(),d)throw new ct(J.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new rn(i)}static emptyPath(){return new rn([])}}class pt{constructor(t){this.path=t}static fromPath(t){return new pt(he.fromString(t))}static fromName(t){return new pt(he.fromString(t).popFirst(5))}static empty(){return new pt(he.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&he.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,i){return he.comparator(t.path,i.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new pt(new he(t.slice()))}}function F1(s,t,i){if(!i)throw new ct(J.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${t}.`)}function Jw(s,t,i,a){if(t===!0&&a===!0)throw new ct(J.INVALID_ARGUMENT,`${s} and ${i} cannot be used together.`)}function z0(s){if(!pt.isDocumentKey(s))throw new ct(J.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function j0(s){if(pt.isDocumentKey(s))throw new ct(J.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${s} has ${s.length}.`)}function G1(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}function Nh(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const t=(function(a){return a.constructor?a.constructor.name:null})(s);return t?`a custom ${t} object`:"an object"}}return typeof s=="function"?"a function":Et(12329,{type:typeof s})}function vs(s,t){if("_delegate"in s&&(s=s._delegate),!(s instanceof t)){if(t.name===s.constructor.name)throw new ct(J.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=Nh(s);throw new ct(J.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${i}`)}}return s}function He(s,t){const i={typeString:s};return t&&(i.value=t),i}function gu(s,t){if(!G1(s))throw new ct(J.INVALID_ARGUMENT,"JSON must be an object");let i;for(const a in t)if(t[a]){const l=t[a].typeString,c="value"in t[a]?{value:t[a].value}:void 0;if(!(a in s)){i=`JSON missing required field: '${a}'`;break}const d=s[a];if(l&&typeof d!==l){i=`JSON field '${a}' must be a ${l}.`;break}if(c!==void 0&&d!==c.value){i=`Expected '${a}' field to equal '${c.value}'`;break}}if(i)throw new ct(J.INVALID_ARGUMENT,i);return!0}const B0=-62135596800,q0=1e6;class ge{static now(){return ge.fromMillis(Date.now())}static fromDate(t){return ge.fromMillis(t.getTime())}static fromMillis(t){const i=Math.floor(t/1e3),a=Math.floor((t-1e3*i)*q0);return new ge(i,a)}constructor(t,i){if(this.seconds=t,this.nanoseconds=i,i<0)throw new ct(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new ct(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(t<B0)throw new ct(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new ct(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/q0}_compareTo(t){return this.seconds===t.seconds?zt(this.nanoseconds,t.nanoseconds):zt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ge._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(gu(t,ge._jsonSchema))return new ge(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-B0;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ge._jsonSchemaVersion="firestore/timestamp/1.0",ge._jsonSchema={type:He("string",ge._jsonSchemaVersion),seconds:He("number"),nanoseconds:He("number")};class At{static fromTimestamp(t){return new At(t)}static min(){return new At(new ge(0,0))}static max(){return new At(new ge(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const tu=-1;function Zw(s,t){const i=s.toTimestamp().seconds,a=s.toTimestamp().nanoseconds+1,l=At.fromTimestamp(a===1e9?new ge(i+1,0):new ge(i,a));return new Ts(l,pt.empty(),t)}function Ww(s){return new Ts(s.readTime,s.key,tu)}class Ts{constructor(t,i,a){this.readTime=t,this.documentKey=i,this.largestBatchId=a}static min(){return new Ts(At.min(),pt.empty(),tu)}static max(){return new Ts(At.max(),pt.empty(),tu)}}function tR(s,t){let i=s.readTime.compareTo(t.readTime);return i!==0?i:(i=pt.comparator(s.documentKey,t.documentKey),i!==0?i:zt(s.largestBatchId,t.largestBatchId))}const eR="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class nR{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}async function qo(s){if(s.code!==J.FAILED_PRECONDITION||s.message!==eR)throw s;ut("LocalStore","Unexpectedly lost primary lease")}class Z{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(t){return this.next(void 0,t)}next(t,i){return this.callbackAttached&&Et(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(t,this.result):new Z(((a,l)=>{this.nextCallback=c=>{this.wrapSuccess(t,c).next(a,l)},this.catchCallback=c=>{this.wrapFailure(i,c).next(a,l)}}))}toPromise(){return new Promise(((t,i)=>{this.next(t,i)}))}wrapUserFunction(t){try{const i=t();return i instanceof Z?i:Z.resolve(i)}catch(i){return Z.reject(i)}}wrapSuccess(t,i){return t?this.wrapUserFunction((()=>t(i))):Z.resolve(i)}wrapFailure(t,i){return t?this.wrapUserFunction((()=>t(i))):Z.reject(i)}static resolve(t){return new Z(((i,a)=>{i(t)}))}static reject(t){return new Z(((i,a)=>{a(t)}))}static waitFor(t){return new Z(((i,a)=>{let l=0,c=0,d=!1;t.forEach((p=>{++l,p.next((()=>{++c,d&&c===l&&i()}),(y=>a(y)))})),d=!0,c===l&&i()}))}static or(t){let i=Z.resolve(!1);for(const a of t)i=i.next((l=>l?Z.resolve(l):a()));return i}static forEach(t,i){const a=[];return t.forEach(((l,c)=>{a.push(i.call(this,l,c))})),this.waitFor(a)}static mapArray(t,i){return new Z(((a,l)=>{const c=t.length,d=new Array(c);let p=0;for(let y=0;y<c;y++){const _=y;i(t[_]).next((b=>{d[_]=b,++p,p===c&&a(d)}),(b=>l(b)))}}))}static doWhile(t,i){return new Z(((a,l)=>{const c=()=>{t()===!0?i().next((()=>{c()}),l):a()};c()}))}}function iR(s){const t=s.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function Ho(s){return s.name==="IndexedDbTransactionError"}class Dh{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=a=>this.ae(a),this.ue=a=>i.writeSequenceNumber(a))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}Dh.ce=-1;const Jm=-1;function xh(s){return s==null}function dh(s){return s===0&&1/s==-1/0}function rR(s){return typeof s=="number"&&Number.isInteger(s)&&!dh(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}const Q1="";function sR(s){let t="";for(let i=0;i<s.length;i++)t.length>0&&(t=H0(t)),t=aR(s.get(i),t);return H0(t)}function aR(s,t){let i=t;const a=s.length;for(let l=0;l<a;l++){const c=s.charAt(l);switch(c){case"\0":i+="";break;case Q1:i+="";break;default:i+=c}}return i}function H0(s){return s+Q1+""}function F0(s){let t=0;for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&t++;return t}function Is(s,t){for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&t(i,s[i])}function Y1(s){for(const t in s)if(Object.prototype.hasOwnProperty.call(s,t))return!1;return!0}class ve{constructor(t,i){this.comparator=t,this.root=i||nn.EMPTY}insert(t,i){return new ve(this.comparator,this.root.insert(t,i,this.comparator).copy(null,null,nn.BLACK,null,null))}remove(t){return new ve(this.comparator,this.root.remove(t,this.comparator).copy(null,null,nn.BLACK,null,null))}get(t){let i=this.root;for(;!i.isEmpty();){const a=this.comparator(t,i.key);if(a===0)return i.value;a<0?i=i.left:a>0&&(i=i.right)}return null}indexOf(t){let i=0,a=this.root;for(;!a.isEmpty();){const l=this.comparator(t,a.key);if(l===0)return i+a.left.size;l<0?a=a.left:(i+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((i,a)=>(t(i,a),!1)))}toString(){const t=[];return this.inorderTraversal(((i,a)=>(t.push(`${i}:${a}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Bc(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Bc(this.root,t,this.comparator,!1)}getReverseIterator(){return new Bc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Bc(this.root,t,this.comparator,!0)}}class Bc{constructor(t,i,a,l){this.isReverse=l,this.nodeStack=[];let c=1;for(;!t.isEmpty();)if(c=i?a(t.key,i):1,i&&l&&(c*=-1),c<0)t=this.isReverse?t.left:t.right;else{if(c===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const i={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class nn{constructor(t,i,a,l,c){this.key=t,this.value=i,this.color=a??nn.RED,this.left=l??nn.EMPTY,this.right=c??nn.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,i,a,l,c){return new nn(t??this.key,i??this.value,a??this.color,l??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,a){let l=this;const c=a(t,l.key);return l=c<0?l.copy(null,null,null,l.left.insert(t,i,a),null):c===0?l.copy(null,i,null,null,null):l.copy(null,null,null,null,l.right.insert(t,i,a)),l.fixUp()}removeMin(){if(this.left.isEmpty())return nn.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,i){let a,l=this;if(i(t,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(t,i),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),i(t,l.key)===0){if(l.right.isEmpty())return nn.EMPTY;a=l.right.min(),l=l.copy(a.key,a.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(t,i))}return l.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,nn.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,nn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Et(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Et(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw Et(27949);return t+(this.isRed()?0:1)}}nn.EMPTY=null,nn.RED=!0,nn.BLACK=!1;nn.EMPTY=new class{constructor(){this.size=0}get key(){throw Et(57766)}get value(){throw Et(16141)}get color(){throw Et(16727)}get left(){throw Et(29726)}get right(){throw Et(36894)}copy(t,i,a,l,c){return this}insert(t,i,a){return new nn(t,i)}remove(t,i){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Qe{constructor(t){this.comparator=t,this.data=new ve(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((i,a)=>(t(i),!1)))}forEachInRange(t,i){const a=this.data.getIteratorFrom(t[0]);for(;a.hasNext();){const l=a.getNext();if(this.comparator(l.key,t[1])>=0)return;i(l.key)}}forEachWhile(t,i){let a;for(a=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();a.hasNext();)if(!t(a.getNext().key))return}firstAfterOrEqual(t){const i=this.data.getIteratorFrom(t);return i.hasNext()?i.getNext().key:null}getIterator(){return new G0(this.data.getIterator())}getIteratorFrom(t){return new G0(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let i=this;return i.size<t.size&&(i=t,t=this),t.forEach((a=>{i=i.add(a)})),i}isEqual(t){if(!(t instanceof Qe)||this.size!==t.size)return!1;const i=this.data.getIterator(),a=t.data.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=a.getNext().key;if(this.comparator(l,c)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((i=>{t.push(i)})),t}toString(){const t=[];return this.forEach((i=>t.push(i))),"SortedSet("+t.toString()+")"}copy(t){const i=new Qe(this.comparator);return i.data=t,i}}class G0{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Gn{constructor(t){this.fields=t,t.sort(rn.comparator)}static empty(){return new Gn([])}unionWith(t){let i=new Qe(rn.comparator);for(const a of this.fields)i=i.add(a);for(const a of t)i=i.add(a);return new Gn(i.toArray())}covers(t){for(const i of this.fields)if(i.isPrefixOf(t))return!0;return!1}isEqual(t){return Mo(this.fields,t.fields,((i,a)=>i.isEqual(a)))}}class K1 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class an{constructor(t){this.binaryString=t}static fromBase64String(t){const i=(function(l){try{return atob(l)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new K1("Invalid base64 string: "+c):c}})(t);return new an(i)}static fromUint8Array(t){const i=(function(l){let c="";for(let d=0;d<l.length;++d)c+=String.fromCharCode(l[d]);return c})(t);return new an(i)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const a=new Uint8Array(i.length);for(let l=0;l<i.length;l++)a[l]=i.charCodeAt(l);return a})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return zt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}an.EMPTY_BYTE_STRING=new an("");const oR=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function bs(s){if(Zt(!!s,39018),typeof s=="string"){let t=0;const i=oR.exec(s);if(Zt(!!i,46558,{timestamp:s}),i[1]){let l=i[1];l=(l+"000000000").substr(0,9),t=Number(l)}const a=new Date(s);return{seconds:Math.floor(a.getTime()/1e3),nanos:t}}return{seconds:Me(s.seconds),nanos:Me(s.nanos)}}function Me(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function As(s){return typeof s=="string"?an.fromBase64String(s):an.fromUint8Array(s)}const X1="server_timestamp",$1="__type__",J1="__previous_value__",Z1="__local_write_time__";function Zm(s){return(s?.mapValue?.fields||{})[$1]?.stringValue===X1}function Mh(s){const t=s.mapValue.fields[J1];return Zm(t)?Mh(t):t}function eu(s){const t=bs(s.mapValue.fields[Z1].timestampValue);return new ge(t.seconds,t.nanos)}class lR{constructor(t,i,a,l,c,d,p,y,_,b){this.databaseId=t,this.appId=i,this.persistenceKey=a,this.host=l,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=p,this.longPollingOptions=y,this.useFetchStreams=_,this.isUsingEmulator=b}}const mh="(default)";class nu{constructor(t,i){this.projectId=t,this.database=i||mh}static empty(){return new nu("","")}get isDefaultDatabase(){return this.database===mh}isEqual(t){return t instanceof nu&&t.projectId===this.projectId&&t.database===this.database}}const W1="__type__",uR="__max__",qc={mapValue:{}},tE="__vector__",gh="value";function Ss(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?Zm(s)?4:hR(s)?9007199254740991:cR(s)?10:11:Et(28295,{value:s})}function qi(s,t){if(s===t)return!0;const i=Ss(s);if(i!==Ss(t))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===t.booleanValue;case 4:return eu(s).isEqual(eu(t));case 3:return(function(l,c){if(typeof l.timestampValue=="string"&&typeof c.timestampValue=="string"&&l.timestampValue.length===c.timestampValue.length)return l.timestampValue===c.timestampValue;const d=bs(l.timestampValue),p=bs(c.timestampValue);return d.seconds===p.seconds&&d.nanos===p.nanos})(s,t);case 5:return s.stringValue===t.stringValue;case 6:return(function(l,c){return As(l.bytesValue).isEqual(As(c.bytesValue))})(s,t);case 7:return s.referenceValue===t.referenceValue;case 8:return(function(l,c){return Me(l.geoPointValue.latitude)===Me(c.geoPointValue.latitude)&&Me(l.geoPointValue.longitude)===Me(c.geoPointValue.longitude)})(s,t);case 2:return(function(l,c){if("integerValue"in l&&"integerValue"in c)return Me(l.integerValue)===Me(c.integerValue);if("doubleValue"in l&&"doubleValue"in c){const d=Me(l.doubleValue),p=Me(c.doubleValue);return d===p?dh(d)===dh(p):isNaN(d)&&isNaN(p)}return!1})(s,t);case 9:return Mo(s.arrayValue.values||[],t.arrayValue.values||[],qi);case 10:case 11:return(function(l,c){const d=l.mapValue.fields||{},p=c.mapValue.fields||{};if(F0(d)!==F0(p))return!1;for(const y in d)if(d.hasOwnProperty(y)&&(p[y]===void 0||!qi(d[y],p[y])))return!1;return!0})(s,t);default:return Et(52216,{left:s})}}function iu(s,t){return(s.values||[]).find((i=>qi(i,t)))!==void 0}function Oo(s,t){if(s===t)return 0;const i=Ss(s),a=Ss(t);if(i!==a)return zt(i,a);switch(i){case 0:case 9007199254740991:return 0;case 1:return zt(s.booleanValue,t.booleanValue);case 2:return(function(c,d){const p=Me(c.integerValue||c.doubleValue),y=Me(d.integerValue||d.doubleValue);return p<y?-1:p>y?1:p===y?0:isNaN(p)?isNaN(y)?0:-1:1})(s,t);case 3:return Q0(s.timestampValue,t.timestampValue);case 4:return Q0(eu(s),eu(t));case 5:return pm(s.stringValue,t.stringValue);case 6:return(function(c,d){const p=As(c),y=As(d);return p.compareTo(y)})(s.bytesValue,t.bytesValue);case 7:return(function(c,d){const p=c.split("/"),y=d.split("/");for(let _=0;_<p.length&&_<y.length;_++){const b=zt(p[_],y[_]);if(b!==0)return b}return zt(p.length,y.length)})(s.referenceValue,t.referenceValue);case 8:return(function(c,d){const p=zt(Me(c.latitude),Me(d.latitude));return p!==0?p:zt(Me(c.longitude),Me(d.longitude))})(s.geoPointValue,t.geoPointValue);case 9:return Y0(s.arrayValue,t.arrayValue);case 10:return(function(c,d){const p=c.fields||{},y=d.fields||{},_=p[gh]?.arrayValue,b=y[gh]?.arrayValue,A=zt(_?.values?.length||0,b?.values?.length||0);return A!==0?A:Y0(_,b)})(s.mapValue,t.mapValue);case 11:return(function(c,d){if(c===qc.mapValue&&d===qc.mapValue)return 0;if(c===qc.mapValue)return 1;if(d===qc.mapValue)return-1;const p=c.fields||{},y=Object.keys(p),_=d.fields||{},b=Object.keys(_);y.sort(),b.sort();for(let A=0;A<y.length&&A<b.length;++A){const O=pm(y[A],b[A]);if(O!==0)return O;const Q=Oo(p[y[A]],_[b[A]]);if(Q!==0)return Q}return zt(y.length,b.length)})(s.mapValue,t.mapValue);default:throw Et(23264,{he:i})}}function Q0(s,t){if(typeof s=="string"&&typeof t=="string"&&s.length===t.length)return zt(s,t);const i=bs(s),a=bs(t),l=zt(i.seconds,a.seconds);return l!==0?l:zt(i.nanos,a.nanos)}function Y0(s,t){const i=s.values||[],a=t.values||[];for(let l=0;l<i.length&&l<a.length;++l){const c=Oo(i[l],a[l]);if(c)return c}return zt(i.length,a.length)}function Vo(s){return ym(s)}function ym(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?(function(i){const a=bs(i);return`time(${a.seconds},${a.nanos})`})(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?(function(i){return As(i).toBase64()})(s.bytesValue):"referenceValue"in s?(function(i){return pt.fromName(i).toString()})(s.referenceValue):"geoPointValue"in s?(function(i){return`geo(${i.latitude},${i.longitude})`})(s.geoPointValue):"arrayValue"in s?(function(i){let a="[",l=!0;for(const c of i.values||[])l?l=!1:a+=",",a+=ym(c);return a+"]"})(s.arrayValue):"mapValue"in s?(function(i){const a=Object.keys(i.fields||{}).sort();let l="{",c=!0;for(const d of a)c?c=!1:l+=",",l+=`${d}:${ym(i.fields[d])}`;return l+"}"})(s.mapValue):Et(61005,{value:s})}function Wc(s){switch(Ss(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=Mh(s);return t?16+Wc(t):16;case 5:return 2*s.stringValue.length;case 6:return As(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return(function(a){return(a.values||[]).reduce(((l,c)=>l+Wc(c)),0)})(s.arrayValue);case 10:case 11:return(function(a){let l=0;return Is(a.fields,((c,d)=>{l+=c.length+Wc(d)})),l})(s.mapValue);default:throw Et(13486,{value:s})}}function K0(s,t){return{referenceValue:`projects/${s.projectId}/databases/${s.database}/documents/${t.path.canonicalString()}`}}function _m(s){return!!s&&"integerValue"in s}function Wm(s){return!!s&&"arrayValue"in s}function X0(s){return!!s&&"nullValue"in s}function $0(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function th(s){return!!s&&"mapValue"in s}function cR(s){return(s?.mapValue?.fields||{})[W1]?.stringValue===tE}function Kl(s){if(s.geoPointValue)return{geoPointValue:{...s.geoPointValue}};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:{...s.timestampValue}};if(s.mapValue){const t={mapValue:{fields:{}}};return Is(s.mapValue.fields,((i,a)=>t.mapValue.fields[i]=Kl(a))),t}if(s.arrayValue){const t={arrayValue:{values:[]}};for(let i=0;i<(s.arrayValue.values||[]).length;++i)t.arrayValue.values[i]=Kl(s.arrayValue.values[i]);return t}return{...s}}function hR(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===uR}class Rn{constructor(t){this.value=t}static empty(){return new Rn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let i=this.value;for(let a=0;a<t.length-1;++a)if(i=(i.mapValue.fields||{})[t.get(a)],!th(i))return null;return i=(i.mapValue.fields||{})[t.lastSegment()],i||null}}set(t,i){this.getFieldsMap(t.popLast())[t.lastSegment()]=Kl(i)}setAll(t){let i=rn.emptyPath(),a={},l=[];t.forEach(((d,p)=>{if(!i.isImmediateParentOf(p)){const y=this.getFieldsMap(i);this.applyChanges(y,a,l),a={},l=[],i=p.popLast()}d?a[p.lastSegment()]=Kl(d):l.push(p.lastSegment())}));const c=this.getFieldsMap(i);this.applyChanges(c,a,l)}delete(t){const i=this.field(t.popLast());th(i)&&i.mapValue.fields&&delete i.mapValue.fields[t.lastSegment()]}isEqual(t){return qi(this.value,t.value)}getFieldsMap(t){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let a=0;a<t.length;++a){let l=i.mapValue.fields[t.get(a)];th(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},i.mapValue.fields[t.get(a)]=l),i=l}return i.mapValue.fields}applyChanges(t,i,a){Is(i,((l,c)=>t[l]=c));for(const l of a)delete t[l]}clone(){return new Rn(Kl(this.value))}}function eE(s){const t=[];return Is(s.fields,((i,a)=>{const l=new rn([i]);if(th(a)){const c=eE(a.mapValue).fields;if(c.length===0)t.push(l);else for(const d of c)t.push(l.child(d))}else t.push(l)})),new Gn(t)}class cn{constructor(t,i,a,l,c,d,p){this.key=t,this.documentType=i,this.version=a,this.readTime=l,this.createTime=c,this.data=d,this.documentState=p}static newInvalidDocument(t){return new cn(t,0,At.min(),At.min(),At.min(),Rn.empty(),0)}static newFoundDocument(t,i,a,l){return new cn(t,1,i,At.min(),a,l,0)}static newNoDocument(t,i){return new cn(t,2,i,At.min(),At.min(),Rn.empty(),0)}static newUnknownDocument(t,i){return new cn(t,3,i,At.min(),At.min(),Rn.empty(),2)}convertToFoundDocument(t,i){return!this.createTime.isEqual(At.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Rn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Rn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=At.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof cn&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new cn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class ph{constructor(t,i){this.position=t,this.inclusive=i}}function J0(s,t,i){let a=0;for(let l=0;l<s.position.length;l++){const c=t[l],d=s.position[l];if(c.field.isKeyField()?a=pt.comparator(pt.fromName(d.referenceValue),i.key):a=Oo(d,i.data.field(c.field)),c.dir==="desc"&&(a*=-1),a!==0)break}return a}function Z0(s,t){if(s===null)return t===null;if(t===null||s.inclusive!==t.inclusive||s.position.length!==t.position.length)return!1;for(let i=0;i<s.position.length;i++)if(!qi(s.position[i],t.position[i]))return!1;return!0}class yh{constructor(t,i="asc"){this.field=t,this.dir=i}}function fR(s,t){return s.dir===t.dir&&s.field.isEqual(t.field)}class nE{}class qe extends nE{constructor(t,i,a){super(),this.field=t,this.op=i,this.value=a}static create(t,i,a){return t.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(t,i,a):new mR(t,i,a):i==="array-contains"?new yR(t,a):i==="in"?new _R(t,a):i==="not-in"?new vR(t,a):i==="array-contains-any"?new ER(t,a):new qe(t,i,a)}static createKeyFieldInFilter(t,i,a){return i==="in"?new gR(t,a):new pR(t,a)}matches(t){const i=t.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(Oo(i,this.value)):i!==null&&Ss(this.value)===Ss(i)&&this.matchesComparison(Oo(i,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return Et(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ti extends nE{constructor(t,i){super(),this.filters=t,this.op=i,this.Pe=null}static create(t,i){return new Ti(t,i)}matches(t){return iE(this)?this.filters.find((i=>!i.matches(t)))===void 0:this.filters.find((i=>i.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,i)=>t.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function iE(s){return s.op==="and"}function rE(s){return dR(s)&&iE(s)}function dR(s){for(const t of s.filters)if(t instanceof Ti)return!1;return!0}function vm(s){if(s instanceof qe)return s.field.canonicalString()+s.op.toString()+Vo(s.value);if(rE(s))return s.filters.map((t=>vm(t))).join(",");{const t=s.filters.map((i=>vm(i))).join(",");return`${s.op}(${t})`}}function sE(s,t){return s instanceof qe?(function(a,l){return l instanceof qe&&a.op===l.op&&a.field.isEqual(l.field)&&qi(a.value,l.value)})(s,t):s instanceof Ti?(function(a,l){return l instanceof Ti&&a.op===l.op&&a.filters.length===l.filters.length?a.filters.reduce(((c,d,p)=>c&&sE(d,l.filters[p])),!0):!1})(s,t):void Et(19439)}function aE(s){return s instanceof qe?(function(i){return`${i.field.canonicalString()} ${i.op} ${Vo(i.value)}`})(s):s instanceof Ti?(function(i){return i.op.toString()+" {"+i.getFilters().map(aE).join(" ,")+"}"})(s):"Filter"}class mR extends qe{constructor(t,i,a){super(t,i,a),this.key=pt.fromName(a.referenceValue)}matches(t){const i=pt.comparator(t.key,this.key);return this.matchesComparison(i)}}class gR extends qe{constructor(t,i){super(t,"in",i),this.keys=oE("in",i)}matches(t){return this.keys.some((i=>i.isEqual(t.key)))}}class pR extends qe{constructor(t,i){super(t,"not-in",i),this.keys=oE("not-in",i)}matches(t){return!this.keys.some((i=>i.isEqual(t.key)))}}function oE(s,t){return(t.arrayValue?.values||[]).map((i=>pt.fromName(i.referenceValue)))}class yR extends qe{constructor(t,i){super(t,"array-contains",i)}matches(t){const i=t.data.field(this.field);return Wm(i)&&iu(i.arrayValue,this.value)}}class _R extends qe{constructor(t,i){super(t,"in",i)}matches(t){const i=t.data.field(this.field);return i!==null&&iu(this.value.arrayValue,i)}}class vR extends qe{constructor(t,i){super(t,"not-in",i)}matches(t){if(iu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=t.data.field(this.field);return i!==null&&i.nullValue===void 0&&!iu(this.value.arrayValue,i)}}class ER extends qe{constructor(t,i){super(t,"array-contains-any",i)}matches(t){const i=t.data.field(this.field);return!(!Wm(i)||!i.arrayValue.values)&&i.arrayValue.values.some((a=>iu(this.value.arrayValue,a)))}}class TR{constructor(t,i=null,a=[],l=[],c=null,d=null,p=null){this.path=t,this.collectionGroup=i,this.orderBy=a,this.filters=l,this.limit=c,this.startAt=d,this.endAt=p,this.Te=null}}function W0(s,t=null,i=[],a=[],l=null,c=null,d=null){return new TR(s,t,i,a,l,c,d)}function tg(s){const t=Rt(s);if(t.Te===null){let i=t.path.canonicalString();t.collectionGroup!==null&&(i+="|cg:"+t.collectionGroup),i+="|f:",i+=t.filters.map((a=>vm(a))).join(","),i+="|ob:",i+=t.orderBy.map((a=>(function(c){return c.field.canonicalString()+c.dir})(a))).join(","),xh(t.limit)||(i+="|l:",i+=t.limit),t.startAt&&(i+="|lb:",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map((a=>Vo(a))).join(",")),t.endAt&&(i+="|ub:",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map((a=>Vo(a))).join(",")),t.Te=i}return t.Te}function eg(s,t){if(s.limit!==t.limit||s.orderBy.length!==t.orderBy.length)return!1;for(let i=0;i<s.orderBy.length;i++)if(!fR(s.orderBy[i],t.orderBy[i]))return!1;if(s.filters.length!==t.filters.length)return!1;for(let i=0;i<s.filters.length;i++)if(!sE(s.filters[i],t.filters[i]))return!1;return s.collectionGroup===t.collectionGroup&&!!s.path.isEqual(t.path)&&!!Z0(s.startAt,t.startAt)&&Z0(s.endAt,t.endAt)}function Em(s){return pt.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}class pu{constructor(t,i=null,a=[],l=[],c=null,d="F",p=null,y=null){this.path=t,this.collectionGroup=i,this.explicitOrderBy=a,this.filters=l,this.limit=c,this.limitType=d,this.startAt=p,this.endAt=y,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function bR(s,t,i,a,l,c,d,p){return new pu(s,t,i,a,l,c,d,p)}function ng(s){return new pu(s)}function tv(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function lE(s){return s.collectionGroup!==null}function Xl(s){const t=Rt(s);if(t.Ie===null){t.Ie=[];const i=new Set;for(const c of t.explicitOrderBy)t.Ie.push(c),i.add(c.field.canonicalString());const a=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(d){let p=new Qe(rn.comparator);return d.filters.forEach((y=>{y.getFlattenedFilters().forEach((_=>{_.isInequality()&&(p=p.add(_.field))}))})),p})(t).forEach((c=>{i.has(c.canonicalString())||c.isKeyField()||t.Ie.push(new yh(c,a))})),i.has(rn.keyField().canonicalString())||t.Ie.push(new yh(rn.keyField(),a))}return t.Ie}function Pi(s){const t=Rt(s);return t.Ee||(t.Ee=AR(t,Xl(s))),t.Ee}function AR(s,t){if(s.limitType==="F")return W0(s.path,s.collectionGroup,t,s.filters,s.limit,s.startAt,s.endAt);{t=t.map((l=>{const c=l.dir==="desc"?"asc":"desc";return new yh(l.field,c)}));const i=s.endAt?new ph(s.endAt.position,s.endAt.inclusive):null,a=s.startAt?new ph(s.startAt.position,s.startAt.inclusive):null;return W0(s.path,s.collectionGroup,t,s.filters,s.limit,i,a)}}function Tm(s,t){const i=s.filters.concat([t]);return new pu(s.path,s.collectionGroup,s.explicitOrderBy.slice(),i,s.limit,s.limitType,s.startAt,s.endAt)}function bm(s,t,i){return new pu(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),t,i,s.startAt,s.endAt)}function Oh(s,t){return eg(Pi(s),Pi(t))&&s.limitType===t.limitType}function uE(s){return`${tg(Pi(s))}|lt:${s.limitType}`}function vo(s){return`Query(target=${(function(i){let a=i.path.canonicalString();return i.collectionGroup!==null&&(a+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(a+=`, filters: [${i.filters.map((l=>aE(l))).join(", ")}]`),xh(i.limit)||(a+=", limit: "+i.limit),i.orderBy.length>0&&(a+=`, orderBy: [${i.orderBy.map((l=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(l))).join(", ")}]`),i.startAt&&(a+=", startAt: ",a+=i.startAt.inclusive?"b:":"a:",a+=i.startAt.position.map((l=>Vo(l))).join(",")),i.endAt&&(a+=", endAt: ",a+=i.endAt.inclusive?"a:":"b:",a+=i.endAt.position.map((l=>Vo(l))).join(",")),`Target(${a})`})(Pi(s))}; limitType=${s.limitType})`}function Vh(s,t){return t.isFoundDocument()&&(function(a,l){const c=l.key.path;return a.collectionGroup!==null?l.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(c):pt.isDocumentKey(a.path)?a.path.isEqual(c):a.path.isImmediateParentOf(c)})(s,t)&&(function(a,l){for(const c of Xl(a))if(!c.field.isKeyField()&&l.data.field(c.field)===null)return!1;return!0})(s,t)&&(function(a,l){for(const c of a.filters)if(!c.matches(l))return!1;return!0})(s,t)&&(function(a,l){return!(a.startAt&&!(function(d,p,y){const _=J0(d,p,y);return d.inclusive?_<=0:_<0})(a.startAt,Xl(a),l)||a.endAt&&!(function(d,p,y){const _=J0(d,p,y);return d.inclusive?_>=0:_>0})(a.endAt,Xl(a),l))})(s,t)}function SR(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function cE(s){return(t,i)=>{let a=!1;for(const l of Xl(s)){const c=wR(l,t,i);if(c!==0)return c;a=a||l.field.isKeyField()}return 0}}function wR(s,t,i){const a=s.field.isKeyField()?pt.comparator(t.key,i.key):(function(c,d,p){const y=d.data.field(c),_=p.data.field(c);return y!==null&&_!==null?Oo(y,_):Et(42886)})(s.field,t,i);switch(s.dir){case"asc":return a;case"desc":return-1*a;default:return Et(19790,{direction:s.dir})}}class Sa{constructor(t,i){this.mapKeyFn=t,this.equalsFn=i,this.inner={},this.innerSize=0}get(t){const i=this.mapKeyFn(t),a=this.inner[i];if(a!==void 0){for(const[l,c]of a)if(this.equalsFn(l,t))return c}}has(t){return this.get(t)!==void 0}set(t,i){const a=this.mapKeyFn(t),l=this.inner[a];if(l===void 0)return this.inner[a]=[[t,i]],void this.innerSize++;for(let c=0;c<l.length;c++)if(this.equalsFn(l[c][0],t))return void(l[c]=[t,i]);l.push([t,i]),this.innerSize++}delete(t){const i=this.mapKeyFn(t),a=this.inner[i];if(a===void 0)return!1;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],t))return a.length===1?delete this.inner[i]:a.splice(l,1),this.innerSize--,!0;return!1}forEach(t){Is(this.inner,((i,a)=>{for(const[l,c]of a)t(l,c)}))}isEmpty(){return Y1(this.inner)}size(){return this.innerSize}}const RR=new ve(pt.comparator);function br(){return RR}const hE=new ve(pt.comparator);function ql(...s){let t=hE;for(const i of s)t=t.insert(i.key,i);return t}function fE(s){let t=hE;return s.forEach(((i,a)=>t=t.insert(i,a.overlayedDocument))),t}function ga(){return $l()}function dE(){return $l()}function $l(){return new Sa((s=>s.toString()),((s,t)=>s.isEqual(t)))}const IR=new ve(pt.comparator),CR=new Qe(pt.comparator);function jt(...s){let t=CR;for(const i of s)t=t.add(i);return t}const NR=new Qe(zt);function DR(){return NR}function ig(s,t){if(s.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:dh(t)?"-0":t}}function mE(s){return{integerValue:""+s}}function xR(s,t){return rR(t)?mE(t):ig(s,t)}class kh{constructor(){this._=void 0}}function MR(s,t,i){return s instanceof ru?(function(l,c){const d={fields:{[$1]:{stringValue:X1},[Z1]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return c&&Zm(c)&&(c=Mh(c)),c&&(d.fields[J1]=c),{mapValue:d}})(i,t):s instanceof su?pE(s,t):s instanceof au?yE(s,t):(function(l,c){const d=gE(l,c),p=ev(d)+ev(l.Ae);return _m(d)&&_m(l.Ae)?mE(p):ig(l.serializer,p)})(s,t)}function OR(s,t,i){return s instanceof su?pE(s,t):s instanceof au?yE(s,t):i}function gE(s,t){return s instanceof _h?(function(a){return _m(a)||(function(c){return!!c&&"doubleValue"in c})(a)})(t)?t:{integerValue:0}:null}class ru extends kh{}class su extends kh{constructor(t){super(),this.elements=t}}function pE(s,t){const i=_E(t);for(const a of s.elements)i.some((l=>qi(l,a)))||i.push(a);return{arrayValue:{values:i}}}class au extends kh{constructor(t){super(),this.elements=t}}function yE(s,t){let i=_E(t);for(const a of s.elements)i=i.filter((l=>!qi(l,a)));return{arrayValue:{values:i}}}class _h extends kh{constructor(t,i){super(),this.serializer=t,this.Ae=i}}function ev(s){return Me(s.integerValue||s.doubleValue)}function _E(s){return Wm(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}class VR{constructor(t,i){this.field=t,this.transform=i}}function kR(s,t){return s.field.isEqual(t.field)&&(function(a,l){return a instanceof su&&l instanceof su||a instanceof au&&l instanceof au?Mo(a.elements,l.elements,qi):a instanceof _h&&l instanceof _h?qi(a.Ae,l.Ae):a instanceof ru&&l instanceof ru})(s.transform,t.transform)}class UR{constructor(t,i){this.version=t,this.transformResults=i}}class Ei{constructor(t,i){this.updateTime=t,this.exists=i}static none(){return new Ei}static exists(t){return new Ei(void 0,t)}static updateTime(t){return new Ei(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function eh(s,t){return s.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(s.updateTime):s.exists===void 0||s.exists===t.isFoundDocument()}class Uh{}function vE(s,t){if(!s.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return s.isNoDocument()?new rg(s.key,Ei.none()):new yu(s.key,s.data,Ei.none());{const i=s.data,a=Rn.empty();let l=new Qe(rn.comparator);for(let c of t.fields)if(!l.has(c)){let d=i.field(c);d===null&&c.length>1&&(c=c.popLast(),d=i.field(c)),d===null?a.delete(c):a.set(c,d),l=l.add(c)}return new Cs(s.key,a,new Gn(l.toArray()),Ei.none())}}function LR(s,t,i){s instanceof yu?(function(l,c,d){const p=l.value.clone(),y=iv(l.fieldTransforms,c,d.transformResults);p.setAll(y),c.convertToFoundDocument(d.version,p).setHasCommittedMutations()})(s,t,i):s instanceof Cs?(function(l,c,d){if(!eh(l.precondition,c))return void c.convertToUnknownDocument(d.version);const p=iv(l.fieldTransforms,c,d.transformResults),y=c.data;y.setAll(EE(l)),y.setAll(p),c.convertToFoundDocument(d.version,y).setHasCommittedMutations()})(s,t,i):(function(l,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()})(0,t,i)}function Jl(s,t,i,a){return s instanceof yu?(function(c,d,p,y){if(!eh(c.precondition,d))return p;const _=c.value.clone(),b=rv(c.fieldTransforms,y,d);return _.setAll(b),d.convertToFoundDocument(d.version,_).setHasLocalMutations(),null})(s,t,i,a):s instanceof Cs?(function(c,d,p,y){if(!eh(c.precondition,d))return p;const _=rv(c.fieldTransforms,y,d),b=d.data;return b.setAll(EE(c)),b.setAll(_),d.convertToFoundDocument(d.version,b).setHasLocalMutations(),p===null?null:p.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((A=>A.field)))})(s,t,i,a):(function(c,d,p){return eh(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):p})(s,t,i)}function PR(s,t){let i=null;for(const a of s.fieldTransforms){const l=t.data.field(a.field),c=gE(a.transform,l||null);c!=null&&(i===null&&(i=Rn.empty()),i.set(a.field,c))}return i||null}function nv(s,t){return s.type===t.type&&!!s.key.isEqual(t.key)&&!!s.precondition.isEqual(t.precondition)&&!!(function(a,l){return a===void 0&&l===void 0||!(!a||!l)&&Mo(a,l,((c,d)=>kR(c,d)))})(s.fieldTransforms,t.fieldTransforms)&&(s.type===0?s.value.isEqual(t.value):s.type!==1||s.data.isEqual(t.data)&&s.fieldMask.isEqual(t.fieldMask))}class yu extends Uh{constructor(t,i,a,l=[]){super(),this.key=t,this.value=i,this.precondition=a,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class Cs extends Uh{constructor(t,i,a,l,c=[]){super(),this.key=t,this.data=i,this.fieldMask=a,this.precondition=l,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function EE(s){const t=new Map;return s.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const a=s.data.field(i);t.set(i,a)}})),t}function iv(s,t,i){const a=new Map;Zt(s.length===i.length,32656,{Re:i.length,Ve:s.length});for(let l=0;l<i.length;l++){const c=s[l],d=c.transform,p=t.data.field(c.field);a.set(c.field,OR(d,p,i[l]))}return a}function rv(s,t,i){const a=new Map;for(const l of s){const c=l.transform,d=i.data.field(l.field);a.set(l.field,MR(c,d,t))}return a}class rg extends Uh{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class zR extends Uh{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class jR{constructor(t,i,a,l){this.batchId=t,this.localWriteTime=i,this.baseMutations=a,this.mutations=l}applyToRemoteDocument(t,i){const a=i.mutationResults;for(let l=0;l<this.mutations.length;l++){const c=this.mutations[l];c.key.isEqual(t.key)&&LR(c,t,a[l])}}applyToLocalView(t,i){for(const a of this.baseMutations)a.key.isEqual(t.key)&&(i=Jl(a,t,i,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(t.key)&&(i=Jl(a,t,i,this.localWriteTime));return i}applyToLocalDocumentSet(t,i){const a=dE();return this.mutations.forEach((l=>{const c=t.get(l.key),d=c.overlayedDocument;let p=this.applyToLocalView(d,c.mutatedFields);p=i.has(l.key)?null:p;const y=vE(d,p);y!==null&&a.set(l.key,y),d.isValidDocument()||d.convertToNoDocument(At.min())})),a}keys(){return this.mutations.reduce(((t,i)=>t.add(i.key)),jt())}isEqual(t){return this.batchId===t.batchId&&Mo(this.mutations,t.mutations,((i,a)=>nv(i,a)))&&Mo(this.baseMutations,t.baseMutations,((i,a)=>nv(i,a)))}}class sg{constructor(t,i,a,l){this.batch=t,this.commitVersion=i,this.mutationResults=a,this.docVersions=l}static from(t,i,a){Zt(t.mutations.length===a.length,58842,{me:t.mutations.length,fe:a.length});let l=(function(){return IR})();const c=t.mutations;for(let d=0;d<c.length;d++)l=l.insert(c[d].key,a[d].version);return new sg(t,i,a,l)}}class BR{constructor(t,i){this.largestBatchId=t,this.mutation=i}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class qR{constructor(t,i){this.count=t,this.unchangedNames=i}}var Be,Gt;function HR(s){switch(s){case J.OK:return Et(64938);case J.CANCELLED:case J.UNKNOWN:case J.DEADLINE_EXCEEDED:case J.RESOURCE_EXHAUSTED:case J.INTERNAL:case J.UNAVAILABLE:case J.UNAUTHENTICATED:return!1;case J.INVALID_ARGUMENT:case J.NOT_FOUND:case J.ALREADY_EXISTS:case J.PERMISSION_DENIED:case J.FAILED_PRECONDITION:case J.ABORTED:case J.OUT_OF_RANGE:case J.UNIMPLEMENTED:case J.DATA_LOSS:return!0;default:return Et(15467,{code:s})}}function TE(s){if(s===void 0)return Tr("GRPC error has no .code"),J.UNKNOWN;switch(s){case Be.OK:return J.OK;case Be.CANCELLED:return J.CANCELLED;case Be.UNKNOWN:return J.UNKNOWN;case Be.DEADLINE_EXCEEDED:return J.DEADLINE_EXCEEDED;case Be.RESOURCE_EXHAUSTED:return J.RESOURCE_EXHAUSTED;case Be.INTERNAL:return J.INTERNAL;case Be.UNAVAILABLE:return J.UNAVAILABLE;case Be.UNAUTHENTICATED:return J.UNAUTHENTICATED;case Be.INVALID_ARGUMENT:return J.INVALID_ARGUMENT;case Be.NOT_FOUND:return J.NOT_FOUND;case Be.ALREADY_EXISTS:return J.ALREADY_EXISTS;case Be.PERMISSION_DENIED:return J.PERMISSION_DENIED;case Be.FAILED_PRECONDITION:return J.FAILED_PRECONDITION;case Be.ABORTED:return J.ABORTED;case Be.OUT_OF_RANGE:return J.OUT_OF_RANGE;case Be.UNIMPLEMENTED:return J.UNIMPLEMENTED;case Be.DATA_LOSS:return J.DATA_LOSS;default:return Et(39323,{code:s})}}(Gt=Be||(Be={}))[Gt.OK=0]="OK",Gt[Gt.CANCELLED=1]="CANCELLED",Gt[Gt.UNKNOWN=2]="UNKNOWN",Gt[Gt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Gt[Gt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Gt[Gt.NOT_FOUND=5]="NOT_FOUND",Gt[Gt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Gt[Gt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Gt[Gt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Gt[Gt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Gt[Gt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Gt[Gt.ABORTED=10]="ABORTED",Gt[Gt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Gt[Gt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Gt[Gt.INTERNAL=13]="INTERNAL",Gt[Gt.UNAVAILABLE=14]="UNAVAILABLE",Gt[Gt.DATA_LOSS=15]="DATA_LOSS";function FR(){return new TextEncoder}const GR=new _s([4294967295,4294967295],0);function sv(s){const t=FR().encode(s),i=new U1;return i.update(t),new Uint8Array(i.digest())}function av(s){const t=new DataView(s.buffer),i=t.getUint32(0,!0),a=t.getUint32(4,!0),l=t.getUint32(8,!0),c=t.getUint32(12,!0);return[new _s([i,a],0),new _s([l,c],0)]}class ag{constructor(t,i,a){if(this.bitmap=t,this.padding=i,this.hashCount=a,i<0||i>=8)throw new Hl(`Invalid padding: ${i}`);if(a<0)throw new Hl(`Invalid hash count: ${a}`);if(t.length>0&&this.hashCount===0)throw new Hl(`Invalid hash count: ${a}`);if(t.length===0&&i!==0)throw new Hl(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*t.length-i,this.pe=_s.fromNumber(this.ge)}ye(t,i,a){let l=t.add(i.multiply(_s.fromNumber(a)));return l.compare(GR)===1&&(l=new _s([l.getBits(0),l.getBits(1)],0)),l.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const i=sv(t),[a,l]=av(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,l,c);if(!this.we(d))return!1}return!0}static create(t,i,a){const l=t%8==0?0:8-t%8,c=new Uint8Array(Math.ceil(t/8)),d=new ag(c,l,i);return a.forEach((p=>d.insert(p))),d}insert(t){if(this.ge===0)return;const i=sv(t),[a,l]=av(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,l,c);this.Se(d)}}Se(t){const i=Math.floor(t/8),a=t%8;this.bitmap[i]|=1<<a}}class Hl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Lh{constructor(t,i,a,l,c){this.snapshotVersion=t,this.targetChanges=i,this.targetMismatches=a,this.documentUpdates=l,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(t,i,a){const l=new Map;return l.set(t,_u.createSynthesizedTargetChangeForCurrentChange(t,i,a)),new Lh(At.min(),l,new ve(zt),br(),jt())}}class _u{constructor(t,i,a,l,c){this.resumeToken=t,this.current=i,this.addedDocuments=a,this.modifiedDocuments=l,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(t,i,a){return new _u(a,i,jt(),jt(),jt())}}class nh{constructor(t,i,a,l){this.be=t,this.removedTargetIds=i,this.key=a,this.De=l}}class bE{constructor(t,i){this.targetId=t,this.Ce=i}}class AE{constructor(t,i,a=an.EMPTY_BYTE_STRING,l=null){this.state=t,this.targetIds=i,this.resumeToken=a,this.cause=l}}class ov{constructor(){this.ve=0,this.Fe=lv(),this.Me=an.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=jt(),i=jt(),a=jt();return this.Fe.forEach(((l,c)=>{switch(c){case 0:t=t.add(l);break;case 2:i=i.add(l);break;case 1:a=a.add(l);break;default:Et(38017,{changeType:c})}})),new _u(this.Me,this.xe,t,i,a)}qe(){this.Oe=!1,this.Fe=lv()}Qe(t,i){this.Oe=!0,this.Fe=this.Fe.insert(t,i)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,Zt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class QR{constructor(t){this.Ge=t,this.ze=new Map,this.je=br(),this.Je=Hc(),this.He=Hc(),this.Ye=new ve(zt)}Ze(t){for(const i of t.be)t.De&&t.De.isFoundDocument()?this.Xe(i,t.De):this.et(i,t.key,t.De);for(const i of t.removedTargetIds)this.et(i,t.key,t.De)}tt(t){this.forEachTarget(t,(i=>{const a=this.nt(i);switch(t.state){case 0:this.rt(i)&&a.Le(t.resumeToken);break;case 1:a.Ke(),a.Ne||a.qe(),a.Le(t.resumeToken);break;case 2:a.Ke(),a.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(a.We(),a.Le(t.resumeToken));break;case 4:this.rt(i)&&(this.it(i),a.Le(t.resumeToken));break;default:Et(56790,{state:t.state})}}))}forEachTarget(t,i){t.targetIds.length>0?t.targetIds.forEach(i):this.ze.forEach(((a,l)=>{this.rt(l)&&i(l)}))}st(t){const i=t.targetId,a=t.Ce.count,l=this.ot(i);if(l){const c=l.target;if(Em(c))if(a===0){const d=new pt(c.path);this.et(i,d,cn.newNoDocument(d,At.min()))}else Zt(a===1,20013,{expectedCount:a});else{const d=this._t(i);if(d!==a){const p=this.ut(t),y=p?this.ct(p,t,d):1;if(y!==0){this.it(i);const _=y===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(i,_)}}}}}ut(t){const i=t.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:a="",padding:l=0},hashCount:c=0}=i;let d,p;try{d=As(a).toUint8Array()}catch(y){if(y instanceof K1)return xo("Decoding the base64 bloom filter in existence filter failed ("+y.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw y}try{p=new ag(d,l,c)}catch(y){return xo(y instanceof Hl?"BloomFilter error: ":"Applying bloom filter failed: ",y),null}return p.ge===0?null:p}ct(t,i,a){return i.Ce.count===a-this.Pt(t,i.targetId)?0:2}Pt(t,i){const a=this.Ge.getRemoteKeysForTarget(i);let l=0;return a.forEach((c=>{const d=this.Ge.ht(),p=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;t.mightContain(p)||(this.et(i,c,null),l++)})),l}Tt(t){const i=new Map;this.ze.forEach(((c,d)=>{const p=this.ot(d);if(p){if(c.current&&Em(p.target)){const y=new pt(p.target.path);this.It(y).has(d)||this.Et(d,y)||this.et(d,y,cn.newNoDocument(y,t))}c.Be&&(i.set(d,c.ke()),c.qe())}}));let a=jt();this.He.forEach(((c,d)=>{let p=!0;d.forEachWhile((y=>{const _=this.ot(y);return!_||_.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)})),p&&(a=a.add(c))})),this.je.forEach(((c,d)=>d.setReadTime(t)));const l=new Lh(t,i,this.Ye,this.je,a);return this.je=br(),this.Je=Hc(),this.He=Hc(),this.Ye=new ve(zt),l}Xe(t,i){if(!this.rt(t))return;const a=this.Et(t,i.key)?2:0;this.nt(t).Qe(i.key,a),this.je=this.je.insert(i.key,i),this.Je=this.Je.insert(i.key,this.It(i.key).add(t)),this.He=this.He.insert(i.key,this.dt(i.key).add(t))}et(t,i,a){if(!this.rt(t))return;const l=this.nt(t);this.Et(t,i)?l.Qe(i,1):l.$e(i),this.He=this.He.insert(i,this.dt(i).delete(t)),this.He=this.He.insert(i,this.dt(i).add(t)),a&&(this.je=this.je.insert(i,a))}removeTarget(t){this.ze.delete(t)}_t(t){const i=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+i.addedDocuments.size-i.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let i=this.ze.get(t);return i||(i=new ov,this.ze.set(t,i)),i}dt(t){let i=this.He.get(t);return i||(i=new Qe(zt),this.He=this.He.insert(t,i)),i}It(t){let i=this.Je.get(t);return i||(i=new Qe(zt),this.Je=this.Je.insert(t,i)),i}rt(t){const i=this.ot(t)!==null;return i||ut("WatchChangeAggregator","Detected inactive target",t),i}ot(t){const i=this.ze.get(t);return i&&i.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new ov),this.Ge.getRemoteKeysForTarget(t).forEach((i=>{this.et(t,i,null)}))}Et(t,i){return this.Ge.getRemoteKeysForTarget(t).has(i)}}function Hc(){return new ve(pt.comparator)}function lv(){return new ve(pt.comparator)}const YR={asc:"ASCENDING",desc:"DESCENDING"},KR={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},XR={and:"AND",or:"OR"};class $R{constructor(t,i){this.databaseId=t,this.useProto3Json=i}}function Am(s,t){return s.useProto3Json||xh(t)?t:{value:t}}function vh(s,t){return s.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function SE(s,t){return s.useProto3Json?t.toBase64():t.toUint8Array()}function JR(s,t){return vh(s,t.toTimestamp())}function zi(s){return Zt(!!s,49232),At.fromTimestamp((function(i){const a=bs(i);return new ge(a.seconds,a.nanos)})(s))}function og(s,t){return Sm(s,t).canonicalString()}function Sm(s,t){const i=(function(l){return new he(["projects",l.projectId,"databases",l.database])})(s).child("documents");return t===void 0?i:i.child(t)}function wE(s){const t=he.fromString(s);return Zt(DE(t),10190,{key:t.toString()}),t}function wm(s,t){return og(s.databaseId,t.path)}function Wd(s,t){const i=wE(t);if(i.get(1)!==s.databaseId.projectId)throw new ct(J.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+s.databaseId.projectId);if(i.get(3)!==s.databaseId.database)throw new ct(J.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+s.databaseId.database);return new pt(IE(i))}function RE(s,t){return og(s.databaseId,t)}function ZR(s){const t=wE(s);return t.length===4?he.emptyPath():IE(t)}function Rm(s){return new he(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function IE(s){return Zt(s.length>4&&s.get(4)==="documents",29091,{key:s.toString()}),s.popFirst(5)}function uv(s,t,i){return{name:wm(s,t),fields:i.value.mapValue.fields}}function WR(s,t){let i;if("targetChange"in t){t.targetChange;const a=(function(_){return _==="NO_CHANGE"?0:_==="ADD"?1:_==="REMOVE"?2:_==="CURRENT"?3:_==="RESET"?4:Et(39313,{state:_})})(t.targetChange.targetChangeType||"NO_CHANGE"),l=t.targetChange.targetIds||[],c=(function(_,b){return _.useProto3Json?(Zt(b===void 0||typeof b=="string",58123),an.fromBase64String(b||"")):(Zt(b===void 0||b instanceof Buffer||b instanceof Uint8Array,16193),an.fromUint8Array(b||new Uint8Array))})(s,t.targetChange.resumeToken),d=t.targetChange.cause,p=d&&(function(_){const b=_.code===void 0?J.UNKNOWN:TE(_.code);return new ct(b,_.message||"")})(d);i=new AE(a,l,c,p||null)}else if("documentChange"in t){t.documentChange;const a=t.documentChange;a.document,a.document.name,a.document.updateTime;const l=Wd(s,a.document.name),c=zi(a.document.updateTime),d=a.document.createTime?zi(a.document.createTime):At.min(),p=new Rn({mapValue:{fields:a.document.fields}}),y=cn.newFoundDocument(l,c,d,p),_=a.targetIds||[],b=a.removedTargetIds||[];i=new nh(_,b,y.key,y)}else if("documentDelete"in t){t.documentDelete;const a=t.documentDelete;a.document;const l=Wd(s,a.document),c=a.readTime?zi(a.readTime):At.min(),d=cn.newNoDocument(l,c),p=a.removedTargetIds||[];i=new nh([],p,d.key,d)}else if("documentRemove"in t){t.documentRemove;const a=t.documentRemove;a.document;const l=Wd(s,a.document),c=a.removedTargetIds||[];i=new nh([],c,l,null)}else{if(!("filter"in t))return Et(11601,{Rt:t});{t.filter;const a=t.filter;a.targetId;const{count:l=0,unchangedNames:c}=a,d=new qR(l,c),p=a.targetId;i=new bE(p,d)}}return i}function tI(s,t){let i;if(t instanceof yu)i={update:uv(s,t.key,t.value)};else if(t instanceof rg)i={delete:wm(s,t.key)};else if(t instanceof Cs)i={update:uv(s,t.key,t.data),updateMask:uI(t.fieldMask)};else{if(!(t instanceof zR))return Et(16599,{Vt:t.type});i={verify:wm(s,t.key)}}return t.fieldTransforms.length>0&&(i.updateTransforms=t.fieldTransforms.map((a=>(function(c,d){const p=d.transform;if(p instanceof ru)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof su)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof au)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof _h)return{fieldPath:d.field.canonicalString(),increment:p.Ae};throw Et(20930,{transform:d.transform})})(0,a)))),t.precondition.isNone||(i.currentDocument=(function(l,c){return c.updateTime!==void 0?{updateTime:JR(l,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:Et(27497)})(s,t.precondition)),i}function eI(s,t){return s&&s.length>0?(Zt(t!==void 0,14353),s.map((i=>(function(l,c){let d=l.updateTime?zi(l.updateTime):zi(c);return d.isEqual(At.min())&&(d=zi(c)),new UR(d,l.transformResults||[])})(i,t)))):[]}function nI(s,t){return{documents:[RE(s,t.path)]}}function iI(s,t){const i={structuredQuery:{}},a=t.path;let l;t.collectionGroup!==null?(l=a,i.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(l=a.popLast(),i.structuredQuery.from=[{collectionId:a.lastSegment()}]),i.parent=RE(s,l);const c=(function(_){if(_.length!==0)return NE(Ti.create(_,"and"))})(t.filters);c&&(i.structuredQuery.where=c);const d=(function(_){if(_.length!==0)return _.map((b=>(function(O){return{field:Eo(O.field),direction:aI(O.dir)}})(b)))})(t.orderBy);d&&(i.structuredQuery.orderBy=d);const p=Am(s,t.limit);return p!==null&&(i.structuredQuery.limit=p),t.startAt&&(i.structuredQuery.startAt=(function(_){return{before:_.inclusive,values:_.position}})(t.startAt)),t.endAt&&(i.structuredQuery.endAt=(function(_){return{before:!_.inclusive,values:_.position}})(t.endAt)),{ft:i,parent:l}}function rI(s){let t=ZR(s.parent);const i=s.structuredQuery,a=i.from?i.from.length:0;let l=null;if(a>0){Zt(a===1,65062);const b=i.from[0];b.allDescendants?l=b.collectionId:t=t.child(b.collectionId)}let c=[];i.where&&(c=(function(A){const O=CE(A);return O instanceof Ti&&rE(O)?O.getFilters():[O]})(i.where));let d=[];i.orderBy&&(d=(function(A){return A.map((O=>(function(tt){return new yh(To(tt.field),(function(et){switch(et){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(tt.direction))})(O)))})(i.orderBy));let p=null;i.limit&&(p=(function(A){let O;return O=typeof A=="object"?A.value:A,xh(O)?null:O})(i.limit));let y=null;i.startAt&&(y=(function(A){const O=!!A.before,Q=A.values||[];return new ph(Q,O)})(i.startAt));let _=null;return i.endAt&&(_=(function(A){const O=!A.before,Q=A.values||[];return new ph(Q,O)})(i.endAt)),bR(t,l,d,c,p,"F",y,_)}function sI(s,t){const i=(function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Et(28987,{purpose:l})}})(t.purpose);return i==null?null:{"goog-listen-tags":i}}function CE(s){return s.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const a=To(i.unaryFilter.field);return qe.create(a,"==",{doubleValue:NaN});case"IS_NULL":const l=To(i.unaryFilter.field);return qe.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=To(i.unaryFilter.field);return qe.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=To(i.unaryFilter.field);return qe.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Et(61313);default:return Et(60726)}})(s):s.fieldFilter!==void 0?(function(i){return qe.create(To(i.fieldFilter.field),(function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Et(58110);default:return Et(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(s):s.compositeFilter!==void 0?(function(i){return Ti.create(i.compositeFilter.filters.map((a=>CE(a))),(function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return Et(1026)}})(i.compositeFilter.op))})(s):Et(30097,{filter:s})}function aI(s){return YR[s]}function oI(s){return KR[s]}function lI(s){return XR[s]}function Eo(s){return{fieldPath:s.canonicalString()}}function To(s){return rn.fromServerFormat(s.fieldPath)}function NE(s){return s instanceof qe?(function(i){if(i.op==="=="){if($0(i.value))return{unaryFilter:{field:Eo(i.field),op:"IS_NAN"}};if(X0(i.value))return{unaryFilter:{field:Eo(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if($0(i.value))return{unaryFilter:{field:Eo(i.field),op:"IS_NOT_NAN"}};if(X0(i.value))return{unaryFilter:{field:Eo(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Eo(i.field),op:oI(i.op),value:i.value}}})(s):s instanceof Ti?(function(i){const a=i.getFilters().map((l=>NE(l)));return a.length===1?a[0]:{compositeFilter:{op:lI(i.op),filters:a}}})(s):Et(54877,{filter:s})}function uI(s){const t=[];return s.fields.forEach((i=>t.push(i.canonicalString()))),{fieldPaths:t}}function DE(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}class ms{constructor(t,i,a,l,c=At.min(),d=At.min(),p=an.EMPTY_BYTE_STRING,y=null){this.target=t,this.targetId=i,this.purpose=a,this.sequenceNumber=l,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=p,this.expectedCount=y}withSequenceNumber(t){return new ms(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,i){return new ms(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new ms(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new ms(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class cI{constructor(t){this.yt=t}}function hI(s){const t=rI({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?bm(t,t.limit,"L"):t}class fI{constructor(){this.Cn=new dI}addToCollectionParentIndex(t,i){return this.Cn.add(i),Z.resolve()}getCollectionParents(t,i){return Z.resolve(this.Cn.getEntries(i))}addFieldIndex(t,i){return Z.resolve()}deleteFieldIndex(t,i){return Z.resolve()}deleteAllFieldIndexes(t){return Z.resolve()}createTargetIndexes(t,i){return Z.resolve()}getDocumentsMatchingTarget(t,i){return Z.resolve(null)}getIndexType(t,i){return Z.resolve(0)}getFieldIndexes(t,i){return Z.resolve([])}getNextCollectionGroupToUpdate(t){return Z.resolve(null)}getMinOffset(t,i){return Z.resolve(Ts.min())}getMinOffsetFromCollectionGroup(t,i){return Z.resolve(Ts.min())}updateCollectionGroup(t,i,a){return Z.resolve()}updateIndexEntries(t,i){return Z.resolve()}}class dI{constructor(){this.index={}}add(t){const i=t.lastSegment(),a=t.popLast(),l=this.index[i]||new Qe(he.comparator),c=!l.has(a);return this.index[i]=l.add(a),c}has(t){const i=t.lastSegment(),a=t.popLast(),l=this.index[i];return l&&l.has(a)}getEntries(t){return(this.index[t]||new Qe(he.comparator)).toArray()}}const cv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},xE=41943040;class wn{static withCacheSize(t){return new wn(t,wn.DEFAULT_COLLECTION_PERCENTILE,wn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,i,a){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=a}}wn.DEFAULT_COLLECTION_PERCENTILE=10,wn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,wn.DEFAULT=new wn(xE,wn.DEFAULT_COLLECTION_PERCENTILE,wn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),wn.DISABLED=new wn(-1,0,0);class ko{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new ko(0)}static cr(){return new ko(-1)}}const hv="LruGarbageCollector",mI=1048576;function fv([s,t],[i,a]){const l=zt(s,i);return l===0?zt(t,a):l}class gI{constructor(t){this.Ir=t,this.buffer=new Qe(fv),this.Er=0}dr(){return++this.Er}Ar(t){const i=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(i);else{const a=this.buffer.last();fv(i,a)<0&&(this.buffer=this.buffer.delete(a).add(i))}}get maxValue(){return this.buffer.last()[0]}}class pI{constructor(t,i,a){this.garbageCollector=t,this.asyncQueue=i,this.localStore=a,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){ut(hv,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){Ho(i)?ut(hv,"Ignoring IndexedDB error during garbage collection: ",i):await qo(i)}await this.Vr(3e5)}))}}class yI{constructor(t,i){this.mr=t,this.params=i}calculateTargetCount(t,i){return this.mr.gr(t).next((a=>Math.floor(i/100*a)))}nthSequenceNumber(t,i){if(i===0)return Z.resolve(Dh.ce);const a=new gI(i);return this.mr.forEachTarget(t,(l=>a.Ar(l.sequenceNumber))).next((()=>this.mr.pr(t,(l=>a.Ar(l))))).next((()=>a.maxValue))}removeTargets(t,i,a){return this.mr.removeTargets(t,i,a)}removeOrphanedDocuments(t,i){return this.mr.removeOrphanedDocuments(t,i)}collect(t,i){return this.params.cacheSizeCollectionThreshold===-1?(ut("LruGarbageCollector","Garbage collection skipped; disabled"),Z.resolve(cv)):this.getCacheSize(t).next((a=>a<this.params.cacheSizeCollectionThreshold?(ut("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),cv):this.yr(t,i)))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,i){let a,l,c,d,p,y,_;const b=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((A=>(A>this.params.maximumSequenceNumbersToCollect?(ut("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${A}`),l=this.params.maximumSequenceNumbersToCollect):l=A,d=Date.now(),this.nthSequenceNumber(t,l)))).next((A=>(a=A,p=Date.now(),this.removeTargets(t,a,i)))).next((A=>(c=A,y=Date.now(),this.removeOrphanedDocuments(t,a)))).next((A=>(_=Date.now(),_o()<=Pt.DEBUG&&ut("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-b}ms
	Determined least recently used ${l} in `+(p-d)+`ms
	Removed ${c} targets in `+(y-p)+`ms
	Removed ${A} documents in `+(_-y)+`ms
Total Duration: ${_-b}ms`),Z.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:c,documentsRemoved:A}))))}}function _I(s,t){return new yI(s,t)}class vI{constructor(){this.changes=new Sa((t=>t.toString()),((t,i)=>t.isEqual(i))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,i){this.assertNotApplied(),this.changes.set(t,cn.newInvalidDocument(t).setReadTime(i))}getEntry(t,i){this.assertNotApplied();const a=this.changes.get(i);return a!==void 0?Z.resolve(a):this.getFromCache(t,i)}getEntries(t,i){return this.getAllFromCache(t,i)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class EI{constructor(t,i){this.overlayedDocument=t,this.mutatedFields=i}}class TI{constructor(t,i,a,l){this.remoteDocumentCache=t,this.mutationQueue=i,this.documentOverlayCache=a,this.indexManager=l}getDocument(t,i){let a=null;return this.documentOverlayCache.getOverlay(t,i).next((l=>(a=l,this.remoteDocumentCache.getEntry(t,i)))).next((l=>(a!==null&&Jl(a.mutation,l,Gn.empty(),ge.now()),l)))}getDocuments(t,i){return this.remoteDocumentCache.getEntries(t,i).next((a=>this.getLocalViewOfDocuments(t,a,jt()).next((()=>a))))}getLocalViewOfDocuments(t,i,a=jt()){const l=ga();return this.populateOverlays(t,l,i).next((()=>this.computeViews(t,i,l,a).next((c=>{let d=ql();return c.forEach(((p,y)=>{d=d.insert(p,y.overlayedDocument)})),d}))))}getOverlayedDocuments(t,i){const a=ga();return this.populateOverlays(t,a,i).next((()=>this.computeViews(t,i,a,jt())))}populateOverlays(t,i,a){const l=[];return a.forEach((c=>{i.has(c)||l.push(c)})),this.documentOverlayCache.getOverlays(t,l).next((c=>{c.forEach(((d,p)=>{i.set(d,p)}))}))}computeViews(t,i,a,l){let c=br();const d=$l(),p=(function(){return $l()})();return i.forEach(((y,_)=>{const b=a.get(_.key);l.has(_.key)&&(b===void 0||b.mutation instanceof Cs)?c=c.insert(_.key,_):b!==void 0?(d.set(_.key,b.mutation.getFieldMask()),Jl(b.mutation,_,b.mutation.getFieldMask(),ge.now())):d.set(_.key,Gn.empty())})),this.recalculateAndSaveOverlays(t,c).next((y=>(y.forEach(((_,b)=>d.set(_,b))),i.forEach(((_,b)=>p.set(_,new EI(b,d.get(_)??null)))),p)))}recalculateAndSaveOverlays(t,i){const a=$l();let l=new ve(((d,p)=>d-p)),c=jt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,i).next((d=>{for(const p of d)p.keys().forEach((y=>{const _=i.get(y);if(_===null)return;let b=a.get(y)||Gn.empty();b=p.applyToLocalView(_,b),a.set(y,b);const A=(l.get(p.batchId)||jt()).add(y);l=l.insert(p.batchId,A)}))})).next((()=>{const d=[],p=l.getReverseIterator();for(;p.hasNext();){const y=p.getNext(),_=y.key,b=y.value,A=dE();b.forEach((O=>{if(!c.has(O)){const Q=vE(i.get(O),a.get(O));Q!==null&&A.set(O,Q),c=c.add(O)}})),d.push(this.documentOverlayCache.saveOverlays(t,_,A))}return Z.waitFor(d)})).next((()=>a))}recalculateAndSaveOverlaysForDocumentKeys(t,i){return this.remoteDocumentCache.getEntries(t,i).next((a=>this.recalculateAndSaveOverlays(t,a)))}getDocumentsMatchingQuery(t,i,a,l){return(function(d){return pt.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0})(i)?this.getDocumentsMatchingDocumentQuery(t,i.path):lE(i)?this.getDocumentsMatchingCollectionGroupQuery(t,i,a,l):this.getDocumentsMatchingCollectionQuery(t,i,a,l)}getNextDocuments(t,i,a,l){return this.remoteDocumentCache.getAllFromCollectionGroup(t,i,a,l).next((c=>{const d=l-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,i,a.largestBatchId,l-c.size):Z.resolve(ga());let p=tu,y=c;return d.next((_=>Z.forEach(_,((b,A)=>(p<A.largestBatchId&&(p=A.largestBatchId),c.get(b)?Z.resolve():this.remoteDocumentCache.getEntry(t,b).next((O=>{y=y.insert(b,O)}))))).next((()=>this.populateOverlays(t,_,c))).next((()=>this.computeViews(t,y,_,jt()))).next((b=>({batchId:p,changes:fE(b)})))))}))}getDocumentsMatchingDocumentQuery(t,i){return this.getDocument(t,new pt(i)).next((a=>{let l=ql();return a.isFoundDocument()&&(l=l.insert(a.key,a)),l}))}getDocumentsMatchingCollectionGroupQuery(t,i,a,l){const c=i.collectionGroup;let d=ql();return this.indexManager.getCollectionParents(t,c).next((p=>Z.forEach(p,(y=>{const _=(function(A,O){return new pu(O,null,A.explicitOrderBy.slice(),A.filters.slice(),A.limit,A.limitType,A.startAt,A.endAt)})(i,y.child(c));return this.getDocumentsMatchingCollectionQuery(t,_,a,l).next((b=>{b.forEach(((A,O)=>{d=d.insert(A,O)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(t,i,a,l){let c;return this.documentOverlayCache.getOverlaysForCollection(t,i.path,a.largestBatchId).next((d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(t,i,a,c,l)))).next((d=>{c.forEach(((y,_)=>{const b=_.getKey();d.get(b)===null&&(d=d.insert(b,cn.newInvalidDocument(b)))}));let p=ql();return d.forEach(((y,_)=>{const b=c.get(y);b!==void 0&&Jl(b.mutation,_,Gn.empty(),ge.now()),Vh(i,_)&&(p=p.insert(y,_))})),p}))}}class bI{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,i){return Z.resolve(this.Lr.get(i))}saveBundleMetadata(t,i){return this.Lr.set(i.id,(function(l){return{id:l.id,version:l.version,createTime:zi(l.createTime)}})(i)),Z.resolve()}getNamedQuery(t,i){return Z.resolve(this.kr.get(i))}saveNamedQuery(t,i){return this.kr.set(i.name,(function(l){return{name:l.name,query:hI(l.bundledQuery),readTime:zi(l.readTime)}})(i)),Z.resolve()}}class AI{constructor(){this.overlays=new ve(pt.comparator),this.qr=new Map}getOverlay(t,i){return Z.resolve(this.overlays.get(i))}getOverlays(t,i){const a=ga();return Z.forEach(i,(l=>this.getOverlay(t,l).next((c=>{c!==null&&a.set(l,c)})))).next((()=>a))}saveOverlays(t,i,a){return a.forEach(((l,c)=>{this.St(t,i,c)})),Z.resolve()}removeOverlaysForBatchId(t,i,a){const l=this.qr.get(a);return l!==void 0&&(l.forEach((c=>this.overlays=this.overlays.remove(c))),this.qr.delete(a)),Z.resolve()}getOverlaysForCollection(t,i,a){const l=ga(),c=i.length+1,d=new pt(i.child("")),p=this.overlays.getIteratorFrom(d);for(;p.hasNext();){const y=p.getNext().value,_=y.getKey();if(!i.isPrefixOf(_.path))break;_.path.length===c&&y.largestBatchId>a&&l.set(y.getKey(),y)}return Z.resolve(l)}getOverlaysForCollectionGroup(t,i,a,l){let c=new ve(((_,b)=>_-b));const d=this.overlays.getIterator();for(;d.hasNext();){const _=d.getNext().value;if(_.getKey().getCollectionGroup()===i&&_.largestBatchId>a){let b=c.get(_.largestBatchId);b===null&&(b=ga(),c=c.insert(_.largestBatchId,b)),b.set(_.getKey(),_)}}const p=ga(),y=c.getIterator();for(;y.hasNext()&&(y.getNext().value.forEach(((_,b)=>p.set(_,b))),!(p.size()>=l)););return Z.resolve(p)}St(t,i,a){const l=this.overlays.get(a.key);if(l!==null){const d=this.qr.get(l.largestBatchId).delete(a.key);this.qr.set(l.largestBatchId,d)}this.overlays=this.overlays.insert(a.key,new BR(i,a));let c=this.qr.get(i);c===void 0&&(c=jt(),this.qr.set(i,c)),this.qr.set(i,c.add(a.key))}}class SI{constructor(){this.sessionToken=an.EMPTY_BYTE_STRING}getSessionToken(t){return Z.resolve(this.sessionToken)}setSessionToken(t,i){return this.sessionToken=i,Z.resolve()}}class lg{constructor(){this.Qr=new Qe(Xe.$r),this.Ur=new Qe(Xe.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,i){const a=new Xe(t,i);this.Qr=this.Qr.add(a),this.Ur=this.Ur.add(a)}Wr(t,i){t.forEach((a=>this.addReference(a,i)))}removeReference(t,i){this.Gr(new Xe(t,i))}zr(t,i){t.forEach((a=>this.removeReference(a,i)))}jr(t){const i=new pt(new he([])),a=new Xe(i,t),l=new Xe(i,t+1),c=[];return this.Ur.forEachInRange([a,l],(d=>{this.Gr(d),c.push(d.key)})),c}Jr(){this.Qr.forEach((t=>this.Gr(t)))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const i=new pt(new he([])),a=new Xe(i,t),l=new Xe(i,t+1);let c=jt();return this.Ur.forEachInRange([a,l],(d=>{c=c.add(d.key)})),c}containsKey(t){const i=new Xe(t,0),a=this.Qr.firstAfterOrEqual(i);return a!==null&&t.isEqual(a.key)}}class Xe{constructor(t,i){this.key=t,this.Yr=i}static $r(t,i){return pt.comparator(t.key,i.key)||zt(t.Yr,i.Yr)}static Kr(t,i){return zt(t.Yr,i.Yr)||pt.comparator(t.key,i.key)}}class wI{constructor(t,i){this.indexManager=t,this.referenceDelegate=i,this.mutationQueue=[],this.tr=1,this.Zr=new Qe(Xe.$r)}checkEmpty(t){return Z.resolve(this.mutationQueue.length===0)}addMutationBatch(t,i,a,l){const c=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new jR(c,i,a,l);this.mutationQueue.push(d);for(const p of l)this.Zr=this.Zr.add(new Xe(p.key,c)),this.indexManager.addToCollectionParentIndex(t,p.key.path.popLast());return Z.resolve(d)}lookupMutationBatch(t,i){return Z.resolve(this.Xr(i))}getNextMutationBatchAfterBatchId(t,i){const a=i+1,l=this.ei(a),c=l<0?0:l;return Z.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return Z.resolve(this.mutationQueue.length===0?Jm:this.tr-1)}getAllMutationBatches(t){return Z.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,i){const a=new Xe(i,0),l=new Xe(i,Number.POSITIVE_INFINITY),c=[];return this.Zr.forEachInRange([a,l],(d=>{const p=this.Xr(d.Yr);c.push(p)})),Z.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(t,i){let a=new Qe(zt);return i.forEach((l=>{const c=new Xe(l,0),d=new Xe(l,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([c,d],(p=>{a=a.add(p.Yr)}))})),Z.resolve(this.ti(a))}getAllMutationBatchesAffectingQuery(t,i){const a=i.path,l=a.length+1;let c=a;pt.isDocumentKey(c)||(c=c.child(""));const d=new Xe(new pt(c),0);let p=new Qe(zt);return this.Zr.forEachWhile((y=>{const _=y.key.path;return!!a.isPrefixOf(_)&&(_.length===l&&(p=p.add(y.Yr)),!0)}),d),Z.resolve(this.ti(p))}ti(t){const i=[];return t.forEach((a=>{const l=this.Xr(a);l!==null&&i.push(l)})),i}removeMutationBatch(t,i){Zt(this.ni(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let a=this.Zr;return Z.forEach(i.mutations,(l=>{const c=new Xe(l.key,i.batchId);return a=a.delete(c),this.referenceDelegate.markPotentiallyOrphaned(t,l.key)})).next((()=>{this.Zr=a}))}ir(t){}containsKey(t,i){const a=new Xe(i,0),l=this.Zr.firstAfterOrEqual(a);return Z.resolve(i.isEqual(l&&l.key))}performConsistencyCheck(t){return this.mutationQueue.length,Z.resolve()}ni(t,i){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const i=this.ei(t);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class RI{constructor(t){this.ri=t,this.docs=(function(){return new ve(pt.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,i){const a=i.key,l=this.docs.get(a),c=l?l.size:0,d=this.ri(i);return this.docs=this.docs.insert(a,{document:i.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(t,a.path.popLast())}removeEntry(t){const i=this.docs.get(t);i&&(this.docs=this.docs.remove(t),this.size-=i.size)}getEntry(t,i){const a=this.docs.get(i);return Z.resolve(a?a.document.mutableCopy():cn.newInvalidDocument(i))}getEntries(t,i){let a=br();return i.forEach((l=>{const c=this.docs.get(l);a=a.insert(l,c?c.document.mutableCopy():cn.newInvalidDocument(l))})),Z.resolve(a)}getDocumentsMatchingQuery(t,i,a,l){let c=br();const d=i.path,p=new pt(d.child("__id-9223372036854775808__")),y=this.docs.getIteratorFrom(p);for(;y.hasNext();){const{key:_,value:{document:b}}=y.getNext();if(!d.isPrefixOf(_.path))break;_.path.length>d.length+1||tR(Ww(b),a)<=0||(l.has(b.key)||Vh(i,b))&&(c=c.insert(b.key,b.mutableCopy()))}return Z.resolve(c)}getAllFromCollectionGroup(t,i,a,l){Et(9500)}ii(t,i){return Z.forEach(this.docs,(a=>i(a)))}newChangeBuffer(t){return new II(this)}getSize(t){return Z.resolve(this.size)}}class II extends vI{constructor(t){super(),this.Nr=t}applyChanges(t){const i=[];return this.changes.forEach(((a,l)=>{l.isValidDocument()?i.push(this.Nr.addEntry(t,l)):this.Nr.removeEntry(a)})),Z.waitFor(i)}getFromCache(t,i){return this.Nr.getEntry(t,i)}getAllFromCache(t,i){return this.Nr.getEntries(t,i)}}class CI{constructor(t){this.persistence=t,this.si=new Sa((i=>tg(i)),eg),this.lastRemoteSnapshotVersion=At.min(),this.highestTargetId=0,this.oi=0,this._i=new lg,this.targetCount=0,this.ai=ko.ur()}forEachTarget(t,i){return this.si.forEach(((a,l)=>i(l))),Z.resolve()}getLastRemoteSnapshotVersion(t){return Z.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return Z.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),Z.resolve(this.highestTargetId)}setTargetsMetadata(t,i,a){return a&&(this.lastRemoteSnapshotVersion=a),i>this.oi&&(this.oi=i),Z.resolve()}Pr(t){this.si.set(t.target,t);const i=t.targetId;i>this.highestTargetId&&(this.ai=new ko(i),this.highestTargetId=i),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,i){return this.Pr(i),this.targetCount+=1,Z.resolve()}updateTargetData(t,i){return this.Pr(i),Z.resolve()}removeTargetData(t,i){return this.si.delete(i.target),this._i.jr(i.targetId),this.targetCount-=1,Z.resolve()}removeTargets(t,i,a){let l=0;const c=[];return this.si.forEach(((d,p)=>{p.sequenceNumber<=i&&a.get(p.targetId)===null&&(this.si.delete(d),c.push(this.removeMatchingKeysForTargetId(t,p.targetId)),l++)})),Z.waitFor(c).next((()=>l))}getTargetCount(t){return Z.resolve(this.targetCount)}getTargetData(t,i){const a=this.si.get(i)||null;return Z.resolve(a)}addMatchingKeys(t,i,a){return this._i.Wr(i,a),Z.resolve()}removeMatchingKeys(t,i,a){this._i.zr(i,a);const l=this.persistence.referenceDelegate,c=[];return l&&i.forEach((d=>{c.push(l.markPotentiallyOrphaned(t,d))})),Z.waitFor(c)}removeMatchingKeysForTargetId(t,i){return this._i.jr(i),Z.resolve()}getMatchingKeysForTargetId(t,i){const a=this._i.Hr(i);return Z.resolve(a)}containsKey(t,i){return Z.resolve(this._i.containsKey(i))}}class ME{constructor(t,i){this.ui={},this.overlays={},this.ci=new Dh(0),this.li=!1,this.li=!0,this.hi=new SI,this.referenceDelegate=t(this),this.Pi=new CI(this),this.indexManager=new fI,this.remoteDocumentCache=(function(l){return new RI(l)})((a=>this.referenceDelegate.Ti(a))),this.serializer=new cI(i),this.Ii=new bI(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let i=this.overlays[t.toKey()];return i||(i=new AI,this.overlays[t.toKey()]=i),i}getMutationQueue(t,i){let a=this.ui[t.toKey()];return a||(a=new wI(i,this.referenceDelegate),this.ui[t.toKey()]=a),a}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,i,a){ut("MemoryPersistence","Starting transaction:",t);const l=new NI(this.ci.next());return this.referenceDelegate.Ei(),a(l).next((c=>this.referenceDelegate.di(l).next((()=>c)))).toPromise().then((c=>(l.raiseOnCommittedEvent(),c)))}Ai(t,i){return Z.or(Object.values(this.ui).map((a=>()=>a.containsKey(t,i))))}}class NI extends nR{constructor(t){super(),this.currentSequenceNumber=t}}class ug{constructor(t){this.persistence=t,this.Ri=new lg,this.Vi=null}static mi(t){return new ug(t)}get fi(){if(this.Vi)return this.Vi;throw Et(60996)}addReference(t,i,a){return this.Ri.addReference(a,i),this.fi.delete(a.toString()),Z.resolve()}removeReference(t,i,a){return this.Ri.removeReference(a,i),this.fi.add(a.toString()),Z.resolve()}markPotentiallyOrphaned(t,i){return this.fi.add(i.toString()),Z.resolve()}removeTarget(t,i){this.Ri.jr(i.targetId).forEach((l=>this.fi.add(l.toString())));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(t,i.targetId).next((l=>{l.forEach((c=>this.fi.add(c.toString())))})).next((()=>a.removeTargetData(t,i)))}Ei(){this.Vi=new Set}di(t){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Z.forEach(this.fi,(a=>{const l=pt.fromPath(a);return this.gi(t,l).next((c=>{c||i.removeEntry(l,At.min())}))})).next((()=>(this.Vi=null,i.apply(t))))}updateLimboDocument(t,i){return this.gi(t,i).next((a=>{a?this.fi.delete(i.toString()):this.fi.add(i.toString())}))}Ti(t){return 0}gi(t,i){return Z.or([()=>Z.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(t,i),()=>this.persistence.Ai(t,i)])}}class Eh{constructor(t,i){this.persistence=t,this.pi=new Sa((a=>sR(a.path)),((a,l)=>a.isEqual(l))),this.garbageCollector=_I(this,i)}static mi(t,i){return new Eh(t,i)}Ei(){}di(t){return Z.resolve()}forEachTarget(t,i){return this.persistence.getTargetCache().forEachTarget(t,i)}gr(t){const i=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next((a=>i.next((l=>a+l))))}wr(t){let i=0;return this.pr(t,(a=>{i++})).next((()=>i))}pr(t,i){return Z.forEach(this.pi,((a,l)=>this.br(t,a,l).next((c=>c?Z.resolve():i(l)))))}removeTargets(t,i,a){return this.persistence.getTargetCache().removeTargets(t,i,a)}removeOrphanedDocuments(t,i){let a=0;const l=this.persistence.getRemoteDocumentCache(),c=l.newChangeBuffer();return l.ii(t,(d=>this.br(t,d,i).next((p=>{p||(a++,c.removeEntry(d,At.min()))})))).next((()=>c.apply(t))).next((()=>a))}markPotentiallyOrphaned(t,i){return this.pi.set(i,t.currentSequenceNumber),Z.resolve()}removeTarget(t,i){const a=i.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,a)}addReference(t,i,a){return this.pi.set(a,t.currentSequenceNumber),Z.resolve()}removeReference(t,i,a){return this.pi.set(a,t.currentSequenceNumber),Z.resolve()}updateLimboDocument(t,i){return this.pi.set(i,t.currentSequenceNumber),Z.resolve()}Ti(t){let i=t.key.toString().length;return t.isFoundDocument()&&(i+=Wc(t.data.value)),i}br(t,i,a){return Z.or([()=>this.persistence.Ai(t,i),()=>this.persistence.getTargetCache().containsKey(t,i),()=>{const l=this.pi.get(i);return Z.resolve(l!==void 0&&l>a)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}class cg{constructor(t,i,a,l){this.targetId=t,this.fromCache=i,this.Es=a,this.ds=l}static As(t,i){let a=jt(),l=jt();for(const c of i.docChanges)switch(c.type){case 0:a=a.add(c.doc.key);break;case 1:l=l.add(c.doc.key)}return new cg(t,i.fromCache,a,l)}}class DI{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class xI{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return vA()?8:iR(hn())>0?6:4})()}initialize(t,i){this.ps=t,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(t,i,a,l){const c={result:null};return this.ys(t,i).next((d=>{c.result=d})).next((()=>{if(!c.result)return this.ws(t,i,l,a).next((d=>{c.result=d}))})).next((()=>{if(c.result)return;const d=new DI;return this.Ss(t,i,d).next((p=>{if(c.result=p,this.Vs)return this.bs(t,i,d,p.size)}))})).next((()=>c.result))}bs(t,i,a,l){return a.documentReadCount<this.fs?(_o()<=Pt.DEBUG&&ut("QueryEngine","SDK will not create cache indexes for query:",vo(i),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),Z.resolve()):(_o()<=Pt.DEBUG&&ut("QueryEngine","Query:",vo(i),"scans",a.documentReadCount,"local documents and returns",l,"documents as results."),a.documentReadCount>this.gs*l?(_o()<=Pt.DEBUG&&ut("QueryEngine","The SDK decides to create cache indexes for query:",vo(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Pi(i))):Z.resolve())}ys(t,i){if(tv(i))return Z.resolve(null);let a=Pi(i);return this.indexManager.getIndexType(t,a).next((l=>l===0?null:(i.limit!==null&&l===1&&(i=bm(i,null,"F"),a=Pi(i)),this.indexManager.getDocumentsMatchingTarget(t,a).next((c=>{const d=jt(...c);return this.ps.getDocuments(t,d).next((p=>this.indexManager.getMinOffset(t,a).next((y=>{const _=this.Ds(i,p);return this.Cs(i,_,d,y.readTime)?this.ys(t,bm(i,null,"F")):this.vs(t,_,i,y)}))))})))))}ws(t,i,a,l){return tv(i)||l.isEqual(At.min())?Z.resolve(null):this.ps.getDocuments(t,a).next((c=>{const d=this.Ds(i,c);return this.Cs(i,d,a,l)?Z.resolve(null):(_o()<=Pt.DEBUG&&ut("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),vo(i)),this.vs(t,d,i,Zw(l,tu)).next((p=>p)))}))}Ds(t,i){let a=new Qe(cE(t));return i.forEach(((l,c)=>{Vh(t,c)&&(a=a.add(c))})),a}Cs(t,i,a,l){if(t.limit===null)return!1;if(a.size!==i.size)return!0;const c=t.limitType==="F"?i.last():i.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(l)>0)}Ss(t,i,a){return _o()<=Pt.DEBUG&&ut("QueryEngine","Using full collection scan to execute query:",vo(i)),this.ps.getDocumentsMatchingQuery(t,i,Ts.min(),a)}vs(t,i,a,l){return this.ps.getDocumentsMatchingQuery(t,a,l).next((c=>(i.forEach((d=>{c=c.insert(d.key,d)})),c)))}}const hg="LocalStore",MI=3e8;class OI{constructor(t,i,a,l){this.persistence=t,this.Fs=i,this.serializer=l,this.Ms=new ve(zt),this.xs=new Sa((c=>tg(c)),eg),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(a)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new TI(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>t.collect(i,this.Ms)))}}function VI(s,t,i,a){return new OI(s,t,i,a)}async function OE(s,t){const i=Rt(s);return await i.persistence.runTransaction("Handle user change","readonly",(a=>{let l;return i.mutationQueue.getAllMutationBatches(a).next((c=>(l=c,i.Bs(t),i.mutationQueue.getAllMutationBatches(a)))).next((c=>{const d=[],p=[];let y=jt();for(const _ of l){d.push(_.batchId);for(const b of _.mutations)y=y.add(b.key)}for(const _ of c){p.push(_.batchId);for(const b of _.mutations)y=y.add(b.key)}return i.localDocuments.getDocuments(a,y).next((_=>({Ls:_,removedBatchIds:d,addedBatchIds:p})))}))}))}function kI(s,t){const i=Rt(s);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(a=>{const l=t.batch.keys(),c=i.Ns.newChangeBuffer({trackRemovals:!0});return(function(p,y,_,b){const A=_.batch,O=A.keys();let Q=Z.resolve();return O.forEach((tt=>{Q=Q.next((()=>b.getEntry(y,tt))).next((nt=>{const et=_.docVersions.get(tt);Zt(et!==null,48541),nt.version.compareTo(et)<0&&(A.applyToRemoteDocument(nt,_),nt.isValidDocument()&&(nt.setReadTime(_.commitVersion),b.addEntry(nt)))}))})),Q.next((()=>p.mutationQueue.removeMutationBatch(y,A)))})(i,a,t,c).next((()=>c.apply(a))).next((()=>i.mutationQueue.performConsistencyCheck(a))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(a,l,t.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,(function(p){let y=jt();for(let _=0;_<p.mutationResults.length;++_)p.mutationResults[_].transformResults.length>0&&(y=y.add(p.batch.mutations[_].key));return y})(t)))).next((()=>i.localDocuments.getDocuments(a,l)))}))}function VE(s){const t=Rt(s);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>t.Pi.getLastRemoteSnapshotVersion(i)))}function UI(s,t){const i=Rt(s),a=t.snapshotVersion;let l=i.Ms;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const d=i.Ns.newChangeBuffer({trackRemovals:!0});l=i.Ms;const p=[];t.targetChanges.forEach(((b,A)=>{const O=l.get(A);if(!O)return;p.push(i.Pi.removeMatchingKeys(c,b.removedDocuments,A).next((()=>i.Pi.addMatchingKeys(c,b.addedDocuments,A))));let Q=O.withSequenceNumber(c.currentSequenceNumber);t.targetMismatches.get(A)!==null?Q=Q.withResumeToken(an.EMPTY_BYTE_STRING,At.min()).withLastLimboFreeSnapshotVersion(At.min()):b.resumeToken.approximateByteSize()>0&&(Q=Q.withResumeToken(b.resumeToken,a)),l=l.insert(A,Q),(function(nt,et,yt){return nt.resumeToken.approximateByteSize()===0||et.snapshotVersion.toMicroseconds()-nt.snapshotVersion.toMicroseconds()>=MI?!0:yt.addedDocuments.size+yt.modifiedDocuments.size+yt.removedDocuments.size>0})(O,Q,b)&&p.push(i.Pi.updateTargetData(c,Q))}));let y=br(),_=jt();if(t.documentUpdates.forEach((b=>{t.resolvedLimboDocuments.has(b)&&p.push(i.persistence.referenceDelegate.updateLimboDocument(c,b))})),p.push(LI(c,d,t.documentUpdates).next((b=>{y=b.ks,_=b.qs}))),!a.isEqual(At.min())){const b=i.Pi.getLastRemoteSnapshotVersion(c).next((A=>i.Pi.setTargetsMetadata(c,c.currentSequenceNumber,a)));p.push(b)}return Z.waitFor(p).next((()=>d.apply(c))).next((()=>i.localDocuments.getLocalViewOfDocuments(c,y,_))).next((()=>y))})).then((c=>(i.Ms=l,c)))}function LI(s,t,i){let a=jt(),l=jt();return i.forEach((c=>a=a.add(c))),t.getEntries(s,a).next((c=>{let d=br();return i.forEach(((p,y)=>{const _=c.get(p);y.isFoundDocument()!==_.isFoundDocument()&&(l=l.add(p)),y.isNoDocument()&&y.version.isEqual(At.min())?(t.removeEntry(p,y.readTime),d=d.insert(p,y)):!_.isValidDocument()||y.version.compareTo(_.version)>0||y.version.compareTo(_.version)===0&&_.hasPendingWrites?(t.addEntry(y),d=d.insert(p,y)):ut(hg,"Ignoring outdated watch update for ",p,". Current version:",_.version," Watch version:",y.version)})),{ks:d,qs:l}}))}function PI(s,t){const i=Rt(s);return i.persistence.runTransaction("Get next mutation batch","readonly",(a=>(t===void 0&&(t=Jm),i.mutationQueue.getNextMutationBatchAfterBatchId(a,t))))}function zI(s,t){const i=Rt(s);return i.persistence.runTransaction("Allocate target","readwrite",(a=>{let l;return i.Pi.getTargetData(a,t).next((c=>c?(l=c,Z.resolve(l)):i.Pi.allocateTargetId(a).next((d=>(l=new ms(t,d,"TargetPurposeListen",a.currentSequenceNumber),i.Pi.addTargetData(a,l).next((()=>l)))))))})).then((a=>{const l=i.Ms.get(a.targetId);return(l===null||a.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(i.Ms=i.Ms.insert(a.targetId,a),i.xs.set(t,a.targetId)),a}))}async function Im(s,t,i){const a=Rt(s),l=a.Ms.get(t),c=i?"readwrite":"readwrite-primary";try{i||await a.persistence.runTransaction("Release target",c,(d=>a.persistence.referenceDelegate.removeTarget(d,l)))}catch(d){if(!Ho(d))throw d;ut(hg,`Failed to update sequence numbers for target ${t}: ${d}`)}a.Ms=a.Ms.remove(t),a.xs.delete(l.target)}function dv(s,t,i){const a=Rt(s);let l=At.min(),c=jt();return a.persistence.runTransaction("Execute query","readwrite",(d=>(function(y,_,b){const A=Rt(y),O=A.xs.get(b);return O!==void 0?Z.resolve(A.Ms.get(O)):A.Pi.getTargetData(_,b)})(a,d,Pi(t)).next((p=>{if(p)return l=p.lastLimboFreeSnapshotVersion,a.Pi.getMatchingKeysForTargetId(d,p.targetId).next((y=>{c=y}))})).next((()=>a.Fs.getDocumentsMatchingQuery(d,t,i?l:At.min(),i?c:jt()))).next((p=>(jI(a,SR(t),p),{documents:p,Qs:c})))))}function jI(s,t,i){let a=s.Os.get(t)||At.min();i.forEach(((l,c)=>{c.readTime.compareTo(a)>0&&(a=c.readTime)})),s.Os.set(t,a)}class mv{constructor(){this.activeTargetIds=DR()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class BI{constructor(){this.Mo=new mv,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,i,a){}addLocalQueryTarget(t,i=!0){return i&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,i,a){this.xo[t]=i}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new mv,Promise.resolve()}handleUserChange(t,i,a){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class qI{Oo(t){}shutdown(){}}const gv="ConnectivityMonitor";class pv{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ut(gv,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){ut(gv,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Fc=null;function Cm(){return Fc===null?Fc=(function(){return 268435456+Math.round(2147483648*Math.random())})():Fc++,"0x"+Fc.toString(16)}const tm="RestConnection",HI={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class FI{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const i=t.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.Uo=i+"://"+t.host,this.Ko=`projects/${a}/databases/${l}`,this.Wo=this.databaseId.database===mh?`project_id=${a}`:`project_id=${a}&database_id=${l}`}Go(t,i,a,l,c){const d=Cm(),p=this.zo(t,i.toUriEncodedString());ut(tm,`Sending RPC '${t}' ${d}:`,p,a);const y={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(y,l,c);const{host:_}=new URL(p),b=Po(_);return this.Jo(t,p,y,a,b).then((A=>(ut(tm,`Received RPC '${t}' ${d}: `,A),A)),(A=>{throw xo(tm,`RPC '${t}' ${d} failed with error: `,A,"url: ",p,"request:",a),A}))}Ho(t,i,a,l,c,d){return this.Go(t,i,a,l,c)}jo(t,i,a){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Bo})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((l,c)=>t[c]=l)),a&&a.headers.forEach(((l,c)=>t[c]=l))}zo(t,i){const a=HI[t];return`${this.Uo}/v1/${i}:${a}`}terminate(){}}class GI{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}const ln="WebChannelConnection";class QI extends FI{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,i,a,l,c){const d=Cm();return new Promise(((p,y)=>{const _=new L1;_.setWithCredentials(!0),_.listenOnce(P1.COMPLETE,(()=>{try{switch(_.getLastErrorCode()){case Zc.NO_ERROR:const A=_.getResponseJson();ut(ln,`XHR for RPC '${t}' ${d} received:`,JSON.stringify(A)),p(A);break;case Zc.TIMEOUT:ut(ln,`RPC '${t}' ${d} timed out`),y(new ct(J.DEADLINE_EXCEEDED,"Request time out"));break;case Zc.HTTP_ERROR:const O=_.getStatus();if(ut(ln,`RPC '${t}' ${d} failed with status:`,O,"response text:",_.getResponseText()),O>0){let Q=_.getResponseJson();Array.isArray(Q)&&(Q=Q[0]);const tt=Q?.error;if(tt&&tt.status&&tt.message){const nt=(function(yt){const St=yt.toLowerCase().replace(/_/g,"-");return Object.values(J).indexOf(St)>=0?St:J.UNKNOWN})(tt.status);y(new ct(nt,tt.message))}else y(new ct(J.UNKNOWN,"Server responded with status "+_.getStatus()))}else y(new ct(J.UNAVAILABLE,"Connection failed."));break;default:Et(9055,{l_:t,streamId:d,h_:_.getLastErrorCode(),P_:_.getLastError()})}}finally{ut(ln,`RPC '${t}' ${d} completed.`)}}));const b=JSON.stringify(l);ut(ln,`RPC '${t}' ${d} sending request:`,l),_.send(i,"POST",b,a,15)}))}T_(t,i,a){const l=Cm(),c=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],d=B1(),p=j1(),y={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},_=this.longPollingOptions.timeoutSeconds;_!==void 0&&(y.longPollingTimeout=Math.round(1e3*_)),this.useFetchStreams&&(y.useFetchStreams=!0),this.jo(y.initMessageHeaders,i,a),y.encodeInitMessageHeaders=!0;const b=c.join("");ut(ln,`Creating RPC '${t}' stream ${l}: ${b}`,y);const A=d.createWebChannel(b,y);this.I_(A);let O=!1,Q=!1;const tt=new GI({Yo:et=>{Q?ut(ln,`Not sending because RPC '${t}' stream ${l} is closed:`,et):(O||(ut(ln,`Opening RPC '${t}' stream ${l} transport.`),A.open(),O=!0),ut(ln,`RPC '${t}' stream ${l} sending:`,et),A.send(et))},Zo:()=>A.close()}),nt=(et,yt,St)=>{et.listen(yt,(_t=>{try{St(_t)}catch(Mt){setTimeout((()=>{throw Mt}),0)}}))};return nt(A,Bl.EventType.OPEN,(()=>{Q||(ut(ln,`RPC '${t}' stream ${l} transport opened.`),tt.o_())})),nt(A,Bl.EventType.CLOSE,(()=>{Q||(Q=!0,ut(ln,`RPC '${t}' stream ${l} transport closed`),tt.a_(),this.E_(A))})),nt(A,Bl.EventType.ERROR,(et=>{Q||(Q=!0,xo(ln,`RPC '${t}' stream ${l} transport errored. Name:`,et.name,"Message:",et.message),tt.a_(new ct(J.UNAVAILABLE,"The operation could not be completed")))})),nt(A,Bl.EventType.MESSAGE,(et=>{if(!Q){const yt=et.data[0];Zt(!!yt,16349);const St=yt,_t=St?.error||St[0]?.error;if(_t){ut(ln,`RPC '${t}' stream ${l} received error:`,_t);const Mt=_t.status;let Kt=(function(S){const I=Be[S];if(I!==void 0)return TE(I)})(Mt),xt=_t.message;Kt===void 0&&(Kt=J.INTERNAL,xt="Unknown error status: "+Mt+" with message "+_t.message),Q=!0,tt.a_(new ct(Kt,xt)),A.close()}else ut(ln,`RPC '${t}' stream ${l} received:`,yt),tt.u_(yt)}})),nt(p,z1.STAT_EVENT,(et=>{et.stat===gm.PROXY?ut(ln,`RPC '${t}' stream ${l} detected buffering proxy`):et.stat===gm.NOPROXY&&ut(ln,`RPC '${t}' stream ${l} detected no buffering proxy`)})),setTimeout((()=>{tt.__()}),0),tt}terminate(){this.c_.forEach((t=>t.close())),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter((i=>i===t))}}function em(){return typeof document<"u"?document:null}function Ph(s){return new $R(s,!0)}class kE{constructor(t,i,a=1e3,l=1.5,c=6e4){this.Mi=t,this.timerId=i,this.d_=a,this.A_=l,this.R_=c,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const i=Math.floor(this.V_+this.y_()),a=Math.max(0,Date.now()-this.f_),l=Math.max(0,i-a);l>0&&ut("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.V_} ms, delay with jitter: ${i} ms, last attempt: ${a} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,l,(()=>(this.f_=Date.now(),t()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const yv="PersistentStream";class UE{constructor(t,i,a,l,c,d,p,y){this.Mi=t,this.S_=a,this.b_=l,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=p,this.listener=y,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new kE(t,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,i){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():i&&i.code===J.RESOURCE_EXHAUSTED?(Tr(i.toString()),Tr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===J.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(i)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([a,l])=>{this.D_===i&&this.G_(a,l)}),(a=>{t((()=>{const l=new ct(J.UNKNOWN,"Fetching auth token failed: "+a.message);return this.z_(l)}))}))}G_(t,i){const a=this.W_(this.D_);this.stream=this.j_(t,i),this.stream.Xo((()=>{a((()=>this.listener.Xo()))})),this.stream.t_((()=>{a((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((l=>{a((()=>this.z_(l)))})),this.stream.onMessage((l=>{a((()=>++this.F_==1?this.J_(l):this.onNext(l)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return ut(yv,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return i=>{this.Mi.enqueueAndForget((()=>this.D_===t?i():(ut(yv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class YI extends UE{constructor(t,i,a,l,c,d){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,a,l,d),this.serializer=c}j_(t,i){return this.connection.T_("Listen",t,i)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const i=WR(this.serializer,t),a=(function(c){if(!("targetChange"in c))return At.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?At.min():d.readTime?zi(d.readTime):At.min()})(t);return this.listener.H_(i,a)}Y_(t){const i={};i.database=Rm(this.serializer),i.addTarget=(function(c,d){let p;const y=d.target;if(p=Em(y)?{documents:nI(c,y)}:{query:iI(c,y).ft},p.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){p.resumeToken=SE(c,d.resumeToken);const _=Am(c,d.expectedCount);_!==null&&(p.expectedCount=_)}else if(d.snapshotVersion.compareTo(At.min())>0){p.readTime=vh(c,d.snapshotVersion.toTimestamp());const _=Am(c,d.expectedCount);_!==null&&(p.expectedCount=_)}return p})(this.serializer,t);const a=sI(this.serializer,t);a&&(i.labels=a),this.q_(i)}Z_(t){const i={};i.database=Rm(this.serializer),i.removeTarget=t,this.q_(i)}}class KI extends UE{constructor(t,i,a,l,c,d){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,a,l,d),this.serializer=c}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,i){return this.connection.T_("Write",t,i)}J_(t){return Zt(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Zt(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){Zt(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const i=eI(t.writeResults,t.commitTime),a=zi(t.commitTime);return this.listener.na(a,i)}ra(){const t={};t.database=Rm(this.serializer),this.q_(t)}ea(t){const i={streamToken:this.lastStreamToken,writes:t.map((a=>tI(this.serializer,a)))};this.q_(i)}}class XI{}class $I extends XI{constructor(t,i,a,l){super(),this.authCredentials=t,this.appCheckCredentials=i,this.connection=a,this.serializer=l,this.ia=!1}sa(){if(this.ia)throw new ct(J.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,i,a,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Go(t,Sm(i,a),l,c,d))).catch((c=>{throw c.name==="FirebaseError"?(c.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new ct(J.UNKNOWN,c.toString())}))}Ho(t,i,a,l,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,p])=>this.connection.Ho(t,Sm(i,a),l,d,p,c))).catch((d=>{throw d.name==="FirebaseError"?(d.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new ct(J.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class JI{constructor(t,i){this.asyncQueue=t,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const i=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Tr(i),this.aa=!1):ut("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Aa="RemoteStore";class ZI{constructor(t,i,a,l,c){this.localStore=t,this.datastore=i,this.asyncQueue=a,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=c,this.Aa.Oo((d=>{a.enqueueAndForget((async()=>{wa(this)&&(ut(Aa,"Restarting streams for network reachability change."),await(async function(y){const _=Rt(y);_.Ea.add(4),await vu(_),_.Ra.set("Unknown"),_.Ea.delete(4),await zh(_)})(this))}))})),this.Ra=new JI(a,l)}}async function zh(s){if(wa(s))for(const t of s.da)await t(!0)}async function vu(s){for(const t of s.da)await t(!1)}function LE(s,t){const i=Rt(s);i.Ia.has(t.targetId)||(i.Ia.set(t.targetId,t),gg(i)?mg(i):Fo(i).O_()&&dg(i,t))}function fg(s,t){const i=Rt(s),a=Fo(i);i.Ia.delete(t),a.O_()&&PE(i,t),i.Ia.size===0&&(a.O_()?a.L_():wa(i)&&i.Ra.set("Unknown"))}function dg(s,t){if(s.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(At.min())>0){const i=s.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(i)}Fo(s).Y_(t)}function PE(s,t){s.Va.Ue(t),Fo(s).Z_(t)}function mg(s){s.Va=new QR({getRemoteKeysForTarget:t=>s.remoteSyncer.getRemoteKeysForTarget(t),At:t=>s.Ia.get(t)||null,ht:()=>s.datastore.serializer.databaseId}),Fo(s).start(),s.Ra.ua()}function gg(s){return wa(s)&&!Fo(s).x_()&&s.Ia.size>0}function wa(s){return Rt(s).Ea.size===0}function zE(s){s.Va=void 0}async function WI(s){s.Ra.set("Online")}async function tC(s){s.Ia.forEach(((t,i)=>{dg(s,t)}))}async function eC(s,t){zE(s),gg(s)?(s.Ra.ha(t),mg(s)):s.Ra.set("Unknown")}async function nC(s,t,i){if(s.Ra.set("Online"),t instanceof AE&&t.state===2&&t.cause)try{await(async function(l,c){const d=c.cause;for(const p of c.targetIds)l.Ia.has(p)&&(await l.remoteSyncer.rejectListen(p,d),l.Ia.delete(p),l.Va.removeTarget(p))})(s,t)}catch(a){ut(Aa,"Failed to remove targets %s: %s ",t.targetIds.join(","),a),await Th(s,a)}else if(t instanceof nh?s.Va.Ze(t):t instanceof bE?s.Va.st(t):s.Va.tt(t),!i.isEqual(At.min()))try{const a=await VE(s.localStore);i.compareTo(a)>=0&&await(function(c,d){const p=c.Va.Tt(d);return p.targetChanges.forEach(((y,_)=>{if(y.resumeToken.approximateByteSize()>0){const b=c.Ia.get(_);b&&c.Ia.set(_,b.withResumeToken(y.resumeToken,d))}})),p.targetMismatches.forEach(((y,_)=>{const b=c.Ia.get(y);if(!b)return;c.Ia.set(y,b.withResumeToken(an.EMPTY_BYTE_STRING,b.snapshotVersion)),PE(c,y);const A=new ms(b.target,y,_,b.sequenceNumber);dg(c,A)})),c.remoteSyncer.applyRemoteEvent(p)})(s,i)}catch(a){ut(Aa,"Failed to raise snapshot:",a),await Th(s,a)}}async function Th(s,t,i){if(!Ho(t))throw t;s.Ea.add(1),await vu(s),s.Ra.set("Offline"),i||(i=()=>VE(s.localStore)),s.asyncQueue.enqueueRetryable((async()=>{ut(Aa,"Retrying IndexedDB access"),await i(),s.Ea.delete(1),await zh(s)}))}function jE(s,t){return t().catch((i=>Th(s,i,t)))}async function jh(s){const t=Rt(s),i=ws(t);let a=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:Jm;for(;iC(t);)try{const l=await PI(t.localStore,a);if(l===null){t.Ta.length===0&&i.L_();break}a=l.batchId,rC(t,l)}catch(l){await Th(t,l)}BE(t)&&qE(t)}function iC(s){return wa(s)&&s.Ta.length<10}function rC(s,t){s.Ta.push(t);const i=ws(s);i.O_()&&i.X_&&i.ea(t.mutations)}function BE(s){return wa(s)&&!ws(s).x_()&&s.Ta.length>0}function qE(s){ws(s).start()}async function sC(s){ws(s).ra()}async function aC(s){const t=ws(s);for(const i of s.Ta)t.ea(i.mutations)}async function oC(s,t,i){const a=s.Ta.shift(),l=sg.from(a,t,i);await jE(s,(()=>s.remoteSyncer.applySuccessfulWrite(l))),await jh(s)}async function lC(s,t){t&&ws(s).X_&&await(async function(a,l){if((function(d){return HR(d)&&d!==J.ABORTED})(l.code)){const c=a.Ta.shift();ws(a).B_(),await jE(a,(()=>a.remoteSyncer.rejectFailedWrite(c.batchId,l))),await jh(a)}})(s,t),BE(s)&&qE(s)}async function _v(s,t){const i=Rt(s);i.asyncQueue.verifyOperationInProgress(),ut(Aa,"RemoteStore received new credentials");const a=wa(i);i.Ea.add(3),await vu(i),a&&i.Ra.set("Unknown"),await i.remoteSyncer.handleCredentialChange(t),i.Ea.delete(3),await zh(i)}async function uC(s,t){const i=Rt(s);t?(i.Ea.delete(2),await zh(i)):t||(i.Ea.add(2),await vu(i),i.Ra.set("Unknown"))}function Fo(s){return s.ma||(s.ma=(function(i,a,l){const c=Rt(i);return c.sa(),new YI(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(s.datastore,s.asyncQueue,{Xo:WI.bind(null,s),t_:tC.bind(null,s),r_:eC.bind(null,s),H_:nC.bind(null,s)}),s.da.push((async t=>{t?(s.ma.B_(),gg(s)?mg(s):s.Ra.set("Unknown")):(await s.ma.stop(),zE(s))}))),s.ma}function ws(s){return s.fa||(s.fa=(function(i,a,l){const c=Rt(i);return c.sa(),new KI(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(s.datastore,s.asyncQueue,{Xo:()=>Promise.resolve(),t_:sC.bind(null,s),r_:lC.bind(null,s),ta:aC.bind(null,s),na:oC.bind(null,s)}),s.da.push((async t=>{t?(s.fa.B_(),await jh(s)):(await s.fa.stop(),s.Ta.length>0&&(ut(Aa,`Stopping write stream with ${s.Ta.length} pending writes`),s.Ta=[]))}))),s.fa}class pg{constructor(t,i,a,l,c){this.asyncQueue=t,this.timerId=i,this.targetTimeMs=a,this.op=l,this.removalCallback=c,this.deferred=new pa,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,i,a,l,c){const d=Date.now()+a,p=new pg(t,i,d,l,c);return p.start(a),p}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ct(J.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function yg(s,t){if(Tr("AsyncQueue",`${t}: ${s}`),Ho(s))return new ct(J.UNAVAILABLE,`${t}: ${s}`);throw s}class Io{static emptySet(t){return new Io(t.comparator)}constructor(t){this.comparator=t?(i,a)=>t(i,a)||pt.comparator(i.key,a.key):(i,a)=>pt.comparator(i.key,a.key),this.keyedMap=ql(),this.sortedSet=new ve(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const i=this.keyedMap.get(t);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((i,a)=>(t(i),!1)))}add(t){const i=this.delete(t.key);return i.copy(i.keyedMap.insert(t.key,t),i.sortedSet.insert(t,null))}delete(t){const i=this.get(t);return i?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(i)):this}isEqual(t){if(!(t instanceof Io)||this.size!==t.size)return!1;const i=this.sortedSet.getIterator(),a=t.sortedSet.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=a.getNext().key;if(!l.isEqual(c))return!1}return!0}toString(){const t=[];return this.forEach((i=>{t.push(i.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,i){const a=new Io;return a.comparator=this.comparator,a.keyedMap=t,a.sortedSet=i,a}}class vv{constructor(){this.ga=new ve(pt.comparator)}track(t){const i=t.doc.key,a=this.ga.get(i);a?t.type!==0&&a.type===3?this.ga=this.ga.insert(i,t):t.type===3&&a.type!==1?this.ga=this.ga.insert(i,{type:a.type,doc:t.doc}):t.type===2&&a.type===2?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):t.type===2&&a.type===0?this.ga=this.ga.insert(i,{type:0,doc:t.doc}):t.type===1&&a.type===0?this.ga=this.ga.remove(i):t.type===1&&a.type===2?this.ga=this.ga.insert(i,{type:1,doc:a.doc}):t.type===0&&a.type===1?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):Et(63341,{Rt:t,pa:a}):this.ga=this.ga.insert(i,t)}ya(){const t=[];return this.ga.inorderTraversal(((i,a)=>{t.push(a)})),t}}class Uo{constructor(t,i,a,l,c,d,p,y,_){this.query=t,this.docs=i,this.oldDocs=a,this.docChanges=l,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=p,this.excludesMetadataChanges=y,this.hasCachedResults=_}static fromInitialDocuments(t,i,a,l,c){const d=[];return i.forEach((p=>{d.push({type:0,doc:p})})),new Uo(t,i,Io.emptySet(i),d,a,l,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Oh(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const i=this.docChanges,a=t.docChanges;if(i.length!==a.length)return!1;for(let l=0;l<i.length;l++)if(i[l].type!==a[l].type||!i[l].doc.isEqual(a[l].doc))return!1;return!0}}class cC{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((t=>t.Da()))}}class hC{constructor(){this.queries=Ev(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,a){const l=Rt(i),c=l.queries;l.queries=Ev(),c.forEach(((d,p)=>{for(const y of p.Sa)y.onError(a)}))})(this,new ct(J.ABORTED,"Firestore shutting down"))}}function Ev(){return new Sa((s=>uE(s)),Oh)}async function fC(s,t){const i=Rt(s);let a=3;const l=t.query;let c=i.queries.get(l);c?!c.ba()&&t.Da()&&(a=2):(c=new cC,a=t.Da()?0:1);try{switch(a){case 0:c.wa=await i.onListen(l,!0);break;case 1:c.wa=await i.onListen(l,!1);break;case 2:await i.onFirstRemoteStoreListen(l)}}catch(d){const p=yg(d,`Initialization of query '${vo(t.query)}' failed`);return void t.onError(p)}i.queries.set(l,c),c.Sa.push(t),t.va(i.onlineState),c.wa&&t.Fa(c.wa)&&_g(i)}async function dC(s,t){const i=Rt(s),a=t.query;let l=3;const c=i.queries.get(a);if(c){const d=c.Sa.indexOf(t);d>=0&&(c.Sa.splice(d,1),c.Sa.length===0?l=t.Da()?0:1:!c.ba()&&t.Da()&&(l=2))}switch(l){case 0:return i.queries.delete(a),i.onUnlisten(a,!0);case 1:return i.queries.delete(a),i.onUnlisten(a,!1);case 2:return i.onLastRemoteStoreUnlisten(a);default:return}}function mC(s,t){const i=Rt(s);let a=!1;for(const l of t){const c=l.query,d=i.queries.get(c);if(d){for(const p of d.Sa)p.Fa(l)&&(a=!0);d.wa=l}}a&&_g(i)}function gC(s,t,i){const a=Rt(s),l=a.queries.get(t);if(l)for(const c of l.Sa)c.onError(i);a.queries.delete(t)}function _g(s){s.Ca.forEach((t=>{t.next()}))}var Nm,Tv;(Tv=Nm||(Nm={})).Ma="default",Tv.Cache="cache";class pC{constructor(t,i,a){this.query=t,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=a||{}}Fa(t){if(!this.options.includeMetadataChanges){const a=[];for(const l of t.docChanges)l.type!==3&&a.push(l);t=new Uo(t.query,t.docs,t.oldDocs,a,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let i=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),i=!0):this.La(t,this.onlineState)&&(this.ka(t),i=!0),this.Na=t,i}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),i=!0),i}La(t,i){if(!t.fromCache||!this.Da())return!0;const a=i!=="Offline";return(!this.options.qa||!a)&&(!t.docs.isEmpty()||t.hasCachedResults||i==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(t){t=Uo.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==Nm.Cache}}class HE{constructor(t){this.key=t}}class FE{constructor(t){this.key=t}}class yC{constructor(t,i){this.query=t,this.Ya=i,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=jt(),this.mutatedKeys=jt(),this.eu=cE(t),this.tu=new Io(this.eu)}get nu(){return this.Ya}ru(t,i){const a=i?i.iu:new vv,l=i?i.tu:this.tu;let c=i?i.mutatedKeys:this.mutatedKeys,d=l,p=!1;const y=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,_=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(t.inorderTraversal(((b,A)=>{const O=l.get(b),Q=Vh(this.query,A)?A:null,tt=!!O&&this.mutatedKeys.has(O.key),nt=!!Q&&(Q.hasLocalMutations||this.mutatedKeys.has(Q.key)&&Q.hasCommittedMutations);let et=!1;O&&Q?O.data.isEqual(Q.data)?tt!==nt&&(a.track({type:3,doc:Q}),et=!0):this.su(O,Q)||(a.track({type:2,doc:Q}),et=!0,(y&&this.eu(Q,y)>0||_&&this.eu(Q,_)<0)&&(p=!0)):!O&&Q?(a.track({type:0,doc:Q}),et=!0):O&&!Q&&(a.track({type:1,doc:O}),et=!0,(y||_)&&(p=!0)),et&&(Q?(d=d.add(Q),c=nt?c.add(b):c.delete(b)):(d=d.delete(b),c=c.delete(b)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const b=this.query.limitType==="F"?d.last():d.first();d=d.delete(b.key),c=c.delete(b.key),a.track({type:1,doc:b})}return{tu:d,iu:a,Cs:p,mutatedKeys:c}}su(t,i){return t.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(t,i,a,l){const c=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const d=t.iu.ya();d.sort(((b,A)=>(function(Q,tt){const nt=et=>{switch(et){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Et(20277,{Rt:et})}};return nt(Q)-nt(tt)})(b.type,A.type)||this.eu(b.doc,A.doc))),this.ou(a),l=l??!1;const p=i&&!l?this._u():[],y=this.Xa.size===0&&this.current&&!l?1:0,_=y!==this.Za;return this.Za=y,d.length!==0||_?{snapshot:new Uo(this.query,t.tu,c,d,t.mutatedKeys,y===0,_,!1,!!a&&a.resumeToken.approximateByteSize()>0),au:p}:{au:p}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new vv,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((i=>this.Ya=this.Ya.add(i))),t.modifiedDocuments.forEach((i=>{})),t.removedDocuments.forEach((i=>this.Ya=this.Ya.delete(i))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=jt(),this.tu.forEach((a=>{this.uu(a.key)&&(this.Xa=this.Xa.add(a.key))}));const i=[];return t.forEach((a=>{this.Xa.has(a)||i.push(new FE(a))})),this.Xa.forEach((a=>{t.has(a)||i.push(new HE(a))})),i}cu(t){this.Ya=t.Qs,this.Xa=jt();const i=this.ru(t.documents);return this.applyChanges(i,!0)}lu(){return Uo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const vg="SyncEngine";class _C{constructor(t,i,a){this.query=t,this.targetId=i,this.view=a}}class vC{constructor(t){this.key=t,this.hu=!1}}class EC{constructor(t,i,a,l,c,d){this.localStore=t,this.remoteStore=i,this.eventManager=a,this.sharedClientState=l,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new Sa((p=>uE(p)),Oh),this.Iu=new Map,this.Eu=new Set,this.du=new ve(pt.comparator),this.Au=new Map,this.Ru=new lg,this.Vu={},this.mu=new Map,this.fu=ko.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function TC(s,t,i=!0){const a=$E(s);let l;const c=a.Tu.get(t);return c?(a.sharedClientState.addLocalQueryTarget(c.targetId),l=c.view.lu()):l=await GE(a,t,i,!0),l}async function bC(s,t){const i=$E(s);await GE(i,t,!0,!1)}async function GE(s,t,i,a){const l=await zI(s.localStore,Pi(t)),c=l.targetId,d=s.sharedClientState.addLocalQueryTarget(c,i);let p;return a&&(p=await AC(s,t,c,d==="current",l.resumeToken)),s.isPrimaryClient&&i&&LE(s.remoteStore,l),p}async function AC(s,t,i,a,l){s.pu=(A,O,Q)=>(async function(nt,et,yt,St){let _t=et.view.ru(yt);_t.Cs&&(_t=await dv(nt.localStore,et.query,!1).then((({documents:C})=>et.view.ru(C,_t))));const Mt=St&&St.targetChanges.get(et.targetId),Kt=St&&St.targetMismatches.get(et.targetId)!=null,xt=et.view.applyChanges(_t,nt.isPrimaryClient,Mt,Kt);return Av(nt,et.targetId,xt.au),xt.snapshot})(s,A,O,Q);const c=await dv(s.localStore,t,!0),d=new yC(t,c.Qs),p=d.ru(c.documents),y=_u.createSynthesizedTargetChangeForCurrentChange(i,a&&s.onlineState!=="Offline",l),_=d.applyChanges(p,s.isPrimaryClient,y);Av(s,i,_.au);const b=new _C(t,i,d);return s.Tu.set(t,b),s.Iu.has(i)?s.Iu.get(i).push(t):s.Iu.set(i,[t]),_.snapshot}async function SC(s,t,i){const a=Rt(s),l=a.Tu.get(t),c=a.Iu.get(l.targetId);if(c.length>1)return a.Iu.set(l.targetId,c.filter((d=>!Oh(d,t)))),void a.Tu.delete(t);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(l.targetId),a.sharedClientState.isActiveQueryTarget(l.targetId)||await Im(a.localStore,l.targetId,!1).then((()=>{a.sharedClientState.clearQueryState(l.targetId),i&&fg(a.remoteStore,l.targetId),Dm(a,l.targetId)})).catch(qo)):(Dm(a,l.targetId),await Im(a.localStore,l.targetId,!0))}async function wC(s,t){const i=Rt(s),a=i.Tu.get(t),l=i.Iu.get(a.targetId);i.isPrimaryClient&&l.length===1&&(i.sharedClientState.removeLocalQueryTarget(a.targetId),fg(i.remoteStore,a.targetId))}async function RC(s,t,i){const a=OC(s);try{const l=await(function(d,p){const y=Rt(d),_=ge.now(),b=p.reduce(((Q,tt)=>Q.add(tt.key)),jt());let A,O;return y.persistence.runTransaction("Locally write mutations","readwrite",(Q=>{let tt=br(),nt=jt();return y.Ns.getEntries(Q,b).next((et=>{tt=et,tt.forEach(((yt,St)=>{St.isValidDocument()||(nt=nt.add(yt))}))})).next((()=>y.localDocuments.getOverlayedDocuments(Q,tt))).next((et=>{A=et;const yt=[];for(const St of p){const _t=PR(St,A.get(St.key).overlayedDocument);_t!=null&&yt.push(new Cs(St.key,_t,eE(_t.value.mapValue),Ei.exists(!0)))}return y.mutationQueue.addMutationBatch(Q,_,yt,p)})).next((et=>{O=et;const yt=et.applyToLocalDocumentSet(A,nt);return y.documentOverlayCache.saveOverlays(Q,et.batchId,yt)}))})).then((()=>({batchId:O.batchId,changes:fE(A)})))})(a.localStore,t);a.sharedClientState.addPendingMutation(l.batchId),(function(d,p,y){let _=d.Vu[d.currentUser.toKey()];_||(_=new ve(zt)),_=_.insert(p,y),d.Vu[d.currentUser.toKey()]=_})(a,l.batchId,i),await Eu(a,l.changes),await jh(a.remoteStore)}catch(l){const c=yg(l,"Failed to persist write");i.reject(c)}}async function QE(s,t){const i=Rt(s);try{const a=await UI(i.localStore,t);t.targetChanges.forEach(((l,c)=>{const d=i.Au.get(c);d&&(Zt(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?d.hu=!0:l.modifiedDocuments.size>0?Zt(d.hu,14607):l.removedDocuments.size>0&&(Zt(d.hu,42227),d.hu=!1))})),await Eu(i,a,t)}catch(a){await qo(a)}}function bv(s,t,i){const a=Rt(s);if(a.isPrimaryClient&&i===0||!a.isPrimaryClient&&i===1){const l=[];a.Tu.forEach(((c,d)=>{const p=d.view.va(t);p.snapshot&&l.push(p.snapshot)})),(function(d,p){const y=Rt(d);y.onlineState=p;let _=!1;y.queries.forEach(((b,A)=>{for(const O of A.Sa)O.va(p)&&(_=!0)})),_&&_g(y)})(a.eventManager,t),l.length&&a.Pu.H_(l),a.onlineState=t,a.isPrimaryClient&&a.sharedClientState.setOnlineState(t)}}async function IC(s,t,i){const a=Rt(s);a.sharedClientState.updateQueryState(t,"rejected",i);const l=a.Au.get(t),c=l&&l.key;if(c){let d=new ve(pt.comparator);d=d.insert(c,cn.newNoDocument(c,At.min()));const p=jt().add(c),y=new Lh(At.min(),new Map,new ve(zt),d,p);await QE(a,y),a.du=a.du.remove(c),a.Au.delete(t),Eg(a)}else await Im(a.localStore,t,!1).then((()=>Dm(a,t,i))).catch(qo)}async function CC(s,t){const i=Rt(s),a=t.batch.batchId;try{const l=await kI(i.localStore,t);KE(i,a,null),YE(i,a),i.sharedClientState.updateMutationState(a,"acknowledged"),await Eu(i,l)}catch(l){await qo(l)}}async function NC(s,t,i){const a=Rt(s);try{const l=await(function(d,p){const y=Rt(d);return y.persistence.runTransaction("Reject batch","readwrite-primary",(_=>{let b;return y.mutationQueue.lookupMutationBatch(_,p).next((A=>(Zt(A!==null,37113),b=A.keys(),y.mutationQueue.removeMutationBatch(_,A)))).next((()=>y.mutationQueue.performConsistencyCheck(_))).next((()=>y.documentOverlayCache.removeOverlaysForBatchId(_,b,p))).next((()=>y.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,b))).next((()=>y.localDocuments.getDocuments(_,b)))}))})(a.localStore,t);KE(a,t,i),YE(a,t),a.sharedClientState.updateMutationState(t,"rejected",i),await Eu(a,l)}catch(l){await qo(l)}}function YE(s,t){(s.mu.get(t)||[]).forEach((i=>{i.resolve()})),s.mu.delete(t)}function KE(s,t,i){const a=Rt(s);let l=a.Vu[a.currentUser.toKey()];if(l){const c=l.get(t);c&&(i?c.reject(i):c.resolve(),l=l.remove(t)),a.Vu[a.currentUser.toKey()]=l}}function Dm(s,t,i=null){s.sharedClientState.removeLocalQueryTarget(t);for(const a of s.Iu.get(t))s.Tu.delete(a),i&&s.Pu.yu(a,i);s.Iu.delete(t),s.isPrimaryClient&&s.Ru.jr(t).forEach((a=>{s.Ru.containsKey(a)||XE(s,a)}))}function XE(s,t){s.Eu.delete(t.path.canonicalString());const i=s.du.get(t);i!==null&&(fg(s.remoteStore,i),s.du=s.du.remove(t),s.Au.delete(i),Eg(s))}function Av(s,t,i){for(const a of i)a instanceof HE?(s.Ru.addReference(a.key,t),DC(s,a)):a instanceof FE?(ut(vg,"Document no longer in limbo: "+a.key),s.Ru.removeReference(a.key,t),s.Ru.containsKey(a.key)||XE(s,a.key)):Et(19791,{wu:a})}function DC(s,t){const i=t.key,a=i.path.canonicalString();s.du.get(i)||s.Eu.has(a)||(ut(vg,"New document in limbo: "+i),s.Eu.add(a),Eg(s))}function Eg(s){for(;s.Eu.size>0&&s.du.size<s.maxConcurrentLimboResolutions;){const t=s.Eu.values().next().value;s.Eu.delete(t);const i=new pt(he.fromString(t)),a=s.fu.next();s.Au.set(a,new vC(i)),s.du=s.du.insert(i,a),LE(s.remoteStore,new ms(Pi(ng(i.path)),a,"TargetPurposeLimboResolution",Dh.ce))}}async function Eu(s,t,i){const a=Rt(s),l=[],c=[],d=[];a.Tu.isEmpty()||(a.Tu.forEach(((p,y)=>{d.push(a.pu(y,t,i).then((_=>{if((_||i)&&a.isPrimaryClient){const b=_?!_.fromCache:i?.targetChanges.get(y.targetId)?.current;a.sharedClientState.updateQueryState(y.targetId,b?"current":"not-current")}if(_){l.push(_);const b=cg.As(y.targetId,_);c.push(b)}})))})),await Promise.all(d),a.Pu.H_(l),await(async function(y,_){const b=Rt(y);try{await b.persistence.runTransaction("notifyLocalViewChanges","readwrite",(A=>Z.forEach(_,(O=>Z.forEach(O.Es,(Q=>b.persistence.referenceDelegate.addReference(A,O.targetId,Q))).next((()=>Z.forEach(O.ds,(Q=>b.persistence.referenceDelegate.removeReference(A,O.targetId,Q)))))))))}catch(A){if(!Ho(A))throw A;ut(hg,"Failed to update sequence numbers: "+A)}for(const A of _){const O=A.targetId;if(!A.fromCache){const Q=b.Ms.get(O),tt=Q.snapshotVersion,nt=Q.withLastLimboFreeSnapshotVersion(tt);b.Ms=b.Ms.insert(O,nt)}}})(a.localStore,c))}async function xC(s,t){const i=Rt(s);if(!i.currentUser.isEqual(t)){ut(vg,"User change. New user:",t.toKey());const a=await OE(i.localStore,t);i.currentUser=t,(function(c,d){c.mu.forEach((p=>{p.forEach((y=>{y.reject(new ct(J.CANCELLED,d))}))})),c.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(t,a.removedBatchIds,a.addedBatchIds),await Eu(i,a.Ls)}}function MC(s,t){const i=Rt(s),a=i.Au.get(t);if(a&&a.hu)return jt().add(a.key);{let l=jt();const c=i.Iu.get(t);if(!c)return l;for(const d of c){const p=i.Tu.get(d);l=l.unionWith(p.view.nu)}return l}}function $E(s){const t=Rt(s);return t.remoteStore.remoteSyncer.applyRemoteEvent=QE.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=MC.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=IC.bind(null,t),t.Pu.H_=mC.bind(null,t.eventManager),t.Pu.yu=gC.bind(null,t.eventManager),t}function OC(s){const t=Rt(s);return t.remoteStore.remoteSyncer.applySuccessfulWrite=CC.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=NC.bind(null,t),t}class bh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Ph(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,i){return null}Mu(t,i){return null}vu(t){return VI(this.persistence,new xI,t.initialUser,this.serializer)}Cu(t){return new ME(ug.mi,this.serializer)}Du(t){return new BI}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}bh.provider={build:()=>new bh};class VC extends bh{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,i){Zt(this.persistence.referenceDelegate instanceof Eh,46915);const a=this.persistence.referenceDelegate.garbageCollector;return new pI(a,t.asyncQueue,i)}Cu(t){const i=this.cacheSizeBytes!==void 0?wn.withCacheSize(this.cacheSizeBytes):wn.DEFAULT;return new ME((a=>Eh.mi(a,i)),this.serializer)}}class xm{async initialize(t,i){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>bv(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=xC.bind(null,this.syncEngine),await uC(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new hC})()}createDatastore(t){const i=Ph(t.databaseInfo.databaseId),a=(function(c){return new QI(c)})(t.databaseInfo);return(function(c,d,p,y){return new $I(c,d,p,y)})(t.authCredentials,t.appCheckCredentials,a,i)}createRemoteStore(t){return(function(a,l,c,d,p){return new ZI(a,l,c,d,p)})(this.localStore,this.datastore,t.asyncQueue,(i=>bv(this.syncEngine,i,0)),(function(){return pv.v()?new pv:new qI})())}createSyncEngine(t,i){return(function(l,c,d,p,y,_,b){const A=new EC(l,c,d,p,y,_);return b&&(A.gu=!0),A})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const a=Rt(i);ut(Aa,"RemoteStore shutting down."),a.Ea.add(5),await vu(a),a.Aa.shutdown(),a.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}xm.provider={build:()=>new xm};class kC{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):Tr("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,i){setTimeout((()=>{this.muted||t(i)}),0)}}const Rs="FirestoreClient";class UC{constructor(t,i,a,l,c){this.authCredentials=t,this.appCheckCredentials=i,this.asyncQueue=a,this.databaseInfo=l,this.user=un.UNAUTHENTICATED,this.clientId=$m.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(a,(async d=>{ut(Rs,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(a,(d=>(ut(Rs,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new pa;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(i){const a=yg(i,"Failed to shutdown persistence");t.reject(a)}})),t.promise}}async function nm(s,t){s.asyncQueue.verifyOperationInProgress(),ut(Rs,"Initializing OfflineComponentProvider");const i=s.configuration;await t.initialize(i);let a=i.initialUser;s.setCredentialChangeListener((async l=>{a.isEqual(l)||(await OE(t.localStore,l),a=l)})),t.persistence.setDatabaseDeletedListener((()=>s.terminate())),s._offlineComponents=t}async function Sv(s,t){s.asyncQueue.verifyOperationInProgress();const i=await LC(s);ut(Rs,"Initializing OnlineComponentProvider"),await t.initialize(i,s.configuration),s.setCredentialChangeListener((a=>_v(t.remoteStore,a))),s.setAppCheckTokenChangeListener(((a,l)=>_v(t.remoteStore,l))),s._onlineComponents=t}async function LC(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){ut(Rs,"Using user provided OfflineComponentProvider");try{await nm(s,s._uninitializedComponentsProvider._offline)}catch(t){const i=t;if(!(function(l){return l.name==="FirebaseError"?l.code===J.FAILED_PRECONDITION||l.code===J.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11})(i))throw i;xo("Error using user provided cache. Falling back to memory cache: "+i),await nm(s,new bh)}}else ut(Rs,"Using default OfflineComponentProvider"),await nm(s,new VC(void 0));return s._offlineComponents}async function JE(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(ut(Rs,"Using user provided OnlineComponentProvider"),await Sv(s,s._uninitializedComponentsProvider._online)):(ut(Rs,"Using default OnlineComponentProvider"),await Sv(s,new xm))),s._onlineComponents}function PC(s){return JE(s).then((t=>t.syncEngine))}async function wv(s){const t=await JE(s),i=t.eventManager;return i.onListen=TC.bind(null,t.syncEngine),i.onUnlisten=SC.bind(null,t.syncEngine),i.onFirstRemoteStoreListen=bC.bind(null,t.syncEngine),i.onLastRemoteStoreUnlisten=wC.bind(null,t.syncEngine),i}function ZE(s){const t={};return s.timeoutSeconds!==void 0&&(t.timeoutSeconds=s.timeoutSeconds),t}const Rv=new Map;const WE="firestore.googleapis.com",Iv=!0;class Cv{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new ct(J.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=WE,this.ssl=Iv}else this.host=t.host,this.ssl=t.ssl??Iv;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=xE;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<mI)throw new ct(J.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}Jw("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=ZE(t.experimentalLongPollingOptions??{}),(function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new ct(J.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new ct(J.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new ct(J.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(a,l){return a.timeoutSeconds===l.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Bh{constructor(t,i,a,l){this._authCredentials=t,this._appCheckCredentials=i,this._databaseId=a,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Cv({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ct(J.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new ct(J.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Cv(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(a){if(!a)return new Bw;switch(a.type){case"firstParty":return new Gw(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new ct(J.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const a=Rv.get(i);a&&(ut("ComponentProvider","Removing Datastore"),Rv.delete(i),a.terminate())})(this),Promise.resolve()}}function zC(s,t,i,a={}){s=vs(s,Bh);const l=Po(t),c=s._getSettings(),d={...c,emulatorOptions:s._getEmulatorOptions()},p=`${t}:${i}`;l&&(Jv(`https://${p}`),Zv("Firestore",!0)),c.host!==WE&&c.host!==p&&xo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const y={...c,host:p,ssl:l,emulatorOptions:a};if(!va(y,d)&&(s._setSettings(y),a.mockUserToken)){let _,b;if(typeof a.mockUserToken=="string")_=a.mockUserToken,b=un.MOCK_USER;else{_=cA(a.mockUserToken,s._app?.options.projectId);const A=a.mockUserToken.sub||a.mockUserToken.user_id;if(!A)throw new ct(J.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");b=new un(A)}s._authCredentials=new qw(new H1(_,b))}}class Go{constructor(t,i,a){this.converter=i,this._query=a,this.type="query",this.firestore=t}withConverter(t){return new Go(this.firestore,t,this._query)}}class Fe{constructor(t,i,a){this.converter=i,this._key=a,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Es(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Fe(this.firestore,t,this._key)}toJSON(){return{type:Fe._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,i,a){if(gu(i,Fe._jsonSchema))return new Fe(t,a||null,new pt(he.fromString(i.referencePath)))}}Fe._jsonSchemaVersion="firestore/documentReference/1.0",Fe._jsonSchema={type:He("string",Fe._jsonSchemaVersion),referencePath:He("string")};class Es extends Go{constructor(t,i,a){super(t,i,ng(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Fe(this.firestore,null,new pt(t))}withConverter(t){return new Es(this.firestore,t,this._path)}}function Nv(s,t,...i){if(s=sn(s),F1("collection","path",t),s instanceof Bh){const a=he.fromString(t,...i);return j0(a),new Es(s,null,a)}{if(!(s instanceof Fe||s instanceof Es))throw new ct(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=s._path.child(he.fromString(t,...i));return j0(a),new Es(s.firestore,null,a)}}function Fl(s,t,...i){if(s=sn(s),arguments.length===1&&(t=$m.newId()),F1("doc","path",t),s instanceof Bh){const a=he.fromString(t,...i);return z0(a),new Fe(s,null,new pt(a))}{if(!(s instanceof Fe||s instanceof Es))throw new ct(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=s._path.child(he.fromString(t,...i));return z0(a),new Fe(s.firestore,s instanceof Es?s.converter:null,new pt(a))}}const Dv="AsyncQueue";class xv{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new kE(this,"async_queue_retry"),this._c=()=>{const a=em();a&&ut(Dv,"Visibility state changed to "+a.visibilityState),this.M_.w_()},this.ac=t;const i=em();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const i=em();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new pa;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Xu.push(t),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!Ho(t))throw t;ut(Dv,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const i=this.ac.then((()=>(this.rc=!0,t().catch((a=>{throw this.nc=a,this.rc=!1,Tr("INTERNAL UNHANDLED ERROR: ",Mv(a)),a})).then((a=>(this.rc=!1,a))))));return this.ac=i,i}enqueueAfterDelay(t,i,a){this.uc(),this.oc.indexOf(t)>-1&&(i=0);const l=pg.createAndSchedule(this,t,i,a,(c=>this.hc(c)));return this.tc.push(l),l}uc(){this.nc&&Et(47125,{Pc:Mv(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const i of this.tc)if(i.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((i,a)=>i.targetTimeMs-a.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),t!=="all"&&i.timerId===t)break;return this.Tc()}))}dc(t){this.oc.push(t)}hc(t){const i=this.tc.indexOf(t);this.tc.splice(i,1)}}function Mv(s){let t=s.message||"";return s.stack&&(t=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),t}function Ov(s){return(function(i,a){if(typeof i!="object"||i===null)return!1;const l=i;for(const c of a)if(c in l&&typeof l[c]=="function")return!0;return!1})(s,["next","error","complete"])}class Lo extends Bh{constructor(t,i,a,l){super(t,i,a,l),this.type="firestore",this._queue=new xv,this._persistenceKey=l?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new xv(t),this._firestoreClient=void 0,await t}}}function jC(s,t){const i=typeof s=="object"?s:n1(),a=typeof s=="string"?s:mh,l=jm(i,"firestore").getImmediate({identifier:a});if(!l._initialized){const c=lA("firestore");c&&zC(l,...c)}return l}function tT(s){if(s._terminated)throw new ct(J.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||BC(s),s._firestoreClient}function BC(s){const t=s._freezeSettings(),i=(function(l,c,d,p){return new lR(l,c,d,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,ZE(p.experimentalLongPollingOptions),p.useFetchStreams,p.isUsingEmulator)})(s._databaseId,s._app?.options.appId||"",s._persistenceKey,t);s._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(s._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),s._firestoreClient=new UC(s._authCredentials,s._appCheckCredentials,s._queue,i,s._componentsProvider&&(function(l){const c=l?._online.build();return{_offline:l?._offline.build(c),_online:c}})(s._componentsProvider))}class li{constructor(t){this._byteString=t}static fromBase64String(t){try{return new li(an.fromBase64String(t))}catch(i){throw new ct(J.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(t){return new li(an.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:li._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(gu(t,li._jsonSchema))return li.fromBase64String(t.bytes)}}li._jsonSchemaVersion="firestore/bytes/1.0",li._jsonSchema={type:He("string",li._jsonSchemaVersion),bytes:He("string")};class qh{constructor(...t){for(let i=0;i<t.length;++i)if(t[i].length===0)throw new ct(J.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new rn(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class Hh{constructor(t){this._methodName=t}}class ji{constructor(t,i){if(!isFinite(t)||t<-90||t>90)throw new ct(J.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(i)||i<-180||i>180)throw new ct(J.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=t,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return zt(this._lat,t._lat)||zt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:ji._jsonSchemaVersion}}static fromJSON(t){if(gu(t,ji._jsonSchema))return new ji(t.latitude,t.longitude)}}ji._jsonSchemaVersion="firestore/geoPoint/1.0",ji._jsonSchema={type:He("string",ji._jsonSchemaVersion),latitude:He("number"),longitude:He("number")};class Bi{constructor(t){this._values=(t||[]).map((i=>i))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(a,l){if(a.length!==l.length)return!1;for(let c=0;c<a.length;++c)if(a[c]!==l[c])return!1;return!0})(this._values,t._values)}toJSON(){return{type:Bi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(gu(t,Bi._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((i=>typeof i=="number")))return new Bi(t.vectorValues);throw new ct(J.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Bi._jsonSchemaVersion="firestore/vectorValue/1.0",Bi._jsonSchema={type:He("string",Bi._jsonSchemaVersion),vectorValues:He("object")};const qC=/^__.*__$/;class HC{constructor(t,i,a){this.data=t,this.fieldMask=i,this.fieldTransforms=a}toMutation(t,i){return this.fieldMask!==null?new Cs(t,this.data,this.fieldMask,i,this.fieldTransforms):new yu(t,this.data,i,this.fieldTransforms)}}class eT{constructor(t,i,a){this.data=t,this.fieldMask=i,this.fieldTransforms=a}toMutation(t,i){return new Cs(t,this.data,this.fieldMask,i,this.fieldTransforms)}}function nT(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Et(40011,{Ac:s})}}class Tg{constructor(t,i,a,l,c,d){this.settings=t,this.databaseId=i,this.serializer=a,this.ignoreUndefinedProperties=l,c===void 0&&this.Rc(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new Tg({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){const i=this.path?.child(t),a=this.Vc({path:i,fc:!1});return a.gc(t),a}yc(t){const i=this.path?.child(t),a=this.Vc({path:i,fc:!1});return a.Rc(),a}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return Ah(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find((i=>t.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>t.isPrefixOf(i.field)))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(nT(this.Ac)&&qC.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class FC{constructor(t,i,a){this.databaseId=t,this.ignoreUndefinedProperties=i,this.serializer=a||Ph(t)}Cc(t,i,a,l=!1){return new Tg({Ac:t,methodName:i,Dc:a,path:rn.emptyPath(),fc:!1,bc:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function bg(s){const t=s._freezeSettings(),i=Ph(s._databaseId);return new FC(s._databaseId,!!t.ignoreUndefinedProperties,i)}function GC(s,t,i,a,l,c={}){const d=s.Cc(c.merge||c.mergeFields?2:0,t,i,l);Sg("Data must be an object, but it was:",d,a);const p=iT(a,d);let y,_;if(c.merge)y=new Gn(d.fieldMask),_=d.fieldTransforms;else if(c.mergeFields){const b=[];for(const A of c.mergeFields){const O=Mm(t,A,i);if(!d.contains(O))throw new ct(J.INVALID_ARGUMENT,`Field '${O}' is specified in your field mask but missing from your input data.`);sT(b,O)||b.push(O)}y=new Gn(b),_=d.fieldTransforms.filter((A=>y.covers(A.field)))}else y=null,_=d.fieldTransforms;return new HC(new Rn(p),y,_)}class Fh extends Hh{_toFieldTransform(t){if(t.Ac!==2)throw t.Ac===1?t.Sc(`${this._methodName}() can only appear at the top level of your update data`):t.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof Fh}}class Ag extends Hh{_toFieldTransform(t){return new VR(t.path,new ru)}isEqual(t){return t instanceof Ag}}function QC(s,t,i,a){const l=s.Cc(1,t,i);Sg("Data must be an object, but it was:",l,a);const c=[],d=Rn.empty();Is(a,((y,_)=>{const b=wg(t,y,i);_=sn(_);const A=l.yc(b);if(_ instanceof Fh)c.push(b);else{const O=Tu(_,A);O!=null&&(c.push(b),d.set(b,O))}}));const p=new Gn(c);return new eT(d,p,l.fieldTransforms)}function YC(s,t,i,a,l,c){const d=s.Cc(1,t,i),p=[Mm(t,a,i)],y=[l];if(c.length%2!=0)throw new ct(J.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let O=0;O<c.length;O+=2)p.push(Mm(t,c[O])),y.push(c[O+1]);const _=[],b=Rn.empty();for(let O=p.length-1;O>=0;--O)if(!sT(_,p[O])){const Q=p[O];let tt=y[O];tt=sn(tt);const nt=d.yc(Q);if(tt instanceof Fh)_.push(Q);else{const et=Tu(tt,nt);et!=null&&(_.push(Q),b.set(Q,et))}}const A=new Gn(_);return new eT(b,A,d.fieldTransforms)}function KC(s,t,i,a=!1){return Tu(i,s.Cc(a?4:3,t))}function Tu(s,t){if(rT(s=sn(s)))return Sg("Unsupported field value:",t,s),iT(s,t);if(s instanceof Hh)return(function(a,l){if(!nT(l.Ac))throw l.Sc(`${a._methodName}() can only be used with update() and set()`);if(!l.path)throw l.Sc(`${a._methodName}() is not currently supported inside arrays`);const c=a._toFieldTransform(l);c&&l.fieldTransforms.push(c)})(s,t),null;if(s===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),s instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return(function(a,l){const c=[];let d=0;for(const p of a){let y=Tu(p,l.wc(d));y==null&&(y={nullValue:"NULL_VALUE"}),c.push(y),d++}return{arrayValue:{values:c}}})(s,t)}return(function(a,l){if((a=sn(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return xR(l.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const c=ge.fromDate(a);return{timestampValue:vh(l.serializer,c)}}if(a instanceof ge){const c=new ge(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:vh(l.serializer,c)}}if(a instanceof ji)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof li)return{bytesValue:SE(l.serializer,a._byteString)};if(a instanceof Fe){const c=l.databaseId,d=a.firestore._databaseId;if(!d.isEqual(c))throw l.Sc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:og(a.firestore._databaseId||l.databaseId,a._key.path)}}if(a instanceof Bi)return(function(d,p){return{mapValue:{fields:{[W1]:{stringValue:tE},[gh]:{arrayValue:{values:d.toArray().map((_=>{if(typeof _!="number")throw p.Sc("VectorValues must only contain numeric values.");return ig(p.serializer,_)}))}}}}}})(a,l);throw l.Sc(`Unsupported field value: ${Nh(a)}`)})(s,t)}function iT(s,t){const i={};return Y1(s)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Is(s,((a,l)=>{const c=Tu(l,t.mc(a));c!=null&&(i[a]=c)})),{mapValue:{fields:i}}}function rT(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof ge||s instanceof ji||s instanceof li||s instanceof Fe||s instanceof Hh||s instanceof Bi)}function Sg(s,t,i){if(!rT(i)||!G1(i)){const a=Nh(i);throw a==="an object"?t.Sc(s+" a custom object"):t.Sc(s+" "+a)}}function Mm(s,t,i){if((t=sn(t))instanceof qh)return t._internalPath;if(typeof t=="string")return wg(s,t);throw Ah("Field path arguments must be of type string or ",s,!1,void 0,i)}const XC=new RegExp("[~\\*/\\[\\]]");function wg(s,t,i){if(t.search(XC)>=0)throw Ah(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,i);try{return new qh(...t.split("."))._internalPath}catch{throw Ah(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,i)}}function Ah(s,t,i,a,l){const c=a&&!a.isEmpty(),d=l!==void 0;let p=`Function ${t}() called with invalid data`;i&&(p+=" (via `toFirestore()`)"),p+=". ";let y="";return(c||d)&&(y+=" (found",c&&(y+=` in field ${a}`),d&&(y+=` in document ${l}`),y+=")"),new ct(J.INVALID_ARGUMENT,p+s+y)}function sT(s,t){return s.some((i=>i.isEqual(t)))}class aT{constructor(t,i,a,l,c){this._firestore=t,this._userDataWriter=i,this._key=a,this._document=l,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new Fe(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new $C(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const i=this._document.data.field(oT("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i)}}}class $C extends aT{data(){return super.data()}}function oT(s,t){return typeof t=="string"?wg(s,t):t instanceof qh?t._internalPath:t._delegate._internalPath}function JC(s){if(s.limitType==="L"&&s.explicitOrderBy.length===0)throw new ct(J.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Rg{}class ZC extends Rg{}function WC(s,t,...i){let a=[];t instanceof Rg&&a.push(t),a=a.concat(i),(function(c){const d=c.filter((y=>y instanceof Cg)).length,p=c.filter((y=>y instanceof Ig)).length;if(d>1||d>0&&p>0)throw new ct(J.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(a);for(const l of a)s=l._apply(s);return s}class Ig extends ZC{constructor(t,i,a){super(),this._field=t,this._op=i,this._value=a,this.type="where"}static _create(t,i,a){return new Ig(t,i,a)}_apply(t){const i=this._parse(t);return lT(t._query,i),new Go(t.firestore,t.converter,Tm(t._query,i))}_parse(t){const i=bg(t.firestore);return(function(c,d,p,y,_,b,A){let O;if(_.isKeyField()){if(b==="array-contains"||b==="array-contains-any")throw new ct(J.INVALID_ARGUMENT,`Invalid Query. You can't perform '${b}' queries on documentId().`);if(b==="in"||b==="not-in"){kv(A,b);const tt=[];for(const nt of A)tt.push(Vv(y,c,nt));O={arrayValue:{values:tt}}}else O=Vv(y,c,A)}else b!=="in"&&b!=="not-in"&&b!=="array-contains-any"||kv(A,b),O=KC(p,d,A,b==="in"||b==="not-in");return qe.create(_,b,O)})(t._query,"where",i,t.firestore._databaseId,this._field,this._op,this._value)}}class Cg extends Rg{constructor(t,i){super(),this.type=t,this._queryConstraints=i}static _create(t,i){return new Cg(t,i)}_parse(t){const i=this._queryConstraints.map((a=>a._parse(t))).filter((a=>a.getFilters().length>0));return i.length===1?i[0]:Ti.create(i,this._getOperator())}_apply(t){const i=this._parse(t);return i.getFilters().length===0?t:((function(l,c){let d=l;const p=c.getFlattenedFilters();for(const y of p)lT(d,y),d=Tm(d,y)})(t._query,i),new Go(t.firestore,t.converter,Tm(t._query,i)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function Vv(s,t,i){if(typeof(i=sn(i))=="string"){if(i==="")throw new ct(J.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!lE(t)&&i.indexOf("/")!==-1)throw new ct(J.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${i}' contains a '/' character.`);const a=t.path.child(he.fromString(i));if(!pt.isDocumentKey(a))throw new ct(J.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${a}' is not because it has an odd number of segments (${a.length}).`);return K0(s,new pt(a))}if(i instanceof Fe)return K0(s,i._key);throw new ct(J.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Nh(i)}.`)}function kv(s,t){if(!Array.isArray(s)||s.length===0)throw new ct(J.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function lT(s,t){const i=(function(l,c){for(const d of l)for(const p of d.getFlattenedFilters())if(c.indexOf(p.op)>=0)return p.op;return null})(s.filters,(function(l){switch(l){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(t.op));if(i!==null)throw i===t.op?new ct(J.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new ct(J.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${i.toString()}' filters.`)}class t4{convertValue(t,i="none"){switch(Ss(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Me(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,i);case 5:return t.stringValue;case 6:return this.convertBytes(As(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,i);case 11:return this.convertObject(t.mapValue,i);case 10:return this.convertVectorValue(t.mapValue);default:throw Et(62114,{value:t})}}convertObject(t,i){return this.convertObjectMap(t.fields,i)}convertObjectMap(t,i="none"){const a={};return Is(t,((l,c)=>{a[l]=this.convertValue(c,i)})),a}convertVectorValue(t){const i=t.fields?.[gh].arrayValue?.values?.map((a=>Me(a.doubleValue)));return new Bi(i)}convertGeoPoint(t){return new ji(Me(t.latitude),Me(t.longitude))}convertArray(t,i){return(t.values||[]).map((a=>this.convertValue(a,i)))}convertServerTimestamp(t,i){switch(i){case"previous":const a=Mh(t);return a==null?null:this.convertValue(a,i);case"estimate":return this.convertTimestamp(eu(t));default:return null}}convertTimestamp(t){const i=bs(t);return new ge(i.seconds,i.nanos)}convertDocumentKey(t,i){const a=he.fromString(t);Zt(DE(a),9688,{name:t});const l=new nu(a.get(1),a.get(3)),c=new pt(a.popFirst(5));return l.isEqual(i)||Tr(`Document ${c} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),c}}function e4(s,t,i){let a;return a=s?s.toFirestore(t):t,a}class Gl{constructor(t,i){this.hasPendingWrites=t,this.fromCache=i}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class ya extends aT{constructor(t,i,a,l,c,d){super(t,i,a,l,d),this._firestore=t,this._firestoreImpl=t,this.metadata=c}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const i=new ih(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,i={}){if(this._document){const a=this._document.data.field(oT("DocumentSnapshot.get",t));if(a!==null)return this._userDataWriter.convertValue(a,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ct(J.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,i={};return i.type=ya._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}ya._jsonSchemaVersion="firestore/documentSnapshot/1.0",ya._jsonSchema={type:He("string",ya._jsonSchemaVersion),bundleSource:He("string","DocumentSnapshot"),bundleName:He("string"),bundle:He("string")};class ih extends ya{data(t={}){return super.data(t)}}class Co{constructor(t,i,a,l){this._firestore=t,this._userDataWriter=i,this._snapshot=l,this.metadata=new Gl(l.hasPendingWrites,l.fromCache),this.query=a}get docs(){const t=[];return this.forEach((i=>t.push(i))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,i){this._snapshot.docs.forEach((a=>{t.call(i,new ih(this._firestore,this._userDataWriter,a.key,a,new Gl(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const i=!!t.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new ct(J.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(l,c){if(l._snapshot.oldDocs.isEmpty()){let d=0;return l._snapshot.docChanges.map((p=>{const y=new ih(l._firestore,l._userDataWriter,p.doc.key,p.doc,new Gl(l._snapshot.mutatedKeys.has(p.doc.key),l._snapshot.fromCache),l.query.converter);return p.doc,{type:"added",doc:y,oldIndex:-1,newIndex:d++}}))}{let d=l._snapshot.oldDocs;return l._snapshot.docChanges.filter((p=>c||p.type!==3)).map((p=>{const y=new ih(l._firestore,l._userDataWriter,p.doc.key,p.doc,new Gl(l._snapshot.mutatedKeys.has(p.doc.key),l._snapshot.fromCache),l.query.converter);let _=-1,b=-1;return p.type!==0&&(_=d.indexOf(p.doc.key),d=d.delete(p.doc.key)),p.type!==1&&(d=d.add(p.doc),b=d.indexOf(p.doc.key)),{type:n4(p.type),doc:y,oldIndex:_,newIndex:b}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ct(J.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=Co._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=$m.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],a=[],l=[];return this.docs.forEach((c=>{c._document!==null&&(i.push(c._document),a.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),l.push(c.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function n4(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Et(61501,{type:s})}}Co._jsonSchemaVersion="firestore/querySnapshot/1.0",Co._jsonSchema={type:He("string",Co._jsonSchemaVersion),bundleSource:He("string","QuerySnapshot"),bundleName:He("string"),bundle:He("string")};class uT extends t4{constructor(t){super(),this.firestore=t}convertBytes(t){return new li(t)}convertReference(t){const i=this.convertDocumentKey(t,this.firestore._databaseId);return new Fe(this.firestore,null,i)}}function im(s,t,i,...a){s=vs(s,Fe);const l=vs(s.firestore,Lo),c=bg(l);let d;return d=typeof(t=sn(t))=="string"||t instanceof qh?YC(c,"updateDoc",s._key,t,i,a):QC(c,"updateDoc",s._key,t),Ng(l,[d.toMutation(s._key,Ei.exists(!0))])}function i4(s){return Ng(vs(s.firestore,Lo),[new rg(s._key,Ei.none())])}function r4(s,t){const i=vs(s.firestore,Lo),a=Fl(s),l=e4(s.converter,t);return Ng(i,[GC(bg(s.firestore),"addDoc",a._key,l,s.converter!==null,{}).toMutation(a._key,Ei.exists(!1))]).then((()=>a))}function s4(s,...t){s=sn(s);let i={includeMetadataChanges:!1,source:"default"},a=0;typeof t[a]!="object"||Ov(t[a])||(i=t[a++]);const l={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(Ov(t[a])){const y=t[a];t[a]=y.next?.bind(y),t[a+1]=y.error?.bind(y),t[a+2]=y.complete?.bind(y)}let c,d,p;if(s instanceof Fe)d=vs(s.firestore,Lo),p=ng(s._key.path),c={next:y=>{t[a]&&t[a](a4(d,s,y))},error:t[a+1],complete:t[a+2]};else{const y=vs(s,Go);d=vs(y.firestore,Lo),p=y._query;const _=new uT(d);c={next:b=>{t[a]&&t[a](new Co(d,_,y,b))},error:t[a+1],complete:t[a+2]},JC(s._query)}return(function(_,b,A,O){const Q=new kC(O),tt=new pC(b,Q,A);return _.asyncQueue.enqueueAndForget((async()=>fC(await wv(_),tt))),()=>{Q.Nu(),_.asyncQueue.enqueueAndForget((async()=>dC(await wv(_),tt)))}})(tT(d),p,l,c)}function Ng(s,t){return(function(a,l){const c=new pa;return a.asyncQueue.enqueueAndForget((async()=>RC(await PC(a),l,c))),c.promise})(tT(s),t)}function a4(s,t,i){const a=i.docs.get(t._key),l=new uT(s);return new ya(s,l,t._key,a,new Gl(i.hasPendingWrites,i.fromCache),t.converter)}function o4(){return new Ag("serverTimestamp")}(function(t,i=!0){(function(l){Bo=l})(zo),Do(new Ea("firestore",((a,{instanceIdentifier:l,options:c})=>{const d=a.getProvider("app").getImmediate(),p=new Lo(new Hw(a.getProvider("auth-internal")),new Qw(d,a.getProvider("app-check-internal")),(function(_,b){if(!Object.prototype.hasOwnProperty.apply(_.options,["projectId"]))throw new ct(J.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new nu(_.options.projectId,b)})(d,l),d);return c={useFetchStreams:i,...c},p._setSettings(c),p}),"PUBLIC").setMultipleInstances(!0)),ys(k0,U0,t),ys(k0,U0,"esm2020")})();const l4=s=>s.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),u4=s=>s.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,i,a)=>a?a.toUpperCase():i.toLowerCase()),Uv=s=>{const t=u4(s);return t.charAt(0).toUpperCase()+t.slice(1)},cT=(...s)=>s.filter((t,i,a)=>!!t&&t.trim()!==""&&a.indexOf(t)===i).join(" ").trim(),c4=s=>{for(const t in s)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};var h4={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const f4=at.forwardRef(({color:s="currentColor",size:t=24,strokeWidth:i=2,absoluteStrokeWidth:a,className:l="",children:c,iconNode:d,...p},y)=>at.createElement("svg",{ref:y,...h4,width:t,height:t,stroke:s,strokeWidth:a?Number(i)*24/Number(t):i,className:cT("lucide",l),...!c&&!c4(p)&&{"aria-hidden":"true"},...p},[...d.map(([_,b])=>at.createElement(_,b)),...Array.isArray(c)?c:[c]]));const Bt=(s,t)=>{const i=at.forwardRef(({className:a,...l},c)=>at.createElement(f4,{ref:c,iconNode:t,className:cT(`lucide-${l4(Uv(s))}`,`lucide-${s}`,a),...l}));return i.displayName=Uv(s),i};const d4=[["path",{d:"M12 6v16",key:"nqf5sj"}],["path",{d:"m19 13 2-1a9 9 0 0 1-18 0l2 1",key:"y7qv08"}],["path",{d:"M9 11h6",key:"1fldmi"}],["circle",{cx:"12",cy:"4",r:"2",key:"muu5ef"}]],m4=Bt("anchor",d4);const g4=[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]],rm=Bt("bot",g4);const p4=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],sm=Bt("briefcase",p4);const y4=[["path",{d:"M12 20v-9",key:"1qisl0"}],["path",{d:"M14 7a4 4 0 0 1 4 4v3a6 6 0 0 1-12 0v-3a4 4 0 0 1 4-4z",key:"uouzyp"}],["path",{d:"M14.12 3.88 16 2",key:"qol33r"}],["path",{d:"M21 21a4 4 0 0 0-3.81-4",key:"1b0z45"}],["path",{d:"M21 5a4 4 0 0 1-3.55 3.97",key:"5cxbf6"}],["path",{d:"M22 13h-4",key:"1jl80f"}],["path",{d:"M3 21a4 4 0 0 1 3.81-4",key:"1fjd4g"}],["path",{d:"M3 5a4 4 0 0 0 3.55 3.97",key:"1d7oge"}],["path",{d:"M6 13H2",key:"82j7cp"}],["path",{d:"m8 2 1.88 1.88",key:"fmnt4t"}],["path",{d:"M9 7.13V6a3 3 0 1 1 6 0v1.13",key:"1vgav8"}]],_4=Bt("bug",y4);const v4=[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],Om=Bt("camera",v4);const E4=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],T4=Bt("chevron-down",E4);const b4=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],A4=Bt("chevron-right",b4);const S4=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}]],rh=Bt("circle-dot",S4);const w4=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],Lv=Bt("crown",w4);const R4=[["path",{d:"M11 20H2",key:"nlcfvz"}],["path",{d:"M11 4.562v16.157a1 1 0 0 0 1.242.97L19 20V5.562a2 2 0 0 0-1.515-1.94l-4-1A2 2 0 0 0 11 4.561z",key:"au4z13"}],["path",{d:"M11 4H8a2 2 0 0 0-2 2v14",key:"74r1mk"}],["path",{d:"M14 12h.01",key:"1jfl7z"}],["path",{d:"M22 20h-3",key:"vhrsz"}]],I4=Bt("door-open",R4);const C4=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],N4=Bt("eye-off",C4);const D4=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],x4=Bt("eye",D4);const M4=[["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}],["path",{d:"M12 16.5A4.5 4.5 0 1 1 7.5 12 4.5 4.5 0 1 1 12 7.5a4.5 4.5 0 1 1 4.5 4.5 4.5 4.5 0 1 1-4.5 4.5",key:"14wa3c"}],["path",{d:"M12 7.5V9",key:"1oy5b0"}],["path",{d:"M7.5 12H9",key:"eltsq1"}],["path",{d:"M16.5 12H15",key:"vk5kw4"}],["path",{d:"M12 16.5V15",key:"k7eayi"}],["path",{d:"m8 8 1.88 1.88",key:"nxy4qf"}],["path",{d:"M14.12 9.88 16 8",key:"1lst6k"}],["path",{d:"m8 16 1.88-1.88",key:"h2eex1"}],["path",{d:"M14.12 14.12 16 16",key:"uqkrx3"}]],Gc=Bt("flower",M4);const O4=[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]],V4=Bt("heart",O4);const k4=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],hT=Bt("image",k4);const U4=[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]],Pv=Bt("key",U4);const L4=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],P4=Bt("layers",L4);const z4=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],No=Bt("map-pin",z4);const j4=[["path",{d:"M12 2v20",key:"t6zp3m"}],["path",{d:"m15 19-3 3-3-3",key:"11eu04"}],["path",{d:"m19 9 3 3-3 3",key:"1mg7y2"}],["path",{d:"M2 12h20",key:"9i4pu4"}],["path",{d:"m5 9-3 3 3 3",key:"j64kie"}],["path",{d:"m9 5 3-3 3 3",key:"l8vdw6"}]],B4=Bt("move",j4);const q4=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],zl=Bt("package",q4);const H4=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],F4=Bt("plus",H4);const G4=[["path",{d:"M16.247 7.761a6 6 0 0 1 0 8.478",key:"1fwjs5"}],["path",{d:"M19.075 4.933a10 10 0 0 1 0 14.134",key:"ehdyv1"}],["path",{d:"M4.925 19.067a10 10 0 0 1 0-14.134",key:"1q22gi"}],["path",{d:"M7.753 16.239a6 6 0 0 1 0-8.478",key:"r2q7qm"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],zv=Bt("radio",G4);const Q4=[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]],Y4=Bt("rocket",Q4);const K4=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M14 15H9v-5",key:"pi4jk9"}],["path",{d:"M16 3h5v5",key:"1806ms"}],["path",{d:"M21 3 9 15",key:"15kdhq"}]],X4=Bt("scaling",K4);const $4=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],J4=Bt("search",$4);const Z4=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],W4=Bt("settings",Z4);const tN=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]],Vm=Bt("shield-alert",tN);const eN=[["path",{d:"m12.5 17-.5-1-.5 1h1z",key:"3me087"}],["path",{d:"M15 22a1 1 0 0 0 1-1v-1a2 2 0 0 0 1.56-3.25 8 8 0 1 0-11.12 0A2 2 0 0 0 8 20v1a1 1 0 0 0 1 1z",key:"1o5pge"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}]],nN=Bt("skull",eN);const iN=[["path",{d:"M14 9.536V7a4 4 0 0 1 4-4h1.5a.5.5 0 0 1 .5.5V5a4 4 0 0 1-4 4 4 4 0 0 0-4 4c0 2 1 3 1 5a5 5 0 0 1-1 3",key:"139s4v"}],["path",{d:"M4 9a5 5 0 0 1 8 4 5 5 0 0 1-8-4",key:"1dlkgp"}],["path",{d:"M5 21h14",key:"11awu3"}]],jv=Bt("sprout",iN);const rN=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]],sN=Bt("square-plus",rN);const aN=[["path",{d:"M3.5 21 14 3",key:"1szst5"}],["path",{d:"M20.5 21 10 3",key:"1310c3"}],["path",{d:"M15.5 21 12 15l-3.5 6",key:"1ddtfw"}],["path",{d:"M2 21h20",key:"1nyx9w"}]],oN=Bt("tent",aN);const lN=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],uN=Bt("trash-2",lN);const cN=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],Sh=Bt("upload",cN);const hN=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],fN=Bt("user",hN);const dN=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],km=Bt("x",dN);const mN=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],Bv=Bt("zap",mN),am=typeof globalThis<"u"&&typeof globalThis.__firebase_config<"u"?globalThis.__firebase_config:"{}";let ou={};try{ou=typeof am=="string"?JSON.parse(am):am||{}}catch(s){console.warn("Failed to parse __firebase_config, falling back to empty config.",s),ou={}}const gN=!!(ou&&ou.apiKey),pN=typeof globalThis<"u"&&typeof globalThis.__disable_firebase<"u"?!!globalThis.__disable_firebase:!1;let Qc=null,Ao=null,dr=null,Um=!1;if(gN&&!pN)try{Qc=e1(ou),Ao=zw(Qc),dr=jC(Qc),Um=!!(Qc&&Ao&&dr)}catch(s){console.warn("Firebase init failed, running in local mode instead.",s),Um=!1}const Yc=Um,po=typeof globalThis<"u"&&typeof globalThis.__app_id<"u"?globalThis.__app_id:"default-app",yo=s=>`./maps/${s}`,fa={dam:{id:"dam",name:"",width:2e3,height:2e3,defaultUrl:yo("dam.jpg"),bgColor:"#1a1d21",gridColor:"#2a2e33"},spaceport:{id:"spaceport",name:"",width:2400,height:1600,defaultUrl:yo("spaceport.jpg"),bgColor:"#161b22",gridColor:"#1f2937"},buried:{id:"buried",name:"",width:2e3,height:2e3,defaultUrl:yo("buried.jpg"),bgColor:"#1f1a16",gridColor:"#332b25"},bluegate:{id:"bluegate",name:"",width:2400,height:1600,defaultUrl:yo("bluegate.jpg"),bgColor:"#1e293b",gridColor:"#334155"},stella:{id:"stella",name:"",width:2400,height:1600,bgColor:"#0f172a",gridColor:"#1e293b",layers:[{id:"upper",name:" ()",defaultUrl:yo("stella_upper.jpg")},{id:"lower",name:" ()",defaultUrl:yo("stella_lower.jpg")}]}},ma={containers:{label:"",color:"#f59e0b"},arc:{label:"",color:"#ef4444"},nature:{label:"",color:"#10b981"},events:{label:"",color:"#a855f7"},others:{label:"",color:"#3b82f6"}},yN={weapon_case:{id:"weapon_case",cat:"containers",label:"",icon:sm},med_bag:{id:"med_bag",cat:"containers",label:"",icon:sN},grenade_tube:{id:"grenade_tube",cat:"containers",label:"",icon:rh},ammo_crate:{id:"ammo_crate",cat:"containers",label:"",icon:zl},backpack:{id:"backpack",cat:"containers",label:"",icon:sm},security_lockbox:{id:"security_lockbox",cat:"containers",label:"",icon:Pv},baron_husk:{id:"baron_husk",cat:"containers",label:"",icon:nN},rocketeer_husk:{id:"rocketeer_husk",cat:"containers",label:"",icon:Y4},wasp_husk:{id:"wasp_husk",cat:"containers",label:"",icon:rh},arc_courier:{id:"arc_courier",cat:"containers",label:"ARC",icon:zl},crashed_probe:{id:"crashed_probe",cat:"containers",label:"",icon:zv},tick:{id:"tick",cat:"arc",label:"",icon:_4},pop:{id:"pop",cat:"arc",label:"",icon:rh},fireball:{id:"fireball",cat:"arc",label:"",icon:Bv},surveyor:{id:"surveyor",cat:"arc",label:"arc",icon:x4},sentinel:{id:"sentinel",cat:"arc",label:"",icon:Vm},rocketeer_arc:{id:"rocketeer_arc",cat:"arc",label:"",icon:rm},leaper:{id:"leaper",cat:"arc",label:"Leaper",icon:rm},bombardier:{id:"bombardier",cat:"arc",label:"",icon:rm},bastion:{id:"bastion",cat:"arc",label:"",icon:Vm},queen:{id:"queen",cat:"arc",label:"",icon:Lv},matriarch:{id:"matriarch",cat:"arc",label:"",icon:Lv},mushrooms:{id:"mushrooms",cat:"nature",label:"",icon:jv},great_mullein:{id:"great_mullein",cat:"nature",label:"",icon:Gc},agave:{id:"agave",cat:"nature",label:"",icon:Gc},apricot_tree:{id:"apricot_tree",cat:"nature",label:"",icon:Gc},prickly_pear:{id:"prickly_pear",cat:"nature",label:"",icon:Gc},moss:{id:"moss",cat:"nature",label:"",icon:jv},harvester:{id:"harvester",cat:"events",label:"",icon:Bv},raider_cache:{id:"raider_cache",cat:"events",label:"",icon:zl},wicker_basket:{id:"wicker_basket",cat:"events",label:"",icon:zl},elevator:{id:"elevator",cat:"others",label:"",icon:m4},hatch:{id:"hatch",cat:"others",label:"",icon:I4},supply_call:{id:"supply_call",cat:"others",label:"",icon:zv},raider_camp:{id:"raider_camp",cat:"others",label:"",icon:oN},field_depot:{id:"field_depot",cat:"others",label:"",icon:sm},player_spawn:{id:"player_spawn",cat:"others",label:"",icon:fN},quest:{id:"quest",cat:"others",label:"",icon:No},locked_room:{id:"locked_room",cat:"others",label:"",icon:Pv},field_crate:{id:"field_crate",cat:"others",label:"",icon:zl},custom_pin:{id:"custom_pin",cat:"others",label:"",icon:No}},qv={id:"unknown",cat:"others",label:"",icon:rh},_a={weapon_case:"/icon/weapon_case.svg",med_bag:"/icon/med_bag.svg",grenade_tube:"/icon/grenade_tube.svg",ammo_crate:"/icon/ammo_crate.svg",backpack:"/icon/backpack.svg",security_lockbox:"/icon/security_locker.svg",baron_husk:"/icon/baron_husk.svg",rocketeer_husk:"/icon/rocketeer_husk.svg",wasp_husk:"/icon/wasp_husk.svg",arc_courier:"/icon/arc_courier.svg",crashed_probe:"/icon/crashed_probe.svg",tick:"/icon/tick.svg",pop:"/icon/pop.svg",fireball:"/icon/fireball.svg",surveyor:"/icon/surveyor.svg",sentinel:"/icon/sentinel.svg",rocketeer_arc:"/icon/rocketeer.svg",leaper:"/icon/leaper.svg",bombardier:"/icon/bombardier.svg",bastion:"/icon/bastion.svg",queen:"/icon/queen.svg",matriarch:"/icon/apricot_tree.svg",mushrooms:"/icon/mushrooms.svg",great_mullein:"/icon/great_mullein.svg",agave:"/icon/agave.svg",apricot_tree:"/icon/apricot_tree.svg",prickly_pear:"/icon/prickly_pear.svg",moss:"/icon/moss.svg",harvester:"/icon/harvester.svg",raider_cache:"/icon/raider_cache.svg",wicker_basket:"/icon/wicker_basket.svg",elevator:"/icon/elevator.svg",hatch:"/icon/hatch.svg",supply_call:"/icon/supply_call_station.svg",raider_camp:"/icon/raider_camp.svg",field_depot:"/icon/field_depot.svg",player_spawn:"/icon/player_spawn.svg",quest:"/icon/quest.svg",locked_room:"/icon/locked_room.svg",field_crate:"/icon/field_crate.svg",custom_pin:"/icon/field_crate.svg"},_N="./";Object.keys(_a).forEach(s=>{const t=_a[s];if(typeof t=="string"&&t.startsWith("/")){const i=t.replace(/^\//,"");_a[s]=`${_N}${i}`}});const vN=new Set(Object.values(_a)),jl=(s,t="")=>`data:image/svg+xml;utf8,${encodeURIComponent(`<svg xmlns="http://www.w3.org/2000/svg" width="64" height="64" viewBox="0 0 64 64"><rect width="64" height="64" rx="12" fill="${s}"/><text x="50%" y="54%" text-anchor="middle" font-size="28" fill="#0f172a" font-family="Arial, sans-serif" font-weight="700">${t}</text></svg>`)}`,EN=[{id:"preset-orange",label:"",dataUrl:jl("#fb923c","P")},{id:"preset-blue",label:"",dataUrl:jl("#60a5fa","P")},{id:"preset-green",label:"",dataUrl:jl("#34d399","P")},{id:"preset-purple",label:"",dataUrl:jl("#c084fc","P")},{id:"preset-gray",label:"",dataUrl:jl("#9ca3af","P")}],Hv=()=>Math.random().toString(36).substring(2,8).toUpperCase(),wh=(s,t=600)=>new Promise((i,a)=>{const l=new FileReader;l.readAsDataURL(s),l.onload=c=>{const d=new Image;d.src=c.target.result,d.onload=()=>{const p=document.createElement("canvas"),y=t/d.width;p.width=t,p.height=d.height*y,p.getContext("2d").drawImage(d,0,0,p.width,p.height),i(p.toDataURL("image/jpeg",.7))},d.onerror=a},l.onerror=a}),TN=({config:s,onUpload:t})=>L.jsx("div",{className:"w-full h-full absolute top-0 left-0 flex flex-col items-center justify-center",style:{backgroundColor:s.bgColor,backgroundImage:`
        linear-gradient(${s.gridColor} 1px, transparent 1px),
        linear-gradient(90deg, ${s.gridColor} 1px, transparent 1px)
      `,backgroundSize:"100px 100px"},children:L.jsxs("div",{className:"text-center p-6 bg-black/50 backdrop-blur rounded-xl border border-gray-700",children:[L.jsx(hT,{size:48,className:"mx-auto text-gray-500 mb-4"}),L.jsx("p",{className:"text-gray-300 font-bold mb-2",children:"NO MAP IMAGE"}),L.jsx("p",{className:"text-gray-500 text-sm mb-4 max-w-xs",children:""}),L.jsxs("button",{onClick:t,className:"bg-orange-600 hover:bg-orange-500 text-white px-4 py-2 rounded flex items-center gap-2 mx-auto transition-colors",children:[L.jsx(Sh,{size:16}),""]})]})}),bN=({pin:s,markerDef:t,onClose:i,onUpdateImage:a,onUpdateIcon:l,onDelete:c,onMark:d})=>{const p=at.useRef(null),y=at.useRef(null),_=ma[t.cat]||ma.others,b=async O=>{const Q=O.target.files[0];if(Q)try{const tt=await wh(Q);a(s.id,tt)}catch(tt){console.error("Image upload failed",tt),alert("")}},A=async O=>{const Q=O.target.files[0];if(!(!Q||!l))try{const tt=await wh(Q,128);l(s.id,tt)}catch(tt){console.error("Icon upload failed",tt),alert("")}};return L.jsxs("div",{className:"absolute z-[100] bg-gray-900 text-white rounded-lg shadow-2xl border border-gray-700 w-72 overflow-hidden",style:{top:"50%",left:"50%",transform:"translate(-50%, -50%)"},onClick:O=>O.stopPropagation(),children:[L.jsxs("div",{className:"relative h-40 bg-gray-800 flex items-center justify-center overflow-hidden group",children:[s.imageUrl?L.jsx("img",{src:s.imageUrl,alt:"Pin Attachment",className:"w-full h-full object-cover"}):L.jsxs("div",{className:"flex flex-col items-center text-gray-500",children:[L.jsx(Om,{size:32,className:"mb-2 opacity-50"}),L.jsx("span",{className:"text-xs",children:"No Image"})]}),L.jsx("div",{className:"absolute inset-0 bg-black/60 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center cursor-pointer",onClick:()=>p.current?.click(),children:L.jsxs("div",{className:"text-center",children:[L.jsx(Sh,{className:"mx-auto mb-1 text-white",size:24}),L.jsx("span",{className:"text-xs font-bold text-white",children:"/"})]})}),L.jsx("input",{type:"file",ref:p,className:"hidden",accept:"image/*",onChange:b}),L.jsx("input",{type:"file",ref:y,className:"hidden",accept:"image/*",onChange:A})]}),L.jsxs("div",{className:"p-4",children:[L.jsxs("div",{className:"flex justify-between items-start mb-2",children:[L.jsxs("div",{children:[L.jsxs("div",{className:"flex items-center gap-2 text-orange-400 text-xs font-bold uppercase mb-0.5",children:[L.jsx(t.icon,{size:12,color:_.color}),_.label]}),L.jsx("h3",{className:"text-lg font-bold leading-tight",children:t.label})]}),L.jsx("button",{onClick:i,className:"text-gray-400 hover:text-white",children:L.jsx(km,{size:20})})]}),L.jsxs("div",{className:"text-xs text-gray-500 mb-4",children:[": ",L.jsx("span",{className:"text-gray-300 font-semibold",children:s.createdByName||""})," ",L.jsxs("span",{className:"ml-2 text-gray-600",children:["ID: ",s.id.slice(0,6),""]})]}),L.jsxs("div",{className:"flex gap-2 mb-2",children:[L.jsxs("button",{onClick:()=>y.current?.click(),className:"flex-1 bg-gray-700 hover:bg-gray-600 text-white text-xs font-bold py-2 rounded transition-colors flex items-center justify-center gap-2",children:[L.jsx(Om,{size:14}),""]}),L.jsxs("button",{onClick:()=>p.current?.click(),className:"flex-1 bg-gray-700 hover:bg-gray-600 text-white text-xs font-bold py-2 rounded transition-colors flex items-center justify-center gap-2",children:[L.jsx(Sh,{size:14}),""]})]}),L.jsxs("div",{className:"flex gap-2",children:[L.jsxs("button",{onClick:()=>d?.(s.id),className:"flex-1 bg-gray-700 hover:bg-gray-600 text-white text-xs font-bold py-2 rounded transition-colors flex items-center justify-center gap-2",children:[L.jsx(No,{size:14}),""]}),L.jsx("button",{onClick:()=>c(s.id),className:"bg-red-900/50 hover:bg-red-900 text-red-200 p-2 rounded transition-colors",title:"",children:L.jsx(uN,{size:16})})]})]})]})};function AN(){const[s,t]=at.useState(null),[i,a]=at.useState(null),[l,c]=at.useState("dam"),[d,p]=at.useState(null),[y,_]=at.useState({}),[b,A]=at.useState([]),[O,Q]=at.useState([]),[tt,nt]=at.useState(null),[et,yt]=at.useState([]),[St,_t]=at.useState({}),[Mt,Kt]=at.useState({}),[xt,C]=at.useState([]),[S,I]=at.useState(null),[V,D]=at.useState(!1),[U,w]=at.useState(null),[ne,Ee]=at.useState(""),[G,rt]=at.useState(null),[mt,kt]=at.useState([]),[qt,M]=at.useState(""),[X,st]=at.useState(!1),[lt,Tt]=at.useState([]),[It,Ht]=at.useState(""),[Oe,fe]=at.useState(""),[Sr,Ns]=at.useState("#7dd3fc"),[Ds,xs]=at.useState(""),[Ve,In]=at.useState("move"),[Re,Hi]=at.useState({x:0,y:0,scale:.4}),[wr,Te]=at.useState(1),[Ie,Qn]=at.useState(!1),[Ms,Os]=at.useState(!1),[Ye,Fi]=at.useState({x:0,y:0}),[Vs,Rr]=at.useState(!1),[fn,Ra]=at.useState(""),[bi,Ir]=at.useState(i?"shared":"local"),[ks,dn]=at.useState(i||""),Wt=bi==="shared"&&i?"shared":"local",ke=Wt==="shared"?b:O,oe=(N,F=Wt)=>{F==="shared"?A(W=>typeof N=="function"?N(W):N):Q(W=>typeof N=="function"?N(W):N)},ui=at.useMemo(()=>Yc&&!!i,[i]),[Gi,Ia]=at.useState({containers:!0,arc:!0,others:!0,nature:!0,events:!0}),[Cn,Qi]=at.useState("");Mt.custom_pin,at.useMemo(()=>{const N={...ma};return lt.forEach(F=>{N[F.id]={label:F.label,color:F.color||"#6b7280"}}),N},[lt]);const Jt=at.useMemo(()=>{const N={...yN};return xt.forEach(F=>{N[F.id]={...F,icon:No}}),N},[xt]),Nn=[...mt,...EN],Dn=N=>St[N]!==!1,xn=at.useMemo(()=>{const N={};return ke.forEach(F=>{F.mapId!==l||fa[l].layers&&F.layerId!==d||(N[F.type]=(N[F.type]||0)+1)}),N},[ke,l,d]),Ca=at.useRef(null),Us=at.useRef(null),Mn=at.useRef(null),Ai=at.useRef(null),Na=at.useRef(null);at.useEffect(()=>{const N=localStorage.getItem("tactical_display_name");N&&Ra(N)},[]),at.useEffect(()=>{!qt&&Object.keys(Jt).length>0&&M(Object.keys(Jt)[0])},[Jt,qt]),at.useEffect(()=>{fn&&localStorage.setItem("tactical_display_name",fn)},[fn]),at.useEffect(()=>{const N=localStorage.getItem("tactical_custom_markers");if(N)try{const F=JSON.parse(N);Array.isArray(F)&&C(F)}catch(F){console.warn("Failed to parse stored custom markers",F)}},[]),at.useEffect(()=>{localStorage.setItem("tactical_custom_markers",JSON.stringify(xt||[]))},[xt]),at.useEffect(()=>{if(!et.length)return;const N=new Set(ke.map(F=>F.id));yt(F=>F.filter(W=>N.has(W)))},[ke,et]),at.useEffect(()=>{const N=localStorage.getItem("tactical_user_icon_library");if(N)try{const F=JSON.parse(N);Array.isArray(F)&&kt(F)}catch(F){console.warn("Failed to parse stored icon library",F)}},[]),at.useEffect(()=>{localStorage.setItem("tactical_user_icon_library",JSON.stringify(mt||[]))},[mt]),at.useEffect(()=>{const N=localStorage.getItem("tactical_marker_icons");if(N)try{const F=JSON.parse(N);if(F&&typeof F=="object"){const W={..._a};Object.entries(F).forEach(([dt,ot])=>{if(!ot)return;const ue=typeof ot=="string"&&ot.startsWith("data:"),_e=typeof ot=="string"&&ot.startsWith("http"),$e=typeof ot=="string"&&vN.has(ot);ot.startsWith("/icon/")&&!$e||(ue||_e||$e)&&(W[dt]=ot)}),Kt(W);return}}catch(F){console.warn("Failed to parse stored marker icons",F)}Kt(_a)},[]),at.useEffect(()=>{localStorage.setItem("tactical_marker_icons",JSON.stringify(Mt||{}))},[Mt]),at.useEffect(()=>{if((async()=>{if(!Yc){t({uid:"local-demo"});return}try{typeof __initial_auth_token<"u"&&__initial_auth_token?await w2(Ao,__initial_auth_token):await E2(Ao)}catch(W){console.error("Auth error:",W)}})(),!Yc)return;const F=C2(Ao,t);return()=>F()},[]),at.useEffect(()=>{const F=new URLSearchParams(window.location.search).get("room");a(F||null),Ir(F?"shared":"local"),dn(F||"");const W=localStorage.getItem("tactical_local_pins");if(W)try{const dt=JSON.parse(W);Array.isArray(dt)&&Q(dt)}catch(dt){console.warn("Failed to parse local pins",dt)}},[]),at.useEffect(()=>{const N=fa[l];N.layers&&N.layers.length>0?p(N.layers[0].id):p(null),mn()},[l]),at.useEffect(()=>{localStorage.setItem("tactical_local_pins",JSON.stringify(O||[]))},[O]),at.useEffect(()=>{if(!ui||Wt!=="shared"||!Ao||!dr||!s)return;const N=`${i}_pins`,F=WC(Nv(dr,"artifacts",po,"public","data",N)),W=s4(F,dt=>{const ot=dt.docs.map(ue=>({id:ue.id,...ue.data()}));A(ot)},dt=>console.error(dt));return()=>W()},[s,i]);const Yi=N=>{const F=N.target.files[0];if(!F)return;const W=URL.createObjectURL(F),dt=d?`${l}_${d}`:l;_(ot=>({...ot,[dt]:W}))},Cr=()=>Mn.current?.click(),Ls=async N=>{const F=N.target.files?.[0];if(!(!F||!S))try{const W=await wh(F,128);Kt(dt=>({...dt,[S]:W})),On(W)}catch(W){console.error("Icon upload failed",W),alert("Icon image could not be loaded.")}finally{N.target.value="",I(null)}},Ki=(N="custom_pin")=>{I(N),Ai.current?.click()},On=N=>{N&&kt(F=>{if(F.some(dt=>dt.dataUrl===N))return F;const W=`user_${F.length+1}_${Date.now().toString(36)}`;return[...F,{id:W,label:"My Icon",dataUrl:N}]})},Da=async N=>{const F=_a[N];if(F){if(st(!0),Kt(W=>({...W,[N]:F})),oe(W=>W.map(dt=>dt.type===N?{...dt,iconUrl:F}:dt)),ui&&i){const W=`${i}_pins`,dt=ke.filter(ot=>ot.type===N);await Promise.allSettled(dt.map(ot=>im(Fl(dr,"artifacts",po,"public","data",W,ot.id),{iconUrl:F})))}st(!1)}},Vn=N=>{w(N),Ee(""),rt(Mt.custom_pin||Nn[0]?.dataUrl||null),D(!0)},kn=async N=>{const F=N.target.files?.[0];if(F)try{const W=await wh(F,128);rt(W),On(W)}catch(W){console.error("Marker icon upload failed",W),alert("")}finally{N.target.value=""}},be=()=>{if(!ne.trim()||!U){alert("");return}const N=`custom_${Date.now().toString(36)}`,F={id:N,label:ne.trim(),cat:U};C(W=>[...W,F]),G&&Kt(W=>({...W,[N]:G})),In(N),D(!1)},Ce=(N,F)=>{const W=Math.min(Math.max(.2,N),5),dt=F?.x??window.innerWidth/2,ot=F?.y??window.innerHeight/2,ue=(dt-Re.x)/Re.scale,_e=(ot-Re.y)/Re.scale,$e=dt-ue*W,ce=ot-_e*W;Hi({x:$e,y:ce,scale:W})},Un=N=>{N.preventDefault(),N.stopPropagation(),(N.ctrlKey||N.metaKey)&&N.preventDefault();const W=Re.scale-N.deltaY*.001;Ce(W,{x:N.clientX,y:N.clientY})};at.useEffect(()=>{const N=Us.current;if(N)return N.addEventListener("wheel",Un,{passive:!1}),()=>N.removeEventListener("wheel",Un)});const Nr=N=>{(N.button===1||Ve==="move")&&(Os(!0),Fi({x:N.clientX-Re.x,y:N.clientY-Re.y}))},Qo=N=>{Ms&&Hi(F=>({...F,x:N.clientX-Ye.x,y:N.clientY-Ye.y}))},Ps=()=>Os(!1),xa=async N=>{if(Ms||Wt==="shared"&&!s)return;if(tt){nt(null);return}if(Ve==="move")return;const F=Ca.current.getBoundingClientRect(),W=(N.clientX-F.left)/Re.scale,dt=(N.clientY-F.top)/Re.scale,ot=fa[l];if(!(W<0||dt<0||W>ot.width||dt>ot.height)){if(!ui||Wt==="local"){const ue=`local-${Date.now()}-${Math.random().toString(36).slice(2,8)}`;oe(_e=>[..._e,{id:ue,mapId:l,layerId:d,x:W,y:dt,type:Ve,iconUrl:Mt[Ve]||void 0,createdAt:new Date,createdBy:s?.uid||"local",createdByName:fn||""}]),nt(ue),In("move");return}if(i)try{const ue=`${i}_pins`,_e=await r4(Nv(dr,"artifacts",po,"public","data",ue),{mapId:l,layerId:d,x:W,y:dt,type:Ve,iconUrl:Mt[Ve]||void 0,createdAt:o4(),createdBy:s.uid,createdByName:fn||""});nt(_e.id),In("move")}catch(ue){console.error("Error adding pin:",ue)}}},Yn=(N,F)=>{N.stopPropagation(),nt(W=>W===F?null:F)},Dr=async N=>{if(!s&&Wt==="shared")return;if(!ui||Wt==="local"){oe(W=>W.filter(dt=>dt.id!==N)),tt===N&&nt(null),yt(W=>W.filter(dt=>dt!==N));return}const F=`${i}_pins`;try{await i4(Fl(dr,"artifacts",po,"public","data",F,N)),tt===N&&nt(null),yt(W=>W.filter(dt=>dt!==N))}catch(W){console.error(W)}},Kn=async(N,F)=>{if(!s&&Wt==="shared")return;if(!ui||Wt==="local"){oe(dt=>dt.map(ot=>ot.id===N?{...ot,imageUrl:F}:ot));return}if(!i)return;const W=`${i}_pins`;try{await im(Fl(dr,"artifacts",po,"public","data",W,N),{imageUrl:F})}catch(dt){console.error(dt)}},_n=async(N,F)=>{if(!s&&Wt==="shared")return;if(On(F),!ui||Wt==="local"){oe(dt=>dt.map(ot=>ot.id===N?{...ot,iconUrl:F}:ot));return}if(!i)return;const W=`${i}_pins`;try{await im(Fl(dr,"artifacts",po,"public","data",W,N),{iconUrl:F})}catch(dt){console.error(dt)}},mn=()=>{const N=window.innerWidth,F=window.innerHeight,W=fa[l];Hi({x:N/2-W.width*.4/2,y:F/2-W.height*.4/2,scale:.4})},Xn=ke.filter(N=>!(N.mapId!==l||fa[l].layers&&N.layerId!==d||!Dn(N.type))),Ae=N=>{Ia(F=>({...F,[N]:!F[N]}))},zs=()=>{const N={};Object.keys(Jt).forEach(F=>{N[F]=!0}),_t(N)},js=()=>{const N={};Object.keys(Jt).forEach(F=>{N[F]=!1}),_t(N)},Ue=fa[l];let Ln=Ue.defaultUrl,xr=l;if(Ue.layers&&d){const N=Ue.layers.find(F=>F.id===d);N&&(Ln=N.defaultUrl),xr=`${l}_${d}`}const Mr=y[xr]||Ln,[Bs,qs]=at.useState(!1);at.useEffect(()=>qs(!1),[l,d,y]);const ci=N=>{a(N),Ir(N?"shared":"local"),dn(N||""),nt(null),N||A([]);const F=new URLSearchParams(window.location.search);N?F.set("room",N):F.delete("room");const W=`${window.location.pathname}${F.toString()?`?${F.toString()}`:""}`;window.history.replaceState({},"",W)},gn=()=>{const N=i||Hv();i||ci(N);const F=`${window.location.origin}${window.location.pathname}?room=${N}`;navigator.clipboard.writeText(F).then(()=>{Rr(!0),setTimeout(()=>Rr(!1),2e3)}).catch(()=>alert("Room ID: "+N))};return L.jsxs("div",{className:"flex flex-col h-screen bg-black text-gray-200 overflow-hidden font-sans relative",children:[!Yc&&L.jsx("div",{className:"absolute top-2 right-2 z-50 bg-orange-500 text-black text-xs font-bold px-3 py-1 rounded shadow",children:"Firebase disabled (local demo mode)"}),L.jsx("input",{type:"file",ref:Mn,className:"hidden",accept:"image/*",onChange:Yi}),L.jsx("input",{type:"file",ref:Ai,className:"hidden",accept:"image/*",onChange:Ls}),L.jsx("input",{type:"file",ref:Na,className:"hidden",accept:"image/*",onChange:kn}),L.jsxs("header",{className:"h-12 bg-gray-900 border-b border-gray-800 flex items-center justify-between px-4 z-30 shadow-lg shrink-0 gap-4",children:[L.jsxs("div",{className:"flex items-center gap-2 min-w-fit",children:[L.jsx(Vm,{className:"text-orange-500 w-5 h-5"}),L.jsx("h1",{className:"font-bold text-base tracking-wider text-gray-100",children:"TACTICAL"})]}),L.jsxs("div",{className:"flex items-center gap-3 flex-1 justify-center min-w-0",children:[L.jsx("div",{className:"flex items-center bg-gray-800 rounded p-0.5 gap-1 overflow-x-auto scrollbar-hide",children:Object.values(fa).map(N=>L.jsx("button",{onClick:()=>c(N.id),className:`px-3 py-1 text-xs font-bold rounded transition-colors uppercase whitespace-nowrap ${l===N.id?"bg-orange-600 text-white":"text-gray-400 hover:text-white hover:bg-gray-700"}`,children:N.name},N.id))}),L.jsxs("button",{onClick:()=>In("custom_pin"),className:`flex items-center gap-1 px-3 py-1 text-xs font-bold rounded border transition-all whitespace-nowrap ${Ve==="custom_pin"?"bg-orange-600 text-white border-orange-400":"bg-gray-800 text-gray-300 border-gray-700 hover:bg-gray-700"}`,children:[L.jsx(No,{size:14}),"Drop Pin"]})]}),L.jsxs("div",{className:"flex items-center gap-3 min-w-fit",children:[L.jsxs("div",{className:"flex items-center gap-2 bg-gray-800 rounded px-2 py-1 border border-gray-700",children:[L.jsx("span",{className:"text-xs text-gray-400",children:""}),L.jsx("input",{type:"text",value:fn,onChange:N=>Ra(N.target.value.slice(0,24)),placeholder:"",className:"bg-transparent text-sm text-white outline-none w-28"})]}),L.jsx("button",{onClick:gn,className:"bg-blue-600 hover:bg-blue-500 text-white px-3 py-1 rounded text-xs font-medium transition-all",children:""})]})]}),Ue.layers&&L.jsx("div",{className:"absolute top-14 left-1/2 -translate-x-1/2 z-30 flex gap-2 bg-black/80 backdrop-blur p-1 rounded-lg border border-gray-700",children:Ue.layers.map(N=>L.jsxs("button",{onClick:()=>p(N.id),className:`flex items-center gap-2 px-3 py-1 text-xs font-bold rounded transition-all ${d===N.id?"bg-orange-500 text-white":"text-gray-400 hover:bg-gray-700"}`,children:[L.jsx(P4,{size:14}),N.name]},N.id))}),L.jsxs("div",{className:"flex-1 relative flex overflow-hidden",children:[L.jsxs("div",{className:"w-64 bg-gray-900/95 backdrop-blur border-r border-gray-800 flex flex-col z-20 shadow-xl shrink-0 overflow-hidden",children:[L.jsxs("div",{className:"p-3 border-b border-gray-800 space-y-3",children:[L.jsxs("div",{className:"relative",children:[L.jsx(J4,{className:"absolute left-2 top-1.5 text-gray-500 w-4 h-4"}),L.jsx("input",{type:"text",placeholder:"...",value:Cn,onChange:N=>Qi(N.target.value),className:"w-full bg-black/40 border border-gray-700 rounded pl-8 pr-2 py-1 text-sm text-gray-300 focus:outline-none focus:border-orange-500"})]}),L.jsx("div",{className:"flex gap-2",children:L.jsxs("div",{className:"flex-1 flex items-center gap-2",children:[L.jsxs("select",{value:bi,onChange:N=>{const F=N.target.value;Ir(F),F==="local"&&ci(null)},className:"w-24 bg-gray-800 border border-gray-700 text-gray-200 text-xs rounded px-2 py-1",children:[L.jsx("option",{value:"local",children:""}),L.jsx("option",{value:"shared",children:""})]}),L.jsx("input",{value:ks,onChange:N=>dn(N.target.value.toUpperCase()),placeholder:"ROOM ID",disabled:bi==="local",className:"flex-1 bg-gray-900 border border-gray-700 rounded px-2 py-1 text-xs text-gray-200 disabled:opacity-50"}),L.jsx("button",{onClick:()=>{if(bi==="local")return ci(null);const N=ks.trim()||Hv();ci(N)},className:"px-2 py-1 text-xs bg-gray-800 border border-gray-700 text-gray-200 rounded hover:bg-gray-700 disabled:opacity-50",disabled:bi==="local",children:"/"})]})}),L.jsxs("div",{className:"flex gap-2 mt-2",children:[L.jsxs("button",{onClick:()=>In("move"),className:`flex-1 py-1.5 rounded flex items-center justify-center gap-2 text-xs font-bold transition-colors border ${Ve==="move"?"bg-gray-700 text-white border-gray-500":"bg-gray-800 text-gray-400 border-gray-700 hover:bg-gray-700"}`,children:[L.jsx(B4,{size:14}),""]}),L.jsx("button",{onClick:Cr,className:"px-3 py-1.5 rounded bg-gray-800 text-gray-400 border border-gray-700 hover:text-white hover:border-gray-500",children:L.jsx(hT,{size:14})})]}),L.jsxs("div",{className:"flex gap-2",children:[L.jsx("button",{onClick:zs,className:"flex-1 py-1.5 rounded bg-gray-800 text-gray-300 border border-gray-700 hover:bg-gray-700 text-xs font-bold",children:""}),L.jsx("button",{onClick:js,className:"flex-1 py-1.5 rounded bg-gray-800 text-gray-300 border border-gray-700 hover:bg-gray-700 text-xs font-bold",children:""})]})]}),L.jsx("div",{className:"flex-1 overflow-y-auto p-2 space-y-1 scrollbar-thin scrollbar-thumb-gray-700",children:Object.entries(ma).map(([N,F])=>L.jsxs("div",{className:"rounded overflow-hidden",children:[L.jsxs("div",{className:"w-full flex items-center justify-between px-2 py-1.5 bg-gray-800/50 text-xs font-bold text-gray-300",children:[L.jsxs("button",{onClick:()=>Ae(N),className:"flex items-center gap-2 flex-1 text-left hover:text-white",children:[L.jsx("span",{children:F.label}),Gi[N]?L.jsx(T4,{size:14}):L.jsx(A4,{size:14})]}),L.jsx("button",{onClick:()=>Vn(N),className:"p-1 rounded hover:bg-gray-700 text-gray-300 hover:text-white",title:"",children:L.jsx(F4,{size:14})})]}),Gi[N]&&L.jsx("div",{className:"bg-black/20 p-1 space-y-0.5",children:Object.values(Jt).filter(W=>W.cat===N).filter(W=>W.label.includes(Cn)).map(W=>{const dt=W.icon,ot=Ve===W.id,ue=Mt[W.id],_e=xn[W.id]||0,$e=Dn(W.id);return L.jsxs("div",{role:"button",tabIndex:0,onClick:()=>In(W.id),onKeyDown:ce=>{(ce.key==="Enter"||ce.key===" ")&&(ce.preventDefault(),In(W.id))},className:`w-full flex items-center gap-3 px-2 py-1.5 rounded text-xs transition-all cursor-pointer ${ot?"bg-gray-700 text-white ring-1 ring-inset ring-gray-500":"text-gray-400 hover:bg-gray-800 hover:text-gray-200"}`,children:[ue?L.jsx("img",{src:ue,alt:`${W.label} icon`,className:"w-5 h-5 rounded-full object-cover border border-gray-600/60"}):L.jsx(dt,{size:16,color:F.color}),L.jsx("span",{className:"flex-1 text-left truncate",children:W.label}),L.jsx("span",{className:"text-[11px] text-gray-400",children:_e}),L.jsxs("div",{className:"flex items-center gap-1 ml-1",children:[L.jsx("button",{onClick:ce=>{ce.stopPropagation(),Ki(W.id)},className:"p-1 rounded bg-gray-800 hover:bg-gray-700 text-gray-300 border border-gray-700",title:"",children:L.jsx(Om,{size:12})}),L.jsx("button",{onClick:ce=>{ce.stopPropagation(),_t(Si=>({...Si,[W.id]:!$e}))},className:`p-1 rounded border ${$e?"bg-gray-800 text-gray-300 border-gray-700 hover:bg-gray-700":"bg-gray-900 text-gray-500 border-gray-800 hover:text-gray-300"}`,title:$e?"":"",children:L.jsx(N4,{size:12})})]})]},W.id)})})]},N))}),L.jsxs("div",{className:"p-2 border-t border-gray-800 text-[10px] text-gray-600 text-center",children:["Room: ",i||""]})]}),L.jsxs("div",{ref:Us,className:"flex-1 relative overflow-hidden bg-black cursor-crosshair",onMouseDown:Nr,onMouseMove:Qo,onMouseUp:Ps,onMouseLeave:Ps,children:[L.jsxs("div",{ref:Ca,className:"absolute origin-top-left will-change-transform",style:{transform:`translate(${Re.x}px, ${Re.y}px) scale(${Re.scale})`,width:Ue.width,height:Ue.height,transition:Ms?"none":"transform 0.1s ease-out"},onClick:xa,children:[!Bs&&Mr?L.jsx("img",{src:Mr,alt:Ue.name,className:"w-full h-full object-fill pointer-events-none select-none",draggable:!1,onError:()=>qs(!0)}):L.jsx(TN,{config:Ue,onUpload:Cr}),Xn.map(N=>{const F=Jt[N.type]||qv,W=ma[F.cat]||ma.others,dt=F.icon,ot=N.id===tt,ue=et.includes(N.id),_e=N.iconUrl||Mt[N.type],ce=Math.max(.3,wr),Si=tt&&!ot?.4:1,Ma=ot?50:10;return L.jsx("div",{className:"absolute -translate-x-1/2 -translate-y-1/2 cursor-pointer transition-all duration-200",style:{left:N.x,top:N.y,transform:`scale(${ce})`,opacity:Si,zIndex:Ma},onClick:Hs=>Yn(Hs,N.id),children:L.jsxs("div",{className:"relative flex flex-col items-center group",children:[L.jsxs("div",{className:`drop-shadow-md filter transition-all ${ot?"drop-shadow-[0_0_10px_rgba(255,255,255,0.8)]":""}`,children:[L.jsx("div",{className:"absolute inset-[-6px] rounded-full border-2 border-orange-500 opacity-80 pointer-events-none"}),ue&&L.jsx(V4,{size:16,color:"#f87171",fill:"#f87171",className:"absolute -top-2 -right-2 drop-shadow-md pointer-events-none"}),_e?L.jsx("img",{src:_e,alt:"Custom pin",className:"w-8 h-8 rounded-full border border-black/40 object-cover"}):L.jsx(dt,{size:24,fill:W.color,color:"#000000",strokeWidth:1.5,className:ot?"text-white":""})]}),!ot&&L.jsx("div",{className:"absolute top-full mt-1 opacity-0 group-hover:opacity-100 bg-black/80 text-white text-[10px] px-2 py-1 rounded whitespace-nowrap pointer-events-none border border-white/20 z-50",children:F.label})]})},N.id)})]}),tt&&(()=>{const N=ke.find(W=>W.id===tt);if(!N)return null;const F=Jt[N.type]||qv;return L.jsx(bN,{pin:N,markerDef:F,onClose:()=>nt(null),onUpdateImage:Kn,onUpdateIcon:_n,onMark:W=>{yt(dt=>dt.includes(W)?dt.filter(ot=>ot!==W):[...dt,W]),nt(W)},onDelete:Dr})})(),!1]})]}),L.jsxs("div",{className:"absolute bottom-4 right-4 flex items-end gap-3 z-10 pointer-events-none",children:[L.jsxs("div",{className:"flex items-center gap-3 bg-black/30 backdrop-blur-sm rounded-full px-4 py-2 border border-gray-700/50 shadow pointer-events-auto",children:[L.jsx(X4,{size:16,className:"text-gray-400"}),L.jsx("input",{type:"range",min:"0.5",max:"3",step:"0.1",value:wr,onChange:N=>Te(parseFloat(N.target.value)),className:"w-28 h-1 bg-gray-600 rounded-lg appearance-none cursor-pointer accent-blue-500"})]}),L.jsxs("div",{className:"flex flex-col items-center gap-3 pointer-events-auto",children:[L.jsx("div",{className:"relative h-40 w-12 flex items-center justify-center bg-black/30 backdrop-blur-sm rounded-full border border-gray-700/50 shadow",children:L.jsx("div",{className:"-rotate-90 w-28",children:L.jsx("input",{type:"range",min:"0.2",max:"5",step:"0.1",value:Re.scale,onChange:N=>Ce(parseFloat(N.target.value)),className:"w-full h-1 bg-gray-600 rounded-lg appearance-none cursor-pointer accent-orange-500"})})}),L.jsx("button",{onClick:()=>Qn(!0),className:"bg-gray-800 hover:bg-gray-700 text-gray-200 p-2 rounded-full shadow-lg border border-gray-700",title:"",children:L.jsx(W4,{size:18})})]})]}),Vs&&L.jsx("div",{className:"absolute top-20 left-1/2 -translate-x-1/2 bg-green-600 text-white px-4 py-2 rounded shadow-xl z-50 animate-bounce pointer-events-none",children:""}),Ie&&L.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/70 backdrop-blur-sm p-4",children:L.jsxs("div",{className:"bg-gray-900 rounded-xl border border-gray-700 w-full max-w-md p-5 space-y-4 shadow-2xl",children:[L.jsxs("div",{className:"flex items-center justify-between",children:[L.jsx("h3",{className:"text-lg font-bold text-white",children:""}),L.jsx("button",{onClick:()=>Qn(!1),className:"text-gray-400 hover:text-white",children:L.jsx(km,{size:18})})]}),L.jsxs("div",{className:"flex justify-end gap-2",children:[L.jsxs("div",{className:"flex-1 space-y-2 text-sm text-gray-300",children:[L.jsx("div",{className:"text-xs text-gray-400",children:""}),L.jsx("select",{value:qt,onChange:N=>M(N.target.value),className:"w-full bg-gray-800 border border-gray-700 rounded px-2 py-1 text-sm text-white",children:Object.values(Jt).map(N=>L.jsx("option",{value:N.id,children:N.label},N.id))})]}),L.jsxs("div",{className:"flex items-end gap-2",children:[L.jsx("button",{onClick:()=>Da(qt),disabled:!qt||X,className:"px-3 py-2 text-xs font-semibold rounded bg-gray-800 text-gray-200 border border-gray-700 hover:bg-gray-700 shadow disabled:opacity-50 disabled:cursor-not-allowed",children:""}),L.jsx("button",{onClick:()=>Qn(!1),className:"px-3 py-2 text-xs font-semibold rounded bg-orange-600 hover:bg-orange-500 text-white",children:""})]})]})]})}),V&&L.jsx("div",{className:"absolute inset-0 bg-black/60 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:L.jsxs("div",{className:"bg-gray-900 rounded-xl border border-gray-700 w-full max-w-md p-4 space-y-4 shadow-2xl",children:[L.jsxs("div",{className:"flex items-center justify-between",children:[L.jsx("h3",{className:"text-lg font-bold text-white",children:""}),L.jsx("button",{onClick:()=>D(!1),className:"text-gray-400 hover:text-white",children:L.jsx(km,{size:18})})]}),L.jsxs("div",{className:"text-xs text-gray-400",children:[": ",U&&ma[U]?.label]}),L.jsx("input",{value:ne,onChange:N=>Ee(N.target.value),placeholder:"",className:"w-full bg-gray-800 border border-gray-700 rounded px-3 py-2 text-sm text-white focus:border-orange-500 outline-none"}),L.jsxs("div",{children:[L.jsx("div",{className:"text-xs text-gray-400 mb-2",children:""}),L.jsx("div",{className:"grid grid-cols-5 gap-2 mb-3",children:Nn.map(N=>L.jsx("button",{onClick:()=>rt(N.dataUrl),className:`h-12 rounded-lg border ${G===N.dataUrl?"border-orange-500 ring-1 ring-orange-400":"border-gray-700"} bg-gray-800 flex items-center justify-center hover:border-gray-500`,children:L.jsx("img",{src:N.dataUrl,alt:N.label,className:"w-8 h-8 rounded"})},N.id))}),L.jsxs("div",{className:"flex items-center gap-3",children:[L.jsx("div",{className:"w-12 h-12 rounded-full border border-gray-700 bg-gray-800 flex items-center justify-center overflow-hidden",children:G?L.jsx("img",{src:G,alt:"",className:"w-full h-full object-cover"}):L.jsx(No,{size:20,className:"text-gray-500"})}),L.jsxs("button",{onClick:()=>Na.current?.click(),className:"px-3 py-2 text-xs font-semibold rounded border border-gray-700 bg-gray-800 text-gray-200 hover:bg-gray-700 flex items-center gap-2",children:[L.jsx(Sh,{size:14}),""]})]})]}),L.jsxs("div",{className:"flex justify-end gap-2 pt-2",children:[L.jsx("button",{onClick:()=>D(!1),className:"px-3 py-2 text-xs rounded border border-gray-700 text-gray-300 hover:bg-gray-800",children:""}),L.jsx("button",{onClick:be,className:"px-3 py-2 text-xs rounded bg-orange-600 hover:bg-orange-500 text-white font-bold",children:""})]})]})})]})}Wb.createRoot(document.getElementById("root")).render(L.jsx(Gb.StrictMode,{children:L.jsx(AN,{})}));
